(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))p(b);new MutationObserver(b=>{for(const g of b)if(g.type==="childList")for(const B of g.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&p(B)}).observe(document,{childList:!0,subtree:!0});function o(b){const g={};return b.integrity&&(g.integrity=b.integrity),b.referrerpolicy&&(g.referrerPolicy=b.referrerpolicy),b.crossorigin==="use-credentials"?g.credentials="include":b.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function p(b){if(b.ep)return;b.ep=!0;const g=o(b);fetch(b.href,g)}})();var Zo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Sp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Cp(n){var s=n.default;if(typeof s=="function"){var o=function(){return s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(p){var b=Object.getOwnPropertyDescriptor(n,p);Object.defineProperty(o,p,b.get?b:{enumerable:!0,get:function(){return n[p]}})}),o}var ur={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),bp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),Ep=Symbol.for("react.provider"),Tp=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),Lp=Symbol.for("react.memo"),Mp=Symbol.for("react.lazy"),oh=Symbol.iterator;function Op(n){return n===null||typeof n!="object"?null:(n=oh&&n[oh]||n["@@iterator"],typeof n=="function"?n:null)}var Sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cf=Object.assign,bf={};function Hr(n,s,o){this.props=n,this.context=s,this.refs=bf,this.updater=o||Sf}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(n,s){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,s,"setState")};Hr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function kf(){}kf.prototype=Hr.prototype;function Qo(n,s,o){this.props=n,this.context=s,this.refs=bf,this.updater=o||Sf}var Ko=Qo.prototype=new kf;Ko.constructor=Qo;Cf(Ko,Hr.prototype);Ko.isPureReactComponent=!0;var lh=Array.isArray,Pf=Object.prototype.hasOwnProperty,Yo={current:null},If={key:!0,ref:!0,__self:!0,__source:!0};function Ef(n,s,o){var p,b={},g=null,B=null;if(s!=null)for(p in s.ref!==void 0&&(B=s.ref),s.key!==void 0&&(g=""+s.key),s)Pf.call(s,p)&&!If.hasOwnProperty(p)&&(b[p]=s[p]);var Z=arguments.length-2;if(Z===1)b.children=o;else if(1<Z){for(var Q=Array(Z),ie=0;ie<Z;ie++)Q[ie]=arguments[ie+2];b.children=Q}if(n&&n.defaultProps)for(p in Z=n.defaultProps,Z)b[p]===void 0&&(b[p]=Z[p]);return{$$typeof:Rs,type:n,key:g,ref:B,props:b,_owner:Yo.current}}function zp(n,s){return{$$typeof:Rs,type:n.type,key:s,ref:n.ref,props:n.props,_owner:n._owner}}function Xo(n){return typeof n=="object"&&n!==null&&n.$$typeof===Rs}function Rp(n){var s={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return s[o]})}var hh=/\/+/g;function Iu(n,s){return typeof n=="object"&&n!==null&&n.key!=null?Rp(""+n.key):s.toString(36)}function pa(n,s,o,p,b){var g=typeof n;(g==="undefined"||g==="boolean")&&(n=null);var B=!1;if(n===null)B=!0;else switch(g){case"string":case"number":B=!0;break;case"object":switch(n.$$typeof){case Rs:case bp:B=!0}}if(B)return B=n,b=b(B),n=p===""?"."+Iu(B,0):p,lh(b)?(o="",n!=null&&(o=n.replace(hh,"$&/")+"/"),pa(b,s,o,"",function(ie){return ie})):b!=null&&(Xo(b)&&(b=zp(b,o+(!b.key||B&&B.key===b.key?"":(""+b.key).replace(hh,"$&/")+"/")+n)),s.push(b)),1;if(B=0,p=p===""?".":p+":",lh(n))for(var Z=0;Z<n.length;Z++){g=n[Z];var Q=p+Iu(g,Z);B+=pa(g,s,o,Q,b)}else if(Q=Op(n),typeof Q=="function")for(n=Q.call(n),Z=0;!(g=n.next()).done;)g=g.value,Q=p+Iu(g,Z++),B+=pa(g,s,o,Q,b);else if(g==="object")throw s=String(n),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return B}function Ys(n,s,o){if(n==null)return n;var p=[],b=0;return pa(n,p,"","",function(g){return s.call(o,g,b++)}),p}function Fp(n){if(n._status===-1){var s=n._result;s=s(),s.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=s)}if(n._status===1)return n._result.default;throw n._result}var gn={current:null},ga={transition:null},Bp={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:ga,ReactCurrentOwner:Yo};ct.Children={map:Ys,forEach:function(n,s,o){Ys(n,function(){s.apply(this,arguments)},o)},count:function(n){var s=0;return Ys(n,function(){s++}),s},toArray:function(n){return Ys(n,function(s){return s})||[]},only:function(n){if(!Xo(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ct.Component=Hr;ct.Fragment=kp;ct.Profiler=Ip;ct.PureComponent=Qo;ct.StrictMode=Pp;ct.Suspense=Np;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp;ct.cloneElement=function(n,s,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var p=Cf({},n.props),b=n.key,g=n.ref,B=n._owner;if(s!=null){if(s.ref!==void 0&&(g=s.ref,B=Yo.current),s.key!==void 0&&(b=""+s.key),n.type&&n.type.defaultProps)var Z=n.type.defaultProps;for(Q in s)Pf.call(s,Q)&&!If.hasOwnProperty(Q)&&(p[Q]=s[Q]===void 0&&Z!==void 0?Z[Q]:s[Q])}var Q=arguments.length-2;if(Q===1)p.children=o;else if(1<Q){Z=Array(Q);for(var ie=0;ie<Q;ie++)Z[ie]=arguments[ie+2];p.children=Z}return{$$typeof:Rs,type:n.type,key:b,ref:g,props:p,_owner:B}};ct.createContext=function(n){return n={$$typeof:Tp,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ep,_context:n},n.Consumer=n};ct.createElement=Ef;ct.createFactory=function(n){var s=Ef.bind(null,n);return s.type=n,s};ct.createRef=function(){return{current:null}};ct.forwardRef=function(n){return{$$typeof:Ap,render:n}};ct.isValidElement=Xo;ct.lazy=function(n){return{$$typeof:Mp,_payload:{_status:-1,_result:n},_init:Fp}};ct.memo=function(n,s){return{$$typeof:Lp,type:n,compare:s===void 0?null:s}};ct.startTransition=function(n){var s=ga.transition;ga.transition={};try{n()}finally{ga.transition=s}};ct.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ct.useCallback=function(n,s){return gn.current.useCallback(n,s)};ct.useContext=function(n){return gn.current.useContext(n)};ct.useDebugValue=function(){};ct.useDeferredValue=function(n){return gn.current.useDeferredValue(n)};ct.useEffect=function(n,s){return gn.current.useEffect(n,s)};ct.useId=function(){return gn.current.useId()};ct.useImperativeHandle=function(n,s,o){return gn.current.useImperativeHandle(n,s,o)};ct.useInsertionEffect=function(n,s){return gn.current.useInsertionEffect(n,s)};ct.useLayoutEffect=function(n,s){return gn.current.useLayoutEffect(n,s)};ct.useMemo=function(n,s){return gn.current.useMemo(n,s)};ct.useReducer=function(n,s,o){return gn.current.useReducer(n,s,o)};ct.useRef=function(n){return gn.current.useRef(n)};ct.useState=function(n){return gn.current.useState(n)};ct.useSyncExternalStore=function(n,s,o){return gn.current.useSyncExternalStore(n,s,o)};ct.useTransition=function(){return gn.current.useTransition()};ct.version="18.2.0";(function(n){n.exports=ct})(ur);const fh=n=>{let s;const o=new Set,p=(Q,ie)=>{const le=typeof Q=="function"?Q(s):Q;if(le!==s){const ne=s;s=(ie!=null?ie:typeof le!="object")?le:Object.assign({},s,le),o.forEach(fe=>fe(s,ne))}},b=()=>s,Z={setState:p,getState:b,subscribe:Q=>(o.add(Q),()=>o.delete(Q)),destroy:()=>o.clear()};return s=n(p,b,Z),Z},Dp=n=>n?fh(n):fh;var Tf={exports:{}},Af={},Nf={exports:{}},Lf={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=ur.exports;function Vp(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Up=typeof Object.is=="function"?Object.is:Vp,Hp=Or.useState,qp=Or.useEffect,jp=Or.useLayoutEffect,Wp=Or.useDebugValue;function Gp(n,s){var o=s(),p=Hp({inst:{value:o,getSnapshot:s}}),b=p[0].inst,g=p[1];return jp(function(){b.value=o,b.getSnapshot=s,Eu(b)&&g({inst:b})},[n,o,s]),qp(function(){return Eu(b)&&g({inst:b}),n(function(){Eu(b)&&g({inst:b})})},[n]),Wp(o),o}function Eu(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Up(n,o)}catch(p){return!0}}function Zp(n,s){return s()}var Qp=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?Zp:Gp;Lf.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:Qp;(function(n){n.exports=Lf})(Nf);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=ur.exports,Kp=Nf.exports;function Yp(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Xp=typeof Object.is=="function"?Object.is:Yp,Jp=Kp.useSyncExternalStore,$p=Ja.useRef,e0=Ja.useEffect,t0=Ja.useMemo,n0=Ja.useDebugValue;Af.useSyncExternalStoreWithSelector=function(n,s,o,p,b){var g=$p(null);if(g.current===null){var B={hasValue:!1,value:null};g.current=B}else B=g.current;g=t0(function(){function Q(z){if(!ie){if(ie=!0,le=z,z=p(z),b!==void 0&&B.hasValue){var me=B.value;if(b(me,z))return ne=me}return ne=z}if(me=ne,Xp(le,z))return me;var te=p(z);return b!==void 0&&b(me,te)?me:(le=z,ne=te)}var ie=!1,le,ne,fe=o===void 0?null:o;return[function(){return Q(s())},fe===null?void 0:function(){return Q(fe())}]},[s,o,p,b]);var Z=Jp(n,g[0],g[1]);return e0(function(){B.hasValue=!0,B.value=Z},[Z]),n0(Z),Z};(function(n){n.exports=Af})(Tf);const i0=Sp(Tf.exports),{useSyncExternalStoreWithSelector:r0}=i0;function s0(n,s=n.getState,o){const p=r0(n.subscribe,n.getState,n.getServerState||n.getState,s,o);return ur.exports.useDebugValue(p),p}const ch=n=>{const s=typeof n=="function"?Dp(n):n,o=(p,b)=>s0(s,p,b);return Object.assign(o,s),o},a0=n=>n?ch(n):ch;var u0=a0;const Mf=u0(n=>({isLoading:!1,selected:null,setLoading:s=>{n(()=>({isLoading:s}))},setSelected:s=>{n(()=>({selected:s}))}}));var Jo={exports:{}},$a={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=ur.exports,l0=Symbol.for("react.element"),h0=Symbol.for("react.fragment"),f0=Object.prototype.hasOwnProperty,c0=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d0={key:!0,ref:!0,__self:!0,__source:!0};function Of(n,s,o){var p,b={},g=null,B=null;o!==void 0&&(g=""+o),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(B=s.ref);for(p in s)f0.call(s,p)&&!d0.hasOwnProperty(p)&&(b[p]=s[p]);if(n&&n.defaultProps)for(p in s=n.defaultProps,s)b[p]===void 0&&(b[p]=s[p]);return{$$typeof:l0,type:n,key:g,ref:B,props:b,_owner:c0.current}}$a.Fragment=h0;$a.jsx=Of;$a.jsxs=Of;(function(n){n.exports=$a})(Jo);const Zt=Jo.exports.jsx,Xn=Jo.exports.jsxs;function p0(){var p;const n=Mf(),s=[];function o(b){let g=b,B=!0;for(;B;)["Text","Line","CenterLine","Shape","Ellipse","Circle"].includes(g.elementTagName)||(g.elementTagName&&s.push({type:"element",name:"element",value:g.elementTagName}),g.genericAttributes&&(s.push({type:"attribute-header",name:"Attributes",value:""}),Object.keys(g.attributes).forEach(Q=>{s.push({type:"attribute",name:Q,value:g.attributes[Q]})})),g.genericAttributes&&Object.keys(g.genericAttributes).forEach(Q=>{s.push({type:"genericAttributes",name:"GenericAttribute Set",value:Q}),Object.keys(g.genericAttributes[Q]).forEach(le=>{s.push({type:"genericAttribute",name:le,value:g.genericAttributes[Q][le]})})})),g.parent?g=g.parent:B=!1}return(p=n.selected)!=null&&p.elementTagName?(console.log(n.selected),o(n.selected),Xn("div",{className:"border-gray-600 detailView flex flex-col text-xs m-2 flex-1",children:[Zt("span",{className:"pl-1 border-b  border-b-gray-600 text-lg font-bold ",children:"Selected Element"}),Zt("div",{className:"flex flex-col overflow-auto scrollbar",style:{minHeight:0},children:s.map((b,g)=>{const B=g+":"+b.type+"-"+b.name+"-"+b.value;return b.type==="element"?Zt("span",{className:"border-b bg-gray-800 border-b-gray-700 flex pt-2 pb-1 sticky top-0",children:Zt("span",{className:"pl-1 font-semibold flex-1 text-sm",children:b.value})},B):b.type==="attribute-header"?Xn("span",{className:"border-b bg-gray-700 border-b-gray-400 flex pt-2 pb-1 sticky top-7 text-sm",children:[Zt("span",{className:"pl-3 font-semibold flex-1",children:b.name}),Zt("span",{className:"ml-2  ",children:b.value})]},B):b.type==="genericAttributes"?Zt("span",{className:"border-b bg-gray-700 border-b-gray-400 flex pt-2 pb-1 sticky top-7 text-sm",children:Xn("span",{className:"pl-3 font-semibold flex-1",children:[b.name," - ",b.value]})},B):Xn("span",{className:"pl-2 border-b border-b-gray-600 flex pr-2",children:[Xn("span",{className:"pl-4 font-semibold flex-1",children:[b.name,":"]}),Zt("span",{className:"ml-2 flex-1",children:b.value})]},B)})})]})):Xn("div",{className:"border-gray-600 detailView flex flex-col text-xs w-full m-2",children:[Zt("span",{className:"pl-1 border-b bg-gray-700 border-b-gray-600 text-lg font-bold",children:"Selected"}),"Nothing selected"]})}const g0={text:!1,trimmedCurve:!1,circle:!1,circleArc:!1,ellipse:!1,ellipseArc:!1,shape:!1,component:!1,line:!1,printIdMap:!1,highlightIds:!1};function Mi(){return g0}const _0={text:{red:0,green:0,blue:1,alpha:.5},trimmedCurve:{red:0,green:1,blue:0,alpha:.5},circle:{red:1,green:1,blue:0,alpha:.5},circleArc:{red:1,green:1,blue:0,alpha:.5},ellipse:{red:1,green:1,blue:0,alpha:.5},ellipseArc:{red:1,green:1,blue:0,alpha:.5},component:{red:.5,green:1,blue:1,alpha:.5},shape:{red:1,green:.5,blue:1,alpha:.5},line:{red:1,green:0,blue:0,alpha:.5}};function Oi(){return _0}const ls=new Map;function v0(){ls.clear()}function m0(n,s){ls.has(n)&&(console.warn("duplicate ID's in file",n),console.warn("prev",ls.get(n)),console.warn("new",s)),ls.set(n,s)}function y0(n){return ls.get(n)||null}class w0{constructor(s,o,p){this.element=s,this.attributeName=o,this.parent=p,this.value=s.getAttribute(o),this.valueAsString=this.value||"",this.valueAsNumber=parseFloat(this.value||""),p.attributes[o]=this.valueAsString,isNaN(this.valueAsNumber)&&(this.valueAsNumber=0)}}function zf(n){const s=[];return Object.keys(n).forEach(p=>{Array.isArray(n[p])&&n[p].forEach(b=>{b&&typeof b.draw=="function"&&s.push(b)})}),s}const Rf=new Map;function x0(n,s){Rf.set(n,s)}function S0(n){return Rf.get(n)||null}function C0(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ff={exports:{}};const b0={},k0=Object.freeze(Object.defineProperty({__proto__:null,default:b0},Symbol.toStringTag,{value:"Module"})),Pa=Cp(k0);var Xs={exports:{}},dh;function P0(){return dh||(dh=1,function(n,s){(function(o,p){p(s)})(Zo,function(o){var p=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],b=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],g="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",B="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Z={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Q="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",ie={5:Q,"5module":Q+" export import",6:Q+" const class extends export import super"},le=/^in(stanceof)?$/,ne=new RegExp("["+B+"]"),fe=new RegExp("["+B+g+"]");function z(c,A){for(var V=65536,j=0;j<A.length;j+=2){if(V+=A[j],V>c)return!1;if(V+=A[j+1],V>=c)return!0}}function me(c,A){return c<65?c===36:c<91?!0:c<97?c===95:c<123?!0:c<=65535?c>=170&&ne.test(String.fromCharCode(c)):A===!1?!1:z(c,b)}function te(c,A){return c<48?c===36:c<58?!0:c<65?!1:c<91?!0:c<97?c===95:c<123?!0:c<=65535?c>=170&&fe.test(String.fromCharCode(c)):A===!1?!1:z(c,b)||z(c,p)}var Ae=function(A,V){V===void 0&&(V={}),this.label=A,this.keyword=V.keyword,this.beforeExpr=!!V.beforeExpr,this.startsExpr=!!V.startsExpr,this.isLoop=!!V.isLoop,this.isAssign=!!V.isAssign,this.prefix=!!V.prefix,this.postfix=!!V.postfix,this.binop=V.binop||null,this.updateContext=null};function K(c,A){return new Ae(c,{beforeExpr:!0,binop:A})}var X={beforeExpr:!0},$={startsExpr:!0},de={};function xe(c,A){return A===void 0&&(A={}),A.keyword=c,de[c]=new Ae(c,A)}var R={num:new Ae("num",$),regexp:new Ae("regexp",$),string:new Ae("string",$),name:new Ae("name",$),privateId:new Ae("privateId",$),eof:new Ae("eof"),bracketL:new Ae("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ae("]"),braceL:new Ae("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ae("}"),parenL:new Ae("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ae(")"),comma:new Ae(",",X),semi:new Ae(";",X),colon:new Ae(":",X),dot:new Ae("."),question:new Ae("?",X),questionDot:new Ae("?."),arrow:new Ae("=>",X),template:new Ae("template"),invalidTemplate:new Ae("invalidTemplate"),ellipsis:new Ae("...",X),backQuote:new Ae("`",$),dollarBraceL:new Ae("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ae("=",{beforeExpr:!0,isAssign:!0}),assign:new Ae("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ae("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ae("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:K("||",1),logicalAND:K("&&",2),bitwiseOR:K("|",3),bitwiseXOR:K("^",4),bitwiseAND:K("&",5),equality:K("==/!=/===/!==",6),relational:K("</>/<=/>=",7),bitShift:K("<</>>/>>>",8),plusMin:new Ae("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:K("%",10),star:K("*",10),slash:K("/",10),starstar:new Ae("**",{beforeExpr:!0}),coalesce:K("??",1),_break:xe("break"),_case:xe("case",X),_catch:xe("catch"),_continue:xe("continue"),_debugger:xe("debugger"),_default:xe("default",X),_do:xe("do",{isLoop:!0,beforeExpr:!0}),_else:xe("else",X),_finally:xe("finally"),_for:xe("for",{isLoop:!0}),_function:xe("function",$),_if:xe("if"),_return:xe("return",X),_switch:xe("switch"),_throw:xe("throw",X),_try:xe("try"),_var:xe("var"),_const:xe("const"),_while:xe("while",{isLoop:!0}),_with:xe("with"),_new:xe("new",{beforeExpr:!0,startsExpr:!0}),_this:xe("this",$),_super:xe("super",$),_class:xe("class",$),_extends:xe("extends",X),_export:xe("export"),_import:xe("import",$),_null:xe("null",$),_true:xe("true",$),_false:xe("false",$),_in:xe("in",{beforeExpr:!0,binop:7}),_instanceof:xe("instanceof",{beforeExpr:!0,binop:7}),_typeof:xe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:xe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:xe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ke=/\r\n?|\n|\u2028|\u2029/,Oe=new RegExp(ke.source,"g");function Fe(c){return c===10||c===13||c===8232||c===8233}function De(c,A,V){V===void 0&&(V=c.length);for(var j=A;j<V;j++){var Y=c.charCodeAt(j);if(Fe(Y))return j<V-1&&Y===13&&c.charCodeAt(j+1)===10?j+2:j+1}return-1}var st=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,je=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,it=Object.prototype,be=it.hasOwnProperty,wt=it.toString,ae=Object.hasOwn||function(c,A){return be.call(c,A)},at=Array.isArray||function(c){return wt.call(c)==="[object Array]"};function Te(c){return new RegExp("^(?:"+c.replace(/ /g,"|")+")$")}function Ce(c){return c<=65535?String.fromCharCode(c):(c-=65536,String.fromCharCode((c>>10)+55296,(c&1023)+56320))}var Be=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,et=function(A,V){this.line=A,this.column=V};et.prototype.offset=function(A){return new et(this.line,this.column+A)};var ut=function(A,V,j){this.start=V,this.end=j,A.sourceFile!==null&&(this.source=A.sourceFile)};function Rt(c,A){for(var V=1,j=0;;){var Y=De(c,j,A);if(Y<0)return new et(V,A-j);++V,j=Y}}var Ft={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},We=!1;function Dt(c){var A={};for(var V in Ft)A[V]=c&&ae(c,V)?c[V]:Ft[V];if(A.ecmaVersion==="latest"?A.ecmaVersion=1e8:A.ecmaVersion==null?(!We&&typeof console=="object"&&console.warn&&(We=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),A.ecmaVersion=11):A.ecmaVersion>=2015&&(A.ecmaVersion-=2009),A.allowReserved==null&&(A.allowReserved=A.ecmaVersion<5),c.allowHashBang==null&&(A.allowHashBang=A.ecmaVersion>=14),at(A.onToken)){var j=A.onToken;A.onToken=function(Y){return j.push(Y)}}return at(A.onComment)&&(A.onComment=tn(A,A.onComment)),A}function tn(c,A){return function(V,j,Y,ce,pe,Ee){var ze={type:V?"Block":"Line",value:j,start:Y,end:ce};c.locations&&(ze.loc=new ut(this,pe,Ee)),c.ranges&&(ze.range=[Y,ce]),A.push(ze)}}var Sn=1,Ze=2,tt=4,Je=8,hr=16,Tn=32,Ui=64,di=128,ti=256,Hi=Sn|Ze|ti;function qi(c,A){return Ze|(c?tt:0)|(A?Je:0)}var pi=0,kt=1,pt=2,St=3,Ct=4,nt=5,r=function(A,V,j){this.options=A=Dt(A),this.sourceFile=A.sourceFile,this.keywords=Te(ie[A.ecmaVersion>=6?6:A.sourceType==="module"?"5module":5]);var Y="";A.allowReserved!==!0&&(Y=Z[A.ecmaVersion>=6?6:A.ecmaVersion===5?5:3],A.sourceType==="module"&&(Y+=" await")),this.reservedWords=Te(Y);var ce=(Y?Y+" ":"")+Z.strict;this.reservedWordsStrict=Te(ce),this.reservedWordsStrictBind=Te(ce+" "+Z.strictBind),this.input=String(V),this.containsEsc=!1,j?(this.pos=j,this.lineStart=this.input.lastIndexOf(`
`,j-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ke).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=R.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=A.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&A.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Sn),this.regexpState=null,this.privateNameStack=[]},e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};r.prototype.parse=function(){var A=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(A)},e.inFunction.get=function(){return(this.currentVarScope().flags&Ze)>0},e.inGenerator.get=function(){return(this.currentVarScope().flags&Je)>0&&!this.currentVarScope().inClassFieldInit},e.inAsync.get=function(){return(this.currentVarScope().flags&tt)>0&&!this.currentVarScope().inClassFieldInit},e.canAwait.get=function(){for(var c=this.scopeStack.length-1;c>=0;c--){var A=this.scopeStack[c];if(A.inClassFieldInit||A.flags&ti)return!1;if(A.flags&Ze)return(A.flags&tt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},e.allowSuper.get=function(){var c=this.currentThisScope(),A=c.flags,V=c.inClassFieldInit;return(A&Ui)>0||V||this.options.allowSuperOutsideMethod},e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&di)>0},e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},e.allowNewDotTarget.get=function(){var c=this.currentThisScope(),A=c.flags,V=c.inClassFieldInit;return(A&(Ze|ti))>0||V},e.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ti)>0},r.extend=function(){for(var A=[],V=arguments.length;V--;)A[V]=arguments[V];for(var j=this,Y=0;Y<A.length;Y++)j=A[Y](j);return j},r.parse=function(A,V){return new this(V,A).parse()},r.parseExpressionAt=function(A,V,j){var Y=new this(j,A,V);return Y.nextToken(),Y.parseExpression()},r.tokenizer=function(A,V){return new this(V,A)},Object.defineProperties(r.prototype,e);var t=r.prototype,i=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;t.strictDirective=function(c){if(this.options.ecmaVersion<5)return!1;for(;;){je.lastIndex=c,c+=je.exec(this.input)[0].length;var A=i.exec(this.input.slice(c));if(!A)return!1;if((A[1]||A[2])==="use strict"){je.lastIndex=c+A[0].length;var V=je.exec(this.input),j=V.index+V[0].length,Y=this.input.charAt(j);return Y===";"||Y==="}"||ke.test(V[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Y)||Y==="!"&&this.input.charAt(j+1)==="=")}c+=A[0].length,je.lastIndex=c,c+=je.exec(this.input)[0].length,this.input[c]===";"&&c++}},t.eat=function(c){return this.type===c?(this.next(),!0):!1},t.isContextual=function(c){return this.type===R.name&&this.value===c&&!this.containsEsc},t.eatContextual=function(c){return this.isContextual(c)?(this.next(),!0):!1},t.expectContextual=function(c){this.eatContextual(c)||this.unexpected()},t.canInsertSemicolon=function(){return this.type===R.eof||this.type===R.braceR||ke.test(this.input.slice(this.lastTokEnd,this.start))},t.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},t.semicolon=function(){!this.eat(R.semi)&&!this.insertSemicolon()&&this.unexpected()},t.afterTrailingComma=function(c,A){if(this.type===c)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),A||this.next(),!0},t.expect=function(c){this.eat(c)||this.unexpected()},t.unexpected=function(c){this.raise(c!=null?c:this.start,"Unexpected token")};var a=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};t.checkPatternErrors=function(c,A){if(!!c){c.trailingComma>-1&&this.raiseRecoverable(c.trailingComma,"Comma is not permitted after the rest element");var V=A?c.parenthesizedAssign:c.parenthesizedBind;V>-1&&this.raiseRecoverable(V,A?"Assigning to rvalue":"Parenthesized pattern")}},t.checkExpressionErrors=function(c,A){if(!c)return!1;var V=c.shorthandAssign,j=c.doubleProto;if(!A)return V>=0||j>=0;V>=0&&this.raise(V,"Shorthand property assignments are valid only in destructuring patterns"),j>=0&&this.raiseRecoverable(j,"Redefinition of __proto__ property")},t.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},t.isSimpleAssignTarget=function(c){return c.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(c.expression):c.type==="Identifier"||c.type==="MemberExpression"};var u=r.prototype;u.parseTopLevel=function(c){var A=Object.create(null);for(c.body||(c.body=[]);this.type!==R.eof;){var V=this.parseStatement(null,!0,A);c.body.push(V)}if(this.inModule)for(var j=0,Y=Object.keys(this.undefinedExports);j<Y.length;j+=1){var ce=Y[j];this.raiseRecoverable(this.undefinedExports[ce].start,"Export '"+ce+"' is not defined")}return this.adaptDirectivePrologue(c.body),this.next(),c.sourceType=this.options.sourceType,this.finishNode(c,"Program")};var l={kind:"loop"},h={kind:"switch"};u.isLet=function(c){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;je.lastIndex=this.pos;var A=je.exec(this.input),V=this.pos+A[0].length,j=this.input.charCodeAt(V);if(j===91||j===92||j>55295&&j<56320)return!0;if(c)return!1;if(j===123)return!0;if(me(j,!0)){for(var Y=V+1;te(j=this.input.charCodeAt(Y),!0);)++Y;if(j===92||j>55295&&j<56320)return!0;var ce=this.input.slice(V,Y);if(!le.test(ce))return!0}return!1},u.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;je.lastIndex=this.pos;var c=je.exec(this.input),A=this.pos+c[0].length,V;return!ke.test(this.input.slice(this.pos,A))&&this.input.slice(A,A+8)==="function"&&(A+8===this.input.length||!(te(V=this.input.charCodeAt(A+8))||V>55295&&V<56320))},u.parseStatement=function(c,A,V){var j=this.type,Y=this.startNode(),ce;switch(this.isLet(c)&&(j=R._var,ce="let"),j){case R._break:case R._continue:return this.parseBreakContinueStatement(Y,j.keyword);case R._debugger:return this.parseDebuggerStatement(Y);case R._do:return this.parseDoStatement(Y);case R._for:return this.parseForStatement(Y);case R._function:return c&&(this.strict||c!=="if"&&c!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Y,!1,!c);case R._class:return c&&this.unexpected(),this.parseClass(Y,!0);case R._if:return this.parseIfStatement(Y);case R._return:return this.parseReturnStatement(Y);case R._switch:return this.parseSwitchStatement(Y);case R._throw:return this.parseThrowStatement(Y);case R._try:return this.parseTryStatement(Y);case R._const:case R._var:return ce=ce||this.value,c&&ce!=="var"&&this.unexpected(),this.parseVarStatement(Y,ce);case R._while:return this.parseWhileStatement(Y);case R._with:return this.parseWithStatement(Y);case R.braceL:return this.parseBlock(!0,Y);case R.semi:return this.parseEmptyStatement(Y);case R._export:case R._import:if(this.options.ecmaVersion>10&&j===R._import){je.lastIndex=this.pos;var pe=je.exec(this.input),Ee=this.pos+pe[0].length,ze=this.input.charCodeAt(Ee);if(ze===40||ze===46)return this.parseExpressionStatement(Y,this.parseExpression())}return this.options.allowImportExportEverywhere||(A||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),j===R._import?this.parseImport(Y):this.parseExport(Y,V);default:if(this.isAsyncFunction())return c&&this.unexpected(),this.next(),this.parseFunctionStatement(Y,!0,!c);var qe=this.value,Ye=this.parseExpression();return j===R.name&&Ye.type==="Identifier"&&this.eat(R.colon)?this.parseLabeledStatement(Y,qe,Ye,c):this.parseExpressionStatement(Y,Ye)}},u.parseBreakContinueStatement=function(c,A){var V=A==="break";this.next(),this.eat(R.semi)||this.insertSemicolon()?c.label=null:this.type!==R.name?this.unexpected():(c.label=this.parseIdent(),this.semicolon());for(var j=0;j<this.labels.length;++j){var Y=this.labels[j];if((c.label==null||Y.name===c.label.name)&&(Y.kind!=null&&(V||Y.kind==="loop")||c.label&&V))break}return j===this.labels.length&&this.raise(c.start,"Unsyntactic "+A),this.finishNode(c,V?"BreakStatement":"ContinueStatement")},u.parseDebuggerStatement=function(c){return this.next(),this.semicolon(),this.finishNode(c,"DebuggerStatement")},u.parseDoStatement=function(c){return this.next(),this.labels.push(l),c.body=this.parseStatement("do"),this.labels.pop(),this.expect(R._while),c.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(R.semi):this.semicolon(),this.finishNode(c,"DoWhileStatement")},u.parseForStatement=function(c){this.next();var A=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(l),this.enterScope(0),this.expect(R.parenL),this.type===R.semi)return A>-1&&this.unexpected(A),this.parseFor(c,null);var V=this.isLet();if(this.type===R._var||this.type===R._const||V){var j=this.startNode(),Y=V?"let":this.value;return this.next(),this.parseVar(j,!0,Y),this.finishNode(j,"VariableDeclaration"),(this.type===R._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&j.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===R._in?A>-1&&this.unexpected(A):c.await=A>-1),this.parseForIn(c,j)):(A>-1&&this.unexpected(A),this.parseFor(c,j))}var ce=this.isContextual("let"),pe=!1,Ee=new a,ze=this.parseExpression(A>-1?"await":!0,Ee);return this.type===R._in||(pe=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===R._in?A>-1&&this.unexpected(A):c.await=A>-1),ce&&pe&&this.raise(ze.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(ze,!1,Ee),this.checkLValPattern(ze),this.parseForIn(c,ze)):(this.checkExpressionErrors(Ee,!0),A>-1&&this.unexpected(A),this.parseFor(c,ze))},u.parseFunctionStatement=function(c,A,V){return this.next(),this.parseFunction(c,d|(V?0:_),!1,A)},u.parseIfStatement=function(c){return this.next(),c.test=this.parseParenExpression(),c.consequent=this.parseStatement("if"),c.alternate=this.eat(R._else)?this.parseStatement("if"):null,this.finishNode(c,"IfStatement")},u.parseReturnStatement=function(c){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(R.semi)||this.insertSemicolon()?c.argument=null:(c.argument=this.parseExpression(),this.semicolon()),this.finishNode(c,"ReturnStatement")},u.parseSwitchStatement=function(c){this.next(),c.discriminant=this.parseParenExpression(),c.cases=[],this.expect(R.braceL),this.labels.push(h),this.enterScope(0);for(var A,V=!1;this.type!==R.braceR;)if(this.type===R._case||this.type===R._default){var j=this.type===R._case;A&&this.finishNode(A,"SwitchCase"),c.cases.push(A=this.startNode()),A.consequent=[],this.next(),j?A.test=this.parseExpression():(V&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),V=!0,A.test=null),this.expect(R.colon)}else A||this.unexpected(),A.consequent.push(this.parseStatement(null));return this.exitScope(),A&&this.finishNode(A,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(c,"SwitchStatement")},u.parseThrowStatement=function(c){return this.next(),ke.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),c.argument=this.parseExpression(),this.semicolon(),this.finishNode(c,"ThrowStatement")};var f=[];u.parseTryStatement=function(c){if(this.next(),c.block=this.parseBlock(),c.handler=null,this.type===R._catch){var A=this.startNode();if(this.next(),this.eat(R.parenL)){A.param=this.parseBindingAtom();var V=A.param.type==="Identifier";this.enterScope(V?Tn:0),this.checkLValPattern(A.param,V?Ct:pt),this.expect(R.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),A.param=null,this.enterScope(0);A.body=this.parseBlock(!1),this.exitScope(),c.handler=this.finishNode(A,"CatchClause")}return c.finalizer=this.eat(R._finally)?this.parseBlock():null,!c.handler&&!c.finalizer&&this.raise(c.start,"Missing catch or finally clause"),this.finishNode(c,"TryStatement")},u.parseVarStatement=function(c,A){return this.next(),this.parseVar(c,!1,A),this.semicolon(),this.finishNode(c,"VariableDeclaration")},u.parseWhileStatement=function(c){return this.next(),c.test=this.parseParenExpression(),this.labels.push(l),c.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(c,"WhileStatement")},u.parseWithStatement=function(c){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),c.object=this.parseParenExpression(),c.body=this.parseStatement("with"),this.finishNode(c,"WithStatement")},u.parseEmptyStatement=function(c){return this.next(),this.finishNode(c,"EmptyStatement")},u.parseLabeledStatement=function(c,A,V,j){for(var Y=0,ce=this.labels;Y<ce.length;Y+=1){var pe=ce[Y];pe.name===A&&this.raise(V.start,"Label '"+A+"' is already declared")}for(var Ee=this.type.isLoop?"loop":this.type===R._switch?"switch":null,ze=this.labels.length-1;ze>=0;ze--){var qe=this.labels[ze];if(qe.statementStart===c.start)qe.statementStart=this.start,qe.kind=Ee;else break}return this.labels.push({name:A,kind:Ee,statementStart:this.start}),c.body=this.parseStatement(j?j.indexOf("label")===-1?j+"label":j:"label"),this.labels.pop(),c.label=V,this.finishNode(c,"LabeledStatement")},u.parseExpressionStatement=function(c,A){return c.expression=A,this.semicolon(),this.finishNode(c,"ExpressionStatement")},u.parseBlock=function(c,A,V){for(c===void 0&&(c=!0),A===void 0&&(A=this.startNode()),A.body=[],this.expect(R.braceL),c&&this.enterScope(0);this.type!==R.braceR;){var j=this.parseStatement(null);A.body.push(j)}return V&&(this.strict=!1),this.next(),c&&this.exitScope(),this.finishNode(A,"BlockStatement")},u.parseFor=function(c,A){return c.init=A,this.expect(R.semi),c.test=this.type===R.semi?null:this.parseExpression(),this.expect(R.semi),c.update=this.type===R.parenR?null:this.parseExpression(),this.expect(R.parenR),c.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(c,"ForStatement")},u.parseForIn=function(c,A){var V=this.type===R._in;return this.next(),A.type==="VariableDeclaration"&&A.declarations[0].init!=null&&(!V||this.options.ecmaVersion<8||this.strict||A.kind!=="var"||A.declarations[0].id.type!=="Identifier")&&this.raise(A.start,(V?"for-in":"for-of")+" loop variable declaration may not have an initializer"),c.left=A,c.right=V?this.parseExpression():this.parseMaybeAssign(),this.expect(R.parenR),c.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(c,V?"ForInStatement":"ForOfStatement")},u.parseVar=function(c,A,V){for(c.declarations=[],c.kind=V;;){var j=this.startNode();if(this.parseVarId(j,V),this.eat(R.eq)?j.init=this.parseMaybeAssign(A):V==="const"&&!(this.type===R._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():j.id.type!=="Identifier"&&!(A&&(this.type===R._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):j.init=null,c.declarations.push(this.finishNode(j,"VariableDeclarator")),!this.eat(R.comma))break}return c},u.parseVarId=function(c,A){c.id=this.parseBindingAtom(),this.checkLValPattern(c.id,A==="var"?kt:pt,!1)};var d=1,_=2,y=4;u.parseFunction=function(c,A,V,j,Y){this.initFunction(c),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!j)&&(this.type===R.star&&A&_&&this.unexpected(),c.generator=this.eat(R.star)),this.options.ecmaVersion>=8&&(c.async=!!j),A&d&&(c.id=A&y&&this.type!==R.name?null:this.parseIdent(),c.id&&!(A&_)&&this.checkLValSimple(c.id,this.strict||c.generator||c.async?this.treatFunctionsAsVar?kt:pt:St));var ce=this.yieldPos,pe=this.awaitPos,Ee=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(qi(c.async,c.generator)),A&d||(c.id=this.type===R.name?this.parseIdent():null),this.parseFunctionParams(c),this.parseFunctionBody(c,V,!1,Y),this.yieldPos=ce,this.awaitPos=pe,this.awaitIdentPos=Ee,this.finishNode(c,A&d?"FunctionDeclaration":"FunctionExpression")},u.parseFunctionParams=function(c){this.expect(R.parenL),c.params=this.parseBindingList(R.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},u.parseClass=function(c,A){this.next();var V=this.strict;this.strict=!0,this.parseClassId(c,A),this.parseClassSuper(c);var j=this.enterClassBody(),Y=this.startNode(),ce=!1;for(Y.body=[],this.expect(R.braceL);this.type!==R.braceR;){var pe=this.parseClassElement(c.superClass!==null);pe&&(Y.body.push(pe),pe.type==="MethodDefinition"&&pe.kind==="constructor"?(ce&&this.raise(pe.start,"Duplicate constructor in the same class"),ce=!0):pe.key&&pe.key.type==="PrivateIdentifier"&&m(j,pe)&&this.raiseRecoverable(pe.key.start,"Identifier '#"+pe.key.name+"' has already been declared"))}return this.strict=V,this.next(),c.body=this.finishNode(Y,"ClassBody"),this.exitClassBody(),this.finishNode(c,A?"ClassDeclaration":"ClassExpression")},u.parseClassElement=function(c){if(this.eat(R.semi))return null;var A=this.options.ecmaVersion,V=this.startNode(),j="",Y=!1,ce=!1,pe="method",Ee=!1;if(this.eatContextual("static")){if(A>=13&&this.eat(R.braceL))return this.parseClassStaticBlock(V),V;this.isClassElementNameStart()||this.type===R.star?Ee=!0:j="static"}if(V.static=Ee,!j&&A>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===R.star)&&!this.canInsertSemicolon()?ce=!0:j="async"),!j&&(A>=9||!ce)&&this.eat(R.star)&&(Y=!0),!j&&!ce&&!Y){var ze=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?pe=ze:j=ze)}if(j?(V.computed=!1,V.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),V.key.name=j,this.finishNode(V.key,"Identifier")):this.parseClassElementName(V),A<13||this.type===R.parenL||pe!=="method"||Y||ce){var qe=!V.static&&v(V,"constructor"),Ye=qe&&c;qe&&pe!=="method"&&this.raise(V.key.start,"Constructor can't have get/set modifier"),V.kind=qe?"constructor":pe,this.parseClassMethod(V,Y,ce,Ye)}else this.parseClassField(V);return V},u.isClassElementNameStart=function(){return this.type===R.name||this.type===R.privateId||this.type===R.num||this.type===R.string||this.type===R.bracketL||this.type.keyword},u.parseClassElementName=function(c){this.type===R.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),c.computed=!1,c.key=this.parsePrivateIdent()):this.parsePropertyName(c)},u.parseClassMethod=function(c,A,V,j){var Y=c.key;c.kind==="constructor"?(A&&this.raise(Y.start,"Constructor can't be a generator"),V&&this.raise(Y.start,"Constructor can't be an async method")):c.static&&v(c,"prototype")&&this.raise(Y.start,"Classes may not have a static property named prototype");var ce=c.value=this.parseMethod(A,V,j);return c.kind==="get"&&ce.params.length!==0&&this.raiseRecoverable(ce.start,"getter should have no params"),c.kind==="set"&&ce.params.length!==1&&this.raiseRecoverable(ce.start,"setter should have exactly one param"),c.kind==="set"&&ce.params[0].type==="RestElement"&&this.raiseRecoverable(ce.params[0].start,"Setter cannot use rest params"),this.finishNode(c,"MethodDefinition")},u.parseClassField=function(c){if(v(c,"constructor")?this.raise(c.key.start,"Classes can't have a field named 'constructor'"):c.static&&v(c,"prototype")&&this.raise(c.key.start,"Classes can't have a static field named 'prototype'"),this.eat(R.eq)){var A=this.currentThisScope(),V=A.inClassFieldInit;A.inClassFieldInit=!0,c.value=this.parseMaybeAssign(),A.inClassFieldInit=V}else c.value=null;return this.semicolon(),this.finishNode(c,"PropertyDefinition")},u.parseClassStaticBlock=function(c){c.body=[];var A=this.labels;for(this.labels=[],this.enterScope(ti|Ui);this.type!==R.braceR;){var V=this.parseStatement(null);c.body.push(V)}return this.next(),this.exitScope(),this.labels=A,this.finishNode(c,"StaticBlock")},u.parseClassId=function(c,A){this.type===R.name?(c.id=this.parseIdent(),A&&this.checkLValSimple(c.id,pt,!1)):(A===!0&&this.unexpected(),c.id=null)},u.parseClassSuper=function(c){c.superClass=this.eat(R._extends)?this.parseExprSubscripts(!1):null},u.enterClassBody=function(){var c={declared:Object.create(null),used:[]};return this.privateNameStack.push(c),c.declared},u.exitClassBody=function(){for(var c=this.privateNameStack.pop(),A=c.declared,V=c.used,j=this.privateNameStack.length,Y=j===0?null:this.privateNameStack[j-1],ce=0;ce<V.length;++ce){var pe=V[ce];ae(A,pe.name)||(Y?Y.used.push(pe):this.raiseRecoverable(pe.start,"Private field '#"+pe.name+"' must be declared in an enclosing class"))}};function m(c,A){var V=A.key.name,j=c[V],Y="true";return A.type==="MethodDefinition"&&(A.kind==="get"||A.kind==="set")&&(Y=(A.static?"s":"i")+A.kind),j==="iget"&&Y==="iset"||j==="iset"&&Y==="iget"||j==="sget"&&Y==="sset"||j==="sset"&&Y==="sget"?(c[V]="true",!1):j?!0:(c[V]=Y,!1)}function v(c,A){var V=c.computed,j=c.key;return!V&&(j.type==="Identifier"&&j.name===A||j.type==="Literal"&&j.value===A)}u.parseExport=function(c,A){if(this.next(),this.eat(R.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(c.exported=this.parseModuleExportName(),this.checkExport(A,c.exported,this.lastTokStart)):c.exported=null),this.expectContextual("from"),this.type!==R.string&&this.unexpected(),c.source=this.parseExprAtom(),this.semicolon(),this.finishNode(c,"ExportAllDeclaration");if(this.eat(R._default)){this.checkExport(A,"default",this.lastTokStart);var V;if(this.type===R._function||(V=this.isAsyncFunction())){var j=this.startNode();this.next(),V&&this.next(),c.declaration=this.parseFunction(j,d|y,!1,V)}else if(this.type===R._class){var Y=this.startNode();c.declaration=this.parseClass(Y,"nullableID")}else c.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(c,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())c.declaration=this.parseStatement(null),c.declaration.type==="VariableDeclaration"?this.checkVariableExport(A,c.declaration.declarations):this.checkExport(A,c.declaration.id,c.declaration.id.start),c.specifiers=[],c.source=null;else{if(c.declaration=null,c.specifiers=this.parseExportSpecifiers(A),this.eatContextual("from"))this.type!==R.string&&this.unexpected(),c.source=this.parseExprAtom();else{for(var ce=0,pe=c.specifiers;ce<pe.length;ce+=1){var Ee=pe[ce];this.checkUnreserved(Ee.local),this.checkLocalExport(Ee.local),Ee.local.type==="Literal"&&this.raise(Ee.local.start,"A string literal cannot be used as an exported binding without `from`.")}c.source=null}this.semicolon()}return this.finishNode(c,"ExportNamedDeclaration")},u.checkExport=function(c,A,V){!c||(typeof A!="string"&&(A=A.type==="Identifier"?A.name:A.value),ae(c,A)&&this.raiseRecoverable(V,"Duplicate export '"+A+"'"),c[A]=!0)},u.checkPatternExport=function(c,A){var V=A.type;if(V==="Identifier")this.checkExport(c,A,A.start);else if(V==="ObjectPattern")for(var j=0,Y=A.properties;j<Y.length;j+=1){var ce=Y[j];this.checkPatternExport(c,ce)}else if(V==="ArrayPattern")for(var pe=0,Ee=A.elements;pe<Ee.length;pe+=1){var ze=Ee[pe];ze&&this.checkPatternExport(c,ze)}else V==="Property"?this.checkPatternExport(c,A.value):V==="AssignmentPattern"?this.checkPatternExport(c,A.left):V==="RestElement"?this.checkPatternExport(c,A.argument):V==="ParenthesizedExpression"&&this.checkPatternExport(c,A.expression)},u.checkVariableExport=function(c,A){if(!!c)for(var V=0,j=A;V<j.length;V+=1){var Y=j[V];this.checkPatternExport(c,Y.id)}},u.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},u.parseExportSpecifiers=function(c){var A=[],V=!0;for(this.expect(R.braceL);!this.eat(R.braceR);){if(V)V=!1;else if(this.expect(R.comma),this.afterTrailingComma(R.braceR))break;var j=this.startNode();j.local=this.parseModuleExportName(),j.exported=this.eatContextual("as")?this.parseModuleExportName():j.local,this.checkExport(c,j.exported,j.exported.start),A.push(this.finishNode(j,"ExportSpecifier"))}return A},u.parseImport=function(c){return this.next(),this.type===R.string?(c.specifiers=f,c.source=this.parseExprAtom()):(c.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),c.source=this.type===R.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(c,"ImportDeclaration")},u.parseImportSpecifiers=function(){var c=[],A=!0;if(this.type===R.name){var V=this.startNode();if(V.local=this.parseIdent(),this.checkLValSimple(V.local,pt),c.push(this.finishNode(V,"ImportDefaultSpecifier")),!this.eat(R.comma))return c}if(this.type===R.star){var j=this.startNode();return this.next(),this.expectContextual("as"),j.local=this.parseIdent(),this.checkLValSimple(j.local,pt),c.push(this.finishNode(j,"ImportNamespaceSpecifier")),c}for(this.expect(R.braceL);!this.eat(R.braceR);){if(A)A=!1;else if(this.expect(R.comma),this.afterTrailingComma(R.braceR))break;var Y=this.startNode();Y.imported=this.parseModuleExportName(),this.eatContextual("as")?Y.local=this.parseIdent():(this.checkUnreserved(Y.imported),Y.local=Y.imported),this.checkLValSimple(Y.local,pt),c.push(this.finishNode(Y,"ImportSpecifier"))}return c},u.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===R.string){var c=this.parseLiteral(this.value);return Be.test(c.value)&&this.raise(c.start,"An export name cannot include a lone surrogate."),c}return this.parseIdent(!0)},u.adaptDirectivePrologue=function(c){for(var A=0;A<c.length&&this.isDirectiveCandidate(c[A]);++A)c[A].directive=c[A].expression.raw.slice(1,-1)},u.isDirectiveCandidate=function(c){return this.options.ecmaVersion>=5&&c.type==="ExpressionStatement"&&c.expression.type==="Literal"&&typeof c.expression.value=="string"&&(this.input[c.start]==='"'||this.input[c.start]==="'")};var S=r.prototype;S.toAssignable=function(c,A,V){if(this.options.ecmaVersion>=6&&c)switch(c.type){case"Identifier":this.inAsync&&c.name==="await"&&this.raise(c.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":c.type="ObjectPattern",V&&this.checkPatternErrors(V,!0);for(var j=0,Y=c.properties;j<Y.length;j+=1){var ce=Y[j];this.toAssignable(ce,A),ce.type==="RestElement"&&(ce.argument.type==="ArrayPattern"||ce.argument.type==="ObjectPattern")&&this.raise(ce.argument.start,"Unexpected token")}break;case"Property":c.kind!=="init"&&this.raise(c.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(c.value,A);break;case"ArrayExpression":c.type="ArrayPattern",V&&this.checkPatternErrors(V,!0),this.toAssignableList(c.elements,A);break;case"SpreadElement":c.type="RestElement",this.toAssignable(c.argument,A),c.argument.type==="AssignmentPattern"&&this.raise(c.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":c.operator!=="="&&this.raise(c.left.end,"Only '=' operator can be used for specifying default value."),c.type="AssignmentPattern",delete c.operator,this.toAssignable(c.left,A);break;case"ParenthesizedExpression":this.toAssignable(c.expression,A,V);break;case"ChainExpression":this.raiseRecoverable(c.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!A)break;default:this.raise(c.start,"Assigning to rvalue")}else V&&this.checkPatternErrors(V,!0);return c},S.toAssignableList=function(c,A){for(var V=c.length,j=0;j<V;j++){var Y=c[j];Y&&this.toAssignable(Y,A)}if(V){var ce=c[V-1];this.options.ecmaVersion===6&&A&&ce&&ce.type==="RestElement"&&ce.argument.type!=="Identifier"&&this.unexpected(ce.argument.start)}return c},S.parseSpread=function(c){var A=this.startNode();return this.next(),A.argument=this.parseMaybeAssign(!1,c),this.finishNode(A,"SpreadElement")},S.parseRestBinding=function(){var c=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==R.name&&this.unexpected(),c.argument=this.parseBindingAtom(),this.finishNode(c,"RestElement")},S.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case R.bracketL:var c=this.startNode();return this.next(),c.elements=this.parseBindingList(R.bracketR,!0,!0),this.finishNode(c,"ArrayPattern");case R.braceL:return this.parseObj(!0)}return this.parseIdent()},S.parseBindingList=function(c,A,V){for(var j=[],Y=!0;!this.eat(c);)if(Y?Y=!1:this.expect(R.comma),A&&this.type===R.comma)j.push(null);else{if(V&&this.afterTrailingComma(c))break;if(this.type===R.ellipsis){var ce=this.parseRestBinding();this.parseBindingListItem(ce),j.push(ce),this.type===R.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(c);break}else{var pe=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(pe),j.push(pe)}}return j},S.parseBindingListItem=function(c){return c},S.parseMaybeDefault=function(c,A,V){if(V=V||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(R.eq))return V;var j=this.startNodeAt(c,A);return j.left=V,j.right=this.parseMaybeAssign(),this.finishNode(j,"AssignmentPattern")},S.checkLValSimple=function(c,A,V){A===void 0&&(A=pi);var j=A!==pi;switch(c.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(c.name)&&this.raiseRecoverable(c.start,(j?"Binding ":"Assigning to ")+c.name+" in strict mode"),j&&(A===pt&&c.name==="let"&&this.raiseRecoverable(c.start,"let is disallowed as a lexically bound name"),V&&(ae(V,c.name)&&this.raiseRecoverable(c.start,"Argument name clash"),V[c.name]=!0),A!==nt&&this.declareName(c.name,A,c.start));break;case"ChainExpression":this.raiseRecoverable(c.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":j&&this.raiseRecoverable(c.start,"Binding member expression");break;case"ParenthesizedExpression":return j&&this.raiseRecoverable(c.start,"Binding parenthesized expression"),this.checkLValSimple(c.expression,A,V);default:this.raise(c.start,(j?"Binding":"Assigning to")+" rvalue")}},S.checkLValPattern=function(c,A,V){switch(A===void 0&&(A=pi),c.type){case"ObjectPattern":for(var j=0,Y=c.properties;j<Y.length;j+=1){var ce=Y[j];this.checkLValInnerPattern(ce,A,V)}break;case"ArrayPattern":for(var pe=0,Ee=c.elements;pe<Ee.length;pe+=1){var ze=Ee[pe];ze&&this.checkLValInnerPattern(ze,A,V)}break;default:this.checkLValSimple(c,A,V)}},S.checkLValInnerPattern=function(c,A,V){switch(A===void 0&&(A=pi),c.type){case"Property":this.checkLValInnerPattern(c.value,A,V);break;case"AssignmentPattern":this.checkLValPattern(c.left,A,V);break;case"RestElement":this.checkLValPattern(c.argument,A,V);break;default:this.checkLValPattern(c,A,V)}};var E=function(A,V,j,Y,ce){this.token=A,this.isExpr=!!V,this.preserveSpace=!!j,this.override=Y,this.generator=!!ce},I={b_stat:new E("{",!1),b_expr:new E("{",!0),b_tmpl:new E("${",!1),p_stat:new E("(",!1),p_expr:new E("(",!0),q_tmpl:new E("`",!0,!0,function(c){return c.tryReadTemplateToken()}),f_stat:new E("function",!1),f_expr:new E("function",!0),f_expr_gen:new E("function",!0,!1,null,!0),f_gen:new E("function",!1,!1,null,!0)},P=r.prototype;P.initialContext=function(){return[I.b_stat]},P.curContext=function(){return this.context[this.context.length-1]},P.braceIsBlock=function(c){var A=this.curContext();return A===I.f_expr||A===I.f_stat?!0:c===R.colon&&(A===I.b_stat||A===I.b_expr)?!A.isExpr:c===R._return||c===R.name&&this.exprAllowed?ke.test(this.input.slice(this.lastTokEnd,this.start)):c===R._else||c===R.semi||c===R.eof||c===R.parenR||c===R.arrow?!0:c===R.braceL?A===I.b_stat:c===R._var||c===R._const||c===R.name?!1:!this.exprAllowed},P.inGeneratorContext=function(){for(var c=this.context.length-1;c>=1;c--){var A=this.context[c];if(A.token==="function")return A.generator}return!1},P.updateContext=function(c){var A,V=this.type;V.keyword&&c===R.dot?this.exprAllowed=!1:(A=V.updateContext)?A.call(this,c):this.exprAllowed=V.beforeExpr},P.overrideContext=function(c){this.curContext()!==c&&(this.context[this.context.length-1]=c)},R.parenR.updateContext=R.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var c=this.context.pop();c===I.b_stat&&this.curContext().token==="function"&&(c=this.context.pop()),this.exprAllowed=!c.isExpr},R.braceL.updateContext=function(c){this.context.push(this.braceIsBlock(c)?I.b_stat:I.b_expr),this.exprAllowed=!0},R.dollarBraceL.updateContext=function(){this.context.push(I.b_tmpl),this.exprAllowed=!0},R.parenL.updateContext=function(c){var A=c===R._if||c===R._for||c===R._with||c===R._while;this.context.push(A?I.p_stat:I.p_expr),this.exprAllowed=!0},R.incDec.updateContext=function(){},R._function.updateContext=R._class.updateContext=function(c){c.beforeExpr&&c!==R._else&&!(c===R.semi&&this.curContext()!==I.p_stat)&&!(c===R._return&&ke.test(this.input.slice(this.lastTokEnd,this.start)))&&!((c===R.colon||c===R.braceL)&&this.curContext()===I.b_stat)?this.context.push(I.f_expr):this.context.push(I.f_stat),this.exprAllowed=!1},R.backQuote.updateContext=function(){this.curContext()===I.q_tmpl?this.context.pop():this.context.push(I.q_tmpl),this.exprAllowed=!1},R.star.updateContext=function(c){if(c===R._function){var A=this.context.length-1;this.context[A]===I.f_expr?this.context[A]=I.f_expr_gen:this.context[A]=I.f_gen}this.exprAllowed=!0},R.name.updateContext=function(c){var A=!1;this.options.ecmaVersion>=6&&c!==R.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(A=!0),this.exprAllowed=A};var C=r.prototype;C.checkPropClash=function(c,A,V){if(!(this.options.ecmaVersion>=9&&c.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(c.computed||c.method||c.shorthand))){var j=c.key,Y;switch(j.type){case"Identifier":Y=j.name;break;case"Literal":Y=String(j.value);break;default:return}var ce=c.kind;if(this.options.ecmaVersion>=6){Y==="__proto__"&&ce==="init"&&(A.proto&&(V?V.doubleProto<0&&(V.doubleProto=j.start):this.raiseRecoverable(j.start,"Redefinition of __proto__ property")),A.proto=!0);return}Y="$"+Y;var pe=A[Y];if(pe){var Ee;ce==="init"?Ee=this.strict&&pe.init||pe.get||pe.set:Ee=pe.init||pe[ce],Ee&&this.raiseRecoverable(j.start,"Redefinition of property")}else pe=A[Y]={init:!1,get:!1,set:!1};pe[ce]=!0}},C.parseExpression=function(c,A){var V=this.start,j=this.startLoc,Y=this.parseMaybeAssign(c,A);if(this.type===R.comma){var ce=this.startNodeAt(V,j);for(ce.expressions=[Y];this.eat(R.comma);)ce.expressions.push(this.parseMaybeAssign(c,A));return this.finishNode(ce,"SequenceExpression")}return Y},C.parseMaybeAssign=function(c,A,V){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(c);this.exprAllowed=!1}var j=!1,Y=-1,ce=-1,pe=-1;A?(Y=A.parenthesizedAssign,ce=A.trailingComma,pe=A.doubleProto,A.parenthesizedAssign=A.trailingComma=-1):(A=new a,j=!0);var Ee=this.start,ze=this.startLoc;(this.type===R.parenL||this.type===R.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=c==="await");var qe=this.parseMaybeConditional(c,A);if(V&&(qe=V.call(this,qe,Ee,ze)),this.type.isAssign){var Ye=this.startNodeAt(Ee,ze);return Ye.operator=this.value,this.type===R.eq&&(qe=this.toAssignable(qe,!1,A)),j||(A.parenthesizedAssign=A.trailingComma=A.doubleProto=-1),A.shorthandAssign>=qe.start&&(A.shorthandAssign=-1),this.type===R.eq?this.checkLValPattern(qe):this.checkLValSimple(qe),Ye.left=qe,this.next(),Ye.right=this.parseMaybeAssign(c),pe>-1&&(A.doubleProto=pe),this.finishNode(Ye,"AssignmentExpression")}else j&&this.checkExpressionErrors(A,!0);return Y>-1&&(A.parenthesizedAssign=Y),ce>-1&&(A.trailingComma=ce),qe},C.parseMaybeConditional=function(c,A){var V=this.start,j=this.startLoc,Y=this.parseExprOps(c,A);if(this.checkExpressionErrors(A))return Y;if(this.eat(R.question)){var ce=this.startNodeAt(V,j);return ce.test=Y,ce.consequent=this.parseMaybeAssign(),this.expect(R.colon),ce.alternate=this.parseMaybeAssign(c),this.finishNode(ce,"ConditionalExpression")}return Y},C.parseExprOps=function(c,A){var V=this.start,j=this.startLoc,Y=this.parseMaybeUnary(A,!1,!1,c);return this.checkExpressionErrors(A)||Y.start===V&&Y.type==="ArrowFunctionExpression"?Y:this.parseExprOp(Y,V,j,-1,c)},C.parseExprOp=function(c,A,V,j,Y){var ce=this.type.binop;if(ce!=null&&(!Y||this.type!==R._in)&&ce>j){var pe=this.type===R.logicalOR||this.type===R.logicalAND,Ee=this.type===R.coalesce;Ee&&(ce=R.logicalAND.binop);var ze=this.value;this.next();var qe=this.start,Ye=this.startLoc,Pt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Y),qe,Ye,ce,Y),Yt=this.buildBinary(A,V,c,Pt,ze,pe||Ee);return(pe&&this.type===R.coalesce||Ee&&(this.type===R.logicalOR||this.type===R.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Yt,A,V,j,Y)}return c},C.buildBinary=function(c,A,V,j,Y,ce){j.type==="PrivateIdentifier"&&this.raise(j.start,"Private identifier can only be left side of binary expression");var pe=this.startNodeAt(c,A);return pe.left=V,pe.operator=Y,pe.right=j,this.finishNode(pe,ce?"LogicalExpression":"BinaryExpression")},C.parseMaybeUnary=function(c,A,V,j){var Y=this.start,ce=this.startLoc,pe;if(this.isContextual("await")&&this.canAwait)pe=this.parseAwait(j),A=!0;else if(this.type.prefix){var Ee=this.startNode(),ze=this.type===R.incDec;Ee.operator=this.value,Ee.prefix=!0,this.next(),Ee.argument=this.parseMaybeUnary(null,!0,ze,j),this.checkExpressionErrors(c,!0),ze?this.checkLValSimple(Ee.argument):this.strict&&Ee.operator==="delete"&&Ee.argument.type==="Identifier"?this.raiseRecoverable(Ee.start,"Deleting local variable in strict mode"):Ee.operator==="delete"&&x(Ee.argument)?this.raiseRecoverable(Ee.start,"Private fields can not be deleted"):A=!0,pe=this.finishNode(Ee,ze?"UpdateExpression":"UnaryExpression")}else if(!A&&this.type===R.privateId)(j||this.privateNameStack.length===0)&&this.unexpected(),pe=this.parsePrivateIdent(),this.type!==R._in&&this.unexpected();else{if(pe=this.parseExprSubscripts(c,j),this.checkExpressionErrors(c))return pe;for(;this.type.postfix&&!this.canInsertSemicolon();){var qe=this.startNodeAt(Y,ce);qe.operator=this.value,qe.prefix=!1,qe.argument=pe,this.checkLValSimple(pe),this.next(),pe=this.finishNode(qe,"UpdateExpression")}}if(!V&&this.eat(R.starstar))if(A)this.unexpected(this.lastTokStart);else return this.buildBinary(Y,ce,pe,this.parseMaybeUnary(null,!1,!1,j),"**",!1);else return pe};function x(c){return c.type==="MemberExpression"&&c.property.type==="PrivateIdentifier"||c.type==="ChainExpression"&&x(c.expression)}C.parseExprSubscripts=function(c,A){var V=this.start,j=this.startLoc,Y=this.parseExprAtom(c,A);if(Y.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Y;var ce=this.parseSubscripts(Y,V,j,!1,A);return c&&ce.type==="MemberExpression"&&(c.parenthesizedAssign>=ce.start&&(c.parenthesizedAssign=-1),c.parenthesizedBind>=ce.start&&(c.parenthesizedBind=-1),c.trailingComma>=ce.start&&(c.trailingComma=-1)),ce},C.parseSubscripts=function(c,A,V,j,Y){for(var ce=this.options.ecmaVersion>=8&&c.type==="Identifier"&&c.name==="async"&&this.lastTokEnd===c.end&&!this.canInsertSemicolon()&&c.end-c.start===5&&this.potentialArrowAt===c.start,pe=!1;;){var Ee=this.parseSubscript(c,A,V,j,ce,pe,Y);if(Ee.optional&&(pe=!0),Ee===c||Ee.type==="ArrowFunctionExpression"){if(pe){var ze=this.startNodeAt(A,V);ze.expression=Ee,Ee=this.finishNode(ze,"ChainExpression")}return Ee}c=Ee}},C.parseSubscript=function(c,A,V,j,Y,ce,pe){var Ee=this.options.ecmaVersion>=11,ze=Ee&&this.eat(R.questionDot);j&&ze&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var qe=this.eat(R.bracketL);if(qe||ze&&this.type!==R.parenL&&this.type!==R.backQuote||this.eat(R.dot)){var Ye=this.startNodeAt(A,V);Ye.object=c,qe?(Ye.property=this.parseExpression(),this.expect(R.bracketR)):this.type===R.privateId&&c.type!=="Super"?Ye.property=this.parsePrivateIdent():Ye.property=this.parseIdent(this.options.allowReserved!=="never"),Ye.computed=!!qe,Ee&&(Ye.optional=ze),c=this.finishNode(Ye,"MemberExpression")}else if(!j&&this.eat(R.parenL)){var Pt=new a,Yt=this.yieldPos,An=this.awaitPos,Gn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var gi=this.parseExprList(R.parenR,this.options.ecmaVersion>=8,!1,Pt);if(Y&&!ze&&!this.canInsertSemicolon()&&this.eat(R.arrow))return this.checkPatternErrors(Pt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Yt,this.awaitPos=An,this.awaitIdentPos=Gn,this.parseArrowExpression(this.startNodeAt(A,V),gi,!0,pe);this.checkExpressionErrors(Pt,!0),this.yieldPos=Yt||this.yieldPos,this.awaitPos=An||this.awaitPos,this.awaitIdentPos=Gn||this.awaitIdentPos;var Zn=this.startNodeAt(A,V);Zn.callee=c,Zn.arguments=gi,Ee&&(Zn.optional=ze),c=this.finishNode(Zn,"CallExpression")}else if(this.type===R.backQuote){(ze||ce)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Qn=this.startNodeAt(A,V);Qn.tag=c,Qn.quasi=this.parseTemplate({isTagged:!0}),c=this.finishNode(Qn,"TaggedTemplateExpression")}return c},C.parseExprAtom=function(c,A){this.type===R.slash&&this.readRegexp();var V,j=this.potentialArrowAt===this.start;switch(this.type){case R._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),V=this.startNode(),this.next(),this.type===R.parenL&&!this.allowDirectSuper&&this.raise(V.start,"super() call outside constructor of a subclass"),this.type!==R.dot&&this.type!==R.bracketL&&this.type!==R.parenL&&this.unexpected(),this.finishNode(V,"Super");case R._this:return V=this.startNode(),this.next(),this.finishNode(V,"ThisExpression");case R.name:var Y=this.start,ce=this.startLoc,pe=this.containsEsc,Ee=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!pe&&Ee.name==="async"&&!this.canInsertSemicolon()&&this.eat(R._function))return this.overrideContext(I.f_expr),this.parseFunction(this.startNodeAt(Y,ce),0,!1,!0,A);if(j&&!this.canInsertSemicolon()){if(this.eat(R.arrow))return this.parseArrowExpression(this.startNodeAt(Y,ce),[Ee],!1,A);if(this.options.ecmaVersion>=8&&Ee.name==="async"&&this.type===R.name&&!pe&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Ee=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(R.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Y,ce),[Ee],!0,A)}return Ee;case R.regexp:var ze=this.value;return V=this.parseLiteral(ze.value),V.regex={pattern:ze.pattern,flags:ze.flags},V;case R.num:case R.string:return this.parseLiteral(this.value);case R._null:case R._true:case R._false:return V=this.startNode(),V.value=this.type===R._null?null:this.type===R._true,V.raw=this.type.keyword,this.next(),this.finishNode(V,"Literal");case R.parenL:var qe=this.start,Ye=this.parseParenAndDistinguishExpression(j,A);return c&&(c.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Ye)&&(c.parenthesizedAssign=qe),c.parenthesizedBind<0&&(c.parenthesizedBind=qe)),Ye;case R.bracketL:return V=this.startNode(),this.next(),V.elements=this.parseExprList(R.bracketR,!0,!0,c),this.finishNode(V,"ArrayExpression");case R.braceL:return this.overrideContext(I.b_expr),this.parseObj(!1,c);case R._function:return V=this.startNode(),this.next(),this.parseFunction(V,0);case R._class:return this.parseClass(this.startNode(),!1);case R._new:return this.parseNew();case R.backQuote:return this.parseTemplate();case R._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},C.parseExprImport=function(){var c=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var A=this.parseIdent(!0);switch(this.type){case R.parenL:return this.parseDynamicImport(c);case R.dot:return c.meta=A,this.parseImportMeta(c);default:this.unexpected()}},C.parseDynamicImport=function(c){if(this.next(),c.source=this.parseMaybeAssign(),!this.eat(R.parenR)){var A=this.start;this.eat(R.comma)&&this.eat(R.parenR)?this.raiseRecoverable(A,"Trailing comma is not allowed in import()"):this.unexpected(A)}return this.finishNode(c,"ImportExpression")},C.parseImportMeta=function(c){this.next();var A=this.containsEsc;return c.property=this.parseIdent(!0),c.property.name!=="meta"&&this.raiseRecoverable(c.property.start,"The only valid meta property for import is 'import.meta'"),A&&this.raiseRecoverable(c.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(c.start,"Cannot use 'import.meta' outside a module"),this.finishNode(c,"MetaProperty")},C.parseLiteral=function(c){var A=this.startNode();return A.value=c,A.raw=this.input.slice(this.start,this.end),A.raw.charCodeAt(A.raw.length-1)===110&&(A.bigint=A.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(A,"Literal")},C.parseParenExpression=function(){this.expect(R.parenL);var c=this.parseExpression();return this.expect(R.parenR),c},C.parseParenAndDistinguishExpression=function(c,A){var V=this.start,j=this.startLoc,Y,ce=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var pe=this.start,Ee=this.startLoc,ze=[],qe=!0,Ye=!1,Pt=new a,Yt=this.yieldPos,An=this.awaitPos,Gn;for(this.yieldPos=0,this.awaitPos=0;this.type!==R.parenR;)if(qe?qe=!1:this.expect(R.comma),ce&&this.afterTrailingComma(R.parenR,!0)){Ye=!0;break}else if(this.type===R.ellipsis){Gn=this.start,ze.push(this.parseParenItem(this.parseRestBinding())),this.type===R.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else ze.push(this.parseMaybeAssign(!1,Pt,this.parseParenItem));var gi=this.lastTokEnd,Zn=this.lastTokEndLoc;if(this.expect(R.parenR),c&&!this.canInsertSemicolon()&&this.eat(R.arrow))return this.checkPatternErrors(Pt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Yt,this.awaitPos=An,this.parseParenArrowList(V,j,ze,A);(!ze.length||Ye)&&this.unexpected(this.lastTokStart),Gn&&this.unexpected(Gn),this.checkExpressionErrors(Pt,!0),this.yieldPos=Yt||this.yieldPos,this.awaitPos=An||this.awaitPos,ze.length>1?(Y=this.startNodeAt(pe,Ee),Y.expressions=ze,this.finishNodeAt(Y,"SequenceExpression",gi,Zn)):Y=ze[0]}else Y=this.parseParenExpression();if(this.options.preserveParens){var Qn=this.startNodeAt(V,j);return Qn.expression=Y,this.finishNode(Qn,"ParenthesizedExpression")}else return Y},C.parseParenItem=function(c){return c},C.parseParenArrowList=function(c,A,V,j){return this.parseArrowExpression(this.startNodeAt(c,A),V,!1,j)};var w=[];C.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var c=this.startNode(),A=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(R.dot)){c.meta=A;var V=this.containsEsc;return c.property=this.parseIdent(!0),c.property.name!=="target"&&this.raiseRecoverable(c.property.start,"The only valid meta property for new is 'new.target'"),V&&this.raiseRecoverable(c.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(c.start,"'new.target' can only be used in functions and class static block"),this.finishNode(c,"MetaProperty")}var j=this.start,Y=this.startLoc,ce=this.type===R._import;return c.callee=this.parseSubscripts(this.parseExprAtom(),j,Y,!0,!1),ce&&c.callee.type==="ImportExpression"&&this.raise(j,"Cannot use new with import()"),this.eat(R.parenL)?c.arguments=this.parseExprList(R.parenR,this.options.ecmaVersion>=8,!1):c.arguments=w,this.finishNode(c,"NewExpression")},C.parseTemplateElement=function(c){var A=c.isTagged,V=this.startNode();return this.type===R.invalidTemplate?(A||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),V.value={raw:this.value,cooked:null}):V.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),V.tail=this.type===R.backQuote,this.finishNode(V,"TemplateElement")},C.parseTemplate=function(c){c===void 0&&(c={});var A=c.isTagged;A===void 0&&(A=!1);var V=this.startNode();this.next(),V.expressions=[];var j=this.parseTemplateElement({isTagged:A});for(V.quasis=[j];!j.tail;)this.type===R.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(R.dollarBraceL),V.expressions.push(this.parseExpression()),this.expect(R.braceR),V.quasis.push(j=this.parseTemplateElement({isTagged:A}));return this.next(),this.finishNode(V,"TemplateLiteral")},C.isAsyncProp=function(c){return!c.computed&&c.key.type==="Identifier"&&c.key.name==="async"&&(this.type===R.name||this.type===R.num||this.type===R.string||this.type===R.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===R.star)&&!ke.test(this.input.slice(this.lastTokEnd,this.start))},C.parseObj=function(c,A){var V=this.startNode(),j=!0,Y={};for(V.properties=[],this.next();!this.eat(R.braceR);){if(j)j=!1;else if(this.expect(R.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(R.braceR))break;var ce=this.parseProperty(c,A);c||this.checkPropClash(ce,Y,A),V.properties.push(ce)}return this.finishNode(V,c?"ObjectPattern":"ObjectExpression")},C.parseProperty=function(c,A){var V=this.startNode(),j,Y,ce,pe;if(this.options.ecmaVersion>=9&&this.eat(R.ellipsis))return c?(V.argument=this.parseIdent(!1),this.type===R.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(V,"RestElement")):(V.argument=this.parseMaybeAssign(!1,A),this.type===R.comma&&A&&A.trailingComma<0&&(A.trailingComma=this.start),this.finishNode(V,"SpreadElement"));this.options.ecmaVersion>=6&&(V.method=!1,V.shorthand=!1,(c||A)&&(ce=this.start,pe=this.startLoc),c||(j=this.eat(R.star)));var Ee=this.containsEsc;return this.parsePropertyName(V),!c&&!Ee&&this.options.ecmaVersion>=8&&!j&&this.isAsyncProp(V)?(Y=!0,j=this.options.ecmaVersion>=9&&this.eat(R.star),this.parsePropertyName(V,A)):Y=!1,this.parsePropertyValue(V,c,j,Y,ce,pe,A,Ee),this.finishNode(V,"Property")},C.parsePropertyValue=function(c,A,V,j,Y,ce,pe,Ee){if((V||j)&&this.type===R.colon&&this.unexpected(),this.eat(R.colon))c.value=A?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,pe),c.kind="init";else if(this.options.ecmaVersion>=6&&this.type===R.parenL)A&&this.unexpected(),c.kind="init",c.method=!0,c.value=this.parseMethod(V,j);else if(!A&&!Ee&&this.options.ecmaVersion>=5&&!c.computed&&c.key.type==="Identifier"&&(c.key.name==="get"||c.key.name==="set")&&this.type!==R.comma&&this.type!==R.braceR&&this.type!==R.eq){(V||j)&&this.unexpected(),c.kind=c.key.name,this.parsePropertyName(c),c.value=this.parseMethod(!1);var ze=c.kind==="get"?0:1;if(c.value.params.length!==ze){var qe=c.value.start;c.kind==="get"?this.raiseRecoverable(qe,"getter should have no params"):this.raiseRecoverable(qe,"setter should have exactly one param")}else c.kind==="set"&&c.value.params[0].type==="RestElement"&&this.raiseRecoverable(c.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!c.computed&&c.key.type==="Identifier"?((V||j)&&this.unexpected(),this.checkUnreserved(c.key),c.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Y),c.kind="init",A?c.value=this.parseMaybeDefault(Y,ce,this.copyNode(c.key)):this.type===R.eq&&pe?(pe.shorthandAssign<0&&(pe.shorthandAssign=this.start),c.value=this.parseMaybeDefault(Y,ce,this.copyNode(c.key))):c.value=this.copyNode(c.key),c.shorthand=!0):this.unexpected()},C.parsePropertyName=function(c){if(this.options.ecmaVersion>=6){if(this.eat(R.bracketL))return c.computed=!0,c.key=this.parseMaybeAssign(),this.expect(R.bracketR),c.key;c.computed=!1}return c.key=this.type===R.num||this.type===R.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},C.initFunction=function(c){c.id=null,this.options.ecmaVersion>=6&&(c.generator=c.expression=!1),this.options.ecmaVersion>=8&&(c.async=!1)},C.parseMethod=function(c,A,V){var j=this.startNode(),Y=this.yieldPos,ce=this.awaitPos,pe=this.awaitIdentPos;return this.initFunction(j),this.options.ecmaVersion>=6&&(j.generator=c),this.options.ecmaVersion>=8&&(j.async=!!A),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(qi(A,j.generator)|Ui|(V?di:0)),this.expect(R.parenL),j.params=this.parseBindingList(R.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(j,!1,!0,!1),this.yieldPos=Y,this.awaitPos=ce,this.awaitIdentPos=pe,this.finishNode(j,"FunctionExpression")},C.parseArrowExpression=function(c,A,V,j){var Y=this.yieldPos,ce=this.awaitPos,pe=this.awaitIdentPos;return this.enterScope(qi(V,!1)|hr),this.initFunction(c),this.options.ecmaVersion>=8&&(c.async=!!V),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,c.params=this.toAssignableList(A,!0),this.parseFunctionBody(c,!0,!1,j),this.yieldPos=Y,this.awaitPos=ce,this.awaitIdentPos=pe,this.finishNode(c,"ArrowFunctionExpression")},C.parseFunctionBody=function(c,A,V,j){var Y=A&&this.type!==R.braceL,ce=this.strict,pe=!1;if(Y)c.body=this.parseMaybeAssign(j),c.expression=!0,this.checkParams(c,!1);else{var Ee=this.options.ecmaVersion>=7&&!this.isSimpleParamList(c.params);(!ce||Ee)&&(pe=this.strictDirective(this.end),pe&&Ee&&this.raiseRecoverable(c.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ze=this.labels;this.labels=[],pe&&(this.strict=!0),this.checkParams(c,!ce&&!pe&&!A&&!V&&this.isSimpleParamList(c.params)),this.strict&&c.id&&this.checkLValSimple(c.id,nt),c.body=this.parseBlock(!1,void 0,pe&&!ce),c.expression=!1,this.adaptDirectivePrologue(c.body.body),this.labels=ze}this.exitScope()},C.isSimpleParamList=function(c){for(var A=0,V=c;A<V.length;A+=1){var j=V[A];if(j.type!=="Identifier")return!1}return!0},C.checkParams=function(c,A){for(var V=Object.create(null),j=0,Y=c.params;j<Y.length;j+=1){var ce=Y[j];this.checkLValInnerPattern(ce,kt,A?null:V)}},C.parseExprList=function(c,A,V,j){for(var Y=[],ce=!0;!this.eat(c);){if(ce)ce=!1;else if(this.expect(R.comma),A&&this.afterTrailingComma(c))break;var pe=void 0;V&&this.type===R.comma?pe=null:this.type===R.ellipsis?(pe=this.parseSpread(j),j&&this.type===R.comma&&j.trailingComma<0&&(j.trailingComma=this.start)):pe=this.parseMaybeAssign(!1,j),Y.push(pe)}return Y},C.checkUnreserved=function(c){var A=c.start,V=c.end,j=c.name;if(this.inGenerator&&j==="yield"&&this.raiseRecoverable(A,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&j==="await"&&this.raiseRecoverable(A,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&j==="arguments"&&this.raiseRecoverable(A,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(j==="arguments"||j==="await")&&this.raise(A,"Cannot use "+j+" in class static initialization block"),this.keywords.test(j)&&this.raise(A,"Unexpected keyword '"+j+"'"),!(this.options.ecmaVersion<6&&this.input.slice(A,V).indexOf("\\")!==-1)){var Y=this.strict?this.reservedWordsStrict:this.reservedWords;Y.test(j)&&(!this.inAsync&&j==="await"&&this.raiseRecoverable(A,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(A,"The keyword '"+j+"' is reserved"))}},C.parseIdent=function(c,A){var V=this.startNode();return this.type===R.name?V.name=this.value:this.type.keyword?(V.name=this.type.keyword,(V.name==="class"||V.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!c),this.finishNode(V,"Identifier"),c||(this.checkUnreserved(V),V.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=V.start)),V},C.parsePrivateIdent=function(){var c=this.startNode();return this.type===R.privateId?c.name=this.value:this.unexpected(),this.next(),this.finishNode(c,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(c),c},C.parseYield=function(c){this.yieldPos||(this.yieldPos=this.start);var A=this.startNode();return this.next(),this.type===R.semi||this.canInsertSemicolon()||this.type!==R.star&&!this.type.startsExpr?(A.delegate=!1,A.argument=null):(A.delegate=this.eat(R.star),A.argument=this.parseMaybeAssign(c)),this.finishNode(A,"YieldExpression")},C.parseAwait=function(c){this.awaitPos||(this.awaitPos=this.start);var A=this.startNode();return this.next(),A.argument=this.parseMaybeUnary(null,!0,!1,c),this.finishNode(A,"AwaitExpression")};var k=r.prototype;k.raise=function(c,A){var V=Rt(this.input,c);A+=" ("+V.line+":"+V.column+")";var j=new SyntaxError(A);throw j.pos=c,j.loc=V,j.raisedAt=this.pos,j},k.raiseRecoverable=k.raise,k.curPosition=function(){if(this.options.locations)return new et(this.curLine,this.pos-this.lineStart)};var T=r.prototype,L=function(A){this.flags=A,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};T.enterScope=function(c){this.scopeStack.push(new L(c))},T.exitScope=function(){this.scopeStack.pop()},T.treatFunctionsAsVarInScope=function(c){return c.flags&Ze||!this.inModule&&c.flags&Sn},T.declareName=function(c,A,V){var j=!1;if(A===pt){var Y=this.currentScope();j=Y.lexical.indexOf(c)>-1||Y.functions.indexOf(c)>-1||Y.var.indexOf(c)>-1,Y.lexical.push(c),this.inModule&&Y.flags&Sn&&delete this.undefinedExports[c]}else if(A===Ct){var ce=this.currentScope();ce.lexical.push(c)}else if(A===St){var pe=this.currentScope();this.treatFunctionsAsVar?j=pe.lexical.indexOf(c)>-1:j=pe.lexical.indexOf(c)>-1||pe.var.indexOf(c)>-1,pe.functions.push(c)}else for(var Ee=this.scopeStack.length-1;Ee>=0;--Ee){var ze=this.scopeStack[Ee];if(ze.lexical.indexOf(c)>-1&&!(ze.flags&Tn&&ze.lexical[0]===c)||!this.treatFunctionsAsVarInScope(ze)&&ze.functions.indexOf(c)>-1){j=!0;break}if(ze.var.push(c),this.inModule&&ze.flags&Sn&&delete this.undefinedExports[c],ze.flags&Hi)break}j&&this.raiseRecoverable(V,"Identifier '"+c+"' has already been declared")},T.checkLocalExport=function(c){this.scopeStack[0].lexical.indexOf(c.name)===-1&&this.scopeStack[0].var.indexOf(c.name)===-1&&(this.undefinedExports[c.name]=c)},T.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},T.currentVarScope=function(){for(var c=this.scopeStack.length-1;;c--){var A=this.scopeStack[c];if(A.flags&Hi)return A}},T.currentThisScope=function(){for(var c=this.scopeStack.length-1;;c--){var A=this.scopeStack[c];if(A.flags&Hi&&!(A.flags&hr))return A}};var N=function(A,V,j){this.type="",this.start=V,this.end=0,A.options.locations&&(this.loc=new ut(A,j)),A.options.directSourceFile&&(this.sourceFile=A.options.directSourceFile),A.options.ranges&&(this.range=[V,0])},M=r.prototype;M.startNode=function(){return new N(this,this.start,this.startLoc)},M.startNodeAt=function(c,A){return new N(this,c,A)};function O(c,A,V,j){return c.type=A,c.end=V,this.options.locations&&(c.loc.end=j),this.options.ranges&&(c.range[1]=V),c}M.finishNode=function(c,A){return O.call(this,c,A,this.lastTokEnd,this.lastTokEndLoc)},M.finishNodeAt=function(c,A,V,j){return O.call(this,c,A,V,j)},M.copyNode=function(c){var A=new N(this,c.start,this.startLoc);for(var V in c)A[V]=c[V];return A};var D="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",U=D+" Extended_Pictographic",F=U,H=F+" EBase EComp EMod EPres ExtPict",q=H,W={9:D,10:U,11:F,12:H,13:q},G="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",J="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",se=J+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",he=se+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ve=he+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ye=ve+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ue={9:J,10:se,11:he,12:ve,13:ye},oe={};function we(c){var A=oe[c]={binary:Te(W[c]+" "+G),nonBinary:{General_Category:Te(G),Script:Te(ue[c])}};A.nonBinary.Script_Extensions=A.nonBinary.Script,A.nonBinary.gc=A.nonBinary.General_Category,A.nonBinary.sc=A.nonBinary.Script,A.nonBinary.scx=A.nonBinary.Script_Extensions}for(var Se=0,Ie=[9,10,11,12,13];Se<Ie.length;Se+=1){var Le=Ie[Se];we(Le)}var ge=r.prototype,Me=function(A){this.parser=A,this.validFlags="gim"+(A.options.ecmaVersion>=6?"uy":"")+(A.options.ecmaVersion>=9?"s":"")+(A.options.ecmaVersion>=13?"d":""),this.unicodeProperties=oe[A.options.ecmaVersion>=13?13:A.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Me.prototype.reset=function(A,V,j){var Y=j.indexOf("u")!==-1;this.start=A|0,this.source=V+"",this.flags=j,this.switchU=Y&&this.parser.options.ecmaVersion>=6,this.switchN=Y&&this.parser.options.ecmaVersion>=9},Me.prototype.raise=function(A){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+A)},Me.prototype.at=function(A,V){V===void 0&&(V=!1);var j=this.source,Y=j.length;if(A>=Y)return-1;var ce=j.charCodeAt(A);if(!(V||this.switchU)||ce<=55295||ce>=57344||A+1>=Y)return ce;var pe=j.charCodeAt(A+1);return pe>=56320&&pe<=57343?(ce<<10)+pe-56613888:ce},Me.prototype.nextIndex=function(A,V){V===void 0&&(V=!1);var j=this.source,Y=j.length;if(A>=Y)return Y;var ce=j.charCodeAt(A),pe;return!(V||this.switchU)||ce<=55295||ce>=57344||A+1>=Y||(pe=j.charCodeAt(A+1))<56320||pe>57343?A+1:A+2},Me.prototype.current=function(A){return A===void 0&&(A=!1),this.at(this.pos,A)},Me.prototype.lookahead=function(A){return A===void 0&&(A=!1),this.at(this.nextIndex(this.pos,A),A)},Me.prototype.advance=function(A){A===void 0&&(A=!1),this.pos=this.nextIndex(this.pos,A)},Me.prototype.eat=function(A,V){return V===void 0&&(V=!1),this.current(V)===A?(this.advance(V),!0):!1},ge.validateRegExpFlags=function(c){for(var A=c.validFlags,V=c.flags,j=0;j<V.length;j++){var Y=V.charAt(j);A.indexOf(Y)===-1&&this.raise(c.start,"Invalid regular expression flag"),V.indexOf(Y,j+1)>-1&&this.raise(c.start,"Duplicate regular expression flag")}},ge.validateRegExpPattern=function(c){this.regexp_pattern(c),!c.switchN&&this.options.ecmaVersion>=9&&c.groupNames.length>0&&(c.switchN=!0,this.regexp_pattern(c))},ge.regexp_pattern=function(c){c.pos=0,c.lastIntValue=0,c.lastStringValue="",c.lastAssertionIsQuantifiable=!1,c.numCapturingParens=0,c.maxBackReference=0,c.groupNames.length=0,c.backReferenceNames.length=0,this.regexp_disjunction(c),c.pos!==c.source.length&&(c.eat(41)&&c.raise("Unmatched ')'"),(c.eat(93)||c.eat(125))&&c.raise("Lone quantifier brackets")),c.maxBackReference>c.numCapturingParens&&c.raise("Invalid escape");for(var A=0,V=c.backReferenceNames;A<V.length;A+=1){var j=V[A];c.groupNames.indexOf(j)===-1&&c.raise("Invalid named capture referenced")}},ge.regexp_disjunction=function(c){for(this.regexp_alternative(c);c.eat(124);)this.regexp_alternative(c);this.regexp_eatQuantifier(c,!0)&&c.raise("Nothing to repeat"),c.eat(123)&&c.raise("Lone quantifier brackets")},ge.regexp_alternative=function(c){for(;c.pos<c.source.length&&this.regexp_eatTerm(c););},ge.regexp_eatTerm=function(c){return this.regexp_eatAssertion(c)?(c.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(c)&&c.switchU&&c.raise("Invalid quantifier"),!0):(c.switchU?this.regexp_eatAtom(c):this.regexp_eatExtendedAtom(c))?(this.regexp_eatQuantifier(c),!0):!1},ge.regexp_eatAssertion=function(c){var A=c.pos;if(c.lastAssertionIsQuantifiable=!1,c.eat(94)||c.eat(36))return!0;if(c.eat(92)){if(c.eat(66)||c.eat(98))return!0;c.pos=A}if(c.eat(40)&&c.eat(63)){var V=!1;if(this.options.ecmaVersion>=9&&(V=c.eat(60)),c.eat(61)||c.eat(33))return this.regexp_disjunction(c),c.eat(41)||c.raise("Unterminated group"),c.lastAssertionIsQuantifiable=!V,!0}return c.pos=A,!1},ge.regexp_eatQuantifier=function(c,A){return A===void 0&&(A=!1),this.regexp_eatQuantifierPrefix(c,A)?(c.eat(63),!0):!1},ge.regexp_eatQuantifierPrefix=function(c,A){return c.eat(42)||c.eat(43)||c.eat(63)||this.regexp_eatBracedQuantifier(c,A)},ge.regexp_eatBracedQuantifier=function(c,A){var V=c.pos;if(c.eat(123)){var j=0,Y=-1;if(this.regexp_eatDecimalDigits(c)&&(j=c.lastIntValue,c.eat(44)&&this.regexp_eatDecimalDigits(c)&&(Y=c.lastIntValue),c.eat(125)))return Y!==-1&&Y<j&&!A&&c.raise("numbers out of order in {} quantifier"),!0;c.switchU&&!A&&c.raise("Incomplete quantifier"),c.pos=V}return!1},ge.regexp_eatAtom=function(c){return this.regexp_eatPatternCharacters(c)||c.eat(46)||this.regexp_eatReverseSolidusAtomEscape(c)||this.regexp_eatCharacterClass(c)||this.regexp_eatUncapturingGroup(c)||this.regexp_eatCapturingGroup(c)},ge.regexp_eatReverseSolidusAtomEscape=function(c){var A=c.pos;if(c.eat(92)){if(this.regexp_eatAtomEscape(c))return!0;c.pos=A}return!1},ge.regexp_eatUncapturingGroup=function(c){var A=c.pos;if(c.eat(40)){if(c.eat(63)&&c.eat(58)){if(this.regexp_disjunction(c),c.eat(41))return!0;c.raise("Unterminated group")}c.pos=A}return!1},ge.regexp_eatCapturingGroup=function(c){if(c.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(c):c.current()===63&&c.raise("Invalid group"),this.regexp_disjunction(c),c.eat(41))return c.numCapturingParens+=1,!0;c.raise("Unterminated group")}return!1},ge.regexp_eatExtendedAtom=function(c){return c.eat(46)||this.regexp_eatReverseSolidusAtomEscape(c)||this.regexp_eatCharacterClass(c)||this.regexp_eatUncapturingGroup(c)||this.regexp_eatCapturingGroup(c)||this.regexp_eatInvalidBracedQuantifier(c)||this.regexp_eatExtendedPatternCharacter(c)},ge.regexp_eatInvalidBracedQuantifier=function(c){return this.regexp_eatBracedQuantifier(c,!0)&&c.raise("Nothing to repeat"),!1},ge.regexp_eatSyntaxCharacter=function(c){var A=c.current();return Re(A)?(c.lastIntValue=A,c.advance(),!0):!1};function Re(c){return c===36||c>=40&&c<=43||c===46||c===63||c>=91&&c<=94||c>=123&&c<=125}ge.regexp_eatPatternCharacters=function(c){for(var A=c.pos,V=0;(V=c.current())!==-1&&!Re(V);)c.advance();return c.pos!==A},ge.regexp_eatExtendedPatternCharacter=function(c){var A=c.current();return A!==-1&&A!==36&&!(A>=40&&A<=43)&&A!==46&&A!==63&&A!==91&&A!==94&&A!==124?(c.advance(),!0):!1},ge.regexp_groupSpecifier=function(c){if(c.eat(63)){if(this.regexp_eatGroupName(c)){c.groupNames.indexOf(c.lastStringValue)!==-1&&c.raise("Duplicate capture group name"),c.groupNames.push(c.lastStringValue);return}c.raise("Invalid group")}},ge.regexp_eatGroupName=function(c){if(c.lastStringValue="",c.eat(60)){if(this.regexp_eatRegExpIdentifierName(c)&&c.eat(62))return!0;c.raise("Invalid capture group name")}return!1},ge.regexp_eatRegExpIdentifierName=function(c){if(c.lastStringValue="",this.regexp_eatRegExpIdentifierStart(c)){for(c.lastStringValue+=Ce(c.lastIntValue);this.regexp_eatRegExpIdentifierPart(c);)c.lastStringValue+=Ce(c.lastIntValue);return!0}return!1},ge.regexp_eatRegExpIdentifierStart=function(c){var A=c.pos,V=this.options.ecmaVersion>=11,j=c.current(V);return c.advance(V),j===92&&this.regexp_eatRegExpUnicodeEscapeSequence(c,V)&&(j=c.lastIntValue),Ve(j)?(c.lastIntValue=j,!0):(c.pos=A,!1)};function Ve(c){return me(c,!0)||c===36||c===95}ge.regexp_eatRegExpIdentifierPart=function(c){var A=c.pos,V=this.options.ecmaVersion>=11,j=c.current(V);return c.advance(V),j===92&&this.regexp_eatRegExpUnicodeEscapeSequence(c,V)&&(j=c.lastIntValue),ot(j)?(c.lastIntValue=j,!0):(c.pos=A,!1)};function ot(c){return te(c,!0)||c===36||c===95||c===8204||c===8205}ge.regexp_eatAtomEscape=function(c){return this.regexp_eatBackReference(c)||this.regexp_eatCharacterClassEscape(c)||this.regexp_eatCharacterEscape(c)||c.switchN&&this.regexp_eatKGroupName(c)?!0:(c.switchU&&(c.current()===99&&c.raise("Invalid unicode escape"),c.raise("Invalid escape")),!1)},ge.regexp_eatBackReference=function(c){var A=c.pos;if(this.regexp_eatDecimalEscape(c)){var V=c.lastIntValue;if(c.switchU)return V>c.maxBackReference&&(c.maxBackReference=V),!0;if(V<=c.numCapturingParens)return!0;c.pos=A}return!1},ge.regexp_eatKGroupName=function(c){if(c.eat(107)){if(this.regexp_eatGroupName(c))return c.backReferenceNames.push(c.lastStringValue),!0;c.raise("Invalid named reference")}return!1},ge.regexp_eatCharacterEscape=function(c){return this.regexp_eatControlEscape(c)||this.regexp_eatCControlLetter(c)||this.regexp_eatZero(c)||this.regexp_eatHexEscapeSequence(c)||this.regexp_eatRegExpUnicodeEscapeSequence(c,!1)||!c.switchU&&this.regexp_eatLegacyOctalEscapeSequence(c)||this.regexp_eatIdentityEscape(c)},ge.regexp_eatCControlLetter=function(c){var A=c.pos;if(c.eat(99)){if(this.regexp_eatControlLetter(c))return!0;c.pos=A}return!1},ge.regexp_eatZero=function(c){return c.current()===48&&!ft(c.lookahead())?(c.lastIntValue=0,c.advance(),!0):!1},ge.regexp_eatControlEscape=function(c){var A=c.current();return A===116?(c.lastIntValue=9,c.advance(),!0):A===110?(c.lastIntValue=10,c.advance(),!0):A===118?(c.lastIntValue=11,c.advance(),!0):A===102?(c.lastIntValue=12,c.advance(),!0):A===114?(c.lastIntValue=13,c.advance(),!0):!1},ge.regexp_eatControlLetter=function(c){var A=c.current();return ht(A)?(c.lastIntValue=A%32,c.advance(),!0):!1};function ht(c){return c>=65&&c<=90||c>=97&&c<=122}ge.regexp_eatRegExpUnicodeEscapeSequence=function(c,A){A===void 0&&(A=!1);var V=c.pos,j=A||c.switchU;if(c.eat(117)){if(this.regexp_eatFixedHexDigits(c,4)){var Y=c.lastIntValue;if(j&&Y>=55296&&Y<=56319){var ce=c.pos;if(c.eat(92)&&c.eat(117)&&this.regexp_eatFixedHexDigits(c,4)){var pe=c.lastIntValue;if(pe>=56320&&pe<=57343)return c.lastIntValue=(Y-55296)*1024+(pe-56320)+65536,!0}c.pos=ce,c.lastIntValue=Y}return!0}if(j&&c.eat(123)&&this.regexp_eatHexDigits(c)&&c.eat(125)&&lt(c.lastIntValue))return!0;j&&c.raise("Invalid unicode escape"),c.pos=V}return!1};function lt(c){return c>=0&&c<=1114111}ge.regexp_eatIdentityEscape=function(c){if(c.switchU)return this.regexp_eatSyntaxCharacter(c)?!0:c.eat(47)?(c.lastIntValue=47,!0):!1;var A=c.current();return A!==99&&(!c.switchN||A!==107)?(c.lastIntValue=A,c.advance(),!0):!1},ge.regexp_eatDecimalEscape=function(c){c.lastIntValue=0;var A=c.current();if(A>=49&&A<=57){do c.lastIntValue=10*c.lastIntValue+(A-48),c.advance();while((A=c.current())>=48&&A<=57);return!0}return!1},ge.regexp_eatCharacterClassEscape=function(c){var A=c.current();if(Qe(A))return c.lastIntValue=-1,c.advance(),!0;if(c.switchU&&this.options.ecmaVersion>=9&&(A===80||A===112)){if(c.lastIntValue=-1,c.advance(),c.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(c)&&c.eat(125))return!0;c.raise("Invalid property name")}return!1};function Qe(c){return c===100||c===68||c===115||c===83||c===119||c===87}ge.regexp_eatUnicodePropertyValueExpression=function(c){var A=c.pos;if(this.regexp_eatUnicodePropertyName(c)&&c.eat(61)){var V=c.lastStringValue;if(this.regexp_eatUnicodePropertyValue(c)){var j=c.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(c,V,j),!0}}if(c.pos=A,this.regexp_eatLoneUnicodePropertyNameOrValue(c)){var Y=c.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(c,Y),!0}return!1},ge.regexp_validateUnicodePropertyNameAndValue=function(c,A,V){ae(c.unicodeProperties.nonBinary,A)||c.raise("Invalid property name"),c.unicodeProperties.nonBinary[A].test(V)||c.raise("Invalid property value")},ge.regexp_validateUnicodePropertyNameOrValue=function(c,A){c.unicodeProperties.binary.test(A)||c.raise("Invalid property name")},ge.regexp_eatUnicodePropertyName=function(c){var A=0;for(c.lastStringValue="";Ge(A=c.current());)c.lastStringValue+=Ce(A),c.advance();return c.lastStringValue!==""};function Ge(c){return ht(c)||c===95}ge.regexp_eatUnicodePropertyValue=function(c){var A=0;for(c.lastStringValue="";dt(A=c.current());)c.lastStringValue+=Ce(A),c.advance();return c.lastStringValue!==""};function dt(c){return Ge(c)||ft(c)}ge.regexp_eatLoneUnicodePropertyNameOrValue=function(c){return this.regexp_eatUnicodePropertyValue(c)},ge.regexp_eatCharacterClass=function(c){if(c.eat(91)){if(c.eat(94),this.regexp_classRanges(c),c.eat(93))return!0;c.raise("Unterminated character class")}return!1},ge.regexp_classRanges=function(c){for(;this.regexp_eatClassAtom(c);){var A=c.lastIntValue;if(c.eat(45)&&this.regexp_eatClassAtom(c)){var V=c.lastIntValue;c.switchU&&(A===-1||V===-1)&&c.raise("Invalid character class"),A!==-1&&V!==-1&&A>V&&c.raise("Range out of order in character class")}}},ge.regexp_eatClassAtom=function(c){var A=c.pos;if(c.eat(92)){if(this.regexp_eatClassEscape(c))return!0;if(c.switchU){var V=c.current();(V===99||qt(V))&&c.raise("Invalid class escape"),c.raise("Invalid escape")}c.pos=A}var j=c.current();return j!==93?(c.lastIntValue=j,c.advance(),!0):!1},ge.regexp_eatClassEscape=function(c){var A=c.pos;if(c.eat(98))return c.lastIntValue=8,!0;if(c.switchU&&c.eat(45))return c.lastIntValue=45,!0;if(!c.switchU&&c.eat(99)){if(this.regexp_eatClassControlLetter(c))return!0;c.pos=A}return this.regexp_eatCharacterClassEscape(c)||this.regexp_eatCharacterEscape(c)},ge.regexp_eatClassControlLetter=function(c){var A=c.current();return ft(A)||A===95?(c.lastIntValue=A%32,c.advance(),!0):!1},ge.regexp_eatHexEscapeSequence=function(c){var A=c.pos;if(c.eat(120)){if(this.regexp_eatFixedHexDigits(c,2))return!0;c.switchU&&c.raise("Invalid escape"),c.pos=A}return!1},ge.regexp_eatDecimalDigits=function(c){var A=c.pos,V=0;for(c.lastIntValue=0;ft(V=c.current());)c.lastIntValue=10*c.lastIntValue+(V-48),c.advance();return c.pos!==A};function ft(c){return c>=48&&c<=57}ge.regexp_eatHexDigits=function(c){var A=c.pos,V=0;for(c.lastIntValue=0;mt(V=c.current());)c.lastIntValue=16*c.lastIntValue+Vt(V),c.advance();return c.pos!==A};function mt(c){return c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102}function Vt(c){return c>=65&&c<=70?10+(c-65):c>=97&&c<=102?10+(c-97):c-48}ge.regexp_eatLegacyOctalEscapeSequence=function(c){if(this.regexp_eatOctalDigit(c)){var A=c.lastIntValue;if(this.regexp_eatOctalDigit(c)){var V=c.lastIntValue;A<=3&&this.regexp_eatOctalDigit(c)?c.lastIntValue=A*64+V*8+c.lastIntValue:c.lastIntValue=A*8+V}else c.lastIntValue=A;return!0}return!1},ge.regexp_eatOctalDigit=function(c){var A=c.current();return qt(A)?(c.lastIntValue=A-48,c.advance(),!0):(c.lastIntValue=0,!1)};function qt(c){return c>=48&&c<=55}ge.regexp_eatFixedHexDigits=function(c,A){var V=c.pos;c.lastIntValue=0;for(var j=0;j<A;++j){var Y=c.current();if(!mt(Y))return c.pos=V,!1;c.lastIntValue=16*c.lastIntValue+Vt(Y),c.advance()}return!0};var At=function(A){this.type=A.type,this.value=A.value,this.start=A.start,this.end=A.end,A.options.locations&&(this.loc=new ut(A,A.startLoc,A.endLoc)),A.options.ranges&&(this.range=[A.start,A.end])},He=r.prototype;He.next=function(c){!c&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new At(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},He.getToken=function(){return this.next(),new At(this)},typeof Symbol!="undefined"&&(He[Symbol.iterator]=function(){var c=this;return{next:function(){var A=c.getToken();return{done:A.type===R.eof,value:A}}}}),He.nextToken=function(){var c=this.curContext();if((!c||!c.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(R.eof);if(c.override)return c.override(this);this.readToken(this.fullCharCodeAtPos())},He.readToken=function(c){return me(c,this.options.ecmaVersion>=6)||c===92?this.readWord():this.getTokenFromCode(c)},He.fullCharCodeAtPos=function(){var c=this.input.charCodeAt(this.pos);if(c<=55295||c>=56320)return c;var A=this.input.charCodeAt(this.pos+1);return A<=56319||A>=57344?c:(c<<10)+A-56613888},He.skipBlockComment=function(){var c=this.options.onComment&&this.curPosition(),A=this.pos,V=this.input.indexOf("*/",this.pos+=2);if(V===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=V+2,this.options.locations)for(var j=void 0,Y=A;(j=De(this.input,Y,this.pos))>-1;)++this.curLine,Y=this.lineStart=j;this.options.onComment&&this.options.onComment(!0,this.input.slice(A+2,V),A,this.pos,c,this.curPosition())},He.skipLineComment=function(c){for(var A=this.pos,V=this.options.onComment&&this.curPosition(),j=this.input.charCodeAt(this.pos+=c);this.pos<this.input.length&&!Fe(j);)j=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(A+c,this.pos),A,this.pos,V,this.curPosition())},He.skipSpace=function(){e:for(;this.pos<this.input.length;){var c=this.input.charCodeAt(this.pos);switch(c){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(c>8&&c<14||c>=5760&&st.test(String.fromCharCode(c)))++this.pos;else break e}}},He.finishToken=function(c,A){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var V=this.type;this.type=c,this.value=A,this.updateContext(V)},He.readToken_dot=function(){var c=this.input.charCodeAt(this.pos+1);if(c>=48&&c<=57)return this.readNumber(!0);var A=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&c===46&&A===46?(this.pos+=3,this.finishToken(R.ellipsis)):(++this.pos,this.finishToken(R.dot))},He.readToken_slash=function(){var c=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):c===61?this.finishOp(R.assign,2):this.finishOp(R.slash,1)},He.readToken_mult_modulo_exp=function(c){var A=this.input.charCodeAt(this.pos+1),V=1,j=c===42?R.star:R.modulo;return this.options.ecmaVersion>=7&&c===42&&A===42&&(++V,j=R.starstar,A=this.input.charCodeAt(this.pos+2)),A===61?this.finishOp(R.assign,V+1):this.finishOp(j,V)},He.readToken_pipe_amp=function(c){var A=this.input.charCodeAt(this.pos+1);if(A===c){if(this.options.ecmaVersion>=12){var V=this.input.charCodeAt(this.pos+2);if(V===61)return this.finishOp(R.assign,3)}return this.finishOp(c===124?R.logicalOR:R.logicalAND,2)}return A===61?this.finishOp(R.assign,2):this.finishOp(c===124?R.bitwiseOR:R.bitwiseAND,1)},He.readToken_caret=function(){var c=this.input.charCodeAt(this.pos+1);return c===61?this.finishOp(R.assign,2):this.finishOp(R.bitwiseXOR,1)},He.readToken_plus_min=function(c){var A=this.input.charCodeAt(this.pos+1);return A===c?A===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ke.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(R.incDec,2):A===61?this.finishOp(R.assign,2):this.finishOp(R.plusMin,1)},He.readToken_lt_gt=function(c){var A=this.input.charCodeAt(this.pos+1),V=1;return A===c?(V=c===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+V)===61?this.finishOp(R.assign,V+1):this.finishOp(R.bitShift,V)):A===33&&c===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(A===61&&(V=2),this.finishOp(R.relational,V))},He.readToken_eq_excl=function(c){var A=this.input.charCodeAt(this.pos+1);return A===61?this.finishOp(R.equality,this.input.charCodeAt(this.pos+2)===61?3:2):c===61&&A===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(R.arrow)):this.finishOp(c===61?R.eq:R.prefix,1)},He.readToken_question=function(){var c=this.options.ecmaVersion;if(c>=11){var A=this.input.charCodeAt(this.pos+1);if(A===46){var V=this.input.charCodeAt(this.pos+2);if(V<48||V>57)return this.finishOp(R.questionDot,2)}if(A===63){if(c>=12){var j=this.input.charCodeAt(this.pos+2);if(j===61)return this.finishOp(R.assign,3)}return this.finishOp(R.coalesce,2)}}return this.finishOp(R.question,1)},He.readToken_numberSign=function(){var c=this.options.ecmaVersion,A=35;if(c>=13&&(++this.pos,A=this.fullCharCodeAtPos(),me(A,!0)||A===92))return this.finishToken(R.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ce(A)+"'")},He.getTokenFromCode=function(c){switch(c){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(R.parenL);case 41:return++this.pos,this.finishToken(R.parenR);case 59:return++this.pos,this.finishToken(R.semi);case 44:return++this.pos,this.finishToken(R.comma);case 91:return++this.pos,this.finishToken(R.bracketL);case 93:return++this.pos,this.finishToken(R.bracketR);case 123:return++this.pos,this.finishToken(R.braceL);case 125:return++this.pos,this.finishToken(R.braceR);case 58:return++this.pos,this.finishToken(R.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(R.backQuote);case 48:var A=this.input.charCodeAt(this.pos+1);if(A===120||A===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(A===111||A===79)return this.readRadixNumber(8);if(A===98||A===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(c);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(c);case 124:case 38:return this.readToken_pipe_amp(c);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(c);case 60:case 62:return this.readToken_lt_gt(c);case 61:case 33:return this.readToken_eq_excl(c);case 63:return this.readToken_question();case 126:return this.finishOp(R.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ce(c)+"'")},He.finishOp=function(c,A){var V=this.input.slice(this.pos,this.pos+A);return this.pos+=A,this.finishToken(c,V)},He.readRegexp=function(){for(var c,A,V=this.pos;;){this.pos>=this.input.length&&this.raise(V,"Unterminated regular expression");var j=this.input.charAt(this.pos);if(ke.test(j)&&this.raise(V,"Unterminated regular expression"),c)c=!1;else{if(j==="[")A=!0;else if(j==="]"&&A)A=!1;else if(j==="/"&&!A)break;c=j==="\\"}++this.pos}var Y=this.input.slice(V,this.pos);++this.pos;var ce=this.pos,pe=this.readWord1();this.containsEsc&&this.unexpected(ce);var Ee=this.regexpState||(this.regexpState=new Me(this));Ee.reset(V,Y,pe),this.validateRegExpFlags(Ee),this.validateRegExpPattern(Ee);var ze=null;try{ze=new RegExp(Y,pe)}catch(qe){}return this.finishToken(R.regexp,{pattern:Y,flags:pe,value:ze})},He.readInt=function(c,A,V){for(var j=this.options.ecmaVersion>=12&&A===void 0,Y=V&&this.input.charCodeAt(this.pos)===48,ce=this.pos,pe=0,Ee=0,ze=0,qe=A==null?1/0:A;ze<qe;++ze,++this.pos){var Ye=this.input.charCodeAt(this.pos),Pt=void 0;if(j&&Ye===95){Y&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Ee===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),ze===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Ee=Ye;continue}if(Ye>=97?Pt=Ye-97+10:Ye>=65?Pt=Ye-65+10:Ye>=48&&Ye<=57?Pt=Ye-48:Pt=1/0,Pt>=c)break;Ee=Ye,pe=pe*c+Pt}return j&&Ee===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ce||A!=null&&this.pos-ce!==A?null:pe};function bt(c,A){return A?parseInt(c,8):parseFloat(c.replace(/_/g,""))}function Ut(c){return typeof BigInt!="function"?null:BigInt(c.replace(/_/g,""))}He.readRadixNumber=function(c){var A=this.pos;this.pos+=2;var V=this.readInt(c);return V==null&&this.raise(this.start+2,"Expected number in radix "+c),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(V=Ut(this.input.slice(A,this.pos)),++this.pos):me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(R.num,V)},He.readNumber=function(c){var A=this.pos;!c&&this.readInt(10,void 0,!0)===null&&this.raise(A,"Invalid number");var V=this.pos-A>=2&&this.input.charCodeAt(A)===48;V&&this.strict&&this.raise(A,"Invalid number");var j=this.input.charCodeAt(this.pos);if(!V&&!c&&this.options.ecmaVersion>=11&&j===110){var Y=Ut(this.input.slice(A,this.pos));return++this.pos,me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(R.num,Y)}V&&/[89]/.test(this.input.slice(A,this.pos))&&(V=!1),j===46&&!V&&(++this.pos,this.readInt(10),j=this.input.charCodeAt(this.pos)),(j===69||j===101)&&!V&&(j=this.input.charCodeAt(++this.pos),(j===43||j===45)&&++this.pos,this.readInt(10)===null&&this.raise(A,"Invalid number")),me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ce=bt(this.input.slice(A,this.pos),V);return this.finishToken(R.num,ce)},He.readCodePoint=function(){var c=this.input.charCodeAt(this.pos),A;if(c===123){this.options.ecmaVersion<6&&this.unexpected();var V=++this.pos;A=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,A>1114111&&this.invalidStringToken(V,"Code point out of bounds")}else A=this.readHexChar(4);return A},He.readString=function(c){for(var A="",V=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var j=this.input.charCodeAt(this.pos);if(j===c)break;j===92?(A+=this.input.slice(V,this.pos),A+=this.readEscapedChar(!1),V=this.pos):j===8232||j===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Fe(j)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return A+=this.input.slice(V,this.pos++),this.finishToken(R.string,A)};var Gt={};He.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(c){if(c===Gt)this.readInvalidTemplateToken();else throw c}this.inTemplateElement=!1},He.invalidStringToken=function(c,A){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Gt;this.raise(c,A)},He.readTmplToken=function(){for(var c="",A=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var V=this.input.charCodeAt(this.pos);if(V===96||V===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===R.template||this.type===R.invalidTemplate)?V===36?(this.pos+=2,this.finishToken(R.dollarBraceL)):(++this.pos,this.finishToken(R.backQuote)):(c+=this.input.slice(A,this.pos),this.finishToken(R.template,c));if(V===92)c+=this.input.slice(A,this.pos),c+=this.readEscapedChar(!0),A=this.pos;else if(Fe(V)){switch(c+=this.input.slice(A,this.pos),++this.pos,V){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:c+=`
`;break;default:c+=String.fromCharCode(V);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),A=this.pos}else++this.pos}},He.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(R.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},He.readEscapedChar=function(c){var A=this.input.charCodeAt(++this.pos);switch(++this.pos,A){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ce(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),c){var V=this.pos-1;return this.invalidStringToken(V,"Invalid escape sequence in template string"),null}default:if(A>=48&&A<=55){var j=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Y=parseInt(j,8);return Y>255&&(j=j.slice(0,-1),Y=parseInt(j,8)),this.pos+=j.length-1,A=this.input.charCodeAt(this.pos),(j!=="0"||A===56||A===57)&&(this.strict||c)&&this.invalidStringToken(this.pos-1-j.length,c?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Y)}return Fe(A)?"":String.fromCharCode(A)}},He.readHexChar=function(c){var A=this.pos,V=this.readInt(16,c);return V===null&&this.invalidStringToken(A,"Bad character escape sequence"),V},He.readWord1=function(){this.containsEsc=!1;for(var c="",A=!0,V=this.pos,j=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Y=this.fullCharCodeAtPos();if(te(Y,j))this.pos+=Y<=65535?1:2;else if(Y===92){this.containsEsc=!0,c+=this.input.slice(V,this.pos);var ce=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var pe=this.readCodePoint();(A?me:te)(pe,j)||this.invalidStringToken(ce,"Invalid Unicode escape"),c+=Ce(pe),V=this.pos}else break;A=!1}return c+this.input.slice(V,this.pos)},He.readWord=function(){var c=this.readWord1(),A=R.name;return this.keywords.test(c)&&(A=de[c]),this.finishToken(A,c)};var un="8.8.0";r.acorn={Parser:r,version:un,defaultOptions:Ft,Position:et,SourceLocation:ut,getLineInfo:Rt,Node:N,TokenType:Ae,tokTypes:R,keywordTypes:de,TokContext:E,tokContexts:I,isIdentifierChar:te,isIdentifierStart:me,Token:At,isNewLine:Fe,lineBreak:ke,lineBreakG:Oe,nonASCIIwhitespace:st};function fr(c,A){return r.parse(c,A)}function Us(c,A,V){return r.parseExpressionAt(c,A,V)}function Hs(c,A){return r.tokenizer(c,A)}o.Node=N,o.Parser=r,o.Position=et,o.SourceLocation=ut,o.TokContext=E,o.Token=At,o.TokenType=Ae,o.defaultOptions=Ft,o.getLineInfo=Rt,o.isIdentifierChar=te,o.isIdentifierStart=me,o.isNewLine=Fe,o.keywordTypes=de,o.lineBreak=ke,o.lineBreakG=Oe,o.nonASCIIwhitespace=st,o.parse=fr,o.parseExpressionAt=Us,o.tokContexts=I,o.tokTypes=R,o.tokenizer=Hs,o.version=un,Object.defineProperty(o,"__esModule",{value:!0})})}(Xs,Xs.exports)),Xs.exports}/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||Pa;var p=s.window,b=s.document,g=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],i=t.slice,a=Object.create,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=t.forEach||function(v,S){for(var E=0,I=this.length;E<I;E++)v.call(S,this[E],E,this)},f=function(v,S){for(var E in this)this.hasOwnProperty(E)&&v.call(S,this[E],E,this)},d=Object.assign||function(v){for(var S=1,E=arguments.length;S<E;S++){var I=arguments[S];for(var P in I)I.hasOwnProperty(P)&&(v[P]=I[P])}return v},_=function(v,S,E){if(v){var I=u(v,"length");(I&&typeof I.value=="number"?h:f).call(v,S,E=E||v)}return E};function y(v,S,E,I,P){var C={};function x(N,M){M=M||(M=u(S,N))&&(M.get?M:M.value),typeof M=="string"&&M[0]==="#"&&(M=v[M.substring(1)]||M);var O=typeof M=="function",D=M,U=P||O&&!M.base?M&&M.get?N in v:v[N]:null,F;(!P||!U)&&(O&&U&&(M.base=U),O&&I!==!1&&(F=N.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[F[3].toLowerCase()+F[4]]=F[2]),(!D||O||!D.get||typeof D.get!="function"||!m.isPlainObject(D))&&(D={value:D,writable:!0}),(u(v,N)||{configurable:!0}).configurable&&(D.configurable=!0,D.enumerable=E!=null?E:!F),l(v,N,D))}if(S){for(var w in S)S.hasOwnProperty(w)&&!e.test(w)&&x(w);for(var w in C){var k=C[w],T=v["set"+k],L=v["get"+k]||T&&v["is"+k];L&&(I===!0||L.length===0)&&x(w,{get:L,set:T})}}return v}function m(){for(var v=0,S=arguments.length;v<S;v++){var E=arguments[v];E&&d(this,E)}return this}return y(m,{inject:function(v){if(v){var S=v.statics===!0?v:v.statics,E=v.beans,I=v.preserve;S!==v&&y(this.prototype,v,v.enumerable,E,I),y(this,S,null,E,I)}for(var P=1,C=arguments.length;P<C;P++)this.inject(arguments[P]);return this},extend:function(){for(var v=this,S,E,I=0,P,C=arguments.length;I<C&&!(S&&E);I++)P=arguments[I],S=S||P.initialize,E=E||P.prototype;return S=S||function(){v.apply(this,arguments)},E=S.prototype=E||a(this.prototype),l(E,"constructor",{value:S,writable:!0,configurable:!0}),y(S,this),arguments.length&&this.inject.apply(S,arguments),S.base=v,S}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var v=0,S=arguments.length;v<S;v++){var E=arguments[v];E&&y(this,E,E.enumerable,E.beans,E.preserve)}return this},extend:function(){var v=a(this);return v.inject.apply(v,arguments)},each:function(v,S){return _(this,v,S)},clone:function(){return new this.constructor(this)},statics:{set:d,each:_,create:a,define:l,describe:u,clone:function(v){return d(new v.constructor,v)},isPlainObject:function(v){var S=v!=null&&v.constructor;return S&&(S===Object||S===m||S.name==="Object")},pick:function(v,S){return v!==o?v:S},slice:function(v,S,E){return i.call(v,S,E)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(e,t){if(!/^_/.test(t)){var i=typeof e;this.push(t+": "+(i==="number"?le.instance.number(e):i==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return g.importJSON(e,this)},exportJSON:function(e){return g.exportJSON(this,e)},toJSON:function(){return g.serialize(this)},set:function(e,t){return e&&g.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),i=t.prototype._class;return i&&!g.exports[i]&&(g.exports[i]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(;i--;)if(!g.equals(e[i],t[i]))return!1}else{var a=Object.keys(e),i=a.length;if(i!==Object.keys(t).length)return!1;for(;i--;){var u=a[i];if(!(t.hasOwnProperty(u)&&g.equals(e[u],t[u])))return!1}}return!0}return!1},read:function(e,t,i,a){if(this===g){var u=this.peek(e,t);return e.__index++,u}var l=this.prototype,h=l._readIndex,f=t||h&&e.__index||0,d=e.length,_=e[f];if(a=a||d-f,_ instanceof this||i&&i.readNull&&_==null&&a<=1)return h&&(e.__index=f+1),_&&i&&i.clone?_.clone():_;if(_=g.create(l),h&&(_.__read=!0),_=_.initialize.apply(_,f>0||f+a<d?g.slice(e,f,f+a):e)||_,h){e.__index=f+_.__read;var y=_.__filtered;y&&(e.__filtered=y,_.__filtered=o),_.__read=o}return _},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,i,a){for(var u=[],l,h=t||0,f=a?h+a:e.length,d=h;d<f;d++)u.push(Array.isArray(l=e[d])?this.read(l,0,i):this.read(e,d,i,1));return u},readNamed:function(e,t,i,a,u){var l=this.getNamed(e,t),h=l!==o;if(h){var f=e.__filtered;if(!f){var d=this.getSource(e);f=e.__filtered=g.create(d),f.__unfiltered=d}f[t]=o}return this.read(h?[l]:e,i,a,u)},readSupported:function(e,t){var i=this.getSource(e),a=this,u=!1;return i&&Object.keys(i).forEach(function(l){if(l in t){var h=a.readNamed(e,l);h!==o&&(t[l]=h),u=!0}}),u},getSource:function(e){var t=e.__source;if(t===o){var i=e.length===1&&e[0];t=e.__source=i&&g.isPlainObject(i)?i:null}return t},getNamed:function(e,t){var i=this.getSource(e);if(i)return t?i[t]:e.__filtered||i},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,i,a){var u;function l(y){if(!(i&&y in i)&&!(u&&y in u)){var m=t[y];m!==o&&(e[y]=m)}}if(a){for(var h={},f=0,d,_=a.length;f<_;f++)(d=a[f])in t&&(l(d),h[d]=!0);u=h}return Object.keys(t.__unfiltered||t).forEach(l),e},isPlainValue:function(e,t){return g.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,i,a){t=t||{};var u=!a,l;if(u&&(t.formatter=new le(t.precision),a={length:0,definitions:{},references:{},add:function(m,v){var S="#"+m._id,E=this.references[S];if(!E){this.length++;var I=v.call(m),P=m._class;P&&I[0]!==P&&I.unshift(P),this.definitions[S]=I,E=this.references[S]=[S]}return E}}),e&&e._serialize){l=e._serialize(t,a);var h=e._class;h&&!e._compactSerialize&&(u||!i)&&l[0]!==h&&l.unshift(h)}else if(Array.isArray(e)){l=[];for(var f=0,d=e.length;f<d;f++)l[f]=g.serialize(e[f],t,i,a)}else if(g.isPlainObject(e)){l={};for(var _=Object.keys(e),f=0,d=_.length;f<d;f++){var y=_[f];l[y]=g.serialize(e[y],t,i,a)}}else typeof e=="number"?l=t.formatter.number(e,t.precision):l=e;return u&&a.length>0?[["dictionary",a.definitions],l]:l},deserialize:function(e,t,i,a,u){var l=e,h=!i,f=h&&e&&e.length&&e[0][0]==="dictionary";if(i=i||{},Array.isArray(e)){var d=e[0],_=d==="dictionary";if(e.length==1&&/^#/.test(d))return i.dictionary[d];d=g.exports[d],l=[];for(var y=d?1:0,m=e.length;y<m;y++)l.push(g.deserialize(e[y],t,i,_,f));if(d){var v=l;t?l=t(d,v,h||u):l=new d(v)}}else if(g.isPlainObject(e)){l={},a&&(i.dictionary=l);for(var S in e)l[S]=g.deserialize(e[S],t,i)}return f?l[1]:l},exportJSON:function(e,t){var i=g.serialize(e,t);return t&&t.asString==!1?i:JSON.stringify(i)},importJSON:function(e,t){return g.deserialize(typeof e=="string"?JSON.parse(e):e,function(i,a,u){var l=u&&t&&t.constructor===i,h=l?t:g.create(i.prototype);if(a.length===1&&h instanceof R&&(l||!(h instanceof Oe))){var f=a[0];g.isPlainObject(f)&&(f.insert=!1,l&&(a=a.concat([{insert:!0}])))}return(l?h.set:i).apply(h,a),l&&(t=null),h})},push:function(e,t){var i=t.length;if(i<4096)e.push.apply(e,t);else{var a=e.length;e.length+=i;for(var u=0;u<i;u++)e[a+u]=t[u]}return e},splice:function(e,t,i,a){var u=t&&t.length,l=i===o;i=l?e.length:i,i>e.length&&(i=e.length);for(var h=0;h<u;h++)t[h]._index=i+h;if(l)return g.push(e,t),[];var f=[i,a];t&&g.push(f,t);for(var d=e.splice.apply(e,f),h=0,_=d.length;h<_;h++)d[h]._index=o;for(var h=i+u,_=e.length;h<_;h++)e[h]._index=h;return d},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var B={on:function(e,t){if(typeof e!="string")g.each(e,function(l,h){this.on(h,l)},this);else{var i=this._eventTypes,a=i&&i[e],u=this._callbacks=this._callbacks||{};u=u[e]=u[e]||[],u.indexOf(t)===-1&&(u.push(t),a&&a.install&&u.length===1&&a.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){g.each(e,function(h,f){this.off(f,h)},this);return}var i=this._eventTypes,a=i&&i[e],u=this._callbacks&&this._callbacks[e],l;return u&&(!t||(l=u.indexOf(t))!==-1&&u.length===1?(a&&a.uninstall&&a.uninstall.call(this,e),delete this._callbacks[e]):l!==-1&&u.splice(l,1)),this},once:function(e,t){return this.on(e,function i(){t.apply(this,arguments),this.off(e,i)})},emit:function(e,t){var i=this._callbacks&&this._callbacks[e];if(!i)return!1;var a=g.slice(arguments,1),u=t&&t.target&&!t.currentTarget;i=i.slice(),u&&(t.currentTarget=this);for(var l=0,h=i.length;l<h;l++)if(i[l].apply(this,a)==!1){t&&t.stop&&t.stop();break}return u&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,i=this._callbacks,a=e?"install":"uninstall";if(t){for(var u in i)if(i[u].length>0){var l=t[u],h=l&&l[a];h&&h.call(this,u)}}},statics:{inject:function e(t){var i=t._events;if(i){var a={};g.each(i,function(u,l){var h=typeof u=="string",f=h?u:l,d=g.capitalize(f),_=f.substring(2).toLowerCase();a[_]=h?{}:u,f="_"+f,t["get"+d]=function(){return this[f]},t["set"+d]=function(y){var m=this[f];m&&this.off(_,m),y&&this.on(_,y),this[f]=y}}),t._eventTypes=a}return e.base.apply(this,arguments)}}},Z=g.extend({_class:"PaperScope",initialize:function e(){r=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var i=pt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:St.nativeModes},pt.release(i)}if(!this.agent){var a=s.navigator.userAgent.toLowerCase(),u=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],l=u==="darwin"?"mac":u,h=t.agent=t.browser={platform:l};l&&(h[l]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,d,_,y,m){if(!h.chrome){var v=d==="opera"?y:/^(node|trident)$/.test(d)?m:_;h.version=v,h.versionNumber=parseFloat(v),d={trident:"msie",jsdom:"node"}[d]||d,h.name=d,h[d]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var i=r.PaperScript.execute(e,this,t);return Je.updateFocus(),i},install:function(e){var t=this;g.each(["project","view","tool"],function(a){g.define(e,a,{configurable:!0,get:function(){return t[a]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(e[i]=this[i])},setup:function(e){return r=this,this.project=new xe(e),this},createCanvas:function(e,t){return pt.getCanvas(e,t)},activate:function(){r=this},clear:function(){for(var e=this.projects,t=this.tools,i=e.length-1;i>=0;i--)e[i].remove();for(var i=t.length-1;i>=0;i--)t[i].remove()},remove:function(){this.clear(),delete Z._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(i,a){return i[t](a)||i[t]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),Q=g.extend(B,{initialize:function(e){this._scope=r,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),ie={findItemBoundsCollisions:function(e,t,i){function a(h){for(var f=new Array(h.length),d=0;d<h.length;d++){var _=h[d].getBounds();f[d]=[_.left,_.top,_.right,_.bottom]}return f}var u=a(e),l=!t||t===e?u:a(t);return this.findBoundsCollisions(u,l,i||0)},findCurveBoundsCollisions:function(e,t,i,a){function u(v){for(var S=Math.min,E=Math.max,I=new Array(v.length),P=0;P<v.length;P++){var C=v[P];I[P]=[S(C[0],C[2],C[4],C[6]),S(C[1],C[3],C[5],C[7]),E(C[0],C[2],C[4],C[6]),E(C[1],C[3],C[5],C[7])]}return I}var l=u(e),h=!t||t===e?l:u(t);if(a){for(var f=this.findBoundsCollisions(l,h,i||0,!1,!0),d=this.findBoundsCollisions(l,h,i||0,!0,!0),_=[],y=0,m=f.length;y<m;y++)_[y]={hor:f[y],ver:d[y]};return _}return this.findBoundsCollisions(l,h,i||0)},findBoundsCollisions:function(e,t,i,a,u){var l=!t||e===t,h=l?e:e.concat(t),f=e.length,d=h.length;function _(he,ve,ye){for(var ue=0,oe=he.length;ue<oe;){var we=oe+ue>>>1;h[he[we]][ve]<ye?ue=we+1:oe=we}return ue-1}for(var y=a?1:0,m=y+2,v=a?0:1,S=v+2,E=new Array(d),I=0;I<d;I++)E[I]=I;E.sort(function(he,ve){return h[he][y]-h[ve][y]});for(var P=[],C=new Array(f),I=0;I<d;I++){var x=E[I],w=h[x],k=l?x:x-f,T=x<f,L=l||!T,N=T?[]:null;if(P.length){var M=_(P,m,w[y]-i)+1;if(P.splice(0,M),l&&u){N=N.concat(P);for(var O=0;O<P.length;O++){var D=P[O];C[D].push(k)}}else for(var U=w[S],F=w[v],O=0;O<P.length;O++){var D=P[O],H=h[D],q=D<f,W=l||D>=f;(u||(T&&W||L&&q)&&U>=H[v]-i&&F<=H[S]+i)&&(T&&W&&N.push(l?D:D-f),L&&q&&C[D].push(k))}}if(T&&(e===t&&N.push(x),C[x]=N),P.length){var G=w[m],J=_(P,m,G);P.splice(J+1,0,x)}else P.push(x)}for(var I=0;I<C.length;I++){var se=C[I];se&&se.sort(function(ve,ye){return ve-ye})}return C}},le=g.extend({initialize:function(e){this.precision=g.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,i){return this.number(e)+(i||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});le.instance=new le;var ne=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,a=Math.sqrt,u=Math.pow,l=Math.log2||function(m){return Math.log(m)*Math.LOG2E},h=1e-12,f=112e-18;function d(m,v,S){return m<v?v:m>S?S:m}function _(m,v,S){function E(M){var O=M*134217729,D=M-O,U=D+O,F=M-U;return[U,F]}var I=v*v-m*S,P=v*v+m*S;if(i(I)*3<P){var C=E(m),x=E(v),w=E(S),k=v*v,T=x[0]*x[0]-k+2*x[0]*x[1]+x[1]*x[1],L=m*S,N=C[0]*w[0]-L+C[0]*w[1]+C[1]*w[0]+C[1]*w[1];I=k-L+(T-N)}return I}function y(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?u(2,-Math.round(l(m))):0}return{EPSILON:h,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(m){return m>=-h&&m<=h},isMachineZero:function(m){return m>=-f&&m<=f},clamp:d,integrate:function(m,v,S,E){for(var I=e[E-2],P=t[E-2],C=(S-v)*.5,x=C+v,w=0,k=E+1>>1,T=E&1?P[w++]*m(x):0;w<k;){var L=C*I[w];T+=P[w++]*(m(x+L)+m(x-L))}return C*T},findRoot:function(m,v,S,E,I,P,C){for(var x=0;x<P;x++){var w=m(S),k=w/v(S),T=S-k;if(i(k)<C){S=T;break}w>0?(I=S,S=T<=E?(E+I)*.5:T):(E=S,S=T>=I?(E+I)*.5:T)}return d(S,E,I)},solveQuadratic:function(m,v,S,E,I,P){var C,x=1/0;if(i(m)<h){if(i(v)<h)return i(S)<h?-1:0;C=-S/v}else{v*=-.5;var w=_(m,v,S);if(w&&i(w)<f){var k=y(i(m),i(v),i(S));k&&(m*=k,v*=k,S*=k,w=_(m,v,S))}if(w>=-f){var T=w<0?0:a(w),L=v+(v<0?-T:T);L===0?(C=S/m,x=-C):(C=L/m,x=S/L)}}var N=0,M=I==null,O=I-h,D=P+h;return isFinite(C)&&(M||C>O&&C<D)&&(E[N++]=M?C:d(C,I,P)),x!==C&&isFinite(x)&&(M||x>O&&x<D)&&(E[N++]=M?x:d(x,I,P)),N},solveCubic:function(m,v,S,E,I,P,C){var x=y(i(m),i(v),i(S),i(E)),w,k,T,L,N;x&&(m*=x,v*=x,S*=x,E*=x);function M(J){w=J;var se=m*w;k=se+v,T=k*w+S,L=(se+k)*w+T,N=T*w+E}if(i(m)<h)m=v,k=S,T=E,w=1/0;else if(i(E)<h)k=v,T=S,w=0;else{M(-(v/m)/3);var O=N/m,D=u(i(O),1/3),U=O<0?-1:1,F=-L/m,H=F>0?1.324717957244746*Math.max(D,a(F)):D,q=w-U*H;if(q!==w){do M(q),q=L===0?w:w-N/L/(1+f);while(U*q>U*w);i(m)*w*w>i(E/w)&&(T=-E/w,k=(T-S)/w)}}var W=ne.solveQuadratic(m,k,T,I,P,C),G=P==null;return isFinite(w)&&(W===0||W>0&&w!==I[0]&&w!==I[1])&&(G||w>P-h&&w<C+h)&&(I[W++]=G?w:d(w,P,C)),W}}},fe={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},z=g.extend({_class:"Point",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new z(this.x,this.y)},toString:function(){var e=le.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var i=e/this.getLength();ne.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=z.read(arguments),t=this.getLength()*e.getLength();if(ne.isZero(t))return NaN;var i=this.dot(e)/t;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=z.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=z.read(e),i=t.x-this.x,a=t.y-this.y,u=i*i+a*a,l=g.read(e);return l?u:Math.sqrt(u)},normalize:function(e){e===o&&(e=1);var t=this.getLength(),i=t!==0?e/t:0,a=new z(this.x*i,this.y*i);return i>=0&&(a._angle=this._angle),a},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var i=t?this.subtract(t):this,a=Math.sin(e),u=Math.cos(e);return i=new z(i.x*u-i.y*a,i.x*a+i.y*u),t?i.add(t):i},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=z.read(arguments);return new z(this.x+e.x,this.y+e.y)},subtract:function(){var e=z.read(arguments);return new z(this.x-e.x,this.y-e.y)},multiply:function(){var e=z.read(arguments);return new z(this.x*e.x,this.y*e.y)},divide:function(){var e=z.read(arguments);return new z(this.x/e.x,this.y/e.y)},modulo:function(){var e=z.read(arguments);return new z(this.x%e.x,this.y%e.y)},negate:function(){return new z(-this.x,-this.y)},isInside:function(){return K.read(arguments).contains(this)},isClose:function(){var e=arguments,t=z.read(e),i=g.read(e);return this.getDistance(t)<=i},isCollinear:function(){var e=z.read(arguments);return z.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=z.read(arguments);return z.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=ne.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=z.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=z.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=z.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new z(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=z.read(e),i=z.read(e);return new z(Math.min(t.x,i.x),Math.min(t.y,i.y))},max:function(){var e=arguments,t=z.read(e),i=z.read(e);return new z(Math.max(t.x,i.x),Math.max(t.y,i.y))},random:function(){return new z(Math.random(),Math.random())},isCollinear:function(e,t,i,a){return Math.abs(e*a-t*i)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8},isOrthogonal:function(e,t,i,a){return Math.abs(e*i+t*a)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new z(t(this.x),t(this.y))}},{})),me=z.extend({initialize:function(t,i,a,u){this._x=t,this._y=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._x=e,this._y=t,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),te=g.extend({_class:"Size",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new te(this.width,this.height)},toString:function(){var e=le.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=te.read(arguments);return new te(this.width+e.width,this.height+e.height)},subtract:function(){var e=te.read(arguments);return new te(this.width-e.width,this.height-e.height)},multiply:function(){var e=te.read(arguments);return new te(this.width*e.width,this.height*e.height)},divide:function(){var e=te.read(arguments);return new te(this.width/e.width,this.height/e.height)},modulo:function(){var e=te.read(arguments);return new te(this.width%e.width,this.height%e.height)},negate:function(){return new te(-this.width,-this.height)},isZero:function(){var e=ne.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new te(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new te(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new te(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new te(t(this.width),t(this.height))}},{})),Ae=te.extend({initialize:function(t,i,a,u){this._width=t,this._height=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._width=e,this._height=t,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),K=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,a,u){var l=arguments,h=typeof t,f;if(h==="number"?(this._set(t,i,a,u),f=4):h==="undefined"||t===null?(this._set(0,0,0,0),f=t===null?1:0):l.length===1&&(Array.isArray(t)?(this._set.apply(this,t),f=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),f=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),g.readSupported(l,this)&&(f=1))),f===o){var d=z.readNamed(l,"from"),_=g.peek(l),y=d.x,m=d.y,v,S;if(_&&_.x!==o||g.hasNamed(l,"to")){var E=z.readNamed(l,"to");v=E.x-y,S=E.y-m,v<0&&(y=E.x,v=-v),S<0&&(m=E.y,S=-S)}else{var I=te.read(l);v=I.width,S=I.height}this._set(y,m,v,S),f=l.__index}var P=l.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(e,t,i,a){return this.x=e,this.y=t,this.width=i,this.height=a,this},clone:function(){return new K(this.x,this.y,this.width,this.height)},equals:function(e){var t=g.isPlainValue(e)?K.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=le.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?z:me;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=z.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?te:Ae;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=te.read(arguments),t=this._sx,i=this._sy,a=e.width,u=e.height;t&&(this.x+=(this.width-a)*t),i&&(this.y+=(this.height-u)*i),this.width=a,this.height=u,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?z:me;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=z.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==o||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(K.read(arguments)):this._containsPoint(z.read(arguments))},_containsPoint:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t+e.width<=this.x+this.width&&i+e.height<=this.y+this.height},intersects:function(){var e=K.read(arguments),t=g.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=K.read(arguments),t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),a=Math.min(this.x+this.width,e.x+e.width),u=Math.min(this.y+this.height,e.y+e.height);return new K(t,i,a-t,u-i)},unite:function(){var e=K.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width),u=Math.max(this.y+this.height,e.y+e.height);return new K(t,i,a-t,u-i)},include:function(){var e=z.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x),u=Math.max(this.y+this.height,e.y);return new K(t,i,a-t,u-i)},expand:function(){var e=te.read(arguments),t=e.width,i=e.height;return new K(this.x-t/2,this.y-i/2,this.width+t,this.height+i)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===o?e:t)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var i=e.join(""),a=/^[RL]/.test(i);t>=4&&(e[1]+=a?"Y":"X");var u=e[a?0:1],l=e[a?1:0],h="get"+u,f="get"+l,d="set"+u,_="set"+l,y="get"+i,m="set"+i;this[y]=function(v){var S=v?z:me;return new S(this[h](),this[f](),this,m)},this[m]=function(){var v=z.read(arguments);this[d](v.x),this[_](v.y)}},{beans:!0})),X=K.extend({initialize:function(t,i,a,u,l,h){this._set(t,i,a,u,!0),this._owner=l,this._setter=h},_set:function(e,t,i,a,u){return this._x=e,this._y=t,this._width=i,this._height=a,u||this._owner[this._setter](this),this}},new function(){var e=K.prototype;return g.each(["x","y","width","height"],function(t){var i=g.capitalize(t),a="_"+t;this["get"+i]=function(){return this[a]},this["set"+i]=function(u){this[a]=u,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var i="set"+t;this[i]=function(){this._dontNotify=!0,e[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var i=this._owner;i._changeSelection&&i._changeSelection(2,t)}}))}),$=g.extend({_class:"Matrix",initialize:function e(t,i){var a=arguments,u=a.length,l=!0;if(u>=6?this._set.apply(this,a):u===1||u===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,i):Array.isArray(t)?this._set.apply(this,i?t.concat([i]):t):l=!1:u?l=!1:this.reset(),!l)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,i,a,u,l,h){return this._a=e,this._b=t,this._c=i,this._d=a,this._tx=u,this._ty=l,h||this._changed(),this},_serialize:function(e,t){return g.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new $(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=le.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var i=this._owner;return i?(i.transform(null,g.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=z.read(arguments),t=e.x,i=e.y;return this._tx+=t*this._a+i*this._c,this._ty+=t*this._b+i*this._d,this._changed(),this},scale:function(){var e=arguments,t=z.read(e),i=z.read(e,0,{readNull:!0});return i&&this.translate(i),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=z.read(arguments,1),i=t.x,a=t.y,u=Math.cos(e),l=Math.sin(e),h=i-i*u+a*l,f=a-i*l-a*u,d=this._a,_=this._b,y=this._c,m=this._d;return this._a=u*d+l*y,this._b=u*_+l*m,this._c=-l*d+u*y,this._d=-l*_+u*m,this._tx+=h*d+f*y,this._ty+=h*_+f*m,this._changed(),this},shear:function(){var e=arguments,t=z.read(e),i=z.read(e,0,{readNull:!0});i&&this.translate(i);var a=this._a,u=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*a,this._d+=t.x*u,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var e=arguments,t=z.read(e),i=z.read(e,0,{readNull:!0}),a=Math.PI/180,u=new z(Math.tan(t.x*a),Math.tan(t.y*a));return this.shear(u,i)},append:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=e._a,f=e._c,d=e._b,_=e._d,y=e._tx,m=e._ty;this._a=h*i+d*u,this._c=f*i+_*u,this._b=h*a+d*l,this._d=f*a+_*l,this._tx+=y*i+m*u,this._ty+=y*a+m*l,t||this._changed()}return this},prepend:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,d=e._a,_=e._c,y=e._b,m=e._d,v=e._tx,S=e._ty;this._a=d*i+_*a,this._c=d*u+_*l,this._b=y*i+m*a,this._d=y*u+m*l,this._tx=d*h+_*f+v,this._ty=y*h+m*f+S,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=this._tx,l=this._ty,h=e*a-t*i,f=null;return h&&!isNaN(h)&&isFinite(u)&&isFinite(l)&&(this._a=a/h,this._b=-t/h,this._c=-i/h,this._d=e/h,this._tx=(i*l-a*u)/h,this._ty=(t*u-e*l)/h,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new $(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,i){return arguments.length<3?this._transformPoint(z.read(arguments)):this._transformCoordinates(e,t,i)},_transformPoint:function(e,t,i){var a=e.x,u=e.y;return t||(t=new z),t._set(a*this._a+u*this._c+this._tx,a*this._b+u*this._d+this._ty,i)},_transformCoordinates:function(e,t,i){for(var a=0,u=2*i;a<u;a+=2){var l=e[a],h=e[a+1];t[a]=l*this._a+h*this._c+this._tx,t[a+1]=l*this._b+h*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,i=e.y,a=t+e.width,u=i+e.height,l=[t,i,a,i,a,u,t,u];return this._transformCoordinates(l,l,4)},_transformBounds:function(e,t,i){for(var a=this._transformCorners(e),u=a.slice(0,2),l=u.slice(),h=2;h<8;h++){var f=a[h],d=h&1;f<u[d]?u[d]=f:f>l[d]&&(l[d]=f)}return t||(t=new K),t._set(u[0],u[1],l[0]-u[0],l[1]-u[1],i)},inverseTransform:function(){return this._inverseTransform(z.read(arguments))},_inverseTransform:function(e,t,i){var a=this._a,u=this._b,l=this._c,h=this._d,f=this._tx,d=this._ty,_=a*h-u*l,y=null;if(_&&!isNaN(_)&&isFinite(f)&&isFinite(d)){var m=e.x-this._tx,v=e.y-this._ty;t||(t=new z),y=t._set((m*h-v*l)/_,(v*a-m*u)/_,i)}return y},decompose:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=e*a-t*i,l=Math.sqrt,h=Math.atan2,f=180/Math.PI,d,_,y;if(e!==0||t!==0){var m=l(e*e+t*t);d=Math.acos(e/m)*(t>0?1:-1),_=[m,u/m],y=[h(e*i+t*a,m*m),0]}else if(i!==0||a!==0){var v=l(i*i+a*a);d=Math.asin(i/v)*(a>0?1:-1),_=[u/v,v],y=[0,h(e*i+t*a,v*v)]}else d=0,y=_=[0,0];return{translation:this.getTranslation(),rotation:d*f,scaling:new z(_),skewing:new z(y[0]*f,y[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new z(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._changed()}},{})),de=g.extend({_class:"Line",initialize:function(t,i,a,u,l){var h=!1;arguments.length>=4?(this._px=t,this._py=i,this._vx=a,this._vy=u,h=l):(this._px=t.x,this._py=t.y,this._vx=i.x,this._vy=i.y,h=a),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new z(this._px,this._py)},getVector:function(){return new z(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return de.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return de.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return de.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return z.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return z.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,i,a,u,l,h,f,d,_){d||(i-=e,a-=t,h-=u,f-=l);var y=i*f-a*h;if(!ne.isMachineZero(y)){var m=e-u,v=t-l,S=(h*v-f*m)/y,E=(i*v-a*m)/y,I=1e-12,P=-I,C=1+I;if(_||P<S&&S<C&&P<E&&E<C)return _||(S=S<=0?0:S>=1?1:S),new z(e+S*i,t+S*a)}},getSide:function(e,t,i,a,u,l,h,f){h||(i-=e,a-=t);var d=u-e,_=l-t,y=d*a-_*i;return!f&&ne.isMachineZero(y)&&(y=(d*i+d*i)/(i*i+a*a),y>=0&&y<=1&&(y=0)),y<0?-1:y>0?1:0},getSignedDistance:function(e,t,i,a,u,l,h){return h||(i-=e,a-=t),i===0?a>0?u-e:e-u:a===0?i<0?l-t:t-l:((u-e)*a-(l-t)*i)/(a>i?a*Math.sqrt(1+i*i/(a*a)):i*Math.sqrt(1+a*a/(i*i)))},getDistance:function(e,t,i,a,u,l,h){return Math.abs(de.getSignedDistance(e,t,i,a,u,l,h))}}}),xe=Q.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){Q.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Sn(null,null,this),this._view=Je.create(this,t||pt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return g.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var a=this._changes;if(a&&t){var u=this._changesById,l=t._id,h=u[l];h?h.flags|=e:a.push(u[l]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Oe({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:st,match:function(i){var a=i._definition,u=a._id;return t[u]||(t[u]=!0,e.push(a)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var i in e){var a=e[i],u=a._selection;u&1&&a.isInserted()?t.push(a):u||this._updateSelection(a)}return t},_updateSelection:function(e){var t=e._id,i=this._selectionItems;e._selection?i[t]!==e&&(this._selectionCount++,i[t]=e):i[t]===e&&(this._selectionCount--,delete i[t])},selectAll:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(o,e)},insertLayer:function(e,t){if(t instanceof Oe){t._remove(!1,!0),g.splice(this._children,[t],e,0),t._setProject(this,!0);var i=t._name;i&&t.setName(i),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,i){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(o,new Oe(R.NO_INSERT),!0)).insertChild(e,t),i&&t.activate&&t.activate(),t},getItems:function(e){return R._getItems(this,e)},getItem:function(e){return R._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return g.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var i=t[e];if(i){for(var a in i){var u=i[a];for(var l in t){var h=t[l];h&&h!=i&&delete h[u._id]}u.remove()}t[e]=null}}},draw:function(e,t,i){this._updateVersion++,e.save(),t.applyToContext(e);for(var a=this._children,u=new g({offset:new z(0,0),pixelRatio:i,viewMatrix:t.isIdentity()?null:t,matrices:[new $],updateMatrix:!0}),l=0,h=a.length;l<h;l++)a[l].draw(e,u);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var f=this._selectionItems,d=this._scope.settings.handleSize,_=this._updateVersion;for(var y in f)f[y]._drawSelection(e,t,d,f,_);e.restore()}}}),R=g.extend(B,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=g.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new $,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(e,function(t){this._events[t]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var i=e&&g.isPlainObject(e),a=i&&e.internal===!0,u=this._matrix=new $,l=i&&e.project||r.project,h=r.settings;return this._id=a?null:fe.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,t&&u.translate(t),u._owner=this,this._style=new Sn(l._currentStyle,this,l),a||i&&e.insert==!1||!h.insertItems&&!(i&&e.insert===!0)?this._setProject(l):(i&&e.parent||l)._insertItem(o,this,!0),i&&e!==R.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(e,t){var i={},a=this;function u(l){for(var h in l){var f=a[h];g.equals(f,h==="leading"?l.fontSize*1.2:l[h])||(i[h]=g.serialize(f,e,h!=="data",t))}}return u(this._serializeFields),this instanceof ke||u(this._style._defaults),[this._class,i]},_changed:function(e){var t=this._symbol,i=this._parent||t,a=this._project;e&8&&(this._bounds=this._position=this._decomposed=o),e&16&&(this._globalMatrix=o),i&&e&72&&R._clearBoundsCache(i),e&2&&R._clearBoundsCache(this),a&&a._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var i=t._children,a=t._namedChildren;(a[e]=a[e]||[]).push(this),e in i||(i[e]=this)}this._name=e||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},g.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=g.capitalize(e),i="_"+e,a={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(u){u!=this[i]&&(this[i]=u,this._changed(a[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var i=0,a=e.length;i<a;i++)if(!e[i].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var i=0,a=t.length;i<a;i++)t[i].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?z:me,i=this._position||(this._position=this._getPositionFromBounds());return new t(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(z.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new me(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=z.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(i){return this.getBounds(i,e)}},{beans:!0,getBounds:function(e,t){var i=t||e instanceof $,a=g.set({},i?t:e,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var u=this._getCachedBounds(i&&e,a).rect;return arguments.length?u:new X(u.x,u.y,u.width,u.height,this,"setBounds")},setBounds:function(){var e=K.read(arguments),t=this.getBounds(),i=this._matrix,a=new $,u=e.getCenter();a.translate(u),(e.width!=t.width||e.height!=t.height)&&(i.isInvertible()||(i.set(i._backup||new $().translate(i.getTranslation())),t=this.getBounds()),a.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),u=t.getCenter(),a.translate(-u.x,-u.y),this.transform(a)},_getBounds:function(e,t){var i=this._children;return!i||!i.length?new K:(R._updateBoundsCache(this,t.cacheItem),R._getBounds(i,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,i){e=e&&e._orNullIfIdentity();var a=t.internal&&!i,u=t.cacheItem,l=a?null:this._matrix._orNullIfIdentity(),h=u&&(!e||e.equals(l))&&this._getBoundsCacheKey(t,a),f=this._bounds;if(R._updateBoundsCache(this._parent||this._symbol,u),h&&f&&h in f){var d=f[h];return{rect:d.rect.clone(),nonscaling:d.nonscaling}}var _=this._getBounds(e||l,t),y=_.rect||_,m=this._style,v=_.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(h){f||(this._bounds=f={});var d=f[h]={rect:y.clone(),nonscaling:v,internal:a}}return{rect:y,nonscaling:v}},_getStrokeMatrix:function(e,t){var i=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,a=i?i.getViewMatrix().invert():e;return a&&a._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var i=t._id,a=e._boundsCache=e._boundsCache||{ids:{},list:[]};a.ids[i]||(a.list.push(t),a.ids[i]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=o;for(var i=0,a=t.list,u=a.length;i<u;i++){var l=a[i];l!==e&&(l._bounds=l._position=o,l._boundsCache&&R._clearBoundsCache(l))}}},_getBounds:function(e,t,i){var a=1/0,u=-a,l=a,h=u,f=!1;i=i||{};for(var d=0,_=e.length;d<_;d++){var y=e[d];if(y._visible&&!y.isEmpty(!0)){var m=y._getCachedBounds(t&&t.appended(y._matrix),i,!0),v=m.rect;a=Math.min(v.x,a),l=Math.min(v.y,l),u=Math.max(v.x+v.width,u),h=Math.max(v.y+v.height,h),m.nonscaling&&(f=!0)}}return{rect:isFinite(a)?new K(a,l,u-a,h-l):new K,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var i=this._decomposed;this.rotate(e-t),i&&(i.rotation=e,this._decomposed=i)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new me(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=z.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var i=this.getRotation(),a=this._decomposed,u=new $,l=ne.isZero;if(l(e.x)||l(e.y))u.translate(a.translation),i&&u.rotate(i),u.scale(t.x,t.y),this._matrix.set(u);else{var h=this.getPosition(!0);u.translate(h),i&&u.rotate(i),u.scale(t.x/e.x,t.y/e.y),i&&u.rotate(-i),u.translate(h.negate()),this.transform(u)}a&&(a.scaling=t,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var i=this._parent,a=[];i;){if(!i._globalMatrix){t=null;for(var u=0,l=a.length;u<l;u++)a[u]._globalMatrix=null;break}a.push(i),i=i._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&t.prepend(i.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof Oe)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return g.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(R.NO_INSERT),i=this._children,a=g.pick(e?e.insert:o,e===o||e===!0),u=g.pick(e?e.deep:o,!0);i&&t.copyAttributes(this),(!i||u)&&t.copyContent(this),i||t.copyAttributes(this),a&&t.insertAbove(this);var l=this._name,h=this._parent;if(l&&h){for(var i=h._children,f=l,d=1;i[l];)l=f+" "+d++;l!==f&&t.setName(l)}return t},copyContent:function(e){for(var t=e._children,i=0,a=t&&t.length;i<a;i++)this.addChild(t[i].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,u=i.length;a<u;a++){var l=i[a];e.hasOwnProperty(l)&&(this[l]=e[l])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var h=e._data,f=e._name;this._data=h?g.clone(h):null,f&&this.setName(f)},rasterize:function(e,t){var i,a,u;g.isPlainObject(e)?(i=e.resolution,a=e.insert,u=e.raster):(i=e,a=t),u?u.matrix.reset(!0):u=new De(R.NO_INSERT);var l=this.getStrokeBounds(),h=(i||this.getView().getResolution())/72,f=l.getTopLeft().floor(),d=l.getBottomRight().ceil(),_=new te(d.subtract(f)),y=_.multiply(h);if(u.setSize(y,!0),!y.isZero()){var m=u.getContext(!0),v=new $().scale(h).translate(f.negate());m.save(),v.applyToContext(m),this.draw(m,new g({matrices:[v]})),m.restore()}return u.transform(new $().translate(f.add(_.divide(2))).scale(1/h)),(a===o||a)&&u.insertAbove(this),u},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(z.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var i=t.length-1;i>=0;i--)if(t[i].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return K.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Ce.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof R?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var a=arguments;return this._hitTest(z.read(a),it.getOptions(a))}function t(){var a=arguments,u=z.read(a),l=it.getOptions(a),h=[];return this._hitTest(u,new g({all:h},l)),h}function i(a,u,l,h){var f=this._children;if(f)for(var d=f.length-1;d>=0;d--){var _=f[d],y=_!==h&&_._hitTest(a,u,l);if(y&&!u.all)return y}return null}return xe.inject({hitTest:e,hitTestAll:t,_hitTest:i}),{hitTest:e,hitTestAll:t,_hitTestChildren:i}},{_hitTest:function(e,t,i){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var a=this._matrix,u=i?i.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),l=Math.max(t.tolerance,1e-12),h=t._tolerancePadding=new te(Ce._getStrokePadding(l,a._shiftless().invert()));if(e=a._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(e))return null;var f=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==g.hyphenate(this._class)||t.class&&!(this instanceof t.class)),d=t.match,_=this,y,m;function v(w){return w&&d&&!d(w)&&(w=null),w&&t.all&&t.all.push(w),w}function S(w,k){var T=k?y["get"+k]():_.getPosition();if(e.subtract(T).divide(h).length<=1)return new it(w,_,{name:k?g.hyphenate(k):w,point:T})}var E=t.position,I=t.center,P=t.bounds;if(f&&this._parent&&(E||I||P)){if((I||P)&&(y=this.getInternalBounds()),m=E&&S("position")||I&&S("center","Center"),!m&&P)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!m;x++)m=S("bounds",C[x]);m=v(m)}return m||(m=this._hitTestChildren(e,t,u)||f&&v(this._hitTestSelf(e,t,u,this.getStrokeScaling()?null:u._shiftless().invert()))||null),m&&m.point&&(m.point=a.transform(m.point)),m},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new it("fill",this)},matches:function(e,t){function i(h,f){for(var d in h)if(h.hasOwnProperty(d)){var _=h[d],y=f[d];if(g.isPlainObject(_)&&g.isPlainObject(y)){if(!i(_,y))return!1}else if(!g.equals(_,y))return!1}return!0}var a=typeof e;if(a==="object"){for(var u in e)if(e.hasOwnProperty(u)&&!this.matches(u,e[u]))return!1;return!0}else{if(a==="function")return e(this);if(e==="match")return t(this);var l=/^(empty|editable)$/.test(e)?this["is"+g.capitalize(e)]():e==="type"?g.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;l=this._class}if(typeof t=="function")return!!t(l);if(t){if(t.test)return t.test(l);if(g.isPlainObject(t))return i(t,l)}return g.equals(l,t)}},getItems:function(e){return R._getItems(this,e,this._matrix)},getItem:function(e){return R._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,i,a,u,l){if(!u){var h=typeof i=="object"&&i,f=h&&h.overlapping,d=h&&h.inside,_=f||d,v=_&&K.read([_]);u={items:[],recursive:h&&h.recursive!==!1,inside:!!d,overlapping:!!f,rect:v,path:f&&new Ce.Rectangle({rectangle:v,insert:!1})},h&&(i=g.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var y=t._children,m=u.items,v=u.rect;a=v&&(a||new $);for(var S=0,E=y&&y.length;S<E;S++){var I=y[S],P=a&&a.appended(I._matrix),C=!0;if(v){var _=I.getBounds(P);if(!v.intersects(_))continue;v.contains(_)||u.overlapping&&(_.contains(v)||u.path.intersects(I,P))||(C=!1)}if(C&&I.matches(i)&&(m.push(I),l)||(u.recursive!==!1&&e(I,i,P,u,l),l&&m.length>0))break}return m}}},{importJSON:function(e){var t=g.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(o,e)},insertChild:function(e,t){var i=t?this.insertChildren(e,[t]):null;return i&&i[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var i=this._children;if(i&&t&&t.length>0){t=g.slice(t);for(var a={},u=t.length-1;u>=0;u--){var l=t[u],h=l&&l._id;!l||a[h]?t.splice(u,1):(l._remove(!1,!0),a[h]=!0)}g.splice(i,t,e,0);for(var f=this._project,d=f._changes,u=0,_=t.length;u<_;u++){var l=t[u],y=l._name;l._parent=this,l._setProject(f,!0),y&&l.setName(y),d&&l._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var i=e&&e._getOwner(),a=e!==this&&i?this:null;return a&&(a._remove(!1,!0),i._insertItem(e._index+t,a)),a},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(o,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var i=t[0].reduce(e);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,i=e._namedChildren,a=this._name,u=i[a],l=u?u.indexOf(this):-1;l!==-1&&(t[a]==this&&delete t[a],u.splice(l,1),u.length?t[a]=u[0]:delete i[a])}},_remove:function(e,t){var i=this._getOwner(),a=this._project,u=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),u!=null&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(i._children,null,u,1)),this._installEvents(!1),e&&a._changes&&this._changed(5),t&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=g.pick(t,this._children.length);for(var i=g.splice(this._children,null,e,t-e),a=i.length-1;a>=0;a--)i[a]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,i=t?t.length:0;if(e){for(var a=0;a<i;a++)if(!t[a].isEmpty(e))return!1;return!0}return!i},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(h){var f=[];do f.unshift(h);while(h=h._parent);return f}for(var i=t(this),a=t(e),u=0,l=Math.min(i.length,a.length);u<l;u++)if(i[u]!=a[u])return i[u]._index<a[u]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:z).read(i),u=z.read(i,0,{readNull:!0});return this.transform(new $()[e](a,u||this.getPosition(!0)))}},{translate:function(){var e=new $;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,i){var a=this._matrix,u=e&&!e.isIdentity(),l=i&&this._canApplyMatrix||this._applyMatrix&&(u||!a.isIdentity()||t&&this._children);if(!u&&!l)return this;if(u){!e.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(e,!0);var h=this._style,f=h.getFillColor(!0),d=h.getStrokeColor(!0);f&&f.transform(e),d&&d.transform(e)}if(l&&(l=this._transformContent(a,t,i))){var _=this._pivot;_&&a._transformPoint(_,_,!0),a.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var y=this._bounds,m=this._position;(u||l)&&this._changed(25);var v=u&&y&&e.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var S in y){var E=y[S];if(E.nonscaling)delete y[S];else if(l||!E.internal){var I=E.rect;e._transformBounds(I,I)}}this._bounds=y;var P=y[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else u&&m&&this._pivot&&(this._position=e._transformPoint(m,m));return this},_transformContent:function(e,t,i){var a=this._children;if(a){for(var u=0,l=a.length;u<l;u++)a[u].transform(e,t,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(z.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(z.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(z.read(arguments))},localToParent:function(){return this._matrix._transformPoint(z.read(arguments))},fitBounds:function(e,t){e=K.read(arguments);var i=this.getBounds(),a=i.height/i.width,u=e.height/e.width,l=(t?a>u:a<u)?e.width/i.width:e.height/i.height,h=new K(new z,new te(i.width*l,i.height*l));h.setCenter(e.getCenter()),this.setBounds(h)}}),{_setStyles:function(e,t,i){var a=this._style,u=this._matrix;if(a.hasFill()&&(e.fillStyle=a.getFillColor().toCanvasStyle(e,u)),a.hasStroke()){e.strokeStyle=a.getStrokeColor().toCanvasStyle(e,u),e.lineWidth=a.getStrokeWidth();var l=a.getStrokeJoin(),h=a.getStrokeCap(),f=a.getMiterLimit();if(l&&(e.lineJoin=l),h&&(e.lineCap=h),f&&(e.miterLimit=f),r.support.nativeDash){var d=a.getDashArray(),_=a.getDashOffset();d&&d.length&&("setLineDash"in e?(e.setLineDash(d),e.lineDashOffset=_):(e.mozDash=d,e.mozDashOffset=_))}}if(a.hasShadow()){var y=t.pixelRatio||1,m=i._shiftless().prepend(new $().scale(y,y)),v=m.transform(new z(a.getShadowBlur(),0)),S=m.transform(this.getShadowOffset());e.shadowColor=a.getShadowColor().toCanvasStyle(e),e.shadowBlur=v.getLength(),e.shadowOffsetX=S.x,e.shadowOffsetY=S.y}},draw:function(e,t,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var a=t.matrices,u=t.viewMatrix,l=this._matrix,h=a[a.length-1].appended(l);if(!!h.isInvertible()){u=u?u.appended(h):h,a.push(h),t.updateMatrix&&(this._globalMatrix=h);var f=this._blendMode,d=ne.clamp(this._opacity,0,1),_=f==="normal",y=St.nativeModes[f],m=_&&d===1||t.dontStart||t.clip||(y||_&&d<1)&&this._canComposite(),v=t.pixelRatio||1,S,E,I;if(!m){var P=this.getStrokeBounds(u);if(!P.width||!P.height){a.pop();return}I=t.offset,E=t.offset=P.getTopLeft().floor(),S=e,e=pt.getContext(P.getSize().ceil().add(1).multiply(v)),v!==1&&e.scale(v,v)}e.save();var C=i?i.appended(l):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,x=!m&&t.clipItem,w=!C||x;if(m?(e.globalAlpha=d,y&&(e.globalCompositeOperation=f)):w&&e.translate(-E.x,-E.y),w&&(m?l:u).applyToContext(e),x&&t.clipItem.draw(e,t.extend({clip:!0})),C){e.setTransform(v,0,0,v,0,0);var k=t.offset;k&&e.translate(-k.x,-k.y)}this._draw(e,t,u,C),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),m||(St.process(f,e,S,d,E.subtract(I).multiply(v)),pt.release(e),t.offset=I)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Be)return t._isUpdated(e);var i=this._updateVersion===e;return!i&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,i=!0),i},_drawSelection:function(e,t,i,a,u){var l=this._selection,h=l&1,f=l&2||h&&this._selectBounds,d=l&4;if(this._drawSelected||(h=!1),(h||f||d)&&this._isUpdated(u)){var _,y=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),m=t.appended(this.getGlobalMatrix(!0)),v=i/2;if(e.strokeStyle=e.fillStyle=y?y.toCanvasStyle(e):"#009dec",h&&this._drawSelected(e,m,a),d){var S=this.getPosition(!0),E=this._parent,I=E?E.localToGlobal(S):S,P=I.x,C=I.y;e.beginPath(),e.arc(P,C,v,0,Math.PI*2,!0),e.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],w=v,k=i+1,T=0;T<4;T++){var L=x[T],N=L[0],M=L[1];e.moveTo(P+N*w,C+M*w),e.lineTo(P+N*k,C+M*k),e.stroke()}}if(f){var O=m._transformCorners(this.getInternalBounds());e.beginPath();for(var T=0;T<8;T++)e[T?"lineTo":"moveTo"](O[T],O[++T]);e.closePath(),e.stroke();for(var T=0;T<8;T++)e.fillRect(O[T]-v,O[++T]-v,i,i)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(e){this["removeOn"+g.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var i="mouse"+t,a=this._project,u=a._removeSets=a._removeSets||{};u[i]=u[i]||{},u[i][this._id]=this}return this}}),{tween:function(e,t,i){i||(i=t,t=e,e=null,i||(i=t,t=null));var a=i&&i.easing,u=i&&i.start,l=i!=null&&(typeof i=="number"?i:i.duration),h=new pi(this,e,t,l,a,u);function f(d){h._handleFrame(d.time*1e3),h.running||this.off("frame",f)}return l&&this.on("frame",f),h},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),ke=R.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=o)},_getClipItem:function(){var e=this._clipItem;if(e===o){e=null;for(var t=this._children,i=0,a=t.length;i<a;i++)if(t[i]._clipMask){e=t[i];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,i){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(t),g.set({},i,{stroke:!1})):e.base.call(this,t,i)},_hitTestChildren:function e(t,i,a){var u=this._getClipItem();return(!u||u.contains(t))&&e.base.call(this,t,i,a,u)},_draw:function(e,t){var i=t.clip,a=!i&&this._getClipItem();t=t.extend({clipItem:a,clip:!1}),i?(e.beginPath(),t.dontStart=t.dontFinish=!0):a&&a.draw(e,t.extend({clip:!0}));for(var u=this._children,l=0,h=u.length;l<h;l++){var f=u[l];f!==a&&f.draw(e,t)}}}),Oe=ke.extend({_class:"Layer",initialize:function(){ke.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Fe=R.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,i){this._initialize(t,i)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&g.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new Ae(e.width,e.height,this,"setSize")},setSize:function(){var e=te.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,i=e.width,a=e.height;t==="rectangle"?this._radius.set(te.min(this._radius,e.divide(2).abs())):t==="circle"?(i=a=(i+a)/2,this._radius=i/2):t==="ellipse"&&this._radius._set(i/2,a/2),this._size._set(i,a),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new Ae(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var i=e*2;this._radius=e,this._size._set(i,i)}else if(e=te.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var i=te.max(this._size,e.multiply(2));this._size.set(i)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new Ce[g.capitalize(this._type)]({center:new z,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),r.settings.applyMatrix&&t.setApplyMatrix(!0),(e===o||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,i,a){var u=this._style,l=u.hasFill(),h=u.hasStroke(),f=t.dontFinish||t.clip,d=!a;if(l||h||f){var _=this._type,y=this._radius,m=_==="circle";if(t.dontStart||e.beginPath(),d&&m)e.arc(0,0,y,0,Math.PI*2,!0);else{var v=m?y:y.width,S=m?y:y.height,E=this._size,I=E.width,P=E.height;if(d&&_==="rectangle"&&v===0&&S===0)e.rect(-I/2,-P/2,I,P);else{var C=I/2,x=P/2,w=1-.5522847498307936,k=v*w,T=S*w,L=[-C,-x+S,-C,-x+T,-C+k,-x,-C+v,-x,C-v,-x,C-k,-x,C,-x+T,C,-x+S,C,x-S,C,x-T,C-k,x,C-v,x,-C+v,x,-C+k,x,-C,x-T,-C,x-S];a&&a.transform(L,L,32),e.moveTo(L[0],L[1]),e.bezierCurveTo(L[2],L[3],L[4],L[5],L[6],L[7]),C!==v&&e.lineTo(L[8],L[9]),e.bezierCurveTo(L[10],L[11],L[12],L[13],L[14],L[15]),x!==S&&e.lineTo(L[16],L[17]),e.bezierCurveTo(L[18],L[19],L[20],L[21],L[22],L[23]),C!==v&&e.lineTo(L[24],L[25]),e.bezierCurveTo(L[26],L[27],L[28],L[29],L[30],L[31])}}e.closePath()}!f&&(l||h)&&(this._setStyles(e,t,i),l&&(e.fill(u.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var i=new K(this._size).setCenter(0,0),a=this._style,u=t.stroke&&a.hasStroke()&&a.getStrokeWidth();return e&&(i=e._transformBounds(i)),u?i.expand(Ce._getStrokePadding(u,this._getStrokeMatrix(e,t))):i}},new function(){function e(i,a,u){var l=i._radius;if(!l.isZero())for(var h=i._size.divide(2),f=1;f<=4;f++){var d=new z(f>1&&f<4?-1:1,f>2?-1:1),_=d.multiply(h),y=_.subtract(d.multiply(l)),m=new K(u?_.add(d.multiply(u)):_,y);if(m.contains(a))return{point:y,quadrant:f}}}function t(i,a,u,l){var h=i.divide(a);return(!l||h.isInQuadrant(l))&&h.subtract(h.normalize()).multiply(a).divide(u).length<=1}return{_contains:function i(a){if(this._type==="rectangle"){var u=e(this,a);return u?a.subtract(u.point).divide(this._radius).getLength()<=1:i.base.call(this,a)}else return a.divide(this.size).getLength()<=.5},_hitTestSelf:function i(a,u,l,h){var f=!1,d=this._style,_=u.stroke&&d.hasStroke(),y=u.fill&&d.hasFill();if(_||y){var m=this._type,v=this._radius,S=_?d.getStrokeWidth()/2:0,E=u._tolerancePadding.add(Ce._getStrokePadding(S,!d.getStrokeScaling()&&h));if(m==="rectangle"){var I=E.multiply(2),P=e(this,a,I);if(P)f=t(a.subtract(P.point),v,E,P.quadrant);else{var C=new K(this._size).setCenter(0,0),x=C.expand(I),w=C.expand(I.negate());f=x._containsPoint(a)&&!w._containsPoint(a)}}else f=t(a,v,E)}return f?new it(_?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function e(t,i,a,u,l){var h=g.create(Fe.prototype);return h._type=t,h._size=a,h._radius=u,h._initialize(g.getNamed(l),i),h}return{Circle:function(){var t=arguments,i=z.readNamed(t,"center"),a=g.readNamed(t,"radius");return e("circle",i,new te(a*2),a,t)},Rectangle:function(){var t=arguments,i=K.readNamed(t,"rectangle"),a=te.min(te.readNamed(t,"radius"),i.getSize(!0).divide(2));return e("rectangle",i.getCenter(!0),i.getSize(!0),a,t)},Ellipse:function(){var t=arguments,i=Fe._readEllipse(t),a=i.radius;return e("ellipse",i.center,a.multiply(2),a,t)},_readEllipse:function(t){var i,a;if(g.hasNamed(t,"radius"))i=z.readNamed(t,"center"),a=te.readNamed(t,"radius");else{var u=K.readNamed(t,"rectangle");i=u.getCenter(!0),a=u.getSize(!0).divide(2)}return{center:i,radius:a}}}}}),De=R.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,i){if(!this._initialize(t,i!==o&&z.read(arguments))){var a,u=typeof t,l=u==="string"?b.getElementById(t):u==="object"?t:null;if(l&&l!==R.NO_INSERT){if(l.getContext||l.naturalHeight!=null)a=l;else if(l){var h=te.read(arguments);h.isZero()||(a=pt.getCanvas(h))}}a?this.setImage(a):this.setSource(t)}this._size||(this._size=new te,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,i=e._canvas;if(t)this._setImage(t);else if(i){var a=pt.getCanvas(e._size);a.getContext("2d").drawImage(i,0,0),this._setImage(a)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new Ae(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var i=te.read(arguments);if(i.equals(this._size))t&&this.clear();else if(i.width>0&&i.height>0){var a=!t&&this.getElement();this._setImage(pt.getCanvas(i)),a&&this.getContext(!0).drawImage(a,0,0,i.width,i.height)}else this._canvas&&pt.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new z(0,0).transform(e),i=new z(1,0).transform(e).subtract(t),a=new z(0,1).transform(e).subtract(t);return new te(72/i.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function i(a){var u=t.getView(),l=a&&a.type||"load";u&&t.responds(l)&&(r=u._scope,t.emit(l,new Tn(a)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&tt.add(e,{load:function(a){t._setImage(e),i(a)},error:i})},_setImage:function(e){this._canvas&&pt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new te(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=pt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){pt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,i=this._crossOrigin;i&&(t.crossOrigin=i),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=K.read(arguments),t=pt.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=K.read(arguments),t=new De(R.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(e){var t=z.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,i;if(e?e instanceof Te?(i=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new K(e):"x"in e&&(t=new K(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var a=32,u=Math.min(t.width,a),l=Math.min(t.height,a),h=De._sampleContext;h?h.clearRect(0,0,a+1,a+1):h=De._sampleContext=pt.getContext(new te(a)),h.save();var f=new $().scale(u/t.width,l/t.height).translate(-t.x,-t.y);f.applyToContext(h),i&&i.draw(h,new g({clip:!0,matrices:[f]})),this._matrix.applyToContext(h);var d=this.getElement(),_=this._size;d&&h.drawImage(d,-_.width/2,-_.height/2),h.restore();for(var y=h.getImageData(.5,.5,Math.ceil(u),Math.ceil(l)).data,m=[0,0,0],v=0,S=0,E=y.length;S<E;S+=4){var I=y[S+3];v+=I,I/=255,m[0]+=y[S]*I,m[1]+=y[S+1]*I,m[2]+=y[S+2]*I}for(var S=0;S<3;S++)m[S]/=v;return v?We.read(m):null},getPixel:function(){var e=z.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new We("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=z.read(e),i=We.read(e),a=i._convert("rgb"),u=i._alpha,l=this.getContext(!0),h=l.createImageData(1,1),f=h.data;f[0]=a[0]*255,f[1]=a[1]*255,f[2]=a[2]*255,f[3]=u!=null?u*255:255,l.putImageData(h,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=te.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=K.read(arguments);return e.isEmpty()&&(e=new K(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=z.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var i=new K(this._size).setCenter(0,0);return e?e._transformBounds(i):i},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new it("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,i){var a=this.getElement();if(a&&a.width>0&&a.height>0){e.globalAlpha=ne.clamp(this._opacity,0,1),this._setStyles(e,t,i);var u=this._smoothing,l=u==="off";Ze.setPrefixed(e,l?"imageSmoothingEnabled":"imageSmoothingQuality",l?!1:u),e.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),st=R.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==o&&z.read(arguments,1))||this.setDefinition(t instanceof je?t:new je(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(e),t)},_hitTestSelf:function(e,t,i){var a=t.extend({all:!1}),u=this._definition._item._hitTest(e,a,i);return u&&(u.item=this),u},_draw:function(e,t){this._definition._item.draw(e,t)}}),je=g.extend({_class:"SymbolDefinition",initialize:function(t,i){this._id=fe.get(),this.project=r.project,t&&this.setItem(t,i)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&R._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new z),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new st(this,e)},clone:function(){return new je(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),it=g.extend({_class:"HitResult",initialize:function(t,i,a){this.type=t,this.item=i,a&&this.inject(a)},statics:{getOptions:function(e){var t=e&&g.read(e);return new g({type:null,tolerance:r.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),be=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,a,u,l,h){var f=arguments.length,d,_,y,m;f>0&&(t==null||typeof t=="object"?f===1&&t&&"point"in t?(d=t.point,_=t.handleIn,y=t.handleOut,m=t.selection):(d=t,_=i,y=a,m=u):(d=[t,i],_=a!==o?[a,u]:null,y=l!==o?[l,h]:null)),new wt(d,this,"_point"),new wt(_,this,"_handleIn"),new wt(y,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(e,t){var i=this._point,a=this._selection,u=a||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return a&&u.push(a),g.serialize(u,e,!0,t)},_changed:function(e){var t=this._path;if(!!t){var i=t._curves,a=this._index,u;i&&((!e||e===this._point||e===this._handleIn)&&(u=a>0?i[a-1]:t._closed?i[i.length-1]:null)&&u._changed(),(!e||e===this._point||e===this._handleOut)&&(u=i[a])&&u._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(z.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(z.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(z.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,i=this._path;this._selection=e=e||0,i&&e!==t&&(i._updateSelection(this,t,e),i._changed(257))},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new at(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,i){var a=e||{},u=a.type,l=a.factor,h=this.getPrevious(),f=this.getNext(),d=(h||this)._point,_=this._point,y=(f||this)._point,m=d.getDistance(_),v=_.getDistance(y);if(!u||u==="catmull-rom"){var S=l===o?.5:l,E=Math.pow(m,S),I=E*E,P=Math.pow(v,S),C=P*P;if(!t&&h){var x=2*C+3*P*E+I,w=3*P*(P+E);this.setHandleIn(w!==0?new z((C*d._x+x*_._x-I*y._x)/w-_._x,(C*d._y+x*_._y-I*y._y)/w-_._y):new z)}if(!i&&f){var x=2*I+3*E*P+C,w=3*E*(E+P);this.setHandleOut(w!==0?new z((I*y._x+x*_._x-C*d._x)/w-_._x,(I*y._y+x*_._y-C*d._y)/w-_._y):new z)}}else if(u==="geometric"){if(h&&f){var k=d.subtract(y),T=l===o?.4:l,L=T*m/(m+v);t||this.setHandleIn(k.multiply(L)),i||this.setHandleOut(k.multiply(L-T))}}else throw new Error("Smoothing method '"+u+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,i=e.clone();e.set(t),t.set(i)},reversed:function(){return new be(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new be(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,i){var a=1-i,u=i,l=e._point,h=t._point,f=e._handleIn,d=t._handleIn,_=t._handleOut,y=e._handleOut;this._point._set(a*l._x+u*h._x,a*l._y+u*h._y,!0),this._handleIn._set(a*f._x+u*d._x,a*f._y+u*d._y,!0),this._handleOut._set(a*y._x+u*_._x,a*y._y+u*_._y,!0),this._changed()},_transformCoordinates:function(e,t,i){var a=this._point,u=!i||!this._handleIn.isZero()?this._handleIn:null,l=!i||!this._handleOut.isZero()?this._handleOut:null,h=a._x,f=a._y,d=2;return t[0]=h,t[1]=f,u&&(t[d++]=u._x+h,t[d++]=u._y+f),l&&(t[d++]=l._x+h,t[d++]=l._y+f),e&&(e._transformCoordinates(t,t,d/2),h=t[0],f=t[1],i?(a._x=h,a._y=f,d=2,u&&(u._x=t[d++]-h,u._y=t[d++]-f),l&&(l._x=t[d++]-h,l._y=t[d++]-f)):(u||(t[d++]=h,t[d++]=f),l||(t[d++]=h,t[d++]=f))),t}}),wt=z.extend({initialize:function(t,i,a){var u,l,h;if(!t)u=l=0;else if((u=t[0])!==o)l=t[1];else{var f=t;(u=f.x)===o&&(f=z.read(arguments),u=f.x),l=f.y,h=f.selected}this._x=u,this._y=l,this._owner=i,i[a]=this,h&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=ne.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),ae=g.extend({_class:"Curve",beans:!0,initialize:function(t,i,a,u,l,h,f,d){var _=arguments.length,y,m,v,S,E,I;_===3?(this._path=t,y=i,m=a):_?_===1?"segment1"in t?(y=new be(t.segment1),m=new be(t.segment2)):"point1"in t?(v=t.point1,E=t.handle1,I=t.handle2,S=t.point2):Array.isArray(t)&&(v=[t[0],t[1]],S=[t[6],t[7]],E=[t[2]-t[0],t[3]-t[1]],I=[t[4]-t[6],t[5]-t[7]]):_===2?(y=new be(t),m=new be(i)):_===4?(v=t,E=i,I=a,S=u):_===8&&(v=[t,i],S=[f,d],E=[a-t,u-i],I=[l-f,h-d]):(y=new be,m=new be),this._segment1=y||new be(v,null,E),this._segment2=m||new be(S,I,null)},_serialize:function(e,t){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ae(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return ae.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,i=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(i)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(z.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(z.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(z.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(z.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return ae.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],i=0;i<8;i+=2)t.push(new z(e[i],e[i+1]));return t}},{getLength:function(){return this._length==null&&(this._length=ae.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ae.getArea(this.getValues())},getLine:function(){return new de(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new ae(ae.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return ae.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var i=1e-8,a=1-i,u=null;if(e>=i&&e<=a){var l=ae.subdivide(this.getValues(),e),h=l[0],f=l[1],d=t||this.hasHandles(),_=this._segment1,y=this._segment2,m=this._path;d&&(_._handleOut._set(h[2]-h[0],h[3]-h[1]),y._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=h[6],S=h[7],E=new be(new z(v,S),d&&new z(h[4]-v,h[5]-S),d&&new z(f[2]-v,f[3]-S));m?(m.insert(_._index+1,E),u=this.getNext()):(this._segment2=E,this._changed(),u=new ae(E,y))}return u},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===o?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===o?.5:t?e:this.getTimeAt(e))},reversed:function(){return new ae(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,i,a){var u=e._point,l=e._handleOut,h=t._handleIn,f=t._point,d=u.x,_=u.y,y=f.x,m=f.y,v=a?[d,_,d,_,y,m,y,m]:[d,_,d+l._x,_+l._y,y+h._x,m+h._y,y,m];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],d=e[6],_=e[7];t===o&&(t=.5);var y=1-t,m=y*i+t*u,v=y*a+t*l,S=y*u+t*h,E=y*l+t*f,I=y*h+t*d,P=y*f+t*_,C=y*m+t*S,x=y*v+t*E,w=y*S+t*I,k=y*E+t*P,T=y*C+t*w,L=y*x+t*k;return[[i,a,m,v,C,x,T,L],[T,L,w,k,I,P,d,_]]},getMonoCurves:function(e,t){var i=[],a=t?0:1,u=e[a+0],l=e[a+2],h=e[a+4],f=e[a+6];if(u>=l==l>=h&&l>=h==h>=f||ae.isStraight(e))i.push(e);else{var d=3*(l-h)-u+f,_=2*(u+h)-4*l,y=l-u,m=1e-8,v=1-m,S=[],E=ne.solveQuadratic(d,_,y,S,m,v);if(!E)i.push(e);else{S.sort();var I=S[0],P=ae.subdivide(e,I);i.push(P[0]),E>1&&(I=(S[1]-I)/(1-I),P=ae.subdivide(P[1],I),i.push(P[0])),i.push(P[1])}}return i},solveCubic:function(e,t,i,a,u,l){var h=e[t],f=e[t+2],d=e[t+4],_=e[t+6],y=0;if(!(h<i&&_<i&&f<i&&d<i||h>i&&_>i&&f>i&&d>i)){var m=3*(f-h),v=3*(d-f)-m,S=_-h-m-v;y=ne.solveCubic(S,v,m,h-i,a,u,l)}return y},getTimeOf:function(e,t){var i=new z(e[0],e[1]),a=new z(e[6],e[7]),u=1e-12,l=1e-7,h=t.isClose(i,u)?0:t.isClose(a,u)?1:null;if(h===null)for(var f=[t.x,t.y],d=[],_=0;_<2;_++)for(var y=ae.solveCubic(e,_,f[_],d,0,1),m=0;m<y;m++){var v=d[m];if(t.isClose(ae.getPoint(e,v),l))return v}return t.isClose(i,l)?0:t.isClose(a,l)?1:null},getNearestTime:function(e,t){if(ae.isStraight(e)){var i=e[0],a=e[1],u=e[6],l=e[7],h=u-i,f=l-a,d=h*h+f*f;if(d===0)return 0;var _=((t.x-i)*h+(t.y-a)*f)/d;return _<1e-12?0:_>.999999999999?1:ae.getTimeOf(e,new z(i+_*h,a+_*f))}var y=100,m=1/0,v=0;function S(P){if(P>=0&&P<=1){var C=t.getDistance(ae.getPoint(e,P),!0);if(C<m)return m=C,v=P,!0}}for(var E=0;E<=y;E++)S(E/y);for(var I=1/(y*2);I>1e-8;)!S(v-I)&&!S(v+I)&&(I/=2);return v},getPart:function(e,t,i){var a=t>i;if(a){var u=t;t=i,i=u}return t>0&&(e=ae.subdivide(e,t)[1]),i<1&&(e=ae.subdivide(e,(i-t)/(1-t))[0]),a?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],d=e[6],_=e[7],y=3*u-2*i-d,m=3*l-2*a-_,v=3*h-2*d-i,S=3*f-2*_-a;return Math.max(y*y,v*v)+Math.max(m*m,S*S)<=16*t*t},getArea:function(e){var t=e[0],i=e[1],a=e[2],u=e[3],l=e[4],h=e[5],f=e[6],d=e[7];return 3*((d-i)*(a+l)-(f-t)*(u+h)+u*(t-l)-a*(i-h)+d*(l+t/3)-f*(h+i/3))/20},getBounds:function(e){for(var t=e.slice(0,2),i=t.slice(),a=[0,0],u=0;u<2;u++)ae._addBounds(e[u],e[u+2],e[u+4],e[u+6],u,0,t,i,a);return new K(t[0],t[1],i[0]-t[0],i[1]-t[1])},_addBounds:function(e,t,i,a,u,l,h,f,d){function _(T,L){var N=T-L,M=T+L;N<h[u]&&(h[u]=N),M>f[u]&&(f[u]=M)}l/=2;var y=h[u]+l,m=f[u]-l;if(e<y||t<y||i<y||a<y||e>m||t>m||i>m||a>m)if(t<e!=t<a&&i<e!=i<a)_(e,0),_(a,0);else{var v=3*(t-i)-e+a,S=2*(e+i)-4*t,E=t-e,I=ne.solveQuadratic(v,S,E,d),P=1e-8,C=1-P;_(a,0);for(var x=0;x<I;x++){var w=d[x],k=1-w;P<=w&&w<=C&&_(k*k*k*e+3*k*k*w*t+3*k*w*w*i+w*w*w*a,l)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=Ce[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),g.each({isStraight:function(e,t,i,a){if(t.isZero()&&i.isZero())return!0;var u=a.subtract(e);if(u.isZero())return!1;if(u.isCollinear(t)&&u.isCollinear(i)){var l=new de(e,a),h=1e-7;if(l.getDistance(e.add(t))<h&&l.getDistance(a.add(i))<h){var f=u.dot(u),d=u.dot(t)/f,_=u.dot(i)/f;return d>=0&&d<=1&&_<=0&&_>=-1}}return!1},isLinear:function(e,t,i,a){var u=a.subtract(e).divide(3);return t.equals(u)&&i.negate().equals(u)}},function(e,t){this[t]=function(i){var a=this._segment1,u=this._segment2;return e(a._point,a._handleOut,u._handleIn,u._point,i)},this.statics[t]=function(i,a){var u=i[0],l=i[1],h=i[6],f=i[7];return e(new z(u,l),new z(i[2]-u,i[3]-l),new z(i[4]-h,i[5]-f),new z(h,f),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new at(this,e):null},getTimeAt:function(e,t){return ae.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=z.read(arguments);return e.isZero()?[]:ae.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(z.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return ae.getTimeOf(this.getValues(),z.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=z.read(arguments),t=this.getValues(),i=ae.getNearestTime(t,e),a=ae.getPoint(t,i);return new at(this,i,a,null,e.getDistance(a))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(e,function(t){this[t+"At"]=function(i,a){var u=this.getValues();return ae[t](u,a?i:ae.getTimeAt(u,i))},this[t+"AtTime"]=function(i){return ae[t](this.getValues(),i)}},{statics:{_evaluateMethods:e}})},new function(){function e(a){var u=a[0],l=a[1],h=a[2],f=a[3],d=a[4],_=a[5],y=a[6],m=a[7],v=9*(h-d)+3*(y-u),S=6*(u+d)-12*h,E=3*(h-u),I=9*(f-_)+3*(m-l),P=6*(l+_)-12*f,C=3*(f-l);return function(x){var w=(v*x+S)*x+E,k=(I*x+P)*x+C;return Math.sqrt(w*w+k*k)}}function t(a,u){return Math.max(2,Math.min(16,Math.ceil(Math.abs(u-a)*32)))}function i(a,u,l,h){if(u==null||u<0||u>1)return null;var f=a[0],d=a[1],_=a[2],y=a[3],m=a[4],v=a[5],S=a[6],E=a[7],I=ne.isZero;I(_-f)&&I(y-d)&&(_=f,y=d),I(m-S)&&I(v-E)&&(m=S,v=E);var P=3*(_-f),C=3*(m-_)-P,x=S-f-P-C,w=3*(y-d),k=3*(v-y)-w,T=E-d-w-k,L,N;if(l===0)L=u===0?f:u===1?S:((x*u+C)*u+P)*u+f,N=u===0?d:u===1?E:((T*u+k)*u+w)*u+d;else{var M=1e-8,O=1-M;if(u<M?(L=P,N=w):u>O?(L=3*(S-m),N=3*(E-v)):(L=(3*x*u+2*C)*u+P,N=(3*T*u+2*k)*u+w),h){L===0&&N===0&&(u<M||u>O)&&(L=m-_,N=v-y);var D=Math.sqrt(L*L+N*N);D&&(L/=D,N/=D)}if(l===3){var m=6*x*u+2*C,v=6*T*u+2*k,U=Math.pow(L*L+N*N,3/2);L=U!==0?(L*v-N*m)/U:0,N=0}}return l===2?new z(N,-L):new z(L,N)}return{statics:{classify:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],d=a[4],_=a[5],y=a[6],m=a[7],v=u*(m-_)+l*(d-y)+y*_-m*d,S=h*(l-m)+f*(y-u)+u*m-l*y,E=d*(f-l)+_*(u-h)+h*l-f*u,I=3*E,P=I-S,C=P-S+v,x=Math.sqrt(C*C+P*P+I*I),w=x!==0?1/x:0,k=ne.isZero,T="serpentine";C*=w,P*=w,I*=w;function L(D,U,F){var H=U!==o,q=H&&U>0&&U<1,W=H&&F>0&&F<1;return H&&(!(q||W)||D==="loop"&&!(q&&W))&&(D="arch",q=W=!1),{type:D,roots:q||W?q&&W?U<F?[U,F]:[F,U]:[q?U:F]:null}}if(k(C))return k(P)?L(k(I)?"line":"quadratic"):L(T,I/(3*P));var N=3*P*P-4*C*I;if(k(N))return L("cusp",P/(2*C));var M=N>0?Math.sqrt(N/3):Math.sqrt(-N),O=2*C;return L(N>0?T:"loop",(P+M)/O,(P-M)/O)},getLength:function(a,u,l,h){if(u===o&&(u=0),l===o&&(l=1),ae.isStraight(a)){var f=a;l<1&&(f=ae.subdivide(f,l)[0],u/=l),u>0&&(f=ae.subdivide(f,u)[1]);var d=f[6]-f[0],_=f[7]-f[1];return Math.sqrt(d*d+_*_)}return ne.integrate(h||e(a),u,l,t(u,l))},getTimeAt:function(a,u,l){if(l===o&&(l=u<0?1:0),u===0)return l;var h=Math.abs,f=1e-12,d=u>0,_=d?l:0,y=d?1:l,m=e(a),v=ae.getLength(a,_,y,m),S=h(u)-v;if(h(S)<f)return d?y:_;if(S>f)return null;var E=u/v,I=0;function P(C){return I+=ne.integrate(m,l,C,t(l,C)),l=C,I-u}return ne.findRoot(P,m,l+E,_,y,32,1e-12)},getPoint:function(a,u){return i(a,u,0,!1)},getTangent:function(a,u){return i(a,u,1,!0)},getWeightedTangent:function(a,u){return i(a,u,1,!1)},getNormal:function(a,u){return i(a,u,2,!0)},getWeightedNormal:function(a,u){return i(a,u,2,!1)},getCurvature:function(a,u){return i(a,u,3,!1).x},getPeaks:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],d=a[4],_=a[5],y=a[6],m=a[7],v=-u+3*h-3*d+y,S=3*u-6*h+3*d,E=-3*u+3*h,I=-l+3*f-3*_+m,P=3*l-6*f+3*_,C=-3*l+3*f,x=1e-8,w=1-x,k=[];return ne.solveCubic(9*(v*v+I*I),9*(v*S+P*I),2*(S*S+P*P)+3*(E*v+C*I),E*S+P*C,k,x,w),k.sort()}}}},new function(){function e(S,E,I,P,C,x,w){var k=!w&&I.getPrevious()===C,T=!w&&I!==C&&I.getNext()===C,L=1e-8,N=1-L;if(P!==null&&P>=(k?L:0)&&P<=(T?N:1)&&x!==null&&x>=(T?L:0)&&x<=(k?N:1)){var M=new at(I,P,null,w),O=new at(C,x,null,w);M._intersection=O,O._intersection=M,(!E||E(M))&&at.insert(S,M,!0)}}function t(S,E,I,P,C,x,w,k,T,L,N,M,O){if(++T>=4096||++k>=40)return T;var D=1e-9,U=E[0],F=E[1],H=E[6],q=E[7],W=de.getSignedDistance,G=W(U,F,H,q,E[2],E[3]),J=W(U,F,H,q,E[4],E[5]),se=G*J>0?3/4:4/9,he=se*Math.min(0,G,J),ve=se*Math.max(0,G,J),ye=W(U,F,H,q,S[0],S[1]),ue=W(U,F,H,q,S[2],S[3]),oe=W(U,F,H,q,S[4],S[5]),we=W(U,F,H,q,S[6],S[7]),Se=i(ye,ue,oe,we),Ie=Se[0],Le=Se[1],ge,Me;if(G===0&&J===0&&ye===0&&ue===0&&oe===0&&we===0||(ge=a(Ie,Le,he,ve))==null||(Me=a(Ie.reverse(),Le.reverse(),he,ve))==null)return T;var Re=L+(N-L)*ge,Ve=L+(N-L)*Me;if(Math.max(O-M,Ve-Re)<D){var ot=(Re+Ve)/2,ht=(M+O)/2;e(C,x,w?P:I,w?ht:ot,w?I:P,w?ot:ht)}else{S=ae.getPart(S,ge,Me);var lt=O-M;if(Me-ge>.8)if(Ve-Re>lt){var Qe=ae.subdivide(S,.5),ot=(Re+Ve)/2;T=t(E,Qe[0],P,I,C,x,!w,k,T,M,O,Re,ot),T=t(E,Qe[1],P,I,C,x,!w,k,T,M,O,ot,Ve)}else{var Qe=ae.subdivide(E,.5),ht=(M+O)/2;T=t(Qe[0],S,P,I,C,x,!w,k,T,M,ht,Re,Ve),T=t(Qe[1],S,P,I,C,x,!w,k,T,ht,O,Re,Ve)}else lt===0||lt>=D?T=t(E,S,P,I,C,x,!w,k,T,M,O,Re,Ve):T=t(S,E,I,P,C,x,w,k,T,Re,Ve,M,O)}return T}function i(S,E,I,P){var C=[0,S],x=[1/3,E],w=[2/3,I],k=[1,P],T=E-(2*S+P)/3,L=I-(S+2*P)/3,N;if(T*L<0)N=[[C,x,k],[C,w,k]];else{var M=T/L;N=[M>=2?[C,x,k]:M<=.5?[C,w,k]:[C,x,w,k],[C,k]]}return(T||L)<0?N.reverse():N}function a(S,E,I,P){return S[0][1]<I?u(S,!0,I):E[0][1]>P?u(E,!1,P):S[0][0]}function u(S,E,I){for(var P=S[0][0],C=S[0][1],x=1,w=S.length;x<w;x++){var k=S[x][0],T=S[x][1];if(E?T>=I:T<=I)return T===I?k:P+(I-C)*(k-P)/(T-C);P=k,C=T}return null}function l(S,E,I,P,C){var x=ne.isZero;if(x(P)&&x(C)){var w=ae.getTimeOf(S,new z(E,I));return w===null?[]:[w]}for(var k=Math.atan2(-C,P),T=Math.sin(k),L=Math.cos(k),N=[],M=[],O=0;O<8;O+=2){var D=S[O]-E,U=S[O+1]-I;N.push(D*L-U*T,D*T+U*L)}return ae.solveCubic(N,1,0,M,0,1),M}function h(S,E,I,P,C,x,w){for(var k=E[0],T=E[1],L=E[6],N=E[7],M=l(S,k,T,L-k,N-T),O=0,D=M.length;O<D;O++){var U=M[O],F=ae.getPoint(S,U),H=ae.getTimeOf(E,F);H!==null&&e(C,x,w?P:I,w?H:U,w?I:P,w?U:H)}}function f(S,E,I,P,C,x){var w=de.intersect(S[0],S[1],S[6],S[7],E[0],E[1],E[6],E[7]);w&&e(C,x,I,ae.getTimeOf(S,w),P,ae.getTimeOf(E,w))}function d(S,E,I,P,C,x){var w=1e-12,k=Math.min,T=Math.max;if(T(S[0],S[2],S[4],S[6])+w>k(E[0],E[2],E[4],E[6])&&k(S[0],S[2],S[4],S[6])-w<T(E[0],E[2],E[4],E[6])&&T(S[1],S[3],S[5],S[7])+w>k(E[1],E[3],E[5],E[7])&&k(S[1],S[3],S[5],S[7])-w<T(E[1],E[3],E[5],E[7])){var L=m(S,E);if(L)for(var N=0;N<2;N++){var M=L[N];e(C,x,I,M[0],P,M[1],!0)}else{var O=ae.isStraight(S),D=ae.isStraight(E),U=O&&D,F=O&&!D,H=C.length;if((U?f:O||D?h:t)(F?E:S,F?S:E,F?P:I,F?I:P,C,x,F,0,0,0,1,0,1),!U||C.length===H)for(var N=0;N<4;N++){var q=N>>1,W=N&1,G=q*6,J=W*6,se=new z(S[G],S[G+1]),he=new z(E[J],E[J+1]);se.isClose(he,w)&&e(C,x,I,q,P,W)}}}return C}function _(S,E,I,P){var C=ae.classify(S);if(C.type==="loop"){var x=C.roots;e(I,P,E,x[0],E,x[1])}return I}function y(S,E,I,P,C,x){var w=1e-7,k=!E;k&&(E=S);for(var T=S.length,L=E.length,N=new Array(T),M=k?N:new Array(L),O=[],D=0;D<T;D++)N[D]=S[D].getValues(P);if(!k)for(var D=0;D<L;D++)M[D]=E[D].getValues(C);for(var U=ie.findCurveBoundsCollisions(N,M,w),F=0;F<T;F++){var H=S[F],q=N[F];k&&_(q,H,O,I);var W=U[F];if(W)for(var G=0;G<W.length;G++){if(x&&O.length)return O;var J=W[G];if(!k||J>F){var se=E[J],he=M[J];d(q,he,H,se,O,I)}}}return O}function m(S,E){function I(we){var Se=we[6]-we[0],Ie=we[7]-we[1];return Se*Se+Ie*Ie}var P=Math.abs,C=de.getDistance,x=1e-8,w=1e-7,k=ae.isStraight(S),T=ae.isStraight(E),L=k&&T,N=I(S)<I(E),M=N?E:S,O=N?S:E,D=M[0],U=M[1],F=M[6]-D,H=M[7]-U;if(C(D,U,F,H,O[0],O[1],!0)<w&&C(D,U,F,H,O[6],O[7],!0)<w)!L&&C(D,U,F,H,M[2],M[3],!0)<w&&C(D,U,F,H,M[4],M[5],!0)<w&&C(D,U,F,H,O[2],O[3],!0)<w&&C(D,U,F,H,O[4],O[5],!0)<w&&(k=T=L=!0);else if(L)return null;if(k^T)return null;for(var q=[S,E],W=[],G=0;G<4&&W.length<2;G++){var J=G&1,se=J^1,he=G>>1,ve=ae.getTimeOf(q[J],new z(q[se][he?6:0],q[se][he?7:1]));if(ve!=null){var ye=J?[he,ve]:[ve,he];(!W.length||P(ye[0]-W[0][0])>x&&P(ye[1]-W[0][1])>x)&&W.push(ye)}if(G>2&&!W.length)break}if(W.length!==2)W=null;else if(!L){var ue=ae.getPart(S,W[0][0],W[1][0]),oe=ae.getPart(E,W[0][1],W[1][1]);(P(oe[2]-ue[2])>w||P(oe[3]-ue[3])>w||P(oe[4]-ue[4])>w||P(oe[5]-ue[5])>w)&&(W=null)}return W}function v(S,E){var I=S[0],P=S[1],C=S[2],x=S[3],w=S[4],k=S[5],T=S[6],L=S[7],N=E.normalize(),M=N.x,O=N.y,D=3*T-9*w+9*C-3*I,U=3*L-9*k+9*x-3*P,F=6*w-12*C+6*I,H=6*k-12*x+6*P,q=3*C-3*I,W=3*x-3*P,G=2*D*O-2*U*M,J=[];if(Math.abs(G)<ne.CURVETIME_EPSILON){var se=D*W-U*q,G=D*H-U*F;if(G!=0){var he=-se/G;he>=0&&he<=1&&J.push(he)}}else{var ve=(F*F-4*D*q)*O*O+(-2*F*H+4*U*q+4*D*W)*M*O+(H*H-4*U*W)*M*M,ye=F*O-H*M;if(ve>=0&&G!=0){var ue=Math.sqrt(ve),oe=-(ye+ue)/G,we=(-ye+ue)/G;oe>=0&&oe<=1&&J.push(oe),we>=0&&we<=1&&J.push(we)}}return J}return{getIntersections:function(S){var E=this.getValues(),I=S&&S!==this&&S.getValues();return I?d(E,I,this,S,[]):_(E,this,[])},statics:{getOverlaps:m,getIntersections:y,getCurveLineIntersections:l,getTimesWithTangent:v}}}),at=g.extend({_class:"CurveLocation",initialize:function(t,i,a,u,l){if(i>=.99999999){var h=t.getNext();h&&(i=0,t=h)}this._setCurve(t),this._time=i,this._point=a||t.getPointAtTime(i),this._overlap=u,this._distance=l,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),i=this.getTime();i===0?e=t._segment1:i===1?e=t._segment2:i!=null&&(e=t.getPartLength(0,i)<t.getPartLength(i,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(a){var u=a&&a.getCurve();if(u&&(t._time=u.getTimeOf(t._point))!=null)return t._setCurve(u),u}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),i=this.getIndex();if(t&&i!=null)for(var a=t.getCurves(),u=0;u<i;u++)e+=a[u].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),i=this.getTime();this._curveOffset=e=i!=null&&t&&t.getPartLength(0,i)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,i=e&&e.splitAtTime(this.getTime());return i&&this._setSegment(t.getLastSegment()),i},equals:function(e,t){var i=this===e;if(!i&&e instanceof at){var a=this.getCurve(),u=e.getCurve(),l=a._path,h=u._path;if(l===h){var f=Math.abs,d=1e-7,_=f(this.getOffset()-e.getOffset()),y=!t&&this._intersection,m=!t&&e._intersection;i=(_<d||l&&f(l.getLength()-_)<d)&&(!y&&!m||y&&m&&y.equals(m,!0))}}return i},toString:function(){var e=[],t=this.getPoint(),i=le.instance;t&&e.push("point: "+t);var a=this.getIndex();a!=null&&e.push("index: "+a);var u=this.getTime();return u!=null&&e.push("time: "+i.number(u)),this._distance!=null&&e.push("distance: "+i.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),i=e.getCurve();return!(t.isStraight()&&i.isStraight()&&t.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),i=e.getTime(),a=1e-8,u=1-a,l=t>=a&&t<=u,h=i>=a&&i<=u;if(l&&h)return!this.isTouching();var f=this.getCurve(),d=f&&t<a?f.getPrevious():f,_=e.getCurve(),y=_&&i<a?_.getPrevious():_;if(t>u&&(f=f.getNext()),i>u&&(_=_.getNext()),!d||!f||!y||!_)return!1;var m=[];function v(M,O){var D=M.getValues(),U=ae.classify(D).roots||ae.getPeaks(D),F=U.length,H=ae.getLength(D,O&&F?U[F-1]:0,!O&&F?U[0]:1);m.push(F?H:H/32)}function S(M,O,D){return O<D?M>O&&M<D:M>O||M<D}l||(v(d,!0),v(f,!1)),h||(v(y,!0),v(_,!1));var E=this.getPoint(),I=Math.min.apply(Math,m),P=l?f.getTangentAtTime(t):f.getPointAt(I).subtract(E),C=l?P.negate():d.getPointAt(-I).subtract(E),x=h?_.getTangentAtTime(i):_.getPointAt(I).subtract(E),w=h?x.negate():y.getPointAt(-I).subtract(E),k=C.getAngle(),T=P.getAngle(),L=w.getAngle(),N=x.getAngle();return!!(l?S(k,L,N)^S(T,L,N)&&S(k,N,L)^S(T,N,L):S(L,k,T)^S(N,k,T)&&S(L,T,k)^S(N,T,k))},hasOverlap:function(){return!!this._overlap}},g.each(ae._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var i=this.getCurve(),a=this.getTime();return a!=null&&i&&i[t](a,!0)}},{preserve:!0}),new function(){function e(t,i,a){var u=t.length,l=0,h=u-1;function f(E,I){for(var P=E+I;P>=-1&&P<=u;P+=I){var C=t[(P%u+u)%u];if(!i.getPoint().isClose(C.getPoint(),1e-7))break;if(i.equals(C))return C}return null}for(;l<=h;){var d=l+h>>>1,_=t[d],y;if(a&&(y=i.equals(_)?_:f(d,-1)||f(d,1)))return i._overlap&&(y._overlap=y._intersection._overlap=!0),y;var m=i.getPath(),v=_.getPath(),S=m!==v?m._id-v._id:i.getIndex()+i.getTime()-(_.getIndex()+_.getTime());S<0?h=d-1:l=d+1}return t.splice(l,0,i),i}return{statics:{insert:e,expand:function(t){for(var i=t.slice(),a=t.length-1;a>=0;a--)e(i,t[a]._intersection,!1);return i}}}}),Te=R.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,i,a;if(g.isPlainObject(e)?(i=e.segments,t=e.pathData):Array.isArray(e)?i=e:typeof e=="string"&&(t=e),i){var u=i[0];a=u&&Array.isArray(u[0])}else t&&(a=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var l=a?Be:Ce;return new l(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,a=!1,u,l,h=new z,f=new z;function d(w,k){var T=+i[w];return a&&(T+=h[k]),T}function _(w){return new z(d(w,"x"),d(w+1,"y"))}this.clear();for(var y=0,m=t&&t.length;y<m;y++){var v=t[y],S=v[0],E=S.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var I=i&&i.length;switch(a=S===E,u==="z"&&!/[mz]/.test(E)&&this.moveTo(h),E){case"m":case"l":for(var P=E==="m",C=0;C<I;C+=2)this[P?"moveTo":"lineTo"](h=_(C)),P&&(f=h,P=!1);l=h;break;case"h":case"v":var x=E==="h"?"x":"y";h=h.clone();for(var C=0;C<I;C++)h[x]=d(C,x),this.lineTo(h);l=h;break;case"c":for(var C=0;C<I;C+=6)this.cubicCurveTo(_(C),l=_(C+2),h=_(C+4));break;case"s":for(var C=0;C<I;C+=4)this.cubicCurveTo(/[cs]/.test(u)?h.multiply(2).subtract(l):h,l=_(C),h=_(C+2)),u=E;break;case"q":for(var C=0;C<I;C+=4)this.quadraticCurveTo(l=_(C),h=_(C+2));break;case"t":for(var C=0;C<I;C+=2)this.quadraticCurveTo(l=/[qt]/.test(u)?h.multiply(2).subtract(l):h,h=_(C)),u=E;break;case"a":for(var C=0;C<I;C+=7)this.arcTo(h=_(C+5),new te(+i[C],+i[C+1]),+i[C+2],+i[C+4],+i[C+3]);break;case"z":this.closePath(1e-12),h=f;break}u=E}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,i,a){var u=this===e||!e,l=this._matrix._orNullIfIdentity(),h=u?l:(i||e._matrix)._orNullIfIdentity();return u||this.getBounds(l).intersects(e.getBounds(h),1e-12)?ae.getIntersections(this.getCurves(),!u&&e.getCurves(),t,l,h,a):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=z.read(arguments),t=this.getCurves(),i=1/0,a=null,u=0,l=t.length;u<l;u++){var h=t[u].getNearestLocation(e);h._distance<i&&(i=h._distance,a=h)}return a},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,i){var a=!this._children,u=a?"_segments":"_children",l=e[u],h=t[u],f=this[u];if(!l||!h||l.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var d=f.length,_=h.length;if(d<_)for(var y=a?be:Ce,m=d;m<_;m++)this.add(new y);else d>_&&this[a?"removeSegments":"removeChildren"](_,d);for(var m=0;m<_;m++)f[m].interpolate(l[m],h[m],i);a&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var i=this._children||[this],a=e._children?e._children.slice():[e],u=i.length,l=a.length,h=[],f=0;t=!0;for(var d=ie.findItemBoundsCollisions(i,a,ne.GEOMETRIC_EPSILON),_=u-1;_>=0&&t;_--){var y=i[_];t=!1;var m=d[_];if(m)for(var v=m.length-1;v>=0&&!t;v--)y.compare(a[m[v]])&&(h[m[v]]||(h[m[v]]=!0,f++),t=!0)}t=t&&f===l}return t}}),Ce=Te.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=arguments,a=Array.isArray(t)?typeof t[0]=="object"?t:i:t&&t.size===o&&(t.x!==o||t.point!==o)?i:null;a&&a.length>0?this.setSegments(a):(this._curves=o,this._segmentSelection=0,!a&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!a&&t)},_equals:function(e){return this._closed===e._closed&&g.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=o,t&32)this._version++;else if(this._curves)for(var i=0,a=this._curves.length;i<a;i++)this._curves[i]._changed()}else t&64&&(this._bounds=o)},getStyle:function(){var e=this._parent;return(e instanceof Be?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),i=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,i){var a=e[i-1];typeof a=="boolean"&&(this.setClosed(a),i--),this._add(be.readList(e,0,{},i))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var i=this._countCurves();e=this._curves=new Array(i);for(var a=0;a<i;a++)e[a]=new ae(this,t[a],t[a+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new ae(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var i=this._segments,a=i.length,u=new le(t),l=new Array(6),h=!0,f,d,_,y,m,v,S,E,I=[];function P(x,w){if(x._transformCoordinates(e,l),f=l[0],d=l[1],h)I.push("M"+u.pair(f,d)),h=!1;else if(m=l[2],v=l[3],m===f&&v===d&&S===_&&E===y){if(!w){var k=f-_,T=d-y;I.push(k===0?"v"+u.number(T):T===0?"h"+u.number(k):"l"+u.pair(k,T))}}else I.push("c"+u.pair(S-_,E-y)+" "+u.pair(m-_,v-y)+" "+u.pair(f-_,d-y));_=f,y=d,S=l[4],E=l[5]}if(!a)return"";for(var C=0;C<a;C++)P(i[C]);return this._closed&&a>0&&(P(i[0],!0),I.push("z")),I.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,i=new Array(6),a=0,u=t.length;a<u;a++)t[a]._transformCoordinates(e,i,!0);return!0},_add:function(e,h){for(var i=this._segments,a=this._curves,u=e.length,l=h==null,h=l?i.length:h,f=0;f<u;f++){var d=e[f];d._path&&(d=e[f]=d.clone()),d._path=this,d._index=h+f,d._selection&&this._updateSelection(d,0,d._selection)}if(l)g.push(i,e);else{i.splice.apply(i,[h,0].concat(e));for(var f=h+u,_=i.length;f<_;f++)i[f]._index=f}if(a){var y=this._countCurves(),m=h>0&&h+u-1===y?h-1:h,v=m,S=Math.min(m+u,y);e._curves&&(a.splice.apply(a,[m,0].concat(e._curves)),v+=e._curves.length);for(var f=v;f<S;f++)a.splice(f,0,new ae(this,null,null));this._adjustCurves(m,S)}return this._changed(41),e},_adjustCurves:function(e,t){for(var i=this._segments,a=this._curves,u,l=e;l<t;l++)u=a[l],u._path=this,u._segment1=i[l],u._segment2=i[l+1]||i[0],u._changed();(u=a[this._closed&&!e?i.length-1:e-1])&&(u._segment2=i[e]||i[0],u._changed()),(u=a[t])&&(u._segment1=i[t],u._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(be.readList(t)):this._add([be.read(t)])[0]},insert:function(e,t){var i=arguments;return i.length>2&&typeof t!="number"?this._add(be.readList(i,1),e):this._add([be.read(i,1)],e)[0]},addSegment:function(){return this._add([be.read(arguments)])[0]},insertSegment:function(e){return this._add([be.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(be.readList(e))},insertSegments:function(e,t){return this._add(be.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,i){e=e||0,t=g.pick(t,this._segments.length);var a=this._segments,u=this._curves,l=a.length,h=a.splice(e,t-e),f=h.length;if(!f)return h;for(var d=0;d<f;d++){var _=h[d];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var d=e,y=a.length;d<y;d++)a[d]._index=d;if(u){for(var m=e>0&&t===l+(this._closed?1:0)?e-1:e,u=u.splice(m,f),d=u.length-1;d>=0;d--)u[d]._path=null;i&&(h._curves=u.slice(1)),this._adjustCurves(m,m)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,i=this._closed;e=0;for(var a=0,u=t.length;a<u;a++){var l=a+1===u;e+=ae.getArea(ae.getValues(t[a],t[l?0:a+1],null,l&&!i))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,i=t.length,a=e?7:0;this._segmentSelection=a*i;for(var u=0;u<i;u++)t[u]._selection=a},_updateSelection:function(e,t,i){e._selection=i;var a=this._segmentSelection+=i-t;a>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),i;return t&&(i=t.getCurve().divideAt(t.getCurveOffset()))?i._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),i=t&&t.index,a=t&&t.time,u=1e-8,l=1-u;a>l&&(i++,a=0);var h=this.getCurves();if(i>=0&&i<h.length){a>=u&&h[i++].divideAtTime(a);var f=this.removeSegments(i,this._segments.length,!0),d;return this._closed?(this.setClosed(!1),d=this):(d=new Ce(R.NO_INSERT),d.insertAbove(this),d.copyAttributes(this)),d._add(f,0),this.addSegment(f[0]),d}return null},split:function(e,t){var i,a=t===o?e:(i=this.getCurves()[e])&&i.getLocationAtTime(t);return a!=null?this.splitAt(a):null},join:function(e,t){var i=t||0;if(e&&e!==this){var a=e._segments,u=this.getLastSegment(),l=e.getLastSegment();if(!l)return this;u&&u._point.isClose(l._point,i)&&e.reverse();var h=e.getFirstSegment();if(u&&u._point.isClose(h._point,i))u.setHandleOut(h._handleOut),this._add(a.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(h._point,i)&&e.reverse(),l=e.getLastSegment(),f&&f._point.isClose(l._point,i)?(f.setHandleIn(l._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}e._closed&&this._add([a[0]]),e.remove()}var d=this.getFirstSegment(),_=this.getLastSegment();return d!==_&&d._point.isClose(_._point,i)&&(d.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),i=e&&e.simplify,a=i?1e-7:0,u=t.length-1;u>=0;u--){var l=t[u];!l.hasHandles()&&(!l.hasLength(a)||i&&l.isCollinear(l.getNext()))&&l.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var i=this._segments[e],a=i._handleIn;i._handleIn=i._handleOut,i._handleOut=a,i._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new et(this,e||.25,256,!0),i=t.parts,a=i.length,u=[],l=0;l<a;l++)u.push(new be(i[l].curve.slice(0,2)));!this._closed&&a>0&&u.push(new be(i[a-1].curve.slice(6))),this.setSegments(u)},simplify:function(e){var t=new ut(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,i=e||{},a=i.type||"asymmetric",u=this._segments,l=u.length,h=this._closed;function f(Ie,Le){var ge=Ie&&Ie.index;if(ge!=null){var Me=Ie.path;if(Me&&Me!==t)throw new Error(Ie._class+" "+ge+" of "+Me+" is not part of "+t);Le&&Ie instanceof ae&&ge++}else ge=typeof Ie=="number"?Ie:Le;return Math.min(ge<0&&h?ge%l:ge<0?ge+l:ge,l-1)}var d=h&&i.from===o&&i.to===o,_=f(i.from,0),y=f(i.to,l-1);if(_>y)if(h)_-=l;else{var m=_;_=y,y=m}if(/^(?:asymmetric|continuous)$/.test(a)){var v=a==="asymmetric",S=Math.min,E=y-_+1,I=E-1,P=d?S(E,4):1,C=P,x=P,w=[];if(h||(C=S(1,_),x=S(1,l-y-1)),I+=C+x,I<=1)return;for(var k=0,T=_-C;k<=I;k++,T++)w[k]=u[(T<0?T+l:T)%l]._point;for(var L=w[0]._x+2*w[1]._x,N=w[0]._y+2*w[1]._y,M=2,O=I-1,D=[L],U=[N],F=[M],H=[],q=[],k=1;k<I;k++){var W=k<O,G=W||v?1:2,J=W?4:v?2:7,se=W?4:v?3:8,he=W?2:v?0:1,ve=G/M;M=F[k]=J-ve,L=D[k]=se*w[k]._x+he*w[k+1]._x-ve*L,N=U[k]=se*w[k]._y+he*w[k+1]._y-ve*N}H[O]=D[O]/F[O],q[O]=U[O]/F[O];for(var k=I-2;k>=0;k--)H[k]=(D[k]-H[k+1])/F[k],q[k]=(U[k]-q[k+1])/F[k];H[I]=(3*w[I]._x-H[O])/2,q[I]=(3*w[I]._y-q[O])/2;for(var k=C,ye=I-x,T=_;k<=ye;k++,T++){var ue=u[T<0?T+l:T],oe=ue._point,we=H[k]-oe._x,Se=q[k]-oe._y;(d||k<ye)&&ue.setHandleOut(we,Se),(d||k>C)&&ue.setHandleIn(-we,-Se)}}else for(var k=_;k<=y;k++)u[k<0?k+l:k].smooth(i,!d&&k===_,!d&&k===y)},toShape:function(e){if(!this._closed)return null;var t=this._segments,i,a,u,l;function h(v,S){var E=t[v],I=E.getNext(),P=t[S],C=P.getNext();return E._handleOut.isZero()&&I._handleIn.isZero()&&P._handleOut.isZero()&&C._handleIn.isZero()&&I._point.subtract(E._point).isCollinear(C._point.subtract(P._point))}function f(v){var S=t[v],E=S.getPrevious(),I=S.getNext();return E._handleOut.isZero()&&S._handleIn.isZero()&&S._handleOut.isZero()&&I._handleIn.isZero()&&S._point.subtract(E._point).isOrthogonal(I._point.subtract(S._point))}function d(v){var S=t[v],E=S.getNext(),I=S._handleOut,P=E._handleIn,C=.5522847498307936;if(I.isOrthogonal(P)){var x=S._point,w=E._point,k=new de(x,I,!0).intersect(new de(w,P,!0),!0);return k&&ne.isZero(I.getLength()/k.subtract(x).getLength()-C)&&ne.isZero(P.getLength()/k.subtract(w).getLength()-C)}return!1}function _(v,S){return t[v]._point.getDistance(t[S]._point)}if(!this.hasHandles()&&t.length===4&&h(0,2)&&h(1,3)&&f(1)?(i=Fe.Rectangle,a=new te(_(0,3),_(0,1)),l=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&d(0)&&d(2)&&d(4)&&d(6)&&h(1,5)&&h(3,7)?(i=Fe.Rectangle,a=new te(_(1,6),_(0,3)),u=a.subtract(new te(_(0,7),_(1,2))).divide(2),l=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&d(0)&&d(1)&&d(2)&&d(3)&&(ne.isZero(_(0,2)-_(1,3))?(i=Fe.Circle,u=_(0,2)/2):(i=Fe.Ellipse,u=new te(_(2,0)/2,_(3,1)/2)),l=t[1]._point),i){var y=this.getPosition(!0),m=new i({center:y,size:a,radius:u,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(l.subtract(y).getAngle()+90),(e===o||e)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Be)return e.base.call(this,t);var i=this.getCurves(),a=t.getCurves(),u=i.length,l=a.length;if(!u||!l)return u==l;for(var h=i[0].getValues(),f=[],d=0,_,y=0,m,v=0;v<l;v++){var P=a[v].getValues();f.push(P);var S=ae.getOverlaps(h,P);if(S){_=!v&&S[0][0]>0?l-1:v,m=S[0][1];break}}for(var E=Math.abs,I=1e-8,P=f[_],C;h&&P;){var S=ae.getOverlaps(h,P);if(S){var x=S[0][0];if(E(x-y)<I){y=S[1][0],y===1&&(h=++d<u?i[d].getValues():null,y=0);var w=S[0][1];if(E(w-m)<I){if(C||(C=[_,w]),m=S[1][1],m===1&&(++_>=l&&(_=0),P=f[_]||a[_].getValues(),m=0),!h)return C[0]===_&&C[1]===m;continue}}}break}return!1},_hitTestSelf:function(e,t,i,a){var u=this,l=this.getStyle(),h=this._segments,f=h.length,d=this._closed,_=t._tolerancePadding,y=_,m,v,S,E,I,P,C=t.stroke&&l.hasStroke(),x=t.fill&&l.hasFill(),w=t.curves,k=C?l.getStrokeWidth()/2:x&&t.tolerance>0||w?0:null;k!==null&&(k>0?(m=l.getStrokeJoin(),v=l.getStrokeCap(),S=l.getMiterLimit(),y=y.add(Ce._getStrokePadding(k,a))):m=v="round");function T(H,q){return e.subtract(H).divide(q).length<=1}function L(H,q,W){if(!t.selected||q.isSelected()){var G=H._point;if(q!==G&&(q=q.add(G)),T(q,y))return new it(W,u,{segment:H,point:q})}}function N(H,q){return(q||t.segments)&&L(H,H._point,"segment")||!q&&t.handles&&(L(H,H._handleIn,"handle-in")||L(H,H._handleOut,"handle-out"))}function M(H){E.add(H)}function O(H){var q=d||H._index>0&&H._index<f-1;if((q?m:v)==="round")return T(H._point,y);if(E=new Ce({internal:!0,closed:!0}),q?H.isSmooth()||Ce._addBevelJoin(H,m,k,S,null,a,M,!0):v==="square"&&Ce._addSquareCap(H,v,k,null,a,M,!0),!E.isEmpty()){var W;return E.contains(e)||(W=E.getNearestLocation(e))&&T(W.getPoint(),_)}}if(t.ends&&!t.segments&&!d){if(P=N(h[0],!0)||N(h[f-1],!0))return P}else if(t.segments||t.handles){for(var D=0;D<f;D++)if(P=N(h[D]))return P}if(k!==null){if(I=this.getNearestLocation(e),I){var U=I.getTime();U===0||U===1&&f>1?O(I.getSegment())||(I=null):T(I.getPoint(),y)||(I=null)}if(!I&&m==="miter"&&f>1)for(var D=0;D<f;D++){var F=h[D];if(e.getDistance(F._point)<=S*k&&O(F)){I=F.getLocation();break}}}return!I&&x&&this._contains(e)||I&&!C&&!w?new it("fill",this):I?new it(C?"stroke":"curve",this,{location:I,point:I.getPoint()}):null}},g.each(ae._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this.getLocationAt(t);return i&&i[e]()}},{beans:!1,getLocationOf:function(){for(var e=z.read(arguments),t=this.getCurves(),i=0,a=t.length;i<a;i++){var u=t[i].getLocationOf(e);if(u)return u}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),i=0,a=0,u=t.length;a<u;a++){var l=i,h=t[a];if(i+=h.getLength(),i>e)return h.getLocationAt(e-l)}if(t.length>0&&e<=this.getLength())return new at(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=z.read(arguments);if(e.isZero())return[];for(var t=[],i=0,a=this.getCurves(),u=0,l=a.length;u<l;u++){for(var h=a[u],f=h.getTimesWithTangent(e),d=0,_=f.length;d<_;d++){var y=i+h.getOffsetAtTime(f[d]);t.indexOf(y)<0&&t.push(y)}i+=h.length}return t}}),new function(){function e(i,a,u,l){if(l<=0)return;var h=l/2,f=l-2,d=h-1,_=new Array(6),y,m;function v(x){var w=_[x],k=_[x+1];(y!=w||m!=k)&&(i.beginPath(),i.moveTo(y,m),i.lineTo(w,k),i.stroke(),i.beginPath(),i.arc(w,k,h,0,Math.PI*2,!0),i.fill())}for(var S=0,E=a.length;S<E;S++){var I=a[S],P=I._selection;if(I._transformCoordinates(u,_),y=_[0],m=_[1],P&2&&v(2),P&4&&v(4),i.fillRect(y-h,m-h,l,l),f>0&&!(P&1)){var C=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(y-d,m-d,f,f),i.fillStyle=C}}}function t(i,a,u){var l=a._segments,h=l.length,f=new Array(6),d=!0,_,y,m,v,S,E,I,P;function C(w){if(u)w._transformCoordinates(u,f),_=f[0],y=f[1];else{var k=w._point;_=k._x,y=k._y}if(d)i.moveTo(_,y),d=!1;else{if(u)S=f[2],E=f[3];else{var T=w._handleIn;S=_+T._x,E=y+T._y}S===_&&E===y&&I===m&&P===v?i.lineTo(_,y):i.bezierCurveTo(I,P,S,E,_,y)}if(m=_,v=y,u)I=f[4],P=f[5];else{var T=w._handleOut;I=m+T._x,P=v+T._y}}for(var x=0;x<h;x++)C(l[x]);a._closed&&h>0&&C(l[0])}return{_draw:function(i,a,u,l){var h=a.dontStart,f=a.dontFinish||a.clip,d=this.getStyle(),_=d.hasFill(),y=d.hasStroke(),m=d.getDashArray(),v=!r.support.nativeDash&&y&&m&&m.length;h||i.beginPath(),(_||y&&!v||f)&&(t(i,this,l),this._closed&&i.closePath());function S(w){return m[(w%v+v)%v]}if(!f&&(_||y)&&(this._setStyles(i,a,u),_&&(i.fill(d.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),y)){if(v){h||i.beginPath();for(var E=new et(this,.25,32,!1,l),I=E.length,P=-d.getDashOffset(),C,x=0;P>0;)P-=S(x--)+S(x--);for(;P<I;)C=P+S(x++),(P>0||C>0)&&E.drawPart(i,Math.max(P,0),Math.max(C,0)),P=C+S(x++)}i.stroke()}},_drawSelected:function(i,a){i.beginPath(),t(i,this,a),i.stroke(),e(i,this._segments,a,r.settings.handleSize)}}},new function(){function e(t){var i=t._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new be(z.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new be(z.read(arguments))])},cubicCurveTo:function(){var t=arguments,i=z.read(t),a=z.read(t),u=z.read(t),l=e(this);l.setHandleOut(i.subtract(l._point)),this._add([new be(u,a.subtract(u))])},quadraticCurveTo:function(){var t=arguments,i=z.read(t),a=z.read(t),u=e(this)._point;this.cubicCurveTo(i.add(u.subtract(i).multiply(1/3)),i.add(a.subtract(i).multiply(1/3)),a)},curveTo:function(){var t=arguments,i=z.read(t),a=z.read(t),u=g.pick(g.read(t),.5),l=1-u,h=e(this)._point,f=i.subtract(h.multiply(l*l)).subtract(a.multiply(u*u)).divide(2*u*l);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+u);this.quadraticCurveTo(f,a)},arcTo:function(){var t=arguments,i=Math.abs,a=Math.sqrt,u=e(this),l=u._point,h=z.read(t),f,d=g.peek(t),_=g.pick(d,!0),y,m,v,S;if(typeof _=="boolean")var E=l.add(h).divide(2),f=E.add(E.subtract(l).rotate(_?-90:90));else if(g.remain(t)<=2)f=h,h=z.read(t);else if(!l.equals(h)){var I=te.read(t),P=ne.isZero;if(P(I.width)||P(I.height))return this.lineTo(h);var C=g.read(t),_=!!g.read(t),x=!!g.read(t),E=l.add(h).divide(2),w=l.subtract(E).rotate(-C),k=w.x,T=w.y,L=i(I.width),N=i(I.height),M=L*L,O=N*N,D=k*k,U=T*T,F=a(D/M+U/O);if(F>1&&(L*=F,N*=F,M=L*L,O=N*N),F=(M*O-M*U-O*D)/(M*U+O*D),i(F)<1e-12&&(F=0),F<0)throw new Error("Cannot create an arc with the given arguments");y=new z(L*T/N,-N*k/L).multiply((x===_?-1:1)*a(F)).rotate(C).add(E),S=new $().translate(y).rotate(C).scale(L,N),v=S._inverseTransform(l),m=v.getDirectedAngle(S._inverseTransform(h)),!_&&m>0?m-=360:_&&m<0&&(m+=360)}if(f){var H=new de(l.add(f).divide(2),f.subtract(l).rotate(90),!0),q=new de(f.add(h).divide(2),h.subtract(f).rotate(90),!0),W=new de(l,h),G=W.getSide(f);if(y=H.intersect(q,!0),!y){if(!G)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}v=l.subtract(y),m=v.getDirectedAngle(h.subtract(y));var J=W.getSide(y,!0);J===0?m=G*i(m):G===J&&(m+=m<0?360:-360)}if(m){for(var se=1e-7,he=i(m),ve=he>=360?4:Math.ceil((he-se)/90),ye=m/ve,ue=ye*Math.PI/360,oe=4/3*Math.sin(ue)/(1+Math.cos(ue)),we=[],Se=0;Se<=ve;Se++){var w=h,Ie=null;if(Se<ve&&(Ie=v.rotate(90).multiply(oe),S?(w=S._transformPoint(v),Ie=S._transformPoint(v.add(Ie)).subtract(w)):w=y.add(v)),!Se)u.setHandleOut(Ie);else{var Le=v.rotate(-90).multiply(oe);S&&(Le=S._transformPoint(v.add(Le)).subtract(w)),we.push(new be(w,Le,Ie))}v=v.rotate(ye)}this._add(we)}},lineBy:function(){var t=z.read(arguments),i=e(this)._point;this.lineTo(i.add(t))},curveBy:function(){var t=arguments,i=z.read(t),a=z.read(t),u=g.read(t),l=e(this)._point;this.curveTo(l.add(i),l.add(a),u)},cubicCurveBy:function(){var t=arguments,i=z.read(t),a=z.read(t),u=z.read(t),l=e(this)._point;this.cubicCurveTo(l.add(i),l.add(a),l.add(u))},quadraticCurveBy:function(){var t=arguments,i=z.read(t),a=z.read(t),u=e(this)._point;this.quadraticCurveTo(u.add(i),u.add(a))},arcBy:function(){var t=arguments,i=e(this)._point,a=i.add(z.read(t)),u=g.pick(g.peek(t),!0);typeof u=="boolean"?this.arcTo(a,u):this.arcTo(a,i.add(z.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var i=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return Ce[i](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,i,a,u,l){var h=e[0];if(!h)return new K;var f=new Array(6),d=h._transformCoordinates(a,new Array(6)),_=d.slice(0,2),y=_.slice(),m=new Array(2);function v(I){I._transformCoordinates(a,f);for(var P=0;P<2;P++)ae._addBounds(d[P],d[P+4],f[P+2],f[P],P,l?l[P]:0,_,y,m);var C=d;d=f,f=C}for(var S=1,E=e.length;S<E;S++)v(e[S]);return t&&v(h),new K(_[0],_[1],y[0]-_[0],y[1]-_[1])},getStrokeBounds:function(e,t,i,a,u){var l=i.getStyle(),h=l.hasStroke(),f=l.getStrokeWidth(),d=h&&i._getStrokeMatrix(a,u),_=h&&Ce._getStrokePadding(f,d),y=Ce.getBounds(e,t,i,a,u,_);if(!h)return y;var m=f/2,v=l.getStrokeJoin(),S=l.getStrokeCap(),E=l.getMiterLimit(),I=new K(new te(_));function P(L){y=y.include(L)}function C(L){y=y.unite(I.setCenter(L._point.transform(a)))}function x(L,N){N==="round"||L.isSmooth()?C(L):Ce._addBevelJoin(L,N,m,E,a,d,P)}function w(L,N){N==="round"?C(L):Ce._addSquareCap(L,N,m,a,d,P)}var k=e.length-(t?0:1);if(k>0){for(var T=1;T<k;T++)x(e[T],v);t?x(e[0],v):(w(e[0],S),w(e[e.length-1],S))}return y},_getStrokePadding:function(e,t){if(!t)return[e,e];var i=new z(e,0).transform(t),a=new z(0,e).transform(t),u=i.getAngleInRadians(),l=i.getLength(),h=a.getLength(),f=Math.sin(u),d=Math.cos(u),_=Math.tan(u),y=Math.atan2(h*_,l),m=Math.atan2(h,_*l);return[Math.abs(l*Math.cos(y)*d+h*Math.sin(y)*f),Math.abs(h*Math.sin(m)*d+l*Math.cos(m)*f)]},_addBevelJoin:function(e,t,i,a,u,l,h,f){var d=e.getCurve(),_=d.getPrevious(),y=d.getPoint1().transform(u),m=_.getNormalAtTime(1).multiply(i).transform(l),v=d.getNormalAtTime(0).multiply(i).transform(l),S=m.getDirectedAngle(v);if((S<0||S>=180)&&(m=m.negate(),v=v.negate()),f&&h(y),h(y.add(m)),t==="miter"){var E=new de(y.add(m),new z(-m.y,m.x),!0).intersect(new de(y.add(v),new z(-v.y,v.x),!0),!0);E&&y.getDistance(E)<=a*i&&h(E)}h(y.add(v))},_addSquareCap:function(e,t,i,a,u,l,h){var f=e._point.transform(a),d=e.getLocation(),_=d.getNormal().multiply(d.getTime()===0?i:-i).transform(u);t==="square"&&(h&&(l(f.subtract(_)),l(f.add(_))),f=f.add(_.rotate(-90))),l(f.add(_)),l(f.subtract(_))},getHandleBounds:function(e,t,i,a,u){var l=i.getStyle(),h=u.stroke&&l.hasStroke(),f,d;if(h){var _=i._getStrokeMatrix(a,u),y=l.getStrokeWidth()/2,m=y;l.getStrokeJoin()==="miter"&&(m=y*l.getMiterLimit()),l.getStrokeCap()==="square"&&(m=Math.max(m,y*Math.SQRT2)),f=Ce._getStrokePadding(y,_),d=Ce._getStrokePadding(m,_)}for(var v=new Array(6),S=1/0,E=-S,I=S,P=E,C=0,x=e.length;C<x;C++){var w=e[C];w._transformCoordinates(a,v);for(var k=0;k<6;k+=2){var T=k?f:d,L=T?T[0]:0,N=T?T[1]:0,M=v[k],O=v[k+1],D=M-L,U=M+L,F=O-N,H=O+N;D<S&&(S=D),U>E&&(E=U),F<I&&(I=F),H>P&&(P=H)}}return new K(S,I,E-S,P-I)}}});Ce.inject({statics:new function(){var e=.5522847498307936,t=[new be([-1,0],[0,e],[0,-e]),new be([0,-1],[-e,0],[e,0]),new be([1,0],[0,-e],[0,e]),new be([0,1],[e,0],[-e,0])];function i(u,l,h){var f=g.getNamed(h),d=new Ce(f&&f.insert==!1&&R.NO_INSERT);return d._add(u),d._closed=l,d.set(f,{insert:!0})}function a(u,l,h){for(var f=new Array(4),d=0;d<4;d++){var _=t[d];f[d]=new be(_._point.multiply(l).add(u),_._handleIn.multiply(l),_._handleOut.multiply(l))}return i(f,!0,h)}return{Line:function(){var u=arguments;return i([new be(z.readNamed(u,"from")),new be(z.readNamed(u,"to"))],!1,u)},Circle:function(){var u=arguments,l=z.readNamed(u,"center"),h=g.readNamed(u,"radius");return a(l,new te(h),u)},Rectangle:function(){var u=arguments,l=K.readNamed(u,"rectangle"),h=te.readNamed(u,"radius",0,{readNull:!0}),f=l.getBottomLeft(!0),d=l.getTopLeft(!0),_=l.getTopRight(!0),y=l.getBottomRight(!0),m;if(!h||h.isZero())m=[new be(f),new be(d),new be(_),new be(y)];else{h=te.min(h,l.getSize(!0).divide(2));var v=h.width,S=h.height,E=v*e,I=S*e;m=[new be(f.add(v,0),null,[-E,0]),new be(f.subtract(0,S),[0,I]),new be(d.add(0,S),null,[0,-I]),new be(d.add(v,0),[-E,0],null),new be(_.subtract(v,0),null,[E,0]),new be(_.add(0,S),[0,-I],null),new be(y.subtract(0,S),null,[0,I]),new be(y.subtract(v,0),[E,0])]}return i(m,!0,u)},RoundRectangle:"#Rectangle",Ellipse:function(){var u=arguments,l=Fe._readEllipse(u);return a(l.center,l.radius,u)},Oval:"#Ellipse",Arc:function(){var u=arguments,l=z.readNamed(u,"from"),h=z.readNamed(u,"through"),f=z.readNamed(u,"to"),d=g.getNamed(u),_=new Ce(d&&d.insert==!1&&R.NO_INSERT);return _.moveTo(l),_.arcTo(h,f),_.set(d)},RegularPolygon:function(){for(var u=arguments,l=z.readNamed(u,"center"),h=g.readNamed(u,"sides"),f=g.readNamed(u,"radius"),d=360/h,_=h%3===0,y=new z(0,_?-f:f),m=_?-1:.5,v=new Array(h),S=0;S<h;S++)v[S]=new be(l.add(y.rotate((S+m)*d)));return i(v,!0,u)},Star:function(){for(var u=arguments,l=z.readNamed(u,"center"),h=g.readNamed(u,"points")*2,f=g.readNamed(u,"radius1"),d=g.readNamed(u,"radius2"),_=360/h,y=new z(0,-1),m=new Array(h),v=0;v<h;v++)m[v]=new be(l.add(y.rotate(_*v).multiply(v%2?d:f)));return i(m,!0,u)}}}});var Be=Te.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,i){var a=i,u=a[0];u&&typeof u[0]=="number"&&(a=[a]);for(var l=i.length-1;l>=0;l--){var h=a[l];a===i&&!(h instanceof Ce)&&(a=g.slice(a)),Array.isArray(h)?a[l]=new Ce({segments:h,insert:!1}):h instanceof Be&&(a.splice.apply(a,[l,1].concat(h.removeChildren())),h.remove())}return e.base.call(this,t,a)},reduce:function e(t){for(var i=this._children,a=i.length-1;a>=0;a--){var u=i[a].reduce(t);u.isEmpty()&&u.remove()}if(!i.length){var u=new Ce(R.NO_INSERT);return u.copyAttributes(this),u.insertAbove(this),this.remove(),u}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],i=0,a=e.length;i<a;i++)g.push(t,e[i].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getArea();return t},getLength:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();return t},getPathData:function(e,t){for(var i=this._children,a=[],u=0,l=i.length;u<l;u++){var h=i[u],f=h._matrix;a.push(h.getPathData(e&&!f.isIdentity()?e.appended(f):e,t))}return a.join("")},_hitTestChildren:function e(t,i,a){return e.base.call(this,t,i.class===Ce||i.type==="path"?i:g.set({},i,{fill:!1}),a)},_draw:function(e,t,i,a){var u=this._children;if(!!u.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var l=0,h=u.length;l<h;l++)u[l].draw(e,t,a);if(!t.clip){this._setStyles(e,t,i);var f=this._style;f.hasFill()&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,i){for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u],f=h._matrix;i[h._id]||h._drawSelected(e,f.isIdentity()?t:t.appended(f))}}},new function(){function e(t,i){var a=t._children;if(i&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var i=e(this,!0);i[t].apply(i,arguments)}},{moveTo:function(){var t=e(this),i=t&&t.isEmpty()?t:new Ce(R.NO_INSERT);i!==t&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var t=e(this,!0),i=t&&t.getLastSegment(),a=z.read(arguments);this.moveTo(i?a.add(i._point):a)},closePath:function(t){e(this,!0).closePath(t)}})},g.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var i=this._children,a,u=0,l=i.length;u<l;u++)a=i[u][e](t)||a;return a}},{}));Te.inject(new function(){var e=Math.min,t=Math.max,i=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function u(C){return C._children||[C]}function l(C,x){var w=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var k=u(w),T=0,L=k.length;T<L;T++){var C=k[T];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function h(C,x,w,k,T){var L=new Be(R.NO_INSERT);return L.addChildren(C,!0),L=L.reduce({simplify:x}),T&&T.insert==!1||L.insertAbove(k&&w.isSibling(k)&&w.getIndex()<k.getIndex()?k:w),L.copyAttributes(w,!0),L}function f(C){return C.hasOverlap()||C.isCrossing()}function d(C,x,w,k){if(k&&(k.trace==!1||k.stroke)&&/^(subtract|intersect)$/.test(w))return _(C,x,w);var T=l(C,!0),L=x&&C!==x&&l(x,!0),N=a[w];N[w]=!0,L&&(N.subtract||N.exclude)^(L.isClockwise()^T.isClockwise())&&L.reverse();var M=S(at.expand(T.getIntersections(L,f))),O=u(T),D=L&&u(L),U=[],F=[],H;function q(Ie){for(var Le=0,ge=Ie.length;Le<ge;Le++){var Me=Ie[Le];g.push(U,Me._segments),g.push(F,Me.getCurves()),Me._overlapsOnly=!0}}function W(Ie){for(var Le=[],ge=0,Me=Ie&&Ie.length;ge<Me;ge++)Le.push(F[Ie[ge]]);return Le}if(M.length){q(O),D&&q(D);for(var G=new Array(F.length),J=0,se=F.length;J<se;J++)G[J]=F[J].getValues();for(var he=ie.findCurveBoundsCollisions(G,G,0,!0),ve={},J=0;J<F.length;J++){var ye=F[J],ue=ye._path._id,oe=ve[ue]=ve[ue]||{};oe[ye.getIndex()]={hor:W(he[J].hor),ver:W(he[J].ver)}}for(var J=0,se=M.length;J<se;J++)I(M[J]._segment,T,L,ve,N);for(var J=0,se=U.length;J<se;J++){var we=U[J],Se=we._intersection;we._winding||I(we,T,L,ve,N),Se&&Se._overlap||(we._path._overlapsOnly=!1)}H=P(U,N)}else H=v(D?O.concat(D):O.slice(),function(Ie){return!!N[Ie]});return h(H,!0,C,x,k)}function _(C,x,w){var k=l(C),T=l(x),L=k.getIntersections(T,f),N=w==="subtract",M=w==="divide",O={},D=[];function U(q){if(!O[q._id]&&(M||T.contains(q.getPointAt(q.getLength()/2))^N))return D.unshift(q),O[q._id]=!0}for(var F=L.length-1;F>=0;F--){var H=L[F].split();H&&(U(H)&&H.getFirstSegment().setHandleIn(0,0),k.getLastSegment().setHandleOut(0,0))}return U(k),h(D,!1,C,x)}function y(C,x){for(var w=C;w;){if(w===x)return;w=w._previous}for(;C._next&&C._next!==x;)C=C._next;if(!C._next){for(;x._previous;)x=x._previous;C._next=x,x._previous=C}}function m(C){for(var x=C.length-1;x>=0;x--)C[x].clearHandles()}function v(C,x,w){var k=C&&C.length;if(k){var T=g.each(C,function(he,ve){this[he._id]={container:null,winding:he.isClockwise()?1:-1,index:ve}},{}),L=C.slice().sort(function(he,ve){return i(ve.getArea())-i(he.getArea())}),N=L[0],M=ie.findItemBoundsCollisions(L,null,ne.GEOMETRIC_EPSILON);w==null&&(w=N.isClockwise());for(var O=0;O<k;O++){var D=L[O],U=T[D._id],F=0,H=M[O];if(H){for(var q=null,W=H.length-1;W>=0;W--)if(H[W]<O){q=q||D.getInteriorPoint();var G=L[H[W]];if(G.contains(q)){var J=T[G._id];F=J.winding,U.winding+=F,U.container=J.exclude?J.container:G;break}}}if(x(U.winding)===x(F))U.exclude=!0,C[U.index]=null;else{var se=U.container;D.setClockwise(se?!se.isClockwise():w)}}}return C}function S(C,x,w){var k=x&&[],T=1e-8,L=1-T,N=!1,M=w||[],O=w&&{},D,U,F;function H(Le){return Le._path._id+"."+Le._segment1._index}for(var q=(w&&w.length)-1;q>=0;q--){var W=w[q];W._path&&(O[H(W)]=!0)}for(var q=C.length-1;q>=0;q--){var G=C[q],J=G._time,se=J,he=x&&!x(G),W=G._curve,ve;if(W&&(W!==U?(N=!W.hasHandles()||O&&O[H(W)],D=[],F=null,U=W):F>=T&&(J/=F)),he){D&&D.push(G);continue}else x&&k.unshift(G);if(F=se,J<T)ve=W._segment1;else if(J>L)ve=W._segment2;else{var ye=W.divideAtTime(J,!0);N&&M.push(W,ye),ve=ye._segment1;for(var ue=D.length-1;ue>=0;ue--){var oe=D[ue];oe._time=(oe._time-J)/(1-J)}}G._setSegment(ve);var we=ve._intersection,Se=G._intersection;if(we){y(we,Se);for(var Ie=we;Ie;)y(Ie._intersection,we),Ie=Ie._next}else ve._intersection=Se}return w||m(M),k||C}function E(C,x,w,k,T){var L=Array.isArray(x)?x:x[w?"hor":"ver"],N=w?1:0,M=N^1,O=[C.x,C.y],D=O[N],U=O[M],F=1e-9,H=1e-6,q=D-F,W=D+F,G=0,J=0,se=0,he=0,ve=!1,ye=!1,ue=1,oe=[],we,Se;function Ie(Ge){var dt=Ge[M+0],ft=Ge[M+6];if(!(U<e(dt,ft)||U>t(dt,ft))){var mt=Ge[N+0],Vt=Ge[N+2],qt=Ge[N+4],At=Ge[N+6];if(dt===ft){(mt<W&&At>q||At<W&&mt>q)&&(ve=!0);return}var He=U===dt?0:U===ft||q>t(mt,Vt,qt,At)||W<e(mt,Vt,qt,At)?1:ae.solveCubic(Ge,M,U,oe,0,1)>0?oe[0]:1,bt=He===0?mt:He===1?At:ae.getPoint(Ge,He)[w?"y":"x"],Ut=dt>ft?1:-1,Gt=we[M]>we[M+6]?1:-1,un=we[N+6];return U!==dt?(bt<q?se+=Ut:bt>W?he+=Ut:ve=!0,bt>D-H&&bt<D+H&&(ue/=2)):(Ut!==Gt?mt<q?se+=Ut:mt>W&&(he+=Ut):mt!=un&&(un<W&&bt>W?(he+=Ut,ve=!0):un>q&&bt<q&&(se+=Ut,ve=!0)),ue/=4),we=Ge,!T&&bt>q&&bt<W&&ae.getTangent(Ge,He)[w?"x":"y"]===0&&E(C,x,!w,k,!0)}}function Le(Ge){var dt=Ge[M+0],ft=Ge[M+2],mt=Ge[M+4],Vt=Ge[M+6];if(U<=t(dt,ft,mt,Vt)&&U>=e(dt,ft,mt,Vt)){for(var qt=Ge[N+0],At=Ge[N+2],He=Ge[N+4],bt=Ge[N+6],Ut=q>t(qt,At,He,bt)||W<e(qt,At,He,bt)?[Ge]:ae.getMonoCurves(Ge,w),Gt,un=0,fr=Ut.length;un<fr;un++)if(Gt=Ie(Ut[un]))return Gt}}for(var ge=0,Me=L.length;ge<Me;ge++){var Re=L[ge],Ve=Re._path,ot=Re.getValues(),ht;if((!ge||L[ge-1]._path!==Ve)&&(we=null,Ve._closed||(Se=ae.getValues(Ve.getLastCurve().getSegment2(),Re.getSegment1(),null,!k),Se[M]!==Se[M+6]&&(we=Se)),!we)){we=ot;for(var lt=Ve.getLastCurve();lt&&lt!==Re;){var Qe=lt.getValues();if(Qe[M]!==Qe[M+6]){we=Qe;break}lt=lt.getPrevious()}}if(ht=Le(ot))return ht;if(ge+1===Me||L[ge+1]._path!==Ve){if(Se&&(ht=Le(Se)))return ht;ve&&!se&&!he&&(se=he=Ve.isClockwise(k)^w?1:-1),G+=se,J+=he,se=he=0,ve&&(ye=!0,ve=!1),Se=null}}return G=i(G),J=i(J),{winding:t(G,J),windingL:G,windingR:J,quality:ue,onPath:ye}}function I(C,x,w,k,T){var L=[],N=C,M=0,F;do{var O=C.getCurve();if(O){var D=O.getLength();L.push({segment:C,curve:O,length:D}),M+=D}C=C.getNext()}while(C&&!C._intersection&&C!==N);for(var U=[.5,.25,.75],F={winding:0,quality:-1},H=.001,q=1-H,W=0;W<U.length&&F.quality<.5;W++)for(var D=M*U[W],G=0,J=L.length;G<J;G++){var se=L[G],he=se.length;if(D<=he){var O=se.curve,ve=O._path,ye=ve._parent,ue=ye instanceof Be?ye:ve,oe=ne.clamp(O.getTimeAt(D),H,q),we=O.getPointAtTime(oe),Se=i(O.getTangentAtTime(oe).y)<Math.SQRT1_2,Ie=null;if(T.subtract&&w){var Le=ue===x?w:x,ge=Le._getWinding(we,Se,!0);if(ue===x&&ge.winding||ue===w&&!ge.winding){if(ge.quality<1)continue;Ie={winding:0,quality:1}}}Ie=Ie||E(we,k[ve._id][O.getIndex()],Se,!0),Ie.quality>F.quality&&(F=Ie);break}D-=he}for(var G=L.length-1;G>=0;G--)L[G].segment._winding=F}function P(C,x){var w=[],k;function T(Me){var Re;return!!(Me&&!Me._visited&&(!x||x[(Re=Me._winding||{}).winding]&&!(x.unite&&Re.winding===2&&Re.windingL&&Re.windingR)))}function L(Me){if(Me){for(var Re=0,Ve=k.length;Re<Ve;Re++)if(Me===k[Re])return!0}return!1}function N(Me){for(var Re=Me._segments,Ve=0,ot=Re.length;Ve<ot;Ve++)Re[Ve]._visited=!0}function M(Me,Re){var Ve=Me._intersection,ot=Ve,ht=[];Re&&(k=[Me]);function lt(Qe,Ge){for(;Qe&&Qe!==Ge;){var dt=Qe._segment,ft=dt&&dt._path;if(ft){var mt=dt.getNext()||ft.getFirstSegment(),Vt=mt._intersection;dt!==Me&&(L(dt)||L(mt)||mt&&T(dt)&&(T(mt)||Vt&&T(Vt._segment)))&&ht.push(dt),Re&&k.push(dt)}Qe=Qe._next}}if(Ve){for(lt(Ve);Ve&&Ve._previous;)Ve=Ve._previous;lt(Ve,ot)}return ht}C.sort(function(Me,Re){var Ve=Me._intersection,ot=Re._intersection,ht=!!(Ve&&Ve._overlap),lt=!!(ot&&ot._overlap),Qe=Me._path,Ge=Re._path;return ht^lt?ht?1:-1:!Ve^!ot?Ve?1:-1:Qe!==Ge?Qe._id-Ge._id:Me._index-Re._index});for(var O=0,D=C.length;O<D;O++){var U=C[O],F=T(U),H=null,q=!1,W=!0,G=[],J,se,he;if(F&&U._path._overlapsOnly){var ve=U._path,ye=U._intersection._segment._path;ve.compare(ye)&&(ve.getArea()&&w.push(ve.clone(!1)),N(ve),N(ye),F=!1)}for(;F;){var ue=!H,oe=M(U,ue),we=oe.shift(),q=!ue&&(L(U)||L(we)),Se=!q&&we;if(ue&&(H=new Ce(R.NO_INSERT),J=null),q){(U.isFirst()||U.isLast())&&(W=U._path._closed),U._visited=!0;break}if(Se&&J&&(G.push(J),J=null),J||(Se&&oe.push(U),J={start:H._segments.length,crossings:oe,visited:se=[],handleIn:he}),Se&&(U=we),!T(U)){H.removeSegments(J.start);for(var Ie=0,Le=se.length;Ie<Le;Ie++)se[Ie]._visited=!1;se.length=0;do U=J&&J.crossings.shift(),(!U||!U._path)&&(U=null,J=G.pop(),J&&(se=J.visited,he=J.handleIn));while(J&&!T(U));if(!U)break}var ge=U.getNext();H.add(new be(U._point,he,ge&&U._handleOut)),U._visited=!0,se.push(U),U=ge||U._path.getFirstSegment(),he=ge&&ge._handleIn}q&&(W&&(H.getFirstSegment().setHandleIn(he),H.setClosed(W)),H.getArea()!==0&&w.push(H))}return w}return{_getWinding:function(C,x,w){return E(C,this.getCurves(),x,w)},unite:function(C,x){return d(this,C,"unite",x)},intersect:function(C,x){return d(this,C,"intersect",x)},subtract:function(C,x){return d(this,C,"subtract",x)},exclude:function(C,x){return d(this,C,"exclude",x)},divide:function(C,x){return x&&(x.trace==!1||x.stroke)?_(this,C,"divide"):h([this.subtract(C,x),this.intersect(C,x)],!0,this,C,x)},resolveCrossings:function(){var C=this._children,x=C||[this];function w(J,se){var he=J&&J._intersection;return he&&he._overlap&&he._path===se}var k=!1,T=!1,L=this.getIntersections(null,function(J){return J.hasOverlap()&&(k=!0)||J.isCrossing()&&(T=!0)}),N=k&&T&&[];if(L=at.expand(L),k)for(var M=S(L,function(J){return J.hasOverlap()},N),O=M.length-1;O>=0;O--){var D=M[O],U=D._path,F=D._segment,H=F.getPrevious(),q=F.getNext();w(H,U)&&w(q,U)&&(F.remove(),H._handleOut._set(0,0),q._handleIn._set(0,0),H!==F&&!H.getCurve().hasLength()&&(q._handleIn.set(H._handleIn),H.remove()))}T&&(S(L,k&&function(J){var se=J.getCurve(),he=J.getSegment(),ve=J._intersection,ye=ve._curve,ue=ve._segment;if(se&&ye&&se._path&&ye._path)return!0;he&&(he._intersection=null),ue&&(ue._intersection=null)},N),N&&m(N),x=P(g.each(x,function(J){g.push(this,J._segments)},[])));var W=x.length,G;return W>1&&C?(x!==C&&this.setChildren(x),G=this):W===1&&!C&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),G=this),G||(G=new Be(R.NO_INSERT),G.addChildren(x),G=G.reduce(),G.copyAttributes(this),this.replaceWith(G)),G},reorient:function(C,x){var w=this._children;return w&&w.length?this.setChildren(v(this.removeChildren(),function(k){return!!(C?k:k&1)},x)):x!==o&&this.setClockwise(x),this},getInteriorPoint:function(){var C=this.getBounds(),x=C.getCenter(!0);if(!this.contains(x)){for(var w=this.getCurves(),k=x.y,T=[],L=[],N=0,M=w.length;N<M;N++){var O=w[N].getValues(),D=O[1],U=O[3],F=O[5],H=O[7];if(k>=e(D,U,F,H)&&k<=t(D,U,F,H))for(var q=ae.getMonoCurves(O),W=0,G=q.length;W<G;W++){var J=q[W],se=J[1],he=J[7];if(se!==he&&(k>=se&&k<=he||k>=he&&k<=se)){var ve=k===se?J[0]:k===he?J[6]:ae.solveCubic(J,1,k,L,0,1)===1?ae.getPoint(J,L[0]).x:(J[0]+J[6])/2;T.push(ve)}}}T.length>1&&(T.sort(function(ye,ue){return ye-ue}),x.x=(T[0]+T[1])/2)}return x}}});var et=g.extend({_class:"PathFlattener",initialize:function(e,t,i,a,u){var l=[],h=[],f=0,d=1/(i||32),_=e._segments,y=_[0],m;function v(P,C){var x=ae.getValues(P,C,u);l.push(x),S(x,P._index,0,1)}function S(P,C,x,w){if(w-x>d&&!(a&&ae.isStraight(P))&&!ae.isFlatEnough(P,t||.25)){var k=ae.subdivide(P,.5),T=(x+w)/2;S(k[0],C,x,T),S(k[1],C,T,w)}else{var L=P[6]-P[0],N=P[7]-P[1],M=Math.sqrt(L*L+N*N);M>0&&(f+=M,h.push({offset:f,curve:P,index:C,time:w}))}}for(var E=1,I=_.length;E<I;E++)m=_[E],v(y,m),y=m;e._closed&&v(m||y,_[0]),this.curves=l,this.parts=h,this.length=f,this.index=0},_get:function(e){for(var t=this.parts,i=t.length,a,u=this.index;a=u,!(!u||t[--u].offset<e););for(;a<i;a++){var l=t[a];if(l.offset>=e){this.index=a;var h=t[a-1],f=h&&h.index===l.index?h.time:0,d=h?h.offset:0;return{index:l.index,time:f+(l.time-f)*(e-d)/(l.offset-d)}}}return{index:t[i-1].index,time:1}},drawPart:function(e,t,i){for(var a=this._get(t),u=this._get(i),l=a.index,h=u.index;l<=h;l++){var f=ae.getPart(this.curves[l],l===a.index?a.time:0,l===u.index?u.time:1);l===a.index&&e.moveTo(f[0],f[1]),e.bezierCurveTo.apply(e,f.slice(2))}}},g.each(ae._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this._get(t);return ae[e](this.curves[i.index],i.time)}},{})),ut=g.extend({initialize:function(e){for(var t=this.points=[],i=e._segments,a=e._closed,u=0,l,h=i.length;u<h;u++){var f=i[u].point;(!l||!l.equals(f))&&t.push(l=f.clone())}a&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=a},fit:function(e){var t=this.points,i=t.length,a=null;return i>0&&(a=[new be(t[0])],i>1&&(this.fitCubic(a,e,0,i-1,t[1].subtract(t[0]),t[i-2].subtract(t[i-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(e,t,i,a,u,l){var h=this.points;if(a-i===1){var f=h[i],d=h[a],_=f.getDistance(d)/3;this.addCurve(e,[f,f.add(u.normalize(_)),d.add(l.normalize(_)),d]);return}for(var y=this.chordLengthParameterize(i,a),m=Math.max(t,t*t),v,S=!0,E=0;E<=4;E++){var I=this.generateBezier(i,a,y,u,l),P=this.findMaxError(i,a,I,y);if(P.error<t&&S){this.addCurve(e,I);return}if(v=P.index,P.error>=m)break;S=this.reparameterize(i,a,y,I),m=P.error}var C=h[v-1].subtract(h[v+1]);this.fitCubic(e,t,i,v,u,C),this.fitCubic(e,t,v,a,C.negate(),l)},addCurve:function(e,t){var i=e[e.length-1];i.setHandleOut(t[1].subtract(t[0])),e.push(new be(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,i,a,u){for(var l=1e-12,h=Math.abs,f=this.points,d=f[e],_=f[t],y=[[0,0],[0,0]],m=[0,0],v=0,S=t-e+1;v<S;v++){var E=i[v],I=1-E,P=3*E*I,C=I*I*I,x=P*I,w=P*E,k=E*E*E,T=a.normalize(x),L=u.normalize(w),N=f[e+v].subtract(d.multiply(C+x)).subtract(_.multiply(w+k));y[0][0]+=T.dot(T),y[0][1]+=T.dot(L),y[1][0]=y[0][1],y[1][1]+=L.dot(L),m[0]+=T.dot(N),m[1]+=L.dot(N)}var M=y[0][0]*y[1][1]-y[1][0]*y[0][1],O,D;if(h(M)>l){var U=y[0][0]*m[1]-y[1][0]*m[0],F=m[0]*y[1][1]-m[1]*y[0][1];O=F/M,D=U/M}else{var H=y[0][0]+y[0][1],q=y[1][0]+y[1][1];O=D=h(H)>l?m[0]/H:h(q)>l?m[1]/q:0}var W=_.getDistance(d),G=l*W,J,se;if(O<G||D<G)O=D=W/3;else{var he=_.subtract(d);J=a.normalize(O),se=u.normalize(D),J.dot(he)-se.dot(he)>W*W&&(O=D=W/3,J=se=null)}return[d,d.add(J||a.normalize(O)),_.add(se||u.normalize(D)),_]},reparameterize:function(e,t,i,a){for(var u=e;u<=t;u++)i[u-e]=this.findRoot(a,this.points[u],i[u-e]);for(var u=1,l=i.length;u<l;u++)if(i[u]<=i[u-1])return!1;return!0},findRoot:function(e,t,i){for(var a=[],u=[],l=0;l<=2;l++)a[l]=e[l+1].subtract(e[l]).multiply(3);for(var l=0;l<=1;l++)u[l]=a[l+1].subtract(a[l]).multiply(2);var h=this.evaluate(3,e,i),f=this.evaluate(2,a,i),d=this.evaluate(1,u,i),_=h.subtract(t),y=f.dot(f)+_.dot(d);return ne.isMachineZero(y)?i:i-_.dot(f)/y},evaluate:function(e,t,i){for(var a=t.slice(),u=1;u<=e;u++)for(var l=0;l<=e-u;l++)a[l]=a[l].multiply(1-i).add(a[l+1].multiply(i));return a[0]},chordLengthParameterize:function(e,t){for(var i=[0],a=e+1;a<=t;a++)i[a-e]=i[a-e-1]+this.points[a].getDistance(this.points[a-1]);for(var a=1,u=t-e;a<=u;a++)i[a]/=i[u];return i},findMaxError:function(e,t,i,a){for(var u=Math.floor((t-e+1)/2),l=0,h=e+1;h<t;h++){var f=this.evaluate(3,i,a[h-e]),d=f.subtract(this.points[h]),_=d.x*d.x+d.y*d.y;_>=l&&(l=_,u=h)}return{error:l,index:u}}}),Rt=R.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&g.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(i&&t,!i&&z.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ft=Rt.extend({_class:"PointText",initialize:function(){Rt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new me(e.x,e.y,this,"setPoint")},setPoint:function(){var e=z.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,i){if(!!this._content){this._setStyles(e,t,i);var a=this._lines,u=this._style,l=u.hasFill(),h=u.hasStroke(),f=u.getLeading(),d=e.shadowColor;e.font=u.getFontStyle(),e.textAlign=u.getJustification();for(var _=0,y=a.length;_<y;_++){e.shadowColor=d;var m=a[_];l&&(e.fillText(m,0,0),e.shadowColor="rgba(0,0,0,0)"),h&&e.strokeText(m,0,0),e.translate(0,f)}}},_getBounds:function(e,t){var i=this._style,a=this._lines,u=a.length,l=i.getJustification(),h=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),a),d=0;l!=="left"&&(d-=f/(l==="center"?2:1));var _=new K(d,u?-.75*h:0,f,u*h);return e?e._transformBounds(_,_):_}}),We=g.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},i={transparent:[0,0,0,0]},a;function u(f){var d=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",y;if(d){var m=d[4]?4:3;y=new Array(m);for(var v=0;v<m;v++){var S=d[v+1];y[v]=parseInt(S.length==1?S+S:S,16)/255}}else if(d=f.match(/^(rgb|hsl)a?\((.*)\)$/)){_=d[1],y=d[2].trim().split(/[,\s]+/g);for(var E=_==="hsl",v=0,I=Math.min(y.length,4);v<I;v++){var P=y[v],S=parseFloat(P);if(E)if(v===0){var C=P.match(/([a-z]*)$/)[1];S*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else v<3&&(S/=100);else v<3&&(S/=/%$/.test(P)?100:255);y[v]=S}}else{var x=i[f];if(!x)if(p){a||(a=pt.getContext(1,1),a.globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=f,a.fillRect(0,0,1,1);var w=a.getImageData(0,0,1,1).data;x=i[f]=[w[0]/255,w[1]/255,w[2]/255]}else x=[0,0,0];y=x.slice()}return[_,y]}var l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(f,d,_){var y=Math.max(f,d,_),m=Math.min(f,d,_),v=y-m,S=v===0?0:(y==f?(d-_)/v+(d<_?6:0):y==d?(_-f)/v+2:(f-d)/v+4)*60;return[S,y===0?0:v/y,y]},"hsb-rgb":function(f,d,_){f=(f/60%6+6)%6;var m=Math.floor(f),y=f-m,m=l[m],v=[_,_*(1-d),_*(1-d*y),_*(1-d*(1-y))];return[v[m[0]],v[m[1]],v[m[2]]]},"rgb-hsl":function(f,d,_){var y=Math.max(f,d,_),m=Math.min(f,d,_),v=y-m,S=v===0,E=S?0:(y==f?(d-_)/v+(d<_?6:0):y==d?(_-f)/v+2:(f-d)/v+4)*60,I=(y+m)/2,P=S?0:I<.5?v/(y+m):v/(2-y-m);return[E,P,I]},"hsl-rgb":function(f,d,_){if(f=(f/360%1+1)%1,d===0)return[_,_,_];for(var y=[f+1/3,f,f-1/3],m=_<.5?_*(1+d):_+d-_*d,v=2*_-m,S=[],E=0;E<3;E++){var I=y[E];I<0&&(I+=1),I>1&&(I-=1),S[E]=6*I<1?v+(m-v)*6*I:2*I<1?m:3*I<2?v+(m-v)*(2/3-I)*6:v}return S},"rgb-gray":function(f,d,_){return[f*.2989+d*.587+_*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(e,function(f,d){t[d]=[],g.each(f,function(_,y){var m=g.capitalize(_),v=/^(hue|saturation)$/.test(_),S=t[d][y]=d==="gradient"?_==="gradient"?function(E){var I=this._components[0];return E=Dt.read(Array.isArray(E)?E:arguments,0,{readNull:!0}),I!==E&&(I&&I._removeOwner(this),E&&E._addOwner(this)),E}:function(){return z.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(E){return E==null||isNaN(E)?0:+E};this["get"+m]=function(){return this._type===d||v&&/^hs[bl]$/.test(this._type)?this._components[y]:this._convert(d)[y]},this["set"+m]=function(E){this._type!==d&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(d),this._properties=e[d],this._type=d),this._components[y]=S.call(this,E),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(d){var _=arguments,y=this.__read,m=0,v,S,E,I;Array.isArray(d)&&(_=d,d=_[0]);var P=d!=null&&typeof d;if(P==="string"&&d in e&&(v=d,d=_[1],Array.isArray(d)?(S=d,E=_[2]):(y&&(m=1),_=g.slice(_,1),P=typeof d)),!S){if(I=P==="number"?_:P==="object"&&d.length!=null?d:null,I){v||(v=I.length>=3?"rgb":"gray");var C=e[v].length;E=I[C],y&&(m+=I===arguments?C+(E!=null?1:0):1),I.length>C&&(I=g.slice(I,0,C))}else if(P==="string"){var x=u(d);v=x[0],S=x[1],S.length===4&&(E=S[3],S.length--)}else if(P==="object")if(d.constructor===f){if(v=d._type,S=d._components.slice(),E=d._alpha,v==="gradient")for(var w=1,k=S.length;w<k;w++){var T=S[w];T&&(S[w]=T.clone())}}else if(d.constructor===Dt)v="gradient",I=_;else{v="hue"in d?"lightness"in d?"hsl":"hsb":"gradient"in d||"stops"in d||"radial"in d?"gradient":"gray"in d?"gray":"rgb";var L=e[v],N=t[v];this._components=S=[];for(var w=0,k=L.length;w<k;w++){var M=d[L[w]];M==null&&!w&&v==="gradient"&&"stops"in d&&(M={stops:d.stops,radial:d.radial}),M=N[w].call(this,M),M!=null&&(S[w]=M)}E=d.alpha}y&&v&&(m=1)}if(this._type=v||"rgb",!S){this._components=S=[];for(var N=t[this._type],w=0,k=N.length;w<k;w++){var M=N[w].call(this,I&&I[w]);M!=null&&(S[w]=M)}}return this._components=S,this._properties=e[this._type],this._alpha=E,y&&(this.__read=m),this},set:"#initialize",_serialize:function(f,d){var _=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),f,!0,d)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var d;return this._type===f?this._components.slice():(d=h[this._type+"-"+f])?d.apply(this,this._components):h["rgb-"+f].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new We(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=e[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var d=g.isPlainValue(f,!0)?We.read(arguments):f;return d===this||d&&this._class===d._class&&this._type===d._type&&this.getAlpha()===d.getAlpha()&&g.equals(this._components,d._components)||!1},toString:function(){for(var f=this._properties,d=[],_=this._type==="gradient",y=le.instance,m=0,v=f.length;m<v;m++){var S=this._components[m];S!=null&&d.push(f[m]+": "+(_?S:y.number(S)))}return this._alpha!=null&&d.push("alpha: "+y.number(this._alpha)),"{ "+d.join(", ")+" }"},toCSS:function(f){var d=this._convert("rgb"),_=f||this._alpha==null?1:this._alpha;function y(m){return Math.round((m<0?0:m>1?1:m)*255)}return d=[y(d[0]),y(d[1]),y(d[2])],_<1&&d.push(_<0?0:_),f?"#"+((1<<24)+(d[0]<<16)+(d[1]<<8)+d[2]).toString(16).slice(1):(d.length==4?"rgba(":"rgb(")+d.join(",")+")"},toCanvasStyle:function(f,d){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,y=_[0],m=y._stops,v=_[1],S=_[2],E=_[3],I=d&&d.inverted(),P;if(I&&(v=I._transformPoint(v),S=I._transformPoint(S),E&&(E=I._transformPoint(E))),y._radial){var C=S.getDistance(v);if(E){var x=E.subtract(v);x.getLength()>C&&(E=v.add(x.normalize(C-.1)))}var w=E||v;P=f.createRadialGradient(w.x,w.y,0,v.x,v.y,C)}else P=f.createLinearGradient(v.x,v.y,S.x,S.y);for(var k=0,T=m.length;k<T;k++){var L=m[k],N=L._offset;P.addColorStop(N==null?k/(T-1):N,L._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(f){if(this._type==="gradient"){for(var d=this._components,_=1,y=d.length;_<y;_++){var m=d[_];f._transformPoint(m,m,!0)}this._changed()}},statics:{_types:e,random:function(){var f=Math.random;return new We(f(),f(),f())},_setOwner:function(f,d,_){return f&&(f._owner&&d&&f._owner!==d&&(f=f.clone()),!f._owner^!d&&(f._owner=d||null,f._setter=_||null)),f}}})},new function(){var e={add:function(t,i){return t+i},subtract:function(t,i){return t-i},multiply:function(t,i){return t*i},divide:function(t,i){return t/i}};return g.each(e,function(t,i){this[i]=function(a){a=We.read(arguments);for(var u=this._type,l=this._components,h=a._convert(u),f=0,d=l.length;f<d;f++)h[f]=t(l[f],h[f]);return new We(u,h,this._alpha!=null?t(this._alpha,a.getAlpha()):null)}},{})}),Dt=g.extend({_class:"Gradient",initialize:function(t,i){this._id=fe.get(),t&&g.isPlainObject(t)&&(this.set(t),t=i=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=o))},clone:function(){for(var e=[],t=0,i=this._stops.length;t<i;t++)e[t]=this._stops[t].clone();return new Dt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var i=0,a=t.length;i<a;i++)t[i]._owner=o;t=this._stops=tn.readList(e,0,{clone:!0});for(var i=0,a=t.length;i<a;i++)t[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,i=e._stops,a=t.length;if(a===i.length){for(var u=0;u<a;u++)if(!t[u].equals(i[u]))return!1;return!0}}return!1}}),tn=g.extend({_class:"GradientStop",initialize:function(t,i){var a=t,u=i;typeof t=="object"&&i===o&&(Array.isArray(t)&&typeof t[0]!="number"?(a=t[0],u=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(a=t.color,u=t.offset||t.rampPoint||0)),this.setColor(a),this.setOffset(u)},clone:function(){return new tn(this._color.clone(),this._offset)},_serialize:function(e,t){var i=this._color,a=this._offset;return g.serialize(a==null?[i]:[i,a],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){We._setOwner(this._color,null),this._color=We._setOwner(We.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Sn=g.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new z,selectedColor:null},t=g.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=g.set({},t,{fillColor:new We}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},u={beans:!0},l={_class:"Style",beans:!0,initialize:function(f,d,_){this._values={},this._owner=d,this._project=d&&d._project||_||r.project,this._defaults=!d||d instanceof ke?t:d instanceof Rt?i:e,f&&this.set(f)}};return g.each(t,function(h,f){var d=/Color$/.test(f),_=f==="shadowOffset",y=g.capitalize(f),m=a[f],v="set"+y,S="get"+y;l[v]=function(E){var I=this._owner,P=I&&I._children,C=P&&P.length>0&&!(I instanceof Be);if(C)for(var x=0,w=P.length;x<w;x++)P[x]._style[v](E);if((f==="selectedColor"||!C)&&f in this._defaults){var k=this._values[f];k!==E&&(d&&(k&&(We._setOwner(k,null),k._canvasStyle=null),E&&E.constructor===We&&(E=We._setOwner(E,I,C&&v))),this._values[f]=E,I&&I._changed(m||129))}},l[S]=function(E){var I=this._owner,P=I&&I._children,C=P&&P.length>0&&!(I instanceof Be),x;if(C&&!E)for(var w=0,k=P.length;w<k;w++){var T=P[w]._style[S]();if(!w)x=T;else if(!g.equals(x,T))return o}else if(f in this._defaults){var x=this._values[f];if(x===o)x=this._defaults[f],x&&x.clone&&(x=x.clone());else{var L=d?We:_?z:null;L&&!(x&&x.constructor===L)&&(this._values[f]=x=L.read([x],0,{readNull:!0,clone:!0}))}}return x&&d&&(x=We._setOwner(x,I,C&&v)),x},u[S]=function(E){return this._style[S](E)},u[v]=function(E){this._style[v](E)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,f){var d="get"+f,_="set"+f;l[d]=u[d]="#get"+h,l[_]=u[_]="#set"+h}),R.inject(u),l},{set:function(e){var t=e instanceof Sn,i=t?e._values:e;if(i){for(var a in i)if(a in this._defaults){var u=i[a];this[a]=u&&t&&u.clone?u.clone():u}}},equals:function(e){function t(i,a,u){var l=i._values,h=a._values,f=a._defaults;for(var d in l){var _=l[d],y=h[d];if(!(u&&d in h)&&!g.equals(_,y===o?f[d]:y))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),t!=null?t:i*1.2}}),Ze=new function(){function e(t,i,a,u){for(var l=["","webkit","moz","Moz","ms","o"],h=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var d=l[f],_=d?d+h:i;if(_ in t){if(a)t[_]=u;else return t[_];break}}}return{getStyles:function(t){var i=t&&t.nodeType!==9?t.ownerDocument:t,a=i&&i.defaultView;return a&&a.getComputedStyle(t,"")},getBounds:function(t,i){var a=t.ownerDocument,u=a.body,l=a.documentElement,h;try{h=t.getBoundingClientRect()}catch(y){h={left:0,top:0,width:0,height:0}}var f=h.left-(l.clientLeft||u.clientLeft||0),d=h.top-(l.clientTop||u.clientTop||0);if(!i){var _=a.defaultView;f+=_.pageXOffset||l.scrollLeft||u.scrollLeft,d+=_.pageYOffset||l.scrollTop||u.scrollTop}return new K(f,d,h.width,h.height)},getViewportBounds:function(t){var i=t.ownerDocument,a=i.defaultView,u=i.documentElement;return new K(0,0,a.innerWidth||u.clientWidth,a.innerHeight||u.clientHeight)},getOffset:function(t,i){return Ze.getBounds(t,i).getPoint()},getSize:function(t){return Ze.getBounds(t,!0).getSize()},isInvisible:function(t){return Ze.getSize(t).equals(new te(0,0))},isInView:function(t){return!Ze.isInvisible(t)&&Ze.getViewportBounds(t).intersects(Ze.getBounds(t,!0))},isInserted:function(t){return b.body.contains(t)},getPrefixed:function(t,i){return t&&e(t,i)},setPrefixed:function(t,i,a){if(typeof i=="object")for(var u in i)e(t,u,!0,i[u]);else e(t,i,!0,a)}}},tt={add:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++){var f=u[l],d=e===b&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;e.addEventListener(f,a,d)}},remove:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++)e.removeEventListener(u[l],a,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new z(t.pageX||t.clientX+b.documentElement.scrollLeft,t.pageY||t.clientY+b.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return tt.getPoint(e).subtract(Ze.getOffset(t||tt.getTarget(e)))}};tt.requestAnimationFrame=new function(){var e=Ze.getPrefixed(p,"requestAnimationFrame"),t=!1,i=[],a;function u(){var l=i;i=[];for(var h=0,f=l.length;h<f;h++)l[h]();t=e&&i.length,t&&e(u)}return function(l){i.push(l),e?t||(e(u),t=!0):a||(a=setInterval(u,1e3/60))}};var Je=g.extend(B,{_class:"View",initialize:function e(t,i){function a(m){return i[m]||parseInt(i.getAttribute(m),10)}function u(){var m=Ze.getSize(i);return m.isNaN()||m.isZero()?new te(a("width"),a("height")):m}var l;if(p&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+e._id++),tt.add(i,this._viewEvents);var h="none";if(Ze.setPrefixed(i.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),Z.hasAttribute(i,"resize")){var f=this;tt.add(p,this._windowEvents={resize:function(){f.setViewSize(u())}})}if(l=u(),Z.hasAttribute(i,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var d=this._stats.domElement,_=d.style,y=Ze.getOffset(i);_.position="absolute",_.left=y.x+"px",_.top=y.y+"px",b.body.appendChild(d)}}else l=new te(i),i=null;this._project=t,this._scope=t._scope,this._element=i,this._pixelRatio||(this._pixelRatio=p&&p.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new $)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Je._focused===this&&(Je._focused=null),Je._views.splice(Je._views.indexOf(this),1),delete Je._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),tt.remove(this._element,this._viewEvents),tt.remove(p,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(R._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;tt.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!Ze.getPrefixed(b,"hidden")||Z.getAttribute(t,"keepalive")==="true")&&Ze.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new g({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var i=this._frameItems;t?(i[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var i=this._frameItems[t];i.item.emit("frame",new g(e,{time:i.time+=e.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new Ae(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=te.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var i=this._element;i&&(i.width!==e&&(i.width=e),i.height!==t&&(i.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new K(new z,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ze.isInView(this._element)},isInserted:function(){return Ze.isInserted(this._element)},getPixelSize:function(e){var t=this._element,i;if(t){var a=t.parentNode,u=b.createElement("div");u.style.fontSize=e,a.appendChild(u),i=parseFloat(Ze.getStyles(u).fontSize),a.removeChild(u)}else i=parseFloat(i);return i},getTextWidth:function(e,t){return 0}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:z).read(i),u=z.read(i,0,{readNull:!0});return this.transform(new $()[e](a,u||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new $;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=z.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new $().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new me(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=z.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(z.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(z.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(z.read(arguments))},getEventPoint:function(e){return this.viewToProject(tt.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){b&&typeof t=="string"&&(t=b.getElementById(t));var i=p?hr:Je;return new i(e,t)}}},new function(){if(!p)return;var e,t,i=!1,a=!1;function u(F){var H=tt.getTarget(F);return H.getAttribute&&Je._viewsById[H.getAttribute("id")]}function l(){var F=Je._focused;if(!F||!F.isVisible()){for(var H=0,q=Je._views.length;H<q;H++)if((F=Je._views[H]).isVisible()){Je._focused=t=F;break}}}function h(F,H,q){F._handleMouseEvent("mousemove",H,q)}var f=p.navigator,d,_,y;f.pointerEnabled||f.msPointerEnabled?(d="pointerdown MSPointerDown",_="pointermove MSPointerMove",y="pointerup pointercancel MSPointerUp MSPointerCancel"):(d="touchstart",_="touchmove",y="touchend touchcancel","ontouchstart"in p&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(d+=" mousedown",_+=" mousemove",y+=" mouseup"));var m={},v={mouseout:function(F){var H=Je._focused,q=tt.getRelatedTarget(F);if(H&&(!q||q.nodeName==="HTML")){var W=tt.getOffset(F,H._element),G=W.x,J=Math.abs,se=J(G),he=1<<25,ve=se-he;W.x=J(ve)<se?ve*(G<0?-1:1):G,h(H,F,H.viewToProject(W))}},scroll:l};m[d]=function(F){var H=Je._focused=u(F);i||(i=!0,H._handleMouseEvent("mousedown",F))},v[_]=function(F){var H=Je._focused;if(!a){var q=u(F);q?H!==q&&(H&&h(H,F),e||(e=H),H=Je._focused=t=q):t&&t===H&&(e&&!e.isInserted()&&(e=null),H=Je._focused=e,e=null,l())}H&&h(H,F)},v[d]=function(){a=!0},v[y]=function(F){var H=Je._focused;H&&i&&H._handleMouseEvent("mouseup",F),a=i=!1},tt.add(b,v),tt.add(p,{load:l});var S=!1,E=!1,I={doubleclick:"click",mousedrag:"mousemove"},P=!1,C,x,w,k,T,L,N,M;function O(F,H,q,W,G,J,se){var he=!1,ve;function ye(ue,oe){if(ue.responds(oe)){if(ve||(ve=new ti(oe,W,G,H||ue,J?G.subtract(J):null)),ue.emit(oe,ve)&&(S=!0,ve.prevented&&(E=!0),ve.stopped))return he=!0}else{var we=I[oe];if(we)return ye(ue,we)}}for(;F&&F!==se&&!ye(F,q);)F=F._parent;return he}function D(F,H,q,W,G,J){return F._project.removeOn(q),E=S=!1,T&&O(T,null,q,W,G,J)||H&&H!==T&&!H.isDescendant(T)&&O(H,null,q==="mousedrag"?"mousemove":q,W,G,J,T)||O(F,T||H||F,q,W,G,J)}var U={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(F,H,q){var W=this._itemEvents,G=W.native[F],J=F==="mousemove",se=this._scope.tool,he=this;function ve(Le){return W.virtual[Le]||he.responds(Le)||se&&se.responds(Le)}J&&i&&ve("mousedrag")&&(F="mousedrag"),q||(q=this.getEventPoint(H));var ye=this.getBounds().contains(q),ue=G&&ye&&he._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),oe=ue&&ue.item||null,we=!1,Se={};if(Se[F.substr(5)]=!0,G&&oe!==k&&(k&&O(k,null,"mouseleave",H,q),oe&&O(oe,null,"mouseenter",H,q),k=oe),P^ye&&(O(this,null,ye?"mouseenter":"mouseleave",H,q),we=!0),(ye||Se.drag)&&!q.equals(x)&&(D(this,oe,J?F:"mousemove",H,q,x),we=!0),P=ye,Se.down&&ye||Se.up&&C){if(D(this,oe,F,H,q,C),Se.down){if(M=oe===L&&Date.now()-N<300,w=L=oe,!E&&oe){for(var Ie=oe;Ie&&!Ie.responds("mousedrag");)Ie=Ie._parent;Ie&&(T=oe)}C=q}else Se.up&&(!E&&oe===w&&(N=Date.now(),D(this,oe,M?"doubleclick":"click",H,q,C),M=!1),w=T=null);P=!1,we=!0}x=q,we&&se&&(S=se._handleMouseEvent(F,H,q,Se)||S),H.cancelable!==!1&&(S&&!Se.move||Se.down&&ve("mouseup"))&&H.preventDefault()},_handleKeyEvent:function(F,H,q,W){var G=this._scope,J=G.tool,se;function he(ve){ve.responds(F)&&(r=G,ve.emit(F,se=se||new Ui(F,H,q,W)))}this.isVisible()&&(he(this),J&&J.responds(F)&&he(J))},_countItemEvent:function(F,H){var q=this._itemEvents,W=q.native,G=q.virtual;for(var J in U)W[J]=(W[J]||0)+(U[J][F]||0)*H;G[F]=(G[F]||0)+H},statics:{updateFocus:l,_resetState:function(){i=a=S=P=!1,e=t=C=x=w=k=T=L=N=M=null}}}}),hr=Je.extend({_class:"CanvasView",initialize:function(t,i){if(!(i instanceof p.HTMLCanvasElement)){var a=te.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));i=pt.getCanvas(a)}var u=this._context=i.getContext("2d");if(u.save(),this._pixelRatio=1,!/^off|false$/.test(Z.getAttribute(i,"hidpi"))){var l=p.devicePixelRatio||1,h=Ze.getPrefixed(u,"backingStorePixelRatio")||1;this._pixelRatio=l/h}Je.call(this,t,i),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,i){var a=this._pixelRatio;if(e.base.call(this,t*a,i*a),a!==1){var u=this._element,l=this._context;if(!Z.hasAttribute(u,"resize")){var h=u.style;h.width=t+"px",h.height=i+"px"}l.restore(),l.save(),l.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function e(t){var i=r.agent,a;if(i&&i.firefox)a=e.base.call(this,t);else{var u=this._context,l=u.font;u.font=t+" serif",a=parseFloat(u.font),u.font=l}return a},getTextWidth:function(e,t){var i=this._context,a=i.font,u=0;i.font=e;for(var l=0,h=t.length;l<h;l++)u=Math.max(u,i.measureText(t[l]).width);return i.font=a,u},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,i=this._viewSize;return t.clearRect(0,0,i.width+1,i.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Tn=g.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return di.modifiers}}),Ui=Tn.extend({_class:"KeyEvent",initialize:function(t,i,a,u){this.type=t,this.event=i,this.key=a,this.character=u},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),di=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},i={},a={},u,l,h=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=r&&r.agent;return _&&_.mac?this.meta:this.control}}});function f(_){var y=_.key||_.keyIdentifier;return y=/^U\+/.test(y)?String.fromCharCode(parseInt(y.substr(2),16)):/^Arrow[A-Z]/.test(y)?y.substr(5):y==="Unidentified"||y===o?String.fromCharCode(_.keyCode):y,e[y]||(y.length>1?g.hyphenate(y):y.toLowerCase())}function d(_,y,m,v){var S=Je._focused,E;if(i[y]=_,_?a[y]=m:delete a[y],y.length>1&&(E=g.camelize(y))in h){h[E]=_;var I=r&&r.agent;if(E==="meta"&&I&&I.mac)if(_)u={};else{for(var P in u)P in a&&d(!1,P,u[P],v);u=null}}else _&&u&&(u[y]=m);S&&S._handleKeyEvent(_?"keydown":"keyup",v,y,m)}return tt.add(b,{keydown:function(_){var y=f(_),m=r&&r.agent;y.length>1||m&&m.chrome&&(_.altKey||m.mac&&_.metaKey||!m.mac&&_.ctrlKey)?d(!0,y,t[y]||(y.length>1?"":y),_):l=y},keypress:function(_){if(l){var y=f(_),m=_.charCode,v=m>=32?String.fromCharCode(m):y.length>1?"":y;y!==l&&(y=v.toLowerCase()),d(!0,y,v,_),l=null}},keyup:function(_){var y=f(_);y in a&&d(!1,y,a[y],_)}}),tt.add(p,{blur:function(_){for(var y in a)d(!1,y,a[y],_)}}),{modifiers:h,isDown:function(_){return!!i[_]}}},ti=Tn.extend({_class:"MouseEvent",initialize:function(t,i,a,u,l){this.type=t,this.event=i,this.point=a,this.target=u,this.delta=l},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Hi=Tn.extend({_class:"ToolEvent",_item:null,initialize:function(t,i,a){this.tool=t,this.type=i,this.event=a},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,i=t._parent;/^(Group|CompoundPath)$/.test(i._class);)t=i,i=i._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),qi=Q.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){Q.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,i,a){r=this._scope,a.drag&&!this.responds(e)&&(e="mousemove");var u=a.move||a.drag,l=this.responds(e),h=this.minDistance,f=this.maxDistance,d=!1,_=this;function y(v,S){var E=i,I=u?_._point:_._downPoint||E;if(u){if(_._moveCount>=0&&E.equals(I))return!1;if(I&&(v!=null||S!=null)){var P=E.subtract(I),C=P.getLength();if(C<(v||0))return!1;S&&(E=I.add(P.normalize(Math.min(C,S))))}_._moveCount++}return _._point=E,_._lastPoint=I||E,a.down&&(_._moveCount=-1,_._downPoint=E,_._downCount++),!0}function m(){l&&(d=_.emit(e,new Hi(_,e,t))||d)}if(a.down)y(),m();else if(a.up)y(null,f),m();else if(l)for(;y(h,f);)m();return d}}),pi=g.extend(B,{_class:"Tween",statics:{easings:new g({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,i,a,u,l,h){this.object=t;var f=typeof l,d=f==="function";this.type=d?f:f==="string"?l:"linear",this.easing=d?l:e.easings[this.type],this.duration=u,this.running=!1,this._then=null,this._startTime=null;var _=i||a;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(i),this._to=_&&this._getState(a),h!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),i=this._keys,a=function(y){return typeof y=="function"?y(t,e):y},u=0,l=i&&i.length;u<l;u++){var h=i[u],f=a(this._from[h]),d=a(this._to[h]),_=f&&d&&f.__add&&d.__add?d.__subtract(f).__multiply(t).__add(f):(d-f)*t+f;this._setProperty(this._parsedKeys[h],_)}this.responds("update")&&this.emit("update",new g({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,i=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(i)},_getState:function(e){for(var t=this._keys,i={},a=0,u=t.length;a<u;a++){var l=t[a],h=this._parsedKeys[l],f=this._getProperty(h),d;if(e){var _=this._resolveValue(f,e[l]);this._setProperty(h,_),d=this._getProperty(h),d=d&&d.clone?d.clone():d,this._setProperty(h,f)}else d=f&&f.clone?f.clone():f;i[l]=d}return i},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var i=t[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(e,i[0],t[1]):t}else if(typeof t=="string"){var a=t.match(/^[+\-*/]=(.*)/);if(a){var u=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],u)}}}return t},_calculate:function(e,t,i){return r.PaperScript.calculateBinary(e,t,i)},_parseKeys:function(e){for(var t={},i=0,a=e.length;i<a;i++){var u=e[i],l=u.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[u]=l.split("/")}return t},_getProperty:function(e,t){for(var i=this.object,a=0,u=e.length-(t||0);a<u&&i;a++)i=i[e[a]];return i},_setProperty:function(e,t){var i=this._getProperty(e,1);i&&(i[e[e.length-1]]=t)}}),kt={request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,g.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var i=t.status;i===0||i===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var i=t.status,a='Could not load "'+e.url+'" (Status: '+i+")";if(e.onError)e.onError(a,i);else throw new Error(a)},t.send(null)}},pt=g.exports.CanvasProvider={canvases:[],getCanvas:function(e,t){if(!p)return null;var i,a=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?i=this.canvases.pop():(i=b.createElement("canvas"),a=!1);var u=i.getContext("2d");if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===e&&i.height===t?a&&u.clearRect(0,0,e+1,t+1):(i.width=e,i.height=t),u.save(),i},getContext:function(e,t){var i=this.getCanvas(e,t);return i?i.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},St=new function(){var e=Math.min,t=Math.max,i=Math.abs,a,u,l,h,f,d,_,y,m,v,S;function E(T,L,N){return .2989*T+.587*L+.114*N}function I(T,L,N,D){var O=D-E(T,L,N);m=T+O,v=L+O,S=N+O;var D=E(m,v,S),U=e(m,v,S),F=t(m,v,S);if(U<0){var H=D-U;m=D+(m-D)*D/H,v=D+(v-D)*D/H,S=D+(S-D)*D/H}if(F>255){var q=255-D,W=F-D;m=D+(m-D)*q/W,v=D+(v-D)*q/W,S=D+(S-D)*q/W}}function P(T,L,N){return t(T,L,N)-e(T,L,N)}function C(T,L,N,M){var O=[T,L,N],D=t(T,L,N),U=e(T,L,N),F;U=U===T?0:U===L?1:2,D=D===T?0:D===L?1:2,F=e(U,D)===0?t(U,D)===1?2:1:0,O[D]>O[U]?(O[F]=(O[F]-O[U])*M/(O[D]-O[U]),O[D]=M):O[F]=O[D]=0,O[U]=0,m=O[0],v=O[1],S=O[2]}var x={multiply:function(){m=f*a/255,v=d*u/255,S=_*l/255},screen:function(){m=f+a-f*a/255,v=d+u-d*u/255,S=_+l-_*l/255},overlay:function(){m=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=d<128?2*d*u/255:255-2*(255-d)*(255-u)/255,S=_<128?2*_*l/255:255-2*(255-_)*(255-l)/255},"soft-light":function(){var T=a*f/255;m=T+f*(255-(255-f)*(255-a)/255-T)/255,T=u*d/255,v=T+d*(255-(255-d)*(255-u)/255-T)/255,T=l*_/255,S=T+_*(255-(255-_)*(255-l)/255-T)/255},"hard-light":function(){m=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*d/255:255-2*(255-u)*(255-d)/255,S=l<128?2*l*_/255:255-2*(255-l)*(255-_)/255},"color-dodge":function(){m=f===0?0:a===255?255:e(255,255*f/(255-a)),v=d===0?0:u===255?255:e(255,255*d/(255-u)),S=_===0?0:l===255?255:e(255,255*_/(255-l))},"color-burn":function(){m=f===255?255:a===0?0:t(0,255-(255-f)*255/a),v=d===255?255:u===0?0:t(0,255-(255-d)*255/u),S=_===255?255:l===0?0:t(0,255-(255-_)*255/l)},darken:function(){m=f<a?f:a,v=d<u?d:u,S=_<l?_:l},lighten:function(){m=f>a?f:a,v=d>u?d:u,S=_>l?_:l},difference:function(){m=f-a,m<0&&(m=-m),v=d-u,v<0&&(v=-v),S=_-l,S<0&&(S=-S)},exclusion:function(){m=f+a*(255-f-f)/255,v=d+u*(255-d-d)/255,S=_+l*(255-_-_)/255},hue:function(){C(a,u,l,P(f,d,_)),I(m,v,S,E(f,d,_))},saturation:function(){C(f,d,_,P(a,u,l)),I(m,v,S,E(f,d,_))},luminosity:function(){I(f,d,_,E(a,u,l))},color:function(){I(a,u,l,E(f,d,_))},add:function(){m=e(f+a,255),v=e(d+u,255),S=e(_+l,255)},subtract:function(){m=t(f-a,0),v=t(d-u,0),S=t(_-l,0)},average:function(){m=(f+a)/2,v=(d+u)/2,S=(_+l)/2},negation:function(){m=255-i(255-a-f),v=255-i(255-u-d),S=255-i(255-l-_)}},w=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(T){this[T]=!0},{}),k=pt.getContext(1,1);k&&(g.each(x,function(T,L){var N=L==="darken",M=!1;k.save();try{k.fillStyle=N?"#300":"#a00",k.fillRect(0,0,1,1),k.globalCompositeOperation=L,k.globalCompositeOperation===L&&(k.fillStyle=N?"#a00":"#300",k.fillRect(0,0,1,1),M=k.getImageData(0,0,1,1).data[0]!==N?170:51)}catch(O){}k.restore(),w[L]=M}),pt.release(k)),this.process=function(T,L,N,M,O){var D=L.canvas,U=T==="normal";if(U||w[T])N.save(),N.setTransform(1,0,0,1,0,0),N.globalAlpha=M,U||(N.globalCompositeOperation=T),N.drawImage(D,O.x,O.y),N.restore();else{var F=x[T];if(!F)return;for(var H=N.getImageData(O.x,O.y,D.width,D.height),q=H.data,W=L.getImageData(0,0,D.width,D.height).data,G=0,J=q.length;G<J;G+=4){a=W[G],f=q[G],u=W[G+1],d=q[G+1],l=W[G+2],_=q[G+2],h=W[G+3],y=q[G+3],F();var se=h*M/255,he=1-se;q[G]=se*m+he*f,q[G+1]=se*v+he*d,q[G+2]=se*S+he*_,q[G+3]=h*M+he*y}N.putImageData(H,O.x,O.y)}}},Ct=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",a={href:i,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function u(f,d,_){return h(b.createElementNS(e,f),d,_)}function l(f,d){var _=a[d],y=_?f.getAttributeNS(_,d):f.getAttribute(d);return y==="null"?null:y}function h(f,d,_){for(var y in d){var m=d[y],v=a[y];typeof m=="number"&&_&&(m=_.number(m)),v?f.setAttributeNS(v,y,m):f.setAttribute(y,m)}return f}return{svg:e,xmlns:t,xlink:i,create:u,get:l,set:h}},nt=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Te||e instanceof Fe||e instanceof Rt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var i=g.capitalize(t),a=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:a,fromSVG:a&&g.each(a,function(u,l){this[u]=l},{}),exportFilter:e[3],get:"get"+i,set:"set"+i}},{});new function(){var e;function t(x,w,k){var T=new g,L=x.getTranslation();if(w){var N;x.isInvertible()?(x=x._shiftless(),N=x._inverseTransform(L),L=null):N=new z,T[k?"cx":"x"]=N.x,T[k?"cy":"y"]=N.y}if(!x.isIdentity()){var M=x.decompose();if(M){var O=[],D=M.rotation,U=M.scaling,F=M.skewing;L&&!L.isZero()&&O.push("translate("+e.point(L)+")"),D&&O.push("rotate("+e.number(D)+")"),(!ne.isZero(U.x-1)||!ne.isZero(U.y-1))&&O.push("scale("+e.point(U)+")"),F.x&&O.push("skewX("+e.number(F.x)+")"),F.y&&O.push("skewY("+e.number(F.y)+")"),T.transform=O.join(" ")}else T.transform="matrix("+x.getValues().join(",")+")"}return T}function i(x,w){for(var k=t(x._matrix),T=x._children,L=Ct.create("g",k,e),N=0,M=T.length;N<M;N++){var O=T[N],D=P(O,w);if(D)if(O.isClipMask()){var U=Ct.create("clipPath");U.appendChild(D),E(O,U,"clip"),Ct.set(L,{"clip-path":"url(#"+U.id+")"})}else L.appendChild(D)}return L}function a(x,w){var k=t(x._matrix,!0),T=x.getSize(),L=x.getImage();return k.x-=T.width/2,k.y-=T.height/2,k.width=T.width,k.height=T.height,k.href=w.embedImages==!1&&L&&L.src||x.toDataURL(),Ct.create("image",k,e)}function u(x,w){var k=w.matchShapes;if(k){var T=x.toShape(!1);if(T)return l(T)}var L=x._segments,N=L.length,M,O=t(x._matrix);if(k&&N>=2&&!x.hasHandles())if(N>2){M=x._closed?"polygon":"polyline";for(var D=[],U=0;U<N;U++)D.push(e.point(L[U]._point));O.points=D.join(" ")}else{M="line";var F=L[0]._point,H=L[1]._point;O.set({x1:F.x,y1:F.y,x2:H.x,y2:H.y})}else M="path",O.d=x.getPathData(null,w.precision);return Ct.create(M,O,e)}function l(x){var w=x._type,k=x._radius,T=t(x._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var L=x._size,N=L.width,M=L.height;T.x-=N/2,T.y-=M/2,T.width=N,T.height=M,k.isZero()&&(k=null)}return k&&(w==="circle"?T.r=k:(T.rx=k.width,T.ry=k.height)),Ct.create(w,T,e)}function h(x,w){var k=t(x._matrix),T=x.getPathData(null,w.precision);return T&&(k.d=T),Ct.create("path",k,e)}function f(x,w){var k=t(x._matrix,!0),T=x._definition,L=S(T,"symbol"),N=T._item,M=N.getStrokeBounds();return L||(L=Ct.create("symbol",{viewBox:e.rectangle(M)}),L.appendChild(P(N,w)),E(T,L,"symbol")),k.href="#"+L.id,k.x+=M.x,k.y+=M.y,k.width=M.width,k.height=M.height,k.overflow="visible",Ct.create("use",k,e)}function d(x){var w=S(x,"color");if(!w){var k=x.getGradient(),T=k._radial,L=x.getOrigin(),N=x.getDestination(),M;if(T){M={cx:L.x,cy:L.y,r:L.getDistance(N)};var O=x.getHighlight();O&&(M.fx=O.x,M.fy=O.y)}else M={x1:L.x,y1:L.y,x2:N.x,y2:N.y};M.gradientUnits="userSpaceOnUse",w=Ct.create((T?"radial":"linear")+"Gradient",M,e);for(var D=k._stops,U=0,F=D.length;U<F;U++){var H=D[U],q=H._color,W=q.getAlpha(),G=H._offset;M={offset:G==null?U/(F-1):G},q&&(M["stop-color"]=q.toCSS(!0)),W<1&&(M["stop-opacity"]=W),w.appendChild(Ct.create("stop",M,e))}E(x,w,"color")}return"url(#"+w.id+")"}function _(x){var w=Ct.create("text",t(x._matrix,!0),e);return w.textContent=x._content,w}var y={Group:i,Layer:i,Raster:a,Path:u,Shape:l,CompoundPath:h,SymbolItem:f,PointText:_};function m(x,w,k){var T={},L=!k&&x.getParent(),N=[];return x._name!=null&&(T.id=x._name),g.each(nt,function(M){var O=M.get,D=M.type,U=x[O]();if(M.exportFilter?M.exportFilter(x,U):!L||!g.equals(L[O](),U)){if(D==="color"&&U!=null){var F=U.getAlpha();F<1&&(T[M.attribute+"-opacity"]=F)}D==="style"?N.push(M.attribute+": "+U):T[M.attribute]=U==null?"none":D==="color"?U.gradient?d(U):U.toCSS(!0):D==="array"?U.join(","):D==="lookup"?M.toSVG[U]:U}}),N.length&&(T.style=N.join(";")),T.opacity===1&&delete T.opacity,x._visible||(T.visibility="hidden"),Ct.set(w,T,e)}var v;function S(x,w){return v||(v={ids:{},svgs:{}}),x&&v.svgs[w+"-"+(x._id||x.__id||(x.__id=fe.get("svg")))]}function E(x,w,k){v||S();var T=v.ids[k]=(v.ids[k]||0)+1;w.id=k+"-"+T,v.svgs[k+"-"+(x._id||x.__id)]=w}function I(x,w){var k=x,T=null;if(v){k=x.nodeName.toLowerCase()==="svg"&&x;for(var L in v.svgs)T||(k||(k=Ct.create("svg"),k.appendChild(x)),T=k.insertBefore(Ct.create("defs"),k.firstChild)),T.appendChild(v.svgs[L]);v=null}return w.asString?new s.XMLSerializer().serializeToString(k):k}function P(x,w,k){var T=y[x._class],L=T&&T(x,w);if(L){var N=w.onExport;N&&(L=N(x,L,w)||L);var M=JSON.stringify(x._data);M&&M!=="{}"&&M!=="null"&&L.setAttribute("data-paper-data",M)}return L&&m(x,L,k)}function C(x){return x||(x={}),e=new le(x.precision),x}R.inject({exportSVG:function(x){return x=C(x),I(P(this,x,!0),x)}}),xe.inject({exportSVG:function(x){x=C(x);var w=this._children,k=this.getView(),T=g.pick(x.bounds,"view"),L=x.matrix||T==="view"&&k._matrix,N=L&&$.read([L]),M=T==="view"?new K([0,0],k.getViewSize()):T==="content"?R._getBounds(w,N,{stroke:!0}).rect:K.read([T],0,{readNull:!0}),O={version:"1.1",xmlns:Ct.svg,"xmlns:xlink":Ct.xlink};M&&(O.width=M.width,O.height=M.height,(M.x||M.x===0||M.y||M.y===0)&&(O.viewBox=e.rectangle(M)));var D=Ct.create("svg",O,e),U=D;N&&!N.isIdentity()&&(U=D.appendChild(Ct.create("g",t(N),e)));for(var F=0,H=w.length;F<H;F++)U.appendChild(P(w[F],x,!0));return I(D,x)}})},new function(){var e={},t;function i(w,k,T,L,N,M){var O=Ct.get(w,k)||M,D=O==null?L?null:T?"":0:T?O:parseFloat(O);return/%\s*$/.test(O)?D/100*(N?1:t[/x|^width/.test(k)?"width":"height"]):D}function a(w,k,T,L,N,M,O){return k=i(w,k||"x",!1,L,N,M),T=i(w,T||"y",!1,L,N,O),L&&(k==null||T==null)?null:new z(k,T)}function u(w,k,T,L,N){return k=i(w,k||"width",!1,L,N),T=i(w,T||"height",!1,L,N),L&&(k==null||T==null)?null:new te(k,T)}function l(w,k,T){return w==="none"?null:k==="number"?parseFloat(w):k==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:k==="color"?P(w)||w:k==="lookup"?T[w]:w}function h(w,k,T,L){var N=w.childNodes,M=k==="clippath",O=k==="defs",D=new ke,U=D._project,F=U._currentStyle,H=[];if(!M&&!O&&(D=I(D,w,L),U._currentStyle=D._style.clone()),L)for(var q=w.querySelectorAll("defs"),W=0,G=q.length;W<G;W++)C(q[W],T,!1);for(var W=0,G=N.length;W<G;W++){var J=N[W],se;J.nodeType===1&&!/^defs$/i.test(J.nodeName)&&(se=C(J,T,!1))&&!(se instanceof je)&&H.push(se)}return D.addChildren(H),M&&(D=I(D.reduce(),w,L)),U._currentStyle=F,(M||O)&&(D.remove(),D=null),D}function f(w,k){for(var T=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),L=[],N=0,M=T.length;N<M;N+=2)L.push(new z(parseFloat(T[N]),parseFloat(T[N+1])));var O=new Ce(L);return k==="polygon"&&O.closePath(),O}function d(w){return Te.create(w.getAttribute("d"))}function _(w,k){var T=(i(w,"href",!0)||"").substring(1),L=k==="radialgradient",N;if(T)N=e[T].getGradient(),N._radial^L&&(N=N.clone(),N._radial=L);else{for(var M=w.childNodes,O=[],D=0,U=M.length;D<U;D++){var F=M[D];F.nodeType===1&&O.push(I(new tn,F))}N=new Dt(O,L)}var H,q,W,G=i(w,"gradientUnits",!0)!=="userSpaceOnUse";L?(H=a(w,"cx","cy",!1,G,"50%","50%"),q=H.add(i(w,"r",!1,!1,G,"50%"),0),W=a(w,"fx","fy",!0,G)):(H=a(w,"x1","y1",!1,G,"0%","0%"),q=a(w,"x2","y2",!1,G,"100%","0%"));var J=I(new We(N,H,q,W),w);return J._scaleToBounds=G,null}var y={"#document":function(w,k,T,L){for(var N=w.childNodes,M=0,O=N.length;M<O;M++){var D=N[M];if(D.nodeType===1)return C(D,T,L)}},g:h,svg:h,clippath:h,polygon:f,polyline:f,path:d,lineargradient:_,radialgradient:_,image:function(w){var k=new De(i(w,"href",!0));return k.on("load",function(){var T=u(w);this.setSize(T);var L=a(w).add(T.divide(2));this._matrix.append(new $().translate(L))}),k},symbol:function(w,k,T,L){return new je(h(w,k,T,L),!0)},defs:h,use:function(w){var k=(i(w,"href",!0)||"").substring(1),T=e[k],L=a(w);return T?T instanceof je?T.place(L):T.clone().translate(L):null},circle:function(w){return new Fe.Circle(a(w,"cx","cy"),i(w,"r"))},ellipse:function(w){return new Fe.Ellipse({center:a(w,"cx","cy"),radius:u(w,"rx","ry")})},rect:function(w){return new Fe.Rectangle(new K(a(w),u(w)),u(w,"rx","ry"))},line:function(w){return new Ce.Line(a(w,"x1","y1"),a(w,"x2","y2"))},text:function(w){var k=new Ft(a(w).add(a(w,"dx","dy")));return k.setContent(w.textContent.trim()||""),k},switch:h};function m(w,k,T,L){if(w.transform){for(var N=(L.getAttribute(T)||"").split(/\)\s*/g),M=new $,O=0,D=N.length;O<D;O++){var U=N[O];if(!U)break;for(var F=U.split(/\(\s*/),H=F[0],q=F[1].split(/[\s,]+/g),W=0,G=q.length;W<G;W++)q[W]=parseFloat(q[W]);switch(H){case"matrix":M.append(new $(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":M.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":M.translate(q[0],q[1]||0);break;case"scale":M.scale(q);break;case"skewX":M.skew(q[0],0);break;case"skewY":M.skew(0,q[0]);break}}w.transform(M)}}function v(w,k,T){var L=T==="fill-opacity"?"getFillColor":"getStrokeColor",N=w[L]&&w[L]();N&&N.setAlpha(parseFloat(k))}var S=g.set(g.each(nt,function(w){this[w.attribute]=function(k,T){if(k[w.set]&&(k[w.set](l(T,w.type,w.fromSVG)),w.type==="color")){var L=k[w.get]();if(L&&L._scaleToBounds){var N=k.getBounds();L.transform(new $().translate(N.getPoint()).scale(N.getSize()))}}}},{}),{id:function(w,k){e[k]=w,w.setName&&w.setName(k)},"clip-path":function(w,k){var T=P(k);if(T)if(T=T.clone(),T.setClipMask(!0),w instanceof ke)w.insertChild(0,T);else return new ke(T,w)},gradientTransform:m,transform:m,"fill-opacity":v,"stroke-opacity":v,visibility:function(w,k){w.setVisible&&w.setVisible(k==="visible")},display:function(w,k){w.setVisible&&w.setVisible(k!==null)},"stop-color":function(w,k){w.setColor&&w.setColor(k)},"stop-opacity":function(w,k){w._color&&w._color.setAlpha(parseFloat(k))},offset:function(w,k){if(w.setOffset){var T=k.match(/(.*)%$/);w.setOffset(T?T[1]/100:parseFloat(k))}},viewBox:function(w,k,T,L,N){var M=new K(l(k,"array")),O=u(L,null,null,!0),D,U;if(w instanceof ke){var F=O?O.divide(M.getSize()):1,U=new $().scale(F).translate(M.getPoint().negate());D=w}else w instanceof je&&(O&&M.setSize(O),D=w._item);if(D){if(E(L,"overflow",N)!=="visible"){var H=new Fe.Rectangle(M);H.setClipMask(!0),D.addChild(H)}U&&D.transform(U)}}});function E(w,k,T){var L=w.attributes[k],N=L&&L.value;if(!N&&w.style){var M=g.camelize(k);N=w.style[M],!N&&T.node[M]!==T.parent[M]&&(N=T.node[M])}return N?N==="none"?null:N:o}function I(w,k,T){var L=k.parentNode,N={node:Ze.getStyles(k)||{},parent:!T&&!/^defs$/i.test(L.tagName)&&Ze.getStyles(L)||{}};return g.each(S,function(M,O){var D=E(k,O,N);w=D!==o&&M(w,D,O,k,N)||w}),w}function P(w){var k=w&&w.match(/\((?:["'#]*)([^"')]+)/),T=k&&k[1],L=T&&e[p?T.replace(p.location.href.split("#")[0]+"#",""):T];return L&&L._scaleToBounds&&(L=L.clone(),L._scaleToBounds=!0),L}function C(w,k,T){var L=w.nodeName.toLowerCase(),N=L!=="#document",M=b.body,O,D,U;T&&N&&(t=r.getView().getSize(),t=u(w,null,null,!0)||t,O=Ct.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),D=w.parentNode,U=w.nextSibling,O.appendChild(w),M.appendChild(O));var F=r.settings,H=F.applyMatrix,q=F.insertItems;F.applyMatrix=!1,F.insertItems=!1;var W=y[L],G=W&&W(w,L,k,T)||null;if(F.insertItems=q,F.applyMatrix=H,G){N&&!(G instanceof ke)&&(G=I(G,w,T));var J=k.onImport,se=N&&w.getAttribute("data-paper-data");J&&(G=J(w,G,k)||G),k.expandShapes&&G instanceof Fe&&(G.remove(),G=G.toPath()),se&&(G._data=JSON.parse(se))}return O&&(M.removeChild(O),D&&(U?D.insertBefore(w,U):D.appendChild(w))),T&&(e={},G&&g.pick(k.applyMatrix,H)&&G.matrix.apply(!0,!0)),G}function x(w,k,T){if(!w)return null;k=typeof k=="function"?{onLoad:k}:k||{};var L=r,N=null;function M(F){try{var H=typeof F=="object"?F:new s.DOMParser().parseFromString(F.trim(),"image/svg+xml");if(!H.nodeName)throw H=null,new Error("Unsupported SVG source: "+w);r=L,N=C(H,k,!0),(!k||k.insert!==!1)&&T._insertItem(o,N);var q=k.onLoad;q&&q(N,F)}catch(W){O(W)}}function O(F,H){var q=k.onError;if(q)q(F,H);else throw new Error(F)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var D=b.getElementById(w);D?M(D):kt.request({url:w,async:!0,onLoad:M,onError:O})}else if(typeof File!="undefined"&&w instanceof File){var U=new FileReader;return U.onload=function(){M(U.result)},U.onerror=function(){O(U.error)},U.readAsText(w)}else M(w);return N}R.inject({importSVG:function(w,k){return x(w,k,this)}}),xe.inject({importSVG:function(w,k){return this.activate(),x(w,k,this)}})},g.exports.PaperScript=function(){var e=this,t=e.acorn;if(!t&&typeof C0!="undefined")try{t=P0()}catch(I){}if(!t){var i,a;t=i=a={},function(I,P){if(typeof i=="object"&&typeof a=="object")return P(i);if(typeof o=="function"&&o.amd)return o(["exports"],P);P(I.acorn||(I.acorn={}))}(this,function(I){I.version="0.5.0";var P,C,x,w;I.parse=function(ee,re){return C=String(ee),x=C.length,T(re),Jl(),pp(P.program)};var k=I.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function T(ee){P=ee||{};for(var re in k)Object.prototype.hasOwnProperty.call(P,re)||(P[re]=k[re]);w=P.sourceFile||null}var L=I.getLineInfo=function(ee,re){for(var _e=1,Pe=0;;){cr.lastIndex=Pe;var Ke=cr.exec(ee);if(Ke&&Ke.index<re)++_e,Pe=Ke.index+Ke[0].length;else break}return{line:_e,column:re-Pe}};I.tokenize=function(ee,re){C=String(ee),x=C.length,T(re),Jl();var _e={};function Pe(Ke){return se=O,Gi(Ke),_e.start=M,_e.end=O,_e.startLoc=D,_e.endLoc=U,_e.type=F,_e.value=H,_e}return Pe.jumpTo=function(Ke,Xe){if(N=Ke,P.locations){W=1,G=cr.lastIndex=0;for(var $e;($e=cr.exec(C))&&$e.index<Ke;)++W,G=$e.index+$e[0].length}q=Xe,dr()},Pe};var N,M,O,D,U,F,H,q,W,G,J,se,he,ve,ye,ue;function oe(ee,re){var _e=L(C,ee);re+=" ("+_e.line+":"+_e.column+")";var Pe=new SyntaxError(re);throw Pe.pos=ee,Pe.loc=_e,Pe.raisedAt=N,Pe}var we=[],Se={type:"num"},Ie={type:"regexp"},Le={type:"string"},ge={type:"name"},Me={type:"eof"},Re={keyword:"break"},Ve={keyword:"case",beforeExpr:!0},ot={keyword:"catch"},ht={keyword:"continue"},lt={keyword:"debugger"},Qe={keyword:"default"},Ge={keyword:"do",isLoop:!0},dt={keyword:"else",beforeExpr:!0},ft={keyword:"finally"},mt={keyword:"for",isLoop:!0},Vt={keyword:"function"},qt={keyword:"if"},At={keyword:"return",beforeExpr:!0},He={keyword:"switch"},bt={keyword:"throw",beforeExpr:!0},Ut={keyword:"try"},Gt={keyword:"var"},un={keyword:"while",isLoop:!0},fr={keyword:"with"},Us={keyword:"new",beforeExpr:!0},Hs={keyword:"this"},c={keyword:"null",atomValue:null},A={keyword:"true",atomValue:!0},V={keyword:"false",atomValue:!1},j={keyword:"in",binop:7,beforeExpr:!0},Y={break:Re,case:Ve,catch:ot,continue:ht,debugger:lt,default:Qe,do:Ge,else:dt,finally:ft,for:mt,function:Vt,if:qt,return:At,switch:He,throw:bt,try:Ut,var:Gt,while:un,with:fr,null:c,true:A,false:V,new:Us,in:j,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Hs,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ce={type:"[",beforeExpr:!0},pe={type:"]"},Ee={type:"{",beforeExpr:!0},ze={type:"}"},qe={type:"(",beforeExpr:!0},Ye={type:")"},Pt={type:",",beforeExpr:!0},Yt={type:";",beforeExpr:!0},An={type:":",beforeExpr:!0},Gn={type:"."},gi={type:"?",beforeExpr:!0},Zn={binop:10,beforeExpr:!0},Qn={isAssign:!0,beforeExpr:!0},ji={isAssign:!0,beforeExpr:!0},Ud={postfix:!0,prefix:!0,isUpdate:!0},jl={prefix:!0,beforeExpr:!0},Wl={binop:1,beforeExpr:!0},Gl={binop:2,beforeExpr:!0},Hd={binop:3,beforeExpr:!0},qd={binop:4,beforeExpr:!0},jd={binop:5,beforeExpr:!0},Wd={binop:6,beforeExpr:!0},Gd={binop:7,beforeExpr:!0},Zd={binop:8,beforeExpr:!0},Qd={binop:9,prefix:!0,beforeExpr:!0},Kd={binop:10,beforeExpr:!0};I.tokTypes={bracketL:ce,bracketR:pe,braceL:Ee,braceR:ze,parenL:qe,parenR:Ye,comma:Pt,semi:Yt,colon:An,dot:Gn,question:gi,slash:Zn,eq:Qn,name:ge,eof:Me,num:Se,regexp:Ie,string:Le};for(var Zl in Y)I.tokTypes["_"+Zl]=Y[Zl];function Wr(ee){ee=ee.split(" ");var re="",_e=[];e:for(var Pe=0;Pe<ee.length;++Pe){for(var Ke=0;Ke<_e.length;++Ke)if(_e[Ke][0].length==ee[Pe].length){_e[Ke].push(ee[Pe]);continue e}_e.push([ee[Pe]])}function Xe(yt){if(yt.length==1)return re+="return str === "+JSON.stringify(yt[0])+";";re+="switch(str){";for(var Bn=0;Bn<yt.length;++Bn)re+="case "+JSON.stringify(yt[Bn])+":";re+="return true}return false;"}if(_e.length>3){_e.sort(function(yt,Bn){return Bn.length-yt.length}),re+="switch(str.length){";for(var Pe=0;Pe<_e.length;++Pe){var $e=_e[Pe];re+="case "+$e[0].length+":",Xe($e)}re+="}"}else Xe(ee);return new Function("str",re)}var Yd=Wr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Xd=Wr("class enum extends super const export import"),Ql=Wr("implements interface let package private protected public static yield"),qs=Wr("eval arguments"),Jd=Wr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),$d=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Kl="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",ep="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Yl=new RegExp("["+Kl+"]"),tp=new RegExp("["+Kl+ep+"]"),js=/[\n\r\u2028\u2029]/,cr=/\r\n|[\n\r\u2028\u2029]/g,Ws=I.isIdentifierStart=function(ee){return ee<65?ee===36:ee<91?!0:ee<97?ee===95:ee<123?!0:ee>=170&&Yl.test(String.fromCharCode(ee))},Xl=I.isIdentifierChar=function(ee){return ee<48?ee===36:ee<58?!0:ee<65?!1:ee<91?!0:ee<97?ee===95:ee<123?!0:ee>=170&&tp.test(String.fromCharCode(ee))};function Wi(){this.line=W,this.column=N-G}function Jl(){W=1,N=G=0,q=!0,dr()}function Xt(ee,re){O=N,P.locations&&(U=new Wi),F=ee,dr(),H=re,q=ee.beforeExpr}function np(){var ee=P.onComment&&P.locations&&new Wi,re=N,_e=C.indexOf("*/",N+=2);if(_e===-1&&oe(N-2,"Unterminated comment"),N=_e+2,P.locations){cr.lastIndex=re;for(var Pe;(Pe=cr.exec(C))&&Pe.index<N;)++W,G=Pe.index+Pe[0].length}P.onComment&&P.onComment(!0,C.slice(re+2,_e),re,N,ee,P.locations&&new Wi)}function gu(){for(var ee=N,re=P.onComment&&P.locations&&new Wi,_e=C.charCodeAt(N+=2);N<x&&_e!==10&&_e!==13&&_e!==8232&&_e!==8233;)++N,_e=C.charCodeAt(N);P.onComment&&P.onComment(!1,C.slice(ee+2,N),ee,N,re,P.locations&&new Wi)}function dr(){for(;N<x;){var ee=C.charCodeAt(N);if(ee===32)++N;else if(ee===13){++N;var re=C.charCodeAt(N);re===10&&++N,P.locations&&(++W,G=N)}else if(ee===10||ee===8232||ee===8233)++N,P.locations&&(++W,G=N);else if(ee>8&&ee<14)++N;else if(ee===47){var re=C.charCodeAt(N+1);if(re===42)np();else if(re===47)gu();else break}else if(ee===160)++N;else if(ee>=5760&&$d.test(String.fromCharCode(ee)))++N;else break}}function ip(){var ee=C.charCodeAt(N+1);return ee>=48&&ee<=57?eh(!0):(++N,Xt(Gn))}function rp(){var ee=C.charCodeAt(N+1);return q?(++N,$l()):ee===61?Jt(ji,2):Jt(Zn,1)}function sp(){var ee=C.charCodeAt(N+1);return ee===61?Jt(ji,2):Jt(Kd,1)}function ap(ee){var re=C.charCodeAt(N+1);return re===ee?Jt(ee===124?Wl:Gl,2):re===61?Jt(ji,2):Jt(ee===124?Hd:jd,1)}function up(){var ee=C.charCodeAt(N+1);return ee===61?Jt(ji,2):Jt(qd,1)}function op(ee){var re=C.charCodeAt(N+1);return re===ee?re==45&&C.charCodeAt(N+2)==62&&js.test(C.slice(se,N))?(N+=3,gu(),dr(),Gi()):Jt(Ud,2):re===61?Jt(ji,2):Jt(Qd,1)}function lp(ee){var re=C.charCodeAt(N+1),_e=1;return re===ee?(_e=ee===62&&C.charCodeAt(N+2)===62?3:2,C.charCodeAt(N+_e)===61?Jt(ji,_e+1):Jt(Zd,_e)):re==33&&ee==60&&C.charCodeAt(N+2)==45&&C.charCodeAt(N+3)==45?(N+=4,gu(),dr(),Gi()):(re===61&&(_e=C.charCodeAt(N+2)===61?3:2),Jt(Gd,_e))}function hp(ee){var re=C.charCodeAt(N+1);return re===61?Jt(Wd,C.charCodeAt(N+2)===61?3:2):Jt(ee===61?Qn:jl,1)}function fp(ee){switch(ee){case 46:return ip();case 40:return++N,Xt(qe);case 41:return++N,Xt(Ye);case 59:return++N,Xt(Yt);case 44:return++N,Xt(Pt);case 91:return++N,Xt(ce);case 93:return++N,Xt(pe);case 123:return++N,Xt(Ee);case 125:return++N,Xt(ze);case 58:return++N,Xt(An);case 63:return++N,Xt(gi);case 48:var re=C.charCodeAt(N+1);if(re===120||re===88)return cp();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return eh(!1);case 34:case 39:return dp(ee);case 47:return rp();case 37:case 42:return sp();case 124:case 38:return ap(ee);case 94:return up();case 43:case 45:return op(ee);case 60:case 62:return lp(ee);case 61:case 33:return hp(ee);case 126:return Jt(jl,1)}return!1}function Gi(ee){if(ee?N=M+1:M=N,P.locations&&(D=new Wi),ee)return $l();if(N>=x)return Xt(Me);var re=C.charCodeAt(N);if(Ws(re)||re===92)return nh();var _e=fp(re);if(_e===!1){var Pe=String.fromCharCode(re);if(Pe==="\\"||Yl.test(Pe))return nh();oe(N,"Unexpected character '"+Pe+"'")}return _e}function Jt(ee,re){var _e=C.slice(N,N+re);N+=re,Xt(ee,_e)}function $l(){for(var Ke="",ee,re,_e=N;;){N>=x&&oe(_e,"Unterminated regular expression");var Pe=C.charAt(N);if(js.test(Pe)&&oe(_e,"Unterminated regular expression"),ee)ee=!1;else{if(Pe==="[")re=!0;else if(Pe==="]"&&re)re=!1;else if(Pe==="/"&&!re)break;ee=Pe==="\\"}++N}var Ke=C.slice(_e,N);++N;var Xe=th();Xe&&!/^[gmsiy]*$/.test(Xe)&&oe(_e,"Invalid regexp flag");try{var $e=new RegExp(Ke,Xe)}catch(yt){yt instanceof SyntaxError&&oe(_e,yt.message),oe(yt)}return Xt(Ie,$e)}function Gr(ee,re){for(var _e=N,Pe=0,Ke=0,Xe=re==null?1/0:re;Ke<Xe;++Ke){var $e=C.charCodeAt(N),yt;if($e>=97?yt=$e-97+10:$e>=65?yt=$e-65+10:$e>=48&&$e<=57?yt=$e-48:yt=1/0,yt>=ee)break;++N,Pe=Pe*ee+yt}return N===_e||re!=null&&N-_e!==re?null:Pe}function cp(){N+=2;var ee=Gr(16);return ee==null&&oe(M+2,"Expected hexadecimal number"),Ws(C.charCodeAt(N))&&oe(N,"Identifier directly after number"),Xt(Se,ee)}function eh(ee){var re=N,_e=!1,Pe=C.charCodeAt(N)===48;!ee&&Gr(10)===null&&oe(re,"Invalid number"),C.charCodeAt(N)===46&&(++N,Gr(10),_e=!0);var Ke=C.charCodeAt(N);(Ke===69||Ke===101)&&(Ke=C.charCodeAt(++N),(Ke===43||Ke===45)&&++N,Gr(10)===null&&oe(re,"Invalid number"),_e=!0),Ws(C.charCodeAt(N))&&oe(N,"Identifier directly after number");var Xe=C.slice(re,N),$e;return _e?$e=parseFloat(Xe):!Pe||Xe.length===1?$e=parseInt(Xe,10):/[89]/.test(Xe)||ue?oe(re,"Invalid number"):$e=parseInt(Xe,8),Xt(Se,$e)}function dp(ee){N++;for(var re="";;){N>=x&&oe(M,"Unterminated string constant");var _e=C.charCodeAt(N);if(_e===ee)return++N,Xt(Le,re);if(_e===92){_e=C.charCodeAt(++N);var Pe=/^[0-7]+/.exec(C.slice(N,N+3));for(Pe&&(Pe=Pe[0]);Pe&&parseInt(Pe,8)>255;)Pe=Pe.slice(0,-1);if(Pe==="0"&&(Pe=null),++N,Pe)ue&&oe(N-2,"Octal literal in strict mode"),re+=String.fromCharCode(parseInt(Pe,8)),N+=Pe.length-1;else switch(_e){case 110:re+=`
`;break;case 114:re+="\r";break;case 120:re+=String.fromCharCode(Gs(2));break;case 117:re+=String.fromCharCode(Gs(4));break;case 85:re+=String.fromCharCode(Gs(8));break;case 116:re+="	";break;case 98:re+="\b";break;case 118:re+="\v";break;case 102:re+="\f";break;case 48:re+="\0";break;case 13:C.charCodeAt(N)===10&&++N;case 10:P.locations&&(G=N,++W);break;default:re+=String.fromCharCode(_e);break}}else(_e===13||_e===10||_e===8232||_e===8233)&&oe(M,"Unterminated string constant"),re+=String.fromCharCode(_e),++N}}function Gs(ee){var re=Gr(16,ee);return re===null&&oe(M,"Bad character escape sequence"),re}var pr;function th(){pr=!1;for(var ee,re=!0,_e=N;;){var Pe=C.charCodeAt(N);if(Xl(Pe))pr&&(ee+=C.charAt(N)),++N;else if(Pe===92){pr||(ee=C.slice(_e,N)),pr=!0,C.charCodeAt(++N)!=117&&oe(N,"Expecting Unicode escape sequence \\uXXXX"),++N;var Ke=Gs(4),Xe=String.fromCharCode(Ke);Xe||oe(N-1,"Invalid Unicode escape"),(re?Ws(Ke):Xl(Ke))||oe(N-4,"Invalid Unicode escape"),ee+=Xe}else break;re=!1}return pr?ee:C.slice(_e,N)}function nh(){var ee=th(),re=ge;return!pr&&Jd(ee)&&(re=Y[ee]),Xt(re,ee)}function gt(){J=M,se=O,he=U,Gi()}function _u(ee){if(ue=ee,N=M,P.locations)for(;N<G;)G=C.lastIndexOf(`
`,G-2)+1,--W;dr(),Gi()}function ih(){this.type=null,this.start=M,this.end=null}function rh(){this.start=D,this.end=null,w!==null&&(this.source=w)}function nn(){var ee=new ih;return P.locations&&(ee.loc=new rh),P.directSourceFile&&(ee.sourceFile=P.directSourceFile),P.ranges&&(ee.range=[M,0]),ee}function _i(ee){var re=new ih;return re.start=ee.start,P.locations&&(re.loc=new rh,re.loc.start=ee.loc.start),P.ranges&&(re.range=[ee.range[0],0]),re}function rt(ee,re){return ee.type=re,ee.end=se,P.locations&&(ee.loc.end=he),P.ranges&&(ee.range[1]=se),ee}function vu(ee){return P.ecmaVersion>=5&&ee.type==="ExpressionStatement"&&ee.expression.type==="Literal"&&ee.expression.value==="use strict"}function Lt(ee){if(F===ee)return gt(),!0}function Zs(){return!P.strictSemicolons&&(F===Me||F===ze||js.test(C.slice(se,M)))}function Zi(){!Lt(Yt)&&!Zs()&&ni()}function jt(ee){F===ee?gt():ni()}function ni(){oe(M,"Unexpected token")}function Qs(ee){ee.type!=="Identifier"&&ee.type!=="MemberExpression"&&oe(ee.start,"Assigning to rvalue"),ue&&ee.type==="Identifier"&&qs(ee.name)&&oe(ee.start,"Assigning to "+ee.name+" in strict mode")}function pp(ee){J=se=N,P.locations&&(he=new Wi),ve=ue=null,ye=[],Gi();var re=ee||nn(),_e=!0;for(ee||(re.body=[]);F!==Me;){var Pe=Fn();re.body.push(Pe),_e&&vu(Pe)&&_u(!0),_e=!1}return rt(re,"Program")}var mu={kind:"loop"},gp={kind:"switch"};function Fn(){(F===Zn||F===ji&&H=="/=")&&Gi(!0);var ee=F,re=nn();switch(ee){case Re:case ht:gt();var _e=ee===Re;Lt(Yt)||Zs()?re.label=null:F!==ge?ni():(re.label=vi(),Zi());for(var Pe=0;Pe<ye.length;++Pe){var Ke=ye[Pe];if((re.label==null||Ke.name===re.label.name)&&(Ke.kind!=null&&(_e||Ke.kind==="loop")||re.label&&_e))break}return Pe===ye.length&&oe(re.start,"Unsyntactic "+ee.keyword),rt(re,_e?"BreakStatement":"ContinueStatement");case lt:return gt(),Zi(),rt(re,"DebuggerStatement");case Ge:return gt(),ye.push(mu),re.body=Fn(),ye.pop(),jt(un),re.test=Zr(),Zi(),rt(re,"DoWhileStatement");case mt:if(gt(),ye.push(mu),jt(qe),F===Yt)return yu(re,null);if(F===Gt){var Xe=nn();return gt(),ah(Xe,!0),rt(Xe,"VariableDeclaration"),Xe.declarations.length===1&&Lt(j)?sh(re,Xe):yu(re,Xe)}var Xe=on(!1,!0);return Lt(j)?(Qs(Xe),sh(re,Xe)):yu(re,Xe);case Vt:return gt(),bu(re,!0);case qt:return gt(),re.test=Zr(),re.consequent=Fn(),re.alternate=Lt(dt)?Fn():null,rt(re,"IfStatement");case At:return!ve&&!P.allowReturnOutsideFunction&&oe(M,"'return' outside of function"),gt(),Lt(Yt)||Zs()?re.argument=null:(re.argument=on(),Zi()),rt(re,"ReturnStatement");case He:gt(),re.discriminant=Zr(),re.cases=[],jt(Ee),ye.push(gp);for(var $e,yt;F!=ze;)if(F===Ve||F===Qe){var Bn=F===Ve;$e&&rt($e,"SwitchCase"),re.cases.push($e=nn()),$e.consequent=[],gt(),Bn?$e.test=on():(yt&&oe(J,"Multiple default clauses"),yt=!0,$e.test=null),jt(An)}else $e||ni(),$e.consequent.push(Fn());return $e&&rt($e,"SwitchCase"),gt(),ye.pop(),rt(re,"SwitchStatement");case bt:return gt(),js.test(C.slice(se,M))&&oe(se,"Illegal newline after throw"),re.argument=on(),Zi(),rt(re,"ThrowStatement");case Ut:if(gt(),re.block=Qr(),re.handler=null,F===ot){var Qi=nn();gt(),jt(qe),Qi.param=vi(),ue&&qs(Qi.param.name)&&oe(Qi.param.start,"Binding "+Qi.param.name+" in strict mode"),jt(Ye),Qi.guard=null,Qi.body=Qr(),re.handler=rt(Qi,"CatchClause")}return re.guardedHandlers=we,re.finalizer=Lt(ft)?Qr():null,!re.handler&&!re.finalizer&&oe(re.start,"Missing catch or finally clause"),rt(re,"TryStatement");case Gt:return gt(),ah(re),Zi(),rt(re,"VariableDeclaration");case un:return gt(),re.test=Zr(),ye.push(mu),re.body=Fn(),ye.pop(),rt(re,"WhileStatement");case fr:return ue&&oe(M,"'with' in strict mode"),gt(),re.object=Zr(),re.body=Fn(),rt(re,"WithStatement");case Ee:return Qr();case Yt:return gt(),rt(re,"EmptyStatement");default:var Pu=H,Ks=on();if(ee===ge&&Ks.type==="Identifier"&&Lt(An)){for(var Pe=0;Pe<ye.length;++Pe)ye[Pe].name===Pu&&oe(Ks.start,"Label '"+Pu+"' is already declared");var xp=F.isLoop?"loop":F===He?"switch":null;return ye.push({name:Pu,kind:xp}),re.body=Fn(),ye.pop(),re.label=Ks,rt(re,"LabeledStatement")}else return re.expression=Ks,Zi(),rt(re,"ExpressionStatement")}}function Zr(){jt(qe);var ee=on();return jt(Ye),ee}function Qr(ee){var re=nn(),_e=!0,Pe=!1,Ke;for(re.body=[],jt(Ee);!Lt(ze);){var Xe=Fn();re.body.push(Xe),_e&&ee&&vu(Xe)&&(Ke=Pe,_u(Pe=!0)),_e=!1}return Pe&&!Ke&&_u(!1),rt(re,"BlockStatement")}function yu(ee,re){return ee.init=re,jt(Yt),ee.test=F===Yt?null:on(),jt(Yt),ee.update=F===Ye?null:on(),jt(Ye),ee.body=Fn(),ye.pop(),rt(ee,"ForStatement")}function sh(ee,re){return ee.left=re,ee.right=on(),jt(Ye),ee.body=Fn(),ye.pop(),rt(ee,"ForInStatement")}function ah(ee,re){for(ee.declarations=[],ee.kind="var";;){var _e=nn();if(_e.id=vi(),ue&&qs(_e.id.name)&&oe(_e.id.start,"Binding "+_e.id.name+" in strict mode"),_e.init=Lt(Qn)?on(!0,re):null,ee.declarations.push(rt(_e,"VariableDeclarator")),!Lt(Pt))break}return ee}function on(ee,re){var _e=wu(re);if(!ee&&F===Pt){var Pe=_i(_e);for(Pe.expressions=[_e];Lt(Pt);)Pe.expressions.push(wu(re));return rt(Pe,"SequenceExpression")}return _e}function wu(ee){var re=_p(ee);if(F.isAssign){var _e=_i(re);return _e.operator=H,_e.left=re,gt(),_e.right=wu(ee),Qs(re),rt(_e,"AssignmentExpression")}return re}function _p(ee){var re=vp(ee);if(Lt(gi)){var _e=_i(re);return _e.test=re,_e.consequent=on(!0),jt(An),_e.alternate=on(!0,ee),rt(_e,"ConditionalExpression")}return re}function vp(ee){return xu(Su(),-1,ee)}function xu(ee,re,_e){var Pe=F.binop;if(Pe!=null&&(!_e||F!==j)&&Pe>re){var Ke=_i(ee);Ke.left=ee,Ke.operator=H;var Xe=F;gt(),Ke.right=xu(Su(),Pe,_e);var $e=rt(Ke,Xe===Wl||Xe===Gl?"LogicalExpression":"BinaryExpression");return xu($e,re,_e)}return ee}function Su(){if(F.prefix){var ee=nn(),re=F.isUpdate;return ee.operator=H,ee.prefix=!0,q=!0,gt(),ee.argument=Su(),re?Qs(ee.argument):ue&&ee.operator==="delete"&&ee.argument.type==="Identifier"&&oe(ee.start,"Deleting local variable in strict mode"),rt(ee,re?"UpdateExpression":"UnaryExpression")}for(var _e=mp();F.postfix&&!Zs();){var ee=_i(_e);ee.operator=H,ee.prefix=!1,ee.argument=_e,Qs(_e),gt(),_e=rt(ee,"UpdateExpression")}return _e}function mp(){return Kr(Cu())}function Kr(ee,re){if(Lt(Gn)){var _e=_i(ee);return _e.object=ee,_e.property=vi(!0),_e.computed=!1,Kr(rt(_e,"MemberExpression"),re)}else if(Lt(ce)){var _e=_i(ee);return _e.object=ee,_e.property=on(),_e.computed=!0,jt(pe),Kr(rt(_e,"MemberExpression"),re)}else if(!re&&Lt(qe)){var _e=_i(ee);return _e.callee=ee,_e.arguments=ku(Ye,!1),Kr(rt(_e,"CallExpression"),re)}else return ee}function Cu(){switch(F){case Hs:var Pe=nn();return gt(),rt(Pe,"ThisExpression");case ge:return vi();case Se:case Le:case Ie:var Pe=nn();return Pe.value=H,Pe.raw=C.slice(M,O),gt(),rt(Pe,"Literal");case c:case A:case V:var Pe=nn();return Pe.value=F.atomValue,Pe.raw=F.keyword,gt(),rt(Pe,"Literal");case qe:var ee=D,re=M;gt();var _e=on();return _e.start=re,_e.end=O,P.locations&&(_e.loc.start=ee,_e.loc.end=U),P.ranges&&(_e.range=[re,O]),jt(Ye),_e;case ce:var Pe=nn();return gt(),Pe.elements=ku(pe,!0,!0),rt(Pe,"ArrayExpression");case Ee:return wp();case Vt:var Pe=nn();return gt(),bu(Pe,!1);case Us:return yp();default:ni()}}function yp(){var ee=nn();return gt(),ee.callee=Kr(Cu(),!0),Lt(qe)?ee.arguments=ku(Ye,!1):ee.arguments=we,rt(ee,"NewExpression")}function wp(){var ee=nn(),re=!0,_e=!1;for(ee.properties=[],gt();!Lt(ze);){if(re)re=!1;else if(jt(Pt),P.allowTrailingCommas&&Lt(ze))break;var Pe={key:uh()},Ke=!1,Xe;if(Lt(An)?(Pe.value=on(!0),Xe=Pe.kind="init"):P.ecmaVersion>=5&&Pe.key.type==="Identifier"&&(Pe.key.name==="get"||Pe.key.name==="set")?(Ke=_e=!0,Xe=Pe.kind=Pe.key.name,Pe.key=uh(),F!==qe&&ni(),Pe.value=bu(nn(),!1)):ni(),Pe.key.type==="Identifier"&&(ue||_e))for(var $e=0;$e<ee.properties.length;++$e){var yt=ee.properties[$e];if(yt.key.name===Pe.key.name){var Bn=Xe==yt.kind||Ke&&yt.kind==="init"||Xe==="init"&&(yt.kind==="get"||yt.kind==="set");Bn&&!ue&&Xe==="init"&&yt.kind==="init"&&(Bn=!1),Bn&&oe(Pe.key.start,"Redefinition of property")}}ee.properties.push(Pe)}return rt(ee,"ObjectExpression")}function uh(){return F===Se||F===Le?Cu():vi(!0)}function bu(ee,re){F===ge?ee.id=vi():re?ni():ee.id=null,ee.params=[];var _e=!0;for(jt(qe);!Lt(Ye);)_e?_e=!1:jt(Pt),ee.params.push(vi());var Pe=ve,Ke=ye;if(ve=!0,ye=[],ee.body=Qr(!0),ve=Pe,ye=Ke,ue||ee.body.body.length&&vu(ee.body.body[0]))for(var Xe=ee.id?-1:0;Xe<ee.params.length;++Xe){var $e=Xe<0?ee.id:ee.params[Xe];if((Ql($e.name)||qs($e.name))&&oe($e.start,"Defining '"+$e.name+"' in strict mode"),Xe>=0)for(var yt=0;yt<Xe;++yt)$e.name===ee.params[yt].name&&oe($e.start,"Argument name clash in strict mode")}return rt(ee,re?"FunctionDeclaration":"FunctionExpression")}function ku(ee,re,_e){for(var Pe=[],Ke=!0;!Lt(ee);){if(Ke)Ke=!1;else if(jt(Pt),re&&P.allowTrailingCommas&&Lt(ee))break;_e&&F===Pt?Pe.push(null):Pe.push(on(!0))}return Pe}function vi(ee){var re=nn();return ee&&P.forbidReserved=="everywhere"&&(ee=!1),F===ge?(!ee&&(P.forbidReserved&&(P.ecmaVersion===3?Yd:Xd)(H)||ue&&Ql(H))&&C.slice(M,O).indexOf("\\")==-1&&oe(M,"The keyword '"+H+"' is reserved"),re.name=H):ee&&F.keyword?re.name=F.keyword:ni(),q=!1,gt(),rt(re,"Identifier")}}),t.version||(t=null)}function u(I,P){return(e.acorn||t).parse(I,P)}var l={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},f=g.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(I){this["__"+I]="#"+I},{__self:function(){return this}});z.inject(f),te.inject(f),We.inject(f);function d(I,P,C){var x=l[P];if(I&&I[x]){var w=I[x](C);return P==="!="?!w:w}switch(P){case"+":return I+C;case"-":return I-C;case"*":return I*C;case"/":return I/C;case"%":return I%C;case"==":return I==C;case"!=":return I!=C}}function _(I,P){var C=h[I];if(P&&P[C])return P[C]();switch(I){case"+":return+P;case"-":return-P}}function y(I,P){if(!I)return"";P=P||{};var C=[];function x(ue){for(var oe=0,we=C.length;oe<we;oe++){var Se=C[oe];if(Se[0]>=ue)break;ue+=Se[1]}return ue}function w(ue){return I.substring(x(ue.range[0]),x(ue.range[1]))}function k(ue,oe){return I.substring(x(ue.range[1]),x(oe.range[0]))}function T(ue,oe){for(var we=x(ue.range[0]),Se=x(ue.range[1]),Ie=0,Le=C.length-1;Le>=0;Le--)if(we>C[Le][0]){Ie=Le+1;break}C.splice(Ie,0,[we,oe.length-Se+we]),I=I.substring(0,we)+oe+I.substring(Se)}function L(ue,oe){switch(ue.type){case"UnaryExpression":if(ue.operator in h&&ue.argument.type!=="Literal"){var we=w(ue.argument);T(ue,'$__("'+ue.operator+'", '+we+")")}break;case"BinaryExpression":if(ue.operator in l&&ue.left.type!=="Literal"){var Se=w(ue.left),Ie=w(ue.right),Le=k(ue.left,ue.right),ge=ue.operator;T(ue,"__$__("+Se+","+Le.replace(new RegExp("\\"+ge),'"'+ge+'"')+", "+Ie+")")}break;case"UpdateExpression":case"AssignmentExpression":var Me=oe&&oe.type;if(!(Me==="ForStatement"||Me==="BinaryExpression"&&/^[=!<>]/.test(oe.operator)||Me==="MemberExpression"&&oe.computed)){if(ue.type==="UpdateExpression"){var we=w(ue.argument),Re="__$__("+we+', "'+ue.operator[0]+'", 1)',Ve=we+" = "+Re;ue.prefix?Ve="("+Ve+")":(Me==="AssignmentExpression"||Me==="VariableDeclarator"||Me==="BinaryExpression")&&(w(oe.left||oe.id)===we&&(Ve=Re),Ve=we+"; "+Ve),T(ue,Ve)}else if(/^.=$/.test(ue.operator)&&ue.left.type!=="Literal"){var Se=w(ue.left),Ie=w(ue.right),Re=Se+" = __$__("+Se+', "'+ue.operator[0]+'", '+Ie+")";T(ue,/^\(.*\)$/.test(w(ue))?"("+Re+")":Re)}}break}}function N(ue){switch(ue.type){case"ExportDefaultDeclaration":T({range:[ue.start,ue.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var oe=ue.declaration,we=ue.specifiers;if(oe){var Se=oe.declarations;Se&&(Se.forEach(function(Le){T(Le,"module.exports."+w(Le))}),T({range:[ue.start,oe.start+oe.kind.length]},""))}else if(we){var Ie=we.map(function(Le){var ge=w(Le);return"module.exports."+ge+" = "+ge+"; "}).join("");Ie&&T(ue,Ie)}break}}function M(ue,oe,we){if(ue){for(var Se in ue)if(Se!=="range"&&Se!=="loc"){var Ie=ue[Se];if(Array.isArray(Ie))for(var Le=0,ge=Ie.length;Le<ge;Le++)M(Ie[Le],ue,we);else Ie&&typeof Ie=="object"&&M(Ie,ue,we)}we.operatorOverloading!==!1&&L(ue,oe),we.moduleExports!==!1&&N(ue)}}function O(ue){var oe="",we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ue=(Math.abs(ue)<<1)+(ue<0?1:0);ue||!oe;){var Se=ue&31;ue>>=5,ue&&(Se|=32),oe+=we[Se]}return oe}var D=P.url||"",U=P.sourceMaps,F=P.paperFeatures||{},H=P.source||I,q=P.offset||0,W=r.agent,G=W.versionNumber,J=!1,se=/\r\n|\n|\r/mg,he;if(U&&(W.chrome&&G>=30||W.webkit&&G>=537.76||W.firefox&&G>=23||W.node)){if(W.node)q-=2;else if(p&&D&&!p.location.href.indexOf(D)){var ve=b.getElementsByTagName("html")[0].innerHTML;q=ve.substr(0,ve.indexOf(I)+1).match(se).length+1}J=q>0&&!(W.chrome&&G>=36||W.safari&&G>=600||W.firefox&&G>=40||W.node);var ye=["AA"+O(J?0:q)+"A"];ye.length=(I.match(se)||[]).length+1+(J?q:0),he={version:3,file:D,names:[],mappings:ye.join(";AACA"),sourceRoot:"",sources:[D],sourcesContent:[H]}}return(F.operatorOverloading!==!1||F.moduleExports!==!1)&&M(u(I,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,F),he&&(J&&(I=new Array(q+1).join(`
`)+I),/^(inline|both)$/.test(U)&&(I+=`
//# sourceMappingURL=data:application/json;base64,`+s.btoa(unescape(encodeURIComponent(JSON.stringify(he))))),I+=`
//# sourceURL=`+(D||"paperscript")),{url:D,source:H,code:I,map:he}}function m(I,P,C){r=P;var x=P.getView(),w=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(I)&&!/\bnew\s+Tool\b/.test(I)?new qi:null,k=w?w._events:[],T=["onFrame","onResize"].concat(k),L=[],N=[],M,O=typeof I=="object"?I:y(I,C);I=O.code;function D(G,J){for(var se in G)(J||!/^_/.test(se))&&new RegExp("([\\b\\s\\W]|^)"+se.replace(/\$/g,"\\$")+"\\b").test(I)&&(L.push(se),N.push(G[se]))}D({__$__:d,$__:_,paper:P,tool:w},!0),D(P),I="var module = { exports: {} }; "+I;var q=g.each(T,function(G){new RegExp("\\s+"+G+"\\b").test(I)&&(L.push(G),this.push("module.exports."+G+" = "+G+";"))},[]).join(`
`);q&&(I+=`
`+q),I+=`
return module.exports;`;var U=r.agent;if(b&&(U.chrome||U.firefox&&U.versionNumber<40)){var F=b.createElement("script"),H=b.head||b.getElementsByTagName("head")[0];U.firefox&&(I=`
`+I),F.appendChild(b.createTextNode("document.__paperscript__ = function("+L+") {"+I+`
}`)),H.appendChild(F),M=b.__paperscript__,delete b.__paperscript__,H.removeChild(F)}else M=Function(L,I);var q=M&&M.apply(P,N),W=q||{};return g.each(k,function(G){var J=W[G];J&&(w[G]=J)}),x&&(W.onResize&&x.setOnResize(W.onResize),x.emit("resize",{size:x.size,delta:new z}),W.onFrame&&x.setOnFrame(W.onFrame),x.requestUpdate()),q}function v(I){if(/^text\/(?:x-|)paperscript$/.test(I.type)&&Z.getAttribute(I,"ignore")!=="true"){var P=Z.getAttribute(I,"canvas"),C=b.getElementById(P),x=I.src||I.getAttribute("data-src"),w=Z.hasAttribute(I,"async"),k="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+P+'"');var T=Z.get(C.getAttribute(k))||new Z().setup(C);return C.setAttribute(k,T._id),x?kt.request({url:x,async:w,mimeType:"text/plain",onLoad:function(L){m(L,T,x)}}):m(I.innerHTML,T,I.baseURI),I.setAttribute("data-paper-ignore","true"),T}}function S(){g.each(b&&b.getElementsByTagName("script"),v)}function E(I){return I?v(I):S()}return p&&(b.readyState==="complete"?setTimeout(S):tt.add(p,{load:S})),{compile:y,execute:m,load:E,parse:u,calculateBinary:d,calculateUnary:_}}.call(this);var r=new(Z.inject(g.exports,{Base:g,Numerical:ne,Key:di,DomEvent:tt,DomElement:Ze,document:b,window:p,Symbol:je,PlacedSymbol:st}));return r.agent.node&&Pa(r),typeof o=="function"&&o.amd?o("paper",r):n&&(n.exports=r),r}).call(Zo,typeof self=="object"?self:null)})(Ff);const rs=Ff.exports;function vt(){return rs}function I0(n){rs.setup(n);const s=document.getElementById(n),o=new rs.Tool;o.onMouseDown=function(){},o.onMouseDrag=function(p){const b=p.point.subtract(p.downPoint);rs.view.center=rs.view.center.subtract(b)},o.onMouseUp=function(){},s==null||s.addEventListener("mousewheel",function(p){const b=vt();let g=b.view.zoom;const B=b.view.zoom;p.deltaY<0?g=b.view.zoom*1.05:g=b.view.zoom*.95;const Z=B/g,Q=new b.Point(p.offsetX,p.offsetY),le=b.view.viewToProject(Q),ne=b.view.center,fe=le.subtract(ne),z=le.subtract(fe.multiply(Z)).subtract(ne);b.view.zoom=g,b.view.center=b.view.center.add(z),p.preventDefault(),b.view.update()})}var Ia={exports:{}};/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||Pa;var p=s.window,b=s.document,g=new function(){var r=/^(statics|enumerable|beans|preserve)$/,e=[],t=e.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(m,v){for(var S=0,E=this.length;S<E;S++)m.call(v,this[S],S,this)},h=function(m,v){for(var S in this)this.hasOwnProperty(S)&&m.call(v,this[S],S,this)},f=Object.assign||function(m){for(var v=1,S=arguments.length;v<S;v++){var E=arguments[v];for(var I in E)E.hasOwnProperty(I)&&(m[I]=E[I])}return m},d=function(m,v,S){if(m){var E=a(m,"length");(E&&typeof E.value=="number"?l:h).call(m,v,S=S||m)}return S};function _(m,v,S,E,I){var P={};function C(L,N){N=N||(N=a(v,L))&&(N.get?N:N.value),typeof N=="string"&&N[0]==="#"&&(N=m[N.substring(1)]||N);var M=typeof N=="function",O=N,D=I||M&&!N.base?N&&N.get?L in m:m[L]:null,U;(!I||!D)&&(M&&D&&(N.base=D),M&&E!==!1&&(U=L.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(P[U[3].toLowerCase()+U[4]]=U[2]),(!O||M||!O.get||typeof O.get!="function"||!y.isPlainObject(O))&&(O={value:O,writable:!0}),(a(m,L)||{configurable:!0}).configurable&&(O.configurable=!0,O.enumerable=S!=null?S:!U),u(m,L,O))}if(v){for(var x in v)v.hasOwnProperty(x)&&!r.test(x)&&C(x);for(var x in P){var w=P[x],k=m["set"+w],T=m["get"+w]||k&&m["is"+w];T&&(E===!0||T.length===0)&&C(x,{get:T,set:k})}}return m}function y(){for(var m=0,v=arguments.length;m<v;m++){var S=arguments[m];S&&f(this,S)}return this}return _(y,{inject:function(m){if(m){var v=m.statics===!0?m:m.statics,S=m.beans,E=m.preserve;v!==m&&_(this.prototype,m,m.enumerable,S,E),_(this,v,null,S,E)}for(var I=1,P=arguments.length;I<P;I++)this.inject(arguments[I]);return this},extend:function(){for(var m=this,v,S,E=0,I,P=arguments.length;E<P&&!(v&&S);E++)I=arguments[E],v=v||I.initialize,S=S||I.prototype;return v=v||function(){m.apply(this,arguments)},S=v.prototype=S||i(this.prototype),u(S,"constructor",{value:v,writable:!0,configurable:!0}),_(v,this),arguments.length&&this.inject.apply(v,arguments),v.base=m,v}}).inject({enumerable:!1,initialize:y,set:y,inject:function(){for(var m=0,v=arguments.length;m<v;m++){var S=arguments[m];S&&_(this,S,S.enumerable,S.beans,S.preserve)}return this},extend:function(){var m=i(this);return m.inject.apply(m,arguments)},each:function(m,v){return d(this,m,v)},clone:function(){return new this.constructor(this)},statics:{set:f,each:d,create:i,define:u,describe:a,clone:function(m){return f(new m.constructor,m)},isPlainObject:function(m){var v=m!=null&&m.constructor;return v&&(v===Object||v===y||v.name==="Object")},pick:function(m,v){return m!==o?m:v},slice:function(m,v,S){return t.call(m,v,S)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(r,e){if(!/^_/.test(e)){var t=typeof r;this.push(e+": "+(t==="number"?le.instance.number(r):t==="string"?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return g.importJSON(r,this)},exportJSON:function(r){return g.exportJSON(this,r)},toJSON:function(){return g.serialize(this)},set:function(r,e){return r&&g.filter(this,r,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var e=r.base.apply(this,arguments),t=e.prototype._class;return t&&!g.exports[t]&&(g.exports[t]=e),e},equals:function(r,e){if(r===e)return!0;if(r&&r.equals)return r.equals(e);if(e&&e.equals)return e.equals(r);if(r&&e&&typeof r=="object"&&typeof e=="object"){if(Array.isArray(r)&&Array.isArray(e)){var t=r.length;if(t!==e.length)return!1;for(;t--;)if(!g.equals(r[t],e[t]))return!1}else{var i=Object.keys(r),t=i.length;if(t!==Object.keys(e).length)return!1;for(;t--;){var a=i[t];if(!(e.hasOwnProperty(a)&&g.equals(r[a],e[a])))return!1}}return!0}return!1},read:function(r,e,t,i){if(this===g){var a=this.peek(r,e);return r.__index++,a}var u=this.prototype,l=u._readIndex,h=e||l&&r.__index||0,f=r.length,d=r[h];if(i=i||f-h,d instanceof this||t&&t.readNull&&d==null&&i<=1)return l&&(r.__index=h+1),d&&t&&t.clone?d.clone():d;if(d=g.create(u),l&&(d.__read=!0),d=d.initialize.apply(d,h>0||h+i<f?g.slice(r,h,h+i):r)||d,l){r.__index=h+d.__read;var _=d.__filtered;_&&(r.__filtered=_,d.__filtered=o),d.__read=o}return d},peek:function(r,e){return r[r.__index=e||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,e,t,i){for(var a=[],u,l=e||0,h=i?l+i:r.length,f=l;f<h;f++)a.push(Array.isArray(u=r[f])?this.read(u,0,t):this.read(r,f,t,1));return a},readNamed:function(r,e,t,i,a){var u=this.getNamed(r,e),l=u!==o;if(l){var h=r.__filtered;if(!h){var f=this.getSource(r);h=r.__filtered=g.create(f),h.__unfiltered=f}h[e]=o}return this.read(l?[u]:r,t,i,a)},readSupported:function(r,e){var t=this.getSource(r),i=this,a=!1;return t&&Object.keys(t).forEach(function(u){if(u in e){var l=i.readNamed(r,u);l!==o&&(e[u]=l),a=!0}}),a},getSource:function(r){var e=r.__source;if(e===o){var t=r.length===1&&r[0];e=r.__source=t&&g.isPlainObject(t)?t:null}return e},getNamed:function(r,e){var t=this.getSource(r);if(t)return e?t[e]:r.__filtered||t},hasNamed:function(r,e){return!!this.getNamed(r,e)},filter:function(r,e,t,i){var a;function u(_){if(!(t&&_ in t)&&!(a&&_ in a)){var y=e[_];y!==o&&(r[_]=y)}}if(i){for(var l={},h=0,f,d=i.length;h<d;h++)(f=i[h])in e&&(u(f),l[f]=!0);a=l}return Object.keys(e.__unfiltered||e).forEach(u),r},isPlainValue:function(r,e){return g.isPlainObject(r)||Array.isArray(r)||e&&typeof r=="string"},serialize:function(r,e,t,i){e=e||{};var a=!i,u;if(a&&(e.formatter=new le(e.precision),i={length:0,definitions:{},references:{},add:function(y,m){var v="#"+y._id,S=this.references[v];if(!S){this.length++;var E=m.call(y),I=y._class;I&&E[0]!==I&&E.unshift(I),this.definitions[v]=E,S=this.references[v]=[v]}return S}}),r&&r._serialize){u=r._serialize(e,i);var l=r._class;l&&!r._compactSerialize&&(a||!t)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(r)){u=[];for(var h=0,f=r.length;h<f;h++)u[h]=g.serialize(r[h],e,t,i)}else if(g.isPlainObject(r)){u={};for(var d=Object.keys(r),h=0,f=d.length;h<f;h++){var _=d[h];u[_]=g.serialize(r[_],e,t,i)}}else typeof r=="number"?u=e.formatter.number(r,e.precision):u=r;return a&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(r,e,t,i,a){var u=r,l=!t,h=l&&r&&r.length&&r[0][0]==="dictionary";if(t=t||{},Array.isArray(r)){var f=r[0],d=f==="dictionary";if(r.length==1&&/^#/.test(f))return t.dictionary[f];f=g.exports[f],u=[];for(var _=f?1:0,y=r.length;_<y;_++)u.push(g.deserialize(r[_],e,t,d,h));if(f){var m=u;e?u=e(f,m,l||a):u=new f(m)}}else if(g.isPlainObject(r)){u={},i&&(t.dictionary=u);for(var v in r)u[v]=g.deserialize(r[v],e,t)}return h?u[1]:u},exportJSON:function(r,e){var t=g.serialize(r,e);return e&&e.asString==!1?t:JSON.stringify(t)},importJSON:function(r,e){return g.deserialize(typeof r=="string"?JSON.parse(r):r,function(t,i,a){var u=a&&e&&e.constructor===t,l=u?e:g.create(t.prototype);if(i.length===1&&l instanceof R&&(u||!(l instanceof Oe))){var h=i[0];g.isPlainObject(h)&&(h.insert=!1,u&&(i=i.concat([{insert:!0}])))}return(u?l.set:t).apply(l,i),u&&(e=null),l})},push:function(r,e){var t=e.length;if(t<4096)r.push.apply(r,e);else{var i=r.length;r.length+=t;for(var a=0;a<t;a++)r[i+a]=e[a]}return r},splice:function(r,e,t,i){var a=e&&e.length,u=t===o;t=u?r.length:t,t>r.length&&(t=r.length);for(var l=0;l<a;l++)e[l]._index=t+l;if(u)return g.push(r,e),[];var h=[t,i];e&&g.push(h,e);for(var f=r.splice.apply(r,h),l=0,d=f.length;l<d;l++)f[l]._index=o;for(var l=t+a,d=r.length;l<d;l++)r[l]._index=l;return f},capitalize:function(r){return r.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var B={on:function(r,e){if(typeof r!="string")g.each(r,function(u,l){this.on(l,u)},this);else{var t=this._eventTypes,i=t&&t[r],a=this._callbacks=this._callbacks||{};a=a[r]=a[r]||[],a.indexOf(e)===-1&&(a.push(e),i&&i.install&&a.length===1&&i.install.call(this,r))}return this},off:function(r,e){if(typeof r!="string"){g.each(r,function(l,h){this.off(h,l)},this);return}var t=this._eventTypes,i=t&&t[r],a=this._callbacks&&this._callbacks[r],u;return a&&(!e||(u=a.indexOf(e))!==-1&&a.length===1?(i&&i.uninstall&&i.uninstall.call(this,r),delete this._callbacks[r]):u!==-1&&a.splice(u,1)),this},once:function(r,e){return this.on(r,function t(){e.apply(this,arguments),this.off(r,t)})},emit:function(r,e){var t=this._callbacks&&this._callbacks[r];if(!t)return!1;var i=g.slice(arguments,1),a=e&&e.target&&!e.currentTarget;t=t.slice(),a&&(e.currentTarget=this);for(var u=0,l=t.length;u<l;u++)if(t[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return a&&delete e.currentTarget,!0},responds:function(r){return!!(this._callbacks&&this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var e=this._eventTypes,t=this._callbacks,i=r?"install":"uninstall";if(e){for(var a in t)if(t[a].length>0){var u=e[a],l=u&&u[i];l&&l.call(this,a)}}},statics:{inject:function r(e){var t=e._events;if(t){var i={};g.each(t,function(a,u){var l=typeof a=="string",h=l?a:u,f=g.capitalize(h),d=h.substring(2).toLowerCase();i[d]=l?{}:a,h="_"+h,e["get"+f]=function(){return this[h]},e["set"+f]=function(_){var y=this[h];y&&this.off(d,y),_&&this.on(d,_),this[h]=_}}),e._eventTypes=i}return r.base.apply(this,arguments)}}},Z=g.extend({_class:"PaperScope",initialize:function r(){nt=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var e=r.prototype;if(!this.support){var t=kt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:pt.nativeModes},kt.release(t)}if(!this.agent){var i=s.navigator.userAgent.toLowerCase(),a=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=a==="darwin"?"mac":a,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,f,d,_,y){if(!l.chrome){var m=f==="opera"?_:/^(node|trident)$/.test(f)?y:d;l.version=m,l.versionNumber=parseFloat(m),f={trident:"msie",jsdom:"node"}[f]||f,l.name=f,l[f]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.15",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,e){},install:function(r){var e=this;g.each(["project","view","tool"],function(i){g.define(r,i,{configurable:!0,get:function(){return e[i]}})});for(var t in this)!/^_/.test(t)&&this[t]&&(r[t]=this[t])},setup:function(r){return nt=this,this.project=new xe(r),this},createCanvas:function(r,e){return kt.getCanvas(r,e)},activate:function(){nt=this},clear:function(){for(var r=this.projects,e=this.tools,t=r.length-1;t>=0;t--)r[t].remove();for(var t=e.length-1;t>=0;t--)e[t].remove()},remove:function(){this.clear(),delete Z._scopes[this._id]},statics:new function(){function r(e){return e+="Attribute",function(t,i){return t[e](i)||t[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),Q=g.extend(B,{initialize:function(r){this._scope=nt,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),ie={findItemBoundsCollisions:function(r,e,t){function i(l){for(var h=new Array(l.length),f=0;f<l.length;f++){var d=l[f].getBounds();h[f]=[d.left,d.top,d.right,d.bottom]}return h}var a=i(r),u=!e||e===r?a:i(e);return this.findBoundsCollisions(a,u,t||0)},findCurveBoundsCollisions:function(r,e,t,i){function a(m){for(var v=Math.min,S=Math.max,E=new Array(m.length),I=0;I<m.length;I++){var P=m[I];E[I]=[v(P[0],P[2],P[4],P[6]),v(P[1],P[3],P[5],P[7]),S(P[0],P[2],P[4],P[6]),S(P[1],P[3],P[5],P[7])]}return E}var u=a(r),l=!e||e===r?u:a(e);if(i){for(var h=this.findBoundsCollisions(u,l,t||0,!1,!0),f=this.findBoundsCollisions(u,l,t||0,!0,!0),d=[],_=0,y=h.length;_<y;_++)d[_]={hor:h[_],ver:f[_]};return d}return this.findBoundsCollisions(u,l,t||0)},findBoundsCollisions:function(r,e,t,i,a){var u=!e||r===e,l=u?r:r.concat(e),h=r.length,f=l.length;function d(se,he,ve){for(var ye=0,ue=se.length;ye<ue;){var oe=ue+ye>>>1;l[se[oe]][he]<ve?ye=oe+1:ue=oe}return ye-1}for(var _=i?1:0,y=_+2,m=i?0:1,v=m+2,S=new Array(f),E=0;E<f;E++)S[E]=E;S.sort(function(se,he){return l[se][_]-l[he][_]});for(var I=[],P=new Array(h),E=0;E<f;E++){var C=S[E],x=l[C],w=u?C:C-h,k=C<h,T=u||!k,L=k?[]:null;if(I.length){var N=d(I,y,x[_]-t)+1;if(I.splice(0,N),u&&a){L=L.concat(I);for(var M=0;M<I.length;M++){var O=I[M];P[O].push(w)}}else for(var D=x[v],U=x[m],M=0;M<I.length;M++){var O=I[M],F=l[O],H=O<h,q=u||O>=h;(a||(k&&q||T&&H)&&D>=F[m]-t&&U<=F[v]+t)&&(k&&q&&L.push(u?O:O-h),T&&H&&P[O].push(w))}}if(k&&(r===e&&L.push(C),P[C]=L),I.length){var W=x[y],G=d(I,y,W);I.splice(G+1,0,C)}else I.push(C)}for(var E=0;E<P.length;E++){var J=P[E];J&&J.sort(function(he,ve){return he-ve})}return P}},le=g.extend({initialize:function(r){this.precision=g.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,e,t){return this.number(r)+(t||",")+this.number(e)},point:function(r,e){return this.number(r.x)+(e||",")+this.number(r.y)},size:function(r,e){return this.number(r.width)+(e||",")+this.number(r.height)},rectangle:function(r,e){return this.point(r,e)+(e||",")+this.size(r,e)}});le.instance=new le;var ne=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],t=Math.abs,i=Math.sqrt,a=Math.pow,u=Math.log2||function(y){return Math.log(y)*Math.LOG2E},l=1e-12,h=112e-18;function f(y,m,v){return y<m?m:y>v?v:y}function d(y,m,v){function S(N){var M=N*134217729,O=N-M,D=O+M,U=N-D;return[D,U]}var E=m*m-y*v,I=m*m+y*v;if(t(E)*3<I){var P=S(y),C=S(m),x=S(v),w=m*m,k=C[0]*C[0]-w+2*C[0]*C[1]+C[1]*C[1],T=y*v,L=P[0]*x[0]-T+P[0]*x[1]+P[1]*x[0]+P[1]*x[1];E=w-T+(k-L)}return E}function _(){var y=Math.max.apply(Math,arguments);return y&&(y<1e-8||y>1e8)?a(2,-Math.round(u(y))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(y){return y>=-l&&y<=l},isMachineZero:function(y){return y>=-h&&y<=h},clamp:f,integrate:function(y,m,v,S){for(var E=r[S-2],I=e[S-2],P=(v-m)*.5,C=P+m,x=0,w=S+1>>1,k=S&1?I[x++]*y(C):0;x<w;){var T=P*E[x];k+=I[x++]*(y(C+T)+y(C-T))}return P*k},findRoot:function(y,m,v,S,E,I,P){for(var C=0;C<I;C++){var x=y(v),w=x/m(v),k=v-w;if(t(w)<P){v=k;break}x>0?(E=v,v=k<=S?(S+E)*.5:k):(S=v,v=k>=E?(S+E)*.5:k)}return f(v,S,E)},solveQuadratic:function(y,m,v,S,E,I){var P,C=1/0;if(t(y)<l){if(t(m)<l)return t(v)<l?-1:0;P=-v/m}else{m*=-.5;var x=d(y,m,v);if(x&&t(x)<h){var w=_(t(y),t(m),t(v));w&&(y*=w,m*=w,v*=w,x=d(y,m,v))}if(x>=-h){var k=x<0?0:i(x),T=m+(m<0?-k:k);T===0?(P=v/y,C=-P):(P=T/y,C=v/T)}}var L=0,N=E==null,M=E-l,O=I+l;return isFinite(P)&&(N||P>M&&P<O)&&(S[L++]=N?P:f(P,E,I)),C!==P&&isFinite(C)&&(N||C>M&&C<O)&&(S[L++]=N?C:f(C,E,I)),L},solveCubic:function(y,m,v,S,E,I,P){var C=_(t(y),t(m),t(v),t(S)),x,w,k,T,L;C&&(y*=C,m*=C,v*=C,S*=C);function N(G){x=G;var J=y*x;w=J+m,k=w*x+v,T=(J+w)*x+k,L=k*x+S}if(t(y)<l)y=m,w=v,k=S,x=1/0;else if(t(S)<l)w=m,k=v,x=0;else{N(-(m/y)/3);var M=L/y,O=a(t(M),1/3),D=M<0?-1:1,U=-T/y,F=U>0?1.324717957244746*Math.max(O,i(U)):O,H=x-D*F;if(H!==x){do N(H),H=T===0?x:x-L/T/(1+h);while(D*H>D*x);t(y)*x*x>t(S/x)&&(k=-S/x,w=(k-v)/x)}}var q=ne.solveQuadratic(y,w,k,E,I,P),W=I==null;return isFinite(x)&&(q===0||q>0&&x!==E[0]&&x!==E[1])&&(W||x>I-l&&x<P+l)&&(E[q++]=W?x:f(x,I,P)),q}}},fe={_id:1,_pools:{},get:function(r){if(r){var e=this._pools[r];return e||(e=this._pools[r]={_id:1}),e._id++}else return this._id++}},z=g.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.x=r,this.y=e,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new z(this.x,this.y)},toString:function(){var r=le.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*r,Math.sin(e)*r)}else{var t=r/this.getLength();ne.isZero(t)&&this.getAngle(),this._set(this.x*t,this.y*t)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=z.read(arguments),e=this.getLength()*r.getLength();if(ne.isZero(e))return NaN;var t=this.dot(r)/e;return Math.acos(t<-1?-1:t>1?1:t)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var e=this.getLength();this._set(Math.cos(r)*e,Math.sin(r)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=z.read(arguments);return Math.atan2(this.cross(r),this.dot(r))*180/Math.PI},getDistance:function(){var r=arguments,e=z.read(r),t=e.x-this.x,i=e.y-this.y,a=t*t+i*i,u=g.read(r);return u?a:Math.sqrt(a)},normalize:function(r){r===o&&(r=1);var e=this.getLength(),t=e!==0?r/e:0,i=new z(this.x*t,this.y*t);return t>=0&&(i._angle=this._angle),i},rotate:function(r,e){if(r===0)return this.clone();r=r*Math.PI/180;var t=e?this.subtract(e):this,i=Math.sin(r),a=Math.cos(r);return t=new z(t.x*a-t.y*i,t.x*i+t.y*a),e?t.add(e):t},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=z.read(arguments);return new z(this.x+r.x,this.y+r.y)},subtract:function(){var r=z.read(arguments);return new z(this.x-r.x,this.y-r.y)},multiply:function(){var r=z.read(arguments);return new z(this.x*r.x,this.y*r.y)},divide:function(){var r=z.read(arguments);return new z(this.x/r.x,this.y/r.y)},modulo:function(){var r=z.read(arguments);return new z(this.x%r.x,this.y%r.y)},negate:function(){return new z(-this.x,-this.y)},isInside:function(){return K.read(arguments).contains(this)},isClose:function(){var r=arguments,e=z.read(r),t=g.read(r);return this.getDistance(e)<=t},isCollinear:function(){var r=z.read(arguments);return z.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=z.read(arguments);return z.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=ne.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=z.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=z.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=z.read(arguments),e=r.isZero()?0:this.dot(r)/r.dot(r);return new z(r.x*e,r.y*e)},statics:{min:function(){var r=arguments,e=z.read(r),t=z.read(r);return new z(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var r=arguments,e=z.read(r),t=z.read(r);return new z(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new z(Math.random(),Math.random())},isCollinear:function(r,e,t,i){return Math.abs(r*i-e*t)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8},isOrthogonal:function(r,e,t,i){return Math.abs(r*t+e*i)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new z(e(this.x),e(this.y))}},{})),me=z.extend({initialize:function(e,t,i,a){this._x=e,this._y=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._x=r,this._y=e,t||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),te=g.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.width=r,this.height=e,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new te(this.width,this.height)},toString:function(){var r=le.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var r=te.read(arguments);return new te(this.width+r.width,this.height+r.height)},subtract:function(){var r=te.read(arguments);return new te(this.width-r.width,this.height-r.height)},multiply:function(){var r=te.read(arguments);return new te(this.width*r.width,this.height*r.height)},divide:function(){var r=te.read(arguments);return new te(this.width/r.width,this.height/r.height)},modulo:function(){var r=te.read(arguments);return new te(this.width%r.width,this.height%r.height)},negate:function(){return new te(-this.width,-this.height)},isZero:function(){var r=ne.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,e){return new te(Math.min(r.width,e.width),Math.min(r.height,e.height))},max:function(r,e){return new te(Math.max(r.width,e.width),Math.max(r.height,e.height))},random:function(){return new te(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new te(e(this.width),e(this.height))}},{})),Ae=te.extend({initialize:function(e,t,i,a){this._width=e,this._height=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._width=r,this._height=e,t||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),K=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,i,a){var u=arguments,l=typeof e,h;if(l==="number"?(this._set(e,t,i,a),h=4):l==="undefined"||e===null?(this._set(0,0,0,0),h=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),h=1):e.x!==o||e.width!==o?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),h=1):e.from===o&&e.to===o&&(this._set(0,0,0,0),g.readSupported(u,this)&&(h=1))),h===o){var f=z.readNamed(u,"from"),d=g.peek(u),_=f.x,y=f.y,m,v;if(d&&d.x!==o||g.hasNamed(u,"to")){var S=z.readNamed(u,"to");m=S.x-_,v=S.y-y,m<0&&(_=S.x,m=-m),v<0&&(y=S.y,v=-v)}else{var E=te.read(u);m=E.width,v=E.height}this._set(_,y,m,v),h=u.__index}var I=u.__filtered;return I&&(this.__filtered=I),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(r,e,t,i){return this.x=r,this.y=e,this.width=t,this.height=i,this},clone:function(){return new K(this.x,this.y,this.width,this.height)},equals:function(r){var e=g.isPlainValue(r)?K.read(arguments):r;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var r=le.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(r){var e=r?z:me;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var r=z.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){var e=r?te:Ae;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=te.read(arguments),e=this._sx,t=this._sy,i=r.width,a=r.height;e&&(this.x+=(this.width-i)*e),t&&(this.y+=(this.height-a)*t),this.width=i,this.height=a,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var e=r-this.x;this.width-=this._sx===.5?e*2:e}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var e=r-this.y;this.height-=this._sy===.5?e*2:e}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var e=r-this.x;this.width=this._sx===.5?e*2:e}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var e=r-this.y;this.height=this._sy===.5?e*2:e}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||this._sx===.5?this.x=r-this.width/2:(this._sx&&(this.x+=(r-this.x)*2*this._sx),this.width=(r-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||this._sy===.5?this.y=r-this.height/2:(this._sy&&(this.y+=(r-this.y)*2*this._sy),this.height=(r-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(r){var e=r?z:me;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=z.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(r){return r&&r.width!==o||(Array.isArray(r)?r:arguments).length===4?this._containsRectangle(K.read(arguments)):this._containsPoint(z.read(arguments))},_containsPoint:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e<=this.x+this.width&&t<=this.y+this.height},_containsRectangle:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e+r.width<=this.x+this.width&&t+r.height<=this.y+this.height},intersects:function(){var r=K.read(arguments),e=g.read(arguments)||0;return r.x+r.width>this.x-e&&r.y+r.height>this.y-e&&r.x<this.x+this.width+e&&r.y<this.y+this.height+e},intersect:function(){var r=K.read(arguments),e=Math.max(this.x,r.x),t=Math.max(this.y,r.y),i=Math.min(this.x+this.width,r.x+r.width),a=Math.min(this.y+this.height,r.y+r.height);return new K(e,t,i-e,a-t)},unite:function(){var r=K.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x+r.width),a=Math.max(this.y+this.height,r.y+r.height);return new K(e,t,i-e,a-t)},include:function(){var r=z.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x),a=Math.max(this.y+this.height,r.y);return new K(e,t,i-e,a-t)},expand:function(){var r=te.read(arguments),e=r.width,t=r.height;return new K(this.x-e/2,this.y-t/2,this.width+e,this.height+t)},scale:function(r,e){return this.expand(this.width*r-this.width,this.height*(e===o?r:e)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,e){var t=r.join(""),i=/^[RL]/.test(t);e>=4&&(r[1]+=i?"Y":"X");var a=r[i?0:1],u=r[i?1:0],l="get"+a,h="get"+u,f="set"+a,d="set"+u,_="get"+t,y="set"+t;this[_]=function(m){var v=m?z:me;return new v(this[l](),this[h](),this,y)},this[y]=function(){var m=z.read(arguments);this[f](m.x),this[d](m.y)}},{beans:!0})),X=K.extend({initialize:function(e,t,i,a,u,l){this._set(e,t,i,a,!0),this._owner=u,this._setter=l},_set:function(r,e,t,i,a){return this._x=r,this._y=e,this._width=t,this._height=i,a||this._owner[this._setter](this),this}},new function(){var r=K.prototype;return g.each(["x","y","width","height"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var t="set"+e;this[t]=function(){this._dontNotify=!0,r[t].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),$=g.extend({_class:"Matrix",initialize:function r(e,t){var i=arguments,a=i.length,u=!0;if(a>=6?this._set.apply(this,i):a===1||a===2?e instanceof r?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):u=!1:a?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,e,t,i,a,u,l){return this._a=r,this._b=e,this._c=t,this._d=i,this._tx=a,this._ty=u,l||this._changed(),this},_serialize:function(r,e){return g.serialize(this.getValues(),r,!0,e)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new $(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=le.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,e){var t=this._owner;return t?(t.transform(null,g.pick(r,!0),e),this.isIdentity()):!1},translate:function(){var r=z.read(arguments),e=r.x,t=r.y;return this._tx+=e*this._a+t*this._c,this._ty+=e*this._b+t*this._d,this._changed(),this},scale:function(){var r=arguments,e=z.read(r),t=z.read(r,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var e=z.read(arguments,1),t=e.x,i=e.y,a=Math.cos(r),u=Math.sin(r),l=t-t*a+i*u,h=i-t*u-i*a,f=this._a,d=this._b,_=this._c,y=this._d;return this._a=a*f+u*_,this._b=a*d+u*y,this._c=-u*f+a*_,this._d=-u*d+a*y,this._tx+=l*f+h*_,this._ty+=l*d+h*y,this._changed(),this},shear:function(){var r=arguments,e=z.read(r),t=z.read(r,0,{readNull:!0});t&&this.translate(t);var i=this._a,a=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*a,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var r=arguments,e=z.read(r),t=z.read(r,0,{readNull:!0}),i=Math.PI/180,a=new z(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(a,t)},append:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=r._a,h=r._c,f=r._b,d=r._d,_=r._tx,y=r._ty;this._a=l*t+f*a,this._c=h*t+d*a,this._b=l*i+f*u,this._d=h*i+d*u,this._tx+=_*t+y*a,this._ty+=_*i+y*u,e||this._changed()}return this},prepend:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=this._tx,h=this._ty,f=r._a,d=r._c,_=r._b,y=r._d,m=r._tx,v=r._ty;this._a=f*t+d*i,this._c=f*a+d*u,this._b=_*t+y*i,this._d=_*a+y*u,this._tx=f*l+d*h+m,this._ty=_*l+y*h+v,e||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=this._tx,u=this._ty,l=r*i-e*t,h=null;return l&&!isNaN(l)&&isFinite(a)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-t/l,this._d=r/l,this._tx=(t*u-i*a)/l,this._ty=(e*a-r*u)/l,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new $(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,e,t){return arguments.length<3?this._transformPoint(z.read(arguments)):this._transformCoordinates(r,e,t)},_transformPoint:function(r,e,t){var i=r.x,a=r.y;return e||(e=new z),e._set(i*this._a+a*this._c+this._tx,i*this._b+a*this._d+this._ty,t)},_transformCoordinates:function(r,e,t){for(var i=0,a=2*t;i<a;i+=2){var u=r[i],l=r[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(r){var e=r.x,t=r.y,i=e+r.width,a=t+r.height,u=[e,t,i,t,i,a,e,a];return this._transformCoordinates(u,u,4)},_transformBounds:function(r,e,t){for(var i=this._transformCorners(r),a=i.slice(0,2),u=a.slice(),l=2;l<8;l++){var h=i[l],f=l&1;h<a[f]?a[f]=h:h>u[f]&&(u[f]=h)}return e||(e=new K),e._set(a[0],a[1],u[0]-a[0],u[1]-a[1],t)},inverseTransform:function(){return this._inverseTransform(z.read(arguments))},_inverseTransform:function(r,e,t){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,d=i*l-a*u,_=null;if(d&&!isNaN(d)&&isFinite(h)&&isFinite(f)){var y=r.x-this._tx,m=r.y-this._ty;e||(e=new z),_=e._set((y*l-m*u)/d,(m*i-y*a)/d,t)}return _},decompose:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=r*i-e*t,u=Math.sqrt,l=Math.atan2,h=180/Math.PI,f,d,_;if(r!==0||e!==0){var y=u(r*r+e*e);f=Math.acos(r/y)*(e>0?1:-1),d=[y,a/y],_=[l(r*t+e*i,y*y),0]}else if(t!==0||i!==0){var m=u(t*t+i*i);f=Math.asin(t/m)*(i>0?1:-1),d=[a/m,m],_=[0,l(r*t+e*i,m*m)]}else f=0,_=d=[0,0];return{translation:this.getTranslation(),rotation:f*h,scaling:new z(d),skewing:new z(_[0]*h,_[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new z(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(r){var e=g.capitalize(r),t="_"+r;this["get"+e]=function(){return this[t]},this["set"+e]=function(i){this[t]=i,this._changed()}},{})),de=g.extend({_class:"Line",initialize:function(e,t,i,a,u){var l=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=i,this._vy=a,l=u):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new z(this._px,this._py)},getVector:function(){return new z(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,e){return de.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,e)},getSide:function(r,e){return de.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,e)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return de.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return z.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return z.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,e,t,i,a,u,l,h,f,d){f||(t-=r,i-=e,l-=a,h-=u);var _=t*h-i*l;if(!ne.isMachineZero(_)){var y=r-a,m=e-u,v=(l*m-h*y)/_,S=(t*m-i*y)/_,E=1e-12,I=-E,P=1+E;if(d||I<v&&v<P&&I<S&&S<P)return d||(v=v<=0?0:v>=1?1:v),new z(r+v*t,e+v*i)}},getSide:function(r,e,t,i,a,u,l,h){l||(t-=r,i-=e);var f=a-r,d=u-e,_=f*i-d*t;return!h&&ne.isMachineZero(_)&&(_=(f*t+f*t)/(t*t+i*i),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(r,e,t,i,a,u,l){return l||(t-=r,i-=e),t===0?i>0?a-r:r-a:i===0?t<0?u-e:e-u:((a-r)*i-(u-e)*t)/(i>t?i*Math.sqrt(1+t*t/(i*i)):t*Math.sqrt(1+i*i/(t*t)))},getDistance:function(r,e,t,i,a,u,l){return Math.abs(de.getSignedDistance(r,e,t,i,a,u,l))}}}),xe=Q.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){Q.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Sn(null,null,this),this._view=Je.create(this,e||kt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,e){return g.serialize(this._children,r,!0,e)},_changed:function(r,e){if(r&1){var t=this._view;t&&(t._needsUpdate=!0,!t._requested&&t._autoUpdate&&t.requestUpdate())}var i=this._changes;if(i&&e){var a=this._changesById,u=e._id,l=a[u];l?l.flags|=r:i.push(a[u]={item:e,flags:r})}},clear:function(){for(var r=this._children,e=r.length-1;e>=0;e--)r[e].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return r.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Oe({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],e={};return this.getItems({class:st,match:function(t){var i=t._definition,a=i._id;return e[a]||(e[a]=!0,r.push(i)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,e=[];for(var t in r){var i=r[t],a=i._selection;a&1&&i.isInserted()?e.push(i):a||this._updateSelection(i)}return e},_updateSelection:function(r){var e=r._id,t=this._selectionItems;r._selection?t[e]!==r&&(this._selectionCount++,t[e]=r):t[e]===r&&(this._selectionCount--,delete t[e])},selectAll:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)r[e].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var e in r)r[e].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(o,r)},insertLayer:function(r,e){if(e instanceof Oe){e._remove(!1,!0),g.splice(this._children,[e],r,0),e._setProject(this,!0);var t=e._name;t&&e.setName(t),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(r,e,t){return e=this.insertLayer(r,e)||(this._activeLayer||this._insertItem(o,new Oe(R.NO_INSERT),!0)).insertChild(r,e),t&&e.activate&&e.activate(),e},getItems:function(r){return R._getItems(this,r)},getItem:function(r){return R._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var e=this._activeLayer;return g.importJSON(r,e&&e.isEmpty()&&e)},removeOn:function(r){var e=this._removeSets;if(e){r==="mouseup"&&(e.mousedrag=null);var t=e[r];if(t){for(var i in t){var a=t[i];for(var u in e){var l=e[u];l&&l!=t&&delete l[a._id]}a.remove()}e[r]=null}}},draw:function(r,e,t){this._updateVersion++,r.save(),e.applyToContext(r);for(var i=this._children,a=new g({offset:new z(0,0),pixelRatio:t,viewMatrix:e.isIdentity()?null:e,matrices:[new $],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(r,a);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var h=this._selectionItems,f=this._scope.settings.handleSize,d=this._updateVersion;for(var _ in h)h[_]._drawSelection(r,e,f,h,d);r.restore()}}}),R=g.extend(B,{statics:{extend:function r(e){return e._serializeFields&&(e._serializeFields=g.set({},this.prototype._serializeFields,e._serializeFields)),r.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new $,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(r,function(e){this._events[e]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,e){var t=r&&g.isPlainObject(r),i=t&&r.internal===!0,a=this._matrix=new $,u=t&&r.project||nt.project,l=nt.settings;return this._id=i?null:fe.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&a.translate(e),a._owner=this,this._style=new Sn(u._currentStyle,this,u),i||t&&r.insert==!1||!l.insertItems&&!(t&&r.insert===!0)?this._setProject(u):(t&&r.parent||u)._insertItem(o,this,!0),t&&r!==R.NO_INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),t},_serialize:function(r,e){var t={},i=this;function a(u){for(var l in u){var h=i[l];g.equals(h,l==="leading"?u.fontSize*1.2:u[l])||(t[l]=g.serialize(h,r,l!=="data",e))}}return a(this._serializeFields),this instanceof ke||a(this._style._defaults),[this._class,t]},_changed:function(r){var e=this._symbol,t=this._parent||e,i=this._project;r&8&&(this._bounds=this._position=this._decomposed=o),r&16&&(this._globalMatrix=o),t&&r&72&&R._clearBoundsCache(t),r&2&&R._clearBoundsCache(this),i&&i._changed(r,this),e&&e._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(r&&e){var t=e._children,i=e._namedChildren;(i[r]=i[r]||[]).push(this),r in t||(t[r]=this)}this._name=r||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},g.each(["locked","visible","blendMode","opacity","guide"],function(r){var e=g.capitalize(r),t="_"+r,i={locked:256,visible:265};this["get"+e]=function(){return this[t]},this["set"+e]=function(a){a!=this[t]&&(this[t]=a,this._changed(i[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){if(this._selectChildren){for(var r=this._children,e=0,t=r.length;e<t;e++)if(r[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(r){if(this._selectChildren)for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,e=!!(this._selection&1);if(r&&e){for(var t=0,i=r.length;t<i;t++)if(!r[t].isFullySelected())return!1;return!0}return e},setFullySelected:function(r){var e=this._children;if(e)for(var t=0,i=e.length;t<i;t++)e[t].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var e=r?z:me,t=this._position||(this._position=this._getPositionFromBounds());return new e(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(z.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new me(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=z.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,e){this[e]=function(t){return this.getBounds(t,r)}},{beans:!0,getBounds:function(r,e){var t=e||r instanceof $,i=g.set({},t?e:r,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var a=this._getCachedBounds(t&&r,i).rect;return arguments.length?a:new X(a.x,a.y,a.width,a.height,this,"setBounds")},setBounds:function(){var r=K.read(arguments),e=this.getBounds(),t=this._matrix,i=new $,a=r.getCenter();i.translate(a),(r.width!=e.width||r.height!=e.height)&&(t.isInvertible()||(t.set(t._backup||new $().translate(t.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?r.width/e.width:0,e.height!==0?r.height/e.height:0)),a=e.getCenter(),i.translate(-a.x,-a.y),this.transform(i)},_getBounds:function(r,e){var t=this._children;return!t||!t.length?new K:(R._updateBoundsCache(this,e.cacheItem),R._getBounds(t,r,e))},_getBoundsCacheKey:function(r,e){return[r.stroke?1:0,r.handle?1:0,e?1:0].join("")},_getCachedBounds:function(r,e,t){r=r&&r._orNullIfIdentity();var i=e.internal&&!t,a=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=a&&(!r||r.equals(u))&&this._getBoundsCacheKey(e,i),h=this._bounds;if(R._updateBoundsCache(this._parent||this._symbol,a),l&&h&&l in h){var f=h[l];return{rect:f.rect.clone(),nonscaling:f.nonscaling}}var d=this._getBounds(r||u,e),_=d.rect||d,y=this._style,m=d.nonscaling||y.hasStroke()&&!y.getStrokeScaling();if(l){h||(this._bounds=h={});var f=h[l]={rect:_.clone(),nonscaling:m,internal:i}}return{rect:_,nonscaling:m}},_getStrokeMatrix:function(r,e){var t=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=t?t.getViewMatrix().invert():r;return i&&i._shiftless()},statics:{_updateBoundsCache:function(r,e){if(r&&e){var t=e._id,i=r._boundsCache=r._boundsCache||{ids:{},list:[]};i.ids[t]||(i.list.push(e),i.ids[t]=e)}},_clearBoundsCache:function(r){var e=r._boundsCache;if(e){r._bounds=r._position=r._boundsCache=o;for(var t=0,i=e.list,a=i.length;t<a;t++){var u=i[t];u!==r&&(u._bounds=u._position=o,u._boundsCache&&R._clearBoundsCache(u))}}},_getBounds:function(r,e,t){var i=1/0,a=-i,u=i,l=a,h=!1;t=t||{};for(var f=0,d=r.length;f<d;f++){var _=r[f];if(_._visible&&!_.isEmpty(!0)){var y=_._getCachedBounds(e&&e.appended(_._matrix),t,!0),m=y.rect;i=Math.min(m.x,i),u=Math.min(m.y,u),a=Math.max(m.x+m.width,a),l=Math.max(m.y+m.height,l),y.nonscaling&&(h=!0)}}return{rect:isFinite(i)?new K(i,u,a-i,l-u):new K,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var e=this.getRotation();if(e!=null&&r!=null){var t=this._decomposed;this.rotate(r-e),t&&(t.rotation=r,this._decomposed=t)}},getScaling:function(){var r=this._decompose(),e=r&&r.scaling;return new me(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=z.read(arguments,0,{clone:!0,readNull:!0});if(r&&e&&!r.equals(e)){var t=this.getRotation(),i=this._decomposed,a=new $,u=ne.isZero;if(u(r.x)||u(r.y))a.translate(i.translation),t&&a.rotate(t),a.scale(e.x,e.y),this._matrix.set(a);else{var l=this.getPosition(!0);a.translate(l),t&&a.rotate(t),a.scale(e.x/r.x,e.y/r.y),t&&a.rotate(-t),a.translate(l.negate()),this.transform(a)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var e=this._globalMatrix;if(e)for(var t=this._parent,i=[];t;){if(!t._globalMatrix){e=null;for(var a=0,u=i.length;a<u;a++)i[a]._globalMatrix=null;break}i.push(t),t=t._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var t=this._parent;t&&e.prepend(t.getGlobalMatrix(!0))}return r?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,e){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._setProject(r);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(e){r.base.call(this,e);for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._installEvents(e)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof Oe)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return g.equals(this._children,r._children)},clone:function(r){var e=new this.constructor(R.NO_INSERT),t=this._children,i=g.pick(r?r.insert:o,r===o||r===!0),a=g.pick(r?r.deep:o,!0);t&&e.copyAttributes(this),(!t||a)&&e.copyContent(this),t||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var t=l._children,h=u,f=1;t[u];)u=h+" "+f++;u!==h&&e.setName(u)}return e},copyContent:function(r){for(var e=r._children,t=0,i=e&&e.length;t<i;t++)this.addChild(e[t].clone(!1),!0)},copyAttributes:function(r,e){this.setStyle(r._style);for(var t=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=t.length;i<a;i++){var u=t[i];r.hasOwnProperty(u)&&(this[u]=r[u])}e||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var l=r._data,h=r._name;this._data=l?g.clone(l):null,h&&this.setName(h)},rasterize:function(r,e){var t,i,a;g.isPlainObject(r)?(t=r.resolution,i=r.insert,a=r.raster):(t=r,i=e),a?a.matrix.reset(!0):a=new De(R.NO_INSERT);var u=this.getStrokeBounds(),l=(t||this.getView().getResolution())/72,h=u.getTopLeft().floor(),f=u.getBottomRight().ceil(),d=new te(f.subtract(h)),_=d.multiply(l);if(a.setSize(_,!0),!_.isZero()){var y=a.getContext(!0),m=new $().scale(l).translate(h.negate());y.save(),m.applyToContext(y),this.draw(y,new g({matrices:[m]})),y.restore()}return a.transform(new $().translate(h.add(d.divide(2))).scale(1/l)),(i===o||i)&&a.insertAbove(this),a},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(z.read(arguments)))},_contains:function(r){var e=this._children;if(e){for(var t=e.length-1;t>=0;t--)if(e[t].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return K.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Ce.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,e){return r instanceof R?this._asPathItem().getIntersections(r._asPathItem(),null,e,!0).length>0:!1}},new function(){function r(){var i=arguments;return this._hitTest(z.read(i),it.getOptions(i))}function e(){var i=arguments,a=z.read(i),u=it.getOptions(i),l=[];return this._hitTest(a,new g({all:l},u)),l}function t(i,a,u,l){var h=this._children;if(h)for(var f=h.length-1;f>=0;f--){var d=h[f],_=d!==l&&d._hitTest(i,a,u);if(_&&!a.all)return _}return null}return xe.inject({hitTest:r,hitTestAll:e,_hitTest:t}),{hitTest:r,hitTestAll:e,_hitTestChildren:t}},{_hitTest:function(r,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,a=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new te(Ce._getStrokePadding(u,i._shiftless().invert()));if(r=i._inverseTransform(r),!r||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(r))return null;var h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==g.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,d=this,_,y;function m(x){return x&&f&&!f(x)&&(x=null),x&&e.all&&e.all.push(x),x}function v(x,w){var k=w?_["get"+w]():d.getPosition();if(r.subtract(k).divide(l).length<=1)return new it(x,d,{name:w?g.hyphenate(w):x,point:k})}var S=e.position,E=e.center,I=e.bounds;if(h&&this._parent&&(S||E||I)){if((E||I)&&(_=this.getInternalBounds()),y=S&&v("position")||E&&v("center","Center"),!y&&I)for(var P=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!y;C++)y=v("bounds",P[C]);y=m(y)}return y||(y=this._hitTestChildren(r,e,a)||h&&m(this._hitTestSelf(r,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),y&&y.point&&(y.point=i.transform(y.point)),y},_hitTestSelf:function(r,e){if(e.fill&&this.hasFill()&&this._contains(r))return new it("fill",this)},matches:function(r,e){function t(l,h){for(var f in l)if(l.hasOwnProperty(f)){var d=l[f],_=h[f];if(g.isPlainObject(d)&&g.isPlainObject(_)){if(!t(d,_))return!1}else if(!g.equals(d,_))return!1}return!0}var i=typeof r;if(i==="object"){for(var a in r)if(r.hasOwnProperty(a)&&!this.matches(a,r[a]))return!1;return!0}else{if(i==="function")return r(this);if(r==="match")return e(this);var u=/^(empty|editable)$/.test(r)?this["is"+g.capitalize(r)]():r==="type"?g.hyphenate(this._class):this[r];if(r==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(g.isPlainObject(e))return t(e,u)}return g.equals(u,e)}},getItems:function(r){return R._getItems(this,r,this._matrix)},getItem:function(r){return R._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(e,t,i,a,u){if(!a){var l=typeof t=="object"&&t,h=l&&l.overlapping,f=l&&l.inside,d=h||f,m=d&&K.read([d]);a={items:[],recursive:l&&l.recursive!==!1,inside:!!f,overlapping:!!h,rect:m,path:h&&new Ce.Rectangle({rectangle:m,insert:!1})},l&&(t=g.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var _=e._children,y=a.items,m=a.rect;i=m&&(i||new $);for(var v=0,S=_&&_.length;v<S;v++){var E=_[v],I=i&&i.appended(E._matrix),P=!0;if(m){var d=E.getBounds(I);if(!m.intersects(d))continue;m.contains(d)||a.overlapping&&(d.contains(m)||a.path.intersects(E,I))||(P=!1)}if(P&&E.matches(t)&&(y.push(E),u)||(a.recursive!==!1&&r(E,t,I,a,u),u&&y.length>0))break}return y}}},{importJSON:function(r){var e=g.importJSON(r,this);return e!==this?this.addChild(e):e},addChild:function(r){return this.insertChild(o,r)},insertChild:function(r,e){var t=e?this.insertChildren(r,[e]):null;return t&&t[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,e){var t=this._children;if(t&&e&&e.length>0){e=g.slice(e);for(var i={},a=e.length-1;a>=0;a--){var u=e[a],l=u&&u._id;!u||i[l]?e.splice(a,1):(u._remove(!1,!0),i[l]=!0)}g.splice(t,e,r,0);for(var h=this._project,f=h._changes,a=0,d=e.length;a<d;a++){var u=e[a],_=u._name;u._parent=this,u._setProject(h,!0),_&&u.setName(_),f&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(r,e){var t=r&&r._getOwner(),i=r!==this&&t?this:null;return i&&(i._remove(!1,!0),t._insertItem(r._index+e,i)),i},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(o,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var e=this._children;if(e&&e.length===1){var t=e[0].reduce(r);return this._parent?(t.insertAbove(this),this.remove()):t.remove(),t}return this},_removeNamed:function(){var r=this._getOwner();if(r){var e=r._children,t=r._namedChildren,i=this._name,a=t[i],u=a?a.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],a.splice(u,1),a.length?e[i]=a[0]:delete t[i])}},_remove:function(r,e){var t=this._getOwner(),i=this._project,a=this._index;return this._style&&this._style._dispose(),t?(this._name&&this._removeNamed(),a!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(t._children,null,a,1)),this._installEvents(!1),r&&i._changes&&this._changed(5),e&&t._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var e=r&&r.insertBelow(this);return e&&this.remove(),e},removeChildren:function(r,e){if(!this._children)return null;r=r||0,e=g.pick(e,this._children.length);for(var t=g.splice(this._children,null,r,e-r),i=t.length-1;i>=0;i--)t[i]._remove(!0,!1);return t.length>0&&this._changed(11),t},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,e=this._children.length;r<e;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var e=this._children,t=e?e.length:0;if(r){for(var i=0;i<t;i++)if(!e[i].isEmpty(r))return!1;return!0}return!t},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function e(l){var h=[];do h.unshift(l);while(l=l._parent);return h}for(var t=e(this),i=e(r),a=0,u=Math.min(t.length,i.length);a<u;a++)if(t[a]!=i[a])return t[a]._index<i[a]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(r){return this._getOrder(r)===-1},isBelow:function(r){return this._getOrder(r)===1},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var e=this;e=e._parent;)if(e===r)return!0;return!1},isAncestor:function(r){return r?r.isDescendant(this):!1},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&r.isDescendant(e))return!0;e=e._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:z).read(t),a=z.read(t,0,{readNull:!0});return this.transform(new $()[r](i,a||this.getPosition(!0)))}},{translate:function(){var r=new $;return this.transform(r.translate.apply(r,arguments))},transform:function(r,e,t){var i=this._matrix,a=r&&!r.isIdentity(),u=t&&this._canApplyMatrix||this._applyMatrix&&(a||!i.isIdentity()||e&&this._children);if(!a&&!u)return this;if(a){!r.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(r,!0);var l=this._style,h=l.getFillColor(!0),f=l.getStrokeColor(!0);h&&h.transform(r),f&&f.transform(r)}if(u&&(u=this._transformContent(i,e,t))){var d=this._pivot;d&&i._transformPoint(d,d,!0),i.reset(!0),t&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,y=this._position;(a||u)&&this._changed(25);var m=a&&_&&r.decompose();if(m&&m.skewing.isZero()&&m.rotation%90===0){for(var v in _){var S=_[v];if(S.nonscaling)delete _[v];else if(u||!S.internal){var E=S.rect;r._transformBounds(E,E)}}this._bounds=_;var I=_[this._getBoundsCacheKey(this._boundsOptions||{})];I&&(this._position=this._getPositionFromBounds(I.rect))}else a&&y&&this._pivot&&(this._position=r._transformPoint(y,y));return this},_transformContent:function(r,e,t){var i=this._children;if(i){for(var a=0,u=i.length;a<u;a++)i[a].transform(r,e,t);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(z.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(z.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(z.read(arguments))},localToParent:function(){return this._matrix._transformPoint(z.read(arguments))},fitBounds:function(r,e){r=K.read(arguments);var t=this.getBounds(),i=t.height/t.width,a=r.height/r.width,u=(e?i>a:i<a)?r.width/t.width:r.height/t.height,l=new K(new z,new te(t.width*u,t.height*u));l.setCenter(r.getCenter()),this.setBounds(l)}}),{_setStyles:function(r,e,t){var i=this._style,a=this._matrix;if(i.hasFill()&&(r.fillStyle=i.getFillColor().toCanvasStyle(r,a)),i.hasStroke()){r.strokeStyle=i.getStrokeColor().toCanvasStyle(r,a),r.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),h=i.getMiterLimit();if(u&&(r.lineJoin=u),l&&(r.lineCap=l),h&&(r.miterLimit=h),nt.support.nativeDash){var f=i.getDashArray(),d=i.getDashOffset();f&&f.length&&("setLineDash"in r?(r.setLineDash(f),r.lineDashOffset=d):(r.mozDash=f,r.mozDashOffset=d))}}if(i.hasShadow()){var _=e.pixelRatio||1,y=t._shiftless().prepend(new $().scale(_,_)),m=y.transform(new z(i.getShadowBlur(),0)),v=y.transform(this.getShadowOffset());r.shadowColor=i.getShadowColor().toCanvasStyle(r),r.shadowBlur=m.getLength(),r.shadowOffsetX=v.x,r.shadowOffsetY=v.y}},draw:function(r,e,t){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,a=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(!!l.isInvertible()){a=a?a.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var h=this._blendMode,f=ne.clamp(this._opacity,0,1),d=h==="normal",_=pt.nativeModes[h],y=d&&f===1||e.dontStart||e.clip||(_||d&&f<1)&&this._canComposite(),m=e.pixelRatio||1,v,S,E;if(!y){var I=this.getStrokeBounds(a);if(!I.width||!I.height){i.pop();return}E=e.offset,S=e.offset=I.getTopLeft().floor(),v=r,r=kt.getContext(I.getSize().ceil().add(1).multiply(m)),m!==1&&r.scale(m,m)}r.save();var P=t?t.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&a,C=!y&&e.clipItem,x=!P||C;if(y?(r.globalAlpha=f,_&&(r.globalCompositeOperation=h)):x&&r.translate(-S.x,-S.y),x&&(y?u:a).applyToContext(r),C&&e.clipItem.draw(r,e.extend({clip:!0})),P){r.setTransform(m,0,0,m,0,0);var w=e.offset;w&&r.translate(-w.x,-w.y)}this._draw(r,e,a,P),r.restore(),i.pop(),e.clip&&!e.dontFinish&&r.clip(this.getFillRule()),y||(pt.process(h,r,v,f,S.subtract(E).multiply(m)),kt.release(r),e.offset=E)}}},_isUpdated:function(r){var e=this._parent;if(e instanceof Be)return e._isUpdated(r);var t=this._updateVersion===r;return!t&&e&&e._visible&&e._isUpdated(r)&&(this._updateVersion=r,t=!0),t},_drawSelection:function(r,e,t,i,a){var u=this._selection,l=u&1,h=u&2||l&&this._selectBounds,f=u&4;if(this._drawSelected||(l=!1),(l||h||f)&&this._isUpdated(a)){var d,_=this.getSelectedColor(!0)||(d=this.getLayer())&&d.getSelectedColor(!0),y=e.appended(this.getGlobalMatrix(!0)),m=t/2;if(r.strokeStyle=r.fillStyle=_?_.toCanvasStyle(r):"#009dec",l&&this._drawSelected(r,y,i),f){var v=this.getPosition(!0),S=this._parent,E=S?S.localToGlobal(v):v,I=E.x,P=E.y;r.beginPath(),r.arc(I,P,m,0,Math.PI*2,!0),r.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],x=m,w=t+1,k=0;k<4;k++){var T=C[k],L=T[0],N=T[1];r.moveTo(I+L*x,P+N*x),r.lineTo(I+L*w,P+N*w),r.stroke()}}if(h){var M=y._transformCorners(this.getInternalBounds());r.beginPath();for(var k=0;k<8;k++)r[k?"lineTo":"moveTo"](M[k],M[++k]);r.closePath(),r.stroke();for(var k=0;k<8;k++)r.fillRect(M[k]-m,M[++k]-m,t,t)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(r){this["removeOn"+g.capitalize(r)]=function(){var e={};return e[r]=!0,this.removeOn(e)}},{removeOn:function(r){for(var e in r)if(r[e]){var t="mouse"+e,i=this._project,a=i._removeSets=i._removeSets||{};a[t]=a[t]||{},a[t][this._id]=this}return this}}),{tween:function(r,e,t){t||(t=e,e=r,r=null,t||(t=e,e=null));var i=t&&t.easing,a=t&&t.start,u=t!=null&&(typeof t=="number"?t:t.duration),l=new qi(this,r,e,u,i,a);function h(f){l._handleFrame(f.time*1e3),l.running||this.off("frame",h)}return u&&this.on("frame",h),l},tweenTo:function(r,e){return this.tween(null,r,e)},tweenFrom:function(r,e){return this.tween(r,null,e)}}),ke=R.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function r(e){r.base.call(this,e),e&2050&&(this._clipItem=o)},_getClipItem:function(){var r=this._clipItem;if(r===o){r=null;for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t]._clipMask){r=e[t];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var e=this.getFirstChild();e&&e.setClipMask(r)},_getBounds:function r(e,t){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),g.set({},t,{stroke:!1})):r.base.call(this,e,t)},_hitTestChildren:function r(e,t,i){var a=this._getClipItem();return(!a||a.contains(e))&&r.base.call(this,e,t,i,a)},_draw:function(r,e){var t=e.clip,i=!t&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),t?(r.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(r,e.extend({clip:!0}));for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u];h!==i&&h.draw(r,e)}}}),Oe=ke.extend({_class:"Layer",initialize:function(){ke.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function r(){return this._parent?r.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Fe=R.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&g.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Ae(r.width,r.height,this,"setSize")},setSize:function(){var r=te.read(arguments);if(!this._size)this._size=r.clone();else if(!this._size.equals(r)){var e=this._type,t=r.width,i=r.height;e==="rectangle"?this._radius.set(te.min(this._radius,r.divide(2).abs())):e==="circle"?(t=i=(t+i)/2,this._radius=t/2):e==="ellipse"&&this._radius._set(t/2,i/2),this._size._set(t,i),this._changed(9)}},getRadius:function(){var r=this._radius;return this._type==="circle"?r:new Ae(r.width,r.height,this,"setRadius")},setRadius:function(r){var e=this._type;if(e==="circle"){if(r===this._radius)return;var t=r*2;this._radius=r,this._size._set(t,t)}else if(r=te.read(arguments),!this._radius)this._radius=r.clone();else{if(this._radius.equals(r))return;if(this._radius.set(r),e==="rectangle"){var t=te.max(this._size,r.multiply(2));this._size.set(t)}else e==="ellipse"&&this._size._set(r.width*2,r.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var e=new Ce[g.capitalize(this._type)]({center:new z,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),nt.settings.applyMatrix&&e.setApplyMatrix(!0),(r===o||r)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,e,t,i){var a=this._style,u=a.hasFill(),l=a.hasStroke(),h=e.dontFinish||e.clip,f=!i;if(u||l||h){var d=this._type,_=this._radius,y=d==="circle";if(e.dontStart||r.beginPath(),f&&y)r.arc(0,0,_,0,Math.PI*2,!0);else{var m=y?_:_.width,v=y?_:_.height,S=this._size,E=S.width,I=S.height;if(f&&d==="rectangle"&&m===0&&v===0)r.rect(-E/2,-I/2,E,I);else{var P=E/2,C=I/2,x=1-.5522847498307936,w=m*x,k=v*x,T=[-P,-C+v,-P,-C+k,-P+w,-C,-P+m,-C,P-m,-C,P-w,-C,P,-C+k,P,-C+v,P,C-v,P,C-k,P-w,C,P-m,C,-P+m,C,-P+w,C,-P,C-k,-P,C-v];i&&i.transform(T,T,32),r.moveTo(T[0],T[1]),r.bezierCurveTo(T[2],T[3],T[4],T[5],T[6],T[7]),P!==m&&r.lineTo(T[8],T[9]),r.bezierCurveTo(T[10],T[11],T[12],T[13],T[14],T[15]),C!==v&&r.lineTo(T[16],T[17]),r.bezierCurveTo(T[18],T[19],T[20],T[21],T[22],T[23]),P!==m&&r.lineTo(T[24],T[25]),r.bezierCurveTo(T[26],T[27],T[28],T[29],T[30],T[31])}}r.closePath()}!h&&(u||l)&&(this._setStyles(r,e,t),u&&(r.fill(a.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),l&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,e){var t=new K(this._size).setCenter(0,0),i=this._style,a=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return r&&(t=r._transformBounds(t)),a?t.expand(Ce._getStrokePadding(a,this._getStrokeMatrix(r,e))):t}},new function(){function r(t,i,a){var u=t._radius;if(!u.isZero())for(var l=t._size.divide(2),h=1;h<=4;h++){var f=new z(h>1&&h<4?-1:1,h>2?-1:1),d=f.multiply(l),_=d.subtract(f.multiply(u)),y=new K(a?d.add(f.multiply(a)):d,_);if(y.contains(i))return{point:_,quadrant:h}}}function e(t,i,a,u){var l=t.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(a).length<=1}return{_contains:function t(i){if(this._type==="rectangle"){var a=r(this,i);return a?i.subtract(a.point).divide(this._radius).getLength()<=1:t.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function t(i,a,u,l){var h=!1,f=this._style,d=a.stroke&&f.hasStroke(),_=a.fill&&f.hasFill();if(d||_){var y=this._type,m=this._radius,v=d?f.getStrokeWidth()/2:0,S=a._tolerancePadding.add(Ce._getStrokePadding(v,!f.getStrokeScaling()&&l));if(y==="rectangle"){var E=S.multiply(2),I=r(this,i,E);if(I)h=e(i.subtract(I.point),m,S,I.quadrant);else{var P=new K(this._size).setCenter(0,0),C=P.expand(E),x=P.expand(E.negate());h=C._containsPoint(i)&&!x._containsPoint(i)}}else h=e(i,m,S)}return h?new it(d?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function r(e,t,i,a,u){var l=g.create(Fe.prototype);return l._type=e,l._size=i,l._radius=a,l._initialize(g.getNamed(u),t),l}return{Circle:function(){var e=arguments,t=z.readNamed(e,"center"),i=g.readNamed(e,"radius");return r("circle",t,new te(i*2),i,e)},Rectangle:function(){var e=arguments,t=K.readNamed(e,"rectangle"),i=te.min(te.readNamed(e,"radius"),t.getSize(!0).divide(2));return r("rectangle",t.getCenter(!0),t.getSize(!0),i,e)},Ellipse:function(){var e=arguments,t=Fe._readEllipse(e),i=t.radius;return r("ellipse",t.center,i.multiply(2),i,e)},_readEllipse:function(e){var t,i;if(g.hasNamed(e,"radius"))t=z.readNamed(e,"center"),i=te.readNamed(e,"radius");else{var a=K.readNamed(e,"rectangle");t=a.getCenter(!0),i=a.getSize(!0).divide(2)}return{center:t,radius:i}}}}}),De=R.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==o&&z.read(arguments))){var i,a=typeof e,u=a==="string"?b.getElementById(e):a==="object"?e:null;if(u&&u!==R.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=te.read(arguments);l.isZero()||(i=kt.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new te,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var e=r._image,t=r._canvas;if(e)this._setImage(e);else if(t){var i=kt.getCanvas(r._size);i.getContext("2d").drawImage(t,0,0),this._setImage(i)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Ae(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,e){var t=te.read(arguments);if(t.equals(this._size))e&&this.clear();else if(t.width>0&&t.height>0){var i=!e&&this.getElement();this._setImage(kt.getCanvas(t)),i&&this.getContext(!0).drawImage(i,0,0,t.width,t.height)}else this._canvas&&kt.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||r.width===0&&r.height===0},getResolution:function(){var r=this._matrix,e=new z(0,0).transform(r),t=new z(1,0).transform(r).subtract(e),i=new z(0,1).transform(r).subtract(e);return new te(72/t.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var e=this;function t(i){var a=e.getView(),u=i&&i.type||"load";a&&e.responds(u)&&(nt=a._scope,e.emit(u,new Tn(i)))}this._setImage(r),this._loaded?setTimeout(t,0):r&&tt.add(r,{load:function(i){e._setImage(r),t(i)},error:t})},_setImage:function(r){this._canvas&&kt.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new te(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=kt.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch(e){kt.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var e=new s.Image,t=this._crossOrigin;t&&(e.crossOrigin=t),r&&(e.src=r),this.setImage(e)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var e=this._image;e&&(e.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing=typeof r=="string"?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=K.read(arguments),e=kt.getContext(r.getSize());return e.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.canvas},getSubRaster:function(){var r=K.read(arguments),e=new De(R.NO_INSERT);return e._setImage(this.getSubCanvas(r)),e.translate(r.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var r=this._image,e=r&&r.src;if(/^data:/.test(e))return e;var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(r){var e=z.read(arguments,1);this.getContext(!0).drawImage(r,e.x,e.y)},getAverageColor:function(r){var e,t;if(r?r instanceof Te?(t=r,e=r.getBounds()):typeof r=="object"&&("width"in r?e=new K(r):"x"in r&&(e=new K(r.x-.5,r.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,a=Math.min(e.width,i),u=Math.min(e.height,i),l=De._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=De._sampleContext=kt.getContext(new te(i)),l.save();var h=new $().scale(a/e.width,u/e.height).translate(-e.x,-e.y);h.applyToContext(l),t&&t.draw(l,new g({clip:!0,matrices:[h]})),this._matrix.applyToContext(l);var f=this.getElement(),d=this._size;f&&l.drawImage(f,-d.width/2,-d.height/2),l.restore();for(var _=l.getImageData(.5,.5,Math.ceil(a),Math.ceil(u)).data,y=[0,0,0],m=0,v=0,S=_.length;v<S;v+=4){var E=_[v+3];m+=E,E/=255,y[0]+=_[v]*E,y[1]+=_[v+1]*E,y[2]+=_[v+2]*E}for(var v=0;v<3;v++)y[v]/=m;return m?We.read(y):null},getPixel:function(){var r=z.read(arguments),e=this.getContext().getImageData(r.x,r.y,1,1).data;return new We("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var r=arguments,e=z.read(r),t=We.read(r),i=t._convert("rgb"),a=t._alpha,u=this.getContext(!0),l=u.createImageData(1,1),h=l.data;h[0]=i[0]*255,h[1]=i[1]*255,h[2]=i[2]*255,h[3]=a!=null?a*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=te.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=K.read(arguments);return r.isEmpty()&&(r=new K(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},setImageData:function(r){var e=z.read(arguments,1);this.getContext(!0).putImageData(r,e.x,e.y)},_getBounds:function(r,e){var t=new K(this._size).setCenter(0,0);return r?r._transformBounds(t):t},_hitTestSelf:function(r){if(this._contains(r)){var e=this;return new it("pixel",e,{offset:r.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(r,e,t){var i=this.getElement();if(i&&i.width>0&&i.height>0){r.globalAlpha=ne.clamp(this._opacity,0,1),this._setStyles(r,e,t);var a=this._smoothing,u=a==="off";Ze.setPrefixed(r,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:a),r.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),st=R.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==o&&z.read(arguments,1))||this.setDefinition(e instanceof je?e:new je(e))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,e){var t=this._definition._item;return t._getCachedBounds(t._matrix.prepended(r),e)},_hitTestSelf:function(r,e,t){var i=e.extend({all:!1}),a=this._definition._item._hitTest(r,i,t);return a&&(a.item=this),a},_draw:function(r,e){this._definition._item.draw(r,e)}}),je=g.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=fe.get(),this.project=nt.project,e&&this.setItem(e,t)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._class,this._item],r,!1,e)})},_changed:function(r){r&8&&R._clearBoundsCache(this),r&1&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,e){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),e||r.setPosition(new z),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new st(this,r)},clone:function(){return new je(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),it=g.extend({_class:"HitResult",initialize:function(e,t,i){this.type=e,this.item=t,i&&this.inject(i)},statics:{getOptions:function(r){var e=r&&g.read(r);return new g({type:null,tolerance:nt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),be=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,i,a,u,l){var h=arguments.length,f,d,_,y;h>0&&(e==null||typeof e=="object"?h===1&&e&&"point"in e?(f=e.point,d=e.handleIn,_=e.handleOut,y=e.selection):(f=e,d=t,_=i,y=a):(f=[e,t],d=i!==o?[i,a]:null,_=u!==o?[u,l]:null)),new wt(f,this,"_point"),new wt(d,this,"_handleIn"),new wt(_,this,"_handleOut"),y&&this.setSelection(y)},_serialize:function(r,e){var t=this._point,i=this._selection,a=i||this.hasHandles()?[t,this._handleIn,this._handleOut]:t;return i&&a.push(i),g.serialize(a,r,!0,e)},_changed:function(r){var e=this._path;if(!!e){var t=e._curves,i=this._index,a;t&&((!r||r===this._point||r===this._handleIn)&&(a=i>0?t[i-1]:e._closed?t[t.length-1]:null)&&a._changed(),(!r||r===this._point||r===this._handleOut)&&(a=t[i])&&a._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(z.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(z.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(z.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,e=this._handleOut;return!r.isZero()&&!e.isZero()&&r.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var e=this._selection,t=this._path;this._selection=r=r||0,t&&r!==e&&(t._updateSelection(this,e,r),t._changed(257))},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){return!!(this._selection&7)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,e=this._index;return r?(e>0&&!r._closed&&e===r._segments.length-1&&e--,r.getCurves()[e]||null):null},getLocation:function(){var r=this.getCurve();return r?new at(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,e,t){var i=r||{},a=i.type,u=i.factor,l=this.getPrevious(),h=this.getNext(),f=(l||this)._point,d=this._point,_=(h||this)._point,y=f.getDistance(d),m=d.getDistance(_);if(!a||a==="catmull-rom"){var v=u===o?.5:u,S=Math.pow(y,v),E=S*S,I=Math.pow(m,v),P=I*I;if(!e&&l){var C=2*P+3*I*S+E,x=3*I*(I+S);this.setHandleIn(x!==0?new z((P*f._x+C*d._x-E*_._x)/x-d._x,(P*f._y+C*d._y-E*_._y)/x-d._y):new z)}if(!t&&h){var C=2*E+3*S*I+P,x=3*S*(S+I);this.setHandleOut(x!==0?new z((E*_._x+C*d._x-P*f._x)/x-d._x,(E*_._y+C*d._y-P*f._y)/x-d._y):new z)}}else if(a==="geometric"){if(l&&h){var w=f.subtract(_),k=u===o?.4:u,T=k*y/(y+m);e||this.setHandleIn(w.multiply(T)),t||this.setHandleOut(w.multiply(T-k))}}else throw new Error("Smoothing method '"+a+"' not supported.")},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,e=this._handleOut,t=r.clone();r.set(e),e.set(t)},reversed:function(){return new be(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new be(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,e,t){var i=1-t,a=t,u=r._point,l=e._point,h=r._handleIn,f=e._handleIn,d=e._handleOut,_=r._handleOut;this._point._set(i*u._x+a*l._x,i*u._y+a*l._y,!0),this._handleIn._set(i*h._x+a*f._x,i*h._y+a*f._y,!0),this._handleOut._set(i*_._x+a*d._x,i*_._y+a*d._y,!0),this._changed()},_transformCoordinates:function(r,e,t){var i=this._point,a=!t||!this._handleIn.isZero()?this._handleIn:null,u=!t||!this._handleOut.isZero()?this._handleOut:null,l=i._x,h=i._y,f=2;return e[0]=l,e[1]=h,a&&(e[f++]=a._x+l,e[f++]=a._y+h),u&&(e[f++]=u._x+l,e[f++]=u._y+h),r&&(r._transformCoordinates(e,e,f/2),l=e[0],h=e[1],t?(i._x=l,i._y=h,f=2,a&&(a._x=e[f++]-l,a._y=e[f++]-h),u&&(u._x=e[f++]-l,u._y=e[f++]-h)):(a||(e[f++]=l,e[f++]=h),u||(e[f++]=l,e[f++]=h))),e}}),wt=z.extend({initialize:function(e,t,i){var a,u,l;if(!e)a=u=0;else if((a=e[0])!==o)u=e[1];else{var h=e;(a=h.x)===o&&(h=z.read(arguments),a=h.x),u=h.y,l=h.selected}this._x=a,this._y=u,this._owner=t,t[i]=this,l&&this.setSelected(!0)},_set:function(r,e){return this._x=r,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=ne.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),ae=g.extend({_class:"Curve",beans:!0,initialize:function(e,t,i,a,u,l,h,f){var d=arguments.length,_,y,m,v,S,E;d===3?(this._path=e,_=t,y=i):d?d===1?"segment1"in e?(_=new be(e.segment1),y=new be(e.segment2)):"point1"in e?(m=e.point1,S=e.handle1,E=e.handle2,v=e.point2):Array.isArray(e)&&(m=[e[0],e[1]],v=[e[6],e[7]],S=[e[2]-e[0],e[3]-e[1]],E=[e[4]-e[6],e[5]-e[7]]):d===2?(_=new be(e),y=new be(t)):d===4?(m=e,S=t,E=i,v=a):d===8&&(m=[e,t],v=[h,f],S=[i-e,a-t],E=[u-h,l-f]):(_=new be,y=new be),this._segment1=_||new be(m,null,S),this._segment2=y||new be(v,E,null)},_serialize:function(r,e){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ae(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return ae.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var e=this._segment2,t=e._handleOut;r=e.remove(),r&&this._segment1._handleOut.set(t)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(z.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(z.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(z.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(z.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return ae.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),e=[],t=0;t<8;t+=2)e.push(new z(r[t],r[t+1]));return e}},{getLength:function(){return this._length==null&&(this._length=ae.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ae.getArea(this.getValues())},getLine:function(){return new de(this._segment1._point,this._segment2._point)},getPart:function(r,e){return new ae(ae.getPart(this.getValues(),r,e))},getPartLength:function(r,e){return ae.getLength(this.getValues(),r,e)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,e){var t=1e-8,i=1-t,a=null;if(r>=t&&r<=i){var u=ae.subdivide(this.getValues(),r),l=u[0],h=u[1],f=e||this.hasHandles(),d=this._segment1,_=this._segment2,y=this._path;f&&(d._handleOut._set(l[2]-l[0],l[3]-l[1]),_._handleIn._set(h[4]-h[6],h[5]-h[7]));var m=l[6],v=l[7],S=new be(new z(m,v),f&&new z(l[4]-m,l[5]-v),f&&new z(h[2]-m,h[3]-v));y?(y.insert(d._index+1,S),a=this.getNext()):(this._segment2=S,this._changed(),a=new ae(S,_))}return a},splitAt:function(r){var e=this._path;return e?e.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,e){return this.divideAtTime(r===o?.5:e?r:this.getTimeAt(r))},split:function(r,e){return this.splitAtTime(r===o?.5:e?r:this.getTimeAt(r))},reversed:function(){return new ae(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,e,t,i){var a=r._point,u=r._handleOut,l=e._handleIn,h=e._point,f=a.x,d=a.y,_=h.x,y=h.y,m=i?[f,d,f,d,_,y,_,y]:[f,d,f+u._x,d+u._y,_+l._x,y+l._y,_,y];return t&&t._transformCoordinates(m,m,4),m},subdivide:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],d=r[7];e===o&&(e=.5);var _=1-e,y=_*t+e*a,m=_*i+e*u,v=_*a+e*l,S=_*u+e*h,E=_*l+e*f,I=_*h+e*d,P=_*y+e*v,C=_*m+e*S,x=_*v+e*E,w=_*S+e*I,k=_*P+e*x,T=_*C+e*w;return[[t,i,y,m,P,C,k,T],[k,T,x,w,E,I,f,d]]},getMonoCurves:function(r,e){var t=[],i=e?0:1,a=r[i+0],u=r[i+2],l=r[i+4],h=r[i+6];if(a>=u==u>=l&&u>=l==l>=h||ae.isStraight(r))t.push(r);else{var f=3*(u-l)-a+h,d=2*(a+l)-4*u,_=u-a,y=1e-8,m=1-y,v=[],S=ne.solveQuadratic(f,d,_,v,y,m);if(!S)t.push(r);else{v.sort();var E=v[0],I=ae.subdivide(r,E);t.push(I[0]),S>1&&(E=(v[1]-E)/(1-E),I=ae.subdivide(I[1],E),t.push(I[0])),t.push(I[1])}}return t},solveCubic:function(r,e,t,i,a,u){var l=r[e],h=r[e+2],f=r[e+4],d=r[e+6],_=0;if(!(l<t&&d<t&&h<t&&f<t||l>t&&d>t&&h>t&&f>t)){var y=3*(h-l),m=3*(f-h)-y,v=d-l-y-m;_=ne.solveCubic(v,m,y,l-t,i,a,u)}return _},getTimeOf:function(r,e){var t=new z(r[0],r[1]),i=new z(r[6],r[7]),a=1e-12,u=1e-7,l=e.isClose(t,a)?0:e.isClose(i,a)?1:null;if(l===null)for(var h=[e.x,e.y],f=[],d=0;d<2;d++)for(var _=ae.solveCubic(r,d,h[d],f,0,1),y=0;y<_;y++){var m=f[y];if(e.isClose(ae.getPoint(r,m),u))return m}return e.isClose(t,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(r,e){if(ae.isStraight(r)){var t=r[0],i=r[1],a=r[6],u=r[7],l=a-t,h=u-i,f=l*l+h*h;if(f===0)return 0;var d=((e.x-t)*l+(e.y-i)*h)/f;return d<1e-12?0:d>.999999999999?1:ae.getTimeOf(r,new z(t+d*l,i+d*h))}var _=100,y=1/0,m=0;function v(I){if(I>=0&&I<=1){var P=e.getDistance(ae.getPoint(r,I),!0);if(P<y)return y=P,m=I,!0}}for(var S=0;S<=_;S++)v(S/_);for(var E=1/(_*2);E>1e-8;)!v(m-E)&&!v(m+E)&&(E/=2);return m},getPart:function(r,e,t){var i=e>t;if(i){var a=e;e=t,t=a}return e>0&&(r=ae.subdivide(r,e)[1]),t<1&&(r=ae.subdivide(r,(t-e)/(1-e))[0]),i?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],d=r[7],_=3*a-2*t-f,y=3*u-2*i-d,m=3*l-2*f-t,v=3*h-2*d-i;return Math.max(_*_,m*m)+Math.max(y*y,v*v)<=16*e*e},getArea:function(r){var e=r[0],t=r[1],i=r[2],a=r[3],u=r[4],l=r[5],h=r[6],f=r[7];return 3*((f-t)*(i+u)-(h-e)*(a+l)+a*(e-u)-i*(t-l)+f*(u+e/3)-h*(l+t/3))/20},getBounds:function(r){for(var e=r.slice(0,2),t=e.slice(),i=[0,0],a=0;a<2;a++)ae._addBounds(r[a],r[a+2],r[a+4],r[a+6],a,0,e,t,i);return new K(e[0],e[1],t[0]-e[0],t[1]-e[1])},_addBounds:function(r,e,t,i,a,u,l,h,f){function d(k,T){var L=k-T,N=k+T;L<l[a]&&(l[a]=L),N>h[a]&&(h[a]=N)}u/=2;var _=l[a]+u,y=h[a]-u;if(r<_||e<_||t<_||i<_||r>y||e>y||t>y||i>y)if(e<r!=e<i&&t<r!=t<i)d(r,0),d(i,0);else{var m=3*(e-t)-r+i,v=2*(r+t)-4*e,S=e-r,E=ne.solveQuadratic(m,v,S,f),I=1e-8,P=1-I;d(i,0);for(var C=0;C<E;C++){var x=f[C],w=1-x;I<=x&&x<=P&&d(w*w*w*r+3*w*w*x*e+3*w*x*x*t+x*x*x*i,u)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var e=this._bounds[r];return e||(e=this._bounds[r]=Ce[r]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),g.each({isStraight:function(r,e,t,i){if(e.isZero()&&t.isZero())return!0;var a=i.subtract(r);if(a.isZero())return!1;if(a.isCollinear(e)&&a.isCollinear(t)){var u=new de(r,i),l=1e-7;if(u.getDistance(r.add(e))<l&&u.getDistance(i.add(t))<l){var h=a.dot(a),f=a.dot(e)/h,d=a.dot(t)/h;return f>=0&&f<=1&&d<=0&&d>=-1}}return!1},isLinear:function(r,e,t,i){var a=i.subtract(r).divide(3);return e.equals(a)&&t.negate().equals(a)}},function(r,e){this[e]=function(t){var i=this._segment1,a=this._segment2;return r(i._point,i._handleOut,a._handleIn,a._point,t)},this.statics[e]=function(t,i){var a=t[0],u=t[1],l=t[6],h=t[7];return r(new z(a,u),new z(t[2]-a,t[3]-u),new z(t[4]-l,t[5]-h),new z(l,h),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,e){return this.getLocationAtTime(e?r:this.getTimeAt(r))},getLocationAtTime:function(r){return r!=null&&r>=0&&r<=1?new at(this,r):null},getTimeAt:function(r,e){return ae.getTimeAt(this.getValues(),r,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=z.read(arguments);return r.isZero()?[]:ae.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(z.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return ae.getTimeOf(this.getValues(),z.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=z.read(arguments),e=this.getValues(),t=ae.getNearestTime(e,r),i=ae.getPoint(e,t);return new at(this,t,i,null,r.getDistance(i))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(r,function(e){this[e+"At"]=function(t,i){var a=this.getValues();return ae[e](a,i?t:ae.getTimeAt(a,t))},this[e+"AtTime"]=function(t){return ae[e](this.getValues(),t)}},{statics:{_evaluateMethods:r}})},new function(){function r(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],d=i[5],_=i[6],y=i[7],m=9*(l-f)+3*(_-a),v=6*(a+f)-12*l,S=3*(l-a),E=9*(h-d)+3*(y-u),I=6*(u+d)-12*h,P=3*(h-u);return function(C){var x=(m*C+v)*C+S,w=(E*C+I)*C+P;return Math.sqrt(x*x+w*w)}}function e(i,a){return Math.max(2,Math.min(16,Math.ceil(Math.abs(a-i)*32)))}function t(i,a,u,l){if(a==null||a<0||a>1)return null;var h=i[0],f=i[1],d=i[2],_=i[3],y=i[4],m=i[5],v=i[6],S=i[7],E=ne.isZero;E(d-h)&&E(_-f)&&(d=h,_=f),E(y-v)&&E(m-S)&&(y=v,m=S);var I=3*(d-h),P=3*(y-d)-I,C=v-h-I-P,x=3*(_-f),w=3*(m-_)-x,k=S-f-x-w,T,L;if(u===0)T=a===0?h:a===1?v:((C*a+P)*a+I)*a+h,L=a===0?f:a===1?S:((k*a+w)*a+x)*a+f;else{var N=1e-8,M=1-N;if(a<N?(T=I,L=x):a>M?(T=3*(v-y),L=3*(S-m)):(T=(3*C*a+2*P)*a+I,L=(3*k*a+2*w)*a+x),l){T===0&&L===0&&(a<N||a>M)&&(T=y-d,L=m-_);var O=Math.sqrt(T*T+L*L);O&&(T/=O,L/=O)}if(u===3){var y=6*C*a+2*P,m=6*k*a+2*w,D=Math.pow(T*T+L*L,3/2);T=D!==0?(T*m-L*y)/D:0,L=0}}return u===2?new z(L,-T):new z(T,L)}return{statics:{classify:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],d=i[5],_=i[6],y=i[7],m=a*(y-d)+u*(f-_)+_*d-y*f,v=l*(u-y)+h*(_-a)+a*y-u*_,S=f*(h-u)+d*(a-l)+l*u-h*a,E=3*S,I=E-v,P=I-v+m,C=Math.sqrt(P*P+I*I+E*E),x=C!==0?1/C:0,w=ne.isZero,k="serpentine";P*=x,I*=x,E*=x;function T(O,D,U){var F=D!==o,H=F&&D>0&&D<1,q=F&&U>0&&U<1;return F&&(!(H||q)||O==="loop"&&!(H&&q))&&(O="arch",H=q=!1),{type:O,roots:H||q?H&&q?D<U?[D,U]:[U,D]:[H?D:U]:null}}if(w(P))return w(I)?T(w(E)?"line":"quadratic"):T(k,E/(3*I));var L=3*I*I-4*P*E;if(w(L))return T("cusp",I/(2*P));var N=L>0?Math.sqrt(L/3):Math.sqrt(-L),M=2*P;return T(L>0?k:"loop",(I+N)/M,(I-N)/M)},getLength:function(i,a,u,l){if(a===o&&(a=0),u===o&&(u=1),ae.isStraight(i)){var h=i;u<1&&(h=ae.subdivide(h,u)[0],a/=u),a>0&&(h=ae.subdivide(h,a)[1]);var f=h[6]-h[0],d=h[7]-h[1];return Math.sqrt(f*f+d*d)}return ne.integrate(l||r(i),a,u,e(a,u))},getTimeAt:function(i,a,u){if(u===o&&(u=a<0?1:0),a===0)return u;var l=Math.abs,h=1e-12,f=a>0,d=f?u:0,_=f?1:u,y=r(i),m=ae.getLength(i,d,_,y),v=l(a)-m;if(l(v)<h)return f?_:d;if(v>h)return null;var S=a/m,E=0;function I(P){return E+=ne.integrate(y,u,P,e(u,P)),u=P,E-a}return ne.findRoot(I,y,u+S,d,_,32,1e-12)},getPoint:function(i,a){return t(i,a,0,!1)},getTangent:function(i,a){return t(i,a,1,!0)},getWeightedTangent:function(i,a){return t(i,a,1,!1)},getNormal:function(i,a){return t(i,a,2,!0)},getWeightedNormal:function(i,a){return t(i,a,2,!1)},getCurvature:function(i,a){return t(i,a,3,!1).x},getPeaks:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],d=i[5],_=i[6],y=i[7],m=-a+3*l-3*f+_,v=3*a-6*l+3*f,S=-3*a+3*l,E=-u+3*h-3*d+y,I=3*u-6*h+3*d,P=-3*u+3*h,C=1e-8,x=1-C,w=[];return ne.solveCubic(9*(m*m+E*E),9*(m*v+I*E),2*(v*v+I*I)+3*(S*m+P*E),S*v+I*P,w,C,x),w.sort()}}}},new function(){function r(v,S,E,I,P,C,x){var w=!x&&E.getPrevious()===P,k=!x&&E!==P&&E.getNext()===P,T=1e-8,L=1-T;if(I!==null&&I>=(w?T:0)&&I<=(k?L:1)&&C!==null&&C>=(k?T:0)&&C<=(w?L:1)){var N=new at(E,I,null,x),M=new at(P,C,null,x);N._intersection=M,M._intersection=N,(!S||S(N))&&at.insert(v,N,!0)}}function e(v,S,E,I,P,C,x,w,k,T,L,N,M){if(++k>=4096||++w>=40)return k;var O=1e-9,D=S[0],U=S[1],F=S[6],H=S[7],q=de.getSignedDistance,W=q(D,U,F,H,S[2],S[3]),G=q(D,U,F,H,S[4],S[5]),J=W*G>0?3/4:4/9,se=J*Math.min(0,W,G),he=J*Math.max(0,W,G),ve=q(D,U,F,H,v[0],v[1]),ye=q(D,U,F,H,v[2],v[3]),ue=q(D,U,F,H,v[4],v[5]),oe=q(D,U,F,H,v[6],v[7]),we=t(ve,ye,ue,oe),Se=we[0],Ie=we[1],Le,ge;if(W===0&&G===0&&ve===0&&ye===0&&ue===0&&oe===0||(Le=i(Se,Ie,se,he))==null||(ge=i(Se.reverse(),Ie.reverse(),se,he))==null)return k;var Me=T+(L-T)*Le,Re=T+(L-T)*ge;if(Math.max(M-N,Re-Me)<O){var Ve=(Me+Re)/2,ot=(N+M)/2;r(P,C,x?I:E,x?ot:Ve,x?E:I,x?Ve:ot)}else{v=ae.getPart(v,Le,ge);var ht=M-N;if(ge-Le>.8)if(Re-Me>ht){var lt=ae.subdivide(v,.5),Ve=(Me+Re)/2;k=e(S,lt[0],I,E,P,C,!x,w,k,N,M,Me,Ve),k=e(S,lt[1],I,E,P,C,!x,w,k,N,M,Ve,Re)}else{var lt=ae.subdivide(S,.5),ot=(N+M)/2;k=e(lt[0],v,I,E,P,C,!x,w,k,N,ot,Me,Re),k=e(lt[1],v,I,E,P,C,!x,w,k,ot,M,Me,Re)}else ht===0||ht>=O?k=e(S,v,I,E,P,C,!x,w,k,N,M,Me,Re):k=e(v,S,E,I,P,C,x,w,k,Me,Re,N,M)}return k}function t(v,S,E,I){var P=[0,v],C=[1/3,S],x=[2/3,E],w=[1,I],k=S-(2*v+I)/3,T=E-(v+2*I)/3,L;if(k*T<0)L=[[P,C,w],[P,x,w]];else{var N=k/T;L=[N>=2?[P,C,w]:N<=.5?[P,x,w]:[P,C,x,w],[P,w]]}return(k||T)<0?L.reverse():L}function i(v,S,E,I){return v[0][1]<E?a(v,!0,E):S[0][1]>I?a(S,!1,I):v[0][0]}function a(v,S,E){for(var I=v[0][0],P=v[0][1],C=1,x=v.length;C<x;C++){var w=v[C][0],k=v[C][1];if(S?k>=E:k<=E)return k===E?w:I+(E-P)*(w-I)/(k-P);I=w,P=k}return null}function u(v,S,E,I,P){var C=ne.isZero;if(C(I)&&C(P)){var x=ae.getTimeOf(v,new z(S,E));return x===null?[]:[x]}for(var w=Math.atan2(-P,I),k=Math.sin(w),T=Math.cos(w),L=[],N=[],M=0;M<8;M+=2){var O=v[M]-S,D=v[M+1]-E;L.push(O*T-D*k,O*k+D*T)}return ae.solveCubic(L,1,0,N,0,1),N}function l(v,S,E,I,P,C,x){for(var w=S[0],k=S[1],T=S[6],L=S[7],N=u(v,w,k,T-w,L-k),M=0,O=N.length;M<O;M++){var D=N[M],U=ae.getPoint(v,D),F=ae.getTimeOf(S,U);F!==null&&r(P,C,x?I:E,x?F:D,x?E:I,x?D:F)}}function h(v,S,E,I,P,C){var x=de.intersect(v[0],v[1],v[6],v[7],S[0],S[1],S[6],S[7]);x&&r(P,C,E,ae.getTimeOf(v,x),I,ae.getTimeOf(S,x))}function f(v,S,E,I,P,C){var x=1e-12,w=Math.min,k=Math.max;if(k(v[0],v[2],v[4],v[6])+x>w(S[0],S[2],S[4],S[6])&&w(v[0],v[2],v[4],v[6])-x<k(S[0],S[2],S[4],S[6])&&k(v[1],v[3],v[5],v[7])+x>w(S[1],S[3],S[5],S[7])&&w(v[1],v[3],v[5],v[7])-x<k(S[1],S[3],S[5],S[7])){var T=y(v,S);if(T)for(var L=0;L<2;L++){var N=T[L];r(P,C,E,N[0],I,N[1],!0)}else{var M=ae.isStraight(v),O=ae.isStraight(S),D=M&&O,U=M&&!O,F=P.length;if((D?h:M||O?l:e)(U?S:v,U?v:S,U?I:E,U?E:I,P,C,U,0,0,0,1,0,1),!D||P.length===F)for(var L=0;L<4;L++){var H=L>>1,q=L&1,W=H*6,G=q*6,J=new z(v[W],v[W+1]),se=new z(S[G],S[G+1]);J.isClose(se,x)&&r(P,C,E,H,I,q)}}}return P}function d(v,S,E,I){var P=ae.classify(v);if(P.type==="loop"){var C=P.roots;r(E,I,S,C[0],S,C[1])}return E}function _(v,S,E,I,P,C){var x=1e-7,w=!S;w&&(S=v);for(var k=v.length,T=S.length,L=new Array(k),N=w?L:new Array(T),M=[],O=0;O<k;O++)L[O]=v[O].getValues(I);if(!w)for(var O=0;O<T;O++)N[O]=S[O].getValues(P);for(var D=ie.findCurveBoundsCollisions(L,N,x),U=0;U<k;U++){var F=v[U],H=L[U];w&&d(H,F,M,E);var q=D[U];if(q)for(var W=0;W<q.length;W++){if(C&&M.length)return M;var G=q[W];if(!w||G>U){var J=S[G],se=N[G];f(H,se,F,J,M,E)}}}return M}function y(v,S){function E(oe){var we=oe[6]-oe[0],Se=oe[7]-oe[1];return we*we+Se*Se}var I=Math.abs,P=de.getDistance,C=1e-8,x=1e-7,w=ae.isStraight(v),k=ae.isStraight(S),T=w&&k,L=E(v)<E(S),N=L?S:v,M=L?v:S,O=N[0],D=N[1],U=N[6]-O,F=N[7]-D;if(P(O,D,U,F,M[0],M[1],!0)<x&&P(O,D,U,F,M[6],M[7],!0)<x)!T&&P(O,D,U,F,N[2],N[3],!0)<x&&P(O,D,U,F,N[4],N[5],!0)<x&&P(O,D,U,F,M[2],M[3],!0)<x&&P(O,D,U,F,M[4],M[5],!0)<x&&(w=k=T=!0);else if(T)return null;if(w^k)return null;for(var H=[v,S],q=[],W=0;W<4&&q.length<2;W++){var G=W&1,J=G^1,se=W>>1,he=ae.getTimeOf(H[G],new z(H[J][se?6:0],H[J][se?7:1]));if(he!=null){var ve=G?[se,he]:[he,se];(!q.length||I(ve[0]-q[0][0])>C&&I(ve[1]-q[0][1])>C)&&q.push(ve)}if(W>2&&!q.length)break}if(q.length!==2)q=null;else if(!T){var ye=ae.getPart(v,q[0][0],q[1][0]),ue=ae.getPart(S,q[0][1],q[1][1]);(I(ue[2]-ye[2])>x||I(ue[3]-ye[3])>x||I(ue[4]-ye[4])>x||I(ue[5]-ye[5])>x)&&(q=null)}return q}function m(v,S){var E=v[0],I=v[1],P=v[2],C=v[3],x=v[4],w=v[5],k=v[6],T=v[7],L=S.normalize(),N=L.x,M=L.y,O=3*k-9*x+9*P-3*E,D=3*T-9*w+9*C-3*I,U=6*x-12*P+6*E,F=6*w-12*C+6*I,H=3*P-3*E,q=3*C-3*I,W=2*O*M-2*D*N,G=[];if(Math.abs(W)<ne.CURVETIME_EPSILON){var J=O*q-D*H,W=O*F-D*U;if(W!=0){var se=-J/W;se>=0&&se<=1&&G.push(se)}}else{var he=(U*U-4*O*H)*M*M+(-2*U*F+4*D*H+4*O*q)*N*M+(F*F-4*D*q)*N*N,ve=U*M-F*N;if(he>=0&&W!=0){var ye=Math.sqrt(he),ue=-(ve+ye)/W,oe=(-ve+ye)/W;ue>=0&&ue<=1&&G.push(ue),oe>=0&&oe<=1&&G.push(oe)}}return G}return{getIntersections:function(v){var S=this.getValues(),E=v&&v!==this&&v.getValues();return E?f(S,E,this,v,[]):d(S,this,[])},statics:{getOverlaps:y,getIntersections:_,getCurveLineIntersections:u,getTimesWithTangent:m}}}),at=g.extend({_class:"CurveLocation",initialize:function(e,t,i,a,u){if(t>=.99999999){var l=e.getNext();l&&(t=0,e=l)}this._setCurve(e),this._time=t,this._point=i||e.getPointAtTime(t),this._overlap=a,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var e=r.getCurve();e?this._setCurve(e):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var e=this.getCurve(),t=this.getTime();t===0?r=e._segment1:t===1?r=e._segment2:t!=null&&(r=e.getPartLength(0,t)<e.getPartLength(t,1)?e._segment1:e._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,e=this;r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function t(i){var a=i&&i.getCurve();if(a&&(e._time=a.getTimeOf(e._point))!=null)return e._setCurve(a),a}return this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),e=this._time;return r&&e==null?this._time=r.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(r==null){r=0;var e=this.getPath(),t=this.getIndex();if(e&&t!=null)for(var i=e.getCurves(),a=0;a<t;a++)r+=i[a].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(r==null){var e=this.getCurve(),t=this.getTime();this._curveOffset=r=t!=null&&e&&e.getPartLength(0,t)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),e=r&&r.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var r=this.getCurve(),e=r._path,t=r&&r.splitAtTime(this.getTime());return t&&this._setSegment(e.getLastSegment()),t},equals:function(r,e){var t=this===r;if(!t&&r instanceof at){var i=this.getCurve(),a=r.getCurve(),u=i._path,l=a._path;if(u===l){var h=Math.abs,f=1e-7,d=h(this.getOffset()-r.getOffset()),_=!e&&this._intersection,y=!e&&r._intersection;t=(d<f||u&&h(u.getLength()-d)<f)&&(!_&&!y||_&&y&&_.equals(y,!0))}}return t},toString:function(){var r=[],e=this.getPoint(),t=le.instance;e&&r.push("point: "+e);var i=this.getIndex();i!=null&&r.push("index: "+i);var a=this.getTime();return a!=null&&r.push("time: "+t.number(a)),this._distance!=null&&r.push("distance: "+t.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var e=this.getCurve(),t=r.getCurve();return!(e.isStraight()&&t.isStraight()&&e.getLine().intersect(t.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var e=this.getTime(),t=r.getTime(),i=1e-8,a=1-i,u=e>=i&&e<=a,l=t>=i&&t<=a;if(u&&l)return!this.isTouching();var h=this.getCurve(),f=h&&e<i?h.getPrevious():h,d=r.getCurve(),_=d&&t<i?d.getPrevious():d;if(e>a&&(h=h.getNext()),t>a&&(d=d.getNext()),!f||!h||!_||!d)return!1;var y=[];function m(N,M){var O=N.getValues(),D=ae.classify(O).roots||ae.getPeaks(O),U=D.length,F=ae.getLength(O,M&&U?D[U-1]:0,!M&&U?D[0]:1);y.push(U?F:F/32)}function v(N,M,O){return M<O?N>M&&N<O:N>M||N<O}u||(m(f,!0),m(h,!1)),l||(m(_,!0),m(d,!1));var S=this.getPoint(),E=Math.min.apply(Math,y),I=u?h.getTangentAtTime(e):h.getPointAt(E).subtract(S),P=u?I.negate():f.getPointAt(-E).subtract(S),C=l?d.getTangentAtTime(t):d.getPointAt(E).subtract(S),x=l?C.negate():_.getPointAt(-E).subtract(S),w=P.getAngle(),k=I.getAngle(),T=x.getAngle(),L=C.getAngle();return!!(u?v(w,T,L)^v(k,T,L)&&v(w,L,T)^v(k,L,T):v(T,w,k)^v(L,w,k)&&v(T,k,w)^v(L,k,w))},hasOverlap:function(){return!!this._overlap}},g.each(ae._evaluateMethods,function(r){var e=r+"At";this[r]=function(){var t=this.getCurve(),i=this.getTime();return i!=null&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function r(e,t,i){var a=e.length,u=0,l=a-1;function h(S,E){for(var I=S+E;I>=-1&&I<=a;I+=E){var P=e[(I%a+a)%a];if(!t.getPoint().isClose(P.getPoint(),1e-7))break;if(t.equals(P))return P}return null}for(;u<=l;){var f=u+l>>>1,d=e[f],_;if(i&&(_=t.equals(d)?d:h(f,-1)||h(f,1)))return t._overlap&&(_._overlap=_._intersection._overlap=!0),_;var y=t.getPath(),m=d.getPath(),v=y!==m?y._id-m._id:t.getIndex()+t.getTime()-(d.getIndex()+d.getTime());v<0?l=f-1:u=f+1}return e.splice(u,0,t),t}return{statics:{insert:r,expand:function(e){for(var t=e.slice(),i=e.length-1;i>=0;i--)r(t,e[i]._intersection,!1);return t}}}}),Te=R.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var e,t,i;if(g.isPlainObject(r)?(t=r.segments,e=r.pathData):Array.isArray(r)?t=r:typeof r=="string"&&(e=r),t){var a=t[0];i=a&&Array.isArray(a[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?Be:Ce;return new u(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var e=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),t,i=!1,a,u,l=new z,h=new z;function f(x,w){var k=+t[x];return i&&(k+=l[w]),k}function d(x){return new z(f(x,"x"),f(x+1,"y"))}this.clear();for(var _=0,y=e&&e.length;_<y;_++){var m=e[_],v=m[0],S=v.toLowerCase();t=m.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var E=t&&t.length;switch(i=v===S,a==="z"&&!/[mz]/.test(S)&&this.moveTo(l),S){case"m":case"l":for(var I=S==="m",P=0;P<E;P+=2)this[I?"moveTo":"lineTo"](l=d(P)),I&&(h=l,I=!1);u=l;break;case"h":case"v":var C=S==="h"?"x":"y";l=l.clone();for(var P=0;P<E;P++)l[C]=f(P,C),this.lineTo(l);u=l;break;case"c":for(var P=0;P<E;P+=6)this.cubicCurveTo(d(P),u=d(P+2),l=d(P+4));break;case"s":for(var P=0;P<E;P+=4)this.cubicCurveTo(/[cs]/.test(a)?l.multiply(2).subtract(u):l,u=d(P),l=d(P+2)),a=S;break;case"q":for(var P=0;P<E;P+=4)this.quadraticCurveTo(u=d(P),l=d(P+2));break;case"t":for(var P=0;P<E;P+=2)this.quadraticCurveTo(u=/[qt]/.test(a)?l.multiply(2).subtract(u):l,l=d(P)),a=S;break;case"a":for(var P=0;P<E;P+=7)this.arcTo(l=d(P+5),new te(+t[P],+t[P+1]),+t[P+2],+t[P+4],+t[P+3]);break;case"z":this.closePath(1e-12),l=h;break}a=S}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var e=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(r,e,t,i){var a=this===r||!r,u=this._matrix._orNullIfIdentity(),l=a?u:(t||r._matrix)._orNullIfIdentity();return a||this.getBounds(u).intersects(r.getBounds(l),1e-12)?ae.getIntersections(this.getCurves(),!a&&r.getCurves(),e,u,l,i):[]},getCrossings:function(r){return this.getIntersections(r,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var r=z.read(arguments),e=this.getCurves(),t=1/0,i=null,a=0,u=e.length;a<u;a++){var l=e[a].getNearestLocation(r);l._distance<t&&(t=l._distance,i=l)}return i},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,e,t){var i=!this._children,a=i?"_segments":"_children",u=r[a],l=e[a],h=this[a];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+e);var f=h.length,d=l.length;if(f<d)for(var _=i?be:Ce,y=f;y<d;y++)this.add(new _);else f>d&&this[i?"removeSegments":"removeChildren"](d,f);for(var y=0;y<d;y++)h[y].interpolate(u[y],l[y],t);i&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var e=!1;if(r){var t=this._children||[this],i=r._children?r._children.slice():[r],a=t.length,u=i.length,l=[],h=0;e=!0;for(var f=ie.findItemBoundsCollisions(t,i,ne.GEOMETRIC_EPSILON),d=a-1;d>=0&&e;d--){var _=t[d];e=!1;var y=f[d];if(y)for(var m=y.length-1;m>=0&&!e;m--)_.compare(i[y[m]])&&(l[y[m]]||(l[y[m]]=!0,h++),e=!0)}e=e&&h===u}return e}}),Ce=Te.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:t:e&&e.size===o&&(e.x!==o||e.point!==o)?t:null;i&&i.length>0?this.setSegments(i):(this._curves=o,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(r){return this._closed===r._closed&&g.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(e){if(r.base.call(this,e),e&8){if(this._length=this._area=o,e&32)this._version++;else if(this._curves)for(var t=0,i=this._curves.length;t<i;t++)this._curves[t]._changed()}else e&64&&(this._bounds=o)},getStyle:function(){var r=this._parent;return(r instanceof Be?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var e=this.isFullySelected(),t=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,t){var i=r[t-1];typeof i=="boolean"&&(this.setClosed(i),t--),this._add(be.readList(r,0,{},t))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,e=this._segments;if(!r){var t=this._countCurves();r=this._curves=new Array(t);for(var i=0;i<t;i++)r[i]=new ae(this,e[i],e[i+1]||e[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var e=this._curves.length=this._countCurves();r&&(this._curves[e-1]=new ae(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,e){var t=this._segments,i=t.length,a=new le(e),u=new Array(6),l=!0,h,f,d,_,y,m,v,S,E=[];function I(C,x){if(C._transformCoordinates(r,u),h=u[0],f=u[1],l)E.push("M"+a.pair(h,f)),l=!1;else if(y=u[2],m=u[3],y===h&&m===f&&v===d&&S===_){if(!x){var w=h-d,k=f-_;E.push(w===0?"v"+a.number(k):k===0?"h"+a.number(w):"l"+a.pair(w,k))}}else E.push("c"+a.pair(v-d,S-_)+" "+a.pair(y-d,m-_)+" "+a.pair(h-d,f-_));d=h,_=f,v=u[4],S=u[5]}if(!i)return"";for(var P=0;P<i;P++)I(t[P]);return this._closed&&i>0&&(I(t[0],!0),E.push("z")),E.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var e=this._segments,t=new Array(6),i=0,a=e.length;i<a;i++)e[i]._transformCoordinates(r,t,!0);return!0},_add:function(r,l){for(var t=this._segments,i=this._curves,a=r.length,u=l==null,l=u?t.length:l,h=0;h<a;h++){var f=r[h];f._path&&(f=r[h]=f.clone()),f._path=this,f._index=l+h,f._selection&&this._updateSelection(f,0,f._selection)}if(u)g.push(t,r);else{t.splice.apply(t,[l,0].concat(r));for(var h=l+a,d=t.length;h<d;h++)t[h]._index=h}if(i){var _=this._countCurves(),y=l>0&&l+a-1===_?l-1:l,m=y,v=Math.min(y+a,_);r._curves&&(i.splice.apply(i,[y,0].concat(r._curves)),m+=r._curves.length);for(var h=m;h<v;h++)i.splice(h,0,new ae(this,null,null));this._adjustCurves(y,v)}return this._changed(41),r},_adjustCurves:function(r,e){for(var t=this._segments,i=this._curves,a,u=r;u<e;u++)a=i[u],a._path=this,a._segment1=t[u],a._segment2=t[u+1]||t[0],a._changed();(a=i[this._closed&&!r?t.length-1:r-1])&&(a._segment2=t[r]||t[0],a._changed()),(a=i[e])&&(a._segment1=t[e],a._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var e=arguments;return e.length>1&&typeof r!="number"?this._add(be.readList(e)):this._add([be.read(e)])[0]},insert:function(r,e){var t=arguments;return t.length>2&&typeof e!="number"?this._add(be.readList(t,1),r):this._add([be.read(t,1)],r)[0]},addSegment:function(){return this._add([be.read(arguments)])[0]},insertSegment:function(r){return this._add([be.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(be.readList(r))},insertSegments:function(r,e){return this._add(be.readList(e),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,e,t){r=r||0,e=g.pick(e,this._segments.length);var i=this._segments,a=this._curves,u=i.length,l=i.splice(r,e-r),h=l.length;if(!h)return l;for(var f=0;f<h;f++){var d=l[f];d._selection&&this._updateSelection(d,d._selection,0),d._index=d._path=null}for(var f=r,_=i.length;f<_;f++)i[f]._index=f;if(a){for(var y=r>0&&e===u+(this._closed?1:0)?r-1:r,a=a.splice(y,h),f=a.length-1;f>=0;f--)a[f]._path=null;t&&(l._curves=a.slice(1)),this._adjustCurves(y,y)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)if(r[e].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)r[e].clearHandles()},getLength:function(){if(this._length==null){for(var r=this.getCurves(),e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();this._length=e}return this._length},getArea:function(){var r=this._area;if(r==null){var e=this._segments,t=this._closed;r=0;for(var i=0,a=e.length;i<a;i++){var u=i+1===a;r+=ae.getArea(ae.getValues(e[i],e[u?0:i+1],null,u&&!t))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===r*7},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(e){e&1||this._selectSegments(!1),r.base.call(this,e)},_selectSegments:function(r){var e=this._segments,t=e.length,i=r?7:0;this._segmentSelection=i*t;for(var a=0;a<t;a++)e[a]._selection=i},_updateSelection:function(r,e,t){r._selection=t;var i=this._segmentSelection+=t-e;i>0&&this.setSelected(!0)},divideAt:function(r){var e=this.getLocationAt(r),t;return e&&(t=e.getCurve().divideAt(e.getCurveOffset()))?t._segment1:null},splitAt:function(r){var e=this.getLocationAt(r),t=e&&e.index,i=e&&e.time,a=1e-8,u=1-a;i>u&&(t++,i=0);var l=this.getCurves();if(t>=0&&t<l.length){i>=a&&l[t++].divideAtTime(i);var h=this.removeSegments(t,this._segments.length,!0),f;return this._closed?(this.setClosed(!1),f=this):(f=new Ce(R.NO_INSERT),f.insertAbove(this),f.copyAttributes(this)),f._add(h,0),this.addSegment(h[0]),f}return null},split:function(r,e){var t,i=e===o?r:(t=this.getCurves()[r])&&t.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(r,e){var t=e||0;if(r&&r!==this){var i=r._segments,a=this.getLastSegment(),u=r.getLastSegment();if(!u)return this;a&&a._point.isClose(u._point,t)&&r.reverse();var l=r.getFirstSegment();if(a&&a._point.isClose(l._point,t))a.setHandleOut(l._handleOut),this._add(i.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(l._point,t)&&r.reverse(),u=r.getLastSegment(),h&&h._point.isClose(u._point,t)?(h.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}r._closed&&this._add([i[0]]),r.remove()}var f=this.getFirstSegment(),d=this.getLastSegment();return f!==d&&f._point.isClose(d._point,t)&&(f.setHandleIn(d._handleIn),d.remove(),this.setClosed(!0)),this},reduce:function(r){for(var e=this.getCurves(),t=r&&r.simplify,i=t?1e-7:0,a=e.length-1;a>=0;a--){var u=e[a];!u.hasHandles()&&(!u.hasLength(i)||t&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,e=this._segments.length;r<e;r++){var t=this._segments[r],i=t._handleIn;t._handleIn=t._handleOut,t._handleOut=i,t._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var e=new et(this,r||.25,256,!0),t=e.parts,i=t.length,a=[],u=0;u<i;u++)a.push(new be(t[u].curve.slice(0,2)));!this._closed&&i>0&&a.push(new be(t[i-1].curve.slice(6))),this.setSegments(a)},simplify:function(r){var e=new ut(this).fit(r||2.5);return e&&this.setSegments(e),!!e},smooth:function(r){var e=this,t=r||{},i=t.type||"asymmetric",a=this._segments,u=a.length,l=this._closed;function h(Se,Ie){var Le=Se&&Se.index;if(Le!=null){var ge=Se.path;if(ge&&ge!==e)throw new Error(Se._class+" "+Le+" of "+ge+" is not part of "+e);Ie&&Se instanceof ae&&Le++}else Le=typeof Se=="number"?Se:Ie;return Math.min(Le<0&&l?Le%u:Le<0?Le+u:Le,u-1)}var f=l&&t.from===o&&t.to===o,d=h(t.from,0),_=h(t.to,u-1);if(d>_)if(l)d-=u;else{var y=d;d=_,_=y}if(/^(?:asymmetric|continuous)$/.test(i)){var m=i==="asymmetric",v=Math.min,S=_-d+1,E=S-1,I=f?v(S,4):1,P=I,C=I,x=[];if(l||(P=v(1,d),C=v(1,u-_-1)),E+=P+C,E<=1)return;for(var w=0,k=d-P;w<=E;w++,k++)x[w]=a[(k<0?k+u:k)%u]._point;for(var T=x[0]._x+2*x[1]._x,L=x[0]._y+2*x[1]._y,N=2,M=E-1,O=[T],D=[L],U=[N],F=[],H=[],w=1;w<E;w++){var q=w<M,W=q||m?1:2,G=q?4:m?2:7,J=q?4:m?3:8,se=q?2:m?0:1,he=W/N;N=U[w]=G-he,T=O[w]=J*x[w]._x+se*x[w+1]._x-he*T,L=D[w]=J*x[w]._y+se*x[w+1]._y-he*L}F[M]=O[M]/U[M],H[M]=D[M]/U[M];for(var w=E-2;w>=0;w--)F[w]=(O[w]-F[w+1])/U[w],H[w]=(D[w]-H[w+1])/U[w];F[E]=(3*x[E]._x-F[M])/2,H[E]=(3*x[E]._y-H[M])/2;for(var w=P,ve=E-C,k=d;w<=ve;w++,k++){var ye=a[k<0?k+u:k],ue=ye._point,oe=F[w]-ue._x,we=H[w]-ue._y;(f||w<ve)&&ye.setHandleOut(oe,we),(f||w>P)&&ye.setHandleIn(-oe,-we)}}else for(var w=d;w<=_;w++)a[w<0?w+u:w].smooth(t,!f&&w===d,!f&&w===_)},toShape:function(r){if(!this._closed)return null;var e=this._segments,t,i,a,u;function l(m,v){var S=e[m],E=S.getNext(),I=e[v],P=I.getNext();return S._handleOut.isZero()&&E._handleIn.isZero()&&I._handleOut.isZero()&&P._handleIn.isZero()&&E._point.subtract(S._point).isCollinear(P._point.subtract(I._point))}function h(m){var v=e[m],S=v.getPrevious(),E=v.getNext();return S._handleOut.isZero()&&v._handleIn.isZero()&&v._handleOut.isZero()&&E._handleIn.isZero()&&v._point.subtract(S._point).isOrthogonal(E._point.subtract(v._point))}function f(m){var v=e[m],S=v.getNext(),E=v._handleOut,I=S._handleIn,P=.5522847498307936;if(E.isOrthogonal(I)){var C=v._point,x=S._point,w=new de(C,E,!0).intersect(new de(x,I,!0),!0);return w&&ne.isZero(E.getLength()/w.subtract(C).getLength()-P)&&ne.isZero(I.getLength()/w.subtract(x).getLength()-P)}return!1}function d(m,v){return e[m]._point.getDistance(e[v]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&h(1)?(t=Fe.Rectangle,i=new te(d(0,3),d(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&f(0)&&f(2)&&f(4)&&f(6)&&l(1,5)&&l(3,7)?(t=Fe.Rectangle,i=new te(d(1,6),d(0,3)),a=i.subtract(new te(d(0,7),d(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&f(0)&&f(1)&&f(2)&&f(3)&&(ne.isZero(d(0,2)-d(1,3))?(t=Fe.Circle,a=d(0,2)/2):(t=Fe.Ellipse,a=new te(d(2,0)/2,d(3,1)/2)),u=e[1]._point),t){var _=this.getPosition(!0),y=new t({center:_,size:i,radius:a,insert:!1});return y.copyAttributes(this,!0),y._matrix.prepend(this._matrix),y.rotate(u.subtract(_).getAngle()+90),(r===o||r)&&y.insertAbove(this),y}return null},toPath:"#clone",compare:function r(e){if(!e||e instanceof Be)return r.base.call(this,e);var t=this.getCurves(),i=e.getCurves(),a=t.length,u=i.length;if(!a||!u)return a==u;for(var l=t[0].getValues(),h=[],f=0,d,_=0,y,m=0;m<u;m++){var I=i[m].getValues();h.push(I);var v=ae.getOverlaps(l,I);if(v){d=!m&&v[0][0]>0?u-1:m,y=v[0][1];break}}for(var S=Math.abs,E=1e-8,I=h[d],P;l&&I;){var v=ae.getOverlaps(l,I);if(v){var C=v[0][0];if(S(C-_)<E){_=v[1][0],_===1&&(l=++f<a?t[f].getValues():null,_=0);var x=v[0][1];if(S(x-y)<E){if(P||(P=[d,x]),y=v[1][1],y===1&&(++d>=u&&(d=0),I=h[d]||i[d].getValues(),y=0),!l)return P[0]===d&&P[1]===y;continue}}}break}return!1},_hitTestSelf:function(r,e,t,i){var a=this,u=this.getStyle(),l=this._segments,h=l.length,f=this._closed,d=e._tolerancePadding,_=d,y,m,v,S,E,I,P=e.stroke&&u.hasStroke(),C=e.fill&&u.hasFill(),x=e.curves,w=P?u.getStrokeWidth()/2:C&&e.tolerance>0||x?0:null;w!==null&&(w>0?(y=u.getStrokeJoin(),m=u.getStrokeCap(),v=u.getMiterLimit(),_=_.add(Ce._getStrokePadding(w,i))):y=m="round");function k(F,H){return r.subtract(F).divide(H).length<=1}function T(F,H,q){if(!e.selected||H.isSelected()){var W=F._point;if(H!==W&&(H=H.add(W)),k(H,_))return new it(q,a,{segment:F,point:H})}}function L(F,H){return(H||e.segments)&&T(F,F._point,"segment")||!H&&e.handles&&(T(F,F._handleIn,"handle-in")||T(F,F._handleOut,"handle-out"))}function N(F){S.add(F)}function M(F){var H=f||F._index>0&&F._index<h-1;if((H?y:m)==="round")return k(F._point,_);if(S=new Ce({internal:!0,closed:!0}),H?F.isSmooth()||Ce._addBevelJoin(F,y,w,v,null,i,N,!0):m==="square"&&Ce._addSquareCap(F,m,w,null,i,N,!0),!S.isEmpty()){var q;return S.contains(r)||(q=S.getNearestLocation(r))&&k(q.getPoint(),d)}}if(e.ends&&!e.segments&&!f){if(I=L(l[0],!0)||L(l[h-1],!0))return I}else if(e.segments||e.handles){for(var O=0;O<h;O++)if(I=L(l[O]))return I}if(w!==null){if(E=this.getNearestLocation(r),E){var D=E.getTime();D===0||D===1&&h>1?M(E.getSegment())||(E=null):k(E.getPoint(),_)||(E=null)}if(!E&&y==="miter"&&h>1)for(var O=0;O<h;O++){var U=l[O];if(r.getDistance(U._point)<=v*w&&M(U)){E=U.getLocation();break}}}return!E&&C&&this._contains(r)||E&&!P&&!x?new it("fill",this):E?new it(P?"stroke":"curve",this,{location:E,point:E.getPoint()}):null}},g.each(ae._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this.getLocationAt(e);return t&&t[r]()}},{beans:!1,getLocationOf:function(){for(var r=z.read(arguments),e=this.getCurves(),t=0,i=e.length;t<i;t++){var a=e[t].getLocationOf(r);if(a)return a}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if(typeof r=="number"){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++){var u=t,l=e[i];if(t+=l.getLength(),t>r)return l.getLocationAt(r-u)}if(e.length>0&&r<=this.getLength())return new at(e[e.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=z.read(arguments);if(r.isZero())return[];for(var e=[],t=0,i=this.getCurves(),a=0,u=i.length;a<u;a++){for(var l=i[a],h=l.getTimesWithTangent(r),f=0,d=h.length;f<d;f++){var _=t+l.getOffsetAtTime(h[f]);e.indexOf(_)<0&&e.push(_)}t+=l.length}return e}}),new function(){function r(t,i,a,u){if(u<=0)return;var l=u/2,h=u-2,f=l-1,d=new Array(6),_,y;function m(C){var x=d[C],w=d[C+1];(_!=x||y!=w)&&(t.beginPath(),t.moveTo(_,y),t.lineTo(x,w),t.stroke(),t.beginPath(),t.arc(x,w,l,0,Math.PI*2,!0),t.fill())}for(var v=0,S=i.length;v<S;v++){var E=i[v],I=E._selection;if(E._transformCoordinates(a,d),_=d[0],y=d[1],I&2&&m(2),I&4&&m(4),t.fillRect(_-l,y-l,u,u),h>0&&!(I&1)){var P=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(_-f,y-f,h,h),t.fillStyle=P}}}function e(t,i,a){var u=i._segments,l=u.length,h=new Array(6),f=!0,d,_,y,m,v,S,E,I;function P(x){if(a)x._transformCoordinates(a,h),d=h[0],_=h[1];else{var w=x._point;d=w._x,_=w._y}if(f)t.moveTo(d,_),f=!1;else{if(a)v=h[2],S=h[3];else{var k=x._handleIn;v=d+k._x,S=_+k._y}v===d&&S===_&&E===y&&I===m?t.lineTo(d,_):t.bezierCurveTo(E,I,v,S,d,_)}if(y=d,m=_,a)E=h[4],I=h[5];else{var k=x._handleOut;E=y+k._x,I=m+k._y}}for(var C=0;C<l;C++)P(u[C]);i._closed&&l>0&&P(u[0])}return{_draw:function(t,i,a,u){var l=i.dontStart,h=i.dontFinish||i.clip,f=this.getStyle(),d=f.hasFill(),_=f.hasStroke(),y=f.getDashArray(),m=!nt.support.nativeDash&&_&&y&&y.length;l||t.beginPath(),(d||_&&!m||h)&&(e(t,this,u),this._closed&&t.closePath());function v(x){return y[(x%m+m)%m]}if(!h&&(d||_)&&(this._setStyles(t,i,a),d&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),_)){if(m){l||t.beginPath();for(var S=new et(this,.25,32,!1,u),E=S.length,I=-f.getDashOffset(),P,C=0;I>0;)I-=v(C--)+v(C--);for(;I<E;)P=I+v(C++),(I>0||P>0)&&S.drawPart(t,Math.max(I,0),Math.max(P,0)),I=P+v(C++)}t.stroke()}},_drawSelected:function(t,i){t.beginPath(),e(t,this,i),t.stroke(),r(t,this._segments,i,nt.settings.handleSize)}}},new function(){function r(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new be(z.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new be(z.read(arguments))])},cubicCurveTo:function(){var e=arguments,t=z.read(e),i=z.read(e),a=z.read(e),u=r(this);u.setHandleOut(t.subtract(u._point)),this._add([new be(a,i.subtract(a))])},quadraticCurveTo:function(){var e=arguments,t=z.read(e),i=z.read(e),a=r(this)._point;this.cubicCurveTo(t.add(a.subtract(t).multiply(1/3)),t.add(i.subtract(t).multiply(1/3)),i)},curveTo:function(){var e=arguments,t=z.read(e),i=z.read(e),a=g.pick(g.read(e),.5),u=1-a,l=r(this)._point,h=t.subtract(l.multiply(u*u)).subtract(i.multiply(a*a)).divide(2*a*u);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+a);this.quadraticCurveTo(h,i)},arcTo:function(){var e=arguments,t=Math.abs,i=Math.sqrt,a=r(this),u=a._point,l=z.read(e),h,f=g.peek(e),d=g.pick(f,!0),_,y,m,v;if(typeof d=="boolean")var S=u.add(l).divide(2),h=S.add(S.subtract(u).rotate(d?-90:90));else if(g.remain(e)<=2)h=l,l=z.read(e);else if(!u.equals(l)){var E=te.read(e),I=ne.isZero;if(I(E.width)||I(E.height))return this.lineTo(l);var P=g.read(e),d=!!g.read(e),C=!!g.read(e),S=u.add(l).divide(2),x=u.subtract(S).rotate(-P),w=x.x,k=x.y,T=t(E.width),L=t(E.height),N=T*T,M=L*L,O=w*w,D=k*k,U=i(O/N+D/M);if(U>1&&(T*=U,L*=U,N=T*T,M=L*L),U=(N*M-N*D-M*O)/(N*D+M*O),t(U)<1e-12&&(U=0),U<0)throw new Error("Cannot create an arc with the given arguments");_=new z(T*k/L,-L*w/T).multiply((C===d?-1:1)*i(U)).rotate(P).add(S),v=new $().translate(_).rotate(P).scale(T,L),m=v._inverseTransform(u),y=m.getDirectedAngle(v._inverseTransform(l)),!d&&y>0?y-=360:d&&y<0&&(y+=360)}if(h){var F=new de(u.add(h).divide(2),h.subtract(u).rotate(90),!0),H=new de(h.add(l).divide(2),l.subtract(h).rotate(90),!0),q=new de(u,l),W=q.getSide(h);if(_=F.intersect(H,!0),!_){if(!W)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}m=u.subtract(_),y=m.getDirectedAngle(l.subtract(_));var G=q.getSide(_,!0);G===0?y=W*t(y):W===G&&(y+=y<0?360:-360)}if(y){for(var J=1e-7,se=t(y),he=se>=360?4:Math.ceil((se-J)/90),ve=y/he,ye=ve*Math.PI/360,ue=4/3*Math.sin(ye)/(1+Math.cos(ye)),oe=[],we=0;we<=he;we++){var x=l,Se=null;if(we<he&&(Se=m.rotate(90).multiply(ue),v?(x=v._transformPoint(m),Se=v._transformPoint(m.add(Se)).subtract(x)):x=_.add(m)),!we)a.setHandleOut(Se);else{var Ie=m.rotate(-90).multiply(ue);v&&(Ie=v._transformPoint(m.add(Ie)).subtract(x)),oe.push(new be(x,Ie,Se))}m=m.rotate(ve)}this._add(oe)}},lineBy:function(){var e=z.read(arguments),t=r(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=arguments,t=z.read(e),i=z.read(e),a=g.read(e),u=r(this)._point;this.curveTo(u.add(t),u.add(i),a)},cubicCurveBy:function(){var e=arguments,t=z.read(e),i=z.read(e),a=z.read(e),u=r(this)._point;this.cubicCurveTo(u.add(t),u.add(i),u.add(a))},quadraticCurveBy:function(){var e=arguments,t=z.read(e),i=z.read(e),a=r(this)._point;this.quadraticCurveTo(a.add(t),a.add(i))},arcBy:function(){var e=arguments,t=r(this)._point,i=t.add(z.read(e)),a=g.pick(g.peek(e),!0);typeof a=="boolean"?this.arcTo(i,a):this.arcTo(i,t.add(z.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(r,e){var t=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Ce[t](this._segments,this._closed,this,r,e)},statics:{getBounds:function(r,e,t,i,a,u){var l=r[0];if(!l)return new K;var h=new Array(6),f=l._transformCoordinates(i,new Array(6)),d=f.slice(0,2),_=d.slice(),y=new Array(2);function m(E){E._transformCoordinates(i,h);for(var I=0;I<2;I++)ae._addBounds(f[I],f[I+4],h[I+2],h[I],I,u?u[I]:0,d,_,y);var P=f;f=h,h=P}for(var v=1,S=r.length;v<S;v++)m(r[v]);return e&&m(l),new K(d[0],d[1],_[0]-d[0],_[1]-d[1])},getStrokeBounds:function(r,e,t,i,a){var u=t.getStyle(),l=u.hasStroke(),h=u.getStrokeWidth(),f=l&&t._getStrokeMatrix(i,a),d=l&&Ce._getStrokePadding(h,f),_=Ce.getBounds(r,e,t,i,a,d);if(!l)return _;var y=h/2,m=u.getStrokeJoin(),v=u.getStrokeCap(),S=u.getMiterLimit(),E=new K(new te(d));function I(T){_=_.include(T)}function P(T){_=_.unite(E.setCenter(T._point.transform(i)))}function C(T,L){L==="round"||T.isSmooth()?P(T):Ce._addBevelJoin(T,L,y,S,i,f,I)}function x(T,L){L==="round"?P(T):Ce._addSquareCap(T,L,y,i,f,I)}var w=r.length-(e?0:1);if(w>0){for(var k=1;k<w;k++)C(r[k],m);e?C(r[0],m):(x(r[0],v),x(r[r.length-1],v))}return _},_getStrokePadding:function(r,e){if(!e)return[r,r];var t=new z(r,0).transform(e),i=new z(0,r).transform(e),a=t.getAngleInRadians(),u=t.getLength(),l=i.getLength(),h=Math.sin(a),f=Math.cos(a),d=Math.tan(a),_=Math.atan2(l*d,u),y=Math.atan2(l,d*u);return[Math.abs(u*Math.cos(_)*f+l*Math.sin(_)*h),Math.abs(l*Math.sin(y)*f+u*Math.cos(y)*h)]},_addBevelJoin:function(r,e,t,i,a,u,l,h){var f=r.getCurve(),d=f.getPrevious(),_=f.getPoint1().transform(a),y=d.getNormalAtTime(1).multiply(t).transform(u),m=f.getNormalAtTime(0).multiply(t).transform(u),v=y.getDirectedAngle(m);if((v<0||v>=180)&&(y=y.negate(),m=m.negate()),h&&l(_),l(_.add(y)),e==="miter"){var S=new de(_.add(y),new z(-y.y,y.x),!0).intersect(new de(_.add(m),new z(-m.y,m.x),!0),!0);S&&_.getDistance(S)<=i*t&&l(S)}l(_.add(m))},_addSquareCap:function(r,e,t,i,a,u,l){var h=r._point.transform(i),f=r.getLocation(),d=f.getNormal().multiply(f.getTime()===0?t:-t).transform(a);e==="square"&&(l&&(u(h.subtract(d)),u(h.add(d))),h=h.add(d.rotate(-90))),u(h.add(d)),u(h.subtract(d))},getHandleBounds:function(r,e,t,i,a){var u=t.getStyle(),l=a.stroke&&u.hasStroke(),h,f;if(l){var d=t._getStrokeMatrix(i,a),_=u.getStrokeWidth()/2,y=_;u.getStrokeJoin()==="miter"&&(y=_*u.getMiterLimit()),u.getStrokeCap()==="square"&&(y=Math.max(y,_*Math.SQRT2)),h=Ce._getStrokePadding(_,d),f=Ce._getStrokePadding(y,d)}for(var m=new Array(6),v=1/0,S=-v,E=v,I=S,P=0,C=r.length;P<C;P++){var x=r[P];x._transformCoordinates(i,m);for(var w=0;w<6;w+=2){var k=w?h:f,T=k?k[0]:0,L=k?k[1]:0,N=m[w],M=m[w+1],O=N-T,D=N+T,U=M-L,F=M+L;O<v&&(v=O),D>S&&(S=D),U<E&&(E=U),F>I&&(I=F)}}return new K(v,E,S-v,I-E)}}});Ce.inject({statics:new function(){var r=.5522847498307936,e=[new be([-1,0],[0,r],[0,-r]),new be([0,-1],[-r,0],[r,0]),new be([1,0],[0,-r],[0,r]),new be([0,1],[r,0],[-r,0])];function t(a,u,l){var h=g.getNamed(l),f=new Ce(h&&h.insert==!1&&R.NO_INSERT);return f._add(a),f._closed=u,f.set(h,{insert:!0})}function i(a,u,l){for(var h=new Array(4),f=0;f<4;f++){var d=e[f];h[f]=new be(d._point.multiply(u).add(a),d._handleIn.multiply(u),d._handleOut.multiply(u))}return t(h,!0,l)}return{Line:function(){var a=arguments;return t([new be(z.readNamed(a,"from")),new be(z.readNamed(a,"to"))],!1,a)},Circle:function(){var a=arguments,u=z.readNamed(a,"center"),l=g.readNamed(a,"radius");return i(u,new te(l),a)},Rectangle:function(){var a=arguments,u=K.readNamed(a,"rectangle"),l=te.readNamed(a,"radius",0,{readNull:!0}),h=u.getBottomLeft(!0),f=u.getTopLeft(!0),d=u.getTopRight(!0),_=u.getBottomRight(!0),y;if(!l||l.isZero())y=[new be(h),new be(f),new be(d),new be(_)];else{l=te.min(l,u.getSize(!0).divide(2));var m=l.width,v=l.height,S=m*r,E=v*r;y=[new be(h.add(m,0),null,[-S,0]),new be(h.subtract(0,v),[0,E]),new be(f.add(0,v),null,[0,-E]),new be(f.add(m,0),[-S,0],null),new be(d.subtract(m,0),null,[S,0]),new be(d.add(0,v),[0,-E],null),new be(_.subtract(0,v),null,[0,E]),new be(_.subtract(m,0),[S,0])]}return t(y,!0,a)},RoundRectangle:"#Rectangle",Ellipse:function(){var a=arguments,u=Fe._readEllipse(a);return i(u.center,u.radius,a)},Oval:"#Ellipse",Arc:function(){var a=arguments,u=z.readNamed(a,"from"),l=z.readNamed(a,"through"),h=z.readNamed(a,"to"),f=g.getNamed(a),d=new Ce(f&&f.insert==!1&&R.NO_INSERT);return d.moveTo(u),d.arcTo(l,h),d.set(f)},RegularPolygon:function(){for(var a=arguments,u=z.readNamed(a,"center"),l=g.readNamed(a,"sides"),h=g.readNamed(a,"radius"),f=360/l,d=l%3===0,_=new z(0,d?-h:h),y=d?-1:.5,m=new Array(l),v=0;v<l;v++)m[v]=new be(u.add(_.rotate((v+y)*f)));return t(m,!0,a)},Star:function(){for(var a=arguments,u=z.readNamed(a,"center"),l=g.readNamed(a,"points")*2,h=g.readNamed(a,"radius1"),f=g.readNamed(a,"radius2"),d=360/l,_=new z(0,-1),y=new Array(l),m=0;m<l;m++)y[m]=new be(u.add(_.rotate(d*m).multiply(m%2?f:h)));return t(y,!0,a)}}}});var Be=Te.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function r(e,t){var i=t,a=i[0];a&&typeof a[0]=="number"&&(i=[i]);for(var u=t.length-1;u>=0;u--){var l=i[u];i===t&&!(l instanceof Ce)&&(i=g.slice(i)),Array.isArray(l)?i[u]=new Ce({segments:l,insert:!1}):l instanceof Be&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return r.base.call(this,e,i)},reduce:function r(e){for(var t=this._children,i=t.length-1;i>=0;i--){var a=t[i].reduce(e);a.isEmpty()&&a.remove()}if(!t.length){var a=new Ce(R.NO_INSERT);return a.copyAttributes(this),a.insertAbove(this),this.remove(),a}return r.base.call(this)},isClosed:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)if(!r[e]._closed)return!1;return!0},setClosed:function(r){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,e=[],t=0,i=r.length;t<i;t++)g.push(e,r[t].getCurves());return e},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getArea();return e},getLength:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();return e},getPathData:function(r,e){for(var t=this._children,i=[],a=0,u=t.length;a<u;a++){var l=t[a],h=l._matrix;i.push(l.getPathData(r&&!h.isIdentity()?r.appended(h):r,e))}return i.join("")},_hitTestChildren:function r(e,t,i){return r.base.call(this,e,t.class===Ce||t.type==="path"?t:g.set({},t,{fill:!1}),i)},_draw:function(r,e,t,i){var a=this._children;if(!!a.length){e=e.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var u=0,l=a.length;u<l;u++)a[u].draw(r,e,i);if(!e.clip){this._setStyles(r,e,t);var h=this._style;h.hasFill()&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&r.stroke()}}},_drawSelected:function(r,e,t){for(var i=this._children,a=0,u=i.length;a<u;a++){var l=i[a],h=l._matrix;t[l._id]||l._drawSelected(r,h.isIdentity()?e:e.appended(h))}}},new function(){function r(e,t){var i=e._children;if(t&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=r(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var e=r(this),t=e&&e.isEmpty()?e:new Ce(R.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=r(this,!0),t=e&&e.getLastSegment(),i=z.read(arguments);this.moveTo(t?i.add(t._point):i)},closePath:function(e){r(this,!0).closePath(e)}})},g.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(e){for(var t=this._children,i,a=0,u=t.length;a<u;a++)i=t[a][r](e)||i;return i}},{}));Te.inject(new function(){var r=Math.min,e=Math.max,t=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function a(P){return P._children||[P]}function u(P,C){var x=P.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var w=a(x),k=0,T=w.length;k<T;k++){var P=w[k];!P._closed&&!P.isEmpty()&&(P.closePath(1e-12),P.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0))}x=x.resolveCrossings().reorient(x.getFillRule()==="nonzero",!0)}return x}function l(P,C,x,w,k){var T=new Be(R.NO_INSERT);return T.addChildren(P,!0),T=T.reduce({simplify:C}),k&&k.insert==!1||T.insertAbove(w&&x.isSibling(w)&&x.getIndex()<w.getIndex()?w:x),T.copyAttributes(x,!0),T}function h(P){return P.hasOverlap()||P.isCrossing()}function f(P,C,x,w){if(w&&(w.trace==!1||w.stroke)&&/^(subtract|intersect)$/.test(x))return d(P,C,x);var k=u(P,!0),T=C&&P!==C&&u(C,!0),L=i[x];L[x]=!0,T&&(L.subtract||L.exclude)^(T.isClockwise()^k.isClockwise())&&T.reverse();var N=v(at.expand(k.getIntersections(T,h))),M=a(k),O=T&&a(T),D=[],U=[],F;function H(Se){for(var Ie=0,Le=Se.length;Ie<Le;Ie++){var ge=Se[Ie];g.push(D,ge._segments),g.push(U,ge.getCurves()),ge._overlapsOnly=!0}}function q(Se){for(var Ie=[],Le=0,ge=Se&&Se.length;Le<ge;Le++)Ie.push(U[Se[Le]]);return Ie}if(N.length){H(M),O&&H(O);for(var W=new Array(U.length),G=0,J=U.length;G<J;G++)W[G]=U[G].getValues();for(var se=ie.findCurveBoundsCollisions(W,W,0,!0),he={},G=0;G<U.length;G++){var ve=U[G],ye=ve._path._id,ue=he[ye]=he[ye]||{};ue[ve.getIndex()]={hor:q(se[G].hor),ver:q(se[G].ver)}}for(var G=0,J=N.length;G<J;G++)E(N[G]._segment,k,T,he,L);for(var G=0,J=D.length;G<J;G++){var oe=D[G],we=oe._intersection;oe._winding||E(oe,k,T,he,L),we&&we._overlap||(oe._path._overlapsOnly=!1)}F=I(D,L)}else F=m(O?M.concat(O):M.slice(),function(Se){return!!L[Se]});return l(F,!0,P,C,w)}function d(P,C,x){var w=u(P),k=u(C),T=w.getIntersections(k,h),L=x==="subtract",N=x==="divide",M={},O=[];function D(H){if(!M[H._id]&&(N||k.contains(H.getPointAt(H.getLength()/2))^L))return O.unshift(H),M[H._id]=!0}for(var U=T.length-1;U>=0;U--){var F=T[U].split();F&&(D(F)&&F.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}return D(w),l(O,!1,P,C)}function _(P,C){for(var x=P;x;){if(x===C)return;x=x._previous}for(;P._next&&P._next!==C;)P=P._next;if(!P._next){for(;C._previous;)C=C._previous;P._next=C,C._previous=P}}function y(P){for(var C=P.length-1;C>=0;C--)P[C].clearHandles()}function m(P,C,x){var w=P&&P.length;if(w){var k=g.each(P,function(se,he){this[se._id]={container:null,winding:se.isClockwise()?1:-1,index:he}},{}),T=P.slice().sort(function(se,he){return t(he.getArea())-t(se.getArea())}),L=T[0],N=ie.findItemBoundsCollisions(T,null,ne.GEOMETRIC_EPSILON);x==null&&(x=L.isClockwise());for(var M=0;M<w;M++){var O=T[M],D=k[O._id],U=0,F=N[M];if(F){for(var H=null,q=F.length-1;q>=0;q--)if(F[q]<M){H=H||O.getInteriorPoint();var W=T[F[q]];if(W.contains(H)){var G=k[W._id];U=G.winding,D.winding+=U,D.container=G.exclude?G.container:W;break}}}if(C(D.winding)===C(U))D.exclude=!0,P[D.index]=null;else{var J=D.container;O.setClockwise(J?!J.isClockwise():x)}}}return P}function v(P,C,x){var w=C&&[],k=1e-8,T=1-k,L=!1,N=x||[],M=x&&{},O,D,U;function F(Ie){return Ie._path._id+"."+Ie._segment1._index}for(var H=(x&&x.length)-1;H>=0;H--){var q=x[H];q._path&&(M[F(q)]=!0)}for(var H=P.length-1;H>=0;H--){var W=P[H],G=W._time,J=G,se=C&&!C(W),q=W._curve,he;if(q&&(q!==D?(L=!q.hasHandles()||M&&M[F(q)],O=[],U=null,D=q):U>=k&&(G/=U)),se){O&&O.push(W);continue}else C&&w.unshift(W);if(U=J,G<k)he=q._segment1;else if(G>T)he=q._segment2;else{var ve=q.divideAtTime(G,!0);L&&N.push(q,ve),he=ve._segment1;for(var ye=O.length-1;ye>=0;ye--){var ue=O[ye];ue._time=(ue._time-G)/(1-G)}}W._setSegment(he);var oe=he._intersection,we=W._intersection;if(oe){_(oe,we);for(var Se=oe;Se;)_(Se._intersection,oe),Se=Se._next}else he._intersection=we}return x||y(N),w||P}function S(P,C,x,w,k){var T=Array.isArray(C)?C:C[x?"hor":"ver"],L=x?1:0,N=L^1,M=[P.x,P.y],O=M[L],D=M[N],U=1e-9,F=1e-6,H=O-U,q=O+U,W=0,G=0,J=0,se=0,he=!1,ve=!1,ye=1,ue=[],oe,we;function Se(Qe){var Ge=Qe[N+0],dt=Qe[N+6];if(!(D<r(Ge,dt)||D>e(Ge,dt))){var ft=Qe[L+0],mt=Qe[L+2],Vt=Qe[L+4],qt=Qe[L+6];if(Ge===dt){(ft<q&&qt>H||qt<q&&ft>H)&&(he=!0);return}var At=D===Ge?0:D===dt||H>e(ft,mt,Vt,qt)||q<r(ft,mt,Vt,qt)?1:ae.solveCubic(Qe,N,D,ue,0,1)>0?ue[0]:1,He=At===0?ft:At===1?qt:ae.getPoint(Qe,At)[x?"y":"x"],bt=Ge>dt?1:-1,Ut=oe[N]>oe[N+6]?1:-1,Gt=oe[L+6];return D!==Ge?(He<H?J+=bt:He>q?se+=bt:he=!0,He>O-F&&He<O+F&&(ye/=2)):(bt!==Ut?ft<H?J+=bt:ft>q&&(se+=bt):ft!=Gt&&(Gt<q&&He>q?(se+=bt,he=!0):Gt>H&&He<H&&(J+=bt,he=!0)),ye/=4),oe=Qe,!k&&He>H&&He<q&&ae.getTangent(Qe,At)[x?"x":"y"]===0&&S(P,C,!x,w,!0)}}function Ie(Qe){var Ge=Qe[N+0],dt=Qe[N+2],ft=Qe[N+4],mt=Qe[N+6];if(D<=e(Ge,dt,ft,mt)&&D>=r(Ge,dt,ft,mt)){for(var Vt=Qe[L+0],qt=Qe[L+2],At=Qe[L+4],He=Qe[L+6],bt=H>e(Vt,qt,At,He)||q<r(Vt,qt,At,He)?[Qe]:ae.getMonoCurves(Qe,x),Ut,Gt=0,un=bt.length;Gt<un;Gt++)if(Ut=Se(bt[Gt]))return Ut}}for(var Le=0,ge=T.length;Le<ge;Le++){var Me=T[Le],Re=Me._path,Ve=Me.getValues(),ot;if((!Le||T[Le-1]._path!==Re)&&(oe=null,Re._closed||(we=ae.getValues(Re.getLastCurve().getSegment2(),Me.getSegment1(),null,!w),we[N]!==we[N+6]&&(oe=we)),!oe)){oe=Ve;for(var ht=Re.getLastCurve();ht&&ht!==Me;){var lt=ht.getValues();if(lt[N]!==lt[N+6]){oe=lt;break}ht=ht.getPrevious()}}if(ot=Ie(Ve))return ot;if(Le+1===ge||T[Le+1]._path!==Re){if(we&&(ot=Ie(we)))return ot;he&&!J&&!se&&(J=se=Re.isClockwise(w)^x?1:-1),W+=J,G+=se,J=se=0,he&&(ve=!0,he=!1),we=null}}return W=t(W),G=t(G),{winding:e(W,G),windingL:W,windingR:G,quality:ye,onPath:ve}}function E(P,C,x,w,k){var T=[],L=P,N=0,U;do{var M=P.getCurve();if(M){var O=M.getLength();T.push({segment:P,curve:M,length:O}),N+=O}P=P.getNext()}while(P&&!P._intersection&&P!==L);for(var D=[.5,.25,.75],U={winding:0,quality:-1},F=.001,H=1-F,q=0;q<D.length&&U.quality<.5;q++)for(var O=N*D[q],W=0,G=T.length;W<G;W++){var J=T[W],se=J.length;if(O<=se){var M=J.curve,he=M._path,ve=he._parent,ye=ve instanceof Be?ve:he,ue=ne.clamp(M.getTimeAt(O),F,H),oe=M.getPointAtTime(ue),we=t(M.getTangentAtTime(ue).y)<Math.SQRT1_2,Se=null;if(k.subtract&&x){var Ie=ye===C?x:C,Le=Ie._getWinding(oe,we,!0);if(ye===C&&Le.winding||ye===x&&!Le.winding){if(Le.quality<1)continue;Se={winding:0,quality:1}}}Se=Se||S(oe,w[he._id][M.getIndex()],we,!0),Se.quality>U.quality&&(U=Se);break}O-=se}for(var W=T.length-1;W>=0;W--)T[W].segment._winding=U}function I(P,C){var x=[],w;function k(ge){var Me;return!!(ge&&!ge._visited&&(!C||C[(Me=ge._winding||{}).winding]&&!(C.unite&&Me.winding===2&&Me.windingL&&Me.windingR)))}function T(ge){if(ge){for(var Me=0,Re=w.length;Me<Re;Me++)if(ge===w[Me])return!0}return!1}function L(ge){for(var Me=ge._segments,Re=0,Ve=Me.length;Re<Ve;Re++)Me[Re]._visited=!0}function N(ge,Me){var Re=ge._intersection,Ve=Re,ot=[];Me&&(w=[ge]);function ht(lt,Qe){for(;lt&&lt!==Qe;){var Ge=lt._segment,dt=Ge&&Ge._path;if(dt){var ft=Ge.getNext()||dt.getFirstSegment(),mt=ft._intersection;Ge!==ge&&(T(Ge)||T(ft)||ft&&k(Ge)&&(k(ft)||mt&&k(mt._segment)))&&ot.push(Ge),Me&&w.push(Ge)}lt=lt._next}}if(Re){for(ht(Re);Re&&Re._previous;)Re=Re._previous;ht(Re,Ve)}return ot}P.sort(function(ge,Me){var Re=ge._intersection,Ve=Me._intersection,ot=!!(Re&&Re._overlap),ht=!!(Ve&&Ve._overlap),lt=ge._path,Qe=Me._path;return ot^ht?ot?1:-1:!Re^!Ve?Re?1:-1:lt!==Qe?lt._id-Qe._id:ge._index-Me._index});for(var M=0,O=P.length;M<O;M++){var D=P[M],U=k(D),F=null,H=!1,q=!0,W=[],G,J,se;if(U&&D._path._overlapsOnly){var he=D._path,ve=D._intersection._segment._path;he.compare(ve)&&(he.getArea()&&x.push(he.clone(!1)),L(he),L(ve),U=!1)}for(;U;){var ye=!F,ue=N(D,ye),oe=ue.shift(),H=!ye&&(T(D)||T(oe)),we=!H&&oe;if(ye&&(F=new Ce(R.NO_INSERT),G=null),H){(D.isFirst()||D.isLast())&&(q=D._path._closed),D._visited=!0;break}if(we&&G&&(W.push(G),G=null),G||(we&&ue.push(D),G={start:F._segments.length,crossings:ue,visited:J=[],handleIn:se}),we&&(D=oe),!k(D)){F.removeSegments(G.start);for(var Se=0,Ie=J.length;Se<Ie;Se++)J[Se]._visited=!1;J.length=0;do D=G&&G.crossings.shift(),(!D||!D._path)&&(D=null,G=W.pop(),G&&(J=G.visited,se=G.handleIn));while(G&&!k(D));if(!D)break}var Le=D.getNext();F.add(new be(D._point,se,Le&&D._handleOut)),D._visited=!0,J.push(D),D=Le||D._path.getFirstSegment(),se=Le&&Le._handleIn}H&&(q&&(F.getFirstSegment().setHandleIn(se),F.setClosed(q)),F.getArea()!==0&&x.push(F))}return x}return{_getWinding:function(P,C,x){return S(P,this.getCurves(),C,x)},unite:function(P,C){return f(this,P,"unite",C)},intersect:function(P,C){return f(this,P,"intersect",C)},subtract:function(P,C){return f(this,P,"subtract",C)},exclude:function(P,C){return f(this,P,"exclude",C)},divide:function(P,C){return C&&(C.trace==!1||C.stroke)?d(this,P,"divide"):l([this.subtract(P,C),this.intersect(P,C)],!0,this,P,C)},resolveCrossings:function(){var P=this._children,C=P||[this];function x(G,J){var se=G&&G._intersection;return se&&se._overlap&&se._path===J}var w=!1,k=!1,T=this.getIntersections(null,function(G){return G.hasOverlap()&&(w=!0)||G.isCrossing()&&(k=!0)}),L=w&&k&&[];if(T=at.expand(T),w)for(var N=v(T,function(G){return G.hasOverlap()},L),M=N.length-1;M>=0;M--){var O=N[M],D=O._path,U=O._segment,F=U.getPrevious(),H=U.getNext();x(F,D)&&x(H,D)&&(U.remove(),F._handleOut._set(0,0),H._handleIn._set(0,0),F!==U&&!F.getCurve().hasLength()&&(H._handleIn.set(F._handleIn),F.remove()))}k&&(v(T,w&&function(G){var J=G.getCurve(),se=G.getSegment(),he=G._intersection,ve=he._curve,ye=he._segment;if(J&&ve&&J._path&&ve._path)return!0;se&&(se._intersection=null),ye&&(ye._intersection=null)},L),L&&y(L),C=I(g.each(C,function(G){g.push(this,G._segments)},[])));var q=C.length,W;return q>1&&P?(C!==P&&this.setChildren(C),W=this):q===1&&!P&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),W=this),W||(W=new Be(R.NO_INSERT),W.addChildren(C),W=W.reduce(),W.copyAttributes(this),this.replaceWith(W)),W},reorient:function(P,C){var x=this._children;return x&&x.length?this.setChildren(m(this.removeChildren(),function(w){return!!(P?w:w&1)},C)):C!==o&&this.setClockwise(C),this},getInteriorPoint:function(){var P=this.getBounds(),C=P.getCenter(!0);if(!this.contains(C)){for(var x=this.getCurves(),w=C.y,k=[],T=[],L=0,N=x.length;L<N;L++){var M=x[L].getValues(),O=M[1],D=M[3],U=M[5],F=M[7];if(w>=r(O,D,U,F)&&w<=e(O,D,U,F))for(var H=ae.getMonoCurves(M),q=0,W=H.length;q<W;q++){var G=H[q],J=G[1],se=G[7];if(J!==se&&(w>=J&&w<=se||w>=se&&w<=J)){var he=w===J?G[0]:w===se?G[6]:ae.solveCubic(G,1,w,T,0,1)===1?ae.getPoint(G,T[0]).x:(G[0]+G[6])/2;k.push(he)}}}k.length>1&&(k.sort(function(ve,ye){return ve-ye}),C.x=(k[0]+k[1])/2)}return C}}});var et=g.extend({_class:"PathFlattener",initialize:function(r,e,t,i,a){var u=[],l=[],h=0,f=1/(t||32),d=r._segments,_=d[0],y;function m(I,P){var C=ae.getValues(I,P,a);u.push(C),v(C,I._index,0,1)}function v(I,P,C,x){if(x-C>f&&!(i&&ae.isStraight(I))&&!ae.isFlatEnough(I,e||.25)){var w=ae.subdivide(I,.5),k=(C+x)/2;v(w[0],P,C,k),v(w[1],P,k,x)}else{var T=I[6]-I[0],L=I[7]-I[1],N=Math.sqrt(T*T+L*L);N>0&&(h+=N,l.push({offset:h,curve:I,index:P,time:x}))}}for(var S=1,E=d.length;S<E;S++)y=d[S],m(_,y),_=y;r._closed&&m(y||_,d[0]),this.curves=u,this.parts=l,this.length=h,this.index=0},_get:function(r){for(var e=this.parts,t=e.length,i,a=this.index;i=a,!(!a||e[--a].offset<r););for(;i<t;i++){var u=e[i];if(u.offset>=r){this.index=i;var l=e[i-1],h=l&&l.index===u.index?l.time:0,f=l?l.offset:0;return{index:u.index,time:h+(u.time-h)*(r-f)/(u.offset-f)}}}return{index:e[t-1].index,time:1}},drawPart:function(r,e,t){for(var i=this._get(e),a=this._get(t),u=i.index,l=a.index;u<=l;u++){var h=ae.getPart(this.curves[u],u===i.index?i.time:0,u===a.index?a.time:1);u===i.index&&r.moveTo(h[0],h[1]),r.bezierCurveTo.apply(r,h.slice(2))}}},g.each(ae._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this._get(e);return ae[r](this.curves[t.index],t.time)}},{})),ut=g.extend({initialize:function(r){for(var e=this.points=[],t=r._segments,i=r._closed,a=0,u,l=t.length;a<l;a++){var h=t[a].point;(!u||!u.equals(h))&&e.push(u=h.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(r){var e=this.points,t=e.length,i=null;return t>0&&(i=[new be(e[0])],t>1&&(this.fitCubic(i,r,0,t-1,e[1].subtract(e[0]),e[t-2].subtract(e[t-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(r,e,t,i,a,u){var l=this.points;if(i-t===1){var h=l[t],f=l[i],d=h.getDistance(f)/3;this.addCurve(r,[h,h.add(a.normalize(d)),f.add(u.normalize(d)),f]);return}for(var _=this.chordLengthParameterize(t,i),y=Math.max(e,e*e),m,v=!0,S=0;S<=4;S++){var E=this.generateBezier(t,i,_,a,u),I=this.findMaxError(t,i,E,_);if(I.error<e&&v){this.addCurve(r,E);return}if(m=I.index,I.error>=y)break;v=this.reparameterize(t,i,_,E),y=I.error}var P=l[m-1].subtract(l[m+1]);this.fitCubic(r,e,t,m,a,P),this.fitCubic(r,e,m,i,P.negate(),u)},addCurve:function(r,e){var t=r[r.length-1];t.setHandleOut(e[1].subtract(e[0])),r.push(new be(e[3],e[2].subtract(e[3])))},generateBezier:function(r,e,t,i,a){for(var u=1e-12,l=Math.abs,h=this.points,f=h[r],d=h[e],_=[[0,0],[0,0]],y=[0,0],m=0,v=e-r+1;m<v;m++){var S=t[m],E=1-S,I=3*S*E,P=E*E*E,C=I*E,x=I*S,w=S*S*S,k=i.normalize(C),T=a.normalize(x),L=h[r+m].subtract(f.multiply(P+C)).subtract(d.multiply(x+w));_[0][0]+=k.dot(k),_[0][1]+=k.dot(T),_[1][0]=_[0][1],_[1][1]+=T.dot(T),y[0]+=k.dot(L),y[1]+=T.dot(L)}var N=_[0][0]*_[1][1]-_[1][0]*_[0][1],M,O;if(l(N)>u){var D=_[0][0]*y[1]-_[1][0]*y[0],U=y[0]*_[1][1]-y[1]*_[0][1];M=U/N,O=D/N}else{var F=_[0][0]+_[0][1],H=_[1][0]+_[1][1];M=O=l(F)>u?y[0]/F:l(H)>u?y[1]/H:0}var q=d.getDistance(f),W=u*q,G,J;if(M<W||O<W)M=O=q/3;else{var se=d.subtract(f);G=i.normalize(M),J=a.normalize(O),G.dot(se)-J.dot(se)>q*q&&(M=O=q/3,G=J=null)}return[f,f.add(G||i.normalize(M)),d.add(J||a.normalize(O)),d]},reparameterize:function(r,e,t,i){for(var a=r;a<=e;a++)t[a-r]=this.findRoot(i,this.points[a],t[a-r]);for(var a=1,u=t.length;a<u;a++)if(t[a]<=t[a-1])return!1;return!0},findRoot:function(r,e,t){for(var i=[],a=[],u=0;u<=2;u++)i[u]=r[u+1].subtract(r[u]).multiply(3);for(var u=0;u<=1;u++)a[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,r,t),h=this.evaluate(2,i,t),f=this.evaluate(1,a,t),d=l.subtract(e),_=h.dot(h)+d.dot(f);return ne.isMachineZero(_)?t:t-d.dot(h)/_},evaluate:function(r,e,t){for(var i=e.slice(),a=1;a<=r;a++)for(var u=0;u<=r-a;u++)i[u]=i[u].multiply(1-t).add(i[u+1].multiply(t));return i[0]},chordLengthParameterize:function(r,e){for(var t=[0],i=r+1;i<=e;i++)t[i-r]=t[i-r-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,a=e-r;i<=a;i++)t[i]/=t[a];return t},findMaxError:function(r,e,t,i){for(var a=Math.floor((e-r+1)/2),u=0,l=r+1;l<e;l++){var h=this.evaluate(3,t,i[l-r]),f=h.subtract(this.points[l]),d=f.x*f.x+f.y*f.y;d>=u&&(u=d,a=l)}return{error:u,index:a}}}),Rt=R.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&g.isPlainObject(e)&&e.x===o&&e.y===o;this._initialize(t&&e,!t&&z.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ft=Rt.extend({_class:"PointText",initialize:function(){Rt.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new me(r.x,r.y,this,"setPoint")},setPoint:function(){var r=z.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,e,t){if(!!this._content){this._setStyles(r,e,t);var i=this._lines,a=this._style,u=a.hasFill(),l=a.hasStroke(),h=a.getLeading(),f=r.shadowColor;r.font=a.getFontStyle(),r.textAlign=a.getJustification();for(var d=0,_=i.length;d<_;d++){r.shadowColor=f;var y=i[d];u&&(r.fillText(y,0,0),r.shadowColor="rgba(0,0,0,0)"),l&&r.strokeText(y,0,0),r.translate(0,h)}}},_getBounds:function(r,e){var t=this._style,i=this._lines,a=i.length,u=t.getJustification(),l=t.getLeading(),h=this.getView().getTextWidth(t.getFontStyle(),i),f=0;u!=="left"&&(f-=h/(u==="center"?2:1));var d=new K(f,a?-.75*l:0,h,a*l);return r?r._transformBounds(d,d):d}}),We=g.extend(new function(){var r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},t={transparent:[0,0,0,0]},i;function a(h){var f=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),d="rgb",_;if(f){var y=f[4]?4:3;_=new Array(y);for(var m=0;m<y;m++){var v=f[m+1];_[m]=parseInt(v.length==1?v+v:v,16)/255}}else if(f=h.match(/^(rgb|hsl)a?\((.*)\)$/)){d=f[1],_=f[2].trim().split(/[,\s]+/g);for(var S=d==="hsl",m=0,E=Math.min(_.length,4);m<E;m++){var I=_[m],v=parseFloat(I);if(S)if(m===0){var P=I.match(/([a-z]*)$/)[1];v*={turn:360,rad:180/Math.PI,grad:.9}[P]||1}else m<3&&(v/=100);else m<3&&(v/=/%$/.test(I)?100:255);_[m]=v}}else{var C=t[h];if(!C)if(p){i||(i=kt.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=h,i.fillRect(0,0,1,1);var x=i.getImageData(0,0,1,1).data;C=t[h]=[x[0]/255,x[1]/255,x[2]/255]}else C=[0,0,0];_=C.slice()}return[d,_]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(h,f,d){var _=Math.max(h,f,d),y=Math.min(h,f,d),m=_-y,v=m===0?0:(_==h?(f-d)/m+(f<d?6:0):_==f?(d-h)/m+2:(h-f)/m+4)*60;return[v,_===0?0:m/_,_]},"hsb-rgb":function(h,f,d){h=(h/60%6+6)%6;var y=Math.floor(h),_=h-y,y=u[y],m=[d,d*(1-f),d*(1-f*_),d*(1-f*(1-_))];return[m[y[0]],m[y[1]],m[y[2]]]},"rgb-hsl":function(h,f,d){var _=Math.max(h,f,d),y=Math.min(h,f,d),m=_-y,v=m===0,S=v?0:(_==h?(f-d)/m+(f<d?6:0):_==f?(d-h)/m+2:(h-f)/m+4)*60,E=(_+y)/2,I=v?0:E<.5?m/(_+y):m/(2-_-y);return[S,I,E]},"hsl-rgb":function(h,f,d){if(h=(h/360%1+1)%1,f===0)return[d,d,d];for(var _=[h+1/3,h,h-1/3],y=d<.5?d*(1+f):d+f-d*f,m=2*d-y,v=[],S=0;S<3;S++){var E=_[S];E<0&&(E+=1),E>1&&(E-=1),v[S]=6*E<1?m+(y-m)*6*E:2*E<1?y:3*E<2?m+(y-m)*(2/3-E)*6:m}return v},"rgb-gray":function(h,f,d){return[h*.2989+f*.587+d*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(r,function(h,f){e[f]=[],g.each(h,function(d,_){var y=g.capitalize(d),m=/^(hue|saturation)$/.test(d),v=e[f][_]=f==="gradient"?d==="gradient"?function(S){var E=this._components[0];return S=Dt.read(Array.isArray(S)?S:arguments,0,{readNull:!0}),E!==S&&(E&&E._removeOwner(this),S&&S._addOwner(this)),S}:function(){return z.read(arguments,0,{readNull:d==="highlight",clone:!0})}:function(S){return S==null||isNaN(S)?0:+S};this["get"+y]=function(){return this._type===f||m&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(f)[_]},this["set"+y]=function(S){this._type!==f&&!(m&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(f),this._properties=r[f],this._type=f),this._components[_]=v.call(this,S),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(f){var d=arguments,_=this.__read,y=0,m,v,S,E;Array.isArray(f)&&(d=f,f=d[0]);var I=f!=null&&typeof f;if(I==="string"&&f in r&&(m=f,f=d[1],Array.isArray(f)?(v=f,S=d[2]):(_&&(y=1),d=g.slice(d,1),I=typeof f)),!v){if(E=I==="number"?d:I==="object"&&f.length!=null?f:null,E){m||(m=E.length>=3?"rgb":"gray");var P=r[m].length;S=E[P],_&&(y+=E===arguments?P+(S!=null?1:0):1),E.length>P&&(E=g.slice(E,0,P))}else if(I==="string"){var C=a(f);m=C[0],v=C[1],v.length===4&&(S=v[3],v.length--)}else if(I==="object")if(f.constructor===h){if(m=f._type,v=f._components.slice(),S=f._alpha,m==="gradient")for(var x=1,w=v.length;x<w;x++){var k=v[x];k&&(v[x]=k.clone())}}else if(f.constructor===Dt)m="gradient",E=d;else{m="hue"in f?"lightness"in f?"hsl":"hsb":"gradient"in f||"stops"in f||"radial"in f?"gradient":"gray"in f?"gray":"rgb";var T=r[m],L=e[m];this._components=v=[];for(var x=0,w=T.length;x<w;x++){var N=f[T[x]];N==null&&!x&&m==="gradient"&&"stops"in f&&(N={stops:f.stops,radial:f.radial}),N=L[x].call(this,N),N!=null&&(v[x]=N)}S=f.alpha}_&&m&&(y=1)}if(this._type=m||"rgb",!v){this._components=v=[];for(var L=e[this._type],x=0,w=L.length;x<w;x++){var N=L[x].call(this,E&&E[x]);N!=null&&(v[x]=N)}}return this._components=v,this._properties=r[this._type],this._alpha=S,_&&(this.__read=y),this},set:"#initialize",_serialize:function(h,f){var d=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?d:[this._type].concat(d),h,!0,f)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var f;return this._type===h?this._components.slice():(f=l[this._type+"-"+h])?f.apply(this,this._components):l["rgb-"+h].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new We(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=r[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var f=g.isPlainValue(h,!0)?We.read(arguments):h;return f===this||f&&this._class===f._class&&this._type===f._type&&this.getAlpha()===f.getAlpha()&&g.equals(this._components,f._components)||!1},toString:function(){for(var h=this._properties,f=[],d=this._type==="gradient",_=le.instance,y=0,m=h.length;y<m;y++){var v=this._components[y];v!=null&&f.push(h[y]+": "+(d?v:_.number(v)))}return this._alpha!=null&&f.push("alpha: "+_.number(this._alpha)),"{ "+f.join(", ")+" }"},toCSS:function(h){var f=this._convert("rgb"),d=h||this._alpha==null?1:this._alpha;function _(y){return Math.round((y<0?0:y>1?1:y)*255)}return f=[_(f[0]),_(f[1]),_(f[2])],d<1&&f.push(d<0?0:d),h?"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1):(f.length==4?"rgba(":"rgb(")+f.join(",")+")"},toCanvasStyle:function(h,f){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var d=this._components,_=d[0],y=_._stops,m=d[1],v=d[2],S=d[3],E=f&&f.inverted(),I;if(E&&(m=E._transformPoint(m),v=E._transformPoint(v),S&&(S=E._transformPoint(S))),_._radial){var P=v.getDistance(m);if(S){var C=S.subtract(m);C.getLength()>P&&(S=m.add(C.normalize(P-.1)))}var x=S||m;I=h.createRadialGradient(x.x,x.y,0,m.x,m.y,P)}else I=h.createLinearGradient(m.x,m.y,v.x,v.y);for(var w=0,k=y.length;w<k;w++){var T=y[w],L=T._offset;I.addColorStop(L==null?w/(k-1):L,T._color.toCanvasStyle())}return this._canvasStyle=I},transform:function(h){if(this._type==="gradient"){for(var f=this._components,d=1,_=f.length;d<_;d++){var y=f[d];h._transformPoint(y,y,!0)}this._changed()}},statics:{_types:r,random:function(){var h=Math.random;return new We(h(),h(),h())},_setOwner:function(h,f,d){return h&&(h._owner&&f&&h._owner!==f&&(h=h.clone()),!h._owner^!f&&(h._owner=f||null,h._setter=d||null)),h}}})},new function(){var r={add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}};return g.each(r,function(e,t){this[t]=function(i){i=We.read(arguments);for(var a=this._type,u=this._components,l=i._convert(a),h=0,f=u.length;h<f;h++)l[h]=e(u[h],l[h]);return new We(a,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),Dt=g.extend({_class:"Gradient",initialize:function(e,t){this._id=fe.get(),e&&g.isPlainObject(e)&&(this.set(e),e=t=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof t=="string"&&t==="radial"||t||!1)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._stops,this._radial],r,!0,e)})},_changed:function(){for(var r=0,e=this._owners&&this._owners.length;r<e;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var e=this._owners?this._owners.indexOf(r):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var r=[],e=0,t=this._stops.length;e<t;e++)r[e]=this._stops[e].clone();return new Dt(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var t=0,i=e.length;t<i;t++)e[t]._owner=o;e=this._stops=tn.readList(r,0,{clone:!0});for(var t=0,i=e.length;t<i;t++)e[t]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var e=this._stops,t=r._stops,i=e.length;if(i===t.length){for(var a=0;a<i;a++)if(!e[a].equals(t[a]))return!1;return!0}}return!1}}),tn=g.extend({_class:"GradientStop",initialize:function(e,t){var i=e,a=t;typeof e=="object"&&t===o&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],a=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,a=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(a)},clone:function(){return new tn(this._color.clone(),this._offset)},_serialize:function(r,e){var t=this._color,i=this._offset;return g.serialize(i==null?[t]:[t,i],r,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){We._setOwner(this._color,null),this._color=We._setOwner(We.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),Sn=g.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new z,selectedColor:null},e=g.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),t=g.set({},e,{fillColor:new We}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},u={_class:"Style",beans:!0,initialize:function(h,f,d){this._values={},this._owner=f,this._project=f&&f._project||d||nt.project,this._defaults=!f||f instanceof ke?e:f instanceof Rt?t:r,h&&this.set(h)}};return g.each(e,function(l,h){var f=/Color$/.test(h),d=h==="shadowOffset",_=g.capitalize(h),y=i[h],m="set"+_,v="get"+_;u[m]=function(S){var E=this._owner,I=E&&E._children,P=I&&I.length>0&&!(E instanceof Be);if(P)for(var C=0,x=I.length;C<x;C++)I[C]._style[m](S);if((h==="selectedColor"||!P)&&h in this._defaults){var w=this._values[h];w!==S&&(f&&(w&&(We._setOwner(w,null),w._canvasStyle=null),S&&S.constructor===We&&(S=We._setOwner(S,E,P&&m))),this._values[h]=S,E&&E._changed(y||129))}},u[v]=function(S){var E=this._owner,I=E&&E._children,P=I&&I.length>0&&!(E instanceof Be),C;if(P&&!S)for(var x=0,w=I.length;x<w;x++){var k=I[x]._style[v]();if(!x)C=k;else if(!g.equals(C,k))return o}else if(h in this._defaults){var C=this._values[h];if(C===o)C=this._defaults[h],C&&C.clone&&(C=C.clone());else{var T=f?We:d?z:null;T&&!(C&&C.constructor===T)&&(this._values[h]=C=T.read([C],0,{readNull:!0,clone:!0}))}}return C&&f&&(C=We._setOwner(C,E,P&&m)),C},a[v]=function(S){return this._style[v](S)},a[m]=function(S){this._style[m](S)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,h){var f="get"+h,d="set"+h;u[f]=a[f]="#get"+l,u[d]=a[d]="#set"+l}),R.inject(a),u},{set:function(r){var e=r instanceof Sn,t=e?r._values:r;if(t){for(var i in t)if(i in this._defaults){var a=t[i];this[i]=a&&e&&a.clone?a.clone():a}}},equals:function(r){function e(t,i,a){var u=t._values,l=i._values,h=i._defaults;for(var f in u){var d=u[f],_=l[f];if(!(a&&f in l)&&!g.equals(d,_===o?h[f]:_))return!1}return!0}return r===this||r&&this._class===r._class&&e(this,r)&&e(r,this,!0)||!1},_dispose:function(){var r;r=this.getFillColor(),r&&(r._canvasStyle=null),r=this.getStrokeColor(),r&&(r._canvasStyle=null),r=this.getShadowColor(),r&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var e=r.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),e!=null?e:t*1.2}}),Ze=new function(){function r(e,t,i,a){for(var u=["","webkit","moz","Moz","ms","o"],l=t[0].toUpperCase()+t.substring(1),h=0;h<6;h++){var f=u[h],d=f?f+l:t;if(d in e){if(i)e[d]=a;else return e[d];break}}}return{getStyles:function(e){var t=e&&e.nodeType!==9?e.ownerDocument:e,i=t&&t.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,t){var i=e.ownerDocument,a=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch(_){l={left:0,top:0,width:0,height:0}}var h=l.left-(u.clientLeft||a.clientLeft||0),f=l.top-(u.clientTop||a.clientTop||0);if(!t){var d=i.defaultView;h+=d.pageXOffset||u.scrollLeft||a.scrollLeft,f+=d.pageYOffset||u.scrollTop||a.scrollTop}return new K(h,f,l.width,l.height)},getViewportBounds:function(e){var t=e.ownerDocument,i=t.defaultView,a=t.documentElement;return new K(0,0,i.innerWidth||a.clientWidth,i.innerHeight||a.clientHeight)},getOffset:function(e,t){return Ze.getBounds(e,t).getPoint()},getSize:function(e){return Ze.getBounds(e,!0).getSize()},isInvisible:function(e){return Ze.getSize(e).equals(new te(0,0))},isInView:function(e){return!Ze.isInvisible(e)&&Ze.getViewportBounds(e).intersects(Ze.getBounds(e,!0))},isInserted:function(e){return b.body.contains(e)},getPrefixed:function(e,t){return e&&r(e,t)},setPrefixed:function(e,t,i){if(typeof t=="object")for(var a in t)r(e,a,!0,t[a]);else r(e,t,!0,i)}}},tt={add:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++){var h=a[u],f=r===b&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;r.addEventListener(h,i,f)}},remove:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++)r.removeEventListener(a[u],i,!1)},getPoint:function(r){var e=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new z(e.pageX||e.clientX+b.documentElement.scrollLeft,e.pageY||e.clientY+b.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,e){return tt.getPoint(r).subtract(Ze.getOffset(e||tt.getTarget(r)))}};tt.requestAnimationFrame=new function(){var r=Ze.getPrefixed(p,"requestAnimationFrame"),e=!1,t=[],i;function a(){var u=t;t=[];for(var l=0,h=u.length;l<h;l++)u[l]();e=r&&t.length,e&&r(a)}return function(u){t.push(u),r?e||(r(a),e=!0):i||(i=setInterval(a,1e3/60))}};var Je=g.extend(B,{_class:"View",initialize:function r(e,t){function i(y){return t[y]||parseInt(t.getAttribute(y),10)}function a(){var y=Ze.getSize(t);return y.isNaN()||y.isZero()?new te(i("width"),i("height")):y}var u;if(p&&t){this._id=t.getAttribute("id"),this._id==null&&t.setAttribute("id",this._id="paper-view-"+r._id++),tt.add(t,this._viewEvents);var l="none";if(Ze.setPrefixed(t.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),Z.hasAttribute(t,"resize")){var h=this;tt.add(p,this._windowEvents={resize:function(){h.setViewSize(a())}})}if(u=a(),Z.hasAttribute(t,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var f=this._stats.domElement,d=f.style,_=Ze.getOffset(t);d.position="absolute",d.left=_.x+"px",d.top=_.y+"px",b.body.appendChild(f)}}else u=new te(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=p&&p.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new $)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!nt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Je._focused===this&&(Je._focused=null),Je._views.splice(Je._views.indexOf(this),1),delete Je._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),tt.remove(this._element,this._viewEvents),tt.remove(p,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(R._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;tt.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var e=r._element;(!Ze.getPrefixed(b,"hidden")||Z.getAttribute(e,"keepalive")==="true")&&Ze.isInView(e)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){nt=this._scope;var r=Date.now()/1e3,e=this._last?r-this._last:0;this._last=r,this.emit("frame",new g({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,e){var t=this._frameItems;e?(t[r._id]={item:r,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete t[r._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var e in this._frameItems){var t=this._frameItems[e];t.item.emit("frame",new g(r,{time:t.time+=r.delta,count:t.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var r=this._viewSize;return new Ae(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=te.read(arguments),e=r.subtract(this._viewSize);e.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(r,e){var t=this._element;t&&(t.width!==r&&(t.width=r),t.height!==e&&(t.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new K(new z,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ze.isInView(this._element)},isInserted:function(){return Ze.isInserted(this._element)},getPixelSize:function(r){var e=this._element,t;if(e){var i=e.parentNode,a=b.createElement("div");a.style.fontSize=r,i.appendChild(a),t=parseFloat(Ze.getStyles(a).fontSize),i.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(r,e){return 0}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:z).read(t),a=z.read(t,0,{readNull:!0});return this.transform(new $()[r](i,a||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new $;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=z.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform(new $().scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var e=this.getRotation();e!=null&&r!=null&&this.rotate(r-e)},getScaling:function(){var r=this._decompose().scaling;return new me(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=z.read(arguments,0,{clone:!0,readNull:!0});r&&e&&this.scale(e.x/r.x,e.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(z.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(z.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(z.read(arguments))},getEventPoint:function(r){return this.viewToProject(tt.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,e){b&&typeof e=="string"&&(e=b.getElementById(e));var t=p?hr:Je;return new t(r,e)}}},new function(){if(!p)return;var r,e,t=!1,i=!1;function a(U){var F=tt.getTarget(U);return F.getAttribute&&Je._viewsById[F.getAttribute("id")]}function u(){var U=Je._focused;if(!U||!U.isVisible()){for(var F=0,H=Je._views.length;F<H;F++)if((U=Je._views[F]).isVisible()){Je._focused=e=U;break}}}function l(U,F,H){U._handleMouseEvent("mousemove",F,H)}var h=p.navigator,f,d,_;h.pointerEnabled||h.msPointerEnabled?(f="pointerdown MSPointerDown",d="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",d="touchmove",_="touchend touchcancel","ontouchstart"in p&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",d+=" mousemove",_+=" mouseup"));var y={},m={mouseout:function(U){var F=Je._focused,H=tt.getRelatedTarget(U);if(F&&(!H||H.nodeName==="HTML")){var q=tt.getOffset(U,F._element),W=q.x,G=Math.abs,J=G(W),se=1<<25,he=J-se;q.x=G(he)<J?he*(W<0?-1:1):W,l(F,U,F.viewToProject(q))}},scroll:u};y[f]=function(U){var F=Je._focused=a(U);t||(t=!0,F._handleMouseEvent("mousedown",U))},m[d]=function(U){var F=Je._focused;if(!i){var H=a(U);H?F!==H&&(F&&l(F,U),r||(r=F),F=Je._focused=e=H):e&&e===F&&(r&&!r.isInserted()&&(r=null),F=Je._focused=r,r=null,u())}F&&l(F,U)},m[f]=function(){i=!0},m[_]=function(U){var F=Je._focused;F&&t&&F._handleMouseEvent("mouseup",U),i=t=!1},tt.add(b,m),tt.add(p,{load:u});var v=!1,S=!1,E={doubleclick:"click",mousedrag:"mousemove"},I=!1,P,C,x,w,k,T,L,N;function M(U,F,H,q,W,G,J){var se=!1,he;function ve(ye,ue){if(ye.responds(ue)){if(he||(he=new ti(ue,q,W,F||ye,G?W.subtract(G):null)),ye.emit(ue,he)&&(v=!0,he.prevented&&(S=!0),he.stopped))return se=!0}else{var oe=E[ue];if(oe)return ve(ye,oe)}}for(;U&&U!==J&&!ve(U,H);)U=U._parent;return se}function O(U,F,H,q,W,G){return U._project.removeOn(H),S=v=!1,k&&M(k,null,H,q,W,G)||F&&F!==k&&!F.isDescendant(k)&&M(F,null,H==="mousedrag"?"mousemove":H,q,W,G,k)||M(U,k||F||U,H,q,W,G)}var D={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:y,_handleMouseEvent:function(U,F,H){var q=this._itemEvents,W=q.native[U],G=U==="mousemove",J=this._scope.tool,se=this;function he(Ie){return q.virtual[Ie]||se.responds(Ie)||J&&J.responds(Ie)}G&&t&&he("mousedrag")&&(U="mousedrag"),H||(H=this.getEventPoint(F));var ve=this.getBounds().contains(H),ye=W&&ve&&se._project.hitTest(H,{tolerance:0,fill:!0,stroke:!0}),ue=ye&&ye.item||null,oe=!1,we={};if(we[U.substr(5)]=!0,W&&ue!==w&&(w&&M(w,null,"mouseleave",F,H),ue&&M(ue,null,"mouseenter",F,H),w=ue),I^ve&&(M(this,null,ve?"mouseenter":"mouseleave",F,H),oe=!0),(ve||we.drag)&&!H.equals(C)&&(O(this,ue,G?U:"mousemove",F,H,C),oe=!0),I=ve,we.down&&ve||we.up&&P){if(O(this,ue,U,F,H,P),we.down){if(N=ue===T&&Date.now()-L<300,x=T=ue,!S&&ue){for(var Se=ue;Se&&!Se.responds("mousedrag");)Se=Se._parent;Se&&(k=ue)}P=H}else we.up&&(!S&&ue===x&&(L=Date.now(),O(this,ue,N?"doubleclick":"click",F,H,P),N=!1),x=k=null);I=!1,oe=!0}C=H,oe&&J&&(v=J._handleMouseEvent(U,F,H,we)||v),F.cancelable!==!1&&(v&&!we.move||we.down&&he("mouseup"))&&F.preventDefault()},_handleKeyEvent:function(U,F,H,q){var W=this._scope,G=W.tool,J;function se(he){he.responds(U)&&(nt=W,he.emit(U,J=J||new Ui(U,F,H,q)))}this.isVisible()&&(se(this),G&&G.responds(U)&&se(G))},_countItemEvent:function(U,F){var H=this._itemEvents,q=H.native,W=H.virtual;for(var G in D)q[G]=(q[G]||0)+(D[G][U]||0)*F;W[U]=(W[U]||0)+F},statics:{updateFocus:u,_resetState:function(){t=i=v=I=!1,r=e=P=C=x=w=k=T=L=N=null}}}}),hr=Je.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof p.HTMLCanvasElement)){var i=te.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));t=kt.getCanvas(i)}var a=this._context=t.getContext("2d");if(a.save(),this._pixelRatio=1,!/^off|false$/.test(Z.getAttribute(t,"hidpi"))){var u=p.devicePixelRatio||1,l=Ze.getPrefixed(a,"backingStorePixelRatio")||1;this._pixelRatio=u/l}Je.call(this,e,t),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(e,t){var i=this._pixelRatio;if(r.base.call(this,e*i,t*i),i!==1){var a=this._element,u=this._context;if(!Z.hasAttribute(a,"resize")){var l=a.style;l.width=e+"px",l.height=t+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function r(e){var t=nt.agent,i;if(t&&t.firefox)i=r.base.call(this,e);else{var a=this._context,u=a.font;a.font=e+" serif",i=parseFloat(a.font),a.font=u}return i},getTextWidth:function(r,e){var t=this._context,i=t.font,a=0;t.font=r;for(var u=0,l=e.length;u<l;u++)a=Math.max(a,t.measureText(e[u]).width);return t.font=i,a},update:function(){if(!this._needsUpdate)return!1;var r=this._project,e=this._context,t=this._viewSize;return e.clearRect(0,0,t.width+1,t.height+1),r&&r.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Tn=g.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return di.modifiers}}),Ui=Tn.extend({_class:"KeyEvent",initialize:function(e,t,i,a){this.type=e,this.event=t,this.key=i,this.character=a},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),di=new function(){var r={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},t={},i={},a,u,l=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var d=nt&&nt.agent;return d&&d.mac?this.meta:this.control}}});function h(d){var _=d.key||d.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===o?String.fromCharCode(d.keyCode):_,r[_]||(_.length>1?g.hyphenate(_):_.toLowerCase())}function f(d,_,y,m){var v=Je._focused,S;if(t[_]=d,d?i[_]=y:delete i[_],_.length>1&&(S=g.camelize(_))in l){l[S]=d;var E=nt&&nt.agent;if(S==="meta"&&E&&E.mac)if(d)a={};else{for(var I in a)I in i&&f(!1,I,a[I],m);a=null}}else d&&a&&(a[_]=y);v&&v._handleKeyEvent(d?"keydown":"keyup",m,_,y)}return tt.add(b,{keydown:function(d){var _=h(d),y=nt&&nt.agent;_.length>1||y&&y.chrome&&(d.altKey||y.mac&&d.metaKey||!y.mac&&d.ctrlKey)?f(!0,_,e[_]||(_.length>1?"":_),d):u=_},keypress:function(d){if(u){var _=h(d),y=d.charCode,m=y>=32?String.fromCharCode(y):_.length>1?"":_;_!==u&&(_=m.toLowerCase()),f(!0,_,m,d),u=null}},keyup:function(d){var _=h(d);_ in i&&f(!1,_,i[_],d)}}),tt.add(p,{blur:function(d){for(var _ in i)f(!1,_,i[_],d)}}),{modifiers:l,isDown:function(d){return!!t[d]}}},ti=Tn.extend({_class:"MouseEvent",initialize:function(e,t,i,a,u){this.type=e,this.event=t,this.point=i,this.target=a,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Hi=Tn.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,i){this.tool=e,this.type=t,this.event=i},_choosePoint:function(r,e){return r||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var e=r.item,t=e._parent;/^(Group|CompoundPath)$/.test(t._class);)e=t,t=t._parent;this._item=e}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});Q.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){Q.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,r!=null&&this._maxDistance!=null&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,this._minDistance!=null&&r!=null&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,e,t,i){nt=this._scope,i.drag&&!this.responds(r)&&(r="mousemove");var a=i.move||i.drag,u=this.responds(r),l=this.minDistance,h=this.maxDistance,f=!1,d=this;function _(m,v){var S=t,E=a?d._point:d._downPoint||S;if(a){if(d._moveCount>=0&&S.equals(E))return!1;if(E&&(m!=null||v!=null)){var I=S.subtract(E),P=I.getLength();if(P<(m||0))return!1;v&&(S=E.add(I.normalize(Math.min(P,v))))}d._moveCount++}return d._point=S,d._lastPoint=E||S,i.down&&(d._moveCount=-1,d._downPoint=S,d._downCount++),!0}function y(){u&&(f=d.emit(r,new Hi(d,r,e))||f)}if(i.down)_(),y();else if(i.up)_(null,h),y();else if(u)for(;_(l,h);)y();return f}});var qi=g.extend(B,{_class:"Tween",statics:{easings:new g({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+2*(2-r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(e,t,i,a,u,l){this.object=e;var h=typeof u,f=h==="function";this.type=f?h:h==="string"?u:"linear",this.easing=f?u:r.easings[this.type],this.duration=a,this.running=!1,this._then=null,this._startTime=null;var d=t||i;this._keys=d?Object.keys(d):[],this._parsedKeys=this._parseKeys(this._keys),this._from=d&&this._getState(t),this._to=d&&this._getState(i),l!==!1&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var e=this.easing(r),t=this._keys,i=function(_){return typeof _=="function"?_(e,r):_},a=0,u=t&&t.length;a<u;a++){var l=t[a],h=i(this._from[l]),f=i(this._to[l]),d=h&&f&&h.__add&&f.__add?f.__subtract(h).__multiply(e).__add(h):(f-h)*e+h;this._setProperty(this._parsedKeys[l],d)}this.responds("update")&&this.emit("update",new g({progress:r,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var e=this._startTime,t=e?(r-e)/this.duration:0;e||(this._startTime=r),this.update(t)},_getState:function(r){for(var e=this._keys,t={},i=0,a=e.length;i<a;i++){var u=e[i],l=this._parsedKeys[u],h=this._getProperty(l),f;if(r){var d=this._resolveValue(h,r[u]);this._setProperty(l,d),f=this._getProperty(l),f=f&&f.clone?f.clone():f,this._setProperty(l,h)}else f=h&&h.clone?h.clone():h;t[u]=f}return t},_resolveValue:function(r,e){if(e){if(Array.isArray(e)&&e.length===2){var t=e[0];return t&&t.match&&t.match(/^[+\-\*\/]=/)?this._calculate(r,t[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var a=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,e[0],a)}}}return e},_calculate:function(r,e,t){return nt.PaperScript.calculateBinary(r,e,t)},_parseKeys:function(r){for(var e={},t=0,i=r.length;t<i;t++){var a=r[t],u=a.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[a]=u.split("/")}return e},_getProperty:function(r,e){for(var t=this.object,i=0,a=r.length-(e||0);i<a&&t;i++)t=t[r[i]];return t},_setProperty:function(r,e){var t=this._getProperty(r,1);t&&(t[r[r.length-1]]=e)}}),pi={request:function(r){var e=new s.XMLHttpRequest;return e.open((r.method||"get").toUpperCase(),r.url,g.pick(r.async,!0)),r.mimeType&&e.overrideMimeType(r.mimeType),e.onload=function(){var t=e.status;t===0||t===200?r.onLoad&&r.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var t=e.status,i='Could not load "'+r.url+'" (Status: '+t+")";if(r.onError)r.onError(i,t);else throw new Error(i)},e.send(null)}},kt=g.exports.CanvasProvider={canvases:[],getCanvas:function(r,e){if(!p)return null;var t,i=!0;typeof r=="object"&&(e=r.height,r=r.width),this.canvases.length?t=this.canvases.pop():(t=b.createElement("canvas"),i=!1);var a=t.getContext("2d");if(!a)throw new Error("Canvas "+t+" is unable to provide a 2D context.");return t.width===r&&t.height===e?i&&a.clearRect(0,0,r+1,e+1):(t.width=r,t.height=e),a.save(),t},getContext:function(r,e){var t=this.getCanvas(r,e);return t?t.getContext("2d"):null},release:function(r){var e=r&&r.canvas?r.canvas:r;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},pt=new function(){var r=Math.min,e=Math.max,t=Math.abs,i,a,u,l,h,f,d,_,y,m,v;function S(k,T,L){return .2989*k+.587*T+.114*L}function E(k,T,L,O){var M=O-S(k,T,L);y=k+M,m=T+M,v=L+M;var O=S(y,m,v),D=r(y,m,v),U=e(y,m,v);if(D<0){var F=O-D;y=O+(y-O)*O/F,m=O+(m-O)*O/F,v=O+(v-O)*O/F}if(U>255){var H=255-O,q=U-O;y=O+(y-O)*H/q,m=O+(m-O)*H/q,v=O+(v-O)*H/q}}function I(k,T,L){return e(k,T,L)-r(k,T,L)}function P(k,T,L,N){var M=[k,T,L],O=e(k,T,L),D=r(k,T,L),U;D=D===k?0:D===T?1:2,O=O===k?0:O===T?1:2,U=r(D,O)===0?e(D,O)===1?2:1:0,M[O]>M[D]?(M[U]=(M[U]-M[D])*N/(M[O]-M[D]),M[O]=N):M[U]=M[O]=0,M[D]=0,y=M[0],m=M[1],v=M[2]}var C={multiply:function(){y=h*i/255,m=f*a/255,v=d*u/255},screen:function(){y=h+i-h*i/255,m=f+a-f*a/255,v=d+u-d*u/255},overlay:function(){y=h<128?2*h*i/255:255-2*(255-h)*(255-i)/255,m=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=d<128?2*d*u/255:255-2*(255-d)*(255-u)/255},"soft-light":function(){var k=i*h/255;y=k+h*(255-(255-h)*(255-i)/255-k)/255,k=a*f/255,m=k+f*(255-(255-f)*(255-a)/255-k)/255,k=u*d/255,v=k+d*(255-(255-d)*(255-u)/255-k)/255},"hard-light":function(){y=i<128?2*i*h/255:255-2*(255-i)*(255-h)/255,m=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*d/255:255-2*(255-u)*(255-d)/255},"color-dodge":function(){y=h===0?0:i===255?255:r(255,255*h/(255-i)),m=f===0?0:a===255?255:r(255,255*f/(255-a)),v=d===0?0:u===255?255:r(255,255*d/(255-u))},"color-burn":function(){y=h===255?255:i===0?0:e(0,255-(255-h)*255/i),m=f===255?255:a===0?0:e(0,255-(255-f)*255/a),v=d===255?255:u===0?0:e(0,255-(255-d)*255/u)},darken:function(){y=h<i?h:i,m=f<a?f:a,v=d<u?d:u},lighten:function(){y=h>i?h:i,m=f>a?f:a,v=d>u?d:u},difference:function(){y=h-i,y<0&&(y=-y),m=f-a,m<0&&(m=-m),v=d-u,v<0&&(v=-v)},exclusion:function(){y=h+i*(255-h-h)/255,m=f+a*(255-f-f)/255,v=d+u*(255-d-d)/255},hue:function(){P(i,a,u,I(h,f,d)),E(y,m,v,S(h,f,d))},saturation:function(){P(h,f,d,I(i,a,u)),E(y,m,v,S(h,f,d))},luminosity:function(){E(h,f,d,S(i,a,u))},color:function(){E(i,a,u,S(h,f,d))},add:function(){y=r(h+i,255),m=r(f+a,255),v=r(d+u,255)},subtract:function(){y=e(h-i,0),m=e(f-a,0),v=e(d-u,0)},average:function(){y=(h+i)/2,m=(f+a)/2,v=(d+u)/2},negation:function(){y=255-t(255-i-h),m=255-t(255-a-f),v=255-t(255-u-d)}},x=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(k){this[k]=!0},{}),w=kt.getContext(1,1);w&&(g.each(C,function(k,T){var L=T==="darken",N=!1;w.save();try{w.fillStyle=L?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=T,w.globalCompositeOperation===T&&(w.fillStyle=L?"#a00":"#300",w.fillRect(0,0,1,1),N=w.getImageData(0,0,1,1).data[0]!==L?170:51)}catch(M){}w.restore(),x[T]=N}),kt.release(w)),this.process=function(k,T,L,N,M){var O=T.canvas,D=k==="normal";if(D||x[k])L.save(),L.setTransform(1,0,0,1,0,0),L.globalAlpha=N,D||(L.globalCompositeOperation=k),L.drawImage(O,M.x,M.y),L.restore();else{var U=C[k];if(!U)return;for(var F=L.getImageData(M.x,M.y,O.width,O.height),H=F.data,q=T.getImageData(0,0,O.width,O.height).data,W=0,G=H.length;W<G;W+=4){i=q[W],h=H[W],a=q[W+1],f=H[W+1],u=q[W+2],d=H[W+2],l=q[W+3],_=H[W+3],U();var J=l*N/255,se=1-J;H[W]=J*y+se*h,H[W+1]=J*m+se*f,H[W+2]=J*v+se*d,H[W+3]=l*N+se*_}L.putImageData(F,M.x,M.y)}}},St=new function(){var r="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",t="http://www.w3.org/1999/xlink",i={href:t,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function a(h,f,d){return l(b.createElementNS(r,h),f,d)}function u(h,f){var d=i[f],_=d?h.getAttributeNS(d,f):h.getAttribute(f);return _==="null"?null:_}function l(h,f,d){for(var _ in f){var y=f[_],m=i[_];typeof y=="number"&&d&&(y=d.number(y)),m?h.setAttributeNS(m,_,y):h.setAttribute(_,y)}return h}return{svg:r,xmlns:e,xlink:t,create:a,get:u,set:l}},Ct=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,e){return!e&&(r instanceof Te||r instanceof Fe||r instanceof Rt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,e){var t=g.capitalize(e),i=r[2];this[e]={type:r[1],property:e,attribute:r[0],toSVG:i,fromSVG:i&&g.each(i,function(a,u){this[a]=u},{}),exportFilter:r[3],get:"get"+t,set:"set"+t}},{});new function(){var r;function e(C,x,w){var k=new g,T=C.getTranslation();if(x){var L;C.isInvertible()?(C=C._shiftless(),L=C._inverseTransform(T),T=null):L=new z,k[w?"cx":"x"]=L.x,k[w?"cy":"y"]=L.y}if(!C.isIdentity()){var N=C.decompose();if(N){var M=[],O=N.rotation,D=N.scaling,U=N.skewing;T&&!T.isZero()&&M.push("translate("+r.point(T)+")"),O&&M.push("rotate("+r.number(O)+")"),(!ne.isZero(D.x-1)||!ne.isZero(D.y-1))&&M.push("scale("+r.point(D)+")"),U.x&&M.push("skewX("+r.number(U.x)+")"),U.y&&M.push("skewY("+r.number(U.y)+")"),k.transform=M.join(" ")}else k.transform="matrix("+C.getValues().join(",")+")"}return k}function t(C,x){for(var w=e(C._matrix),k=C._children,T=St.create("g",w,r),L=0,N=k.length;L<N;L++){var M=k[L],O=I(M,x);if(O)if(M.isClipMask()){var D=St.create("clipPath");D.appendChild(O),S(M,D,"clip"),St.set(T,{"clip-path":"url(#"+D.id+")"})}else T.appendChild(O)}return T}function i(C,x){var w=e(C._matrix,!0),k=C.getSize(),T=C.getImage();return w.x-=k.width/2,w.y-=k.height/2,w.width=k.width,w.height=k.height,w.href=x.embedImages==!1&&T&&T.src||C.toDataURL(),St.create("image",w,r)}function a(C,x){var w=x.matchShapes;if(w){var k=C.toShape(!1);if(k)return u(k)}var T=C._segments,L=T.length,N,M=e(C._matrix);if(w&&L>=2&&!C.hasHandles())if(L>2){N=C._closed?"polygon":"polyline";for(var O=[],D=0;D<L;D++)O.push(r.point(T[D]._point));M.points=O.join(" ")}else{N="line";var U=T[0]._point,F=T[1]._point;M.set({x1:U.x,y1:U.y,x2:F.x,y2:F.y})}else N="path",M.d=C.getPathData(null,x.precision);return St.create(N,M,r)}function u(C){var x=C._type,w=C._radius,k=e(C._matrix,!0,x!=="rectangle");if(x==="rectangle"){x="rect";var T=C._size,L=T.width,N=T.height;k.x-=L/2,k.y-=N/2,k.width=L,k.height=N,w.isZero()&&(w=null)}return w&&(x==="circle"?k.r=w:(k.rx=w.width,k.ry=w.height)),St.create(x,k,r)}function l(C,x){var w=e(C._matrix),k=C.getPathData(null,x.precision);return k&&(w.d=k),St.create("path",w,r)}function h(C,x){var w=e(C._matrix,!0),k=C._definition,T=v(k,"symbol"),L=k._item,N=L.getStrokeBounds();return T||(T=St.create("symbol",{viewBox:r.rectangle(N)}),T.appendChild(I(L,x)),S(k,T,"symbol")),w.href="#"+T.id,w.x+=N.x,w.y+=N.y,w.width=N.width,w.height=N.height,w.overflow="visible",St.create("use",w,r)}function f(C){var x=v(C,"color");if(!x){var w=C.getGradient(),k=w._radial,T=C.getOrigin(),L=C.getDestination(),N;if(k){N={cx:T.x,cy:T.y,r:T.getDistance(L)};var M=C.getHighlight();M&&(N.fx=M.x,N.fy=M.y)}else N={x1:T.x,y1:T.y,x2:L.x,y2:L.y};N.gradientUnits="userSpaceOnUse",x=St.create((k?"radial":"linear")+"Gradient",N,r);for(var O=w._stops,D=0,U=O.length;D<U;D++){var F=O[D],H=F._color,q=H.getAlpha(),W=F._offset;N={offset:W==null?D/(U-1):W},H&&(N["stop-color"]=H.toCSS(!0)),q<1&&(N["stop-opacity"]=q),x.appendChild(St.create("stop",N,r))}S(C,x,"color")}return"url(#"+x.id+")"}function d(C){var x=St.create("text",e(C._matrix,!0),r);return x.textContent=C._content,x}var _={Group:t,Layer:t,Raster:i,Path:a,Shape:u,CompoundPath:l,SymbolItem:h,PointText:d};function y(C,x,w){var k={},T=!w&&C.getParent(),L=[];return C._name!=null&&(k.id=C._name),g.each(Ct,function(N){var M=N.get,O=N.type,D=C[M]();if(N.exportFilter?N.exportFilter(C,D):!T||!g.equals(T[M](),D)){if(O==="color"&&D!=null){var U=D.getAlpha();U<1&&(k[N.attribute+"-opacity"]=U)}O==="style"?L.push(N.attribute+": "+D):k[N.attribute]=D==null?"none":O==="color"?D.gradient?f(D):D.toCSS(!0):O==="array"?D.join(","):O==="lookup"?N.toSVG[D]:D}}),L.length&&(k.style=L.join(";")),k.opacity===1&&delete k.opacity,C._visible||(k.visibility="hidden"),St.set(x,k,r)}var m;function v(C,x){return m||(m={ids:{},svgs:{}}),C&&m.svgs[x+"-"+(C._id||C.__id||(C.__id=fe.get("svg")))]}function S(C,x,w){m||v();var k=m.ids[w]=(m.ids[w]||0)+1;x.id=w+"-"+k,m.svgs[w+"-"+(C._id||C.__id)]=x}function E(C,x){var w=C,k=null;if(m){w=C.nodeName.toLowerCase()==="svg"&&C;for(var T in m.svgs)k||(w||(w=St.create("svg"),w.appendChild(C)),k=w.insertBefore(St.create("defs"),w.firstChild)),k.appendChild(m.svgs[T]);m=null}return x.asString?new s.XMLSerializer().serializeToString(w):w}function I(C,x,w){var k=_[C._class],T=k&&k(C,x);if(T){var L=x.onExport;L&&(T=L(C,T,x)||T);var N=JSON.stringify(C._data);N&&N!=="{}"&&N!=="null"&&T.setAttribute("data-paper-data",N)}return T&&y(C,T,w)}function P(C){return C||(C={}),r=new le(C.precision),C}R.inject({exportSVG:function(C){return C=P(C),E(I(this,C,!0),C)}}),xe.inject({exportSVG:function(C){C=P(C);var x=this._children,w=this.getView(),k=g.pick(C.bounds,"view"),T=C.matrix||k==="view"&&w._matrix,L=T&&$.read([T]),N=k==="view"?new K([0,0],w.getViewSize()):k==="content"?R._getBounds(x,L,{stroke:!0}).rect:K.read([k],0,{readNull:!0}),M={version:"1.1",xmlns:St.svg,"xmlns:xlink":St.xlink};N&&(M.width=N.width,M.height=N.height,(N.x||N.x===0||N.y||N.y===0)&&(M.viewBox=r.rectangle(N)));var O=St.create("svg",M,r),D=O;L&&!L.isIdentity()&&(D=O.appendChild(St.create("g",e(L),r)));for(var U=0,F=x.length;U<F;U++)D.appendChild(I(x[U],C,!0));return E(O,C)}})},new function(){var r={},e;function t(x,w,k,T,L,N){var M=St.get(x,w)||N,O=M==null?T?null:k?"":0:k?M:parseFloat(M);return/%\s*$/.test(M)?O/100*(L?1:e[/x|^width/.test(w)?"width":"height"]):O}function i(x,w,k,T,L,N,M){return w=t(x,w||"x",!1,T,L,N),k=t(x,k||"y",!1,T,L,M),T&&(w==null||k==null)?null:new z(w,k)}function a(x,w,k,T,L){return w=t(x,w||"width",!1,T,L),k=t(x,k||"height",!1,T,L),T&&(w==null||k==null)?null:new te(w,k)}function u(x,w,k){return x==="none"?null:w==="number"?parseFloat(x):w==="array"?x?x.split(/[\s,]+/g).map(parseFloat):[]:w==="color"?I(x)||x:w==="lookup"?k[x]:x}function l(x,w,k,T){var L=x.childNodes,N=w==="clippath",M=w==="defs",O=new ke,D=O._project,U=D._currentStyle,F=[];if(!N&&!M&&(O=E(O,x,T),D._currentStyle=O._style.clone()),T)for(var H=x.querySelectorAll("defs"),q=0,W=H.length;q<W;q++)P(H[q],k,!1);for(var q=0,W=L.length;q<W;q++){var G=L[q],J;G.nodeType===1&&!/^defs$/i.test(G.nodeName)&&(J=P(G,k,!1))&&!(J instanceof je)&&F.push(J)}return O.addChildren(F),N&&(O=E(O.reduce(),x,T)),D._currentStyle=U,(N||M)&&(O.remove(),O=null),O}function h(x,w){for(var k=x.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),T=[],L=0,N=k.length;L<N;L+=2)T.push(new z(parseFloat(k[L]),parseFloat(k[L+1])));var M=new Ce(T);return w==="polygon"&&M.closePath(),M}function f(x){return Te.create(x.getAttribute("d"))}function d(x,w){var k=(t(x,"href",!0)||"").substring(1),T=w==="radialgradient",L;if(k)L=r[k].getGradient(),L._radial^T&&(L=L.clone(),L._radial=T);else{for(var N=x.childNodes,M=[],O=0,D=N.length;O<D;O++){var U=N[O];U.nodeType===1&&M.push(E(new tn,U))}L=new Dt(M,T)}var F,H,q,W=t(x,"gradientUnits",!0)!=="userSpaceOnUse";T?(F=i(x,"cx","cy",!1,W,"50%","50%"),H=F.add(t(x,"r",!1,!1,W,"50%"),0),q=i(x,"fx","fy",!0,W)):(F=i(x,"x1","y1",!1,W,"0%","0%"),H=i(x,"x2","y2",!1,W,"100%","0%"));var G=E(new We(L,F,H,q),x);return G._scaleToBounds=W,null}var _={"#document":function(x,w,k,T){for(var L=x.childNodes,N=0,M=L.length;N<M;N++){var O=L[N];if(O.nodeType===1)return P(O,k,T)}},g:l,svg:l,clippath:l,polygon:h,polyline:h,path:f,lineargradient:d,radialgradient:d,image:function(x){var w=new De(t(x,"href",!0));return w.on("load",function(){var k=a(x);this.setSize(k);var T=i(x).add(k.divide(2));this._matrix.append(new $().translate(T))}),w},symbol:function(x,w,k,T){return new je(l(x,w,k,T),!0)},defs:l,use:function(x){var w=(t(x,"href",!0)||"").substring(1),k=r[w],T=i(x);return k?k instanceof je?k.place(T):k.clone().translate(T):null},circle:function(x){return new Fe.Circle(i(x,"cx","cy"),t(x,"r"))},ellipse:function(x){return new Fe.Ellipse({center:i(x,"cx","cy"),radius:a(x,"rx","ry")})},rect:function(x){return new Fe.Rectangle(new K(i(x),a(x)),a(x,"rx","ry"))},line:function(x){return new Ce.Line(i(x,"x1","y1"),i(x,"x2","y2"))},text:function(x){var w=new Ft(i(x).add(i(x,"dx","dy")));return w.setContent(x.textContent.trim()||""),w},switch:l};function y(x,w,k,T){if(x.transform){for(var L=(T.getAttribute(k)||"").split(/\)\s*/g),N=new $,M=0,O=L.length;M<O;M++){var D=L[M];if(!D)break;for(var U=D.split(/\(\s*/),F=U[0],H=U[1].split(/[\s,]+/g),q=0,W=H.length;q<W;q++)H[q]=parseFloat(H[q]);switch(F){case"matrix":N.append(new $(H[0],H[1],H[2],H[3],H[4],H[5]));break;case"rotate":N.rotate(H[0],H[1]||0,H[2]||0);break;case"translate":N.translate(H[0],H[1]||0);break;case"scale":N.scale(H);break;case"skewX":N.skew(H[0],0);break;case"skewY":N.skew(0,H[0]);break}}x.transform(N)}}function m(x,w,k){var T=k==="fill-opacity"?"getFillColor":"getStrokeColor",L=x[T]&&x[T]();L&&L.setAlpha(parseFloat(w))}var v=g.set(g.each(Ct,function(x){this[x.attribute]=function(w,k){if(w[x.set]&&(w[x.set](u(k,x.type,x.fromSVG)),x.type==="color")){var T=w[x.get]();if(T&&T._scaleToBounds){var L=w.getBounds();T.transform(new $().translate(L.getPoint()).scale(L.getSize()))}}}},{}),{id:function(x,w){r[w]=x,x.setName&&x.setName(w)},"clip-path":function(x,w){var k=I(w);if(k)if(k=k.clone(),k.setClipMask(!0),x instanceof ke)x.insertChild(0,k);else return new ke(k,x)},gradientTransform:y,transform:y,"fill-opacity":m,"stroke-opacity":m,visibility:function(x,w){x.setVisible&&x.setVisible(w==="visible")},display:function(x,w){x.setVisible&&x.setVisible(w!==null)},"stop-color":function(x,w){x.setColor&&x.setColor(w)},"stop-opacity":function(x,w){x._color&&x._color.setAlpha(parseFloat(w))},offset:function(x,w){if(x.setOffset){var k=w.match(/(.*)%$/);x.setOffset(k?k[1]/100:parseFloat(w))}},viewBox:function(x,w,k,T,L){var N=new K(u(w,"array")),M=a(T,null,null,!0),O,D;if(x instanceof ke){var U=M?M.divide(N.getSize()):1,D=new $().scale(U).translate(N.getPoint().negate());O=x}else x instanceof je&&(M&&N.setSize(M),O=x._item);if(O){if(S(T,"overflow",L)!=="visible"){var F=new Fe.Rectangle(N);F.setClipMask(!0),O.addChild(F)}D&&O.transform(D)}}});function S(x,w,k){var T=x.attributes[w],L=T&&T.value;if(!L&&x.style){var N=g.camelize(w);L=x.style[N],!L&&k.node[N]!==k.parent[N]&&(L=k.node[N])}return L?L==="none"?null:L:o}function E(x,w,k){var T=w.parentNode,L={node:Ze.getStyles(w)||{},parent:!k&&!/^defs$/i.test(T.tagName)&&Ze.getStyles(T)||{}};return g.each(v,function(N,M){var O=S(w,M,L);x=O!==o&&N(x,O,M,w,L)||x}),x}function I(x){var w=x&&x.match(/\((?:["'#]*)([^"')]+)/),k=w&&w[1],T=k&&r[p?k.replace(p.location.href.split("#")[0]+"#",""):k];return T&&T._scaleToBounds&&(T=T.clone(),T._scaleToBounds=!0),T}function P(x,w,k){var T=x.nodeName.toLowerCase(),L=T!=="#document",N=b.body,M,O,D;k&&L&&(e=nt.getView().getSize(),e=a(x,null,null,!0)||e,M=St.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),O=x.parentNode,D=x.nextSibling,M.appendChild(x),N.appendChild(M));var U=nt.settings,F=U.applyMatrix,H=U.insertItems;U.applyMatrix=!1,U.insertItems=!1;var q=_[T],W=q&&q(x,T,w,k)||null;if(U.insertItems=H,U.applyMatrix=F,W){L&&!(W instanceof ke)&&(W=E(W,x,k));var G=w.onImport,J=L&&x.getAttribute("data-paper-data");G&&(W=G(x,W,w)||W),w.expandShapes&&W instanceof Fe&&(W.remove(),W=W.toPath()),J&&(W._data=JSON.parse(J))}return M&&(N.removeChild(M),O&&(D?O.insertBefore(x,D):O.appendChild(x))),k&&(r={},W&&g.pick(w.applyMatrix,F)&&W.matrix.apply(!0,!0)),W}function C(x,w,k){if(!x)return null;w=typeof w=="function"?{onLoad:w}:w||{};var T=nt,L=null;function N(U){try{var F=typeof U=="object"?U:new s.DOMParser().parseFromString(U.trim(),"image/svg+xml");if(!F.nodeName)throw F=null,new Error("Unsupported SVG source: "+x);nt=T,L=P(F,w,!0),(!w||w.insert!==!1)&&k._insertItem(o,L);var H=w.onLoad;H&&H(L,U)}catch(q){M(q)}}function M(U,F){var H=w.onError;if(H)H(U,F);else throw new Error(U)}if(typeof x=="string"&&!/^[\s\S]*</.test(x)){var O=b.getElementById(x);O?N(O):pi.request({url:x,async:!0,onLoad:N,onError:M})}else if(typeof File!="undefined"&&x instanceof File){var D=new FileReader;return D.onload=function(){N(D.result)},D.onerror=function(){M(D.error)},D.readAsText(x)}else N(x);return L}R.inject({importSVG:function(x,w){return C(x,w,this)}}),xe.inject({importSVG:function(x,w){return this.activate(),C(x,w,this)}})};var nt=new(Z.inject(g.exports,{Base:g,Numerical:ne,Key:di,DomEvent:tt,DomElement:Ze,document:b,window:p,Symbol:je,PlacedSymbol:st}));return nt.agent.node&&Pa(nt),typeof o=="function"&&o.amd?o("paper",nt):n&&(n.exports=nt),nt}).call(Zo,typeof self=="object"?self:null)})(Ia);function zi(n,s,o,p,b=0,g=0,B,Z,Q){var ie;if((ie=n==null?void 0:n.Extent)!=null&&ie.length){const le=n.Extent[0].Max[0].x.valueAsNumber,ne=n.Extent[0].Min[0].x.valueAsNumber,fe=(le-ne)*s<1?1:(le-ne)*s,z=n.Extent[0].Max[0].y.valueAsNumber,me=n.Extent[0].Min[0].y.valueAsNumber,te=(z-me)*s<1?1:(z-me)*s,Ae=b*s+ne*s,K=p*s-(z+g)*s;if(B){const X=vt().Shape,$=vt().Size,de=vt().Color,xe=new $(fe,te),R=new X.Rectangle(new Ia.exports.Point(Ae,K),xe);R.fillColor=new de(Z),R.onClick=()=>{Q.publicEvent("onClick",n)},R.bringToFront()}return[Ae,K,fe,te]}else return[0,0,0,0]}function E0(n,s,o,p,b=0,g=0,B,Z,Q){var me,te,Ae;const ie=vt().Point,le=vt().Path,ne=vt().Color,fe=[];if(!Array.isArray(n.Coordinate)||n.Coordinate.length===0){((me=n.numPoints)==null?void 0:me.valueAsNumber)!==0&&console.warn("line element without coordinate");return}n.Coordinate.forEach(K=>{const X=K.x.valueAsNumber+b,$=K.y.valueAsNumber+g,de=new ie(X*s,p*s-$*s);fe.push(de)});const z=new le(fe);switch(z.strokeColor=new ne({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),(te=n.Presentation[0].lineType)==null?void 0:te.valueAsString){case"0":break;case"Solid":break;case"1":z.dashArray=[.3,.3];case"Dotted":z.dashArray=[.3,.3];break;case"2":z.dashArray=[2,.5];case"Dashed":z.dashArray=[2,.5];break;case"3":z.dashArray=[4,.5];case"Long Dash":z.dashArray=[4,.5];break;case"4":z.dashArray=[4,.5,1,.5];break;case"Long Dash + Short Dash, CenterLine":z.dashArray=[15,1,.5,1,.5,1];break;case"5":z.dashArray=[1,.5];break;case"Short Dash":z.dashArray=[1,.5];break;case"6":z.dashArray=[4,.5,1,.5,1,.5];break;case"Long Dash + Short Dash + Short Dash":z.dashArray=[4,1,1,1,1,1];break;case"7":z.dashArray=[2,.5,1,.5];break;case"Dash + Short Dash":z.dashArray=[2,.5,1,.5];break;default:((Ae=n.Presentation[0].lineType)==null?void 0:Ae.valueAsString)!==void 0&&console.error("unknown linetype",n)}z.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,B?B.addChild(z):z.onClick=function(){Q.publicEvent("onClick",n)},zi(n,s,o,p,b,g,Mi().line,Oi().line,Q)}function T0(n,s,o,p,b=0,g=0,B,Z,Q){const ie=vt().Point,le=vt().Path,ne=vt().Color,fe=[];n.Coordinate.forEach(me=>{const te=me.x.valueAsNumber+b,Ae=me.y.valueAsNumber+g,K=new ie(te*s,p*s-Ae*s);fe.push(K)});const z=new le(fe);B?B.addChild(z):z.onClick=function(){Q.publicEvent("onClick",n)},z.strokeColor=new ne({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),z.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,n.filled&&(z.fillColor=new ne({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value})),zi(n,s,o,p,b,g,Mi().shape,Oi().shape,Q)}function A0(n,s,o,p,b=0,g=0,B,Z,Q){var Ae;const ie=vt().Point,le=vt().Path,ne=vt().Color,fe=n.Position[0].Location[0].x.valueAsNumber+b,z=n.Position[0].Location[0].y.valueAsNumber+g,me=new ie(fe*s,p*s-z*s),te=new le.Circle(me,n.radius.valueAsNumber*s);B?B.addChild(te):te.onClick=function(){Q.publicEvent("onClick",n)},te.strokeColor=new ne({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),te.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(Ae=n.filled)!=null&&Ae.value&&(te.fillColor=new ne("black")),zi(n,s,o,p,b,g,Mi().circle,Oi().circleArc,Q)}function N0(n,s,o,p,b=0,g=0,B,Z,Q){var De,st,je,it,be,wt,ae,at,Te,Ce,Be,et,ut,Rt,Ft;const ie=vt().PointText,le=vt().Point,ne=vt().Color,fe=vt().Shape,z=vt().Size;if(!((De=n.Position[0])!=null&&De.Location)){console.warn("unexpected missing location element on text, skipping text",(st=n==null?void 0:n.string)==null?void 0:st.valueAsString,n);return}if(!((je=n.Extent[0])!=null&&je.Max)){console.warn("unexpected missing Extent element on text, skipping text",(it=n==null?void 0:n.string)==null?void 0:it.valueAsString,n);return}if(!n.Presentation[0]){console.warn("unexpected missing Presentation element on text, skipping text",(be=n==null?void 0:n.string)==null?void 0:be.valueAsString,n);return}if((wt=n.Presentation[0].layer)!=null&&wt.valueAsString.toUpperCase().includes("HIDDEN"))return;const[me,te,Ae,K]=zi(n,s,o,p,b,g,Mi().text,Oi().text,Q),X=(n.Position[0].Location[0].x.valueAsNumber+b)*s,$=p*s-(n.Position[0].Location[0].y.valueAsNumber+g)*s,de=new le(X,$),xe=new z(Ae,K),R=new fe.Rectangle(new le(me,te),xe),ke=new ie(new le(X,$));if(ke.content=(ae=n.string)==null?void 0:ae.valueAsString,ke.content==="undefined"&&n.attributes.DependantAttribute&&n.attributes.ItemID){const We=y0(n.attributes.ItemID);We&&We.GenericAttributes.forEach(Dt=>{Dt.GenericAttribute.forEach(tn=>{`[${tn.attributes.Name}]`===n.attributes.DependantAttribute&&(ke.content=tn.attributes.Value)})}),ke.content==="undefined"&&console.warn("dependable attribute:",n.attributes.DependantAttribute,"not found in ",n)}ke.fontSize=n.height.valueAsNumber*s,ke.fontFamily=n.font.valueAsString,((at=n.textAngle)==null?void 0:at.valueAsNumber)>0&&ke.rotate(-n.textAngle.valueAsNumber,new le(X,$)),((Te=n.slantAngle)==null?void 0:Te.valueAsNumber)>0&&console.warn("Text slantAngle not implemented",n);const Oe=(et=(Be=(Ce=n.Position[0])==null?void 0:Ce.Reference[0])==null?void 0:Be.x)==null?void 0:et.valueAsNumber;Oe&&Oe!==1&&ke.rotate(-(Oe/(Math.PI/180))*Math.PI,de);const Fe=(Ft=(Rt=(ut=n.Position[0])==null?void 0:ut.Reference[0])==null?void 0:Rt.y)==null?void 0:Ft.valueAsNumber;Fe&&Fe!==0&&ke.rotate(-(Fe/(Math.PI/90))*Math.PI,de),ke.bounds.y=R.bounds.y,ke.bounds.x=R.bounds.x,ke.fitBounds(R.bounds),ke.fillColor=new ne({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),B?B.addChild(ke):ke.onClick=function(){Q.publicEvent("onClick",n)}}function L0(n,s,o,p,b=0,g=0,B,Z,Q){zf(n).forEach(le=>{var ne,fe,z,me;if(le.element.tagName==="Circle"){const te=vt().Point,Ae=vt().Path,K=vt().Color,X=le,$=X.Position[0].Location[0].x.valueAsNumber+b,de=X.Position[0].Location[0].y.valueAsNumber+g,xe=X.Position[0].Reference[0].x.valueAsNumber,R=X.Position[0].Reference[0].y.valueAsNumber,ke=X.Position[0].Axis[0].y.valueAsNumber===-1,Oe=new te($*s,p*s-de*s),Fe=X.radius.valueAsNumber*s,De=-((ne=n.startAngle)==null?void 0:ne.valueAsNumber)||0,st=-((fe=n.endAngle)==null?void 0:fe.valueAsNumber)||0,je=new te(Fe,0);je.angle=De;const it=new te(Fe,0);it.angle=st;const be=new te(Fe,0),wt=st-De;be.angle=De+wt/2;const ae=new Ae.Arc(je,be,it);ae.strokeColor=new K({red:X.Presentation[0].r.value,green:X.Presentation[0].g.value,blue:X.Presentation[0].b.value}),ae.strokeWidth=X.Presentation[0].lineWeight.valueAsNumber*s,ae.translate(Oe),xe<0&&ae.rotate(xe/(Math.PI/180)*Math.PI,Oe),R&&R!==0&&ae.rotate(-(R/(Math.PI/90))*Math.PI,Oe),ke&&console.log("not implented flipY",n,xe,R,ke),B?B.addChild(ae):ae.onClick=function(){console.log(n)},zi(X,s,o,p,b,g,Mi().circleArc,Oi().circleArc,Q)}if(le.element.tagName==="Ellipse"){const te=vt().Point,Ae=vt().Path,K=vt().Color,X=le,$=X.Position[0].Location[0].x.valueAsNumber+b,de=X.Position[0].Location[0].y.valueAsNumber+g,xe=X.Position[0].Reference[0].x.valueAsNumber,R=X.Position[0].Reference[0].y.valueAsNumber,ke=new te($*s,p*s-de*s),Oe=X.primaryAxis.valueAsNumber*s,Fe=-((z=n.startAngle)==null?void 0:z.valueAsNumber)||0,De=-((me=n.endAngle)==null?void 0:me.valueAsNumber)||0,st=new te(Oe,0);st.angle=Fe;const je=new te(Oe,0);je.angle=De;const it=new te(Oe,0),be=De-Fe;it.angle=Fe+be/2;const wt=new Ae.Arc(st,it,je);wt.strokeColor=new K({red:X.Presentation[0].r.value,green:X.Presentation[0].g.value,blue:X.Presentation[0].b.value}),wt.strokeWidth=X.Presentation[0].lineWeight.valueAsNumber*s,wt.translate(ke),wt.scale(1,X.secondaryAxis.valueAsNumber*s/Oe,ke),xe<0&&wt.rotate(xe/(Math.PI/180)*Math.PI,ke),R&&R!==0&&wt.rotate(-(R/(Math.PI/90))*Math.PI,ke);const ae=X.Position[0].Axis[0].z.valueAsNumber===-1;ae&&console.log("not implented flipY",n,xe,R,ae),B?B.addChild(wt):wt.onClick=function(){Q.publicEvent("onClick",n)},zi(X,s,o,p,b,g,Mi().ellipseArc,Oi().ellipseArc,Q)}})}function M0(n,s,o,p,b=0,g=0,B,Z,Q){var R,ke,Oe,Fe,De,st,je;const ie=vt().Point,le=vt().Path,ne=vt().Color,fe=vt().Size,z=vt().Rectangle,me=n.Position[0].Location[0].x.valueAsNumber+b,te=n.Position[0].Location[0].y.valueAsNumber+g,Ae=new ie(me*s,p*s-te*s),K=new z(Ae,new fe(n.primaryAxis.valueAsNumber*s,n.secondaryAxis.valueAsNumber*s)),X=new le.Ellipse(K),$=(Oe=(ke=(R=n.Position[0])==null?void 0:R.Reference[0])==null?void 0:ke.x)==null?void 0:Oe.valueAsNumber;$&&$!==1&&X.rotate(-($/(Math.PI/180))*Math.PI,Ae);const de=(st=(De=(Fe=n.Position[0])==null?void 0:Fe.Reference[0])==null?void 0:De.y)==null?void 0:st.valueAsNumber;de&&de!==0&&X.rotate(-(de/(Math.PI/90))*Math.PI,Ae);const xe=n.Position[0].Axis[0].z.valueAsNumber===-1;xe&&console.log("not implented flipY",n,$,de,xe),B?B.addChild(X):X.onClick=function(){Q.publicEvent("onClick",n)},X.strokeColor=new ne({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),X.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(je=n.filled)!=null&&je.value&&(X.fillColor=new ne("black")),zi(n,s,o,p,b,g,Mi().circle,Oi().circleArc,Q)}class $o{constructor(s,o,p){var g,B,Z;this.element=s,this.isShapeCatalogChild=o,this.parent=p,this.isChild=!0,this.attributes={},this.GenericAttributes=[],this.GenericAttribute=[],this.genericAttributes={},this.Position=[],this.Extent=[],this.Presentation=[],this.Scale=[],this.elementTagName=this.element.tagName,this.elementTagName==="ShapeCatalogue"&&(this.isShapeCatalogChild=!0);for(let Q=0;Q<this.element.children.length;Q++){const ie=this.element.children[Q],le=ie.tagName,ne=this;ne[le]||(ne[le]=[]);const fe=new $o(ie,this.isShapeCatalogChild,this);ne[le].push(fe)}s.getAttributeNames().forEach(Q=>{const ie=this,le=Q[0].toLowerCase()+Q.substring(1,Q.length);ie[le]=new w0(s,Q,this)}),this.GenericAttribute.length&&this.GenericAttribute.forEach(Q=>{this.genericAttributes[Q.attributes.Name]=Q.attributes.Value}),this.GenericAttributes.length&&this.GenericAttributes.forEach((Q,ie)=>{this.genericAttributes[`${ie+1}: ${Q.attributes.Set||""}`]=Q.genericAttributes}),this.elementTagName!=="ShapeCatalogue"&&this.isShapeCatalogChild&&(g=this.componentName)!=null&&g.value&&x0((B=this.componentName)==null?void 0:B.value,this),(Z=this.iD)!=null&&Z.valueAsString&&m0(this.iD.valueAsString,this)}draw(s,o,p,b=0,g=0,B,Z,Q){var le,ne,fe,z,me,te,Ae,K,X,$,de,xe,R,ke,Oe,Fe,De,st,je,it;if(this.elementTagName==="ShapeCatalogue")return;if(this.elementTagName==="TrimmedCurve"){L0(this,s,o,p,b,g,B,Z,Q);return}if(zf(this).forEach(be=>{be.draw(s,o,p,b,g,B,this,Q)}),((le=this.componentName)==null?void 0:le.value)&&((ne=this.Position)==null?void 0:ne.length)){const be=S0(this.componentName.value);if(be&&be!==this){const wt=vt().Group,ae=new wt;this.shapeCatalogItem=be;const at=this;ae.onClick=function(){Q.publicEvent("onClick",at)};const Te=this.Position[0].Location[0].x.valueAsNumber+b,Ce=this.Position[0].Location[0].y.valueAsNumber+g,Be=new Ia.exports.Point(Te*s,p*s-Ce*s);if(typeof be.draw=="function"&&be.draw(s,o,p,Te+b,Ce+g,ae,this,Q),this.Scale.length){const Ft=parseFloat(this.Scale[0].attributes.X),We=parseFloat(this.Scale[0].attributes.Y);(Ft!==1||We!==1)&&ae.scale(Ft,We,Be)}const et=(me=(z=(fe=this.Position[0])==null?void 0:fe.Reference[0])==null?void 0:z.x)==null?void 0:me.valueAsNumber;et&&et!==1&&ae.rotate(-(et/(Math.PI/180))*Math.PI,Be);const ut=(K=(Ae=(te=this.Position[0])==null?void 0:te.Reference[0])==null?void 0:Ae.y)==null?void 0:K.valueAsNumber;ut&&ut!==0&&ae.rotate(-(ut/(Math.PI/90))*Math.PI,Be),((de=($=(X=this.Position[0])==null?void 0:X.Axis[0])==null?void 0:$.z)==null?void 0:de.valueAsNumber)===-1&&ae.scale(1,-1,Be),zi(this,s,o,p,b,g,Mi().component,Oi().component,Q)}else if(B){const wt=this.Position[0].Location[0].x.valueAsNumber+b,ae=this.Position[0].Location[0].y.valueAsNumber+g,at=new Ia.exports.Point(wt*s,p*s-ae*s);if(this.Scale.length){const et=parseFloat(this.Scale[0].attributes.X),ut=parseFloat(this.Scale[0].attributes.Y);(et!==1||ut!==1)&&B.scale(et,ut,at)}const Te=(ke=(R=(xe=this.Position[0])==null?void 0:xe.Reference[0])==null?void 0:R.x)==null?void 0:ke.valueAsNumber;Te&&Te!==1&&B.rotate(-(Te/(Math.PI/180))*Math.PI,at);const Ce=(De=(Fe=(Oe=this.Position[0])==null?void 0:Oe.Reference[0])==null?void 0:Fe.y)==null?void 0:De.valueAsNumber;Ce&&Ce!==0&&B.rotate(-(Ce/(Math.PI/90))*Math.PI,at),((it=(je=(st=this.Position[0])==null?void 0:st.Axis[0])==null?void 0:je.z)==null?void 0:it.valueAsNumber)===-1&&B.scale(1,-1,at)}}(this.elementTagName==="Line"||this.elementTagName==="PolyLine"||this.elementTagName==="CenterLine")&&E0(this,s,o,p,b,g,B,Z,Q),this.elementTagName==="BsplineCurve"&&console.warn("BsplineCurve not implemented",this),this.elementTagName==="CompositeCurve"&&console.warn("CompositeCurve not implemented",this),this.elementTagName==="Circle"&&A0(this,s,o,p,b,g,B,Z,Q),this.elementTagName==="Ellipse"&&M0(this,s,o,p,b,g,B,Z,Q),this.elementTagName==="Shape"&&T0(this,s,o,p,b,g,B,Z,Q),this.elementTagName==="Text"&&N0(this,s,o,p,b,g,B,Z,Q)}}class O0{constructor(s,o){this.subscribers=new Set,this.root=!0,this.xml=new window.DOMParser().parseFromString(s,"text/xml"),this.canvas=document.getElementById(o),v0(),I0(o);const p=this.xml.getElementsByTagName("PlantModel")[0];if(!p){alert("missing plantmodel");return}this.PlantModel=new $o(p,!1)}addEventListener(s){this.subscribers.add(s)}removeEventListener(s){this.subscribers.delete(s)}publicEvent(s,o){this.subscribers.forEach(p=>{p.handleEvent({type:s,data:o})})}draw(){var Z,Q,ie,le,ne,fe,z;vt().project.activeLayer.removeChildren(),vt().view.requestUpdate();const s=["Metre","mm","Millimetre"],o=this.PlantModel.PlantInformation[0].units.value;s.includes(o)||console.warn("I need to add more here",this.PlantModel.PlantInformation[0].units.value);let p=1.5;switch(!0){case o==="Metre":p=1500;break}if(!Array.isArray(this.PlantModel.Drawing)||this.PlantModel.Drawing[0].length===0){const me=(Q=(Z=this.PlantModel.Extent[0])==null?void 0:Z.Max[0])==null?void 0:Q.x.valueAsNumber,te=(le=(ie=this.PlantModel.Extent[0])==null?void 0:ie.Max[0])==null?void 0:le.y.valueAsNumber;p===1.5?(console.warn(`No drawing element, using x:${me|1261.5}, y:${te|891}`,this.PlantModel),this.PlantModel.draw(p,me||1261.5,te||891,0,0)):(console.warn(`No drawing element, using x:${me|.12615}, y:${te|.891}`,this.PlantModel),this.PlantModel.draw(p,me||.12615,te||.891,0,0));return}const b=(ne=this.PlantModel.Drawing[0])==null?void 0:ne.Presentation[0];(fe=b==null?void 0:b.attributes)!=null&&fe.Color&&(this.canvas.style.backgroundColor=(z=b==null?void 0:b.attributes)==null?void 0:z.Color);const g=this.PlantModel.Drawing[0].Extent[0].Max[0].x.valueAsNumber,B=this.PlantModel.Drawing[0].Extent[0].Max[0].y.valueAsNumber;this.PlantModel.draw(p,g,B,0,0,null,this,this)}}function z0(){const n=Mf();return ur.exports.useEffect(()=>{const s=document.getElementById("pidCanvas");s&&s.setAttribute("resize","true")},[]),Xn("div",{className:"p-2 flex flex-col h-full bg-gray-900 text-gray-200",children:[Xn("div",{children:[Zt("input",{className:"",type:"file",onChange:s=>{const o=new FileReader;o.onload=()=>{const p=new O0(o.result,"pidCanvas");p.draw(),p.addEventListener({handleEvent(b){n.setSelected(b.data)}})},o.onloadend=()=>{n.setLoading(!0)},o.onerror=()=>{},s!=null&&s.target.files&&(n.setLoading(!0),o.readAsText(s.target.files[0]))}}),Xn("div",{className:"",children:["Version: ","1.3.3"]}),Zt("div",{className:"text-indigo-600",children:Zt("a",{href:"https://github.com/vegarringdal/ProteusXMLDrawing",children:"Github Repo link"})}),Zt("div",{className:"italic",children:"Check console.log for errors/info (F12) in Chrome/Edge if you do not get expected result"}),Zt("div",{className:"italic",children:"Use mousebuttons to pan and mousewheel to zoom, click to select (you need to click on text or lines...work in progress)"})]}),Xn("div",{className:"flex h-full",style:{minHeight:"0px"},children:[Zt("div",{className:"flex basis-2/3 p-2",children:Zt("canvas",{id:"pidCanvas",className:"border w-full h-full border-gray-600 "})}),Zt("div",{className:"flex basis-1/3 p-2",children:Zt(p0,{})})]})]})}var Bf={exports:{}},In={},Df={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function s(Te,Ce){var Be=Te.length;Te.push(Ce);e:for(;0<Be;){var et=Be-1>>>1,ut=Te[et];if(0<b(ut,Ce))Te[et]=Ce,Te[Be]=ut,Be=et;else break e}}function o(Te){return Te.length===0?null:Te[0]}function p(Te){if(Te.length===0)return null;var Ce=Te[0],Be=Te.pop();if(Be!==Ce){Te[0]=Be;e:for(var et=0,ut=Te.length,Rt=ut>>>1;et<Rt;){var Ft=2*(et+1)-1,We=Te[Ft],Dt=Ft+1,tn=Te[Dt];if(0>b(We,Be))Dt<ut&&0>b(tn,We)?(Te[et]=tn,Te[Dt]=Be,et=Dt):(Te[et]=We,Te[Ft]=Be,et=Ft);else if(Dt<ut&&0>b(tn,Be))Te[et]=tn,Te[Dt]=Be,et=Dt;else break e}}return Ce}function b(Te,Ce){var Be=Te.sortIndex-Ce.sortIndex;return Be!==0?Be:Te.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;n.unstable_now=function(){return g.now()}}else{var B=Date,Z=B.now();n.unstable_now=function(){return B.now()-Z}}var Q=[],ie=[],le=1,ne=null,fe=3,z=!1,me=!1,te=!1,Ae=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Te){for(var Ce=o(ie);Ce!==null;){if(Ce.callback===null)p(ie);else if(Ce.startTime<=Te)p(ie),Ce.sortIndex=Ce.expirationTime,s(Q,Ce);else break;Ce=o(ie)}}function de(Te){if(te=!1,$(Te),!me)if(o(Q)!==null)me=!0,ae(xe);else{var Ce=o(ie);Ce!==null&&at(de,Ce.startTime-Te)}}function xe(Te,Ce){me=!1,te&&(te=!1,K(Oe),Oe=-1),z=!0;var Be=fe;try{for($(Ce),ne=o(Q);ne!==null&&(!(ne.expirationTime>Ce)||Te&&!st());){var et=ne.callback;if(typeof et=="function"){ne.callback=null,fe=ne.priorityLevel;var ut=et(ne.expirationTime<=Ce);Ce=n.unstable_now(),typeof ut=="function"?ne.callback=ut:ne===o(Q)&&p(Q),$(Ce)}else p(Q);ne=o(Q)}if(ne!==null)var Rt=!0;else{var Ft=o(ie);Ft!==null&&at(de,Ft.startTime-Ce),Rt=!1}return Rt}finally{ne=null,fe=Be,z=!1}}var R=!1,ke=null,Oe=-1,Fe=5,De=-1;function st(){return!(n.unstable_now()-De<Fe)}function je(){if(ke!==null){var Te=n.unstable_now();De=Te;var Ce=!0;try{Ce=ke(!0,Te)}finally{Ce?it():(R=!1,ke=null)}}else R=!1}var it;if(typeof X=="function")it=function(){X(je)};else if(typeof MessageChannel!="undefined"){var be=new MessageChannel,wt=be.port2;be.port1.onmessage=je,it=function(){wt.postMessage(null)}}else it=function(){Ae(je,0)};function ae(Te){ke=Te,R||(R=!0,it())}function at(Te,Ce){Oe=Ae(function(){Te(n.unstable_now())},Ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Te){Te.callback=null},n.unstable_continueExecution=function(){me||z||(me=!0,ae(xe))},n.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<Te?Math.floor(1e3/Te):5},n.unstable_getCurrentPriorityLevel=function(){return fe},n.unstable_getFirstCallbackNode=function(){return o(Q)},n.unstable_next=function(Te){switch(fe){case 1:case 2:case 3:var Ce=3;break;default:Ce=fe}var Be=fe;fe=Ce;try{return Te()}finally{fe=Be}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Te,Ce){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var Be=fe;fe=Te;try{return Ce()}finally{fe=Be}},n.unstable_scheduleCallback=function(Te,Ce,Be){var et=n.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?et+Be:et):Be=et,Te){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=Be+ut,Te={id:le++,callback:Ce,priorityLevel:Te,startTime:Be,expirationTime:ut,sortIndex:-1},Be>et?(Te.sortIndex=Be,s(ie,Te),o(Q)===null&&Te===o(ie)&&(te?(K(Oe),Oe=-1):te=!0,at(de,Be-et))):(Te.sortIndex=ut,s(Q,Te),me||z||(me=!0,ae(xe))),Te},n.unstable_shouldYield=st,n.unstable_wrapCallback=function(Te){var Ce=fe;return function(){var Be=fe;fe=Ce;try{return Te.apply(this,arguments)}finally{fe=Be}}}})(Vf);(function(n){n.exports=Vf})(Df);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=ur.exports,Pn=Df.exports;function Ne(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hf=new Set,ys={};function or(n,s){zr(n,s),zr(n+"Capture",s)}function zr(n,s){for(ys[n]=s,n=0;n<s.length;n++)Hf.add(s[n])}var oi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),eo=Object.prototype.hasOwnProperty,R0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ph={},gh={};function F0(n){return eo.call(gh,n)?!0:eo.call(ph,n)?!1:R0.test(n)?gh[n]=!0:(ph[n]=!0,!1)}function B0(n,s,o,p){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function D0(n,s,o,p){if(s===null||typeof s=="undefined"||B0(n,s,o,p))return!0;if(p)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _n(n,s,o,p,b,g,B){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=b,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=B}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){an[n]=new _n(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];an[s]=new _n(s,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){an[n]=new _n(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){an[n]=new _n(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){an[n]=new _n(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){an[n]=new _n(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){an[n]=new _n(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){an[n]=new _n(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){an[n]=new _n(n,5,!1,n.toLowerCase(),null,!1,!1)});var el=/[\-:]([a-z])/g;function tl(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(el,tl);an[s]=new _n(s,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(el,tl);an[s]=new _n(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(el,tl);an[s]=new _n(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){an[n]=new _n(n,1,!1,n.toLowerCase(),null,!1,!1)});an.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){an[n]=new _n(n,1,!1,n.toLowerCase(),null,!0,!0)});function nl(n,s,o,p){var b=an.hasOwnProperty(s)?an[s]:null;(b!==null?b.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D0(s,o,b,p)&&(o=null),p||b===null?F0(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):b.mustUseProperty?n[b.propertyName]=o===null?b.type===3?!1:"":o:(s=b.attributeName,p=b.attributeNamespace,o===null?n.removeAttribute(s):(b=b.type,o=b===3||b===4&&o===!0?"":""+o,p?n.setAttributeNS(p,s,o):n.setAttribute(s,o))))}var ci=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Js=Symbol.for("react.element"),_r=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),il=Symbol.for("react.strict_mode"),to=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),no=Symbol.for("react.suspense"),io=Symbol.for("react.suspense_list"),sl=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Wf=Symbol.for("react.offscreen"),_h=Symbol.iterator;function Yr(n){return n===null||typeof n!="object"?null:(n=_h&&n[_h]||n["@@iterator"],typeof n=="function"?n:null)}var zt=Object.assign,Tu;function ss(n){if(Tu===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Tu=s&&s[1]||""}return`
`+Tu+n}var Au=!1;function Nu(n,s){if(!n||Au)return"";Au=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ie){var p=ie}Reflect.construct(n,[],s)}else{try{s.call()}catch(ie){p=ie}n.call(s.prototype)}else{try{throw Error()}catch(ie){p=ie}n()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var b=ie.stack.split(`
`),g=p.stack.split(`
`),B=b.length-1,Z=g.length-1;1<=B&&0<=Z&&b[B]!==g[Z];)Z--;for(;1<=B&&0<=Z;B--,Z--)if(b[B]!==g[Z]){if(B!==1||Z!==1)do if(B--,Z--,0>Z||b[B]!==g[Z]){var Q=`
`+b[B].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=B&&0<=Z);break}}}finally{Au=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?ss(n):""}function V0(n){switch(n.tag){case 5:return ss(n.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return n=Nu(n.type,!1),n;case 11:return n=Nu(n.type.render,!1),n;case 1:return n=Nu(n.type,!0),n;default:return""}}function ro(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case vr:return"Fragment";case _r:return"Portal";case to:return"Profiler";case il:return"StrictMode";case no:return"Suspense";case io:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case jf:return(n.displayName||"Context")+".Consumer";case qf:return(n._context.displayName||"Context")+".Provider";case rl:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case sl:return s=n.displayName||null,s!==null?s:ro(n.type)||"Memo";case yi:s=n._payload,n=n._init;try{return ro(n(s))}catch(o){}}return null}function U0(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ro(s);case 8:return s===il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ri(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function H0(n){var s=Gf(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),p=""+n[s];if(!n.hasOwnProperty(s)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var b=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return b.call(this)},set:function(B){p=""+B,g.call(this,B)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return p},setValue:function(B){p=""+B},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function $s(n){n._valueTracker||(n._valueTracker=H0(n))}function Zf(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),p="";return n&&(p=Gf(n)?n.checked?"true":"false":n.value),n=p,n!==o?(s.setValue(n),!0):!1}function Ea(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(s){return n.body}}function so(n,s){var o=s.checked;return zt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:n._wrapperState.initialChecked})}function vh(n,s){var o=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;o=Ri(s.value!=null?s.value:o),n._wrapperState={initialChecked:p,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qf(n,s){s=s.checked,s!=null&&nl(n,"checked",s,!1)}function ao(n,s){Qf(n,s);var o=Ri(s.value),p=s.type;if(o!=null)p==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?uo(n,s.type,o):s.hasOwnProperty("defaultValue")&&uo(n,s.type,Ri(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function mh(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function uo(n,s,o){(s!=="number"||Ea(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var as=Array.isArray;function Er(n,s,o,p){if(n=n.options,s){s={};for(var b=0;b<o.length;b++)s["$"+o[b]]=!0;for(o=0;o<n.length;o++)b=s.hasOwnProperty("$"+n[o].value),n[o].selected!==b&&(n[o].selected=b),b&&p&&(n[o].defaultSelected=!0)}else{for(o=""+Ri(o),s=null,b=0;b<n.length;b++){if(n[b].value===o){n[b].selected=!0,p&&(n[b].defaultSelected=!0);return}s!==null||n[b].disabled||(s=n[b])}s!==null&&(s.selected=!0)}}function oo(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return zt({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yh(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(Ne(92));if(as(o)){if(1<o.length)throw Error(Ne(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:Ri(o)}}function Kf(n,s){var o=Ri(s.value),p=Ri(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),p!=null&&(n.defaultValue=""+p)}function wh(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Yf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Yf(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ea,Xf=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,o,p,b){MSApp.execUnsafeLocalFunction(function(){return n(s,o,p,b)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ea.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function ws(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q0=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(n){q0.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),hs[s]=hs[n]})});function Jf(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||hs.hasOwnProperty(n)&&hs[n]?(""+s).trim():s+"px"}function $f(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var p=o.indexOf("--")===0,b=Jf(o,s[o],p);o==="float"&&(o="cssFloat"),p?n.setProperty(o,b):n[o]=b}}var j0=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(n,s){if(s){if(j0[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Ne(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Ne(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Ne(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Ne(62))}}function fo(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function al(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var po=null,Tr=null,Ar=null;function xh(n){if(n=Ds(n)){if(typeof po!="function")throw Error(Ne(280));var s=n.stateNode;s&&(s=ru(s),po(n.stateNode,n.type,s))}}function ec(n){Tr?Ar?Ar.push(n):Ar=[n]:Tr=n}function tc(){if(Tr){var n=Tr,s=Ar;if(Ar=Tr=null,xh(n),s)for(n=0;n<s.length;n++)xh(s[n])}}function nc(n,s){return n(s)}function ic(){}var Lu=!1;function rc(n,s,o){if(Lu)return n(s,o);Lu=!0;try{return nc(n,s,o)}finally{Lu=!1,(Tr!==null||Ar!==null)&&(ic(),tc())}}function xs(n,s){var o=n.stateNode;if(o===null)return null;var p=ru(o);if(p===null)return null;o=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(Ne(231,s,typeof o));return o}var go=!1;if(oi)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){go=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch(n){go=!1}function W0(n,s,o,p,b,g,B,Z,Q){var ie=Array.prototype.slice.call(arguments,3);try{s.apply(o,ie)}catch(le){this.onError(le)}}var fs=!1,Ta=null,Aa=!1,_o=null,G0={onError:function(n){fs=!0,Ta=n}};function Z0(n,s,o,p,b,g,B,Z,Q){fs=!1,Ta=null,W0.apply(G0,arguments)}function Q0(n,s,o,p,b,g,B,Z,Q){if(Z0.apply(this,arguments),fs){if(fs){var ie=Ta;fs=!1,Ta=null}else throw Error(Ne(198));Aa||(Aa=!0,_o=ie)}}function lr(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function sc(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Sh(n){if(lr(n)!==n)throw Error(Ne(188))}function K0(n){var s=n.alternate;if(!s){if(s=lr(n),s===null)throw Error(Ne(188));return s!==n?null:n}for(var o=n,p=s;;){var b=o.return;if(b===null)break;var g=b.alternate;if(g===null){if(p=b.return,p!==null){o=p;continue}break}if(b.child===g.child){for(g=b.child;g;){if(g===o)return Sh(b),n;if(g===p)return Sh(b),s;g=g.sibling}throw Error(Ne(188))}if(o.return!==p.return)o=b,p=g;else{for(var B=!1,Z=b.child;Z;){if(Z===o){B=!0,o=b,p=g;break}if(Z===p){B=!0,p=b,o=g;break}Z=Z.sibling}if(!B){for(Z=g.child;Z;){if(Z===o){B=!0,o=g,p=b;break}if(Z===p){B=!0,p=g,o=b;break}Z=Z.sibling}if(!B)throw Error(Ne(189))}}if(o.alternate!==p)throw Error(Ne(190))}if(o.tag!==3)throw Error(Ne(188));return o.stateNode.current===o?n:s}function ac(n){return n=K0(n),n!==null?uc(n):null}function uc(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=uc(n);if(s!==null)return s;n=n.sibling}return null}var oc=Pn.unstable_scheduleCallback,Ch=Pn.unstable_cancelCallback,Y0=Pn.unstable_shouldYield,X0=Pn.unstable_requestPaint,Ht=Pn.unstable_now,J0=Pn.unstable_getCurrentPriorityLevel,ul=Pn.unstable_ImmediatePriority,lc=Pn.unstable_UserBlockingPriority,Na=Pn.unstable_NormalPriority,$0=Pn.unstable_LowPriority,hc=Pn.unstable_IdlePriority,eu=null,$n=null;function eg(n){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(eu,n,void 0,(n.current.flags&128)===128)}catch(s){}}var qn=Math.clz32?Math.clz32:ig,tg=Math.log,ng=Math.LN2;function ig(n){return n>>>=0,n===0?32:31-(tg(n)/ng|0)|0}var ta=64,na=4194304;function us(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function La(n,s){var o=n.pendingLanes;if(o===0)return 0;var p=0,b=n.suspendedLanes,g=n.pingedLanes,B=o&268435455;if(B!==0){var Z=B&~b;Z!==0?p=us(Z):(g&=B,g!==0&&(p=us(g)))}else B=o&~b,B!==0?p=us(B):g!==0&&(p=us(g));if(p===0)return 0;if(s!==0&&s!==p&&(s&b)===0&&(b=p&-p,g=s&-s,b>=g||b===16&&(g&4194240)!==0))return s;if((p&4)!==0&&(p|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=p;0<s;)o=31-qn(s),b=1<<o,p|=n[o],s&=~b;return p}function rg(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sg(n,s){for(var o=n.suspendedLanes,p=n.pingedLanes,b=n.expirationTimes,g=n.pendingLanes;0<g;){var B=31-qn(g),Z=1<<B,Q=b[B];Q===-1?((Z&o)===0||(Z&p)!==0)&&(b[B]=rg(Z,s)):Q<=s&&(n.expiredLanes|=Z),g&=~Z}}function vo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function fc(){var n=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),n}function Mu(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Fs(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-qn(s),n[s]=o}function ag(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<o;){var b=31-qn(o),g=1<<b;s[b]=0,p[b]=-1,n[b]=-1,o&=~g}}function ol(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var p=31-qn(o),b=1<<p;b&s|n[p]&s&&(n[p]|=s),o&=~b}}var xt=0;function cc(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var dc,ll,pc,gc,_c,mo=!1,ia=[],ki=null,Pi=null,Ii=null,Ss=new Map,Cs=new Map,xi=[],ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(n,s){switch(n){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Ss.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(s.pointerId)}}function Jr(n,s,o,p,b,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:p,nativeEvent:g,targetContainers:[b]},s!==null&&(s=Ds(s),s!==null&&ll(s)),n):(n.eventSystemFlags|=p,s=n.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),n)}function og(n,s,o,p,b){switch(s){case"focusin":return ki=Jr(ki,n,s,o,p,b),!0;case"dragenter":return Pi=Jr(Pi,n,s,o,p,b),!0;case"mouseover":return Ii=Jr(Ii,n,s,o,p,b),!0;case"pointerover":var g=b.pointerId;return Ss.set(g,Jr(Ss.get(g)||null,n,s,o,p,b)),!0;case"gotpointercapture":return g=b.pointerId,Cs.set(g,Jr(Cs.get(g)||null,n,s,o,p,b)),!0}return!1}function vc(n){var s=Xi(n.target);if(s!==null){var o=lr(s);if(o!==null){if(s=o.tag,s===13){if(s=sc(o),s!==null){n.blockedOn=s,_c(n.priority,function(){pc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _a(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=yo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var p=new o.constructor(o.type,o);co=p,o.target.dispatchEvent(p),co=null}else return s=Ds(o),s!==null&&ll(s),n.blockedOn=o,!1;s.shift()}return!0}function kh(n,s,o){_a(n)&&o.delete(s)}function lg(){mo=!1,ki!==null&&_a(ki)&&(ki=null),Pi!==null&&_a(Pi)&&(Pi=null),Ii!==null&&_a(Ii)&&(Ii=null),Ss.forEach(kh),Cs.forEach(kh)}function $r(n,s){n.blockedOn===s&&(n.blockedOn=null,mo||(mo=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,lg)))}function bs(n){function s(b){return $r(b,n)}if(0<ia.length){$r(ia[0],n);for(var o=1;o<ia.length;o++){var p=ia[o];p.blockedOn===n&&(p.blockedOn=null)}}for(ki!==null&&$r(ki,n),Pi!==null&&$r(Pi,n),Ii!==null&&$r(Ii,n),Ss.forEach(s),Cs.forEach(s),o=0;o<xi.length;o++)p=xi[o],p.blockedOn===n&&(p.blockedOn=null);for(;0<xi.length&&(o=xi[0],o.blockedOn===null);)vc(o),o.blockedOn===null&&xi.shift()}var Nr=ci.ReactCurrentBatchConfig,Ma=!0;function hg(n,s,o,p){var b=xt,g=Nr.transition;Nr.transition=null;try{xt=1,hl(n,s,o,p)}finally{xt=b,Nr.transition=g}}function fg(n,s,o,p){var b=xt,g=Nr.transition;Nr.transition=null;try{xt=4,hl(n,s,o,p)}finally{xt=b,Nr.transition=g}}function hl(n,s,o,p){if(Ma){var b=yo(n,s,o,p);if(b===null)qu(n,s,p,Oa,o),bh(n,p);else if(og(b,n,s,o,p))p.stopPropagation();else if(bh(n,p),s&4&&-1<ug.indexOf(n)){for(;b!==null;){var g=Ds(b);if(g!==null&&dc(g),g=yo(n,s,o,p),g===null&&qu(n,s,p,Oa,o),g===b)break;b=g}b!==null&&p.stopPropagation()}else qu(n,s,p,null,o)}}var Oa=null;function yo(n,s,o,p){if(Oa=null,n=al(p),n=Xi(n),n!==null)if(s=lr(n),s===null)n=null;else if(o=s.tag,o===13){if(n=sc(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Oa=n,null}function mc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J0()){case ul:return 1;case lc:return 4;case Na:case $0:return 16;case hc:return 536870912;default:return 16}default:return 16}}var Ci=null,fl=null,va=null;function yc(){if(va)return va;var n,s=fl,o=s.length,p,b="value"in Ci?Ci.value:Ci.textContent,g=b.length;for(n=0;n<o&&s[n]===b[n];n++);var B=o-n;for(p=1;p<=B&&s[o-p]===b[g-p];p++);return va=b.slice(n,1<p?1-p:void 0)}function ma(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ra(){return!0}function Ph(){return!1}function En(n){function s(o,p,b,g,B){this._reactName=o,this._targetInst=b,this.type=p,this.nativeEvent=g,this.target=B,this.currentTarget=null;for(var Z in n)n.hasOwnProperty(Z)&&(o=n[Z],this[Z]=o?o(g):g[Z]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ra:Ph,this.isPropagationStopped=Ph,this}return zt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=En(qr),Bs=zt({},qr,{view:0,detail:0}),cg=En(Bs),Ou,zu,es,tu=zt({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==es&&(es&&n.type==="mousemove"?(Ou=n.screenX-es.screenX,zu=n.screenY-es.screenY):zu=Ou=0,es=n),Ou)},movementY:function(n){return"movementY"in n?n.movementY:zu}}),Ih=En(tu),dg=zt({},tu,{dataTransfer:0}),pg=En(dg),gg=zt({},Bs,{relatedTarget:0}),Ru=En(gg),_g=zt({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),vg=En(_g),mg=zt({},qr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yg=En(mg),wg=zt({},qr,{data:0}),Eh=En(wg),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bg(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Cg[n])?!!s[n]:!1}function dl(){return bg}var kg=zt({},Bs,{key:function(n){if(n.key){var s=xg[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sg[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pg=En(kg),Ig=zt({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=En(Ig),Eg=zt({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Tg=En(Eg),Ag=zt({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ng=En(Ag),Lg=zt({},tu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mg=En(Lg),Og=[9,13,27,32],pl=oi&&"CompositionEvent"in window,cs=null;oi&&"documentMode"in document&&(cs=document.documentMode);var zg=oi&&"TextEvent"in window&&!cs,wc=oi&&(!pl||cs&&8<cs&&11>=cs),Ah=String.fromCharCode(32),Nh=!1;function xc(n,s){switch(n){case"keyup":return Og.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mr=!1;function Rg(n,s){switch(n){case"compositionend":return Sc(s);case"keypress":return s.which!==32?null:(Nh=!0,Ah);case"textInput":return n=s.data,n===Ah&&Nh?null:n;default:return null}}function Fg(n,s){if(mr)return n==="compositionend"||!pl&&xc(n,s)?(n=yc(),va=fl=Ci=null,mr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wc&&s.locale!=="ko"?null:s.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Bg[n.type]:s==="textarea"}function Cc(n,s,o,p){ec(p),s=za(s,"onChange"),0<s.length&&(o=new cl("onChange","change",null,o,p),n.push({event:o,listeners:s}))}var ds=null,ks=null;function Dg(n){Oc(n,0)}function nu(n){var s=xr(n);if(Zf(s))return n}function Vg(n,s){if(n==="change")return s}var bc=!1;if(oi){var Fu;if(oi){var Bu="oninput"in document;if(!Bu){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),Bu=typeof Mh.oninput=="function"}Fu=Bu}else Fu=!1;bc=Fu&&(!document.documentMode||9<document.documentMode)}function Oh(){ds&&(ds.detachEvent("onpropertychange",kc),ks=ds=null)}function kc(n){if(n.propertyName==="value"&&nu(ks)){var s=[];Cc(s,ks,n,al(n)),rc(Dg,s)}}function Ug(n,s,o){n==="focusin"?(Oh(),ds=s,ks=o,ds.attachEvent("onpropertychange",kc)):n==="focusout"&&Oh()}function Hg(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nu(ks)}function qg(n,s){if(n==="click")return nu(s)}function jg(n,s){if(n==="input"||n==="change")return nu(s)}function Wg(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Wn=typeof Object.is=="function"?Object.is:Wg;function Ps(n,s){if(Wn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),p=Object.keys(s);if(o.length!==p.length)return!1;for(p=0;p<o.length;p++){var b=o[p];if(!eo.call(s,b)||!Wn(n[b],s[b]))return!1}return!0}function zh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rh(n,s){var o=zh(n);n=0;for(var p;o;){if(o.nodeType===3){if(p=n+o.textContent.length,n<=s&&p>=s)return{node:o,offset:s-n};n=p}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zh(o)}}function Pc(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Pc(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ic(){for(var n=window,s=Ea();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch(p){o=!1}if(o)n=s.contentWindow;else break;s=Ea(n.document)}return s}function gl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Gg(n){var s=Ic(),o=n.focusedElem,p=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&Pc(o.ownerDocument.documentElement,o)){if(p!==null&&gl(o)){if(s=p.start,n=p.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var b=o.textContent.length,g=Math.min(p.start,b);p=p.end===void 0?g:Math.min(p.end,b),!n.extend&&g>p&&(b=p,p=g,g=b),b=Rh(o,g);var B=Rh(o,p);b&&B&&(n.rangeCount!==1||n.anchorNode!==b.node||n.anchorOffset!==b.offset||n.focusNode!==B.node||n.focusOffset!==B.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),n.removeAllRanges(),g>p?(n.addRange(s),n.extend(B.node,B.offset)):(s.setEnd(B.node,B.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zg=oi&&"documentMode"in document&&11>=document.documentMode,yr=null,wo=null,ps=null,xo=!1;function Fh(n,s,o){var p=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xo||yr==null||yr!==Ea(p)||(p=yr,"selectionStart"in p&&gl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ps&&Ps(ps,p)||(ps=p,p=za(wo,"onSelect"),0<p.length&&(s=new cl("onSelect","select",null,s,o),n.push({event:s,listeners:p}),s.target=yr)))}function sa(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var wr={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},Du={},Ec={};oi&&(Ec=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function iu(n){if(Du[n])return Du[n];if(!wr[n])return n;var s=wr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ec)return Du[n]=s[o];return n}var Tc=iu("animationend"),Ac=iu("animationiteration"),Nc=iu("animationstart"),Lc=iu("transitionend"),Mc=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(n,s){Mc.set(n,s),or(s,[n])}for(var Vu=0;Vu<Bh.length;Vu++){var Uu=Bh[Vu],Qg=Uu.toLowerCase(),Kg=Uu[0].toUpperCase()+Uu.slice(1);Bi(Qg,"on"+Kg)}Bi(Tc,"onAnimationEnd");Bi(Ac,"onAnimationIteration");Bi(Nc,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(Lc,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function Dh(n,s,o){var p=n.type||"unknown-event";n.currentTarget=o,Q0(p,s,void 0,n),n.currentTarget=null}function Oc(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var p=n[o],b=p.event;p=p.listeners;e:{var g=void 0;if(s)for(var B=p.length-1;0<=B;B--){var Z=p[B],Q=Z.instance,ie=Z.currentTarget;if(Z=Z.listener,Q!==g&&b.isPropagationStopped())break e;Dh(b,Z,ie),g=Q}else for(B=0;B<p.length;B++){if(Z=p[B],Q=Z.instance,ie=Z.currentTarget,Z=Z.listener,Q!==g&&b.isPropagationStopped())break e;Dh(b,Z,ie),g=Q}}}if(Aa)throw n=_o,Aa=!1,_o=null,n}function Et(n,s){var o=s[Po];o===void 0&&(o=s[Po]=new Set);var p=n+"__bubble";o.has(p)||(zc(s,n,2,!1),o.add(p))}function Hu(n,s,o){var p=0;s&&(p|=4),zc(o,n,p,s)}var aa="_reactListening"+Math.random().toString(36).slice(2);function Is(n){if(!n[aa]){n[aa]=!0,Hf.forEach(function(o){o!=="selectionchange"&&(Yg.has(o)||Hu(o,!1,n),Hu(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[aa]||(s[aa]=!0,Hu("selectionchange",!1,s))}}function zc(n,s,o,p){switch(mc(s)){case 1:var b=hg;break;case 4:b=fg;break;default:b=hl}o=b.bind(null,s,o,n),b=void 0,!go||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?n.addEventListener(s,o,{capture:!0,passive:b}):n.addEventListener(s,o,!0):b!==void 0?n.addEventListener(s,o,{passive:b}):n.addEventListener(s,o,!1)}function qu(n,s,o,p,b){var g=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var B=p.tag;if(B===3||B===4){var Z=p.stateNode.containerInfo;if(Z===b||Z.nodeType===8&&Z.parentNode===b)break;if(B===4)for(B=p.return;B!==null;){var Q=B.tag;if((Q===3||Q===4)&&(Q=B.stateNode.containerInfo,Q===b||Q.nodeType===8&&Q.parentNode===b))return;B=B.return}for(;Z!==null;){if(B=Xi(Z),B===null)return;if(Q=B.tag,Q===5||Q===6){p=g=B;continue e}Z=Z.parentNode}}p=p.return}rc(function(){var ie=g,le=al(o),ne=[];e:{var fe=Mc.get(n);if(fe!==void 0){var z=cl,me=n;switch(n){case"keypress":if(ma(o)===0)break e;case"keydown":case"keyup":z=Pg;break;case"focusin":me="focus",z=Ru;break;case"focusout":me="blur",z=Ru;break;case"beforeblur":case"afterblur":z=Ru;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Tg;break;case Tc:case Ac:case Nc:z=vg;break;case Lc:z=Ng;break;case"scroll":z=cg;break;case"wheel":z=Mg;break;case"copy":case"cut":case"paste":z=yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Th}var te=(s&4)!==0,Ae=!te&&n==="scroll",K=te?fe!==null?fe+"Capture":null:fe;te=[];for(var X=ie,$;X!==null;){$=X;var de=$.stateNode;if($.tag===5&&de!==null&&($=de,K!==null&&(de=xs(X,K),de!=null&&te.push(Es(X,de,$)))),Ae)break;X=X.return}0<te.length&&(fe=new z(fe,me,null,o,le),ne.push({event:fe,listeners:te}))}}if((s&7)===0){e:{if(fe=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",fe&&o!==co&&(me=o.relatedTarget||o.fromElement)&&(Xi(me)||me[li]))break e;if((z||fe)&&(fe=le.window===le?le:(fe=le.ownerDocument)?fe.defaultView||fe.parentWindow:window,z?(me=o.relatedTarget||o.toElement,z=ie,me=me?Xi(me):null,me!==null&&(Ae=lr(me),me!==Ae||me.tag!==5&&me.tag!==6)&&(me=null)):(z=null,me=ie),z!==me)){if(te=Ih,de="onMouseLeave",K="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(te=Th,de="onPointerLeave",K="onPointerEnter",X="pointer"),Ae=z==null?fe:xr(z),$=me==null?fe:xr(me),fe=new te(de,X+"leave",z,o,le),fe.target=Ae,fe.relatedTarget=$,de=null,Xi(le)===ie&&(te=new te(K,X+"enter",me,o,le),te.target=$,te.relatedTarget=Ae,de=te),Ae=de,z&&me)t:{for(te=z,K=me,X=0,$=te;$;$=gr($))X++;for($=0,de=K;de;de=gr(de))$++;for(;0<X-$;)te=gr(te),X--;for(;0<$-X;)K=gr(K),$--;for(;X--;){if(te===K||K!==null&&te===K.alternate)break t;te=gr(te),K=gr(K)}te=null}else te=null;z!==null&&Vh(ne,fe,z,te,!1),me!==null&&Ae!==null&&Vh(ne,Ae,me,te,!0)}}e:{if(fe=ie?xr(ie):window,z=fe.nodeName&&fe.nodeName.toLowerCase(),z==="select"||z==="input"&&fe.type==="file")var xe=Vg;else if(Lh(fe))if(bc)xe=jg;else{xe=Hg;var R=Ug}else(z=fe.nodeName)&&z.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(xe=qg);if(xe&&(xe=xe(n,ie))){Cc(ne,xe,o,le);break e}R&&R(n,fe,ie),n==="focusout"&&(R=fe._wrapperState)&&R.controlled&&fe.type==="number"&&uo(fe,"number",fe.value)}switch(R=ie?xr(ie):window,n){case"focusin":(Lh(R)||R.contentEditable==="true")&&(yr=R,wo=ie,ps=null);break;case"focusout":ps=wo=yr=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Fh(ne,o,le);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":Fh(ne,o,le)}var ke;if(pl)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else mr?xc(n,o)&&(Oe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(wc&&o.locale!=="ko"&&(mr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&mr&&(ke=yc()):(Ci=le,fl="value"in Ci?Ci.value:Ci.textContent,mr=!0)),R=za(ie,Oe),0<R.length&&(Oe=new Eh(Oe,n,null,o,le),ne.push({event:Oe,listeners:R}),ke?Oe.data=ke:(ke=Sc(o),ke!==null&&(Oe.data=ke)))),(ke=zg?Rg(n,o):Fg(n,o))&&(ie=za(ie,"onBeforeInput"),0<ie.length&&(le=new Eh("onBeforeInput","beforeinput",null,o,le),ne.push({event:le,listeners:ie}),le.data=ke))}Oc(ne,s)})}function Es(n,s,o){return{instance:n,listener:s,currentTarget:o}}function za(n,s){for(var o=s+"Capture",p=[];n!==null;){var b=n,g=b.stateNode;b.tag===5&&g!==null&&(b=g,g=xs(n,o),g!=null&&p.unshift(Es(n,g,b)),g=xs(n,s),g!=null&&p.push(Es(n,g,b))),n=n.return}return p}function gr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Vh(n,s,o,p,b){for(var g=s._reactName,B=[];o!==null&&o!==p;){var Z=o,Q=Z.alternate,ie=Z.stateNode;if(Q!==null&&Q===p)break;Z.tag===5&&ie!==null&&(Z=ie,b?(Q=xs(o,g),Q!=null&&B.unshift(Es(o,Q,Z))):b||(Q=xs(o,g),Q!=null&&B.push(Es(o,Q,Z)))),o=o.return}B.length!==0&&n.push({event:s,listeners:B})}var Xg=/\r\n?/g,Jg=/\u0000|\uFFFD/g;function Uh(n){return(typeof n=="string"?n:""+n).replace(Xg,`
`).replace(Jg,"")}function ua(n,s,o){if(s=Uh(s),Uh(n)!==s&&o)throw Error(Ne(425))}function Ra(){}var So=null,Co=null;function bo(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ko=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,e_=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh!="undefined"?function(n){return Hh.resolve(null).then(n).catch(t_)}:ko;function t_(n){setTimeout(function(){throw n})}function ju(n,s){var o=s,p=0;do{var b=o.nextSibling;if(n.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"){if(p===0){n.removeChild(b),bs(s);return}p--}else o!=="$"&&o!=="$?"&&o!=="$!"||p++;o=b}while(o);bs(s)}function Ei(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function qh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Jn="__reactFiber$"+jr,Ts="__reactProps$"+jr,li="__reactContainer$"+jr,Po="__reactEvents$"+jr,n_="__reactListeners$"+jr,i_="__reactHandles$"+jr;function Xi(n){var s=n[Jn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[li]||o[Jn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=qh(n);n!==null;){if(o=n[Jn])return o;n=qh(n)}return s}n=o,o=n.parentNode}return null}function Ds(n){return n=n[Jn]||n[li],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ne(33))}function ru(n){return n[Ts]||null}var Io=[],Sr=-1;function Di(n){return{current:n}}function Tt(n){0>Sr||(n.current=Io[Sr],Io[Sr]=null,Sr--)}function It(n,s){Sr++,Io[Sr]=n.current,n.current=s}var Fi={},cn=Di(Fi),yn=Di(!1),nr=Fi;function Rr(n,s){var o=n.type.contextTypes;if(!o)return Fi;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var b={},g;for(g in o)b[g]=s[g];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=b),b}function wn(n){return n=n.childContextTypes,n!=null}function Fa(){Tt(yn),Tt(cn)}function jh(n,s,o){if(cn.current!==Fi)throw Error(Ne(168));It(cn,s),It(yn,o)}function Rc(n,s,o){var p=n.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return o;p=p.getChildContext();for(var b in p)if(!(b in s))throw Error(Ne(108,U0(n)||"Unknown",b));return zt({},o,p)}function Ba(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fi,nr=cn.current,It(cn,n),It(yn,yn.current),!0}function Wh(n,s,o){var p=n.stateNode;if(!p)throw Error(Ne(169));o?(n=Rc(n,s,nr),p.__reactInternalMemoizedMergedChildContext=n,Tt(yn),Tt(cn),It(cn,n)):Tt(yn),It(yn,o)}var ri=null,su=!1,Wu=!1;function Fc(n){ri===null?ri=[n]:ri.push(n)}function r_(n){su=!0,Fc(n)}function Vi(){if(!Wu&&ri!==null){Wu=!0;var n=0,s=xt;try{var o=ri;for(xt=1;n<o.length;n++){var p=o[n];do p=p(!0);while(p!==null)}ri=null,su=!1}catch(b){throw ri!==null&&(ri=ri.slice(n+1)),oc(ul,Vi),b}finally{xt=s,Wu=!1}}return null}var Cr=[],br=0,Da=null,Va=0,Nn=[],Ln=0,ir=null,si=1,ai="";function Ki(n,s){Cr[br++]=Va,Cr[br++]=Da,Da=n,Va=s}function Bc(n,s,o){Nn[Ln++]=si,Nn[Ln++]=ai,Nn[Ln++]=ir,ir=n;var p=si;n=ai;var b=32-qn(p)-1;p&=~(1<<b),o+=1;var g=32-qn(s)+b;if(30<g){var B=b-b%5;g=(p&(1<<B)-1).toString(32),p>>=B,b-=B,si=1<<32-qn(s)+b|o<<b|p,ai=g+n}else si=1<<g|o<<b|p,ai=n}function _l(n){n.return!==null&&(Ki(n,1),Bc(n,1,0))}function vl(n){for(;n===Da;)Da=Cr[--br],Cr[br]=null,Va=Cr[--br],Cr[br]=null;for(;n===ir;)ir=Nn[--Ln],Nn[Ln]=null,ai=Nn[--Ln],Nn[Ln]=null,si=Nn[--Ln],Nn[Ln]=null}var kn=null,bn=null,Nt=!1,Hn=null;function Dc(n,s){var o=Mn(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function Gh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,kn=n,bn=Ei(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,kn=n,bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=ir!==null?{id:si,overflow:ai}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Mn(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,kn=n,bn=null,!0):!1;default:return!1}}function Eo(n){return(n.mode&1)!==0&&(n.flags&128)===0}function To(n){if(Nt){var s=bn;if(s){var o=s;if(!Gh(n,s)){if(Eo(n))throw Error(Ne(418));s=Ei(o.nextSibling);var p=kn;s&&Gh(n,s)?Dc(p,o):(n.flags=n.flags&-4097|2,Nt=!1,kn=n)}}else{if(Eo(n))throw Error(Ne(418));n.flags=n.flags&-4097|2,Nt=!1,kn=n}}}function Zh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kn=n}function oa(n){if(n!==kn)return!1;if(!Nt)return Zh(n),Nt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!bo(n.type,n.memoizedProps)),s&&(s=bn)){if(Eo(n))throw Vc(),Error(Ne(418));for(;s;)Dc(n,s),s=Ei(s.nextSibling)}if(Zh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ne(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){bn=Ei(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}bn=null}}else bn=kn?Ei(n.stateNode.nextSibling):null;return!0}function Vc(){for(var n=bn;n;)n=Ei(n.nextSibling)}function Fr(){bn=kn=null,Nt=!1}function ml(n){Hn===null?Hn=[n]:Hn.push(n)}var s_=ci.ReactCurrentBatchConfig;function Vn(n,s){if(n&&n.defaultProps){s=zt({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}var Ua=Di(null),Ha=null,kr=null,yl=null;function wl(){yl=kr=Ha=null}function xl(n){var s=Ua.current;Tt(Ua),n._currentValue=s}function Ao(n,s,o){for(;n!==null;){var p=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),n===o)break;n=n.return}}function Lr(n,s){Ha=n,yl=kr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(mn=!0),n.firstContext=null)}function zn(n){var s=n._currentValue;if(yl!==n)if(n={context:n,memoizedValue:s,next:null},kr===null){if(Ha===null)throw Error(Ne(308));kr=n,Ha.dependencies={lanes:0,firstContext:n}}else kr=kr.next=n;return s}var Ji=null;function Sl(n){Ji===null?Ji=[n]:Ji.push(n)}function Uc(n,s,o,p){var b=s.interleaved;return b===null?(o.next=o,Sl(s)):(o.next=b.next,b.next=o),s.interleaved=o,hi(n,p)}function hi(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var wi=!1;function Cl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ui(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ti(n,s,o){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(_t&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,hi(n,o)}return b=p.interleaved,b===null?(s.next=s,Sl(p)):(s.next=b.next,b.next=s),p.interleaved=s,hi(n,o)}function ya(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var p=s.lanes;p&=n.pendingLanes,o|=p,s.lanes=o,ol(n,o)}}function Qh(n,s){var o=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,o===p)){var b=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var B={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?b=g=B:g=g.next=B,o=o.next}while(o!==null);g===null?b=g=s:g=g.next=s}else b=g=s;o={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:g,shared:p.shared,effects:p.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function qa(n,s,o,p){var b=n.updateQueue;wi=!1;var g=b.firstBaseUpdate,B=b.lastBaseUpdate,Z=b.shared.pending;if(Z!==null){b.shared.pending=null;var Q=Z,ie=Q.next;Q.next=null,B===null?g=ie:B.next=ie,B=Q;var le=n.alternate;le!==null&&(le=le.updateQueue,Z=le.lastBaseUpdate,Z!==B&&(Z===null?le.firstBaseUpdate=ie:Z.next=ie,le.lastBaseUpdate=Q))}if(g!==null){var ne=b.baseState;B=0,le=ie=Q=null,Z=g;do{var fe=Z.lane,z=Z.eventTime;if((p&fe)===fe){le!==null&&(le=le.next={eventTime:z,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var me=n,te=Z;switch(fe=s,z=o,te.tag){case 1:if(me=te.payload,typeof me=="function"){ne=me.call(z,ne,fe);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=te.payload,fe=typeof me=="function"?me.call(z,ne,fe):me,fe==null)break e;ne=zt({},ne,fe);break e;case 2:wi=!0}}Z.callback!==null&&Z.lane!==0&&(n.flags|=64,fe=b.effects,fe===null?b.effects=[Z]:fe.push(Z))}else z={eventTime:z,lane:fe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},le===null?(ie=le=z,Q=ne):le=le.next=z,B|=fe;if(Z=Z.next,Z===null){if(Z=b.shared.pending,Z===null)break;fe=Z,Z=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(1);if(le===null&&(Q=ne),b.baseState=Q,b.firstBaseUpdate=ie,b.lastBaseUpdate=le,s=b.shared.interleaved,s!==null){b=s;do B|=b.lane,b=b.next;while(b!==s)}else g===null&&(b.shared.lanes=0);sr|=B,n.lanes=B,n.memoizedState=ne}}function Kh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var p=n[s],b=p.callback;if(b!==null){if(p.callback=null,p=o,typeof b!="function")throw Error(Ne(191,b));b.call(p)}}}var qc=new Uf.Component().refs;function No(n,s,o,p){s=n.memoizedState,o=o(p,s),o=o==null?s:zt({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var au={isMounted:function(n){return(n=n._reactInternals)?lr(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var p=pn(),b=Ni(n),g=ui(p,b);g.payload=s,o!=null&&(g.callback=o),s=Ti(n,g,b),s!==null&&(jn(s,n,b,p),ya(s,n,b))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var p=pn(),b=Ni(n),g=ui(p,b);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=Ti(n,g,b),s!==null&&(jn(s,n,b,p),ya(s,n,b))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=pn(),p=Ni(n),b=ui(o,p);b.tag=2,s!=null&&(b.callback=s),s=Ti(n,b,p),s!==null&&(jn(s,n,p,o),ya(s,n,p))}};function Yh(n,s,o,p,b,g,B){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,g,B):s.prototype&&s.prototype.isPureReactComponent?!Ps(o,p)||!Ps(b,g):!0}function jc(n,s,o){var p=!1,b=Fi,g=s.contextType;return typeof g=="object"&&g!==null?g=zn(g):(b=wn(s)?nr:cn.current,p=s.contextTypes,g=(p=p!=null)?Rr(n,b):Fi),s=new s(o,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=au,n.stateNode=s,s._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=b,n.__reactInternalMemoizedMaskedChildContext=g),s}function Xh(n,s,o,p){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,p),s.state!==n&&au.enqueueReplaceState(s,s.state,null)}function Lo(n,s,o,p){var b=n.stateNode;b.props=o,b.state=n.memoizedState,b.refs=qc,Cl(n);var g=s.contextType;typeof g=="object"&&g!==null?b.context=zn(g):(g=wn(s)?nr:cn.current,b.context=Rr(n,g)),b.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(No(n,s,g,o),b.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&au.enqueueReplaceState(b,b.state,null),qa(n,o,b,p),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308)}function ts(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(Ne(309));var p=o.stateNode}if(!p)throw Error(Ne(147,n));var b=p,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(B){var Z=b.refs;Z===qc&&(Z=b.refs={}),B===null?delete Z[g]:Z[g]=B},s._stringRef=g,s)}if(typeof n!="string")throw Error(Ne(284));if(!o._owner)throw Error(Ne(290,n))}return n}function la(n,s){throw n=Object.prototype.toString.call(s),Error(Ne(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Jh(n){var s=n._init;return s(n._payload)}function Wc(n){function s(K,X){if(n){var $=K.deletions;$===null?(K.deletions=[X],K.flags|=16):$.push(X)}}function o(K,X){if(!n)return null;for(;X!==null;)s(K,X),X=X.sibling;return null}function p(K,X){for(K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function b(K,X){return K=Li(K,X),K.index=0,K.sibling=null,K}function g(K,X,$){return K.index=$,n?($=K.alternate,$!==null?($=$.index,$<X?(K.flags|=2,X):$):(K.flags|=2,X)):(K.flags|=1048576,X)}function B(K){return n&&K.alternate===null&&(K.flags|=2),K}function Z(K,X,$,de){return X===null||X.tag!==6?(X=Ju($,K.mode,de),X.return=K,X):(X=b(X,$),X.return=K,X)}function Q(K,X,$,de){var xe=$.type;return xe===vr?le(K,X,$.props.children,de,$.key):X!==null&&(X.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===yi&&Jh(xe)===X.type)?(de=b(X,$.props),de.ref=ts(K,X,$),de.return=K,de):(de=ka($.type,$.key,$.props,null,K.mode,de),de.ref=ts(K,X,$),de.return=K,de)}function ie(K,X,$,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==$.containerInfo||X.stateNode.implementation!==$.implementation?(X=$u($,K.mode,de),X.return=K,X):(X=b(X,$.children||[]),X.return=K,X)}function le(K,X,$,de,xe){return X===null||X.tag!==7?(X=tr($,K.mode,de,xe),X.return=K,X):(X=b(X,$),X.return=K,X)}function ne(K,X,$){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Ju(""+X,K.mode,$),X.return=K,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Js:return $=ka(X.type,X.key,X.props,null,K.mode,$),$.ref=ts(K,null,X),$.return=K,$;case _r:return X=$u(X,K.mode,$),X.return=K,X;case yi:var de=X._init;return ne(K,de(X._payload),$)}if(as(X)||Yr(X))return X=tr(X,K.mode,$,null),X.return=K,X;la(K,X)}return null}function fe(K,X,$,de){var xe=X!==null?X.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return xe!==null?null:Z(K,X,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Js:return $.key===xe?Q(K,X,$,de):null;case _r:return $.key===xe?ie(K,X,$,de):null;case yi:return xe=$._init,fe(K,X,xe($._payload),de)}if(as($)||Yr($))return xe!==null?null:le(K,X,$,de,null);la(K,$)}return null}function z(K,X,$,de,xe){if(typeof de=="string"&&de!==""||typeof de=="number")return K=K.get($)||null,Z(X,K,""+de,xe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case Js:return K=K.get(de.key===null?$:de.key)||null,Q(X,K,de,xe);case _r:return K=K.get(de.key===null?$:de.key)||null,ie(X,K,de,xe);case yi:var R=de._init;return z(K,X,$,R(de._payload),xe)}if(as(de)||Yr(de))return K=K.get($)||null,le(X,K,de,xe,null);la(X,de)}return null}function me(K,X,$,de){for(var xe=null,R=null,ke=X,Oe=X=0,Fe=null;ke!==null&&Oe<$.length;Oe++){ke.index>Oe?(Fe=ke,ke=null):Fe=ke.sibling;var De=fe(K,ke,$[Oe],de);if(De===null){ke===null&&(ke=Fe);break}n&&ke&&De.alternate===null&&s(K,ke),X=g(De,X,Oe),R===null?xe=De:R.sibling=De,R=De,ke=Fe}if(Oe===$.length)return o(K,ke),Nt&&Ki(K,Oe),xe;if(ke===null){for(;Oe<$.length;Oe++)ke=ne(K,$[Oe],de),ke!==null&&(X=g(ke,X,Oe),R===null?xe=ke:R.sibling=ke,R=ke);return Nt&&Ki(K,Oe),xe}for(ke=p(K,ke);Oe<$.length;Oe++)Fe=z(ke,K,Oe,$[Oe],de),Fe!==null&&(n&&Fe.alternate!==null&&ke.delete(Fe.key===null?Oe:Fe.key),X=g(Fe,X,Oe),R===null?xe=Fe:R.sibling=Fe,R=Fe);return n&&ke.forEach(function(st){return s(K,st)}),Nt&&Ki(K,Oe),xe}function te(K,X,$,de){var xe=Yr($);if(typeof xe!="function")throw Error(Ne(150));if($=xe.call($),$==null)throw Error(Ne(151));for(var R=xe=null,ke=X,Oe=X=0,Fe=null,De=$.next();ke!==null&&!De.done;Oe++,De=$.next()){ke.index>Oe?(Fe=ke,ke=null):Fe=ke.sibling;var st=fe(K,ke,De.value,de);if(st===null){ke===null&&(ke=Fe);break}n&&ke&&st.alternate===null&&s(K,ke),X=g(st,X,Oe),R===null?xe=st:R.sibling=st,R=st,ke=Fe}if(De.done)return o(K,ke),Nt&&Ki(K,Oe),xe;if(ke===null){for(;!De.done;Oe++,De=$.next())De=ne(K,De.value,de),De!==null&&(X=g(De,X,Oe),R===null?xe=De:R.sibling=De,R=De);return Nt&&Ki(K,Oe),xe}for(ke=p(K,ke);!De.done;Oe++,De=$.next())De=z(ke,K,Oe,De.value,de),De!==null&&(n&&De.alternate!==null&&ke.delete(De.key===null?Oe:De.key),X=g(De,X,Oe),R===null?xe=De:R.sibling=De,R=De);return n&&ke.forEach(function(je){return s(K,je)}),Nt&&Ki(K,Oe),xe}function Ae(K,X,$,de){if(typeof $=="object"&&$!==null&&$.type===vr&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Js:e:{for(var xe=$.key,R=X;R!==null;){if(R.key===xe){if(xe=$.type,xe===vr){if(R.tag===7){o(K,R.sibling),X=b(R,$.props.children),X.return=K,K=X;break e}}else if(R.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===yi&&Jh(xe)===R.type){o(K,R.sibling),X=b(R,$.props),X.ref=ts(K,R,$),X.return=K,K=X;break e}o(K,R);break}else s(K,R);R=R.sibling}$.type===vr?(X=tr($.props.children,K.mode,de,$.key),X.return=K,K=X):(de=ka($.type,$.key,$.props,null,K.mode,de),de.ref=ts(K,X,$),de.return=K,K=de)}return B(K);case _r:e:{for(R=$.key;X!==null;){if(X.key===R)if(X.tag===4&&X.stateNode.containerInfo===$.containerInfo&&X.stateNode.implementation===$.implementation){o(K,X.sibling),X=b(X,$.children||[]),X.return=K,K=X;break e}else{o(K,X);break}else s(K,X);X=X.sibling}X=$u($,K.mode,de),X.return=K,K=X}return B(K);case yi:return R=$._init,Ae(K,X,R($._payload),de)}if(as($))return me(K,X,$,de);if(Yr($))return te(K,X,$,de);la(K,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,X!==null&&X.tag===6?(o(K,X.sibling),X=b(X,$),X.return=K,K=X):(o(K,X),X=Ju($,K.mode,de),X.return=K,K=X),B(K)):o(K,X)}return Ae}var Br=Wc(!0),Gc=Wc(!1),Vs={},ei=Di(Vs),As=Di(Vs),Ns=Di(Vs);function $i(n){if(n===Vs)throw Error(Ne(174));return n}function bl(n,s){switch(It(Ns,s),It(As,n),It(ei,Vs),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lo(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=lo(s,n)}Tt(ei),It(ei,s)}function Dr(){Tt(ei),Tt(As),Tt(Ns)}function Zc(n){$i(Ns.current);var s=$i(ei.current),o=lo(s,n.type);s!==o&&(It(As,n),It(ei,o))}function kl(n){As.current===n&&(Tt(ei),Tt(As))}var Mt=Di(0);function ja(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gu=[];function Pl(){for(var n=0;n<Gu.length;n++)Gu[n]._workInProgressVersionPrimary=null;Gu.length=0}var wa=ci.ReactCurrentDispatcher,Zu=ci.ReactCurrentBatchConfig,rr=0,Ot=null,Qt=null,$t=null,Wa=!1,gs=!1,Ls=0,a_=0;function ln(){throw Error(Ne(321))}function Il(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Wn(n[o],s[o]))return!1;return!0}function El(n,s,o,p,b,g){if(rr=g,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,wa.current=n===null||n.memoizedState===null?h_:f_,n=o(p,b),gs){g=0;do{if(gs=!1,Ls=0,25<=g)throw Error(Ne(301));g+=1,$t=Qt=null,s.updateQueue=null,wa.current=c_,n=o(p,b)}while(gs)}if(wa.current=Ga,s=Qt!==null&&Qt.next!==null,rr=0,$t=Qt=Ot=null,Wa=!1,s)throw Error(Ne(300));return n}function Tl(){var n=Ls!==0;return Ls=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ot.memoizedState=$t=n:$t=$t.next=n,$t}function Rn(){if(Qt===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var s=$t===null?Ot.memoizedState:$t.next;if(s!==null)$t=s,Qt=n;else{if(n===null)throw Error(Ne(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},$t===null?Ot.memoizedState=$t=n:$t=$t.next=n}return $t}function Ms(n,s){return typeof s=="function"?s(n):s}function Qu(n){var s=Rn(),o=s.queue;if(o===null)throw Error(Ne(311));o.lastRenderedReducer=n;var p=Qt,b=p.baseQueue,g=o.pending;if(g!==null){if(b!==null){var B=b.next;b.next=g.next,g.next=B}p.baseQueue=b=g,o.pending=null}if(b!==null){g=b.next,p=p.baseState;var Z=B=null,Q=null,ie=g;do{var le=ie.lane;if((rr&le)===le)Q!==null&&(Q=Q.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:n(p,ie.action);else{var ne={lane:le,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Q===null?(Z=Q=ne,B=p):Q=Q.next=ne,Ot.lanes|=le,sr|=le}ie=ie.next}while(ie!==null&&ie!==g);Q===null?B=p:Q.next=Z,Wn(p,s.memoizedState)||(mn=!0),s.memoizedState=p,s.baseState=B,s.baseQueue=Q,o.lastRenderedState=p}if(n=o.interleaved,n!==null){b=n;do g=b.lane,Ot.lanes|=g,sr|=g,b=b.next;while(b!==n)}else b===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Ku(n){var s=Rn(),o=s.queue;if(o===null)throw Error(Ne(311));o.lastRenderedReducer=n;var p=o.dispatch,b=o.pending,g=s.memoizedState;if(b!==null){o.pending=null;var B=b=b.next;do g=n(g,B.action),B=B.next;while(B!==b);Wn(g,s.memoizedState)||(mn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,p]}function Qc(){}function Kc(n,s){var o=Ot,p=Rn(),b=s(),g=!Wn(p.memoizedState,b);if(g&&(p.memoizedState=b,mn=!0),p=p.queue,Al(Jc.bind(null,o,p,n),[n]),p.getSnapshot!==s||g||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,Os(9,Xc.bind(null,o,p,b,s),void 0,null),en===null)throw Error(Ne(349));(rr&30)!==0||Yc(o,s,b)}return b}function Yc(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ot.updateQueue,s===null?(s={lastEffect:null,stores:null},Ot.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Xc(n,s,o,p){s.value=o,s.getSnapshot=p,$c(s)&&ed(n)}function Jc(n,s,o){return o(function(){$c(s)&&ed(n)})}function $c(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Wn(n,o)}catch(p){return!0}}function ed(n){var s=hi(n,1);s!==null&&jn(s,n,1,-1)}function $h(n){var s=Yn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:n},s.queue=n,n=n.dispatch=l_.bind(null,Ot,n),[s.memoizedState,n]}function Os(n,s,o,p){return n={tag:n,create:s,destroy:o,deps:p,next:null},s=Ot.updateQueue,s===null?(s={lastEffect:null,stores:null},Ot.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(p=o.next,o.next=n,n.next=p,s.lastEffect=n)),n}function td(){return Rn().memoizedState}function xa(n,s,o,p){var b=Yn();Ot.flags|=n,b.memoizedState=Os(1|s,o,void 0,p===void 0?null:p)}function uu(n,s,o,p){var b=Rn();p=p===void 0?null:p;var g=void 0;if(Qt!==null){var B=Qt.memoizedState;if(g=B.destroy,p!==null&&Il(p,B.deps)){b.memoizedState=Os(s,o,g,p);return}}Ot.flags|=n,b.memoizedState=Os(1|s,o,g,p)}function ef(n,s){return xa(8390656,8,n,s)}function Al(n,s){return uu(2048,8,n,s)}function nd(n,s){return uu(4,2,n,s)}function id(n,s){return uu(4,4,n,s)}function rd(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function sd(n,s,o){return o=o!=null?o.concat([n]):null,uu(4,4,rd.bind(null,s,n),o)}function Nl(){}function ad(n,s){var o=Rn();s=s===void 0?null:s;var p=o.memoizedState;return p!==null&&s!==null&&Il(s,p[1])?p[0]:(o.memoizedState=[n,s],n)}function ud(n,s){var o=Rn();s=s===void 0?null:s;var p=o.memoizedState;return p!==null&&s!==null&&Il(s,p[1])?p[0]:(n=n(),o.memoizedState=[n,s],n)}function od(n,s,o){return(rr&21)===0?(n.baseState&&(n.baseState=!1,mn=!0),n.memoizedState=o):(Wn(o,s)||(o=fc(),Ot.lanes|=o,sr|=o,n.baseState=!0),s)}function u_(n,s){var o=xt;xt=o!==0&&4>o?o:4,n(!0);var p=Zu.transition;Zu.transition={};try{n(!1),s()}finally{xt=o,Zu.transition=p}}function ld(){return Rn().memoizedState}function o_(n,s,o){var p=Ni(n);if(o={lane:p,action:o,hasEagerState:!1,eagerState:null,next:null},hd(n))fd(s,o);else if(o=Uc(n,s,o,p),o!==null){var b=pn();jn(o,n,p,b),cd(o,s,p)}}function l_(n,s,o){var p=Ni(n),b={lane:p,action:o,hasEagerState:!1,eagerState:null,next:null};if(hd(n))fd(s,b);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var B=s.lastRenderedState,Z=g(B,o);if(b.hasEagerState=!0,b.eagerState=Z,Wn(Z,B)){var Q=s.interleaved;Q===null?(b.next=b,Sl(s)):(b.next=Q.next,Q.next=b),s.interleaved=b;return}}catch(ie){}finally{}o=Uc(n,s,b,p),o!==null&&(b=pn(),jn(o,n,p,b),cd(o,s,p))}}function hd(n){var s=n.alternate;return n===Ot||s!==null&&s===Ot}function fd(n,s){gs=Wa=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function cd(n,s,o){if((o&4194240)!==0){var p=s.lanes;p&=n.pendingLanes,o|=p,s.lanes=o,ol(n,o)}}var Ga={readContext:zn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},h_={readContext:zn,useCallback:function(n,s){return Yn().memoizedState=[n,s===void 0?null:s],n},useContext:zn,useEffect:ef,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,xa(4194308,4,rd.bind(null,s,n),o)},useLayoutEffect:function(n,s){return xa(4194308,4,n,s)},useInsertionEffect:function(n,s){return xa(4,2,n,s)},useMemo:function(n,s){var o=Yn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var p=Yn();return s=o!==void 0?o(s):s,p.memoizedState=p.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},p.queue=n,n=n.dispatch=o_.bind(null,Ot,n),[p.memoizedState,n]},useRef:function(n){var s=Yn();return n={current:n},s.memoizedState=n},useState:$h,useDebugValue:Nl,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=$h(!1),s=n[0];return n=u_.bind(null,n[1]),Yn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var p=Ot,b=Yn();if(Nt){if(o===void 0)throw Error(Ne(407));o=o()}else{if(o=s(),en===null)throw Error(Ne(349));(rr&30)!==0||Yc(p,s,o)}b.memoizedState=o;var g={value:o,getSnapshot:s};return b.queue=g,ef(Jc.bind(null,p,g,n),[n]),p.flags|=2048,Os(9,Xc.bind(null,p,g,o,s),void 0,null),o},useId:function(){var n=Yn(),s=en.identifierPrefix;if(Nt){var o=ai,p=si;o=(p&~(1<<32-qn(p)-1)).toString(32)+o,s=":"+s+"R"+o,o=Ls++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=a_++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},f_={readContext:zn,useCallback:ad,useContext:zn,useEffect:Al,useImperativeHandle:sd,useInsertionEffect:nd,useLayoutEffect:id,useMemo:ud,useReducer:Qu,useRef:td,useState:function(){return Qu(Ms)},useDebugValue:Nl,useDeferredValue:function(n){var s=Rn();return od(s,Qt.memoizedState,n)},useTransition:function(){var n=Qu(Ms)[0],s=Rn().memoizedState;return[n,s]},useMutableSource:Qc,useSyncExternalStore:Kc,useId:ld,unstable_isNewReconciler:!1},c_={readContext:zn,useCallback:ad,useContext:zn,useEffect:Al,useImperativeHandle:sd,useInsertionEffect:nd,useLayoutEffect:id,useMemo:ud,useReducer:Ku,useRef:td,useState:function(){return Ku(Ms)},useDebugValue:Nl,useDeferredValue:function(n){var s=Rn();return Qt===null?s.memoizedState=n:od(s,Qt.memoizedState,n)},useTransition:function(){var n=Ku(Ms)[0],s=Rn().memoizedState;return[n,s]},useMutableSource:Qc,useSyncExternalStore:Kc,useId:ld,unstable_isNewReconciler:!1};function Vr(n,s){try{var o="",p=s;do o+=V0(p),p=p.return;while(p);var b=o}catch(g){b=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:b,digest:null}}function Yu(n,s,o){return{value:n,source:null,stack:o!=null?o:null,digest:s!=null?s:null}}function Mo(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var d_=typeof WeakMap=="function"?WeakMap:Map;function dd(n,s,o){o=ui(-1,o),o.tag=3,o.payload={element:null};var p=s.value;return o.callback=function(){Qa||(Qa=!0,qo=p),Mo(n,s)},o}function pd(n,s,o){o=ui(-1,o),o.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var b=s.value;o.payload=function(){return p(b)},o.callback=function(){Mo(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Mo(n,s),typeof p!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var B=s.stack;this.componentDidCatch(s.value,{componentStack:B!==null?B:""})}),o}function tf(n,s,o){var p=n.pingCache;if(p===null){p=n.pingCache=new d_;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(o)||(b.add(o),n=I_.bind(null,n,s,o),s.then(n,n))}function nf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function rf(n,s,o,p,b){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=ui(-1,1),s.tag=2,Ti(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=b,n)}var p_=ci.ReactCurrentOwner,mn=!1;function dn(n,s,o,p){s.child=n===null?Gc(s,null,o,p):Br(s,n.child,o,p)}function sf(n,s,o,p,b){o=o.render;var g=s.ref;return Lr(s,b),p=El(n,s,o,p,g,b),o=Tl(),n!==null&&!mn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~b,fi(n,s,b)):(Nt&&o&&_l(s),s.flags|=1,dn(n,s,p,b),s.child)}function af(n,s,o,p,b){if(n===null){var g=o.type;return typeof g=="function"&&!Dl(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,gd(n,s,g,p,b)):(n=ka(o.type,null,p,s,s.mode,b),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&b)===0){var B=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ps,o(B,p)&&n.ref===s.ref)return fi(n,s,b)}return s.flags|=1,n=Li(g,p),n.ref=s.ref,n.return=s,s.child=n}function gd(n,s,o,p,b){if(n!==null){var g=n.memoizedProps;if(Ps(g,p)&&n.ref===s.ref)if(mn=!1,s.pendingProps=p=g,(n.lanes&b)!==0)(n.flags&131072)!==0&&(mn=!0);else return s.lanes=n.lanes,fi(n,s,b)}return Oo(n,s,o,p,b)}function _d(n,s,o){var p=s.pendingProps,b=p.children,g=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ir,Cn),Cn|=o;else{if((o&1073741824)===0)return n=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,It(Ir,Cn),Cn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=g!==null?g.baseLanes:o,It(Ir,Cn),Cn|=p}else g!==null?(p=g.baseLanes|o,s.memoizedState=null):p=o,It(Ir,Cn),Cn|=p;return dn(n,s,b,o),s.child}function vd(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Oo(n,s,o,p,b){var g=wn(o)?nr:cn.current;return g=Rr(s,g),Lr(s,b),o=El(n,s,o,p,g,b),p=Tl(),n!==null&&!mn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~b,fi(n,s,b)):(Nt&&p&&_l(s),s.flags|=1,dn(n,s,o,b),s.child)}function uf(n,s,o,p,b){if(wn(o)){var g=!0;Ba(s)}else g=!1;if(Lr(s,b),s.stateNode===null)Sa(n,s),jc(s,o,p),Lo(s,o,p,b),p=!0;else if(n===null){var B=s.stateNode,Z=s.memoizedProps;B.props=Z;var Q=B.context,ie=o.contextType;typeof ie=="object"&&ie!==null?ie=zn(ie):(ie=wn(o)?nr:cn.current,ie=Rr(s,ie));var le=o.getDerivedStateFromProps,ne=typeof le=="function"||typeof B.getSnapshotBeforeUpdate=="function";ne||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Z!==p||Q!==ie)&&Xh(s,B,p,ie),wi=!1;var fe=s.memoizedState;B.state=fe,qa(s,p,B,b),Q=s.memoizedState,Z!==p||fe!==Q||yn.current||wi?(typeof le=="function"&&(No(s,o,le,p),Q=s.memoizedState),(Z=wi||Yh(s,o,Z,p,fe,Q,ie))?(ne||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(s.flags|=4194308)):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Q),B.props=p,B.state=Q,B.context=ie,p=Z):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{B=s.stateNode,Hc(n,s),Z=s.memoizedProps,ie=s.type===s.elementType?Z:Vn(s.type,Z),B.props=ie,ne=s.pendingProps,fe=B.context,Q=o.contextType,typeof Q=="object"&&Q!==null?Q=zn(Q):(Q=wn(o)?nr:cn.current,Q=Rr(s,Q));var z=o.getDerivedStateFromProps;(le=typeof z=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Z!==ne||fe!==Q)&&Xh(s,B,p,Q),wi=!1,fe=s.memoizedState,B.state=fe,qa(s,p,B,b);var me=s.memoizedState;Z!==ne||fe!==me||yn.current||wi?(typeof z=="function"&&(No(s,o,z,p),me=s.memoizedState),(ie=wi||Yh(s,o,ie,p,fe,me,Q)||!1)?(le||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(p,me,Q),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(p,me,Q)),typeof B.componentDidUpdate=="function"&&(s.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof B.componentDidUpdate!="function"||Z===n.memoizedProps&&fe===n.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&fe===n.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=me),B.props=p,B.state=me,B.context=Q,p=ie):(typeof B.componentDidUpdate!="function"||Z===n.memoizedProps&&fe===n.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&fe===n.memoizedState||(s.flags|=1024),p=!1)}return zo(n,s,o,p,g,b)}function zo(n,s,o,p,b,g){vd(n,s);var B=(s.flags&128)!==0;if(!p&&!B)return b&&Wh(s,o,!1),fi(n,s,g);p=s.stateNode,p_.current=s;var Z=B&&typeof o.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,n!==null&&B?(s.child=Br(s,n.child,null,g),s.child=Br(s,null,Z,g)):dn(n,s,Z,g),s.memoizedState=p.state,b&&Wh(s,o,!0),s.child}function md(n){var s=n.stateNode;s.pendingContext?jh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&jh(n,s.context,!1),bl(n,s.containerInfo)}function of(n,s,o,p,b){return Fr(),ml(b),s.flags|=256,dn(n,s,o,p),s.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function Fo(n){return{baseLanes:n,cachePool:null,transitions:null}}function yd(n,s,o){var p=s.pendingProps,b=Mt.current,g=!1,B=(s.flags&128)!==0,Z;if((Z=B)||(Z=n!==null&&n.memoizedState===null?!1:(b&2)!==0),Z?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(b|=1),It(Mt,b&1),n===null)return To(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(B=p.children,n=p.fallback,g?(p=s.mode,g=s.child,B={mode:"hidden",children:B},(p&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=B):g=hu(B,p,0,null),n=tr(n,p,o,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Fo(o),s.memoizedState=Ro,n):Ll(s,B));if(b=n.memoizedState,b!==null&&(Z=b.dehydrated,Z!==null))return g_(n,s,B,p,Z,b,o);if(g){g=p.fallback,B=s.mode,b=n.child,Z=b.sibling;var Q={mode:"hidden",children:p.children};return(B&1)===0&&s.child!==b?(p=s.child,p.childLanes=0,p.pendingProps=Q,s.deletions=null):(p=Li(b,Q),p.subtreeFlags=b.subtreeFlags&14680064),Z!==null?g=Li(Z,g):(g=tr(g,B,o,null),g.flags|=2),g.return=s,p.return=s,p.sibling=g,s.child=p,p=g,g=s.child,B=n.child.memoizedState,B=B===null?Fo(o):{baseLanes:B.baseLanes|o,cachePool:null,transitions:B.transitions},g.memoizedState=B,g.childLanes=n.childLanes&~o,s.memoizedState=Ro,p}return g=n.child,n=g.sibling,p=Li(g,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=o),p.return=s,p.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=p,s.memoizedState=null,p}function Ll(n,s){return s=hu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function ha(n,s,o,p){return p!==null&&ml(p),Br(s,n.child,null,o),n=Ll(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function g_(n,s,o,p,b,g,B){if(o)return s.flags&256?(s.flags&=-257,p=Yu(Error(Ne(422))),ha(n,s,B,p)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=p.fallback,b=s.mode,p=hu({mode:"visible",children:p.children},b,0,null),g=tr(g,b,B,null),g.flags|=2,p.return=s,g.return=s,p.sibling=g,s.child=p,(s.mode&1)!==0&&Br(s,n.child,null,B),s.child.memoizedState=Fo(B),s.memoizedState=Ro,g);if((s.mode&1)===0)return ha(n,s,B,null);if(b.data==="$!"){if(p=b.nextSibling&&b.nextSibling.dataset,p)var Z=p.dgst;return p=Z,g=Error(Ne(419)),p=Yu(g,p,void 0),ha(n,s,B,p)}if(Z=(B&n.childLanes)!==0,mn||Z){if(p=en,p!==null){switch(B&-B){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(p.suspendedLanes|B))!==0?0:b,b!==0&&b!==g.retryLane&&(g.retryLane=b,hi(n,b),jn(p,n,b,-1))}return Bl(),p=Yu(Error(Ne(421))),ha(n,s,B,p)}return b.data==="$?"?(s.flags|=128,s.child=n.child,s=E_.bind(null,n),b._reactRetry=s,null):(n=g.treeContext,bn=Ei(b.nextSibling),kn=s,Nt=!0,Hn=null,n!==null&&(Nn[Ln++]=si,Nn[Ln++]=ai,Nn[Ln++]=ir,si=n.id,ai=n.overflow,ir=s),s=Ll(s,p.children),s.flags|=4096,s)}function lf(n,s,o){n.lanes|=s;var p=n.alternate;p!==null&&(p.lanes|=s),Ao(n.return,s,o)}function Xu(n,s,o,p,b){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:o,tailMode:b}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=p,g.tail=o,g.tailMode=b)}function wd(n,s,o){var p=s.pendingProps,b=p.revealOrder,g=p.tail;if(dn(n,s,p.children,o),p=Mt.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lf(n,o,s);else if(n.tag===19)lf(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(It(Mt,p),(s.mode&1)===0)s.memoizedState=null;else switch(b){case"forwards":for(o=s.child,b=null;o!==null;)n=o.alternate,n!==null&&ja(n)===null&&(b=o),o=o.sibling;o=b,o===null?(b=s.child,s.child=null):(b=o.sibling,o.sibling=null),Xu(s,!1,b,o,g);break;case"backwards":for(o=null,b=s.child,s.child=null;b!==null;){if(n=b.alternate,n!==null&&ja(n)===null){s.child=b;break}n=b.sibling,b.sibling=o,o=b,b=n}Xu(s,!0,o,null,g);break;case"together":Xu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sa(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function fi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),sr|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(Ne(153));if(s.child!==null){for(n=s.child,o=Li(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Li(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function __(n,s,o){switch(s.tag){case 3:md(s),Fr();break;case 5:Zc(s);break;case 1:wn(s.type)&&Ba(s);break;case 4:bl(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,b=s.memoizedProps.value;It(Ua,p._currentValue),p._currentValue=b;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(It(Mt,Mt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?yd(n,s,o):(It(Mt,Mt.current&1),n=fi(n,s,o),n!==null?n.sibling:null);It(Mt,Mt.current&1);break;case 19:if(p=(o&s.childLanes)!==0,(n.flags&128)!==0){if(p)return wd(n,s,o);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),It(Mt,Mt.current),p)break;return null;case 22:case 23:return s.lanes=0,_d(n,s,o)}return fi(n,s,o)}var xd,Bo,Sd,Cd;xd=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bo=function(){};Sd=function(n,s,o,p){var b=n.memoizedProps;if(b!==p){n=s.stateNode,$i(ei.current);var g=null;switch(o){case"input":b=so(n,b),p=so(n,p),g=[];break;case"select":b=zt({},b,{value:void 0}),p=zt({},p,{value:void 0}),g=[];break;case"textarea":b=oo(n,b),p=oo(n,p),g=[];break;default:typeof b.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=Ra)}ho(o,p);var B;o=null;for(ie in b)if(!p.hasOwnProperty(ie)&&b.hasOwnProperty(ie)&&b[ie]!=null)if(ie==="style"){var Z=b[ie];for(B in Z)Z.hasOwnProperty(B)&&(o||(o={}),o[B]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(ys.hasOwnProperty(ie)?g||(g=[]):(g=g||[]).push(ie,null));for(ie in p){var Q=p[ie];if(Z=b!=null?b[ie]:void 0,p.hasOwnProperty(ie)&&Q!==Z&&(Q!=null||Z!=null))if(ie==="style")if(Z){for(B in Z)!Z.hasOwnProperty(B)||Q&&Q.hasOwnProperty(B)||(o||(o={}),o[B]="");for(B in Q)Q.hasOwnProperty(B)&&Z[B]!==Q[B]&&(o||(o={}),o[B]=Q[B])}else o||(g||(g=[]),g.push(ie,o)),o=Q;else ie==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Z=Z?Z.__html:void 0,Q!=null&&Z!==Q&&(g=g||[]).push(ie,Q)):ie==="children"?typeof Q!="string"&&typeof Q!="number"||(g=g||[]).push(ie,""+Q):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(ys.hasOwnProperty(ie)?(Q!=null&&ie==="onScroll"&&Et("scroll",n),g||Z===Q||(g=[])):(g=g||[]).push(ie,Q))}o&&(g=g||[]).push("style",o);var ie=g;(s.updateQueue=ie)&&(s.flags|=4)}};Cd=function(n,s,o,p){o!==p&&(s.flags|=4)};function ns(n,s){if(!Nt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var p=null;o!==null;)o.alternate!==null&&(p=o),o=o.sibling;p===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function hn(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,p=0;if(s)for(var b=n.child;b!==null;)o|=b.lanes|b.childLanes,p|=b.subtreeFlags&14680064,p|=b.flags&14680064,b.return=n,b=b.sibling;else for(b=n.child;b!==null;)o|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=n,b=b.sibling;return n.subtreeFlags|=p,n.childLanes=o,s}function v_(n,s,o){var p=s.pendingProps;switch(vl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return wn(s.type)&&Fa(),hn(s),null;case 3:return p=s.stateNode,Dr(),Tt(yn),Tt(cn),Pl(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(oa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hn!==null&&(Go(Hn),Hn=null))),Bo(n,s),hn(s),null;case 5:kl(s);var b=$i(Ns.current);if(o=s.type,n!==null&&s.stateNode!=null)Sd(n,s,o,p,b),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(Ne(166));return hn(s),null}if(n=$i(ei.current),oa(s)){p=s.stateNode,o=s.type;var g=s.memoizedProps;switch(p[Jn]=s,p[Ts]=g,n=(s.mode&1)!==0,o){case"dialog":Et("cancel",p),Et("close",p);break;case"iframe":case"object":case"embed":Et("load",p);break;case"video":case"audio":for(b=0;b<os.length;b++)Et(os[b],p);break;case"source":Et("error",p);break;case"img":case"image":case"link":Et("error",p),Et("load",p);break;case"details":Et("toggle",p);break;case"input":vh(p,g),Et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!g.multiple},Et("invalid",p);break;case"textarea":yh(p,g),Et("invalid",p)}ho(o,g),b=null;for(var B in g)if(g.hasOwnProperty(B)){var Z=g[B];B==="children"?typeof Z=="string"?p.textContent!==Z&&(g.suppressHydrationWarning!==!0&&ua(p.textContent,Z,n),b=["children",Z]):typeof Z=="number"&&p.textContent!==""+Z&&(g.suppressHydrationWarning!==!0&&ua(p.textContent,Z,n),b=["children",""+Z]):ys.hasOwnProperty(B)&&Z!=null&&B==="onScroll"&&Et("scroll",p)}switch(o){case"input":$s(p),mh(p,g,!0);break;case"textarea":$s(p),wh(p);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(p.onclick=Ra)}p=b,s.updateQueue=p,p!==null&&(s.flags|=4)}else{B=b.nodeType===9?b:b.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Yf(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=B.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=B.createElement(o,{is:p.is}):(n=B.createElement(o),o==="select"&&(B=n,p.multiple?B.multiple=!0:p.size&&(B.size=p.size))):n=B.createElementNS(n,o),n[Jn]=s,n[Ts]=p,xd(n,s,!1,!1),s.stateNode=n;e:{switch(B=fo(o,p),o){case"dialog":Et("cancel",n),Et("close",n),b=p;break;case"iframe":case"object":case"embed":Et("load",n),b=p;break;case"video":case"audio":for(b=0;b<os.length;b++)Et(os[b],n);b=p;break;case"source":Et("error",n),b=p;break;case"img":case"image":case"link":Et("error",n),Et("load",n),b=p;break;case"details":Et("toggle",n),b=p;break;case"input":vh(n,p),b=so(n,p),Et("invalid",n);break;case"option":b=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},b=zt({},p,{value:void 0}),Et("invalid",n);break;case"textarea":yh(n,p),b=oo(n,p),Et("invalid",n);break;default:b=p}ho(o,b),Z=b;for(g in Z)if(Z.hasOwnProperty(g)){var Q=Z[g];g==="style"?$f(n,Q):g==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Xf(n,Q)):g==="children"?typeof Q=="string"?(o!=="textarea"||Q!=="")&&ws(n,Q):typeof Q=="number"&&ws(n,""+Q):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ys.hasOwnProperty(g)?Q!=null&&g==="onScroll"&&Et("scroll",n):Q!=null&&nl(n,g,Q,B))}switch(o){case"input":$s(n),mh(n,p,!1);break;case"textarea":$s(n),wh(n);break;case"option":p.value!=null&&n.setAttribute("value",""+Ri(p.value));break;case"select":n.multiple=!!p.multiple,g=p.value,g!=null?Er(n,!!p.multiple,g,!1):p.defaultValue!=null&&Er(n,!!p.multiple,p.defaultValue,!0);break;default:typeof b.onClick=="function"&&(n.onclick=Ra)}switch(o){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return hn(s),null;case 6:if(n&&s.stateNode!=null)Cd(n,s,n.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(Ne(166));if(o=$i(Ns.current),$i(ei.current),oa(s)){if(p=s.stateNode,o=s.memoizedProps,p[Jn]=s,(g=p.nodeValue!==o)&&(n=kn,n!==null))switch(n.tag){case 3:ua(p.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ua(p.nodeValue,o,(n.mode&1)!==0)}g&&(s.flags|=4)}else p=(o.nodeType===9?o:o.ownerDocument).createTextNode(p),p[Jn]=s,s.stateNode=p}return hn(s),null;case 13:if(Tt(Mt),p=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Nt&&bn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Vc(),Fr(),s.flags|=98560,g=!1;else if(g=oa(s),p!==null&&p.dehydrated!==null){if(n===null){if(!g)throw Error(Ne(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(Ne(317));g[Jn]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),g=!1}else Hn!==null&&(Go(Hn),Hn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Mt.current&1)!==0?Kt===0&&(Kt=3):Bl())),s.updateQueue!==null&&(s.flags|=4),hn(s),null);case 4:return Dr(),Bo(n,s),n===null&&Is(s.stateNode.containerInfo),hn(s),null;case 10:return xl(s.type._context),hn(s),null;case 17:return wn(s.type)&&Fa(),hn(s),null;case 19:if(Tt(Mt),g=s.memoizedState,g===null)return hn(s),null;if(p=(s.flags&128)!==0,B=g.rendering,B===null)if(p)ns(g,!1);else{if(Kt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(B=ja(n),B!==null){for(s.flags|=128,ns(g,!1),p=B.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=o,o=s.child;o!==null;)g=o,n=p,g.flags&=14680066,B=g.alternate,B===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=B.childLanes,g.lanes=B.lanes,g.child=B.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=B.memoizedProps,g.memoizedState=B.memoizedState,g.updateQueue=B.updateQueue,g.type=B.type,n=B.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return It(Mt,Mt.current&1|2),s.child}n=n.sibling}g.tail!==null&&Ht()>Ur&&(s.flags|=128,p=!0,ns(g,!1),s.lanes=4194304)}else{if(!p)if(n=ja(B),n!==null){if(s.flags|=128,p=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),ns(g,!0),g.tail===null&&g.tailMode==="hidden"&&!B.alternate&&!Nt)return hn(s),null}else 2*Ht()-g.renderingStartTime>Ur&&o!==1073741824&&(s.flags|=128,p=!0,ns(g,!1),s.lanes=4194304);g.isBackwards?(B.sibling=s.child,s.child=B):(o=g.last,o!==null?o.sibling=B:s.child=B,g.last=B)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ht(),s.sibling=null,o=Mt.current,It(Mt,p?o&1|2:o&1),s):(hn(s),null);case 22:case 23:return Fl(),p=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(Cn&1073741824)!==0&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),null;case 24:return null;case 25:return null}throw Error(Ne(156,s.tag))}function m_(n,s){switch(vl(s),s.tag){case 1:return wn(s.type)&&Fa(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Dr(),Tt(yn),Tt(cn),Pl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return kl(s),null;case 13:if(Tt(Mt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(Ne(340));Fr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Tt(Mt),null;case 4:return Dr(),null;case 10:return xl(s.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var fa=!1,fn=!1,y_=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Pr(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(p){Bt(n,s,p)}else o.current=null}function Do(n,s,o){try{o()}catch(p){Bt(n,s,p)}}var hf=!1;function w_(n,s){if(So=Ma,n=Ic(),gl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var p=o.getSelection&&o.getSelection();if(p&&p.rangeCount!==0){o=p.anchorNode;var b=p.anchorOffset,g=p.focusNode;p=p.focusOffset;try{o.nodeType,g.nodeType}catch(de){o=null;break e}var B=0,Z=-1,Q=-1,ie=0,le=0,ne=n,fe=null;t:for(;;){for(var z;ne!==o||b!==0&&ne.nodeType!==3||(Z=B+b),ne!==g||p!==0&&ne.nodeType!==3||(Q=B+p),ne.nodeType===3&&(B+=ne.nodeValue.length),(z=ne.firstChild)!==null;)fe=ne,ne=z;for(;;){if(ne===n)break t;if(fe===o&&++ie===b&&(Z=B),fe===g&&++le===p&&(Q=B),(z=ne.nextSibling)!==null)break;ne=fe,fe=ne.parentNode}ne=z}o=Z===-1||Q===-1?null:{start:Z,end:Q}}else o=null}o=o||{start:0,end:0}}else o=null;for(Co={focusedElem:n,selectionRange:o},Ma=!1,Ue=s;Ue!==null;)if(s=Ue,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ue=n;else for(;Ue!==null;){s=Ue;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var te=me.memoizedProps,Ae=me.memoizedState,K=s.stateNode,X=K.getSnapshotBeforeUpdate(s.elementType===s.type?te:Vn(s.type,te),Ae);K.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(de){Bt(s,s.return,de)}if(n=s.sibling,n!==null){n.return=s.return,Ue=n;break}Ue=s.return}return me=hf,hf=!1,me}function _s(n,s,o){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&n)===n){var g=b.destroy;b.destroy=void 0,g!==void 0&&Do(s,o,g)}b=b.next}while(b!==p)}}function ou(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var p=o.create;o.destroy=p()}o=o.next}while(o!==s)}}function Vo(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function bd(n){var s=n.alternate;s!==null&&(n.alternate=null,bd(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Jn],delete s[Ts],delete s[Po],delete s[n_],delete s[i_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kd(n){return n.tag===5||n.tag===3||n.tag===4}function ff(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uo(n,s,o){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ra));else if(p!==4&&(n=n.child,n!==null))for(Uo(n,s,o),n=n.sibling;n!==null;)Uo(n,s,o),n=n.sibling}function Ho(n,s,o){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(Ho(n,s,o),n=n.sibling;n!==null;)Ho(n,s,o),n=n.sibling}var rn=null,Un=!1;function mi(n,s,o){for(o=o.child;o!==null;)Pd(n,s,o),o=o.sibling}function Pd(n,s,o){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(eu,o)}catch(Z){}switch(o.tag){case 5:fn||Pr(o,s);case 6:var p=rn,b=Un;rn=null,mi(n,s,o),rn=p,Un=b,rn!==null&&(Un?(n=rn,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):rn.removeChild(o.stateNode));break;case 18:rn!==null&&(Un?(n=rn,o=o.stateNode,n.nodeType===8?ju(n.parentNode,o):n.nodeType===1&&ju(n,o),bs(n)):ju(rn,o.stateNode));break;case 4:p=rn,b=Un,rn=o.stateNode.containerInfo,Un=!0,mi(n,s,o),rn=p,Un=b;break;case 0:case 11:case 14:case 15:if(!fn&&(p=o.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){b=p=p.next;do{var g=b,B=g.destroy;g=g.tag,B!==void 0&&((g&2)!==0||(g&4)!==0)&&Do(o,s,B),b=b.next}while(b!==p)}mi(n,s,o);break;case 1:if(!fn&&(Pr(o,s),p=o.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=o.memoizedProps,p.state=o.memoizedState,p.componentWillUnmount()}catch(Z){Bt(o,s,Z)}mi(n,s,o);break;case 21:mi(n,s,o);break;case 22:o.mode&1?(fn=(p=fn)||o.memoizedState!==null,mi(n,s,o),fn=p):mi(n,s,o);break;default:mi(n,s,o)}}function cf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new y_),s.forEach(function(p){var b=T_.bind(null,n,p);o.has(p)||(o.add(p),p.then(b,b))})}}function Dn(n,s){var o=s.deletions;if(o!==null)for(var p=0;p<o.length;p++){var b=o[p];try{var g=n,B=s,Z=B;e:for(;Z!==null;){switch(Z.tag){case 5:rn=Z.stateNode,Un=!1;break e;case 3:rn=Z.stateNode.containerInfo,Un=!0;break e;case 4:rn=Z.stateNode.containerInfo,Un=!0;break e}Z=Z.return}if(rn===null)throw Error(Ne(160));Pd(g,B,b),rn=null,Un=!1;var Q=b.alternate;Q!==null&&(Q.return=null),b.return=null}catch(ie){Bt(b,s,ie)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Id(s,n),s=s.sibling}function Id(n,s){var o=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dn(s,n),Kn(n),p&4){try{_s(3,n,n.return),ou(3,n)}catch(te){Bt(n,n.return,te)}try{_s(5,n,n.return)}catch(te){Bt(n,n.return,te)}}break;case 1:Dn(s,n),Kn(n),p&512&&o!==null&&Pr(o,o.return);break;case 5:if(Dn(s,n),Kn(n),p&512&&o!==null&&Pr(o,o.return),n.flags&32){var b=n.stateNode;try{ws(b,"")}catch(te){Bt(n,n.return,te)}}if(p&4&&(b=n.stateNode,b!=null)){var g=n.memoizedProps,B=o!==null?o.memoizedProps:g,Z=n.type,Q=n.updateQueue;if(n.updateQueue=null,Q!==null)try{Z==="input"&&g.type==="radio"&&g.name!=null&&Qf(b,g),fo(Z,B);var ie=fo(Z,g);for(B=0;B<Q.length;B+=2){var le=Q[B],ne=Q[B+1];le==="style"?$f(b,ne):le==="dangerouslySetInnerHTML"?Xf(b,ne):le==="children"?ws(b,ne):nl(b,le,ne,ie)}switch(Z){case"input":ao(b,g);break;case"textarea":Kf(b,g);break;case"select":var fe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!g.multiple;var z=g.value;z!=null?Er(b,!!g.multiple,z,!1):fe!==!!g.multiple&&(g.defaultValue!=null?Er(b,!!g.multiple,g.defaultValue,!0):Er(b,!!g.multiple,g.multiple?[]:"",!1))}b[Ts]=g}catch(te){Bt(n,n.return,te)}}break;case 6:if(Dn(s,n),Kn(n),p&4){if(n.stateNode===null)throw Error(Ne(162));b=n.stateNode,g=n.memoizedProps;try{b.nodeValue=g}catch(te){Bt(n,n.return,te)}}break;case 3:if(Dn(s,n),Kn(n),p&4&&o!==null&&o.memoizedState.isDehydrated)try{bs(s.containerInfo)}catch(te){Bt(n,n.return,te)}break;case 4:Dn(s,n),Kn(n);break;case 13:Dn(s,n),Kn(n),b=n.child,b.flags&8192&&(g=b.memoizedState!==null,b.stateNode.isHidden=g,!g||b.alternate!==null&&b.alternate.memoizedState!==null||(zl=Ht())),p&4&&cf(n);break;case 22:if(le=o!==null&&o.memoizedState!==null,n.mode&1?(fn=(ie=fn)||le,Dn(s,n),fn=ie):Dn(s,n),Kn(n),p&8192){if(ie=n.memoizedState!==null,(n.stateNode.isHidden=ie)&&!le&&(n.mode&1)!==0)for(Ue=n,le=n.child;le!==null;){for(ne=Ue=le;Ue!==null;){switch(fe=Ue,z=fe.child,fe.tag){case 0:case 11:case 14:case 15:_s(4,fe,fe.return);break;case 1:Pr(fe,fe.return);var me=fe.stateNode;if(typeof me.componentWillUnmount=="function"){p=fe,o=fe.return;try{s=p,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(te){Bt(p,o,te)}}break;case 5:Pr(fe,fe.return);break;case 22:if(fe.memoizedState!==null){pf(ne);continue}}z!==null?(z.return=fe,Ue=z):pf(ne)}le=le.sibling}e:for(le=null,ne=n;;){if(ne.tag===5){if(le===null){le=ne;try{b=ne.stateNode,ie?(g=b.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(Z=ne.stateNode,Q=ne.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,Z.style.display=Jf("display",B))}catch(te){Bt(n,n.return,te)}}}else if(ne.tag===6){if(le===null)try{ne.stateNode.nodeValue=ie?"":ne.memoizedProps}catch(te){Bt(n,n.return,te)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===n)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===n)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===n)break e;le===ne&&(le=null),ne=ne.return}le===ne&&(le=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Dn(s,n),Kn(n),p&4&&cf(n);break;case 21:break;default:Dn(s,n),Kn(n)}}function Kn(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(kd(o)){var p=o;break e}o=o.return}throw Error(Ne(160))}switch(p.tag){case 5:var b=p.stateNode;p.flags&32&&(ws(b,""),p.flags&=-33);var g=ff(n);Ho(n,g,b);break;case 3:case 4:var B=p.stateNode.containerInfo,Z=ff(n);Uo(n,Z,B);break;default:throw Error(Ne(161))}}catch(Q){Bt(n,n.return,Q)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function x_(n,s,o){Ue=n,Ed(n)}function Ed(n,s,o){for(var p=(n.mode&1)!==0;Ue!==null;){var b=Ue,g=b.child;if(b.tag===22&&p){var B=b.memoizedState!==null||fa;if(!B){var Z=b.alternate,Q=Z!==null&&Z.memoizedState!==null||fn;Z=fa;var ie=fn;if(fa=B,(fn=Q)&&!ie)for(Ue=b;Ue!==null;)B=Ue,Q=B.child,B.tag===22&&B.memoizedState!==null?gf(b):Q!==null?(Q.return=B,Ue=Q):gf(b);for(;g!==null;)Ue=g,Ed(g),g=g.sibling;Ue=b,fa=Z,fn=ie}df(n)}else(b.subtreeFlags&8772)!==0&&g!==null?(g.return=b,Ue=g):df(n)}}function df(n){for(;Ue!==null;){var s=Ue;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:fn||ou(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!fn)if(o===null)p.componentDidMount();else{var b=s.elementType===s.type?o.memoizedProps:Vn(s.type,o.memoizedProps);p.componentDidUpdate(b,o.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Kh(s,g,p);break;case 3:var B=s.updateQueue;if(B!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Kh(s,B,o)}break;case 5:var Z=s.stateNode;if(o===null&&s.flags&4){o=Z;var Q=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&o.focus();break;case"img":Q.src&&(o.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ie=s.alternate;if(ie!==null){var le=ie.memoizedState;if(le!==null){var ne=le.dehydrated;ne!==null&&bs(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}fn||s.flags&512&&Vo(s)}catch(fe){Bt(s,s.return,fe)}}if(s===n){Ue=null;break}if(o=s.sibling,o!==null){o.return=s.return,Ue=o;break}Ue=s.return}}function pf(n){for(;Ue!==null;){var s=Ue;if(s===n){Ue=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ue=o;break}Ue=s.return}}function gf(n){for(;Ue!==null;){var s=Ue;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{ou(4,s)}catch(Q){Bt(s,o,Q)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var b=s.return;try{p.componentDidMount()}catch(Q){Bt(s,b,Q)}}var g=s.return;try{Vo(s)}catch(Q){Bt(s,g,Q)}break;case 5:var B=s.return;try{Vo(s)}catch(Q){Bt(s,B,Q)}}}catch(Q){Bt(s,s.return,Q)}if(s===n){Ue=null;break}var Z=s.sibling;if(Z!==null){Z.return=s.return,Ue=Z;break}Ue=s.return}}var S_=Math.ceil,Za=ci.ReactCurrentDispatcher,Ml=ci.ReactCurrentOwner,On=ci.ReactCurrentBatchConfig,_t=0,en=null,Wt=null,sn=0,Cn=0,Ir=Di(0),Kt=0,zs=null,sr=0,lu=0,Ol=0,vs=null,vn=null,zl=0,Ur=1/0,ii=null,Qa=!1,qo=null,Ai=null,ca=!1,bi=null,Ka=0,ms=0,jo=null,Ca=-1,ba=0;function pn(){return(_t&6)!==0?Ht():Ca!==-1?Ca:Ca=Ht()}function Ni(n){return(n.mode&1)===0?1:(_t&2)!==0&&sn!==0?sn&-sn:s_.transition!==null?(ba===0&&(ba=fc()),ba):(n=xt,n!==0||(n=window.event,n=n===void 0?16:mc(n.type)),n)}function jn(n,s,o,p){if(50<ms)throw ms=0,jo=null,Error(Ne(185));Fs(n,o,p),((_t&2)===0||n!==en)&&(n===en&&((_t&2)===0&&(lu|=o),Kt===4&&Si(n,sn)),xn(n,p),o===1&&_t===0&&(s.mode&1)===0&&(Ur=Ht()+500,su&&Vi()))}function xn(n,s){var o=n.callbackNode;sg(n,s);var p=La(n,n===en?sn:0);if(p===0)o!==null&&Ch(o),n.callbackNode=null,n.callbackPriority=0;else if(s=p&-p,n.callbackPriority!==s){if(o!=null&&Ch(o),s===1)n.tag===0?r_(_f.bind(null,n)):Fc(_f.bind(null,n)),e_(function(){(_t&6)===0&&Vi()}),o=null;else{switch(cc(p)){case 1:o=ul;break;case 4:o=lc;break;case 16:o=Na;break;case 536870912:o=hc;break;default:o=Na}o=Rd(o,Td.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function Td(n,s){if(Ca=-1,ba=0,(_t&6)!==0)throw Error(Ne(327));var o=n.callbackNode;if(Mr()&&n.callbackNode!==o)return null;var p=La(n,n===en?sn:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||s)s=Ya(n,p);else{s=p;var b=_t;_t|=2;var g=Nd();(en!==n||sn!==s)&&(ii=null,Ur=Ht()+500,er(n,s));do try{k_();break}catch(Z){Ad(n,Z)}while(1);wl(),Za.current=g,_t=b,Wt!==null?s=0:(en=null,sn=0,s=Kt)}if(s!==0){if(s===2&&(b=vo(n),b!==0&&(p=b,s=Wo(n,b))),s===1)throw o=zs,er(n,0),Si(n,p),xn(n,Ht()),o;if(s===6)Si(n,p);else{if(b=n.current.alternate,(p&30)===0&&!C_(b)&&(s=Ya(n,p),s===2&&(g=vo(n),g!==0&&(p=g,s=Wo(n,g))),s===1))throw o=zs,er(n,0),Si(n,p),xn(n,Ht()),o;switch(n.finishedWork=b,n.finishedLanes=p,s){case 0:case 1:throw Error(Ne(345));case 2:Yi(n,vn,ii);break;case 3:if(Si(n,p),(p&130023424)===p&&(s=zl+500-Ht(),10<s)){if(La(n,0)!==0)break;if(b=n.suspendedLanes,(b&p)!==p){pn(),n.pingedLanes|=n.suspendedLanes&b;break}n.timeoutHandle=ko(Yi.bind(null,n,vn,ii),s);break}Yi(n,vn,ii);break;case 4:if(Si(n,p),(p&4194240)===p)break;for(s=n.eventTimes,b=-1;0<p;){var B=31-qn(p);g=1<<B,B=s[B],B>b&&(b=B),p&=~g}if(p=b,p=Ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*S_(p/1960))-p,10<p){n.timeoutHandle=ko(Yi.bind(null,n,vn,ii),p);break}Yi(n,vn,ii);break;case 5:Yi(n,vn,ii);break;default:throw Error(Ne(329))}}}return xn(n,Ht()),n.callbackNode===o?Td.bind(null,n):null}function Wo(n,s){var o=vs;return n.current.memoizedState.isDehydrated&&(er(n,s).flags|=256),n=Ya(n,s),n!==2&&(s=vn,vn=o,s!==null&&Go(s)),n}function Go(n){vn===null?vn=n:vn.push.apply(vn,n)}function C_(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var p=0;p<o.length;p++){var b=o[p],g=b.getSnapshot;b=b.value;try{if(!Wn(g(),b))return!1}catch(B){return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(n,s){for(s&=~Ol,s&=~lu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-qn(s),p=1<<o;n[o]=-1,s&=~p}}function _f(n){if((_t&6)!==0)throw Error(Ne(327));Mr();var s=La(n,0);if((s&1)===0)return xn(n,Ht()),null;var o=Ya(n,s);if(n.tag!==0&&o===2){var p=vo(n);p!==0&&(s=p,o=Wo(n,p))}if(o===1)throw o=zs,er(n,0),Si(n,s),xn(n,Ht()),o;if(o===6)throw Error(Ne(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Yi(n,vn,ii),xn(n,Ht()),null}function Rl(n,s){var o=_t;_t|=1;try{return n(s)}finally{_t=o,_t===0&&(Ur=Ht()+500,su&&Vi())}}function ar(n){bi!==null&&bi.tag===0&&(_t&6)===0&&Mr();var s=_t;_t|=1;var o=On.transition,p=xt;try{if(On.transition=null,xt=1,n)return n()}finally{xt=p,On.transition=o,_t=s,(_t&6)===0&&Vi()}}function Fl(){Cn=Ir.current,Tt(Ir)}function er(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,$g(o)),Wt!==null)for(o=Wt.return;o!==null;){var p=o;switch(vl(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Fa();break;case 3:Dr(),Tt(yn),Tt(cn),Pl();break;case 5:kl(p);break;case 4:Dr();break;case 13:Tt(Mt);break;case 19:Tt(Mt);break;case 10:xl(p.type._context);break;case 22:case 23:Fl()}o=o.return}if(en=n,Wt=n=Li(n.current,null),sn=Cn=s,Kt=0,zs=null,Ol=lu=sr=0,vn=vs=null,Ji!==null){for(s=0;s<Ji.length;s++)if(o=Ji[s],p=o.interleaved,p!==null){o.interleaved=null;var b=p.next,g=o.pending;if(g!==null){var B=g.next;g.next=b,p.next=B}o.pending=p}Ji=null}return n}function Ad(n,s){do{var o=Wt;try{if(wl(),wa.current=Ga,Wa){for(var p=Ot.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}Wa=!1}if(rr=0,$t=Qt=Ot=null,gs=!1,Ls=0,Ml.current=null,o===null||o.return===null){Kt=1,zs=s,Wt=null;break}e:{var g=n,B=o.return,Z=o,Q=s;if(s=sn,Z.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ie=Q,le=Z,ne=le.tag;if((le.mode&1)===0&&(ne===0||ne===11||ne===15)){var fe=le.alternate;fe?(le.updateQueue=fe.updateQueue,le.memoizedState=fe.memoizedState,le.lanes=fe.lanes):(le.updateQueue=null,le.memoizedState=null)}var z=nf(B);if(z!==null){z.flags&=-257,rf(z,B,Z,g,s),z.mode&1&&tf(g,ie,s),s=z,Q=ie;var me=s.updateQueue;if(me===null){var te=new Set;te.add(Q),s.updateQueue=te}else me.add(Q);break e}else{if((s&1)===0){tf(g,ie,s),Bl();break e}Q=Error(Ne(426))}}else if(Nt&&Z.mode&1){var Ae=nf(B);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),rf(Ae,B,Z,g,s),ml(Vr(Q,Z));break e}}g=Q=Vr(Q,Z),Kt!==4&&(Kt=2),vs===null?vs=[g]:vs.push(g),g=B;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var K=dd(g,Q,s);Qh(g,K);break e;case 1:Z=Q;var X=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ai===null||!Ai.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var de=pd(g,Z,s);Qh(g,de);break e}}g=g.return}while(g!==null)}Md(o)}catch(xe){s=xe,Wt===o&&o!==null&&(Wt=o=o.return);continue}break}while(1)}function Nd(){var n=Za.current;return Za.current=Ga,n===null?Ga:n}function Bl(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||(sr&268435455)===0&&(lu&268435455)===0||Si(en,sn)}function Ya(n,s){var o=_t;_t|=2;var p=Nd();(en!==n||sn!==s)&&(ii=null,er(n,s));do try{b_();break}catch(b){Ad(n,b)}while(1);if(wl(),_t=o,Za.current=p,Wt!==null)throw Error(Ne(261));return en=null,sn=0,Kt}function b_(){for(;Wt!==null;)Ld(Wt)}function k_(){for(;Wt!==null&&!Y0();)Ld(Wt)}function Ld(n){var s=zd(n.alternate,n,Cn);n.memoizedProps=n.pendingProps,s===null?Md(n):Wt=s,Ml.current=null}function Md(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=v_(o,s,Cn),o!==null){Wt=o;return}}else{if(o=m_(o,s),o!==null){o.flags&=32767,Wt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Kt=6,Wt=null;return}}if(s=s.sibling,s!==null){Wt=s;return}Wt=s=n}while(s!==null);Kt===0&&(Kt=5)}function Yi(n,s,o){var p=xt,b=On.transition;try{On.transition=null,xt=1,P_(n,s,o,p)}finally{On.transition=b,xt=p}return null}function P_(n,s,o,p){do Mr();while(bi!==null);if((_t&6)!==0)throw Error(Ne(327));o=n.finishedWork;var b=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(Ne(177));n.callbackNode=null,n.callbackPriority=0;var g=o.lanes|o.childLanes;if(ag(n,g),n===en&&(Wt=en=null,sn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ca||(ca=!0,Rd(Na,function(){return Mr(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=On.transition,On.transition=null;var B=xt;xt=1;var Z=_t;_t|=4,Ml.current=null,w_(n,o),Id(o,n),Gg(Co),Ma=!!So,Co=So=null,n.current=o,x_(o),X0(),_t=Z,xt=B,On.transition=g}else n.current=o;if(ca&&(ca=!1,bi=n,Ka=b),g=n.pendingLanes,g===0&&(Ai=null),eg(o.stateNode),xn(n,Ht()),s!==null)for(p=n.onRecoverableError,o=0;o<s.length;o++)b=s[o],p(b.value,{componentStack:b.stack,digest:b.digest});if(Qa)throw Qa=!1,n=qo,qo=null,n;return(Ka&1)!==0&&n.tag!==0&&Mr(),g=n.pendingLanes,(g&1)!==0?n===jo?ms++:(ms=0,jo=n):ms=0,Vi(),null}function Mr(){if(bi!==null){var n=cc(Ka),s=On.transition,o=xt;try{if(On.transition=null,xt=16>n?16:n,bi===null)var p=!1;else{if(n=bi,bi=null,Ka=0,(_t&6)!==0)throw Error(Ne(331));var b=_t;for(_t|=4,Ue=n.current;Ue!==null;){var g=Ue,B=g.child;if((Ue.flags&16)!==0){var Z=g.deletions;if(Z!==null){for(var Q=0;Q<Z.length;Q++){var ie=Z[Q];for(Ue=ie;Ue!==null;){var le=Ue;switch(le.tag){case 0:case 11:case 15:_s(8,le,g)}var ne=le.child;if(ne!==null)ne.return=le,Ue=ne;else for(;Ue!==null;){le=Ue;var fe=le.sibling,z=le.return;if(bd(le),le===ie){Ue=null;break}if(fe!==null){fe.return=z,Ue=fe;break}Ue=z}}}var me=g.alternate;if(me!==null){var te=me.child;if(te!==null){me.child=null;do{var Ae=te.sibling;te.sibling=null,te=Ae}while(te!==null)}}Ue=g}}if((g.subtreeFlags&2064)!==0&&B!==null)B.return=g,Ue=B;else e:for(;Ue!==null;){if(g=Ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:_s(9,g,g.return)}var K=g.sibling;if(K!==null){K.return=g.return,Ue=K;break e}Ue=g.return}}var X=n.current;for(Ue=X;Ue!==null;){B=Ue;var $=B.child;if((B.subtreeFlags&2064)!==0&&$!==null)$.return=B,Ue=$;else e:for(B=X;Ue!==null;){if(Z=Ue,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:ou(9,Z)}}catch(xe){Bt(Z,Z.return,xe)}if(Z===B){Ue=null;break e}var de=Z.sibling;if(de!==null){de.return=Z.return,Ue=de;break e}Ue=Z.return}}if(_t=b,Vi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(eu,n)}catch(xe){}p=!0}return p}finally{xt=o,On.transition=s}}return!1}function vf(n,s,o){s=Vr(o,s),s=dd(n,s,1),n=Ti(n,s,1),s=pn(),n!==null&&(Fs(n,1,s),xn(n,s))}function Bt(n,s,o){if(n.tag===3)vf(n,n,o);else for(;s!==null;){if(s.tag===3){vf(s,n,o);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ai===null||!Ai.has(p))){n=Vr(o,n),n=pd(s,n,1),s=Ti(s,n,1),n=pn(),s!==null&&(Fs(s,1,n),xn(s,n));break}}s=s.return}}function I_(n,s,o){var p=n.pingCache;p!==null&&p.delete(s),s=pn(),n.pingedLanes|=n.suspendedLanes&o,en===n&&(sn&o)===o&&(Kt===4||Kt===3&&(sn&130023424)===sn&&500>Ht()-zl?er(n,0):Ol|=o),xn(n,s)}function Od(n,s){s===0&&((n.mode&1)===0?s=1:(s=na,na<<=1,(na&130023424)===0&&(na=4194304)));var o=pn();n=hi(n,s),n!==null&&(Fs(n,s,o),xn(n,o))}function E_(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Od(n,o)}function T_(n,s){var o=0;switch(n.tag){case 13:var p=n.stateNode,b=n.memoizedState;b!==null&&(o=b.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(Ne(314))}p!==null&&p.delete(s),Od(n,o)}var zd;zd=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||yn.current)mn=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return mn=!1,__(n,s,o);mn=(n.flags&131072)!==0}else mn=!1,Nt&&(s.flags&1048576)!==0&&Bc(s,Va,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Sa(n,s),n=s.pendingProps;var b=Rr(s,cn.current);Lr(s,o),b=El(null,s,p,n,b,o);var g=Tl();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wn(p)?(g=!0,Ba(s)):g=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Cl(s),b.updater=au,s.stateNode=b,b._reactInternals=s,Lo(s,p,n,o),s=zo(null,s,p,!0,g,o)):(s.tag=0,Nt&&g&&_l(s),dn(null,s,b,o),s=s.child),s;case 16:p=s.elementType;e:{switch(Sa(n,s),n=s.pendingProps,b=p._init,p=b(p._payload),s.type=p,b=s.tag=N_(p),n=Vn(p,n),b){case 0:s=Oo(null,s,p,n,o);break e;case 1:s=uf(null,s,p,n,o);break e;case 11:s=sf(null,s,p,n,o);break e;case 14:s=af(null,s,p,Vn(p.type,n),o);break e}throw Error(Ne(306,p,""))}return s;case 0:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Vn(p,b),Oo(n,s,p,b,o);case 1:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Vn(p,b),uf(n,s,p,b,o);case 3:e:{if(md(s),n===null)throw Error(Ne(387));p=s.pendingProps,g=s.memoizedState,b=g.element,Hc(n,s),qa(s,p,null,o);var B=s.memoizedState;if(p=B.element,g.isDehydrated)if(g={element:p,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){b=Vr(Error(Ne(423)),s),s=of(n,s,p,o,b);break e}else if(p!==b){b=Vr(Error(Ne(424)),s),s=of(n,s,p,o,b);break e}else for(bn=Ei(s.stateNode.containerInfo.firstChild),kn=s,Nt=!0,Hn=null,o=Gc(s,null,p,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Fr(),p===b){s=fi(n,s,o);break e}dn(n,s,p,o)}s=s.child}return s;case 5:return Zc(s),n===null&&To(s),p=s.type,b=s.pendingProps,g=n!==null?n.memoizedProps:null,B=b.children,bo(p,b)?B=null:g!==null&&bo(p,g)&&(s.flags|=32),vd(n,s),dn(n,s,B,o),s.child;case 6:return n===null&&To(s),null;case 13:return yd(n,s,o);case 4:return bl(s,s.stateNode.containerInfo),p=s.pendingProps,n===null?s.child=Br(s,null,p,o):dn(n,s,p,o),s.child;case 11:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Vn(p,b),sf(n,s,p,b,o);case 7:return dn(n,s,s.pendingProps,o),s.child;case 8:return dn(n,s,s.pendingProps.children,o),s.child;case 12:return dn(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(p=s.type._context,b=s.pendingProps,g=s.memoizedProps,B=b.value,It(Ua,p._currentValue),p._currentValue=B,g!==null)if(Wn(g.value,B)){if(g.children===b.children&&!yn.current){s=fi(n,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var Z=g.dependencies;if(Z!==null){B=g.child;for(var Q=Z.firstContext;Q!==null;){if(Q.context===p){if(g.tag===1){Q=ui(-1,o&-o),Q.tag=2;var ie=g.updateQueue;if(ie!==null){ie=ie.shared;var le=ie.pending;le===null?Q.next=Q:(Q.next=le.next,le.next=Q),ie.pending=Q}}g.lanes|=o,Q=g.alternate,Q!==null&&(Q.lanes|=o),Ao(g.return,o,s),Z.lanes|=o;break}Q=Q.next}}else if(g.tag===10)B=g.type===s.type?null:g.child;else if(g.tag===18){if(B=g.return,B===null)throw Error(Ne(341));B.lanes|=o,Z=B.alternate,Z!==null&&(Z.lanes|=o),Ao(B,o,s),B=g.sibling}else B=g.child;if(B!==null)B.return=g;else for(B=g;B!==null;){if(B===s){B=null;break}if(g=B.sibling,g!==null){g.return=B.return,B=g;break}B=B.return}g=B}dn(n,s,b.children,o),s=s.child}return s;case 9:return b=s.type,p=s.pendingProps.children,Lr(s,o),b=zn(b),p=p(b),s.flags|=1,dn(n,s,p,o),s.child;case 14:return p=s.type,b=Vn(p,s.pendingProps),b=Vn(p.type,b),af(n,s,p,b,o);case 15:return gd(n,s,s.type,s.pendingProps,o);case 17:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Vn(p,b),Sa(n,s),s.tag=1,wn(p)?(n=!0,Ba(s)):n=!1,Lr(s,o),jc(s,p,b),Lo(s,p,b,o),zo(null,s,p,!0,n,o);case 19:return wd(n,s,o);case 22:return _d(n,s,o)}throw Error(Ne(156,s.tag))};function Rd(n,s){return oc(n,s)}function A_(n,s,o,p){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,s,o,p){return new A_(n,s,o,p)}function Dl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function N_(n){if(typeof n=="function")return Dl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===rl)return 11;if(n===sl)return 14}return 2}function Li(n,s){var o=n.alternate;return o===null?(o=Mn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function ka(n,s,o,p,b,g){var B=2;if(p=n,typeof n=="function")Dl(n)&&(B=1);else if(typeof n=="string")B=5;else e:switch(n){case vr:return tr(o.children,b,g,s);case il:B=8,b|=8;break;case to:return n=Mn(12,o,s,b|2),n.elementType=to,n.lanes=g,n;case no:return n=Mn(13,o,s,b),n.elementType=no,n.lanes=g,n;case io:return n=Mn(19,o,s,b),n.elementType=io,n.lanes=g,n;case Wf:return hu(o,b,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case qf:B=10;break e;case jf:B=9;break e;case rl:B=11;break e;case sl:B=14;break e;case yi:B=16,p=null;break e}throw Error(Ne(130,n==null?n:typeof n,""))}return s=Mn(B,o,s,b),s.elementType=n,s.type=p,s.lanes=g,s}function tr(n,s,o,p){return n=Mn(7,n,p,s),n.lanes=o,n}function hu(n,s,o,p){return n=Mn(22,n,p,s),n.elementType=Wf,n.lanes=o,n.stateNode={isHidden:!1},n}function Ju(n,s,o){return n=Mn(6,n,null,s),n.lanes=o,n}function $u(n,s,o){return s=Mn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function L_(n,s,o,p,b){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=p,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Vl(n,s,o,p,b,g,B,Z,Q){return n=new L_(n,s,o,Z,Q),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Mn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:p,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(g),n}function M_(n,s,o){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:p==null?null:""+p,children:n,containerInfo:s,implementation:o}}function Fd(n){if(!n)return Fi;n=n._reactInternals;e:{if(lr(n)!==n||n.tag!==1)throw Error(Ne(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Ne(171))}if(n.tag===1){var o=n.type;if(wn(o))return Rc(n,o,s)}return s}function Bd(n,s,o,p,b,g,B,Z,Q){return n=Vl(o,p,!0,n,b,g,B,Z,Q),n.context=Fd(null),o=n.current,p=pn(),b=Ni(o),g=ui(p,b),g.callback=s!=null?s:null,Ti(o,g,b),n.current.lanes=b,Fs(n,b,p),xn(n,p),n}function fu(n,s,o,p){var b=s.current,g=pn(),B=Ni(b);return o=Fd(o),s.context===null?s.context=o:s.pendingContext=o,s=ui(g,B),s.payload={element:n},p=p===void 0?null:p,p!==null&&(s.callback=p),n=Ti(b,s,B),n!==null&&(jn(n,b,B,g),ya(n,b,B)),B}function Xa(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mf(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Ul(n,s){mf(n,s),(n=n.alternate)&&mf(n,s)}function O_(){return null}var Dd=typeof reportError=="function"?reportError:function(n){console.error(n)};function Hl(n){this._internalRoot=n}cu.prototype.render=Hl.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(Ne(409));fu(n,s,null,null)};cu.prototype.unmount=Hl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ar(function(){fu(null,n,null,null)}),s[li]=null}};function cu(n){this._internalRoot=n}cu.prototype.unstable_scheduleHydration=function(n){if(n){var s=gc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<xi.length&&s!==0&&s<xi[o].priority;o++);xi.splice(o,0,n),o===0&&vc(n)}};function ql(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function du(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function yf(){}function z_(n,s,o,p,b){if(b){if(typeof p=="function"){var g=p;p=function(){var ie=Xa(B);g.call(ie)}}var B=Bd(s,p,n,0,null,!1,!1,"",yf);return n._reactRootContainer=B,n[li]=B.current,Is(n.nodeType===8?n.parentNode:n),ar(),B}for(;b=n.lastChild;)n.removeChild(b);if(typeof p=="function"){var Z=p;p=function(){var ie=Xa(Q);Z.call(ie)}}var Q=Vl(n,0,!1,null,null,!1,!1,"",yf);return n._reactRootContainer=Q,n[li]=Q.current,Is(n.nodeType===8?n.parentNode:n),ar(function(){fu(s,Q,o,p)}),Q}function pu(n,s,o,p,b){var g=o._reactRootContainer;if(g){var B=g;if(typeof b=="function"){var Z=b;b=function(){var Q=Xa(B);Z.call(Q)}}fu(s,B,n,b)}else B=z_(o,s,n,b,p);return Xa(B)}dc=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=us(s.pendingLanes);o!==0&&(ol(s,o|1),xn(s,Ht()),(_t&6)===0&&(Ur=Ht()+500,Vi()))}break;case 13:ar(function(){var p=hi(n,1);if(p!==null){var b=pn();jn(p,n,1,b)}}),Ul(n,1)}};ll=function(n){if(n.tag===13){var s=hi(n,134217728);if(s!==null){var o=pn();jn(s,n,134217728,o)}Ul(n,134217728)}};pc=function(n){if(n.tag===13){var s=Ni(n),o=hi(n,s);if(o!==null){var p=pn();jn(o,n,s,p)}Ul(n,s)}};gc=function(){return xt};_c=function(n,s){var o=xt;try{return xt=n,s()}finally{xt=o}};po=function(n,s,o){switch(s){case"input":if(ao(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var p=o[s];if(p!==n&&p.form===n.form){var b=ru(p);if(!b)throw Error(Ne(90));Zf(p),ao(p,b)}}}break;case"textarea":Kf(n,o);break;case"select":s=o.value,s!=null&&Er(n,!!o.multiple,s,!1)}};nc=Rl;ic=ar;var R_={usingClientEntryPoint:!1,Events:[Ds,xr,ru,ec,tc,Rl]},is={findFiberByHostInstance:Xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},F_={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ac(n),n===null?null:n.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||O_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{eu=da.inject(F_),$n=da}catch(n){}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R_;In.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ql(s))throw Error(Ne(200));return M_(n,s,null,o)};In.createRoot=function(n,s){if(!ql(n))throw Error(Ne(299));var o=!1,p="",b=Dd;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Vl(n,1,!1,null,null,o,!1,p,b),n[li]=s.current,Is(n.nodeType===8?n.parentNode:n),new Hl(s)};In.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(Ne(188)):(n=Object.keys(n).join(","),Error(Ne(268,n)));return n=ac(s),n=n===null?null:n.stateNode,n};In.flushSync=function(n){return ar(n)};In.hydrate=function(n,s,o){if(!du(s))throw Error(Ne(200));return pu(null,n,s,!0,o)};In.hydrateRoot=function(n,s,o){if(!ql(n))throw Error(Ne(405));var p=o!=null&&o.hydratedSources||null,b=!1,g="",B=Dd;if(o!=null&&(o.unstable_strictMode===!0&&(b=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(B=o.onRecoverableError)),s=Bd(s,null,n,1,o!=null?o:null,b,!1,g,B),n[li]=s.current,Is(n),p)for(n=0;n<p.length;n++)o=p[n],b=o._getVersion,b=b(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,b]:s.mutableSourceEagerHydrationData.push(o,b);return new cu(s)};In.render=function(n,s,o){if(!du(s))throw Error(Ne(200));return pu(null,n,s,!1,o)};In.unmountComponentAtNode=function(n){if(!du(n))throw Error(Ne(40));return n._reactRootContainer?(ar(function(){pu(null,null,n,!1,function(){n._reactRootContainer=null,n[li]=null})}),!0):!1};In.unstable_batchedUpdates=Rl;In.unstable_renderSubtreeIntoContainer=function(n,s,o,p){if(!du(o))throw Error(Ne(200));if(n==null||n._reactInternals===void 0)throw Error(Ne(38));return pu(n,s,o,!1,p)};In.version="18.2.0-next-9e3b772b8-20220608";(function(n){function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}s(),n.exports=In})(Bf);var Vd,wf=Bf.exports;Vd=wf.createRoot,wf.hydrateRoot;const xf=document.getElementById("root");xf?Vd(xf).render(Zt(z0,{})):console.error("unable to find root");
