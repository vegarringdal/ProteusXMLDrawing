const dg=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))d(C);new MutationObserver(C=>{for(const g of C)if(g.type==="childList")for(const L of g.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&d(L)}).observe(document,{childList:!0,subtree:!0});function o(C){const g={};return C.integrity&&(g.integrity=C.integrity),C.referrerpolicy&&(g.referrerPolicy=C.referrerpolicy),C.crossorigin==="use-credentials"?g.credentials="include":C.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(C){if(C.ep)return;C.ep=!0;const g=o(C);fetch(C.href,g)}};dg();var _f=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function gg(n){if(n.__esModule)return n;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(o){var d=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,d.get?d:{enumerable:!0,get:function(){return n[o]}})}),s}function _g(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nn={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),vg=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),Cg=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),ih=Symbol.iterator;function kg(n){return n===null||typeof n!="object"?null:(n=ih&&n[ih]||n["@@iterator"],typeof n=="function"?n:null)}var vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function Cr(n,s,o){this.props=n,this.context=s,this.refs=mf,this.updater=o||vf}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(n,s){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,s,"setState")};Cr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yf(){}yf.prototype=Cr.prototype;function Do(n,s,o){this.props=n,this.context=s,this.refs=mf,this.updater=o||vf}var Bo=Do.prototype=new yf;Bo.constructor=Do;pf(Bo,Cr.prototype);Bo.isPureReactComponent=!0;var rh=Array.isArray,wf=Object.prototype.hasOwnProperty,Vo={current:null},Sf={key:!0,ref:!0,__self:!0,__source:!0};function Cf(n,s,o){var d,C={},g=null,L=null;if(s!=null)for(d in s.ref!==void 0&&(L=s.ref),s.key!==void 0&&(g=""+s.key),s)wf.call(s,d)&&!Sf.hasOwnProperty(d)&&(C[d]=s[d]);var H=arguments.length-2;if(H===1)C.children=o;else if(1<H){for(var j=Array(H),Y=0;Y<H;Y++)j[Y]=arguments[Y+2];C.children=j}if(n&&n.defaultProps)for(d in H=n.defaultProps,H)C[d]===void 0&&(C[d]=H[d]);return{$$typeof:ps,type:n,key:g,ref:L,props:C,_owner:Vo.current}}function Ig(n,s){return{$$typeof:ps,type:n.type,key:s,ref:n.ref,props:n.props,_owner:n._owner}}function Uo(n){return typeof n=="object"&&n!==null&&n.$$typeof===ps}function Tg(n){var s={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return s[o]})}var sh=/\/+/g;function yu(n,s){return typeof n=="object"&&n!==null&&n.key!=null?Tg(""+n.key):s.toString(36)}function Js(n,s,o,d,C){var g=typeof n;(g==="undefined"||g==="boolean")&&(n=null);var L=!1;if(n===null)L=!0;else switch(g){case"string":case"number":L=!0;break;case"object":switch(n.$$typeof){case ps:case vg:L=!0}}if(L)return L=n,C=C(L),n=d===""?"."+yu(L,0):d,rh(C)?(o="",n!=null&&(o=n.replace(sh,"$&/")+"/"),Js(C,s,o,"",function(Y){return Y})):C!=null&&(Uo(C)&&(C=Ig(C,o+(!C.key||L&&L.key===C.key?"":(""+C.key).replace(sh,"$&/")+"/")+n)),s.push(C)),1;if(L=0,d=d===""?".":d+":",rh(n))for(var H=0;H<n.length;H++){g=n[H];var j=d+yu(g,H);L+=Js(g,s,o,j,C)}else if(j=kg(n),typeof j=="function")for(n=j.call(n),H=0;!(g=n.next()).done;)g=g.value,j=d+yu(g,H++),L+=Js(g,s,o,j,C);else if(g==="object")throw s=String(n),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return L}function Ns(n,s,o){if(n==null)return n;var d=[],C=0;return Js(n,d,"","",function(g){return s.call(o,g,C++)}),d}function Eg(n){if(n._status===-1){var s=n._result;s=s(),s.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=s)}if(n._status===1)return n._result.default;throw n._result}var en={current:null},Ys={transition:null},Mg={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Ys,ReactCurrentOwner:Vo};Ke.Children={map:Ns,forEach:function(n,s,o){Ns(n,function(){s.apply(this,arguments)},o)},count:function(n){var s=0;return Ns(n,function(){s++}),s},toArray:function(n){return Ns(n,function(s){return s})||[]},only:function(n){if(!Uo(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ke.Component=Cr;Ke.Fragment=pg;Ke.Profiler=yg;Ke.PureComponent=Do;Ke.StrictMode=mg;Ke.Suspense=xg;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;Ke.cloneElement=function(n,s,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var d=pf({},n.props),C=n.key,g=n.ref,L=n._owner;if(s!=null){if(s.ref!==void 0&&(g=s.ref,L=Vo.current),s.key!==void 0&&(C=""+s.key),n.type&&n.type.defaultProps)var H=n.type.defaultProps;for(j in s)wf.call(s,j)&&!Sf.hasOwnProperty(j)&&(d[j]=s[j]===void 0&&H!==void 0?H[j]:s[j])}var j=arguments.length-2;if(j===1)d.children=o;else if(1<j){H=Array(j);for(var Y=0;Y<j;Y++)H[Y]=arguments[Y+2];d.children=H}return{$$typeof:ps,type:n.type,key:C,ref:g,props:d,_owner:L}};Ke.createContext=function(n){return n={$$typeof:Sg,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wg,_context:n},n.Consumer=n};Ke.createElement=Cf;Ke.createFactory=function(n){var s=Cf.bind(null,n);return s.type=n,s};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(n){return{$$typeof:Cg,render:n}};Ke.isValidElement=Uo;Ke.lazy=function(n){return{$$typeof:Pg,_payload:{_status:-1,_result:n},_init:Eg}};Ke.memo=function(n,s){return{$$typeof:bg,type:n,compare:s===void 0?null:s}};Ke.startTransition=function(n){var s=Ys.transition;Ys.transition={};try{n()}finally{Ys.transition=s}};Ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ke.useCallback=function(n,s){return en.current.useCallback(n,s)};Ke.useContext=function(n){return en.current.useContext(n)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(n){return en.current.useDeferredValue(n)};Ke.useEffect=function(n,s){return en.current.useEffect(n,s)};Ke.useId=function(){return en.current.useId()};Ke.useImperativeHandle=function(n,s,o){return en.current.useImperativeHandle(n,s,o)};Ke.useInsertionEffect=function(n,s){return en.current.useInsertionEffect(n,s)};Ke.useLayoutEffect=function(n,s){return en.current.useLayoutEffect(n,s)};Ke.useMemo=function(n,s){return en.current.useMemo(n,s)};Ke.useReducer=function(n,s,o){return en.current.useReducer(n,s,o)};Ke.useRef=function(n){return en.current.useRef(n)};Ke.useState=function(n){return en.current.useState(n)};Ke.useSyncExternalStore=function(n,s,o){return en.current.useSyncExternalStore(n,s,o)};Ke.useTransition=function(){return en.current.useTransition()};Ke.version="18.2.0";nn.exports=Ke;function zg(n){let s;const o=new Set,d=(Y,ne)=>{const K=typeof Y=="function"?Y(s):Y;if(K!==s){const se=s;s=ne?K:Object.assign({},s,K),o.forEach(N=>N(s,se))}},C=()=>s,g=(Y,ne=C,K=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let se=ne(s);function N(){const ge=ne(s);if(!K(se,ge)){const J=se;Y(se=ge,J)}}return o.add(N),()=>o.delete(N)},j={setState:d,getState:C,subscribe:(Y,ne,K)=>ne||K?g(Y,ne,K):(o.add(Y),()=>o.delete(Y)),destroy:()=>o.clear()};return s=n(d,C,j),j}const Ag=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ah=Ag?nn.exports.useEffect:nn.exports.useLayoutEffect;function Ng(n){const s=typeof n=="function"?zg(n):n,o=(d=s.getState,C=Object.is)=>{const[,g]=nn.exports.useReducer(Me=>Me+1,0),L=s.getState(),H=nn.exports.useRef(L),j=nn.exports.useRef(d),Y=nn.exports.useRef(C),ne=nn.exports.useRef(!1),K=nn.exports.useRef();K.current===void 0&&(K.current=d(L));let se,N=!1;(H.current!==L||j.current!==d||Y.current!==C||ne.current)&&(se=d(L),N=!C(K.current,se)),ah(()=>{N&&(K.current=se),H.current=L,j.current=d,Y.current=C,ne.current=!1});const ge=nn.exports.useRef(L);ah(()=>{const Me=()=>{try{const Z=s.getState(),Q=j.current(Z);Y.current(K.current,Q)||(H.current=Z,K.current=Q,g())}catch(Z){ne.current=!0,g()}},q=s.subscribe(Me);return s.getState()!==ge.current&&Me(),q},[]);const J=N?se:K.current;return nn.exports.useDebugValue(J),J};return Object.assign(o,s),o[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const d=[o,s];return{next(){const C=d.length<=0;return{value:d.shift(),done:C}}}},o}const xf=Ng(n=>({isLoading:!1,selected:null,setLoading:s=>{n(()=>({isLoading:s}))},setSelected:s=>{n(()=>({selected:s}))}}));var Ho={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=nn.exports,Lg=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),Fg=Object.prototype.hasOwnProperty,Dg=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function bf(n,s,o){var d,C={},g=null,L=null;o!==void 0&&(g=""+o),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(L=s.ref);for(d in s)Fg.call(s,d)&&!Bg.hasOwnProperty(d)&&(C[d]=s[d]);if(n&&n.defaultProps)for(d in s=n.defaultProps,s)C[d]===void 0&&(C[d]=s[d]);return{$$typeof:Lg,type:n,key:g,ref:L,props:C,_owner:Dg.current}}Oa.Fragment=Rg;Oa.jsx=bf;Oa.jsxs=bf;Ho.exports=Oa;const Qt=Ho.exports.jsx,hn=Ho.exports.jsxs;function Vg(){var d;const n=xf(),s=[];function o(C){let g=C,L=!0;for(;L;)["Text","Line","CenterLine","Shape","Ellipse","Circle"].includes(g.elementTagName)||(g.elementTagName&&s.push({type:"element",name:"element",value:g.elementTagName}),g.genericAttributes&&(s.push({type:"attribute-header",name:"Attributes",value:""}),Object.keys(g.attributes).forEach(j=>{s.push({type:"attribute",name:j,value:g.attributes[j]})})),g.genericAttributes&&Object.keys(g.genericAttributes).forEach(j=>{s.push({type:"genericAttributes",name:"GenericAttribute Set",value:j}),Object.keys(g.genericAttributes[j]).forEach(ne=>{s.push({type:"genericAttribute",name:ne,value:g.genericAttributes[j][ne]})})})),g.parent?g=g.parent:L=!1}return(d=n.selected)!=null&&d.elementTagName?(console.log(n.selected),o(n.selected),hn("div",{className:"border border-gray-600 detailView flex flex-col text-xs",children:[Qt("span",{className:"pl-1 border-b bg-gray-200 border-b-gray-600 text-lg font-bold",children:"Selected Element"}),Qt("div",{className:"flex flex-col overflow-auto ",style:{minHeight:0},children:s.map((C,g)=>{const L=g+":"+C.type+"-"+C.name+"-"+C.value;return C.type==="element"?Qt("span",{className:" border-b bg-gray-200 border-b-gray-600 sticky top-0 flex ",children:Qt("span",{className:"pl-1 font-semibold min-w-[254px]",children:C.value})},L):C.type==="attribute-header"?hn("span",{className:" border-b bg-gray-200 border-b-gray-400 flex ",children:[Qt("span",{className:"pl-3 font-semibold min-w-[254px]",children:C.name}),hn("span",{className:"ml-2  ",children:[C.value,":"]})]},L):C.type==="genericAttributes"?Qt("span",{className:" border-b bg-gray-200 border-b-gray-400 flex ",children:hn("span",{className:"pl-3 font-semibold min-w-[254px]",children:[C.name," - ",C.value]})},L):hn("span",{className:"pl-2 border-b border-b-gray-600 flex pr-2",children:[hn("span",{className:"pl-4 font-semibold min-w-[250px]",children:[C.name,":"]}),hn("span",{className:"ml-2  ",children:[C.value,":"]})]},L)})})]})):hn("div",{className:"border border-gray-600 detailView flex flex-col text-xs w-full",children:[Qt("span",{className:"pl-1 border-b bg-gray-200 border-b-gray-600 text-lg font-bold",children:"Selected Element"}),"nothing selected"]})}const Ug={text:!1,trimmedCurve:!1,circle:!1,circleArc:!1,ellipse:!1,ellipseArc:!1,shape:!1,component:!1,line:!1,printIdMap:!1,highlightIds:!1};function vi(){return Ug}const Hg={text:{red:0,green:0,blue:1,alpha:.5},trimmedCurve:{red:0,green:1,blue:0,alpha:.5},circle:{red:1,green:1,blue:0,alpha:.5},circleArc:{red:1,green:1,blue:0,alpha:.5},ellipse:{red:1,green:1,blue:0,alpha:.5},ellipseArc:{red:1,green:1,blue:0,alpha:.5},component:{red:.5,green:1,blue:1,alpha:.5},shape:{red:1,green:.5,blue:1,alpha:.5},line:{red:1,green:0,blue:0,alpha:.5}};function pi(){return Hg}const qr=new Map;function jg(){qr.clear()}function qg(n,s){qr.has(n)&&(console.warn("duplicate ID's in file",n),console.warn("prev",qr.get(n)),console.warn("new",s)),qr.set(n,s)}function Wg(n){return qr.get(n)||null}class Zg{constructor(s,o,d){this.element=s,this.attributeName=o,this.parent=d,this.value=s.getAttribute(o),this.valueAsString=this.value||"",this.valueAsNumber=parseFloat(this.value||""),d.attributes[o]=this.valueAsString,isNaN(this.valueAsNumber)&&(this.valueAsNumber=0)}}function Pf(n){const s=[];return Object.keys(n).forEach(d=>{Array.isArray(n[d])&&n[d].forEach(C=>{C&&typeof C.draw=="function"&&s.push(C)})}),s}const kf=new Map;function Gg(n,s){kf.set(n,s)}function Qg(n){return kf.get(n)||null}var If={exports:{}},Kg={},Jg=Object.freeze(Object.defineProperty({__proto__:null,default:Kg},Symbol.toStringTag,{value:"Module"})),oa=gg(Jg);/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||oa;var d=s.window,C=s.document,g=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],i=t.slice,a=Object.create,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=t.forEach||function(v,S){for(var k=0,I=this.length;k<I;k++)v.call(S,this[k],k,this)},f=function(v,S){for(var k in this)this.hasOwnProperty(k)&&v.call(S,this[k],k,this)},c=Object.assign||function(v){for(var S=1,k=arguments.length;S<k;S++){var I=arguments[S];for(var P in I)I.hasOwnProperty(P)&&(v[P]=I[P])}return v},_=function(v,S,k){if(v){var I=u(v,"length");(I&&typeof I.value=="number"?h:f).call(v,S,k=k||v)}return k};function m(v,S,k,I,P){var x={};function w(E,z){z=z||(z=u(S,E))&&(z.get?z:z.value),typeof z=="string"&&z[0]==="#"&&(z=v[z.substring(1)]||z);var A=typeof z=="function",R=z,F=P||A&&!z.base?z&&z.get?E in v:v[E]:null,O;(!P||!F)&&(A&&F&&(z.base=F),A&&I!==!1&&(O=E.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(x[O[3].toLowerCase()+O[4]]=O[2]),(!R||A||!R.get||typeof R.get!="function"||!p.isPlainObject(R))&&(R={value:R,writable:!0}),(u(v,E)||{configurable:!0}).configurable&&(R.configurable=!0,R.enumerable=k!=null?k:!O),l(v,E,R))}if(S){for(var y in S)S.hasOwnProperty(y)&&!e.test(y)&&w(y);for(var y in x){var b=x[y],T=v["set"+b],M=v["get"+b]||T&&v["is"+b];M&&(I===!0||M.length===0)&&w(y,{get:M,set:T})}}return v}function p(){for(var v=0,S=arguments.length;v<S;v++){var k=arguments[v];k&&c(this,k)}return this}return m(p,{inject:function(v){if(v){var S=v.statics===!0?v:v.statics,k=v.beans,I=v.preserve;S!==v&&m(this.prototype,v,v.enumerable,k,I),m(this,S,null,k,I)}for(var P=1,x=arguments.length;P<x;P++)this.inject(arguments[P]);return this},extend:function(){for(var v=this,S,k,I=0,P,x=arguments.length;I<x&&!(S&&k);I++)P=arguments[I],S=S||P.initialize,k=k||P.prototype;return S=S||function(){v.apply(this,arguments)},k=S.prototype=k||a(this.prototype),l(k,"constructor",{value:S,writable:!0,configurable:!0}),m(S,this),arguments.length&&this.inject.apply(S,arguments),S.base=v,S}}).inject({enumerable:!1,initialize:p,set:p,inject:function(){for(var v=0,S=arguments.length;v<S;v++){var k=arguments[v];k&&m(this,k,k.enumerable,k.beans,k.preserve)}return this},extend:function(){var v=a(this);return v.inject.apply(v,arguments)},each:function(v,S){return _(this,v,S)},clone:function(){return new this.constructor(this)},statics:{set:c,each:_,create:a,define:l,describe:u,clone:function(v){return c(new v.constructor,v)},isPlainObject:function(v){var S=v!=null&&v.constructor;return S&&(S===Object||S===p||S.name==="Object")},pick:function(v,S){return v!==o?v:S},slice:function(v,S,k){return i.call(v,S,k)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(e,t){if(!/^_/.test(t)){var i=typeof e;this.push(t+": "+(i==="number"?ne.instance.number(e):i==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return g.importJSON(e,this)},exportJSON:function(e){return g.exportJSON(this,e)},toJSON:function(){return g.serialize(this)},set:function(e,t){return e&&g.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),i=t.prototype._class;return i&&!g.exports[i]&&(g.exports[i]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(;i--;)if(!g.equals(e[i],t[i]))return!1}else{var a=Object.keys(e),i=a.length;if(i!==Object.keys(t).length)return!1;for(;i--;){var u=a[i];if(!(t.hasOwnProperty(u)&&g.equals(e[u],t[u])))return!1}}return!0}return!1},read:function(e,t,i,a){if(this===g){var u=this.peek(e,t);return e.__index++,u}var l=this.prototype,h=l._readIndex,f=t||h&&e.__index||0,c=e.length,_=e[f];if(a=a||c-f,_ instanceof this||i&&i.readNull&&_==null&&a<=1)return h&&(e.__index=f+1),_&&i&&i.clone?_.clone():_;if(_=g.create(l),h&&(_.__read=!0),_=_.initialize.apply(_,f>0||f+a<c?g.slice(e,f,f+a):e)||_,h){e.__index=f+_.__read;var m=_.__filtered;m&&(e.__filtered=m,_.__filtered=o),_.__read=o}return _},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,i,a){for(var u=[],l,h=t||0,f=a?h+a:e.length,c=h;c<f;c++)u.push(Array.isArray(l=e[c])?this.read(l,0,i):this.read(e,c,i,1));return u},readNamed:function(e,t,i,a,u){var l=this.getNamed(e,t),h=l!==o;if(h){var f=e.__filtered;if(!f){var c=this.getSource(e);f=e.__filtered=g.create(c),f.__unfiltered=c}f[t]=o}return this.read(h?[l]:e,i,a,u)},readSupported:function(e,t){var i=this.getSource(e),a=this,u=!1;return i&&Object.keys(i).forEach(function(l){if(l in t){var h=a.readNamed(e,l);h!==o&&(t[l]=h),u=!0}}),u},getSource:function(e){var t=e.__source;if(t===o){var i=e.length===1&&e[0];t=e.__source=i&&g.isPlainObject(i)?i:null}return t},getNamed:function(e,t){var i=this.getSource(e);if(i)return t?i[t]:e.__filtered||i},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,i,a){var u;function l(m){if(!(i&&m in i)&&!(u&&m in u)){var p=t[m];p!==o&&(e[m]=p)}}if(a){for(var h={},f=0,c,_=a.length;f<_;f++)(c=a[f])in t&&(l(c),h[c]=!0);u=h}return Object.keys(t.__unfiltered||t).forEach(l),e},isPlainValue:function(e,t){return g.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,i,a){t=t||{};var u=!a,l;if(u&&(t.formatter=new ne(t.precision),a={length:0,definitions:{},references:{},add:function(p,v){var S="#"+p._id,k=this.references[S];if(!k){this.length++;var I=v.call(p),P=p._class;P&&I[0]!==P&&I.unshift(P),this.definitions[S]=I,k=this.references[S]=[S]}return k}}),e&&e._serialize){l=e._serialize(t,a);var h=e._class;h&&!e._compactSerialize&&(u||!i)&&l[0]!==h&&l.unshift(h)}else if(Array.isArray(e)){l=[];for(var f=0,c=e.length;f<c;f++)l[f]=g.serialize(e[f],t,i,a)}else if(g.isPlainObject(e)){l={};for(var _=Object.keys(e),f=0,c=_.length;f<c;f++){var m=_[f];l[m]=g.serialize(e[m],t,i,a)}}else typeof e=="number"?l=t.formatter.number(e,t.precision):l=e;return u&&a.length>0?[["dictionary",a.definitions],l]:l},deserialize:function(e,t,i,a,u){var l=e,h=!i,f=h&&e&&e.length&&e[0][0]==="dictionary";if(i=i||{},Array.isArray(e)){var c=e[0],_=c==="dictionary";if(e.length==1&&/^#/.test(c))return i.dictionary[c];c=g.exports[c],l=[];for(var m=c?1:0,p=e.length;m<p;m++)l.push(g.deserialize(e[m],t,i,_,f));if(c){var v=l;t?l=t(c,v,h||u):l=new c(v)}}else if(g.isPlainObject(e)){l={},a&&(i.dictionary=l);for(var S in e)l[S]=g.deserialize(e[S],t,i)}return f?l[1]:l},exportJSON:function(e,t){var i=g.serialize(e,t);return t&&t.asString==!1?i:JSON.stringify(i)},importJSON:function(e,t){return g.deserialize(typeof e=="string"?JSON.parse(e):e,function(i,a,u){var l=u&&t&&t.constructor===i,h=l?t:g.create(i.prototype);if(a.length===1&&h instanceof ae&&(l||!(h instanceof be))){var f=a[0];g.isPlainObject(f)&&(f.insert=!1,l&&(a=a.concat([{insert:!0}])))}return(l?h.set:i).apply(h,a),l&&(t=null),h})},push:function(e,t){var i=t.length;if(i<4096)e.push.apply(e,t);else{var a=e.length;e.length+=i;for(var u=0;u<i;u++)e[a+u]=t[u]}return e},splice:function(e,t,i,a){var u=t&&t.length,l=i===o;i=l?e.length:i,i>e.length&&(i=e.length);for(var h=0;h<u;h++)t[h]._index=i+h;if(l)return g.push(e,t),[];var f=[i,a];t&&g.push(f,t);for(var c=e.splice.apply(e,f),h=0,_=c.length;h<_;h++)c[h]._index=o;for(var h=i+u,_=e.length;h<_;h++)e[h]._index=h;return c},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var L={on:function(e,t){if(typeof e!="string")g.each(e,function(l,h){this.on(h,l)},this);else{var i=this._eventTypes,a=i&&i[e],u=this._callbacks=this._callbacks||{};u=u[e]=u[e]||[],u.indexOf(t)===-1&&(u.push(t),a&&a.install&&u.length===1&&a.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){g.each(e,function(h,f){this.off(f,h)},this);return}var i=this._eventTypes,a=i&&i[e],u=this._callbacks&&this._callbacks[e],l;return u&&(!t||(l=u.indexOf(t))!==-1&&u.length===1?(a&&a.uninstall&&a.uninstall.call(this,e),delete this._callbacks[e]):l!==-1&&u.splice(l,1)),this},once:function(e,t){return this.on(e,function i(){t.apply(this,arguments),this.off(e,i)})},emit:function(e,t){var i=this._callbacks&&this._callbacks[e];if(!i)return!1;var a=g.slice(arguments,1),u=t&&t.target&&!t.currentTarget;i=i.slice(),u&&(t.currentTarget=this);for(var l=0,h=i.length;l<h;l++)if(i[l].apply(this,a)==!1){t&&t.stop&&t.stop();break}return u&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,i=this._callbacks,a=e?"install":"uninstall";if(t){for(var u in i)if(i[u].length>0){var l=t[u],h=l&&l[a];h&&h.call(this,u)}}},statics:{inject:function e(t){var i=t._events;if(i){var a={};g.each(i,function(u,l){var h=typeof u=="string",f=h?u:l,c=g.capitalize(f),_=f.substring(2).toLowerCase();a[_]=h?{}:u,f="_"+f,t["get"+c]=function(){return this[f]},t["set"+c]=function(m){var p=this[f];p&&this.off(_,p),m&&this.on(_,m),this[f]=m}}),t._eventTypes=a}return e.base.apply(this,arguments)}}},H=g.extend({_class:"PaperScope",initialize:function e(){r=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var i=vt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:ht.nativeModes},vt.release(i)}if(!this.agent){var a=s.navigator.userAgent.toLowerCase(),u=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],l=u==="darwin"?"mac":u,h=t.agent=t.browser={platform:l};l&&(h[l]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,c,_,m,p){if(!h.chrome){var v=c==="opera"?m:/^(node|trident)$/.test(c)?p:_;h.version=v,h.versionNumber=parseFloat(v),c={trident:"msie",jsdom:"node"}[c]||c,h.name=c,h[c]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var i=r.PaperScript.execute(e,this,t);return Be.updateFocus(),i},install:function(e){var t=this;g.each(["project","view","tool"],function(a){g.define(e,a,{configurable:!0,get:function(){return t[a]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(e[i]=this[i])},setup:function(e){return r=this,this.project=new we(e),this},createCanvas:function(e,t){return vt.getCanvas(e,t)},activate:function(){r=this},clear:function(){for(var e=this.projects,t=this.tools,i=e.length-1;i>=0;i--)e[i].remove();for(var i=t.length-1;i>=0;i--)t[i].remove()},remove:function(){this.clear(),delete H._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(i,a){return i[t](a)||i[t]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),j=g.extend(L,{initialize:function(e){this._scope=r,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Y={findItemBoundsCollisions:function(e,t,i){function a(h){for(var f=new Array(h.length),c=0;c<h.length;c++){var _=h[c].getBounds();f[c]=[_.left,_.top,_.right,_.bottom]}return f}var u=a(e),l=!t||t===e?u:a(t);return this.findBoundsCollisions(u,l,i||0)},findCurveBoundsCollisions:function(e,t,i,a){function u(v){for(var S=Math.min,k=Math.max,I=new Array(v.length),P=0;P<v.length;P++){var x=v[P];I[P]=[S(x[0],x[2],x[4],x[6]),S(x[1],x[3],x[5],x[7]),k(x[0],x[2],x[4],x[6]),k(x[1],x[3],x[5],x[7])]}return I}var l=u(e),h=!t||t===e?l:u(t);if(a){for(var f=this.findBoundsCollisions(l,h,i||0,!1,!0),c=this.findBoundsCollisions(l,h,i||0,!0,!0),_=[],m=0,p=f.length;m<p;m++)_[m]={hor:f[m],ver:c[m]};return _}return this.findBoundsCollisions(l,h,i||0)},findBoundsCollisions:function(e,t,i,a,u){var l=!t||e===t,h=l?e:e.concat(t),f=e.length,c=h.length;function _(re,le,he){for(var te=0,ie=re.length;te<ie;){var fe=ie+te>>>1;h[re[fe]][le]<he?te=fe+1:ie=fe}return te-1}for(var m=a?1:0,p=m+2,v=a?0:1,S=v+2,k=new Array(c),I=0;I<c;I++)k[I]=I;k.sort(function(re,le){return h[re][m]-h[le][m]});for(var P=[],x=new Array(f),I=0;I<c;I++){var w=k[I],y=h[w],b=l?w:w-f,T=w<f,M=l||!T,E=T?[]:null;if(P.length){var z=_(P,p,y[m]-i)+1;if(P.splice(0,z),l&&u){E=E.concat(P);for(var A=0;A<P.length;A++){var R=P[A];x[R].push(b)}}else for(var F=y[S],O=y[v],A=0;A<P.length;A++){var R=P[A],D=h[R],B=R<f,V=l||R>=f;(u||(T&&V||M&&B)&&F>=D[v]-i&&O<=D[S]+i)&&(T&&V&&E.push(l?R:R-f),M&&B&&x[R].push(b))}}if(T&&(e===t&&E.push(w),x[w]=E),P.length){var U=y[p],W=_(P,p,U);P.splice(W+1,0,w)}else P.push(w)}for(var I=0;I<x.length;I++){var $=x[I];$&&$.sort(function(le,he){return le-he})}return x}},ne=g.extend({initialize:function(e){this.precision=g.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,i){return this.number(e)+(i||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});ne.instance=new ne;var K=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,a=Math.sqrt,u=Math.pow,l=Math.log2||function(p){return Math.log(p)*Math.LOG2E},h=1e-12,f=112e-18;function c(p,v,S){return p<v?v:p>S?S:p}function _(p,v,S){function k(z){var A=z*134217729,R=z-A,F=R+A,O=z-F;return[F,O]}var I=v*v-p*S,P=v*v+p*S;if(i(I)*3<P){var x=k(p),w=k(v),y=k(S),b=v*v,T=w[0]*w[0]-b+2*w[0]*w[1]+w[1]*w[1],M=p*S,E=x[0]*y[0]-M+x[0]*y[1]+x[1]*y[0]+x[1]*y[1];I=b-M+(T-E)}return I}function m(){var p=Math.max.apply(Math,arguments);return p&&(p<1e-8||p>1e8)?u(2,-Math.round(l(p))):0}return{EPSILON:h,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(p){return p>=-h&&p<=h},isMachineZero:function(p){return p>=-f&&p<=f},clamp:c,integrate:function(p,v,S,k){for(var I=e[k-2],P=t[k-2],x=(S-v)*.5,w=x+v,y=0,b=k+1>>1,T=k&1?P[y++]*p(w):0;y<b;){var M=x*I[y];T+=P[y++]*(p(w+M)+p(w-M))}return x*T},findRoot:function(p,v,S,k,I,P,x){for(var w=0;w<P;w++){var y=p(S),b=y/v(S),T=S-b;if(i(b)<x){S=T;break}y>0?(I=S,S=T<=k?(k+I)*.5:T):(k=S,S=T>=I?(k+I)*.5:T)}return c(S,k,I)},solveQuadratic:function(p,v,S,k,I,P){var x,w=1/0;if(i(p)<h){if(i(v)<h)return i(S)<h?-1:0;x=-S/v}else{v*=-.5;var y=_(p,v,S);if(y&&i(y)<f){var b=m(i(p),i(v),i(S));b&&(p*=b,v*=b,S*=b,y=_(p,v,S))}if(y>=-f){var T=y<0?0:a(y),M=v+(v<0?-T:T);M===0?(x=S/p,w=-x):(x=M/p,w=S/M)}}var E=0,z=I==null,A=I-h,R=P+h;return isFinite(x)&&(z||x>A&&x<R)&&(k[E++]=z?x:c(x,I,P)),w!==x&&isFinite(w)&&(z||w>A&&w<R)&&(k[E++]=z?w:c(w,I,P)),E},solveCubic:function(p,v,S,k,I,P,x){var w=m(i(p),i(v),i(S),i(k)),y,b,T,M,E;w&&(p*=w,v*=w,S*=w,k*=w);function z(W){y=W;var $=p*y;b=$+v,T=b*y+S,M=($+b)*y+T,E=T*y+k}if(i(p)<h)p=v,b=S,T=k,y=1/0;else if(i(k)<h)b=v,T=S,y=0;else{z(-(v/p)/3);var A=E/p,R=u(i(A),1/3),F=A<0?-1:1,O=-M/p,D=O>0?1.324717957244746*Math.max(R,a(O)):R,B=y-F*D;if(B!==y){do z(B),B=M===0?y:y-E/M/(1+f);while(F*B>F*y);i(p)*y*y>i(k/y)&&(T=-k/y,b=(T-S)/y)}}var V=K.solveQuadratic(p,b,T,I,P,x),U=P==null;return isFinite(y)&&(V===0||V>0&&y!==I[0]&&y!==I[1])&&(U||y>P-h&&y<x+h)&&(I[V++]=U?y:c(y,P,x)),V}}},se={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},N=g.extend({_class:"Point",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new N(this.x,this.y)},toString:function(){var e=ne.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var i=e/this.getLength();K.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=N.read(arguments),t=this.getLength()*e.getLength();if(K.isZero(t))return NaN;var i=this.dot(e)/t;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=N.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=N.read(e),i=t.x-this.x,a=t.y-this.y,u=i*i+a*a,l=g.read(e);return l?u:Math.sqrt(u)},normalize:function(e){e===o&&(e=1);var t=this.getLength(),i=t!==0?e/t:0,a=new N(this.x*i,this.y*i);return i>=0&&(a._angle=this._angle),a},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var i=t?this.subtract(t):this,a=Math.sin(e),u=Math.cos(e);return i=new N(i.x*u-i.y*a,i.x*a+i.y*u),t?i.add(t):i},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=N.read(arguments);return new N(this.x+e.x,this.y+e.y)},subtract:function(){var e=N.read(arguments);return new N(this.x-e.x,this.y-e.y)},multiply:function(){var e=N.read(arguments);return new N(this.x*e.x,this.y*e.y)},divide:function(){var e=N.read(arguments);return new N(this.x/e.x,this.y/e.y)},modulo:function(){var e=N.read(arguments);return new N(this.x%e.x,this.y%e.y)},negate:function(){return new N(-this.x,-this.y)},isInside:function(){return q.read(arguments).contains(this)},isClose:function(){var e=arguments,t=N.read(e),i=g.read(e);return this.getDistance(t)<=i},isCollinear:function(){var e=N.read(arguments);return N.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=N.read(arguments);return N.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=K.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=N.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=N.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=N.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new N(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=N.read(e),i=N.read(e);return new N(Math.min(t.x,i.x),Math.min(t.y,i.y))},max:function(){var e=arguments,t=N.read(e),i=N.read(e);return new N(Math.max(t.x,i.x),Math.max(t.y,i.y))},random:function(){return new N(Math.random(),Math.random())},isCollinear:function(e,t,i,a){return Math.abs(e*a-t*i)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8},isOrthogonal:function(e,t,i,a){return Math.abs(e*i+t*a)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new N(t(this.x),t(this.y))}},{})),ge=N.extend({initialize:function(t,i,a,u){this._x=t,this._y=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._x=e,this._y=t,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),J=g.extend({_class:"Size",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new J(this.width,this.height)},toString:function(){var e=ne.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=J.read(arguments);return new J(this.width+e.width,this.height+e.height)},subtract:function(){var e=J.read(arguments);return new J(this.width-e.width,this.height-e.height)},multiply:function(){var e=J.read(arguments);return new J(this.width*e.width,this.height*e.height)},divide:function(){var e=J.read(arguments);return new J(this.width/e.width,this.height/e.height)},modulo:function(){var e=J.read(arguments);return new J(this.width%e.width,this.height%e.height)},negate:function(){return new J(-this.width,-this.height)},isZero:function(){var e=K.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new J(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new J(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new J(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new J(t(this.width),t(this.height))}},{})),Me=J.extend({initialize:function(t,i,a,u){this._width=t,this._height=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._width=e,this._height=t,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),q=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,a,u){var l=arguments,h=typeof t,f;if(h==="number"?(this._set(t,i,a,u),f=4):h==="undefined"||t===null?(this._set(0,0,0,0),f=t===null?1:0):l.length===1&&(Array.isArray(t)?(this._set.apply(this,t),f=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),f=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),g.readSupported(l,this)&&(f=1))),f===o){var c=N.readNamed(l,"from"),_=g.peek(l),m=c.x,p=c.y,v,S;if(_&&_.x!==o||g.hasNamed(l,"to")){var k=N.readNamed(l,"to");v=k.x-m,S=k.y-p,v<0&&(m=k.x,v=-v),S<0&&(p=k.y,S=-S)}else{var I=J.read(l);v=I.width,S=I.height}this._set(m,p,v,S),f=l.__index}var P=l.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(e,t,i,a){return this.x=e,this.y=t,this.width=i,this.height=a,this},clone:function(){return new q(this.x,this.y,this.width,this.height)},equals:function(e){var t=g.isPlainValue(e)?q.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=ne.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?N:ge;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=N.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?J:Me;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=J.read(arguments),t=this._sx,i=this._sy,a=e.width,u=e.height;t&&(this.x+=(this.width-a)*t),i&&(this.y+=(this.height-u)*i),this.width=a,this.height=u,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?N:ge;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=N.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==o||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(q.read(arguments)):this._containsPoint(N.read(arguments))},_containsPoint:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t+e.width<=this.x+this.width&&i+e.height<=this.y+this.height},intersects:function(){var e=q.read(arguments),t=g.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=q.read(arguments),t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),a=Math.min(this.x+this.width,e.x+e.width),u=Math.min(this.y+this.height,e.y+e.height);return new q(t,i,a-t,u-i)},unite:function(){var e=q.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width),u=Math.max(this.y+this.height,e.y+e.height);return new q(t,i,a-t,u-i)},include:function(){var e=N.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x),u=Math.max(this.y+this.height,e.y);return new q(t,i,a-t,u-i)},expand:function(){var e=J.read(arguments),t=e.width,i=e.height;return new q(this.x-t/2,this.y-i/2,this.width+t,this.height+i)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===o?e:t)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var i=e.join(""),a=/^[RL]/.test(i);t>=4&&(e[1]+=a?"Y":"X");var u=e[a?0:1],l=e[a?1:0],h="get"+u,f="get"+l,c="set"+u,_="set"+l,m="get"+i,p="set"+i;this[m]=function(v){var S=v?N:ge;return new S(this[h](),this[f](),this,p)},this[p]=function(){var v=N.read(arguments);this[c](v.x),this[_](v.y)}},{beans:!0})),Z=q.extend({initialize:function(t,i,a,u,l,h){this._set(t,i,a,u,!0),this._owner=l,this._setter=h},_set:function(e,t,i,a,u){return this._x=e,this._y=t,this._width=i,this._height=a,u||this._owner[this._setter](this),this}},new function(){var e=q.prototype;return g.each(["x","y","width","height"],function(t){var i=g.capitalize(t),a="_"+t;this["get"+i]=function(){return this[a]},this["set"+i]=function(u){this[a]=u,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var i="set"+t;this[i]=function(){this._dontNotify=!0,e[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var i=this._owner;i._changeSelection&&i._changeSelection(2,t)}}))}),Q=g.extend({_class:"Matrix",initialize:function e(t,i){var a=arguments,u=a.length,l=!0;if(u>=6?this._set.apply(this,a):u===1||u===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,i):Array.isArray(t)?this._set.apply(this,i?t.concat([i]):t):l=!1:u?l=!1:this.reset(),!l)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,i,a,u,l,h){return this._a=e,this._b=t,this._c=i,this._d=a,this._tx=u,this._ty=l,h||this._changed(),this},_serialize:function(e,t){return g.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new Q(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=ne.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var i=this._owner;return i?(i.transform(null,g.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=N.read(arguments),t=e.x,i=e.y;return this._tx+=t*this._a+i*this._c,this._ty+=t*this._b+i*this._d,this._changed(),this},scale:function(){var e=arguments,t=N.read(e),i=N.read(e,0,{readNull:!0});return i&&this.translate(i),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=N.read(arguments,1),i=t.x,a=t.y,u=Math.cos(e),l=Math.sin(e),h=i-i*u+a*l,f=a-i*l-a*u,c=this._a,_=this._b,m=this._c,p=this._d;return this._a=u*c+l*m,this._b=u*_+l*p,this._c=-l*c+u*m,this._d=-l*_+u*p,this._tx+=h*c+f*m,this._ty+=h*_+f*p,this._changed(),this},shear:function(){var e=arguments,t=N.read(e),i=N.read(e,0,{readNull:!0});i&&this.translate(i);var a=this._a,u=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*a,this._d+=t.x*u,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var e=arguments,t=N.read(e),i=N.read(e,0,{readNull:!0}),a=Math.PI/180,u=new N(Math.tan(t.x*a),Math.tan(t.y*a));return this.shear(u,i)},append:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=e._a,f=e._c,c=e._b,_=e._d,m=e._tx,p=e._ty;this._a=h*i+c*u,this._c=f*i+_*u,this._b=h*a+c*l,this._d=f*a+_*l,this._tx+=m*i+p*u,this._ty+=m*a+p*l,t||this._changed()}return this},prepend:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,c=e._a,_=e._c,m=e._b,p=e._d,v=e._tx,S=e._ty;this._a=c*i+_*a,this._c=c*u+_*l,this._b=m*i+p*a,this._d=m*u+p*l,this._tx=c*h+_*f+v,this._ty=m*h+p*f+S,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=this._tx,l=this._ty,h=e*a-t*i,f=null;return h&&!isNaN(h)&&isFinite(u)&&isFinite(l)&&(this._a=a/h,this._b=-t/h,this._c=-i/h,this._d=e/h,this._tx=(i*l-a*u)/h,this._ty=(t*u-e*l)/h,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Q(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,i){return arguments.length<3?this._transformPoint(N.read(arguments)):this._transformCoordinates(e,t,i)},_transformPoint:function(e,t,i){var a=e.x,u=e.y;return t||(t=new N),t._set(a*this._a+u*this._c+this._tx,a*this._b+u*this._d+this._ty,i)},_transformCoordinates:function(e,t,i){for(var a=0,u=2*i;a<u;a+=2){var l=e[a],h=e[a+1];t[a]=l*this._a+h*this._c+this._tx,t[a+1]=l*this._b+h*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,i=e.y,a=t+e.width,u=i+e.height,l=[t,i,a,i,a,u,t,u];return this._transformCoordinates(l,l,4)},_transformBounds:function(e,t,i){for(var a=this._transformCorners(e),u=a.slice(0,2),l=u.slice(),h=2;h<8;h++){var f=a[h],c=h&1;f<u[c]?u[c]=f:f>l[c]&&(l[c]=f)}return t||(t=new q),t._set(u[0],u[1],l[0]-u[0],l[1]-u[1],i)},inverseTransform:function(){return this._inverseTransform(N.read(arguments))},_inverseTransform:function(e,t,i){var a=this._a,u=this._b,l=this._c,h=this._d,f=this._tx,c=this._ty,_=a*h-u*l,m=null;if(_&&!isNaN(_)&&isFinite(f)&&isFinite(c)){var p=e.x-this._tx,v=e.y-this._ty;t||(t=new N),m=t._set((p*h-v*l)/_,(v*a-p*u)/_,i)}return m},decompose:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=e*a-t*i,l=Math.sqrt,h=Math.atan2,f=180/Math.PI,c,_,m;if(e!==0||t!==0){var p=l(e*e+t*t);c=Math.acos(e/p)*(t>0?1:-1),_=[p,u/p],m=[h(e*i+t*a,p*p),0]}else if(i!==0||a!==0){var v=l(i*i+a*a);c=Math.asin(i/v)*(a>0?1:-1),_=[u/v,v],m=[0,h(e*i+t*a,v*v)]}else c=0,m=_=[0,0];return{translation:this.getTranslation(),rotation:c*f,scaling:new N(_),skewing:new N(m[0]*f,m[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new N(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._changed()}},{})),ue=g.extend({_class:"Line",initialize:function(t,i,a,u,l){var h=!1;arguments.length>=4?(this._px=t,this._py=i,this._vx=a,this._vy=u,h=l):(this._px=t.x,this._py=t.y,this._vx=i.x,this._vy=i.y,h=a),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new N(this._px,this._py)},getVector:function(){return new N(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return ue.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return ue.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return ue.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return N.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return N.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,i,a,u,l,h,f,c,_){c||(i-=e,a-=t,h-=u,f-=l);var m=i*f-a*h;if(!K.isMachineZero(m)){var p=e-u,v=t-l,S=(h*v-f*p)/m,k=(i*v-a*p)/m,I=1e-12,P=-I,x=1+I;if(_||P<S&&S<x&&P<k&&k<x)return _||(S=S<=0?0:S>=1?1:S),new N(e+S*i,t+S*a)}},getSide:function(e,t,i,a,u,l,h,f){h||(i-=e,a-=t);var c=u-e,_=l-t,m=c*a-_*i;return!f&&K.isMachineZero(m)&&(m=(c*i+c*i)/(i*i+a*a),m>=0&&m<=1&&(m=0)),m<0?-1:m>0?1:0},getSignedDistance:function(e,t,i,a,u,l,h){return h||(i-=e,a-=t),i===0?a>0?u-e:e-u:a===0?i<0?l-t:t-l:((u-e)*a-(l-t)*i)/(a>i?a*Math.sqrt(1+i*i/(a*a)):i*Math.sqrt(1+a*a/(i*i)))},getDistance:function(e,t,i,a,u,l,h){return Math.abs(ue.getSignedDistance(e,t,i,a,u,l,h))}}}),we=j.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){j.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new bi(null,null,this),this._view=Be.create(this,t||vt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return g.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var a=this._changes;if(a&&t){var u=this._changesById,l=t._id,h=u[l];h?h.flags|=e:a.push(u[l]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new be({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:Ye,match:function(i){var a=i._definition,u=a._id;return t[u]||(t[u]=!0,e.push(a)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var i in e){var a=e[i],u=a._selection;u&1&&a.isInserted()?t.push(a):u||this._updateSelection(a)}return t},_updateSelection:function(e){var t=e._id,i=this._selectionItems;e._selection?i[t]!==e&&(this._selectionCount++,i[t]=e):i[t]===e&&(this._selectionCount--,delete i[t])},selectAll:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(o,e)},insertLayer:function(e,t){if(t instanceof be){t._remove(!1,!0),g.splice(this._children,[t],e,0),t._setProject(this,!0);var i=t._name;i&&t.setName(i),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,i){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(o,new be(ae.NO_INSERT),!0)).insertChild(e,t),i&&t.activate&&t.activate(),t},getItems:function(e){return ae._getItems(this,e)},getItem:function(e){return ae._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return g.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var i=t[e];if(i){for(var a in i){var u=i[a];for(var l in t){var h=t[l];h&&h!=i&&delete h[u._id]}u.remove()}t[e]=null}}},draw:function(e,t,i){this._updateVersion++,e.save(),t.applyToContext(e);for(var a=this._children,u=new g({offset:new N(0,0),pixelRatio:i,viewMatrix:t.isIdentity()?null:t,matrices:[new Q],updateMatrix:!0}),l=0,h=a.length;l<h;l++)a[l].draw(e,u);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var f=this._selectionItems,c=this._scope.settings.handleSize,_=this._updateVersion;for(var m in f)f[m]._drawSelection(e,t,c,f,_);e.restore()}}}),ae=g.extend(L,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=g.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Q,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(e,function(t){this._events[t]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var i=e&&g.isPlainObject(e),a=i&&e.internal===!0,u=this._matrix=new Q,l=i&&e.project||r.project,h=r.settings;return this._id=a?null:se.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,t&&u.translate(t),u._owner=this,this._style=new bi(l._currentStyle,this,l),a||i&&e.insert==!1||!h.insertItems&&!(i&&e.insert===!0)?this._setProject(l):(i&&e.parent||l)._insertItem(o,this,!0),i&&e!==ae.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(e,t){var i={},a=this;function u(l){for(var h in l){var f=a[h];g.equals(f,h==="leading"?l.fontSize*1.2:l[h])||(i[h]=g.serialize(f,e,h!=="data",t))}}return u(this._serializeFields),this instanceof pe||u(this._style._defaults),[this._class,i]},_changed:function(e){var t=this._symbol,i=this._parent||t,a=this._project;e&8&&(this._bounds=this._position=this._decomposed=o),e&16&&(this._globalMatrix=o),i&&e&72&&ae._clearBoundsCache(i),e&2&&ae._clearBoundsCache(this),a&&a._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var i=t._children,a=t._namedChildren;(a[e]=a[e]||[]).push(this),e in i||(i[e]=this)}this._name=e||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},g.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=g.capitalize(e),i="_"+e,a={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(u){u!=this[i]&&(this[i]=u,this._changed(a[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var i=0,a=e.length;i<a;i++)if(!e[i].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var i=0,a=t.length;i<a;i++)t[i].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?N:ge,i=this._position||(this._position=this._getPositionFromBounds());return new t(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(N.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new ge(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=N.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(i){return this.getBounds(i,e)}},{beans:!0,getBounds:function(e,t){var i=t||e instanceof Q,a=g.set({},i?t:e,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var u=this._getCachedBounds(i&&e,a).rect;return arguments.length?u:new Z(u.x,u.y,u.width,u.height,this,"setBounds")},setBounds:function(){var e=q.read(arguments),t=this.getBounds(),i=this._matrix,a=new Q,u=e.getCenter();a.translate(u),(e.width!=t.width||e.height!=t.height)&&(i.isInvertible()||(i.set(i._backup||new Q().translate(i.getTranslation())),t=this.getBounds()),a.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),u=t.getCenter(),a.translate(-u.x,-u.y),this.transform(a)},_getBounds:function(e,t){var i=this._children;return!i||!i.length?new q:(ae._updateBoundsCache(this,t.cacheItem),ae._getBounds(i,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,i){e=e&&e._orNullIfIdentity();var a=t.internal&&!i,u=t.cacheItem,l=a?null:this._matrix._orNullIfIdentity(),h=u&&(!e||e.equals(l))&&this._getBoundsCacheKey(t,a),f=this._bounds;if(ae._updateBoundsCache(this._parent||this._symbol,u),h&&f&&h in f){var c=f[h];return{rect:c.rect.clone(),nonscaling:c.nonscaling}}var _=this._getBounds(e||l,t),m=_.rect||_,p=this._style,v=_.nonscaling||p.hasStroke()&&!p.getStrokeScaling();if(h){f||(this._bounds=f={});var c=f[h]={rect:m.clone(),nonscaling:v,internal:a}}return{rect:m,nonscaling:v}},_getStrokeMatrix:function(e,t){var i=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,a=i?i.getViewMatrix().invert():e;return a&&a._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var i=t._id,a=e._boundsCache=e._boundsCache||{ids:{},list:[]};a.ids[i]||(a.list.push(t),a.ids[i]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=o;for(var i=0,a=t.list,u=a.length;i<u;i++){var l=a[i];l!==e&&(l._bounds=l._position=o,l._boundsCache&&ae._clearBoundsCache(l))}}},_getBounds:function(e,t,i){var a=1/0,u=-a,l=a,h=u,f=!1;i=i||{};for(var c=0,_=e.length;c<_;c++){var m=e[c];if(m._visible&&!m.isEmpty(!0)){var p=m._getCachedBounds(t&&t.appended(m._matrix),i,!0),v=p.rect;a=Math.min(v.x,a),l=Math.min(v.y,l),u=Math.max(v.x+v.width,u),h=Math.max(v.y+v.height,h),p.nonscaling&&(f=!0)}}return{rect:isFinite(a)?new q(a,l,u-a,h-l):new q,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var i=this._decomposed;this.rotate(e-t),i&&(i.rotation=e,this._decomposed=i)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new ge(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=N.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var i=this.getRotation(),a=this._decomposed,u=new Q,l=K.isZero;if(l(e.x)||l(e.y))u.translate(a.translation),i&&u.rotate(i),u.scale(t.x,t.y),this._matrix.set(u);else{var h=this.getPosition(!0);u.translate(h),i&&u.rotate(i),u.scale(t.x/e.x,t.y/e.y),i&&u.rotate(-i),u.translate(h.negate()),this.transform(u)}a&&(a.scaling=t,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var i=this._parent,a=[];i;){if(!i._globalMatrix){t=null;for(var u=0,l=a.length;u<l;u++)a[u]._globalMatrix=null;break}a.push(i),i=i._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&t.prepend(i.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof be)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return g.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(ae.NO_INSERT),i=this._children,a=g.pick(e?e.insert:o,e===o||e===!0),u=g.pick(e?e.deep:o,!0);i&&t.copyAttributes(this),(!i||u)&&t.copyContent(this),i||t.copyAttributes(this),a&&t.insertAbove(this);var l=this._name,h=this._parent;if(l&&h){for(var i=h._children,f=l,c=1;i[l];)l=f+" "+c++;l!==f&&t.setName(l)}return t},copyContent:function(e){for(var t=e._children,i=0,a=t&&t.length;i<a;i++)this.addChild(t[i].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,u=i.length;a<u;a++){var l=i[a];e.hasOwnProperty(l)&&(this[l]=e[l])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var h=e._data,f=e._name;this._data=h?g.clone(h):null,f&&this.setName(f)},rasterize:function(e,t){var i,a,u;g.isPlainObject(e)?(i=e.resolution,a=e.insert,u=e.raster):(i=e,a=t),u?u.matrix.reset(!0):u=new Ae(ae.NO_INSERT);var l=this.getStrokeBounds(),h=(i||this.getView().getResolution())/72,f=l.getTopLeft().floor(),c=l.getBottomRight().ceil(),_=new J(c.subtract(f)),m=_.multiply(h);if(u.setSize(m,!0),!m.isZero()){var p=u.getContext(!0),v=new Q().scale(h).translate(f.negate());p.save(),v.applyToContext(p),this.draw(p,new g({matrices:[v]})),p.restore()}return u.transform(new Q().translate(f.add(_.divide(2))).scale(1/h)),(a===o||a)&&u.insertAbove(this),u},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(N.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var i=t.length-1;i>=0;i--)if(t[i].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new _e.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof ae?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var a=arguments;return this._hitTest(N.read(a),We.getOptions(a))}function t(){var a=arguments,u=N.read(a),l=We.getOptions(a),h=[];return this._hitTest(u,new g({all:h},l)),h}function i(a,u,l,h){var f=this._children;if(f)for(var c=f.length-1;c>=0;c--){var _=f[c],m=_!==h&&_._hitTest(a,u,l);if(m&&!u.all)return m}return null}return we.inject({hitTest:e,hitTestAll:t,_hitTest:i}),{hitTest:e,hitTestAll:t,_hitTestChildren:i}},{_hitTest:function(e,t,i){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var a=this._matrix,u=i?i.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),l=Math.max(t.tolerance,1e-12),h=t._tolerancePadding=new J(_e._getStrokePadding(l,a._shiftless().invert()));if(e=a._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(e))return null;var f=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==g.hyphenate(this._class)||t.class&&!(this instanceof t.class)),c=t.match,_=this,m,p;function v(y){return y&&c&&!c(y)&&(y=null),y&&t.all&&t.all.push(y),y}function S(y,b){var T=b?m["get"+b]():_.getPosition();if(e.subtract(T).divide(h).length<=1)return new We(y,_,{name:b?g.hyphenate(b):y,point:T})}var k=t.position,I=t.center,P=t.bounds;if(f&&this._parent&&(k||I||P)){if((I||P)&&(m=this.getInternalBounds()),p=k&&S("position")||I&&S("center","Center"),!p&&P)for(var x=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!p;w++)p=S("bounds",x[w]);p=v(p)}return p||(p=this._hitTestChildren(e,t,u)||f&&v(this._hitTestSelf(e,t,u,this.getStrokeScaling()?null:u._shiftless().invert()))||null),p&&p.point&&(p.point=a.transform(p.point)),p},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new We("fill",this)},matches:function(e,t){function i(h,f){for(var c in h)if(h.hasOwnProperty(c)){var _=h[c],m=f[c];if(g.isPlainObject(_)&&g.isPlainObject(m)){if(!i(_,m))return!1}else if(!g.equals(_,m))return!1}return!0}var a=typeof e;if(a==="object"){for(var u in e)if(e.hasOwnProperty(u)&&!this.matches(u,e[u]))return!1;return!0}else{if(a==="function")return e(this);if(e==="match")return t(this);var l=/^(empty|editable)$/.test(e)?this["is"+g.capitalize(e)]():e==="type"?g.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;l=this._class}if(typeof t=="function")return!!t(l);if(t){if(t.test)return t.test(l);if(g.isPlainObject(t))return i(t,l)}return g.equals(l,t)}},getItems:function(e){return ae._getItems(this,e,this._matrix)},getItem:function(e){return ae._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,i,a,u,l){if(!u){var h=typeof i=="object"&&i,f=h&&h.overlapping,c=h&&h.inside,_=f||c,v=_&&q.read([_]);u={items:[],recursive:h&&h.recursive!==!1,inside:!!c,overlapping:!!f,rect:v,path:f&&new _e.Rectangle({rectangle:v,insert:!1})},h&&(i=g.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var m=t._children,p=u.items,v=u.rect;a=v&&(a||new Q);for(var S=0,k=m&&m.length;S<k;S++){var I=m[S],P=a&&a.appended(I._matrix),x=!0;if(v){var _=I.getBounds(P);if(!v.intersects(_))continue;v.contains(_)||u.overlapping&&(_.contains(v)||u.path.intersects(I,P))||(x=!1)}if(x&&I.matches(i)&&(p.push(I),l)||(u.recursive!==!1&&e(I,i,P,u,l),l&&p.length>0))break}return p}}},{importJSON:function(e){var t=g.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(o,e)},insertChild:function(e,t){var i=t?this.insertChildren(e,[t]):null;return i&&i[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var i=this._children;if(i&&t&&t.length>0){t=g.slice(t);for(var a={},u=t.length-1;u>=0;u--){var l=t[u],h=l&&l._id;!l||a[h]?t.splice(u,1):(l._remove(!1,!0),a[h]=!0)}g.splice(i,t,e,0);for(var f=this._project,c=f._changes,u=0,_=t.length;u<_;u++){var l=t[u],m=l._name;l._parent=this,l._setProject(f,!0),m&&l.setName(m),c&&l._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var i=e&&e._getOwner(),a=e!==this&&i?this:null;return a&&(a._remove(!1,!0),i._insertItem(e._index+t,a)),a},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(o,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var i=t[0].reduce(e);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,i=e._namedChildren,a=this._name,u=i[a],l=u?u.indexOf(this):-1;l!==-1&&(t[a]==this&&delete t[a],u.splice(l,1),u.length?t[a]=u[0]:delete i[a])}},_remove:function(e,t){var i=this._getOwner(),a=this._project,u=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),u!=null&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(i._children,null,u,1)),this._installEvents(!1),e&&a._changes&&this._changed(5),t&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=g.pick(t,this._children.length);for(var i=g.splice(this._children,null,e,t-e),a=i.length-1;a>=0;a--)i[a]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,i=t?t.length:0;if(e){for(var a=0;a<i;a++)if(!t[a].isEmpty(e))return!1;return!0}return!i},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(h){var f=[];do f.unshift(h);while(h=h._parent);return f}for(var i=t(this),a=t(e),u=0,l=Math.min(i.length,a.length);u<l;u++)if(i[u]!=a[u])return i[u]._index<a[u]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:N).read(i),u=N.read(i,0,{readNull:!0});return this.transform(new Q()[e](a,u||this.getPosition(!0)))}},{translate:function(){var e=new Q;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,i){var a=this._matrix,u=e&&!e.isIdentity(),l=i&&this._canApplyMatrix||this._applyMatrix&&(u||!a.isIdentity()||t&&this._children);if(!u&&!l)return this;if(u){!e.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(e,!0);var h=this._style,f=h.getFillColor(!0),c=h.getStrokeColor(!0);f&&f.transform(e),c&&c.transform(e)}if(l&&(l=this._transformContent(a,t,i))){var _=this._pivot;_&&a._transformPoint(_,_,!0),a.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var m=this._bounds,p=this._position;(u||l)&&this._changed(25);var v=u&&m&&e.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var S in m){var k=m[S];if(k.nonscaling)delete m[S];else if(l||!k.internal){var I=k.rect;e._transformBounds(I,I)}}this._bounds=m;var P=m[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else u&&p&&this._pivot&&(this._position=e._transformPoint(p,p));return this},_transformContent:function(e,t,i){var a=this._children;if(a){for(var u=0,l=a.length;u<l;u++)a[u].transform(e,t,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(N.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(N.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(N.read(arguments))},localToParent:function(){return this._matrix._transformPoint(N.read(arguments))},fitBounds:function(e,t){e=q.read(arguments);var i=this.getBounds(),a=i.height/i.width,u=e.height/e.width,l=(t?a>u:a<u)?e.width/i.width:e.height/i.height,h=new q(new N,new J(i.width*l,i.height*l));h.setCenter(e.getCenter()),this.setBounds(h)}}),{_setStyles:function(e,t,i){var a=this._style,u=this._matrix;if(a.hasFill()&&(e.fillStyle=a.getFillColor().toCanvasStyle(e,u)),a.hasStroke()){e.strokeStyle=a.getStrokeColor().toCanvasStyle(e,u),e.lineWidth=a.getStrokeWidth();var l=a.getStrokeJoin(),h=a.getStrokeCap(),f=a.getMiterLimit();if(l&&(e.lineJoin=l),h&&(e.lineCap=h),f&&(e.miterLimit=f),r.support.nativeDash){var c=a.getDashArray(),_=a.getDashOffset();c&&c.length&&("setLineDash"in e?(e.setLineDash(c),e.lineDashOffset=_):(e.mozDash=c,e.mozDashOffset=_))}}if(a.hasShadow()){var m=t.pixelRatio||1,p=i._shiftless().prepend(new Q().scale(m,m)),v=p.transform(new N(a.getShadowBlur(),0)),S=p.transform(this.getShadowOffset());e.shadowColor=a.getShadowColor().toCanvasStyle(e),e.shadowBlur=v.getLength(),e.shadowOffsetX=S.x,e.shadowOffsetY=S.y}},draw:function(e,t,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var a=t.matrices,u=t.viewMatrix,l=this._matrix,h=a[a.length-1].appended(l);if(!!h.isInvertible()){u=u?u.appended(h):h,a.push(h),t.updateMatrix&&(this._globalMatrix=h);var f=this._blendMode,c=K.clamp(this._opacity,0,1),_=f==="normal",m=ht.nativeModes[f],p=_&&c===1||t.dontStart||t.clip||(m||_&&c<1)&&this._canComposite(),v=t.pixelRatio||1,S,k,I;if(!p){var P=this.getStrokeBounds(u);if(!P.width||!P.height){a.pop();return}I=t.offset,k=t.offset=P.getTopLeft().floor(),S=e,e=vt.getContext(P.getSize().ceil().add(1).multiply(v)),v!==1&&e.scale(v,v)}e.save();var x=i?i.appended(l):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,w=!p&&t.clipItem,y=!x||w;if(p?(e.globalAlpha=c,m&&(e.globalCompositeOperation=f)):y&&e.translate(-k.x,-k.y),y&&(p?l:u).applyToContext(e),w&&t.clipItem.draw(e,t.extend({clip:!0})),x){e.setTransform(v,0,0,v,0,0);var b=t.offset;b&&e.translate(-b.x,-b.y)}this._draw(e,t,u,x),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),p||(ht.process(f,e,S,c,k.subtract(I).multiply(v)),vt.release(e),t.offset=I)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Ie)return t._isUpdated(e);var i=this._updateVersion===e;return!i&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,i=!0),i},_drawSelection:function(e,t,i,a,u){var l=this._selection,h=l&1,f=l&2||h&&this._selectBounds,c=l&4;if(this._drawSelected||(h=!1),(h||f||c)&&this._isUpdated(u)){var _,m=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),p=t.appended(this.getGlobalMatrix(!0)),v=i/2;if(e.strokeStyle=e.fillStyle=m?m.toCanvasStyle(e):"#009dec",h&&this._drawSelected(e,p,a),c){var S=this.getPosition(!0),k=this._parent,I=k?k.localToGlobal(S):S,P=I.x,x=I.y;e.beginPath(),e.arc(P,x,v,0,Math.PI*2,!0),e.stroke();for(var w=[[0,-1],[1,0],[0,1],[-1,0]],y=v,b=i+1,T=0;T<4;T++){var M=w[T],E=M[0],z=M[1];e.moveTo(P+E*y,x+z*y),e.lineTo(P+E*b,x+z*b),e.stroke()}}if(f){var A=p._transformCorners(this.getInternalBounds());e.beginPath();for(var T=0;T<8;T++)e[T?"lineTo":"moveTo"](A[T],A[++T]);e.closePath(),e.stroke();for(var T=0;T<8;T++)e.fillRect(A[T]-v,A[++T]-v,i,i)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(e){this["removeOn"+g.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var i="mouse"+t,a=this._project,u=a._removeSets=a._removeSets||{};u[i]=u[i]||{},u[i][this._id]=this}return this}}),{tween:function(e,t,i){i||(i=t,t=e,e=null,i||(i=t,t=null));var a=i&&i.easing,u=i&&i.start,l=i!=null&&(typeof i=="number"?i:i.duration),h=new tu(this,e,t,l,a,u);function f(c){h._handleFrame(c.time*1e3),h.running||this.off("frame",f)}return l&&this.on("frame",f),h},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),pe=ae.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=o)},_getClipItem:function(){var e=this._clipItem;if(e===o){e=null;for(var t=this._children,i=0,a=t.length;i<a;i++)if(t[i]._clipMask){e=t[i];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,i){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(t),g.set({},i,{stroke:!1})):e.base.call(this,t,i)},_hitTestChildren:function e(t,i,a){var u=this._getClipItem();return(!u||u.contains(t))&&e.base.call(this,t,i,a,u)},_draw:function(e,t){var i=t.clip,a=!i&&this._getClipItem();t=t.extend({clipItem:a,clip:!1}),i?(e.beginPath(),t.dontStart=t.dontFinish=!0):a&&a.draw(e,t.extend({clip:!0}));for(var u=this._children,l=0,h=u.length;l<h;l++){var f=u[l];f!==a&&f.draw(e,t)}}}),be=pe.extend({_class:"Layer",initialize:function(){pe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Te=ae.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,i){this._initialize(t,i)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&g.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new Me(e.width,e.height,this,"setSize")},setSize:function(){var e=J.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,i=e.width,a=e.height;t==="rectangle"?this._radius.set(J.min(this._radius,e.divide(2).abs())):t==="circle"?(i=a=(i+a)/2,this._radius=i/2):t==="ellipse"&&this._radius._set(i/2,a/2),this._size._set(i,a),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new Me(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var i=e*2;this._radius=e,this._size._set(i,i)}else if(e=J.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var i=J.max(this._size,e.multiply(2));this._size.set(i)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new _e[g.capitalize(this._type)]({center:new N,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),r.settings.applyMatrix&&t.setApplyMatrix(!0),(e===o||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,i,a){var u=this._style,l=u.hasFill(),h=u.hasStroke(),f=t.dontFinish||t.clip,c=!a;if(l||h||f){var _=this._type,m=this._radius,p=_==="circle";if(t.dontStart||e.beginPath(),c&&p)e.arc(0,0,m,0,Math.PI*2,!0);else{var v=p?m:m.width,S=p?m:m.height,k=this._size,I=k.width,P=k.height;if(c&&_==="rectangle"&&v===0&&S===0)e.rect(-I/2,-P/2,I,P);else{var x=I/2,w=P/2,y=1-.5522847498307936,b=v*y,T=S*y,M=[-x,-w+S,-x,-w+T,-x+b,-w,-x+v,-w,x-v,-w,x-b,-w,x,-w+T,x,-w+S,x,w-S,x,w-T,x-b,w,x-v,w,-x+v,w,-x+b,w,-x,w-T,-x,w-S];a&&a.transform(M,M,32),e.moveTo(M[0],M[1]),e.bezierCurveTo(M[2],M[3],M[4],M[5],M[6],M[7]),x!==v&&e.lineTo(M[8],M[9]),e.bezierCurveTo(M[10],M[11],M[12],M[13],M[14],M[15]),w!==S&&e.lineTo(M[16],M[17]),e.bezierCurveTo(M[18],M[19],M[20],M[21],M[22],M[23]),x!==v&&e.lineTo(M[24],M[25]),e.bezierCurveTo(M[26],M[27],M[28],M[29],M[30],M[31])}}e.closePath()}!f&&(l||h)&&(this._setStyles(e,t,i),l&&(e.fill(u.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var i=new q(this._size).setCenter(0,0),a=this._style,u=t.stroke&&a.hasStroke()&&a.getStrokeWidth();return e&&(i=e._transformBounds(i)),u?i.expand(_e._getStrokePadding(u,this._getStrokeMatrix(e,t))):i}},new function(){function e(i,a,u){var l=i._radius;if(!l.isZero())for(var h=i._size.divide(2),f=1;f<=4;f++){var c=new N(f>1&&f<4?-1:1,f>2?-1:1),_=c.multiply(h),m=_.subtract(c.multiply(l)),p=new q(u?_.add(c.multiply(u)):_,m);if(p.contains(a))return{point:m,quadrant:f}}}function t(i,a,u,l){var h=i.divide(a);return(!l||h.isInQuadrant(l))&&h.subtract(h.normalize()).multiply(a).divide(u).length<=1}return{_contains:function i(a){if(this._type==="rectangle"){var u=e(this,a);return u?a.subtract(u.point).divide(this._radius).getLength()<=1:i.base.call(this,a)}else return a.divide(this.size).getLength()<=.5},_hitTestSelf:function i(a,u,l,h){var f=!1,c=this._style,_=u.stroke&&c.hasStroke(),m=u.fill&&c.hasFill();if(_||m){var p=this._type,v=this._radius,S=_?c.getStrokeWidth()/2:0,k=u._tolerancePadding.add(_e._getStrokePadding(S,!c.getStrokeScaling()&&h));if(p==="rectangle"){var I=k.multiply(2),P=e(this,a,I);if(P)f=t(a.subtract(P.point),v,k,P.quadrant);else{var x=new q(this._size).setCenter(0,0),w=x.expand(I),y=x.expand(I.negate());f=w._containsPoint(a)&&!y._containsPoint(a)}}else f=t(a,v,k)}return f?new We(_?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function e(t,i,a,u,l){var h=g.create(Te.prototype);return h._type=t,h._size=a,h._radius=u,h._initialize(g.getNamed(l),i),h}return{Circle:function(){var t=arguments,i=N.readNamed(t,"center"),a=g.readNamed(t,"radius");return e("circle",i,new J(a*2),a,t)},Rectangle:function(){var t=arguments,i=q.readNamed(t,"rectangle"),a=J.min(J.readNamed(t,"radius"),i.getSize(!0).divide(2));return e("rectangle",i.getCenter(!0),i.getSize(!0),a,t)},Ellipse:function(){var t=arguments,i=Te._readEllipse(t),a=i.radius;return e("ellipse",i.center,a.multiply(2),a,t)},_readEllipse:function(t){var i,a;if(g.hasNamed(t,"radius"))i=N.readNamed(t,"center"),a=J.readNamed(t,"radius");else{var u=q.readNamed(t,"rectangle");i=u.getCenter(!0),a=u.getSize(!0).divide(2)}return{center:i,radius:a}}}}}),Ae=ae.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,i){if(!this._initialize(t,i!==o&&N.read(arguments))){var a,u=typeof t,l=u==="string"?C.getElementById(t):u==="object"?t:null;if(l&&l!==ae.NO_INSERT){if(l.getContext||l.naturalHeight!=null)a=l;else if(l){var h=J.read(arguments);h.isZero()||(a=vt.getCanvas(h))}}a?this.setImage(a):this.setSource(t)}this._size||(this._size=new J,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,i=e._canvas;if(t)this._setImage(t);else if(i){var a=vt.getCanvas(e._size);a.getContext("2d").drawImage(i,0,0),this._setImage(a)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new Me(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var i=J.read(arguments);if(i.equals(this._size))t&&this.clear();else if(i.width>0&&i.height>0){var a=!t&&this.getElement();this._setImage(vt.getCanvas(i)),a&&this.getContext(!0).drawImage(a,0,0,i.width,i.height)}else this._canvas&&vt.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new N(0,0).transform(e),i=new N(1,0).transform(e).subtract(t),a=new N(0,1).transform(e).subtract(t);return new J(72/i.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function i(a){var u=t.getView(),l=a&&a.type||"load";u&&t.responds(l)&&(r=u._scope,t.emit(l,new Vn(a)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&je.add(e,{load:function(a){t._setImage(e),i(a)},error:i})},_setImage:function(e){this._canvas&&vt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new J(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=vt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){vt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,i=this._crossOrigin;i&&(t.crossOrigin=i),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=q.read(arguments),t=vt.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=q.read(arguments),t=new Ae(ae.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(e){var t=N.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,i;if(e?e instanceof Ce?(i=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new q(e):"x"in e&&(t=new q(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var a=32,u=Math.min(t.width,a),l=Math.min(t.height,a),h=Ae._sampleContext;h?h.clearRect(0,0,a+1,a+1):h=Ae._sampleContext=vt.getContext(new J(a)),h.save();var f=new Q().scale(u/t.width,l/t.height).translate(-t.x,-t.y);f.applyToContext(h),i&&i.draw(h,new g({clip:!0,matrices:[f]})),this._matrix.applyToContext(h);var c=this.getElement(),_=this._size;c&&h.drawImage(c,-_.width/2,-_.height/2),h.restore();for(var m=h.getImageData(.5,.5,Math.ceil(u),Math.ceil(l)).data,p=[0,0,0],v=0,S=0,k=m.length;S<k;S+=4){var I=m[S+3];v+=I,I/=255,p[0]+=m[S]*I,p[1]+=m[S+1]*I,p[2]+=m[S+2]*I}for(var S=0;S<3;S++)p[S]/=v;return v?Oe.read(p):null},getPixel:function(){var e=N.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new Oe("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=N.read(e),i=Oe.read(e),a=i._convert("rgb"),u=i._alpha,l=this.getContext(!0),h=l.createImageData(1,1),f=h.data;f[0]=a[0]*255,f[1]=a[1]*255,f[2]=a[2]*255,f[3]=u!=null?u*255:255,l.putImageData(h,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=J.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=q.read(arguments);return e.isEmpty()&&(e=new q(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=N.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var i=new q(this._size).setCenter(0,0);return e?e._transformBounds(i):i},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new We("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,i){var a=this.getElement();if(a&&a.width>0&&a.height>0){e.globalAlpha=K.clamp(this._opacity,0,1),this._setStyles(e,t,i);var u=this._smoothing,l=u==="off";Ve.setPrefixed(e,l?"imageSmoothingEnabled":"imageSmoothingQuality",l?!1:u),e.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ye=ae.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==o&&N.read(arguments,1))||this.setDefinition(t instanceof He?t:new He(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(e),t)},_hitTestSelf:function(e,t,i){var a=t.extend({all:!1}),u=this._definition._item._hitTest(e,a,i);return u&&(u.item=this),u},_draw:function(e,t){this._definition._item.draw(e,t)}}),He=g.extend({_class:"SymbolDefinition",initialize:function(t,i){this._id=se.get(),this.project=r.project,t&&this.setItem(t,i)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&ae._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new N),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new Ye(this,e)},clone:function(){return new He(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),We=g.extend({_class:"HitResult",initialize:function(t,i,a){this.type=t,this.item=i,a&&this.inject(a)},statics:{getOptions:function(e){var t=e&&g.read(e);return new g({type:null,tolerance:r.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),de=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,a,u,l,h){var f=arguments.length,c,_,m,p;f>0&&(t==null||typeof t=="object"?f===1&&t&&"point"in t?(c=t.point,_=t.handleIn,m=t.handleOut,p=t.selection):(c=t,_=i,m=a,p=u):(c=[t,i],_=a!==o?[a,u]:null,m=l!==o?[l,h]:null)),new ot(c,this,"_point"),new ot(_,this,"_handleIn"),new ot(m,this,"_handleOut"),p&&this.setSelection(p)},_serialize:function(e,t){var i=this._point,a=this._selection,u=a||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return a&&u.push(a),g.serialize(u,e,!0,t)},_changed:function(e){var t=this._path;if(!!t){var i=t._curves,a=this._index,u;i&&((!e||e===this._point||e===this._handleIn)&&(u=a>0?i[a-1]:t._closed?i[i.length-1]:null)&&u._changed(),(!e||e===this._point||e===this._handleOut)&&(u=i[a])&&u._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(N.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(N.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(N.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,i=this._path;this._selection=e=e||0,i&&e!==t&&(i._updateSelection(this,t,e),i._changed(257))},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new Je(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,i){var a=e||{},u=a.type,l=a.factor,h=this.getPrevious(),f=this.getNext(),c=(h||this)._point,_=this._point,m=(f||this)._point,p=c.getDistance(_),v=_.getDistance(m);if(!u||u==="catmull-rom"){var S=l===o?.5:l,k=Math.pow(p,S),I=k*k,P=Math.pow(v,S),x=P*P;if(!t&&h){var w=2*x+3*P*k+I,y=3*P*(P+k);this.setHandleIn(y!==0?new N((x*c._x+w*_._x-I*m._x)/y-_._x,(x*c._y+w*_._y-I*m._y)/y-_._y):new N)}if(!i&&f){var w=2*I+3*k*P+x,y=3*k*(k+P);this.setHandleOut(y!==0?new N((I*m._x+w*_._x-x*c._x)/y-_._x,(I*m._y+w*_._y-x*c._y)/y-_._y):new N)}}else if(u==="geometric"){if(h&&f){var b=c.subtract(m),T=l===o?.4:l,M=T*p/(p+v);t||this.setHandleIn(b.multiply(M)),i||this.setHandleOut(b.multiply(M-T))}}else throw new Error("Smoothing method '"+u+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,i=e.clone();e.set(t),t.set(i)},reversed:function(){return new de(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new de(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,i){var a=1-i,u=i,l=e._point,h=t._point,f=e._handleIn,c=t._handleIn,_=t._handleOut,m=e._handleOut;this._point._set(a*l._x+u*h._x,a*l._y+u*h._y,!0),this._handleIn._set(a*f._x+u*c._x,a*f._y+u*c._y,!0),this._handleOut._set(a*m._x+u*_._x,a*m._y+u*_._y,!0),this._changed()},_transformCoordinates:function(e,t,i){var a=this._point,u=!i||!this._handleIn.isZero()?this._handleIn:null,l=!i||!this._handleOut.isZero()?this._handleOut:null,h=a._x,f=a._y,c=2;return t[0]=h,t[1]=f,u&&(t[c++]=u._x+h,t[c++]=u._y+f),l&&(t[c++]=l._x+h,t[c++]=l._y+f),e&&(e._transformCoordinates(t,t,c/2),h=t[0],f=t[1],i?(a._x=h,a._y=f,c=2,u&&(u._x=t[c++]-h,u._y=t[c++]-f),l&&(l._x=t[c++]-h,l._y=t[c++]-f)):(u||(t[c++]=h,t[c++]=f),l||(t[c++]=h,t[c++]=f))),t}}),ot=N.extend({initialize:function(t,i,a){var u,l,h;if(!t)u=l=0;else if((u=t[0])!==o)l=t[1];else{var f=t;(u=f.x)===o&&(f=N.read(arguments),u=f.x),l=f.y,h=f.selected}this._x=u,this._y=l,this._owner=i,i[a]=this,h&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=K.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),ee=g.extend({_class:"Curve",beans:!0,initialize:function(t,i,a,u,l,h,f,c){var _=arguments.length,m,p,v,S,k,I;_===3?(this._path=t,m=i,p=a):_?_===1?"segment1"in t?(m=new de(t.segment1),p=new de(t.segment2)):"point1"in t?(v=t.point1,k=t.handle1,I=t.handle2,S=t.point2):Array.isArray(t)&&(v=[t[0],t[1]],S=[t[6],t[7]],k=[t[2]-t[0],t[3]-t[1]],I=[t[4]-t[6],t[5]-t[7]]):_===2?(m=new de(t),p=new de(i)):_===4?(v=t,k=i,I=a,S=u):_===8&&(v=[t,i],S=[f,c],k=[a-t,u-i],I=[l-f,h-c]):(m=new de,p=new de),this._segment1=m||new de(v,null,k),this._segment2=p||new de(S,I,null)},_serialize:function(e,t){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ee(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return ee.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,i=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(i)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(N.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(N.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(N.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(N.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return ee.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],i=0;i<8;i+=2)t.push(new N(e[i],e[i+1]));return t}},{getLength:function(){return this._length==null&&(this._length=ee.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ee.getArea(this.getValues())},getLine:function(){return new ue(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new ee(ee.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return ee.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var i=1e-8,a=1-i,u=null;if(e>=i&&e<=a){var l=ee.subdivide(this.getValues(),e),h=l[0],f=l[1],c=t||this.hasHandles(),_=this._segment1,m=this._segment2,p=this._path;c&&(_._handleOut._set(h[2]-h[0],h[3]-h[1]),m._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=h[6],S=h[7],k=new de(new N(v,S),c&&new N(h[4]-v,h[5]-S),c&&new N(f[2]-v,f[3]-S));p?(p.insert(_._index+1,k),u=this.getNext()):(this._segment2=k,this._changed(),u=new ee(k,m))}return u},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===o?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===o?.5:t?e:this.getTimeAt(e))},reversed:function(){return new ee(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,i,a){var u=e._point,l=e._handleOut,h=t._handleIn,f=t._point,c=u.x,_=u.y,m=f.x,p=f.y,v=a?[c,_,c,_,m,p,m,p]:[c,_,c+l._x,_+l._y,m+h._x,p+h._y,m,p];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],c=e[6],_=e[7];t===o&&(t=.5);var m=1-t,p=m*i+t*u,v=m*a+t*l,S=m*u+t*h,k=m*l+t*f,I=m*h+t*c,P=m*f+t*_,x=m*p+t*S,w=m*v+t*k,y=m*S+t*I,b=m*k+t*P,T=m*x+t*y,M=m*w+t*b;return[[i,a,p,v,x,w,T,M],[T,M,y,b,I,P,c,_]]},getMonoCurves:function(e,t){var i=[],a=t?0:1,u=e[a+0],l=e[a+2],h=e[a+4],f=e[a+6];if(u>=l==l>=h&&l>=h==h>=f||ee.isStraight(e))i.push(e);else{var c=3*(l-h)-u+f,_=2*(u+h)-4*l,m=l-u,p=1e-8,v=1-p,S=[],k=K.solveQuadratic(c,_,m,S,p,v);if(!k)i.push(e);else{S.sort();var I=S[0],P=ee.subdivide(e,I);i.push(P[0]),k>1&&(I=(S[1]-I)/(1-I),P=ee.subdivide(P[1],I),i.push(P[0])),i.push(P[1])}}return i},solveCubic:function(e,t,i,a,u,l){var h=e[t],f=e[t+2],c=e[t+4],_=e[t+6],m=0;if(!(h<i&&_<i&&f<i&&c<i||h>i&&_>i&&f>i&&c>i)){var p=3*(f-h),v=3*(c-f)-p,S=_-h-p-v;m=K.solveCubic(S,v,p,h-i,a,u,l)}return m},getTimeOf:function(e,t){var i=new N(e[0],e[1]),a=new N(e[6],e[7]),u=1e-12,l=1e-7,h=t.isClose(i,u)?0:t.isClose(a,u)?1:null;if(h===null)for(var f=[t.x,t.y],c=[],_=0;_<2;_++)for(var m=ee.solveCubic(e,_,f[_],c,0,1),p=0;p<m;p++){var v=c[p];if(t.isClose(ee.getPoint(e,v),l))return v}return t.isClose(i,l)?0:t.isClose(a,l)?1:null},getNearestTime:function(e,t){if(ee.isStraight(e)){var i=e[0],a=e[1],u=e[6],l=e[7],h=u-i,f=l-a,c=h*h+f*f;if(c===0)return 0;var _=((t.x-i)*h+(t.y-a)*f)/c;return _<1e-12?0:_>.999999999999?1:ee.getTimeOf(e,new N(i+_*h,a+_*f))}var m=100,p=1/0,v=0;function S(P){if(P>=0&&P<=1){var x=t.getDistance(ee.getPoint(e,P),!0);if(x<p)return p=x,v=P,!0}}for(var k=0;k<=m;k++)S(k/m);for(var I=1/(m*2);I>1e-8;)!S(v-I)&&!S(v+I)&&(I/=2);return v},getPart:function(e,t,i){var a=t>i;if(a){var u=t;t=i,i=u}return t>0&&(e=ee.subdivide(e,t)[1]),i<1&&(e=ee.subdivide(e,(i-t)/(1-t))[0]),a?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],c=e[6],_=e[7],m=3*u-2*i-c,p=3*l-2*a-_,v=3*h-2*c-i,S=3*f-2*_-a;return Math.max(m*m,v*v)+Math.max(p*p,S*S)<=16*t*t},getArea:function(e){var t=e[0],i=e[1],a=e[2],u=e[3],l=e[4],h=e[5],f=e[6],c=e[7];return 3*((c-i)*(a+l)-(f-t)*(u+h)+u*(t-l)-a*(i-h)+c*(l+t/3)-f*(h+i/3))/20},getBounds:function(e){for(var t=e.slice(0,2),i=t.slice(),a=[0,0],u=0;u<2;u++)ee._addBounds(e[u],e[u+2],e[u+4],e[u+6],u,0,t,i,a);return new q(t[0],t[1],i[0]-t[0],i[1]-t[1])},_addBounds:function(e,t,i,a,u,l,h,f,c){function _(T,M){var E=T-M,z=T+M;E<h[u]&&(h[u]=E),z>f[u]&&(f[u]=z)}l/=2;var m=h[u]+l,p=f[u]-l;if(e<m||t<m||i<m||a<m||e>p||t>p||i>p||a>p)if(t<e!=t<a&&i<e!=i<a)_(e,0),_(a,0);else{var v=3*(t-i)-e+a,S=2*(e+i)-4*t,k=t-e,I=K.solveQuadratic(v,S,k,c),P=1e-8,x=1-P;_(a,0);for(var w=0;w<I;w++){var y=c[w],b=1-y;P<=y&&y<=x&&_(b*b*b*e+3*b*b*y*t+3*b*y*y*i+y*y*y*a,l)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=_e[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),g.each({isStraight:function(e,t,i,a){if(t.isZero()&&i.isZero())return!0;var u=a.subtract(e);if(u.isZero())return!1;if(u.isCollinear(t)&&u.isCollinear(i)){var l=new ue(e,a),h=1e-7;if(l.getDistance(e.add(t))<h&&l.getDistance(a.add(i))<h){var f=u.dot(u),c=u.dot(t)/f,_=u.dot(i)/f;return c>=0&&c<=1&&_<=0&&_>=-1}}return!1},isLinear:function(e,t,i,a){var u=a.subtract(e).divide(3);return t.equals(u)&&i.negate().equals(u)}},function(e,t){this[t]=function(i){var a=this._segment1,u=this._segment2;return e(a._point,a._handleOut,u._handleIn,u._point,i)},this.statics[t]=function(i,a){var u=i[0],l=i[1],h=i[6],f=i[7];return e(new N(u,l),new N(i[2]-u,i[3]-l),new N(i[4]-h,i[5]-f),new N(h,f),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new Je(this,e):null},getTimeAt:function(e,t){return ee.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=N.read(arguments);return e.isZero()?[]:ee.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(N.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return ee.getTimeOf(this.getValues(),N.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=N.read(arguments),t=this.getValues(),i=ee.getNearestTime(t,e),a=ee.getPoint(t,i);return new Je(this,i,a,null,e.getDistance(a))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(e,function(t){this[t+"At"]=function(i,a){var u=this.getValues();return ee[t](u,a?i:ee.getTimeAt(u,i))},this[t+"AtTime"]=function(i){return ee[t](this.getValues(),i)}},{statics:{_evaluateMethods:e}})},new function(){function e(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=9*(h-c)+3*(m-u),S=6*(u+c)-12*h,k=3*(h-u),I=9*(f-_)+3*(p-l),P=6*(l+_)-12*f,x=3*(f-l);return function(w){var y=(v*w+S)*w+k,b=(I*w+P)*w+x;return Math.sqrt(y*y+b*b)}}function t(a,u){return Math.max(2,Math.min(16,Math.ceil(Math.abs(u-a)*32)))}function i(a,u,l,h){if(u==null||u<0||u>1)return null;var f=a[0],c=a[1],_=a[2],m=a[3],p=a[4],v=a[5],S=a[6],k=a[7],I=K.isZero;I(_-f)&&I(m-c)&&(_=f,m=c),I(p-S)&&I(v-k)&&(p=S,v=k);var P=3*(_-f),x=3*(p-_)-P,w=S-f-P-x,y=3*(m-c),b=3*(v-m)-y,T=k-c-y-b,M,E;if(l===0)M=u===0?f:u===1?S:((w*u+x)*u+P)*u+f,E=u===0?c:u===1?k:((T*u+b)*u+y)*u+c;else{var z=1e-8,A=1-z;if(u<z?(M=P,E=y):u>A?(M=3*(S-p),E=3*(k-v)):(M=(3*w*u+2*x)*u+P,E=(3*T*u+2*b)*u+y),h){M===0&&E===0&&(u<z||u>A)&&(M=p-_,E=v-m);var R=Math.sqrt(M*M+E*E);R&&(M/=R,E/=R)}if(l===3){var p=6*w*u+2*x,v=6*T*u+2*b,F=Math.pow(M*M+E*E,3/2);M=F!==0?(M*v-E*p)/F:0,E=0}}return l===2?new N(E,-M):new N(M,E)}return{statics:{classify:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=u*(p-_)+l*(c-m)+m*_-p*c,S=h*(l-p)+f*(m-u)+u*p-l*m,k=c*(f-l)+_*(u-h)+h*l-f*u,I=3*k,P=I-S,x=P-S+v,w=Math.sqrt(x*x+P*P+I*I),y=w!==0?1/w:0,b=K.isZero,T="serpentine";x*=y,P*=y,I*=y;function M(R,F,O){var D=F!==o,B=D&&F>0&&F<1,V=D&&O>0&&O<1;return D&&(!(B||V)||R==="loop"&&!(B&&V))&&(R="arch",B=V=!1),{type:R,roots:B||V?B&&V?F<O?[F,O]:[O,F]:[B?F:O]:null}}if(b(x))return b(P)?M(b(I)?"line":"quadratic"):M(T,I/(3*P));var E=3*P*P-4*x*I;if(b(E))return M("cusp",P/(2*x));var z=E>0?Math.sqrt(E/3):Math.sqrt(-E),A=2*x;return M(E>0?T:"loop",(P+z)/A,(P-z)/A)},getLength:function(a,u,l,h){if(u===o&&(u=0),l===o&&(l=1),ee.isStraight(a)){var f=a;l<1&&(f=ee.subdivide(f,l)[0],u/=l),u>0&&(f=ee.subdivide(f,u)[1]);var c=f[6]-f[0],_=f[7]-f[1];return Math.sqrt(c*c+_*_)}return K.integrate(h||e(a),u,l,t(u,l))},getTimeAt:function(a,u,l){if(l===o&&(l=u<0?1:0),u===0)return l;var h=Math.abs,f=1e-12,c=u>0,_=c?l:0,m=c?1:l,p=e(a),v=ee.getLength(a,_,m,p),S=h(u)-v;if(h(S)<f)return c?m:_;if(S>f)return null;var k=u/v,I=0;function P(x){return I+=K.integrate(p,l,x,t(l,x)),l=x,I-u}return K.findRoot(P,p,l+k,_,m,32,1e-12)},getPoint:function(a,u){return i(a,u,0,!1)},getTangent:function(a,u){return i(a,u,1,!0)},getWeightedTangent:function(a,u){return i(a,u,1,!1)},getNormal:function(a,u){return i(a,u,2,!0)},getWeightedNormal:function(a,u){return i(a,u,2,!1)},getCurvature:function(a,u){return i(a,u,3,!1).x},getPeaks:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=-u+3*h-3*c+m,S=3*u-6*h+3*c,k=-3*u+3*h,I=-l+3*f-3*_+p,P=3*l-6*f+3*_,x=-3*l+3*f,w=1e-8,y=1-w,b=[];return K.solveCubic(9*(v*v+I*I),9*(v*S+P*I),2*(S*S+P*P)+3*(k*v+x*I),k*S+P*x,b,w,y),b.sort()}}}},new function(){function e(S,k,I,P,x,w,y){var b=!y&&I.getPrevious()===x,T=!y&&I!==x&&I.getNext()===x,M=1e-8,E=1-M;if(P!==null&&P>=(b?M:0)&&P<=(T?E:1)&&w!==null&&w>=(T?M:0)&&w<=(b?E:1)){var z=new Je(I,P,null,y),A=new Je(x,w,null,y);z._intersection=A,A._intersection=z,(!k||k(z))&&Je.insert(S,z,!0)}}function t(S,k,I,P,x,w,y,b,T,M,E,z,A){if(++T>=4096||++b>=40)return T;var R=1e-9,F=k[0],O=k[1],D=k[6],B=k[7],V=ue.getSignedDistance,U=V(F,O,D,B,k[2],k[3]),W=V(F,O,D,B,k[4],k[5]),$=U*W>0?3/4:4/9,re=$*Math.min(0,U,W),le=$*Math.max(0,U,W),he=V(F,O,D,B,S[0],S[1]),te=V(F,O,D,B,S[2],S[3]),ie=V(F,O,D,B,S[4],S[5]),fe=V(F,O,D,B,S[6],S[7]),ce=i(he,te,ie,fe),me=ce[0],Se=ce[1],xe,Pe;if(U===0&&W===0&&he===0&&te===0&&ie===0&&fe===0||(xe=a(me,Se,re,le))==null||(Pe=a(me.reverse(),Se.reverse(),re,le))==null)return T;var ke=M+(E-M)*xe,ze=M+(E-M)*Pe;if(Math.max(A-z,ze-ke)<R){var Ge=(ke+ze)/2,Xe=(z+A)/2;e(x,w,y?P:I,y?Xe:Ge,y?I:P,y?Ge:Xe)}else{S=ee.getPart(S,xe,Pe);var Qe=A-z;if(Pe-xe>.8)if(ze-ke>Qe){var Le=ee.subdivide(S,.5),Ge=(ke+ze)/2;T=t(k,Le[0],P,I,x,w,!y,b,T,z,A,ke,Ge),T=t(k,Le[1],P,I,x,w,!y,b,T,z,A,Ge,ze)}else{var Le=ee.subdivide(k,.5),Xe=(z+A)/2;T=t(Le[0],S,P,I,x,w,!y,b,T,z,Xe,ke,ze),T=t(Le[1],S,P,I,x,w,!y,b,T,Xe,A,ke,ze)}else Qe===0||Qe>=R?T=t(k,S,P,I,x,w,!y,b,T,z,A,ke,ze):T=t(S,k,I,P,x,w,y,b,T,ke,ze,z,A)}return T}function i(S,k,I,P){var x=[0,S],w=[1/3,k],y=[2/3,I],b=[1,P],T=k-(2*S+P)/3,M=I-(S+2*P)/3,E;if(T*M<0)E=[[x,w,b],[x,y,b]];else{var z=T/M;E=[z>=2?[x,w,b]:z<=.5?[x,y,b]:[x,w,y,b],[x,b]]}return(T||M)<0?E.reverse():E}function a(S,k,I,P){return S[0][1]<I?u(S,!0,I):k[0][1]>P?u(k,!1,P):S[0][0]}function u(S,k,I){for(var P=S[0][0],x=S[0][1],w=1,y=S.length;w<y;w++){var b=S[w][0],T=S[w][1];if(k?T>=I:T<=I)return T===I?b:P+(I-x)*(b-P)/(T-x);P=b,x=T}return null}function l(S,k,I,P,x){var w=K.isZero;if(w(P)&&w(x)){var y=ee.getTimeOf(S,new N(k,I));return y===null?[]:[y]}for(var b=Math.atan2(-x,P),T=Math.sin(b),M=Math.cos(b),E=[],z=[],A=0;A<8;A+=2){var R=S[A]-k,F=S[A+1]-I;E.push(R*M-F*T,R*T+F*M)}return ee.solveCubic(E,1,0,z,0,1),z}function h(S,k,I,P,x,w,y){for(var b=k[0],T=k[1],M=k[6],E=k[7],z=l(S,b,T,M-b,E-T),A=0,R=z.length;A<R;A++){var F=z[A],O=ee.getPoint(S,F),D=ee.getTimeOf(k,O);D!==null&&e(x,w,y?P:I,y?D:F,y?I:P,y?F:D)}}function f(S,k,I,P,x,w){var y=ue.intersect(S[0],S[1],S[6],S[7],k[0],k[1],k[6],k[7]);y&&e(x,w,I,ee.getTimeOf(S,y),P,ee.getTimeOf(k,y))}function c(S,k,I,P,x,w){var y=1e-12,b=Math.min,T=Math.max;if(T(S[0],S[2],S[4],S[6])+y>b(k[0],k[2],k[4],k[6])&&b(S[0],S[2],S[4],S[6])-y<T(k[0],k[2],k[4],k[6])&&T(S[1],S[3],S[5],S[7])+y>b(k[1],k[3],k[5],k[7])&&b(S[1],S[3],S[5],S[7])-y<T(k[1],k[3],k[5],k[7])){var M=p(S,k);if(M)for(var E=0;E<2;E++){var z=M[E];e(x,w,I,z[0],P,z[1],!0)}else{var A=ee.isStraight(S),R=ee.isStraight(k),F=A&&R,O=A&&!R,D=x.length;if((F?f:A||R?h:t)(O?k:S,O?S:k,O?P:I,O?I:P,x,w,O,0,0,0,1,0,1),!F||x.length===D)for(var E=0;E<4;E++){var B=E>>1,V=E&1,U=B*6,W=V*6,$=new N(S[U],S[U+1]),re=new N(k[W],k[W+1]);$.isClose(re,y)&&e(x,w,I,B,P,V)}}}return x}function _(S,k,I,P){var x=ee.classify(S);if(x.type==="loop"){var w=x.roots;e(I,P,k,w[0],k,w[1])}return I}function m(S,k,I,P,x,w){var y=1e-7,b=!k;b&&(k=S);for(var T=S.length,M=k.length,E=new Array(T),z=b?E:new Array(M),A=[],R=0;R<T;R++)E[R]=S[R].getValues(P);if(!b)for(var R=0;R<M;R++)z[R]=k[R].getValues(x);for(var F=Y.findCurveBoundsCollisions(E,z,y),O=0;O<T;O++){var D=S[O],B=E[O];b&&_(B,D,A,I);var V=F[O];if(V)for(var U=0;U<V.length;U++){if(w&&A.length)return A;var W=V[U];if(!b||W>O){var $=k[W],re=z[W];c(B,re,D,$,A,I)}}}return A}function p(S,k){function I(fe){var ce=fe[6]-fe[0],me=fe[7]-fe[1];return ce*ce+me*me}var P=Math.abs,x=ue.getDistance,w=1e-8,y=1e-7,b=ee.isStraight(S),T=ee.isStraight(k),M=b&&T,E=I(S)<I(k),z=E?k:S,A=E?S:k,R=z[0],F=z[1],O=z[6]-R,D=z[7]-F;if(x(R,F,O,D,A[0],A[1],!0)<y&&x(R,F,O,D,A[6],A[7],!0)<y)!M&&x(R,F,O,D,z[2],z[3],!0)<y&&x(R,F,O,D,z[4],z[5],!0)<y&&x(R,F,O,D,A[2],A[3],!0)<y&&x(R,F,O,D,A[4],A[5],!0)<y&&(b=T=M=!0);else if(M)return null;if(b^T)return null;for(var B=[S,k],V=[],U=0;U<4&&V.length<2;U++){var W=U&1,$=W^1,re=U>>1,le=ee.getTimeOf(B[W],new N(B[$][re?6:0],B[$][re?7:1]));if(le!=null){var he=W?[re,le]:[le,re];(!V.length||P(he[0]-V[0][0])>w&&P(he[1]-V[0][1])>w)&&V.push(he)}if(U>2&&!V.length)break}if(V.length!==2)V=null;else if(!M){var te=ee.getPart(S,V[0][0],V[1][0]),ie=ee.getPart(k,V[0][1],V[1][1]);(P(ie[2]-te[2])>y||P(ie[3]-te[3])>y||P(ie[4]-te[4])>y||P(ie[5]-te[5])>y)&&(V=null)}return V}function v(S,k){var I=S[0],P=S[1],x=S[2],w=S[3],y=S[4],b=S[5],T=S[6],M=S[7],E=k.normalize(),z=E.x,A=E.y,R=3*T-9*y+9*x-3*I,F=3*M-9*b+9*w-3*P,O=6*y-12*x+6*I,D=6*b-12*w+6*P,B=3*x-3*I,V=3*w-3*P,U=2*R*A-2*F*z,W=[];if(Math.abs(U)<K.CURVETIME_EPSILON){var $=R*V-F*B,U=R*D-F*O;if(U!=0){var re=-$/U;re>=0&&re<=1&&W.push(re)}}else{var le=(O*O-4*R*B)*A*A+(-2*O*D+4*F*B+4*R*V)*z*A+(D*D-4*F*V)*z*z,he=O*A-D*z;if(le>=0&&U!=0){var te=Math.sqrt(le),ie=-(he+te)/U,fe=(-he+te)/U;ie>=0&&ie<=1&&W.push(ie),fe>=0&&fe<=1&&W.push(fe)}}return W}return{getIntersections:function(S){var k=this.getValues(),I=S&&S!==this&&S.getValues();return I?c(k,I,this,S,[]):_(k,this,[])},statics:{getOverlaps:p,getIntersections:m,getCurveLineIntersections:l,getTimesWithTangent:v}}}),Je=g.extend({_class:"CurveLocation",initialize:function(t,i,a,u,l){if(i>=.99999999){var h=t.getNext();h&&(i=0,t=h)}this._setCurve(t),this._time=i,this._point=a||t.getPointAtTime(i),this._overlap=u,this._distance=l,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),i=this.getTime();i===0?e=t._segment1:i===1?e=t._segment2:i!=null&&(e=t.getPartLength(0,i)<t.getPartLength(i,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(a){var u=a&&a.getCurve();if(u&&(t._time=u.getTimeOf(t._point))!=null)return t._setCurve(u),u}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),i=this.getIndex();if(t&&i!=null)for(var a=t.getCurves(),u=0;u<i;u++)e+=a[u].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),i=this.getTime();this._curveOffset=e=i!=null&&t&&t.getPartLength(0,i)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,i=e&&e.splitAtTime(this.getTime());return i&&this._setSegment(t.getLastSegment()),i},equals:function(e,t){var i=this===e;if(!i&&e instanceof Je){var a=this.getCurve(),u=e.getCurve(),l=a._path,h=u._path;if(l===h){var f=Math.abs,c=1e-7,_=f(this.getOffset()-e.getOffset()),m=!t&&this._intersection,p=!t&&e._intersection;i=(_<c||l&&f(l.getLength()-_)<c)&&(!m&&!p||m&&p&&m.equals(p,!0))}}return i},toString:function(){var e=[],t=this.getPoint(),i=ne.instance;t&&e.push("point: "+t);var a=this.getIndex();a!=null&&e.push("index: "+a);var u=this.getTime();return u!=null&&e.push("time: "+i.number(u)),this._distance!=null&&e.push("distance: "+i.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),i=e.getCurve();return!(t.isStraight()&&i.isStraight()&&t.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),i=e.getTime(),a=1e-8,u=1-a,l=t>=a&&t<=u,h=i>=a&&i<=u;if(l&&h)return!this.isTouching();var f=this.getCurve(),c=f&&t<a?f.getPrevious():f,_=e.getCurve(),m=_&&i<a?_.getPrevious():_;if(t>u&&(f=f.getNext()),i>u&&(_=_.getNext()),!c||!f||!m||!_)return!1;var p=[];function v(z,A){var R=z.getValues(),F=ee.classify(R).roots||ee.getPeaks(R),O=F.length,D=ee.getLength(R,A&&O?F[O-1]:0,!A&&O?F[0]:1);p.push(O?D:D/32)}function S(z,A,R){return A<R?z>A&&z<R:z>A||z<R}l||(v(c,!0),v(f,!1)),h||(v(m,!0),v(_,!1));var k=this.getPoint(),I=Math.min.apply(Math,p),P=l?f.getTangentAtTime(t):f.getPointAt(I).subtract(k),x=l?P.negate():c.getPointAt(-I).subtract(k),w=h?_.getTangentAtTime(i):_.getPointAt(I).subtract(k),y=h?w.negate():m.getPointAt(-I).subtract(k),b=x.getAngle(),T=P.getAngle(),M=y.getAngle(),E=w.getAngle();return!!(l?S(b,M,E)^S(T,M,E)&&S(b,E,M)^S(T,E,M):S(M,b,T)^S(E,b,T)&&S(M,T,b)^S(E,T,b))},hasOverlap:function(){return!!this._overlap}},g.each(ee._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var i=this.getCurve(),a=this.getTime();return a!=null&&i&&i[t](a,!0)}},{preserve:!0}),new function(){function e(t,i,a){var u=t.length,l=0,h=u-1;function f(k,I){for(var P=k+I;P>=-1&&P<=u;P+=I){var x=t[(P%u+u)%u];if(!i.getPoint().isClose(x.getPoint(),1e-7))break;if(i.equals(x))return x}return null}for(;l<=h;){var c=l+h>>>1,_=t[c],m;if(a&&(m=i.equals(_)?_:f(c,-1)||f(c,1)))return i._overlap&&(m._overlap=m._intersection._overlap=!0),m;var p=i.getPath(),v=_.getPath(),S=p!==v?p._id-v._id:i.getIndex()+i.getTime()-(_.getIndex()+_.getTime());S<0?h=c-1:l=c+1}return t.splice(l,0,i),i}return{statics:{insert:e,expand:function(t){for(var i=t.slice(),a=t.length-1;a>=0;a--)e(i,t[a]._intersection,!1);return i}}}}),Ce=ae.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,i,a;if(g.isPlainObject(e)?(i=e.segments,t=e.pathData):Array.isArray(e)?i=e:typeof e=="string"&&(t=e),i){var u=i[0];a=u&&Array.isArray(u[0])}else t&&(a=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var l=a?Ie:_e;return new l(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,a=!1,u,l,h=new N,f=new N;function c(y,b){var T=+i[y];return a&&(T+=h[b]),T}function _(y){return new N(c(y,"x"),c(y+1,"y"))}this.clear();for(var m=0,p=t&&t.length;m<p;m++){var v=t[m],S=v[0],k=S.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var I=i&&i.length;switch(a=S===k,u==="z"&&!/[mz]/.test(k)&&this.moveTo(h),k){case"m":case"l":for(var P=k==="m",x=0;x<I;x+=2)this[P?"moveTo":"lineTo"](h=_(x)),P&&(f=h,P=!1);l=h;break;case"h":case"v":var w=k==="h"?"x":"y";h=h.clone();for(var x=0;x<I;x++)h[w]=c(x,w),this.lineTo(h);l=h;break;case"c":for(var x=0;x<I;x+=6)this.cubicCurveTo(_(x),l=_(x+2),h=_(x+4));break;case"s":for(var x=0;x<I;x+=4)this.cubicCurveTo(/[cs]/.test(u)?h.multiply(2).subtract(l):h,l=_(x),h=_(x+2)),u=k;break;case"q":for(var x=0;x<I;x+=4)this.quadraticCurveTo(l=_(x),h=_(x+2));break;case"t":for(var x=0;x<I;x+=2)this.quadraticCurveTo(l=/[qt]/.test(u)?h.multiply(2).subtract(l):h,h=_(x)),u=k;break;case"a":for(var x=0;x<I;x+=7)this.arcTo(h=_(x+5),new J(+i[x],+i[x+1]),+i[x+2],+i[x+4],+i[x+3]);break;case"z":this.closePath(1e-12),h=f;break}u=k}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,i,a){var u=this===e||!e,l=this._matrix._orNullIfIdentity(),h=u?l:(i||e._matrix)._orNullIfIdentity();return u||this.getBounds(l).intersects(e.getBounds(h),1e-12)?ee.getIntersections(this.getCurves(),!u&&e.getCurves(),t,l,h,a):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=N.read(arguments),t=this.getCurves(),i=1/0,a=null,u=0,l=t.length;u<l;u++){var h=t[u].getNearestLocation(e);h._distance<i&&(i=h._distance,a=h)}return a},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,i){var a=!this._children,u=a?"_segments":"_children",l=e[u],h=t[u],f=this[u];if(!l||!h||l.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var c=f.length,_=h.length;if(c<_)for(var m=a?de:_e,p=c;p<_;p++)this.add(new m);else c>_&&this[a?"removeSegments":"removeChildren"](_,c);for(var p=0;p<_;p++)f[p].interpolate(l[p],h[p],i);a&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var i=this._children||[this],a=e._children?e._children.slice():[e],u=i.length,l=a.length,h=[],f=0;t=!0;for(var c=Y.findItemBoundsCollisions(i,a,K.GEOMETRIC_EPSILON),_=u-1;_>=0&&t;_--){var m=i[_];t=!1;var p=c[_];if(p)for(var v=p.length-1;v>=0&&!t;v--)m.compare(a[p[v]])&&(h[p[v]]||(h[p[v]]=!0,f++),t=!0)}t=t&&f===l}return t}}),_e=Ce.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=arguments,a=Array.isArray(t)?typeof t[0]=="object"?t:i:t&&t.size===o&&(t.x!==o||t.point!==o)?i:null;a&&a.length>0?this.setSegments(a):(this._curves=o,this._segmentSelection=0,!a&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!a&&t)},_equals:function(e){return this._closed===e._closed&&g.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=o,t&32)this._version++;else if(this._curves)for(var i=0,a=this._curves.length;i<a;i++)this._curves[i]._changed()}else t&64&&(this._bounds=o)},getStyle:function(){var e=this._parent;return(e instanceof Ie?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),i=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,i){var a=e[i-1];typeof a=="boolean"&&(this.setClosed(a),i--),this._add(de.readList(e,0,{},i))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var i=this._countCurves();e=this._curves=new Array(i);for(var a=0;a<i;a++)e[a]=new ee(this,t[a],t[a+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new ee(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var i=this._segments,a=i.length,u=new ne(t),l=new Array(6),h=!0,f,c,_,m,p,v,S,k,I=[];function P(w,y){if(w._transformCoordinates(e,l),f=l[0],c=l[1],h)I.push("M"+u.pair(f,c)),h=!1;else if(p=l[2],v=l[3],p===f&&v===c&&S===_&&k===m){if(!y){var b=f-_,T=c-m;I.push(b===0?"v"+u.number(T):T===0?"h"+u.number(b):"l"+u.pair(b,T))}}else I.push("c"+u.pair(S-_,k-m)+" "+u.pair(p-_,v-m)+" "+u.pair(f-_,c-m));_=f,m=c,S=l[4],k=l[5]}if(!a)return"";for(var x=0;x<a;x++)P(i[x]);return this._closed&&a>0&&(P(i[0],!0),I.push("z")),I.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,i=new Array(6),a=0,u=t.length;a<u;a++)t[a]._transformCoordinates(e,i,!0);return!0},_add:function(e,h){for(var i=this._segments,a=this._curves,u=e.length,l=h==null,h=l?i.length:h,f=0;f<u;f++){var c=e[f];c._path&&(c=e[f]=c.clone()),c._path=this,c._index=h+f,c._selection&&this._updateSelection(c,0,c._selection)}if(l)g.push(i,e);else{i.splice.apply(i,[h,0].concat(e));for(var f=h+u,_=i.length;f<_;f++)i[f]._index=f}if(a){var m=this._countCurves(),p=h>0&&h+u-1===m?h-1:h,v=p,S=Math.min(p+u,m);e._curves&&(a.splice.apply(a,[p,0].concat(e._curves)),v+=e._curves.length);for(var f=v;f<S;f++)a.splice(f,0,new ee(this,null,null));this._adjustCurves(p,S)}return this._changed(41),e},_adjustCurves:function(e,t){for(var i=this._segments,a=this._curves,u,l=e;l<t;l++)u=a[l],u._path=this,u._segment1=i[l],u._segment2=i[l+1]||i[0],u._changed();(u=a[this._closed&&!e?i.length-1:e-1])&&(u._segment2=i[e]||i[0],u._changed()),(u=a[t])&&(u._segment1=i[t],u._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(de.readList(t)):this._add([de.read(t)])[0]},insert:function(e,t){var i=arguments;return i.length>2&&typeof t!="number"?this._add(de.readList(i,1),e):this._add([de.read(i,1)],e)[0]},addSegment:function(){return this._add([de.read(arguments)])[0]},insertSegment:function(e){return this._add([de.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(de.readList(e))},insertSegments:function(e,t){return this._add(de.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,i){e=e||0,t=g.pick(t,this._segments.length);var a=this._segments,u=this._curves,l=a.length,h=a.splice(e,t-e),f=h.length;if(!f)return h;for(var c=0;c<f;c++){var _=h[c];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var c=e,m=a.length;c<m;c++)a[c]._index=c;if(u){for(var p=e>0&&t===l+(this._closed?1:0)?e-1:e,u=u.splice(p,f),c=u.length-1;c>=0;c--)u[c]._path=null;i&&(h._curves=u.slice(1)),this._adjustCurves(p,p)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,i=this._closed;e=0;for(var a=0,u=t.length;a<u;a++){var l=a+1===u;e+=ee.getArea(ee.getValues(t[a],t[l?0:a+1],null,l&&!i))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,i=t.length,a=e?7:0;this._segmentSelection=a*i;for(var u=0;u<i;u++)t[u]._selection=a},_updateSelection:function(e,t,i){e._selection=i;var a=this._segmentSelection+=i-t;a>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),i;return t&&(i=t.getCurve().divideAt(t.getCurveOffset()))?i._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),i=t&&t.index,a=t&&t.time,u=1e-8,l=1-u;a>l&&(i++,a=0);var h=this.getCurves();if(i>=0&&i<h.length){a>=u&&h[i++].divideAtTime(a);var f=this.removeSegments(i,this._segments.length,!0),c;return this._closed?(this.setClosed(!1),c=this):(c=new _e(ae.NO_INSERT),c.insertAbove(this),c.copyAttributes(this)),c._add(f,0),this.addSegment(f[0]),c}return null},split:function(e,t){var i,a=t===o?e:(i=this.getCurves()[e])&&i.getLocationAtTime(t);return a!=null?this.splitAt(a):null},join:function(e,t){var i=t||0;if(e&&e!==this){var a=e._segments,u=this.getLastSegment(),l=e.getLastSegment();if(!l)return this;u&&u._point.isClose(l._point,i)&&e.reverse();var h=e.getFirstSegment();if(u&&u._point.isClose(h._point,i))u.setHandleOut(h._handleOut),this._add(a.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(h._point,i)&&e.reverse(),l=e.getLastSegment(),f&&f._point.isClose(l._point,i)?(f.setHandleIn(l._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}e._closed&&this._add([a[0]]),e.remove()}var c=this.getFirstSegment(),_=this.getLastSegment();return c!==_&&c._point.isClose(_._point,i)&&(c.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),i=e&&e.simplify,a=i?1e-7:0,u=t.length-1;u>=0;u--){var l=t[u];!l.hasHandles()&&(!l.hasLength(a)||i&&l.isCollinear(l.getNext()))&&l.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var i=this._segments[e],a=i._handleIn;i._handleIn=i._handleOut,i._handleOut=a,i._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new Ze(this,e||.25,256,!0),i=t.parts,a=i.length,u=[],l=0;l<a;l++)u.push(new de(i[l].curve.slice(0,2)));!this._closed&&a>0&&u.push(new de(i[a-1].curve.slice(6))),this.setSegments(u)},simplify:function(e){var t=new nt(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,i=e||{},a=i.type||"asymmetric",u=this._segments,l=u.length,h=this._closed;function f(me,Se){var xe=me&&me.index;if(xe!=null){var Pe=me.path;if(Pe&&Pe!==t)throw new Error(me._class+" "+xe+" of "+Pe+" is not part of "+t);Se&&me instanceof ee&&xe++}else xe=typeof me=="number"?me:Se;return Math.min(xe<0&&h?xe%l:xe<0?xe+l:xe,l-1)}var c=h&&i.from===o&&i.to===o,_=f(i.from,0),m=f(i.to,l-1);if(_>m)if(h)_-=l;else{var p=_;_=m,m=p}if(/^(?:asymmetric|continuous)$/.test(a)){var v=a==="asymmetric",S=Math.min,k=m-_+1,I=k-1,P=c?S(k,4):1,x=P,w=P,y=[];if(h||(x=S(1,_),w=S(1,l-m-1)),I+=x+w,I<=1)return;for(var b=0,T=_-x;b<=I;b++,T++)y[b]=u[(T<0?T+l:T)%l]._point;for(var M=y[0]._x+2*y[1]._x,E=y[0]._y+2*y[1]._y,z=2,A=I-1,R=[M],F=[E],O=[z],D=[],B=[],b=1;b<I;b++){var V=b<A,U=V||v?1:2,W=V?4:v?2:7,$=V?4:v?3:8,re=V?2:v?0:1,le=U/z;z=O[b]=W-le,M=R[b]=$*y[b]._x+re*y[b+1]._x-le*M,E=F[b]=$*y[b]._y+re*y[b+1]._y-le*E}D[A]=R[A]/O[A],B[A]=F[A]/O[A];for(var b=I-2;b>=0;b--)D[b]=(R[b]-D[b+1])/O[b],B[b]=(F[b]-B[b+1])/O[b];D[I]=(3*y[I]._x-D[A])/2,B[I]=(3*y[I]._y-B[A])/2;for(var b=x,he=I-w,T=_;b<=he;b++,T++){var te=u[T<0?T+l:T],ie=te._point,fe=D[b]-ie._x,ce=B[b]-ie._y;(c||b<he)&&te.setHandleOut(fe,ce),(c||b>x)&&te.setHandleIn(-fe,-ce)}}else for(var b=_;b<=m;b++)u[b<0?b+l:b].smooth(i,!c&&b===_,!c&&b===m)},toShape:function(e){if(!this._closed)return null;var t=this._segments,i,a,u,l;function h(v,S){var k=t[v],I=k.getNext(),P=t[S],x=P.getNext();return k._handleOut.isZero()&&I._handleIn.isZero()&&P._handleOut.isZero()&&x._handleIn.isZero()&&I._point.subtract(k._point).isCollinear(x._point.subtract(P._point))}function f(v){var S=t[v],k=S.getPrevious(),I=S.getNext();return k._handleOut.isZero()&&S._handleIn.isZero()&&S._handleOut.isZero()&&I._handleIn.isZero()&&S._point.subtract(k._point).isOrthogonal(I._point.subtract(S._point))}function c(v){var S=t[v],k=S.getNext(),I=S._handleOut,P=k._handleIn,x=.5522847498307936;if(I.isOrthogonal(P)){var w=S._point,y=k._point,b=new ue(w,I,!0).intersect(new ue(y,P,!0),!0);return b&&K.isZero(I.getLength()/b.subtract(w).getLength()-x)&&K.isZero(P.getLength()/b.subtract(y).getLength()-x)}return!1}function _(v,S){return t[v]._point.getDistance(t[S]._point)}if(!this.hasHandles()&&t.length===4&&h(0,2)&&h(1,3)&&f(1)?(i=Te.Rectangle,a=new J(_(0,3),_(0,1)),l=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&c(0)&&c(2)&&c(4)&&c(6)&&h(1,5)&&h(3,7)?(i=Te.Rectangle,a=new J(_(1,6),_(0,3)),u=a.subtract(new J(_(0,7),_(1,2))).divide(2),l=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&c(0)&&c(1)&&c(2)&&c(3)&&(K.isZero(_(0,2)-_(1,3))?(i=Te.Circle,u=_(0,2)/2):(i=Te.Ellipse,u=new J(_(2,0)/2,_(3,1)/2)),l=t[1]._point),i){var m=this.getPosition(!0),p=new i({center:m,size:a,radius:u,insert:!1});return p.copyAttributes(this,!0),p._matrix.prepend(this._matrix),p.rotate(l.subtract(m).getAngle()+90),(e===o||e)&&p.insertAbove(this),p}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Ie)return e.base.call(this,t);var i=this.getCurves(),a=t.getCurves(),u=i.length,l=a.length;if(!u||!l)return u==l;for(var h=i[0].getValues(),f=[],c=0,_,m=0,p,v=0;v<l;v++){var P=a[v].getValues();f.push(P);var S=ee.getOverlaps(h,P);if(S){_=!v&&S[0][0]>0?l-1:v,p=S[0][1];break}}for(var k=Math.abs,I=1e-8,P=f[_],x;h&&P;){var S=ee.getOverlaps(h,P);if(S){var w=S[0][0];if(k(w-m)<I){m=S[1][0],m===1&&(h=++c<u?i[c].getValues():null,m=0);var y=S[0][1];if(k(y-p)<I){if(x||(x=[_,y]),p=S[1][1],p===1&&(++_>=l&&(_=0),P=f[_]||a[_].getValues(),p=0),!h)return x[0]===_&&x[1]===p;continue}}}break}return!1},_hitTestSelf:function(e,t,i,a){var u=this,l=this.getStyle(),h=this._segments,f=h.length,c=this._closed,_=t._tolerancePadding,m=_,p,v,S,k,I,P,x=t.stroke&&l.hasStroke(),w=t.fill&&l.hasFill(),y=t.curves,b=x?l.getStrokeWidth()/2:w&&t.tolerance>0||y?0:null;b!==null&&(b>0?(p=l.getStrokeJoin(),v=l.getStrokeCap(),S=l.getMiterLimit(),m=m.add(_e._getStrokePadding(b,a))):p=v="round");function T(D,B){return e.subtract(D).divide(B).length<=1}function M(D,B,V){if(!t.selected||B.isSelected()){var U=D._point;if(B!==U&&(B=B.add(U)),T(B,m))return new We(V,u,{segment:D,point:B})}}function E(D,B){return(B||t.segments)&&M(D,D._point,"segment")||!B&&t.handles&&(M(D,D._handleIn,"handle-in")||M(D,D._handleOut,"handle-out"))}function z(D){k.add(D)}function A(D){var B=c||D._index>0&&D._index<f-1;if((B?p:v)==="round")return T(D._point,m);if(k=new _e({internal:!0,closed:!0}),B?D.isSmooth()||_e._addBevelJoin(D,p,b,S,null,a,z,!0):v==="square"&&_e._addSquareCap(D,v,b,null,a,z,!0),!k.isEmpty()){var V;return k.contains(e)||(V=k.getNearestLocation(e))&&T(V.getPoint(),_)}}if(t.ends&&!t.segments&&!c){if(P=E(h[0],!0)||E(h[f-1],!0))return P}else if(t.segments||t.handles){for(var R=0;R<f;R++)if(P=E(h[R]))return P}if(b!==null){if(I=this.getNearestLocation(e),I){var F=I.getTime();F===0||F===1&&f>1?A(I.getSegment())||(I=null):T(I.getPoint(),m)||(I=null)}if(!I&&p==="miter"&&f>1)for(var R=0;R<f;R++){var O=h[R];if(e.getDistance(O._point)<=S*b&&A(O)){I=O.getLocation();break}}}return!I&&w&&this._contains(e)||I&&!x&&!y?new We("fill",this):I?new We(x?"stroke":"curve",this,{location:I,point:I.getPoint()}):null}},g.each(ee._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this.getLocationAt(t);return i&&i[e]()}},{beans:!1,getLocationOf:function(){for(var e=N.read(arguments),t=this.getCurves(),i=0,a=t.length;i<a;i++){var u=t[i].getLocationOf(e);if(u)return u}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),i=0,a=0,u=t.length;a<u;a++){var l=i,h=t[a];if(i+=h.getLength(),i>e)return h.getLocationAt(e-l)}if(t.length>0&&e<=this.getLength())return new Je(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=N.read(arguments);if(e.isZero())return[];for(var t=[],i=0,a=this.getCurves(),u=0,l=a.length;u<l;u++){for(var h=a[u],f=h.getTimesWithTangent(e),c=0,_=f.length;c<_;c++){var m=i+h.getOffsetAtTime(f[c]);t.indexOf(m)<0&&t.push(m)}i+=h.length}return t}}),new function(){function e(i,a,u,l){if(l<=0)return;var h=l/2,f=l-2,c=h-1,_=new Array(6),m,p;function v(w){var y=_[w],b=_[w+1];(m!=y||p!=b)&&(i.beginPath(),i.moveTo(m,p),i.lineTo(y,b),i.stroke(),i.beginPath(),i.arc(y,b,h,0,Math.PI*2,!0),i.fill())}for(var S=0,k=a.length;S<k;S++){var I=a[S],P=I._selection;if(I._transformCoordinates(u,_),m=_[0],p=_[1],P&2&&v(2),P&4&&v(4),i.fillRect(m-h,p-h,l,l),f>0&&!(P&1)){var x=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(m-c,p-c,f,f),i.fillStyle=x}}}function t(i,a,u){var l=a._segments,h=l.length,f=new Array(6),c=!0,_,m,p,v,S,k,I,P;function x(y){if(u)y._transformCoordinates(u,f),_=f[0],m=f[1];else{var b=y._point;_=b._x,m=b._y}if(c)i.moveTo(_,m),c=!1;else{if(u)S=f[2],k=f[3];else{var T=y._handleIn;S=_+T._x,k=m+T._y}S===_&&k===m&&I===p&&P===v?i.lineTo(_,m):i.bezierCurveTo(I,P,S,k,_,m)}if(p=_,v=m,u)I=f[4],P=f[5];else{var T=y._handleOut;I=p+T._x,P=v+T._y}}for(var w=0;w<h;w++)x(l[w]);a._closed&&h>0&&x(l[0])}return{_draw:function(i,a,u,l){var h=a.dontStart,f=a.dontFinish||a.clip,c=this.getStyle(),_=c.hasFill(),m=c.hasStroke(),p=c.getDashArray(),v=!r.support.nativeDash&&m&&p&&p.length;h||i.beginPath(),(_||m&&!v||f)&&(t(i,this,l),this._closed&&i.closePath());function S(y){return p[(y%v+v)%v]}if(!f&&(_||m)&&(this._setStyles(i,a,u),_&&(i.fill(c.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),m)){if(v){h||i.beginPath();for(var k=new Ze(this,.25,32,!1,l),I=k.length,P=-c.getDashOffset(),x,w=0;P>0;)P-=S(w--)+S(w--);for(;P<I;)x=P+S(w++),(P>0||x>0)&&k.drawPart(i,Math.max(P,0),Math.max(x,0)),P=x+S(w++)}i.stroke()}},_drawSelected:function(i,a){i.beginPath(),t(i,this,a),i.stroke(),e(i,this._segments,a,r.settings.handleSize)}}},new function(){function e(t){var i=t._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new de(N.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new de(N.read(arguments))])},cubicCurveTo:function(){var t=arguments,i=N.read(t),a=N.read(t),u=N.read(t),l=e(this);l.setHandleOut(i.subtract(l._point)),this._add([new de(u,a.subtract(u))])},quadraticCurveTo:function(){var t=arguments,i=N.read(t),a=N.read(t),u=e(this)._point;this.cubicCurveTo(i.add(u.subtract(i).multiply(1/3)),i.add(a.subtract(i).multiply(1/3)),a)},curveTo:function(){var t=arguments,i=N.read(t),a=N.read(t),u=g.pick(g.read(t),.5),l=1-u,h=e(this)._point,f=i.subtract(h.multiply(l*l)).subtract(a.multiply(u*u)).divide(2*u*l);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+u);this.quadraticCurveTo(f,a)},arcTo:function(){var t=arguments,i=Math.abs,a=Math.sqrt,u=e(this),l=u._point,h=N.read(t),f,c=g.peek(t),_=g.pick(c,!0),m,p,v,S;if(typeof _=="boolean")var k=l.add(h).divide(2),f=k.add(k.subtract(l).rotate(_?-90:90));else if(g.remain(t)<=2)f=h,h=N.read(t);else if(!l.equals(h)){var I=J.read(t),P=K.isZero;if(P(I.width)||P(I.height))return this.lineTo(h);var x=g.read(t),_=!!g.read(t),w=!!g.read(t),k=l.add(h).divide(2),y=l.subtract(k).rotate(-x),b=y.x,T=y.y,M=i(I.width),E=i(I.height),z=M*M,A=E*E,R=b*b,F=T*T,O=a(R/z+F/A);if(O>1&&(M*=O,E*=O,z=M*M,A=E*E),O=(z*A-z*F-A*R)/(z*F+A*R),i(O)<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");m=new N(M*T/E,-E*b/M).multiply((w===_?-1:1)*a(O)).rotate(x).add(k),S=new Q().translate(m).rotate(x).scale(M,E),v=S._inverseTransform(l),p=v.getDirectedAngle(S._inverseTransform(h)),!_&&p>0?p-=360:_&&p<0&&(p+=360)}if(f){var D=new ue(l.add(f).divide(2),f.subtract(l).rotate(90),!0),B=new ue(f.add(h).divide(2),h.subtract(f).rotate(90),!0),V=new ue(l,h),U=V.getSide(f);if(m=D.intersect(B,!0),!m){if(!U)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}v=l.subtract(m),p=v.getDirectedAngle(h.subtract(m));var W=V.getSide(m,!0);W===0?p=U*i(p):U===W&&(p+=p<0?360:-360)}if(p){for(var $=1e-7,re=i(p),le=re>=360?4:Math.ceil((re-$)/90),he=p/le,te=he*Math.PI/360,ie=4/3*Math.sin(te)/(1+Math.cos(te)),fe=[],ce=0;ce<=le;ce++){var y=h,me=null;if(ce<le&&(me=v.rotate(90).multiply(ie),S?(y=S._transformPoint(v),me=S._transformPoint(v.add(me)).subtract(y)):y=m.add(v)),!ce)u.setHandleOut(me);else{var Se=v.rotate(-90).multiply(ie);S&&(Se=S._transformPoint(v.add(Se)).subtract(y)),fe.push(new de(y,Se,me))}v=v.rotate(he)}this._add(fe)}},lineBy:function(){var t=N.read(arguments),i=e(this)._point;this.lineTo(i.add(t))},curveBy:function(){var t=arguments,i=N.read(t),a=N.read(t),u=g.read(t),l=e(this)._point;this.curveTo(l.add(i),l.add(a),u)},cubicCurveBy:function(){var t=arguments,i=N.read(t),a=N.read(t),u=N.read(t),l=e(this)._point;this.cubicCurveTo(l.add(i),l.add(a),l.add(u))},quadraticCurveBy:function(){var t=arguments,i=N.read(t),a=N.read(t),u=e(this)._point;this.quadraticCurveTo(u.add(i),u.add(a))},arcBy:function(){var t=arguments,i=e(this)._point,a=i.add(N.read(t)),u=g.pick(g.peek(t),!0);typeof u=="boolean"?this.arcTo(a,u):this.arcTo(a,i.add(N.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var i=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return _e[i](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,i,a,u,l){var h=e[0];if(!h)return new q;var f=new Array(6),c=h._transformCoordinates(a,new Array(6)),_=c.slice(0,2),m=_.slice(),p=new Array(2);function v(I){I._transformCoordinates(a,f);for(var P=0;P<2;P++)ee._addBounds(c[P],c[P+4],f[P+2],f[P],P,l?l[P]:0,_,m,p);var x=c;c=f,f=x}for(var S=1,k=e.length;S<k;S++)v(e[S]);return t&&v(h),new q(_[0],_[1],m[0]-_[0],m[1]-_[1])},getStrokeBounds:function(e,t,i,a,u){var l=i.getStyle(),h=l.hasStroke(),f=l.getStrokeWidth(),c=h&&i._getStrokeMatrix(a,u),_=h&&_e._getStrokePadding(f,c),m=_e.getBounds(e,t,i,a,u,_);if(!h)return m;var p=f/2,v=l.getStrokeJoin(),S=l.getStrokeCap(),k=l.getMiterLimit(),I=new q(new J(_));function P(M){m=m.include(M)}function x(M){m=m.unite(I.setCenter(M._point.transform(a)))}function w(M,E){E==="round"||M.isSmooth()?x(M):_e._addBevelJoin(M,E,p,k,a,c,P)}function y(M,E){E==="round"?x(M):_e._addSquareCap(M,E,p,a,c,P)}var b=e.length-(t?0:1);if(b>0){for(var T=1;T<b;T++)w(e[T],v);t?w(e[0],v):(y(e[0],S),y(e[e.length-1],S))}return m},_getStrokePadding:function(e,t){if(!t)return[e,e];var i=new N(e,0).transform(t),a=new N(0,e).transform(t),u=i.getAngleInRadians(),l=i.getLength(),h=a.getLength(),f=Math.sin(u),c=Math.cos(u),_=Math.tan(u),m=Math.atan2(h*_,l),p=Math.atan2(h,_*l);return[Math.abs(l*Math.cos(m)*c+h*Math.sin(m)*f),Math.abs(h*Math.sin(p)*c+l*Math.cos(p)*f)]},_addBevelJoin:function(e,t,i,a,u,l,h,f){var c=e.getCurve(),_=c.getPrevious(),m=c.getPoint1().transform(u),p=_.getNormalAtTime(1).multiply(i).transform(l),v=c.getNormalAtTime(0).multiply(i).transform(l),S=p.getDirectedAngle(v);if((S<0||S>=180)&&(p=p.negate(),v=v.negate()),f&&h(m),h(m.add(p)),t==="miter"){var k=new ue(m.add(p),new N(-p.y,p.x),!0).intersect(new ue(m.add(v),new N(-v.y,v.x),!0),!0);k&&m.getDistance(k)<=a*i&&h(k)}h(m.add(v))},_addSquareCap:function(e,t,i,a,u,l,h){var f=e._point.transform(a),c=e.getLocation(),_=c.getNormal().multiply(c.getTime()===0?i:-i).transform(u);t==="square"&&(h&&(l(f.subtract(_)),l(f.add(_))),f=f.add(_.rotate(-90))),l(f.add(_)),l(f.subtract(_))},getHandleBounds:function(e,t,i,a,u){var l=i.getStyle(),h=u.stroke&&l.hasStroke(),f,c;if(h){var _=i._getStrokeMatrix(a,u),m=l.getStrokeWidth()/2,p=m;l.getStrokeJoin()==="miter"&&(p=m*l.getMiterLimit()),l.getStrokeCap()==="square"&&(p=Math.max(p,m*Math.SQRT2)),f=_e._getStrokePadding(m,_),c=_e._getStrokePadding(p,_)}for(var v=new Array(6),S=1/0,k=-S,I=S,P=k,x=0,w=e.length;x<w;x++){var y=e[x];y._transformCoordinates(a,v);for(var b=0;b<6;b+=2){var T=b?f:c,M=T?T[0]:0,E=T?T[1]:0,z=v[b],A=v[b+1],R=z-M,F=z+M,O=A-E,D=A+E;R<S&&(S=R),F>k&&(k=F),O<I&&(I=O),D>P&&(P=D)}}return new q(S,I,k-S,P-I)}}});_e.inject({statics:new function(){var e=.5522847498307936,t=[new de([-1,0],[0,e],[0,-e]),new de([0,-1],[-e,0],[e,0]),new de([1,0],[0,-e],[0,e]),new de([0,1],[e,0],[-e,0])];function i(u,l,h){var f=g.getNamed(h),c=new _e(f&&f.insert==!1&&ae.NO_INSERT);return c._add(u),c._closed=l,c.set(f,{insert:!0})}function a(u,l,h){for(var f=new Array(4),c=0;c<4;c++){var _=t[c];f[c]=new de(_._point.multiply(l).add(u),_._handleIn.multiply(l),_._handleOut.multiply(l))}return i(f,!0,h)}return{Line:function(){var u=arguments;return i([new de(N.readNamed(u,"from")),new de(N.readNamed(u,"to"))],!1,u)},Circle:function(){var u=arguments,l=N.readNamed(u,"center"),h=g.readNamed(u,"radius");return a(l,new J(h),u)},Rectangle:function(){var u=arguments,l=q.readNamed(u,"rectangle"),h=J.readNamed(u,"radius",0,{readNull:!0}),f=l.getBottomLeft(!0),c=l.getTopLeft(!0),_=l.getTopRight(!0),m=l.getBottomRight(!0),p;if(!h||h.isZero())p=[new de(f),new de(c),new de(_),new de(m)];else{h=J.min(h,l.getSize(!0).divide(2));var v=h.width,S=h.height,k=v*e,I=S*e;p=[new de(f.add(v,0),null,[-k,0]),new de(f.subtract(0,S),[0,I]),new de(c.add(0,S),null,[0,-I]),new de(c.add(v,0),[-k,0],null),new de(_.subtract(v,0),null,[k,0]),new de(_.add(0,S),[0,-I],null),new de(m.subtract(0,S),null,[0,I]),new de(m.subtract(v,0),[k,0])]}return i(p,!0,u)},RoundRectangle:"#Rectangle",Ellipse:function(){var u=arguments,l=Te._readEllipse(u);return a(l.center,l.radius,u)},Oval:"#Ellipse",Arc:function(){var u=arguments,l=N.readNamed(u,"from"),h=N.readNamed(u,"through"),f=N.readNamed(u,"to"),c=g.getNamed(u),_=new _e(c&&c.insert==!1&&ae.NO_INSERT);return _.moveTo(l),_.arcTo(h,f),_.set(c)},RegularPolygon:function(){for(var u=arguments,l=N.readNamed(u,"center"),h=g.readNamed(u,"sides"),f=g.readNamed(u,"radius"),c=360/h,_=h%3===0,m=new N(0,_?-f:f),p=_?-1:.5,v=new Array(h),S=0;S<h;S++)v[S]=new de(l.add(m.rotate((S+p)*c)));return i(v,!0,u)},Star:function(){for(var u=arguments,l=N.readNamed(u,"center"),h=g.readNamed(u,"points")*2,f=g.readNamed(u,"radius1"),c=g.readNamed(u,"radius2"),_=360/h,m=new N(0,-1),p=new Array(h),v=0;v<h;v++)p[v]=new de(l.add(m.rotate(_*v).multiply(v%2?c:f)));return i(p,!0,u)}}}});var Ie=Ce.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,i){var a=i,u=a[0];u&&typeof u[0]=="number"&&(a=[a]);for(var l=i.length-1;l>=0;l--){var h=a[l];a===i&&!(h instanceof _e)&&(a=g.slice(a)),Array.isArray(h)?a[l]=new _e({segments:h,insert:!1}):h instanceof Ie&&(a.splice.apply(a,[l,1].concat(h.removeChildren())),h.remove())}return e.base.call(this,t,a)},reduce:function e(t){for(var i=this._children,a=i.length-1;a>=0;a--){var u=i[a].reduce(t);u.isEmpty()&&u.remove()}if(!i.length){var u=new _e(ae.NO_INSERT);return u.copyAttributes(this),u.insertAbove(this),this.remove(),u}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],i=0,a=e.length;i<a;i++)g.push(t,e[i].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getArea();return t},getLength:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();return t},getPathData:function(e,t){for(var i=this._children,a=[],u=0,l=i.length;u<l;u++){var h=i[u],f=h._matrix;a.push(h.getPathData(e&&!f.isIdentity()?e.appended(f):e,t))}return a.join("")},_hitTestChildren:function e(t,i,a){return e.base.call(this,t,i.class===_e||i.type==="path"?i:g.set({},i,{fill:!1}),a)},_draw:function(e,t,i,a){var u=this._children;if(!!u.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var l=0,h=u.length;l<h;l++)u[l].draw(e,t,a);if(!t.clip){this._setStyles(e,t,i);var f=this._style;f.hasFill()&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,i){for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u],f=h._matrix;i[h._id]||h._drawSelected(e,f.isIdentity()?t:t.appended(f))}}},new function(){function e(t,i){var a=t._children;if(i&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var i=e(this,!0);i[t].apply(i,arguments)}},{moveTo:function(){var t=e(this),i=t&&t.isEmpty()?t:new _e(ae.NO_INSERT);i!==t&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var t=e(this,!0),i=t&&t.getLastSegment(),a=N.read(arguments);this.moveTo(i?a.add(i._point):a)},closePath:function(t){e(this,!0).closePath(t)}})},g.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var i=this._children,a,u=0,l=i.length;u<l;u++)a=i[u][e](t)||a;return a}},{}));Ce.inject(new function(){var e=Math.min,t=Math.max,i=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function u(x){return x._children||[x]}function l(x,w){var y=x.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(w){for(var b=u(y),T=0,M=b.length;T<M;T++){var x=b[T];!x._closed&&!x.isEmpty()&&(x.closePath(1e-12),x.getFirstSegment().setHandleIn(0,0),x.getLastSegment().setHandleOut(0,0))}y=y.resolveCrossings().reorient(y.getFillRule()==="nonzero",!0)}return y}function h(x,w,y,b,T){var M=new Ie(ae.NO_INSERT);return M.addChildren(x,!0),M=M.reduce({simplify:w}),T&&T.insert==!1||M.insertAbove(b&&y.isSibling(b)&&y.getIndex()<b.getIndex()?b:y),M.copyAttributes(y,!0),M}function f(x){return x.hasOverlap()||x.isCrossing()}function c(x,w,y,b){if(b&&(b.trace==!1||b.stroke)&&/^(subtract|intersect)$/.test(y))return _(x,w,y);var T=l(x,!0),M=w&&x!==w&&l(w,!0),E=a[y];E[y]=!0,M&&(E.subtract||E.exclude)^(M.isClockwise()^T.isClockwise())&&M.reverse();var z=S(Je.expand(T.getIntersections(M,f))),A=u(T),R=M&&u(M),F=[],O=[],D;function B(me){for(var Se=0,xe=me.length;Se<xe;Se++){var Pe=me[Se];g.push(F,Pe._segments),g.push(O,Pe.getCurves()),Pe._overlapsOnly=!0}}function V(me){for(var Se=[],xe=0,Pe=me&&me.length;xe<Pe;xe++)Se.push(O[me[xe]]);return Se}if(z.length){B(A),R&&B(R);for(var U=new Array(O.length),W=0,$=O.length;W<$;W++)U[W]=O[W].getValues();for(var re=Y.findCurveBoundsCollisions(U,U,0,!0),le={},W=0;W<O.length;W++){var he=O[W],te=he._path._id,ie=le[te]=le[te]||{};ie[he.getIndex()]={hor:V(re[W].hor),ver:V(re[W].ver)}}for(var W=0,$=z.length;W<$;W++)I(z[W]._segment,T,M,le,E);for(var W=0,$=F.length;W<$;W++){var fe=F[W],ce=fe._intersection;fe._winding||I(fe,T,M,le,E),ce&&ce._overlap||(fe._path._overlapsOnly=!1)}D=P(F,E)}else D=v(R?A.concat(R):A.slice(),function(me){return!!E[me]});return h(D,!0,x,w,b)}function _(x,w,y){var b=l(x),T=l(w),M=b.getIntersections(T,f),E=y==="subtract",z=y==="divide",A={},R=[];function F(B){if(!A[B._id]&&(z||T.contains(B.getPointAt(B.getLength()/2))^E))return R.unshift(B),A[B._id]=!0}for(var O=M.length-1;O>=0;O--){var D=M[O].split();D&&(F(D)&&D.getFirstSegment().setHandleIn(0,0),b.getLastSegment().setHandleOut(0,0))}return F(b),h(R,!1,x,w)}function m(x,w){for(var y=x;y;){if(y===w)return;y=y._previous}for(;x._next&&x._next!==w;)x=x._next;if(!x._next){for(;w._previous;)w=w._previous;x._next=w,w._previous=x}}function p(x){for(var w=x.length-1;w>=0;w--)x[w].clearHandles()}function v(x,w,y){var b=x&&x.length;if(b){var T=g.each(x,function(re,le){this[re._id]={container:null,winding:re.isClockwise()?1:-1,index:le}},{}),M=x.slice().sort(function(re,le){return i(le.getArea())-i(re.getArea())}),E=M[0],z=Y.findItemBoundsCollisions(M,null,K.GEOMETRIC_EPSILON);y==null&&(y=E.isClockwise());for(var A=0;A<b;A++){var R=M[A],F=T[R._id],O=0,D=z[A];if(D){for(var B=null,V=D.length-1;V>=0;V--)if(D[V]<A){B=B||R.getInteriorPoint();var U=M[D[V]];if(U.contains(B)){var W=T[U._id];O=W.winding,F.winding+=O,F.container=W.exclude?W.container:U;break}}}if(w(F.winding)===w(O))F.exclude=!0,x[F.index]=null;else{var $=F.container;R.setClockwise($?!$.isClockwise():y)}}}return x}function S(x,w,y){var b=w&&[],T=1e-8,M=1-T,E=!1,z=y||[],A=y&&{},R,F,O;function D(Se){return Se._path._id+"."+Se._segment1._index}for(var B=(y&&y.length)-1;B>=0;B--){var V=y[B];V._path&&(A[D(V)]=!0)}for(var B=x.length-1;B>=0;B--){var U=x[B],W=U._time,$=W,re=w&&!w(U),V=U._curve,le;if(V&&(V!==F?(E=!V.hasHandles()||A&&A[D(V)],R=[],O=null,F=V):O>=T&&(W/=O)),re){R&&R.push(U);continue}else w&&b.unshift(U);if(O=$,W<T)le=V._segment1;else if(W>M)le=V._segment2;else{var he=V.divideAtTime(W,!0);E&&z.push(V,he),le=he._segment1;for(var te=R.length-1;te>=0;te--){var ie=R[te];ie._time=(ie._time-W)/(1-W)}}U._setSegment(le);var fe=le._intersection,ce=U._intersection;if(fe){m(fe,ce);for(var me=fe;me;)m(me._intersection,fe),me=me._next}else le._intersection=ce}return y||p(z),b||x}function k(x,w,y,b,T){var M=Array.isArray(w)?w:w[y?"hor":"ver"],E=y?1:0,z=E^1,A=[x.x,x.y],R=A[E],F=A[z],O=1e-9,D=1e-6,B=R-O,V=R+O,U=0,W=0,$=0,re=0,le=!1,he=!1,te=1,ie=[],fe,ce;function me(Re){var $e=Re[z+0],rt=Re[z+6];if(!(F<e($e,rt)||F>t($e,rt))){var ut=Re[E+0],At=Re[E+2],Bt=Re[E+4],Tt=Re[E+6];if($e===rt){(ut<V&&Tt>B||Tt<V&&ut>B)&&(le=!0);return}var pt=F===$e?0:F===rt||B>t(ut,At,Bt,Tt)||V<e(ut,At,Bt,Tt)?1:ee.solveCubic(Re,z,F,ie,0,1)>0?ie[0]:1,ft=pt===0?ut:pt===1?Tt:ee.getPoint(Re,pt)[y?"y":"x"],Nt=$e>rt?1:-1,qt=fe[z]>fe[z+6]?1:-1,ln=fe[E+6];return F!==$e?(ft<B?$+=Nt:ft>V?re+=Nt:le=!0,ft>R-D&&ft<R+D&&(te/=2)):(Nt!==qt?ut<B?$+=Nt:ut>V&&(re+=Nt):ut!=ln&&(ln<V&&ft>V?(re+=Nt,le=!0):ln>B&&ft<B&&($+=Nt,le=!0)),te/=4),fe=Re,!T&&ft>B&&ft<V&&ee.getTangent(Re,pt)[y?"x":"y"]===0&&k(x,w,!y,b,!0)}}function Se(Re){var $e=Re[z+0],rt=Re[z+2],ut=Re[z+4],At=Re[z+6];if(F<=t($e,rt,ut,At)&&F>=e($e,rt,ut,At)){for(var Bt=Re[E+0],Tt=Re[E+2],pt=Re[E+4],ft=Re[E+6],Nt=B>t(Bt,Tt,pt,ft)||V<e(Bt,Tt,pt,ft)?[Re]:ee.getMonoCurves(Re,y),qt,ln=0,Cs=Nt.length;ln<Cs;ln++)if(qt=me(Nt[ln]))return qt}}for(var xe=0,Pe=M.length;xe<Pe;xe++){var ke=M[xe],ze=ke._path,Ge=ke.getValues(),Xe;if((!xe||M[xe-1]._path!==ze)&&(fe=null,ze._closed||(ce=ee.getValues(ze.getLastCurve().getSegment2(),ke.getSegment1(),null,!b),ce[z]!==ce[z+6]&&(fe=ce)),!fe)){fe=Ge;for(var Qe=ze.getLastCurve();Qe&&Qe!==ke;){var Le=Qe.getValues();if(Le[z]!==Le[z+6]){fe=Le;break}Qe=Qe.getPrevious()}}if(Xe=Se(Ge))return Xe;if(xe+1===Pe||M[xe+1]._path!==ze){if(ce&&(Xe=Se(ce)))return Xe;le&&!$&&!re&&($=re=ze.isClockwise(b)^y?1:-1),U+=$,W+=re,$=re=0,le&&(he=!0,le=!1),ce=null}}return U=i(U),W=i(W),{winding:t(U,W),windingL:U,windingR:W,quality:te,onPath:he}}function I(x,w,y,b,T){var M=[],E=x,z=0,O;do{var A=x.getCurve();if(A){var R=A.getLength();M.push({segment:x,curve:A,length:R}),z+=R}x=x.getNext()}while(x&&!x._intersection&&x!==E);for(var F=[.5,.25,.75],O={winding:0,quality:-1},D=.001,B=1-D,V=0;V<F.length&&O.quality<.5;V++)for(var R=z*F[V],U=0,W=M.length;U<W;U++){var $=M[U],re=$.length;if(R<=re){var A=$.curve,le=A._path,he=le._parent,te=he instanceof Ie?he:le,ie=K.clamp(A.getTimeAt(R),D,B),fe=A.getPointAtTime(ie),ce=i(A.getTangentAtTime(ie).y)<Math.SQRT1_2,me=null;if(T.subtract&&y){var Se=te===w?y:w,xe=Se._getWinding(fe,ce,!0);if(te===w&&xe.winding||te===y&&!xe.winding){if(xe.quality<1)continue;me={winding:0,quality:1}}}me=me||k(fe,b[le._id][A.getIndex()],ce,!0),me.quality>O.quality&&(O=me);break}R-=re}for(var U=M.length-1;U>=0;U--)M[U].segment._winding=O}function P(x,w){var y=[],b;function T(Pe){var ke;return!!(Pe&&!Pe._visited&&(!w||w[(ke=Pe._winding||{}).winding]&&!(w.unite&&ke.winding===2&&ke.windingL&&ke.windingR)))}function M(Pe){if(Pe){for(var ke=0,ze=b.length;ke<ze;ke++)if(Pe===b[ke])return!0}return!1}function E(Pe){for(var ke=Pe._segments,ze=0,Ge=ke.length;ze<Ge;ze++)ke[ze]._visited=!0}function z(Pe,ke){var ze=Pe._intersection,Ge=ze,Xe=[];ke&&(b=[Pe]);function Qe(Le,Re){for(;Le&&Le!==Re;){var $e=Le._segment,rt=$e&&$e._path;if(rt){var ut=$e.getNext()||rt.getFirstSegment(),At=ut._intersection;$e!==Pe&&(M($e)||M(ut)||ut&&T($e)&&(T(ut)||At&&T(At._segment)))&&Xe.push($e),ke&&b.push($e)}Le=Le._next}}if(ze){for(Qe(ze);ze&&ze._previous;)ze=ze._previous;Qe(ze,Ge)}return Xe}x.sort(function(Pe,ke){var ze=Pe._intersection,Ge=ke._intersection,Xe=!!(ze&&ze._overlap),Qe=!!(Ge&&Ge._overlap),Le=Pe._path,Re=ke._path;return Xe^Qe?Xe?1:-1:!ze^!Ge?ze?1:-1:Le!==Re?Le._id-Re._id:Pe._index-ke._index});for(var A=0,R=x.length;A<R;A++){var F=x[A],O=T(F),D=null,B=!1,V=!0,U=[],W,$,re;if(O&&F._path._overlapsOnly){var le=F._path,he=F._intersection._segment._path;le.compare(he)&&(le.getArea()&&y.push(le.clone(!1)),E(le),E(he),O=!1)}for(;O;){var te=!D,ie=z(F,te),fe=ie.shift(),B=!te&&(M(F)||M(fe)),ce=!B&&fe;if(te&&(D=new _e(ae.NO_INSERT),W=null),B){(F.isFirst()||F.isLast())&&(V=F._path._closed),F._visited=!0;break}if(ce&&W&&(U.push(W),W=null),W||(ce&&ie.push(F),W={start:D._segments.length,crossings:ie,visited:$=[],handleIn:re}),ce&&(F=fe),!T(F)){D.removeSegments(W.start);for(var me=0,Se=$.length;me<Se;me++)$[me]._visited=!1;$.length=0;do F=W&&W.crossings.shift(),(!F||!F._path)&&(F=null,W=U.pop(),W&&($=W.visited,re=W.handleIn));while(W&&!T(F));if(!F)break}var xe=F.getNext();D.add(new de(F._point,re,xe&&F._handleOut)),F._visited=!0,$.push(F),F=xe||F._path.getFirstSegment(),re=xe&&xe._handleIn}B&&(V&&(D.getFirstSegment().setHandleIn(re),D.setClosed(V)),D.getArea()!==0&&y.push(D))}return y}return{_getWinding:function(x,w,y){return k(x,this.getCurves(),w,y)},unite:function(x,w){return c(this,x,"unite",w)},intersect:function(x,w){return c(this,x,"intersect",w)},subtract:function(x,w){return c(this,x,"subtract",w)},exclude:function(x,w){return c(this,x,"exclude",w)},divide:function(x,w){return w&&(w.trace==!1||w.stroke)?_(this,x,"divide"):h([this.subtract(x,w),this.intersect(x,w)],!0,this,x,w)},resolveCrossings:function(){var x=this._children,w=x||[this];function y(W,$){var re=W&&W._intersection;return re&&re._overlap&&re._path===$}var b=!1,T=!1,M=this.getIntersections(null,function(W){return W.hasOverlap()&&(b=!0)||W.isCrossing()&&(T=!0)}),E=b&&T&&[];if(M=Je.expand(M),b)for(var z=S(M,function(W){return W.hasOverlap()},E),A=z.length-1;A>=0;A--){var R=z[A],F=R._path,O=R._segment,D=O.getPrevious(),B=O.getNext();y(D,F)&&y(B,F)&&(O.remove(),D._handleOut._set(0,0),B._handleIn._set(0,0),D!==O&&!D.getCurve().hasLength()&&(B._handleIn.set(D._handleIn),D.remove()))}T&&(S(M,b&&function(W){var $=W.getCurve(),re=W.getSegment(),le=W._intersection,he=le._curve,te=le._segment;if($&&he&&$._path&&he._path)return!0;re&&(re._intersection=null),te&&(te._intersection=null)},E),E&&p(E),w=P(g.each(w,function(W){g.push(this,W._segments)},[])));var V=w.length,U;return V>1&&x?(w!==x&&this.setChildren(w),U=this):V===1&&!x&&(w[0]!==this&&this.setSegments(w[0].removeSegments()),U=this),U||(U=new Ie(ae.NO_INSERT),U.addChildren(w),U=U.reduce(),U.copyAttributes(this),this.replaceWith(U)),U},reorient:function(x,w){var y=this._children;return y&&y.length?this.setChildren(v(this.removeChildren(),function(b){return!!(x?b:b&1)},w)):w!==o&&this.setClockwise(w),this},getInteriorPoint:function(){var x=this.getBounds(),w=x.getCenter(!0);if(!this.contains(w)){for(var y=this.getCurves(),b=w.y,T=[],M=[],E=0,z=y.length;E<z;E++){var A=y[E].getValues(),R=A[1],F=A[3],O=A[5],D=A[7];if(b>=e(R,F,O,D)&&b<=t(R,F,O,D))for(var B=ee.getMonoCurves(A),V=0,U=B.length;V<U;V++){var W=B[V],$=W[1],re=W[7];if($!==re&&(b>=$&&b<=re||b>=re&&b<=$)){var le=b===$?W[0]:b===re?W[6]:ee.solveCubic(W,1,b,M,0,1)===1?ee.getPoint(W,M[0]).x:(W[0]+W[6])/2;T.push(le)}}}T.length>1&&(T.sort(function(he,te){return he-te}),w.x=(T[0]+T[1])/2)}return w}}});var Ze=g.extend({_class:"PathFlattener",initialize:function(e,t,i,a,u){var l=[],h=[],f=0,c=1/(i||32),_=e._segments,m=_[0],p;function v(P,x){var w=ee.getValues(P,x,u);l.push(w),S(w,P._index,0,1)}function S(P,x,w,y){if(y-w>c&&!(a&&ee.isStraight(P))&&!ee.isFlatEnough(P,t||.25)){var b=ee.subdivide(P,.5),T=(w+y)/2;S(b[0],x,w,T),S(b[1],x,T,y)}else{var M=P[6]-P[0],E=P[7]-P[1],z=Math.sqrt(M*M+E*E);z>0&&(f+=z,h.push({offset:f,curve:P,index:x,time:y}))}}for(var k=1,I=_.length;k<I;k++)p=_[k],v(m,p),m=p;e._closed&&v(p||m,_[0]),this.curves=l,this.parts=h,this.length=f,this.index=0},_get:function(e){for(var t=this.parts,i=t.length,a,u=this.index;a=u,!(!u||t[--u].offset<e););for(;a<i;a++){var l=t[a];if(l.offset>=e){this.index=a;var h=t[a-1],f=h&&h.index===l.index?h.time:0,c=h?h.offset:0;return{index:l.index,time:f+(l.time-f)*(e-c)/(l.offset-c)}}}return{index:t[i-1].index,time:1}},drawPart:function(e,t,i){for(var a=this._get(t),u=this._get(i),l=a.index,h=u.index;l<=h;l++){var f=ee.getPart(this.curves[l],l===a.index?a.time:0,l===u.index?u.time:1);l===a.index&&e.moveTo(f[0],f[1]),e.bezierCurveTo.apply(e,f.slice(2))}}},g.each(ee._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this._get(t);return ee[e](this.curves[i.index],i.time)}},{})),nt=g.extend({initialize:function(e){for(var t=this.points=[],i=e._segments,a=e._closed,u=0,l,h=i.length;u<h;u++){var f=i[u].point;(!l||!l.equals(f))&&t.push(l=f.clone())}a&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=a},fit:function(e){var t=this.points,i=t.length,a=null;return i>0&&(a=[new de(t[0])],i>1&&(this.fitCubic(a,e,0,i-1,t[1].subtract(t[0]),t[i-2].subtract(t[i-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(e,t,i,a,u,l){var h=this.points;if(a-i===1){var f=h[i],c=h[a],_=f.getDistance(c)/3;this.addCurve(e,[f,f.add(u.normalize(_)),c.add(l.normalize(_)),c]);return}for(var m=this.chordLengthParameterize(i,a),p=Math.max(t,t*t),v,S=!0,k=0;k<=4;k++){var I=this.generateBezier(i,a,m,u,l),P=this.findMaxError(i,a,I,m);if(P.error<t&&S){this.addCurve(e,I);return}if(v=P.index,P.error>=p)break;S=this.reparameterize(i,a,m,I),p=P.error}var x=h[v-1].subtract(h[v+1]);this.fitCubic(e,t,i,v,u,x),this.fitCubic(e,t,v,a,x.negate(),l)},addCurve:function(e,t){var i=e[e.length-1];i.setHandleOut(t[1].subtract(t[0])),e.push(new de(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,i,a,u){for(var l=1e-12,h=Math.abs,f=this.points,c=f[e],_=f[t],m=[[0,0],[0,0]],p=[0,0],v=0,S=t-e+1;v<S;v++){var k=i[v],I=1-k,P=3*k*I,x=I*I*I,w=P*I,y=P*k,b=k*k*k,T=a.normalize(w),M=u.normalize(y),E=f[e+v].subtract(c.multiply(x+w)).subtract(_.multiply(y+b));m[0][0]+=T.dot(T),m[0][1]+=T.dot(M),m[1][0]=m[0][1],m[1][1]+=M.dot(M),p[0]+=T.dot(E),p[1]+=M.dot(E)}var z=m[0][0]*m[1][1]-m[1][0]*m[0][1],A,R;if(h(z)>l){var F=m[0][0]*p[1]-m[1][0]*p[0],O=p[0]*m[1][1]-p[1]*m[0][1];A=O/z,R=F/z}else{var D=m[0][0]+m[0][1],B=m[1][0]+m[1][1];A=R=h(D)>l?p[0]/D:h(B)>l?p[1]/B:0}var V=_.getDistance(c),U=l*V,W,$;if(A<U||R<U)A=R=V/3;else{var re=_.subtract(c);W=a.normalize(A),$=u.normalize(R),W.dot(re)-$.dot(re)>V*V&&(A=R=V/3,W=$=null)}return[c,c.add(W||a.normalize(A)),_.add($||u.normalize(R)),_]},reparameterize:function(e,t,i,a){for(var u=e;u<=t;u++)i[u-e]=this.findRoot(a,this.points[u],i[u-e]);for(var u=1,l=i.length;u<l;u++)if(i[u]<=i[u-1])return!1;return!0},findRoot:function(e,t,i){for(var a=[],u=[],l=0;l<=2;l++)a[l]=e[l+1].subtract(e[l]).multiply(3);for(var l=0;l<=1;l++)u[l]=a[l+1].subtract(a[l]).multiply(2);var h=this.evaluate(3,e,i),f=this.evaluate(2,a,i),c=this.evaluate(1,u,i),_=h.subtract(t),m=f.dot(f)+_.dot(c);return K.isMachineZero(m)?i:i-_.dot(f)/m},evaluate:function(e,t,i){for(var a=t.slice(),u=1;u<=e;u++)for(var l=0;l<=e-u;l++)a[l]=a[l].multiply(1-i).add(a[l+1].multiply(i));return a[0]},chordLengthParameterize:function(e,t){for(var i=[0],a=e+1;a<=t;a++)i[a-e]=i[a-e-1]+this.points[a].getDistance(this.points[a-1]);for(var a=1,u=t-e;a<=u;a++)i[a]/=i[u];return i},findMaxError:function(e,t,i,a){for(var u=Math.floor((t-e+1)/2),l=0,h=e+1;h<t;h++){var f=this.evaluate(3,i,a[h-e]),c=f.subtract(this.points[h]),_=c.x*c.x+c.y*c.y;_>=l&&(l=_,u=h)}return{error:l,index:u}}}),zt=ae.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&g.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(i&&t,!i&&N.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Dt=zt.extend({_class:"PointText",initialize:function(){zt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new ge(e.x,e.y,this,"setPoint")},setPoint:function(){var e=N.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,i){if(!!this._content){this._setStyles(e,t,i);var a=this._lines,u=this._style,l=u.hasFill(),h=u.hasStroke(),f=u.getLeading(),c=e.shadowColor;e.font=u.getFontStyle(),e.textAlign=u.getJustification();for(var _=0,m=a.length;_<m;_++){e.shadowColor=c;var p=a[_];l&&(e.fillText(p,0,0),e.shadowColor="rgba(0,0,0,0)"),h&&e.strokeText(p,0,0),e.translate(0,f)}}},_getBounds:function(e,t){var i=this._style,a=this._lines,u=a.length,l=i.getJustification(),h=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),a),c=0;l!=="left"&&(c-=f/(l==="center"?2:1));var _=new q(c,u?-.75*h:0,f,u*h);return e?e._transformBounds(_,_):_}}),Oe=g.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},i={transparent:[0,0,0,0]},a;function u(f){var c=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",m;if(c){var p=c[4]?4:3;m=new Array(p);for(var v=0;v<p;v++){var S=c[v+1];m[v]=parseInt(S.length==1?S+S:S,16)/255}}else if(c=f.match(/^(rgb|hsl)a?\((.*)\)$/)){_=c[1],m=c[2].trim().split(/[,\s]+/g);for(var k=_==="hsl",v=0,I=Math.min(m.length,4);v<I;v++){var P=m[v],S=parseFloat(P);if(k)if(v===0){var x=P.match(/([a-z]*)$/)[1];S*={turn:360,rad:180/Math.PI,grad:.9}[x]||1}else v<3&&(S/=100);else v<3&&(S/=/%$/.test(P)?100:255);m[v]=S}}else{var w=i[f];if(!w)if(d){a||(a=vt.getContext(1,1),a.globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=f,a.fillRect(0,0,1,1);var y=a.getImageData(0,0,1,1).data;w=i[f]=[y[0]/255,y[1]/255,y[2]/255]}else w=[0,0,0];m=w.slice()}return[_,m]}var l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(f,c,_){var m=Math.max(f,c,_),p=Math.min(f,c,_),v=m-p,S=v===0?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60;return[S,m===0?0:v/m,m]},"hsb-rgb":function(f,c,_){f=(f/60%6+6)%6;var p=Math.floor(f),m=f-p,p=l[p],v=[_,_*(1-c),_*(1-c*m),_*(1-c*(1-m))];return[v[p[0]],v[p[1]],v[p[2]]]},"rgb-hsl":function(f,c,_){var m=Math.max(f,c,_),p=Math.min(f,c,_),v=m-p,S=v===0,k=S?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60,I=(m+p)/2,P=S?0:I<.5?v/(m+p):v/(2-m-p);return[k,P,I]},"hsl-rgb":function(f,c,_){if(f=(f/360%1+1)%1,c===0)return[_,_,_];for(var m=[f+1/3,f,f-1/3],p=_<.5?_*(1+c):_+c-_*c,v=2*_-p,S=[],k=0;k<3;k++){var I=m[k];I<0&&(I+=1),I>1&&(I-=1),S[k]=6*I<1?v+(p-v)*6*I:2*I<1?p:3*I<2?v+(p-v)*(2/3-I)*6:v}return S},"rgb-gray":function(f,c,_){return[f*.2989+c*.587+_*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(e,function(f,c){t[c]=[],g.each(f,function(_,m){var p=g.capitalize(_),v=/^(hue|saturation)$/.test(_),S=t[c][m]=c==="gradient"?_==="gradient"?function(k){var I=this._components[0];return k=It.read(Array.isArray(k)?k:arguments,0,{readNull:!0}),I!==k&&(I&&I._removeOwner(this),k&&k._addOwner(this)),k}:function(){return N.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(k){return k==null||isNaN(k)?0:+k};this["get"+p]=function(){return this._type===c||v&&/^hs[bl]$/.test(this._type)?this._components[m]:this._convert(c)[m]},this["set"+p]=function(k){this._type!==c&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(c),this._properties=e[c],this._type=c),this._components[m]=S.call(this,k),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(c){var _=arguments,m=this.__read,p=0,v,S,k,I;Array.isArray(c)&&(_=c,c=_[0]);var P=c!=null&&typeof c;if(P==="string"&&c in e&&(v=c,c=_[1],Array.isArray(c)?(S=c,k=_[2]):(m&&(p=1),_=g.slice(_,1),P=typeof c)),!S){if(I=P==="number"?_:P==="object"&&c.length!=null?c:null,I){v||(v=I.length>=3?"rgb":"gray");var x=e[v].length;k=I[x],m&&(p+=I===arguments?x+(k!=null?1:0):1),I.length>x&&(I=g.slice(I,0,x))}else if(P==="string"){var w=u(c);v=w[0],S=w[1],S.length===4&&(k=S[3],S.length--)}else if(P==="object")if(c.constructor===f){if(v=c._type,S=c._components.slice(),k=c._alpha,v==="gradient")for(var y=1,b=S.length;y<b;y++){var T=S[y];T&&(S[y]=T.clone())}}else if(c.constructor===It)v="gradient",I=_;else{v="hue"in c?"lightness"in c?"hsl":"hsb":"gradient"in c||"stops"in c||"radial"in c?"gradient":"gray"in c?"gray":"rgb";var M=e[v],E=t[v];this._components=S=[];for(var y=0,b=M.length;y<b;y++){var z=c[M[y]];z==null&&!y&&v==="gradient"&&"stops"in c&&(z={stops:c.stops,radial:c.radial}),z=E[y].call(this,z),z!=null&&(S[y]=z)}k=c.alpha}m&&v&&(p=1)}if(this._type=v||"rgb",!S){this._components=S=[];for(var E=t[this._type],y=0,b=E.length;y<b;y++){var z=E[y].call(this,I&&I[y]);z!=null&&(S[y]=z)}}return this._components=S,this._properties=e[this._type],this._alpha=k,m&&(this.__read=p),this},set:"#initialize",_serialize:function(f,c){var _=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),f,!0,c)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var c;return this._type===f?this._components.slice():(c=h[this._type+"-"+f])?c.apply(this,this._components):h["rgb-"+f].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new Oe(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=e[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var c=g.isPlainValue(f,!0)?Oe.read(arguments):f;return c===this||c&&this._class===c._class&&this._type===c._type&&this.getAlpha()===c.getAlpha()&&g.equals(this._components,c._components)||!1},toString:function(){for(var f=this._properties,c=[],_=this._type==="gradient",m=ne.instance,p=0,v=f.length;p<v;p++){var S=this._components[p];S!=null&&c.push(f[p]+": "+(_?S:m.number(S)))}return this._alpha!=null&&c.push("alpha: "+m.number(this._alpha)),"{ "+c.join(", ")+" }"},toCSS:function(f){var c=this._convert("rgb"),_=f||this._alpha==null?1:this._alpha;function m(p){return Math.round((p<0?0:p>1?1:p)*255)}return c=[m(c[0]),m(c[1]),m(c[2])],_<1&&c.push(_<0?0:_),f?"#"+((1<<24)+(c[0]<<16)+(c[1]<<8)+c[2]).toString(16).slice(1):(c.length==4?"rgba(":"rgb(")+c.join(",")+")"},toCanvasStyle:function(f,c){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,m=_[0],p=m._stops,v=_[1],S=_[2],k=_[3],I=c&&c.inverted(),P;if(I&&(v=I._transformPoint(v),S=I._transformPoint(S),k&&(k=I._transformPoint(k))),m._radial){var x=S.getDistance(v);if(k){var w=k.subtract(v);w.getLength()>x&&(k=v.add(w.normalize(x-.1)))}var y=k||v;P=f.createRadialGradient(y.x,y.y,0,v.x,v.y,x)}else P=f.createLinearGradient(v.x,v.y,S.x,S.y);for(var b=0,T=p.length;b<T;b++){var M=p[b],E=M._offset;P.addColorStop(E==null?b/(T-1):E,M._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(f){if(this._type==="gradient"){for(var c=this._components,_=1,m=c.length;_<m;_++){var p=c[_];f._transformPoint(p,p,!0)}this._changed()}},statics:{_types:e,random:function(){var f=Math.random;return new Oe(f(),f(),f())},_setOwner:function(f,c,_){return f&&(f._owner&&c&&f._owner!==c&&(f=f.clone()),!f._owner^!c&&(f._owner=c||null,f._setter=_||null)),f}}})},new function(){var e={add:function(t,i){return t+i},subtract:function(t,i){return t-i},multiply:function(t,i){return t*i},divide:function(t,i){return t/i}};return g.each(e,function(t,i){this[i]=function(a){a=Oe.read(arguments);for(var u=this._type,l=this._components,h=a._convert(u),f=0,c=l.length;f<c;f++)h[f]=t(l[f],h[f]);return new Oe(u,h,this._alpha!=null?t(this._alpha,a.getAlpha()):null)}},{})}),It=g.extend({_class:"Gradient",initialize:function(t,i){this._id=se.get(),t&&g.isPlainObject(t)&&(this.set(t),t=i=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=o))},clone:function(){for(var e=[],t=0,i=this._stops.length;t<i;t++)e[t]=this._stops[t].clone();return new It(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var i=0,a=t.length;i<a;i++)t[i]._owner=o;t=this._stops=Yt.readList(e,0,{clone:!0});for(var i=0,a=t.length;i<a;i++)t[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,i=e._stops,a=t.length;if(a===i.length){for(var u=0;u<a;u++)if(!t[u].equals(i[u]))return!1;return!0}}return!1}}),Yt=g.extend({_class:"GradientStop",initialize:function(t,i){var a=t,u=i;typeof t=="object"&&i===o&&(Array.isArray(t)&&typeof t[0]!="number"?(a=t[0],u=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(a=t.color,u=t.offset||t.rampPoint||0)),this.setColor(a),this.setOffset(u)},clone:function(){return new Yt(this._color.clone(),this._offset)},_serialize:function(e,t){var i=this._color,a=this._offset;return g.serialize(a==null?[i]:[i,a],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Oe._setOwner(this._color,null),this._color=Oe._setOwner(Oe.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),bi=g.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new N,selectedColor:null},t=g.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=g.set({},t,{fillColor:new Oe}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},u={beans:!0},l={_class:"Style",beans:!0,initialize:function(f,c,_){this._values={},this._owner=c,this._project=c&&c._project||_||r.project,this._defaults=!c||c instanceof pe?t:c instanceof zt?i:e,f&&this.set(f)}};return g.each(t,function(h,f){var c=/Color$/.test(f),_=f==="shadowOffset",m=g.capitalize(f),p=a[f],v="set"+m,S="get"+m;l[v]=function(k){var I=this._owner,P=I&&I._children,x=P&&P.length>0&&!(I instanceof Ie);if(x)for(var w=0,y=P.length;w<y;w++)P[w]._style[v](k);if((f==="selectedColor"||!x)&&f in this._defaults){var b=this._values[f];b!==k&&(c&&(b&&(Oe._setOwner(b,null),b._canvasStyle=null),k&&k.constructor===Oe&&(k=Oe._setOwner(k,I,x&&v))),this._values[f]=k,I&&I._changed(p||129))}},l[S]=function(k){var I=this._owner,P=I&&I._children,x=P&&P.length>0&&!(I instanceof Ie),w;if(x&&!k)for(var y=0,b=P.length;y<b;y++){var T=P[y]._style[S]();if(!y)w=T;else if(!g.equals(w,T))return o}else if(f in this._defaults){var w=this._values[f];if(w===o)w=this._defaults[f],w&&w.clone&&(w=w.clone());else{var M=c?Oe:_?N:null;M&&!(w&&w.constructor===M)&&(this._values[f]=w=M.read([w],0,{readNull:!0,clone:!0}))}}return w&&c&&(w=Oe._setOwner(w,I,x&&v)),w},u[S]=function(k){return this._style[S](k)},u[v]=function(k){this._style[v](k)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,f){var c="get"+f,_="set"+f;l[c]=u[c]="#get"+h,l[_]=u[_]="#set"+h}),ae.inject(u),l},{set:function(e){var t=e instanceof bi,i=t?e._values:e;if(i){for(var a in i)if(a in this._defaults){var u=i[a];this[a]=u&&t&&u.clone?u.clone():u}}},equals:function(e){function t(i,a,u){var l=i._values,h=a._values,f=a._defaults;for(var c in l){var _=l[c],m=h[c];if(!(u&&c in h)&&!g.equals(_,m===o?f[c]:m))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),t!=null?t:i*1.2}}),Ve=new function(){function e(t,i,a,u){for(var l=["","webkit","moz","Moz","ms","o"],h=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var c=l[f],_=c?c+h:i;if(_ in t){if(a)t[_]=u;else return t[_];break}}}return{getStyles:function(t){var i=t&&t.nodeType!==9?t.ownerDocument:t,a=i&&i.defaultView;return a&&a.getComputedStyle(t,"")},getBounds:function(t,i){var a=t.ownerDocument,u=a.body,l=a.documentElement,h;try{h=t.getBoundingClientRect()}catch(m){h={left:0,top:0,width:0,height:0}}var f=h.left-(l.clientLeft||u.clientLeft||0),c=h.top-(l.clientTop||u.clientTop||0);if(!i){var _=a.defaultView;f+=_.pageXOffset||l.scrollLeft||u.scrollLeft,c+=_.pageYOffset||l.scrollTop||u.scrollTop}return new q(f,c,h.width,h.height)},getViewportBounds:function(t){var i=t.ownerDocument,a=i.defaultView,u=i.documentElement;return new q(0,0,a.innerWidth||u.clientWidth,a.innerHeight||u.clientHeight)},getOffset:function(t,i){return Ve.getBounds(t,i).getPoint()},getSize:function(t){return Ve.getBounds(t,!0).getSize()},isInvisible:function(t){return Ve.getSize(t).equals(new J(0,0))},isInView:function(t){return!Ve.isInvisible(t)&&Ve.getViewportBounds(t).intersects(Ve.getBounds(t,!0))},isInserted:function(t){return C.body.contains(t)},getPrefixed:function(t,i){return t&&e(t,i)},setPrefixed:function(t,i,a){if(typeof i=="object")for(var u in i)e(t,u,!0,i[u]);else e(t,i,!0,a)}}},je={add:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++){var f=u[l],c=e===C&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;e.addEventListener(f,a,c)}},remove:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++)e.removeEventListener(u[l],a,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new N(t.pageX||t.clientX+C.documentElement.scrollLeft,t.pageY||t.clientY+C.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return je.getPoint(e).subtract(Ve.getOffset(t||je.getTarget(e)))}};je.requestAnimationFrame=new function(){var e=Ve.getPrefixed(d,"requestAnimationFrame"),t=!1,i=[],a;function u(){var l=i;i=[];for(var h=0,f=l.length;h<f;h++)l[h]();t=e&&i.length,t&&e(u)}return function(l){i.push(l),e?t||(e(u),t=!0):a||(a=setInterval(u,1e3/60))}};var Be=g.extend(L,{_class:"View",initialize:function e(t,i){function a(p){return i[p]||parseInt(i.getAttribute(p),10)}function u(){var p=Ve.getSize(i);return p.isNaN()||p.isZero()?new J(a("width"),a("height")):p}var l;if(d&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+e._id++),je.add(i,this._viewEvents);var h="none";if(Ve.setPrefixed(i.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),H.hasAttribute(i,"resize")){var f=this;je.add(d,this._windowEvents={resize:function(){f.setViewSize(u())}})}if(l=u(),H.hasAttribute(i,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var c=this._stats.domElement,_=c.style,m=Ve.getOffset(i);_.position="absolute",_.left=m.x+"px",_.top=m.y+"px",C.body.appendChild(c)}}else l=new J(i),i=null;this._project=t,this._scope=t._scope,this._element=i,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new Q)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Be._focused===this&&(Be._focused=null),Be._views.splice(Be._views.indexOf(this),1),delete Be._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),je.remove(this._element,this._viewEvents),je.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(ae._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;je.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!Ve.getPrefixed(C,"hidden")||H.getAttribute(t,"keepalive")==="true")&&Ve.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new g({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var i=this._frameItems;t?(i[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var i=this._frameItems[t];i.item.emit("frame",new g(e,{time:i.time+=e.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new Me(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=J.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var i=this._element;i&&(i.width!==e&&(i.width=e),i.height!==t&&(i.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new q(new N,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ve.isInView(this._element)},isInserted:function(){return Ve.isInserted(this._element)},getPixelSize:function(e){var t=this._element,i;if(t){var a=t.parentNode,u=C.createElement("div");u.style.fontSize=e,a.appendChild(u),i=parseFloat(Ve.getStyles(u).fontSize),a.removeChild(u)}else i=parseFloat(i);return i},getTextWidth:function(e,t){return 0}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:N).read(i),u=N.read(i,0,{readNull:!0});return this.transform(new Q()[e](a,u||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new Q;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=N.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new Q().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new ge(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=N.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(N.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(N.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(N.read(arguments))},getEventPoint:function(e){return this.viewToProject(je.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){C&&typeof t=="string"&&(t=C.getElementById(t));var i=d?Ja:Be;return new i(e,t)}}},new function(){if(!d)return;var e,t,i=!1,a=!1;function u(O){var D=je.getTarget(O);return D.getAttribute&&Be._viewsById[D.getAttribute("id")]}function l(){var O=Be._focused;if(!O||!O.isVisible()){for(var D=0,B=Be._views.length;D<B;D++)if((O=Be._views[D]).isVisible()){Be._focused=t=O;break}}}function h(O,D,B){O._handleMouseEvent("mousemove",D,B)}var f=d.navigator,c,_,m;f.pointerEnabled||f.msPointerEnabled?(c="pointerdown MSPointerDown",_="pointermove MSPointerMove",m="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",_="touchmove",m="touchend touchcancel","ontouchstart"in d&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",_+=" mousemove",m+=" mouseup"));var p={},v={mouseout:function(O){var D=Be._focused,B=je.getRelatedTarget(O);if(D&&(!B||B.nodeName==="HTML")){var V=je.getOffset(O,D._element),U=V.x,W=Math.abs,$=W(U),re=1<<25,le=$-re;V.x=W(le)<$?le*(U<0?-1:1):U,h(D,O,D.viewToProject(V))}},scroll:l};p[c]=function(O){var D=Be._focused=u(O);i||(i=!0,D._handleMouseEvent("mousedown",O))},v[_]=function(O){var D=Be._focused;if(!a){var B=u(O);B?D!==B&&(D&&h(D,O),e||(e=D),D=Be._focused=t=B):t&&t===D&&(e&&!e.isInserted()&&(e=null),D=Be._focused=e,e=null,l())}D&&h(D,O)},v[c]=function(){a=!0},v[m]=function(O){var D=Be._focused;D&&i&&D._handleMouseEvent("mouseup",O),a=i=!1},je.add(C,v),je.add(d,{load:l});var S=!1,k=!1,I={doubleclick:"click",mousedrag:"mousemove"},P=!1,x,w,y,b,T,M,E,z;function A(O,D,B,V,U,W,$){var re=!1,le;function he(te,ie){if(te.responds(ie)){if(le||(le=new Xa(ie,V,U,D||te,W?U.subtract(W):null)),te.emit(ie,le)&&(S=!0,le.prevented&&(k=!0),le.stopped))return re=!0}else{var fe=I[ie];if(fe)return he(te,fe)}}for(;O&&O!==$&&!he(O,B);)O=O._parent;return re}function R(O,D,B,V,U,W){return O._project.removeOn(B),k=S=!1,T&&A(T,null,B,V,U,W)||D&&D!==T&&!D.isDescendant(T)&&A(D,null,B==="mousedrag"?"mousemove":B,V,U,W,T)||A(O,T||D||O,B,V,U,W)}var F={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:p,_handleMouseEvent:function(O,D,B){var V=this._itemEvents,U=V.native[O],W=O==="mousemove",$=this._scope.tool,re=this;function le(Se){return V.virtual[Se]||re.responds(Se)||$&&$.responds(Se)}W&&i&&le("mousedrag")&&(O="mousedrag"),B||(B=this.getEventPoint(D));var he=this.getBounds().contains(B),te=U&&he&&re._project.hitTest(B,{tolerance:0,fill:!0,stroke:!0}),ie=te&&te.item||null,fe=!1,ce={};if(ce[O.substr(5)]=!0,U&&ie!==b&&(b&&A(b,null,"mouseleave",D,B),ie&&A(ie,null,"mouseenter",D,B),b=ie),P^he&&(A(this,null,he?"mouseenter":"mouseleave",D,B),fe=!0),(he||ce.drag)&&!B.equals(w)&&(R(this,ie,W?O:"mousemove",D,B,w),fe=!0),P=he,ce.down&&he||ce.up&&x){if(R(this,ie,O,D,B,x),ce.down){if(z=ie===M&&Date.now()-E<300,y=M=ie,!k&&ie){for(var me=ie;me&&!me.responds("mousedrag");)me=me._parent;me&&(T=ie)}x=B}else ce.up&&(!k&&ie===y&&(E=Date.now(),R(this,ie,z?"doubleclick":"click",D,B,x),z=!1),y=T=null);P=!1,fe=!0}w=B,fe&&$&&(S=$._handleMouseEvent(O,D,B,ce)||S),D.cancelable!==!1&&(S&&!ce.move||ce.down&&le("mouseup"))&&D.preventDefault()},_handleKeyEvent:function(O,D,B,V){var U=this._scope,W=U.tool,$;function re(le){le.responds(O)&&(r=U,le.emit(O,$=$||new Ya(O,D,B,V)))}this.isVisible()&&(re(this),W&&W.responds(O)&&re(W))},_countItemEvent:function(O,D){var B=this._itemEvents,V=B.native,U=B.virtual;for(var W in F)V[W]=(V[W]||0)+(F[W][O]||0)*D;U[O]=(U[O]||0)+D},statics:{updateFocus:l,_resetState:function(){i=a=S=P=!1,e=t=x=w=y=b=T=M=E=z=null}}}}),Ja=Be.extend({_class:"CanvasView",initialize:function(t,i){if(!(i instanceof d.HTMLCanvasElement)){var a=J.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));i=vt.getCanvas(a)}var u=this._context=i.getContext("2d");if(u.save(),this._pixelRatio=1,!/^off|false$/.test(H.getAttribute(i,"hidpi"))){var l=d.devicePixelRatio||1,h=Ve.getPrefixed(u,"backingStorePixelRatio")||1;this._pixelRatio=l/h}Be.call(this,t,i),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,i){var a=this._pixelRatio;if(e.base.call(this,t*a,i*a),a!==1){var u=this._element,l=this._context;if(!H.hasAttribute(u,"resize")){var h=u.style;h.width=t+"px",h.height=i+"px"}l.restore(),l.save(),l.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function e(t){var i=r.agent,a;if(i&&i.firefox)a=e.base.call(this,t);else{var u=this._context,l=u.font;u.font=t+" serif",a=parseFloat(u.font),u.font=l}return a},getTextWidth:function(e,t){var i=this._context,a=i.font,u=0;i.font=e;for(var l=0,h=t.length;l<h;l++)u=Math.max(u,i.measureText(t[l]).width);return i.font=a,u},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,i=this._viewSize;return t.clearRect(0,0,i.width+1,i.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Vn=g.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Pr.modifiers}}),Ya=Vn.extend({_class:"KeyEvent",initialize:function(t,i,a,u){this.type=t,this.event=i,this.key=a,this.character=u},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Pr=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},i={},a={},u,l,h=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=r&&r.agent;return _&&_.mac?this.meta:this.control}}});function f(_){var m=_.key||_.keyIdentifier;return m=/^U\+/.test(m)?String.fromCharCode(parseInt(m.substr(2),16)):/^Arrow[A-Z]/.test(m)?m.substr(5):m==="Unidentified"||m===o?String.fromCharCode(_.keyCode):m,e[m]||(m.length>1?g.hyphenate(m):m.toLowerCase())}function c(_,m,p,v){var S=Be._focused,k;if(i[m]=_,_?a[m]=p:delete a[m],m.length>1&&(k=g.camelize(m))in h){h[k]=_;var I=r&&r.agent;if(k==="meta"&&I&&I.mac)if(_)u={};else{for(var P in u)P in a&&c(!1,P,u[P],v);u=null}}else _&&u&&(u[m]=p);S&&S._handleKeyEvent(_?"keydown":"keyup",v,m,p)}return je.add(C,{keydown:function(_){var m=f(_),p=r&&r.agent;m.length>1||p&&p.chrome&&(_.altKey||p.mac&&_.metaKey||!p.mac&&_.ctrlKey)?c(!0,m,t[m]||(m.length>1?"":m),_):l=m},keypress:function(_){if(l){var m=f(_),p=_.charCode,v=p>=32?String.fromCharCode(p):m.length>1?"":m;m!==l&&(m=v.toLowerCase()),c(!0,m,v,_),l=null}},keyup:function(_){var m=f(_);m in a&&c(!1,m,a[m],_)}}),je.add(d,{blur:function(_){for(var m in a)c(!1,m,a[m],_)}}),{modifiers:h,isDown:function(_){return!!i[_]}}},Xa=Vn.extend({_class:"MouseEvent",initialize:function(t,i,a,u,l){this.type=t,this.event=i,this.point=a,this.target=u,this.delta=l},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),$a=Vn.extend({_class:"ToolEvent",_item:null,initialize:function(t,i,a){this.tool=t,this.type=i,this.event=a},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,i=t._parent;/^(Group|CompoundPath)$/.test(i._class);)t=i,i=i._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),eu=j.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){j.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,i,a){r=this._scope,a.drag&&!this.responds(e)&&(e="mousemove");var u=a.move||a.drag,l=this.responds(e),h=this.minDistance,f=this.maxDistance,c=!1,_=this;function m(v,S){var k=i,I=u?_._point:_._downPoint||k;if(u){if(_._moveCount>=0&&k.equals(I))return!1;if(I&&(v!=null||S!=null)){var P=k.subtract(I),x=P.getLength();if(x<(v||0))return!1;S&&(k=I.add(P.normalize(Math.min(x,S))))}_._moveCount++}return _._point=k,_._lastPoint=I||k,a.down&&(_._moveCount=-1,_._downPoint=k,_._downCount++),!0}function p(){l&&(c=_.emit(e,new $a(_,e,t))||c)}if(a.down)m(),p();else if(a.up)m(null,f),p();else if(l)for(;m(h,f);)p();return c}}),tu=g.extend(L,{_class:"Tween",statics:{easings:new g({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,i,a,u,l,h){this.object=t;var f=typeof l,c=f==="function";this.type=c?f:f==="string"?l:"linear",this.easing=c?l:e.easings[this.type],this.duration=u,this.running=!1,this._then=null,this._startTime=null;var _=i||a;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(i),this._to=_&&this._getState(a),h!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),i=this._keys,a=function(m){return typeof m=="function"?m(t,e):m},u=0,l=i&&i.length;u<l;u++){var h=i[u],f=a(this._from[h]),c=a(this._to[h]),_=f&&c&&f.__add&&c.__add?c.__subtract(f).__multiply(t).__add(f):(c-f)*t+f;this._setProperty(this._parsedKeys[h],_)}this.responds("update")&&this.emit("update",new g({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,i=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(i)},_getState:function(e){for(var t=this._keys,i={},a=0,u=t.length;a<u;a++){var l=t[a],h=this._parsedKeys[l],f=this._getProperty(h),c;if(e){var _=this._resolveValue(f,e[l]);this._setProperty(h,_),c=this._getProperty(h),c=c&&c.clone?c.clone():c,this._setProperty(h,f)}else c=f&&f.clone?f.clone():f;i[l]=c}return i},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var i=t[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(e,i[0],t[1]):t}else if(typeof t=="string"){var a=t.match(/^[+\-*/]=(.*)/);if(a){var u=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],u)}}}return t},_calculate:function(e,t,i){return r.PaperScript.calculateBinary(e,t,i)},_parseKeys:function(e){for(var t={},i=0,a=e.length;i<a;i++){var u=e[i],l=u.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[u]=l.split("/")}return t},_getProperty:function(e,t){for(var i=this.object,a=0,u=e.length-(t||0);a<u&&i;a++)i=i[e[a]];return i},_setProperty:function(e,t){var i=this._getProperty(e,1);i&&(i[e[e.length-1]]=t)}}),Ct={request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,g.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var i=t.status;i===0||i===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var i=t.status,a='Could not load "'+e.url+'" (Status: '+i+")";if(e.onError)e.onError(a,i);else throw new Error(a)},t.send(null)}},vt=g.exports.CanvasProvider={canvases:[],getCanvas:function(e,t){if(!d)return null;var i,a=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?i=this.canvases.pop():(i=C.createElement("canvas"),a=!1);var u=i.getContext("2d");if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===e&&i.height===t?a&&u.clearRect(0,0,e+1,t+1):(i.width=e,i.height=t),u.save(),i},getContext:function(e,t){var i=this.getCanvas(e,t);return i?i.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},ht=new function(){var e=Math.min,t=Math.max,i=Math.abs,a,u,l,h,f,c,_,m,p,v,S;function k(T,M,E){return .2989*T+.587*M+.114*E}function I(T,M,E,R){var A=R-k(T,M,E);p=T+A,v=M+A,S=E+A;var R=k(p,v,S),F=e(p,v,S),O=t(p,v,S);if(F<0){var D=R-F;p=R+(p-R)*R/D,v=R+(v-R)*R/D,S=R+(S-R)*R/D}if(O>255){var B=255-R,V=O-R;p=R+(p-R)*B/V,v=R+(v-R)*B/V,S=R+(S-R)*B/V}}function P(T,M,E){return t(T,M,E)-e(T,M,E)}function x(T,M,E,z){var A=[T,M,E],R=t(T,M,E),F=e(T,M,E),O;F=F===T?0:F===M?1:2,R=R===T?0:R===M?1:2,O=e(F,R)===0?t(F,R)===1?2:1:0,A[R]>A[F]?(A[O]=(A[O]-A[F])*z/(A[R]-A[F]),A[R]=z):A[O]=A[R]=0,A[F]=0,p=A[0],v=A[1],S=A[2]}var w={multiply:function(){p=f*a/255,v=c*u/255,S=_*l/255},screen:function(){p=f+a-f*a/255,v=c+u-c*u/255,S=_+l-_*l/255},overlay:function(){p=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255,S=_<128?2*_*l/255:255-2*(255-_)*(255-l)/255},"soft-light":function(){var T=a*f/255;p=T+f*(255-(255-f)*(255-a)/255-T)/255,T=u*c/255,v=T+c*(255-(255-c)*(255-u)/255-T)/255,T=l*_/255,S=T+_*(255-(255-_)*(255-l)/255-T)/255},"hard-light":function(){p=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255,S=l<128?2*l*_/255:255-2*(255-l)*(255-_)/255},"color-dodge":function(){p=f===0?0:a===255?255:e(255,255*f/(255-a)),v=c===0?0:u===255?255:e(255,255*c/(255-u)),S=_===0?0:l===255?255:e(255,255*_/(255-l))},"color-burn":function(){p=f===255?255:a===0?0:t(0,255-(255-f)*255/a),v=c===255?255:u===0?0:t(0,255-(255-c)*255/u),S=_===255?255:l===0?0:t(0,255-(255-_)*255/l)},darken:function(){p=f<a?f:a,v=c<u?c:u,S=_<l?_:l},lighten:function(){p=f>a?f:a,v=c>u?c:u,S=_>l?_:l},difference:function(){p=f-a,p<0&&(p=-p),v=c-u,v<0&&(v=-v),S=_-l,S<0&&(S=-S)},exclusion:function(){p=f+a*(255-f-f)/255,v=c+u*(255-c-c)/255,S=_+l*(255-_-_)/255},hue:function(){x(a,u,l,P(f,c,_)),I(p,v,S,k(f,c,_))},saturation:function(){x(f,c,_,P(a,u,l)),I(p,v,S,k(f,c,_))},luminosity:function(){I(f,c,_,k(a,u,l))},color:function(){I(a,u,l,k(f,c,_))},add:function(){p=e(f+a,255),v=e(c+u,255),S=e(_+l,255)},subtract:function(){p=t(f-a,0),v=t(c-u,0),S=t(_-l,0)},average:function(){p=(f+a)/2,v=(c+u)/2,S=(_+l)/2},negation:function(){p=255-i(255-a-f),v=255-i(255-u-c),S=255-i(255-l-_)}},y=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(T){this[T]=!0},{}),b=vt.getContext(1,1);b&&(g.each(w,function(T,M){var E=M==="darken",z=!1;b.save();try{b.fillStyle=E?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=M,b.globalCompositeOperation===M&&(b.fillStyle=E?"#a00":"#300",b.fillRect(0,0,1,1),z=b.getImageData(0,0,1,1).data[0]!==E?170:51)}catch(A){}b.restore(),y[M]=z}),vt.release(b)),this.process=function(T,M,E,z,A){var R=M.canvas,F=T==="normal";if(F||y[T])E.save(),E.setTransform(1,0,0,1,0,0),E.globalAlpha=z,F||(E.globalCompositeOperation=T),E.drawImage(R,A.x,A.y),E.restore();else{var O=w[T];if(!O)return;for(var D=E.getImageData(A.x,A.y,R.width,R.height),B=D.data,V=M.getImageData(0,0,R.width,R.height).data,U=0,W=B.length;U<W;U+=4){a=V[U],f=B[U],u=V[U+1],c=B[U+1],l=V[U+2],_=B[U+2],h=V[U+3],m=B[U+3],O();var $=h*z/255,re=1-$;B[U]=$*p+re*f,B[U+1]=$*v+re*c,B[U+2]=$*S+re*_,B[U+3]=h*z+re*m}E.putImageData(D,A.x,A.y)}}},gt=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",a={href:i,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function u(f,c,_){return h(C.createElementNS(e,f),c,_)}function l(f,c){var _=a[c],m=_?f.getAttributeNS(_,c):f.getAttribute(c);return m==="null"?null:m}function h(f,c,_){for(var m in c){var p=c[m],v=a[m];typeof p=="number"&&_&&(p=_.number(p)),v?f.setAttributeNS(v,m,p):f.setAttribute(m,p)}return f}return{svg:e,xmlns:t,xlink:i,create:u,get:l,set:h}},qe=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Ce||e instanceof Te||e instanceof zt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var i=g.capitalize(t),a=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:a,fromSVG:a&&g.each(a,function(u,l){this[u]=l},{}),exportFilter:e[3],get:"get"+i,set:"set"+i}},{});new function(){var e;function t(w,y,b){var T=new g,M=w.getTranslation();if(y){var E;w.isInvertible()?(w=w._shiftless(),E=w._inverseTransform(M),M=null):E=new N,T[b?"cx":"x"]=E.x,T[b?"cy":"y"]=E.y}if(!w.isIdentity()){var z=w.decompose();if(z){var A=[],R=z.rotation,F=z.scaling,O=z.skewing;M&&!M.isZero()&&A.push("translate("+e.point(M)+")"),R&&A.push("rotate("+e.number(R)+")"),(!K.isZero(F.x-1)||!K.isZero(F.y-1))&&A.push("scale("+e.point(F)+")"),O.x&&A.push("skewX("+e.number(O.x)+")"),O.y&&A.push("skewY("+e.number(O.y)+")"),T.transform=A.join(" ")}else T.transform="matrix("+w.getValues().join(",")+")"}return T}function i(w,y){for(var b=t(w._matrix),T=w._children,M=gt.create("g",b,e),E=0,z=T.length;E<z;E++){var A=T[E],R=P(A,y);if(R)if(A.isClipMask()){var F=gt.create("clipPath");F.appendChild(R),k(A,F,"clip"),gt.set(M,{"clip-path":"url(#"+F.id+")"})}else M.appendChild(R)}return M}function a(w,y){var b=t(w._matrix,!0),T=w.getSize(),M=w.getImage();return b.x-=T.width/2,b.y-=T.height/2,b.width=T.width,b.height=T.height,b.href=y.embedImages==!1&&M&&M.src||w.toDataURL(),gt.create("image",b,e)}function u(w,y){var b=y.matchShapes;if(b){var T=w.toShape(!1);if(T)return l(T)}var M=w._segments,E=M.length,z,A=t(w._matrix);if(b&&E>=2&&!w.hasHandles())if(E>2){z=w._closed?"polygon":"polyline";for(var R=[],F=0;F<E;F++)R.push(e.point(M[F]._point));A.points=R.join(" ")}else{z="line";var O=M[0]._point,D=M[1]._point;A.set({x1:O.x,y1:O.y,x2:D.x,y2:D.y})}else z="path",A.d=w.getPathData(null,y.precision);return gt.create(z,A,e)}function l(w){var y=w._type,b=w._radius,T=t(w._matrix,!0,y!=="rectangle");if(y==="rectangle"){y="rect";var M=w._size,E=M.width,z=M.height;T.x-=E/2,T.y-=z/2,T.width=E,T.height=z,b.isZero()&&(b=null)}return b&&(y==="circle"?T.r=b:(T.rx=b.width,T.ry=b.height)),gt.create(y,T,e)}function h(w,y){var b=t(w._matrix),T=w.getPathData(null,y.precision);return T&&(b.d=T),gt.create("path",b,e)}function f(w,y){var b=t(w._matrix,!0),T=w._definition,M=S(T,"symbol"),E=T._item,z=E.getStrokeBounds();return M||(M=gt.create("symbol",{viewBox:e.rectangle(z)}),M.appendChild(P(E,y)),k(T,M,"symbol")),b.href="#"+M.id,b.x+=z.x,b.y+=z.y,b.width=z.width,b.height=z.height,b.overflow="visible",gt.create("use",b,e)}function c(w){var y=S(w,"color");if(!y){var b=w.getGradient(),T=b._radial,M=w.getOrigin(),E=w.getDestination(),z;if(T){z={cx:M.x,cy:M.y,r:M.getDistance(E)};var A=w.getHighlight();A&&(z.fx=A.x,z.fy=A.y)}else z={x1:M.x,y1:M.y,x2:E.x,y2:E.y};z.gradientUnits="userSpaceOnUse",y=gt.create((T?"radial":"linear")+"Gradient",z,e);for(var R=b._stops,F=0,O=R.length;F<O;F++){var D=R[F],B=D._color,V=B.getAlpha(),U=D._offset;z={offset:U==null?F/(O-1):U},B&&(z["stop-color"]=B.toCSS(!0)),V<1&&(z["stop-opacity"]=V),y.appendChild(gt.create("stop",z,e))}k(w,y,"color")}return"url(#"+y.id+")"}function _(w){var y=gt.create("text",t(w._matrix,!0),e);return y.textContent=w._content,y}var m={Group:i,Layer:i,Raster:a,Path:u,Shape:l,CompoundPath:h,SymbolItem:f,PointText:_};function p(w,y,b){var T={},M=!b&&w.getParent(),E=[];return w._name!=null&&(T.id=w._name),g.each(qe,function(z){var A=z.get,R=z.type,F=w[A]();if(z.exportFilter?z.exportFilter(w,F):!M||!g.equals(M[A](),F)){if(R==="color"&&F!=null){var O=F.getAlpha();O<1&&(T[z.attribute+"-opacity"]=O)}R==="style"?E.push(z.attribute+": "+F):T[z.attribute]=F==null?"none":R==="color"?F.gradient?c(F):F.toCSS(!0):R==="array"?F.join(","):R==="lookup"?z.toSVG[F]:F}}),E.length&&(T.style=E.join(";")),T.opacity===1&&delete T.opacity,w._visible||(T.visibility="hidden"),gt.set(y,T,e)}var v;function S(w,y){return v||(v={ids:{},svgs:{}}),w&&v.svgs[y+"-"+(w._id||w.__id||(w.__id=se.get("svg")))]}function k(w,y,b){v||S();var T=v.ids[b]=(v.ids[b]||0)+1;y.id=b+"-"+T,v.svgs[b+"-"+(w._id||w.__id)]=y}function I(w,y){var b=w,T=null;if(v){b=w.nodeName.toLowerCase()==="svg"&&w;for(var M in v.svgs)T||(b||(b=gt.create("svg"),b.appendChild(w)),T=b.insertBefore(gt.create("defs"),b.firstChild)),T.appendChild(v.svgs[M]);v=null}return y.asString?new s.XMLSerializer().serializeToString(b):b}function P(w,y,b){var T=m[w._class],M=T&&T(w,y);if(M){var E=y.onExport;E&&(M=E(w,M,y)||M);var z=JSON.stringify(w._data);z&&z!=="{}"&&z!=="null"&&M.setAttribute("data-paper-data",z)}return M&&p(w,M,b)}function x(w){return w||(w={}),e=new ne(w.precision),w}ae.inject({exportSVG:function(w){return w=x(w),I(P(this,w,!0),w)}}),we.inject({exportSVG:function(w){w=x(w);var y=this._children,b=this.getView(),T=g.pick(w.bounds,"view"),M=w.matrix||T==="view"&&b._matrix,E=M&&Q.read([M]),z=T==="view"?new q([0,0],b.getViewSize()):T==="content"?ae._getBounds(y,E,{stroke:!0}).rect:q.read([T],0,{readNull:!0}),A={version:"1.1",xmlns:gt.svg,"xmlns:xlink":gt.xlink};z&&(A.width=z.width,A.height=z.height,(z.x||z.x===0||z.y||z.y===0)&&(A.viewBox=e.rectangle(z)));var R=gt.create("svg",A,e),F=R;E&&!E.isIdentity()&&(F=R.appendChild(gt.create("g",t(E),e)));for(var O=0,D=y.length;O<D;O++)F.appendChild(P(y[O],w,!0));return I(R,w)}})},new function(){var e={},t;function i(y,b,T,M,E,z){var A=gt.get(y,b)||z,R=A==null?M?null:T?"":0:T?A:parseFloat(A);return/%\s*$/.test(A)?R/100*(E?1:t[/x|^width/.test(b)?"width":"height"]):R}function a(y,b,T,M,E,z,A){return b=i(y,b||"x",!1,M,E,z),T=i(y,T||"y",!1,M,E,A),M&&(b==null||T==null)?null:new N(b,T)}function u(y,b,T,M,E){return b=i(y,b||"width",!1,M,E),T=i(y,T||"height",!1,M,E),M&&(b==null||T==null)?null:new J(b,T)}function l(y,b,T){return y==="none"?null:b==="number"?parseFloat(y):b==="array"?y?y.split(/[\s,]+/g).map(parseFloat):[]:b==="color"?P(y)||y:b==="lookup"?T[y]:y}function h(y,b,T,M){var E=y.childNodes,z=b==="clippath",A=b==="defs",R=new pe,F=R._project,O=F._currentStyle,D=[];if(!z&&!A&&(R=I(R,y,M),F._currentStyle=R._style.clone()),M)for(var B=y.querySelectorAll("defs"),V=0,U=B.length;V<U;V++)x(B[V],T,!1);for(var V=0,U=E.length;V<U;V++){var W=E[V],$;W.nodeType===1&&!/^defs$/i.test(W.nodeName)&&($=x(W,T,!1))&&!($ instanceof He)&&D.push($)}return R.addChildren(D),z&&(R=I(R.reduce(),y,M)),F._currentStyle=O,(z||A)&&(R.remove(),R=null),R}function f(y,b){for(var T=y.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),M=[],E=0,z=T.length;E<z;E+=2)M.push(new N(parseFloat(T[E]),parseFloat(T[E+1])));var A=new _e(M);return b==="polygon"&&A.closePath(),A}function c(y){return Ce.create(y.getAttribute("d"))}function _(y,b){var T=(i(y,"href",!0)||"").substring(1),M=b==="radialgradient",E;if(T)E=e[T].getGradient(),E._radial^M&&(E=E.clone(),E._radial=M);else{for(var z=y.childNodes,A=[],R=0,F=z.length;R<F;R++){var O=z[R];O.nodeType===1&&A.push(I(new Yt,O))}E=new It(A,M)}var D,B,V,U=i(y,"gradientUnits",!0)!=="userSpaceOnUse";M?(D=a(y,"cx","cy",!1,U,"50%","50%"),B=D.add(i(y,"r",!1,!1,U,"50%"),0),V=a(y,"fx","fy",!0,U)):(D=a(y,"x1","y1",!1,U,"0%","0%"),B=a(y,"x2","y2",!1,U,"100%","0%"));var W=I(new Oe(E,D,B,V),y);return W._scaleToBounds=U,null}var m={"#document":function(y,b,T,M){for(var E=y.childNodes,z=0,A=E.length;z<A;z++){var R=E[z];if(R.nodeType===1)return x(R,T,M)}},g:h,svg:h,clippath:h,polygon:f,polyline:f,path:c,lineargradient:_,radialgradient:_,image:function(y){var b=new Ae(i(y,"href",!0));return b.on("load",function(){var T=u(y);this.setSize(T);var M=a(y).add(T.divide(2));this._matrix.append(new Q().translate(M))}),b},symbol:function(y,b,T,M){return new He(h(y,b,T,M),!0)},defs:h,use:function(y){var b=(i(y,"href",!0)||"").substring(1),T=e[b],M=a(y);return T?T instanceof He?T.place(M):T.clone().translate(M):null},circle:function(y){return new Te.Circle(a(y,"cx","cy"),i(y,"r"))},ellipse:function(y){return new Te.Ellipse({center:a(y,"cx","cy"),radius:u(y,"rx","ry")})},rect:function(y){return new Te.Rectangle(new q(a(y),u(y)),u(y,"rx","ry"))},line:function(y){return new _e.Line(a(y,"x1","y1"),a(y,"x2","y2"))},text:function(y){var b=new Dt(a(y).add(a(y,"dx","dy")));return b.setContent(y.textContent.trim()||""),b},switch:h};function p(y,b,T,M){if(y.transform){for(var E=(M.getAttribute(T)||"").split(/\)\s*/g),z=new Q,A=0,R=E.length;A<R;A++){var F=E[A];if(!F)break;for(var O=F.split(/\(\s*/),D=O[0],B=O[1].split(/[\s,]+/g),V=0,U=B.length;V<U;V++)B[V]=parseFloat(B[V]);switch(D){case"matrix":z.append(new Q(B[0],B[1],B[2],B[3],B[4],B[5]));break;case"rotate":z.rotate(B[0],B[1]||0,B[2]||0);break;case"translate":z.translate(B[0],B[1]||0);break;case"scale":z.scale(B);break;case"skewX":z.skew(B[0],0);break;case"skewY":z.skew(0,B[0]);break}}y.transform(z)}}function v(y,b,T){var M=T==="fill-opacity"?"getFillColor":"getStrokeColor",E=y[M]&&y[M]();E&&E.setAlpha(parseFloat(b))}var S=g.set(g.each(qe,function(y){this[y.attribute]=function(b,T){if(b[y.set]&&(b[y.set](l(T,y.type,y.fromSVG)),y.type==="color")){var M=b[y.get]();if(M&&M._scaleToBounds){var E=b.getBounds();M.transform(new Q().translate(E.getPoint()).scale(E.getSize()))}}}},{}),{id:function(y,b){e[b]=y,y.setName&&y.setName(b)},"clip-path":function(y,b){var T=P(b);if(T)if(T=T.clone(),T.setClipMask(!0),y instanceof pe)y.insertChild(0,T);else return new pe(T,y)},gradientTransform:p,transform:p,"fill-opacity":v,"stroke-opacity":v,visibility:function(y,b){y.setVisible&&y.setVisible(b==="visible")},display:function(y,b){y.setVisible&&y.setVisible(b!==null)},"stop-color":function(y,b){y.setColor&&y.setColor(b)},"stop-opacity":function(y,b){y._color&&y._color.setAlpha(parseFloat(b))},offset:function(y,b){if(y.setOffset){var T=b.match(/(.*)%$/);y.setOffset(T?T[1]/100:parseFloat(b))}},viewBox:function(y,b,T,M,E){var z=new q(l(b,"array")),A=u(M,null,null,!0),R,F;if(y instanceof pe){var O=A?A.divide(z.getSize()):1,F=new Q().scale(O).translate(z.getPoint().negate());R=y}else y instanceof He&&(A&&z.setSize(A),R=y._item);if(R){if(k(M,"overflow",E)!=="visible"){var D=new Te.Rectangle(z);D.setClipMask(!0),R.addChild(D)}F&&R.transform(F)}}});function k(y,b,T){var M=y.attributes[b],E=M&&M.value;if(!E&&y.style){var z=g.camelize(b);E=y.style[z],!E&&T.node[z]!==T.parent[z]&&(E=T.node[z])}return E?E==="none"?null:E:o}function I(y,b,T){var M=b.parentNode,E={node:Ve.getStyles(b)||{},parent:!T&&!/^defs$/i.test(M.tagName)&&Ve.getStyles(M)||{}};return g.each(S,function(z,A){var R=k(b,A,E);y=R!==o&&z(y,R,A,b,E)||y}),y}function P(y){var b=y&&y.match(/\((?:["'#]*)([^"')]+)/),T=b&&b[1],M=T&&e[d?T.replace(d.location.href.split("#")[0]+"#",""):T];return M&&M._scaleToBounds&&(M=M.clone(),M._scaleToBounds=!0),M}function x(y,b,T){var M=y.nodeName.toLowerCase(),E=M!=="#document",z=C.body,A,R,F;T&&E&&(t=r.getView().getSize(),t=u(y,null,null,!0)||t,A=gt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),R=y.parentNode,F=y.nextSibling,A.appendChild(y),z.appendChild(A));var O=r.settings,D=O.applyMatrix,B=O.insertItems;O.applyMatrix=!1,O.insertItems=!1;var V=m[M],U=V&&V(y,M,b,T)||null;if(O.insertItems=B,O.applyMatrix=D,U){E&&!(U instanceof pe)&&(U=I(U,y,T));var W=b.onImport,$=E&&y.getAttribute("data-paper-data");W&&(U=W(y,U,b)||U),b.expandShapes&&U instanceof Te&&(U.remove(),U=U.toPath()),$&&(U._data=JSON.parse($))}return A&&(z.removeChild(A),R&&(F?R.insertBefore(y,F):R.appendChild(y))),T&&(e={},U&&g.pick(b.applyMatrix,D)&&U.matrix.apply(!0,!0)),U}function w(y,b,T){if(!y)return null;b=typeof b=="function"?{onLoad:b}:b||{};var M=r,E=null;function z(O){try{var D=typeof O=="object"?O:new s.DOMParser().parseFromString(O.trim(),"image/svg+xml");if(!D.nodeName)throw D=null,new Error("Unsupported SVG source: "+y);r=M,E=x(D,b,!0),(!b||b.insert!==!1)&&T._insertItem(o,E);var B=b.onLoad;B&&B(E,O)}catch(V){A(V)}}function A(O,D){var B=b.onError;if(B)B(O,D);else throw new Error(O)}if(typeof y=="string"&&!/^[\s\S]*</.test(y)){var R=C.getElementById(y);R?z(R):Ct.request({url:y,async:!0,onLoad:z,onError:A})}else if(typeof File!="undefined"&&y instanceof File){var F=new FileReader;return F.onload=function(){z(F.result)},F.onerror=function(){A(F.error)},F.readAsText(y)}else z(y);return E}ae.inject({importSVG:function(y,b){return w(y,b,this)}}),we.inject({importSVG:function(y,b){return this.activate(),w(y,b,this)}})},g.exports.PaperScript=function(){var e=this,t=e.acorn;if(!t&&typeof _g!="undefined")try{t=require("acorn")}catch(I){}if(!t){var i,a;t=i=a={},function(I,P){if(typeof i=="object"&&typeof a=="object")return P(i);if(typeof o=="function"&&o.amd)return o(["exports"],P);P(I.acorn||(I.acorn={}))}(this,function(I){I.version="0.5.0";var P,x,w,y;I.parse=function(G,X){return x=String(G),w=x.length,T(X),Gl(),sg(P.program)};var b=I.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function T(G){P=G||{};for(var X in b)Object.prototype.hasOwnProperty.call(P,X)||(P[X]=b[X]);y=P.sourceFile||null}var M=I.getLineInfo=function(G,X){for(var oe=1,ve=0;;){Gi.lastIndex=ve;var Ne=Gi.exec(G);if(Ne&&Ne.index<X)++oe,ve=Ne.index+Ne[0].length;else break}return{line:oe,column:X-ve}};I.tokenize=function(G,X){x=String(G),w=x.length,T(X),Gl();var oe={};function ve(Ne){return $=A,Ti(Ne),oe.start=z,oe.end=A,oe.startLoc=R,oe.endLoc=F,oe.type=O,oe.value=D,oe}return ve.jumpTo=function(Ne,Fe){if(E=Ne,P.locations){V=1,U=Gi.lastIndex=0;for(var De;(De=Gi.exec(x))&&De.index<Ne;)++V,U=De.index+De[0].length}B=Fe,Qi()},ve};var E,z,A,R,F,O,D,B,V,U,W,$,re,le,he,te;function ie(G,X){var oe=M(x,G);X+=" ("+oe.line+":"+oe.column+")";var ve=new SyntaxError(X);throw ve.pos=G,ve.loc=oe,ve.raisedAt=E,ve}var fe=[],ce={type:"num"},me={type:"regexp"},Se={type:"string"},xe={type:"name"},Pe={type:"eof"},ke={keyword:"break"},ze={keyword:"case",beforeExpr:!0},Ge={keyword:"catch"},Xe={keyword:"continue"},Qe={keyword:"debugger"},Le={keyword:"default"},Re={keyword:"do",isLoop:!0},$e={keyword:"else",beforeExpr:!0},rt={keyword:"finally"},ut={keyword:"for",isLoop:!0},At={keyword:"function"},Bt={keyword:"if"},Tt={keyword:"return",beforeExpr:!0},pt={keyword:"switch"},ft={keyword:"throw",beforeExpr:!0},Nt={keyword:"try"},qt={keyword:"var"},ln={keyword:"while",isLoop:!0},Cs={keyword:"with"},Ol={keyword:"new",beforeExpr:!0},Ll={keyword:"this"},Rl={keyword:"null",atomValue:null},Fl={keyword:"true",atomValue:!0},Dl={keyword:"false",atomValue:!1},xs={keyword:"in",binop:7,beforeExpr:!0},nu={break:ke,case:ze,catch:Ge,continue:Xe,debugger:Qe,default:Le,do:Re,else:$e,finally:rt,for:ut,function:At,if:Bt,return:Tt,switch:pt,throw:ft,try:Nt,var:qt,while:ln,with:Cs,null:Rl,true:Fl,false:Dl,new:Ol,in:xs,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Ll,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},bs={type:"[",beforeExpr:!0},Ps={type:"]"},Wi={type:"{",beforeExpr:!0},Pi={type:"}"},Nn={type:"(",beforeExpr:!0},xn={type:")"},Un={type:",",beforeExpr:!0},On={type:";",beforeExpr:!0},Zi={type:":",beforeExpr:!0},iu={type:"."},ru={type:"?",beforeExpr:!0},su={binop:10,beforeExpr:!0},au={isAssign:!0,beforeExpr:!0},ki={isAssign:!0,beforeExpr:!0},Ad={postfix:!0,prefix:!0,isUpdate:!0},Bl={prefix:!0,beforeExpr:!0},Vl={binop:1,beforeExpr:!0},Ul={binop:2,beforeExpr:!0},Nd={binop:3,beforeExpr:!0},Od={binop:4,beforeExpr:!0},Ld={binop:5,beforeExpr:!0},Rd={binop:6,beforeExpr:!0},Fd={binop:7,beforeExpr:!0},Dd={binop:8,beforeExpr:!0},Bd={binop:9,prefix:!0,beforeExpr:!0},Vd={binop:10,beforeExpr:!0};I.tokTypes={bracketL:bs,bracketR:Ps,braceL:Wi,braceR:Pi,parenL:Nn,parenR:xn,comma:Un,semi:On,colon:Zi,dot:iu,question:ru,slash:su,eq:au,name:xe,eof:Pe,num:ce,regexp:me,string:Se};for(var Hl in nu)I.tokTypes["_"+Hl]=nu[Hl];function kr(G){G=G.split(" ");var X="",oe=[];e:for(var ve=0;ve<G.length;++ve){for(var Ne=0;Ne<oe.length;++Ne)if(oe[Ne][0].length==G[ve].length){oe[Ne].push(G[ve]);continue e}oe.push([G[ve]])}function Fe(st){if(st.length==1)return X+="return str === "+JSON.stringify(st[0])+";";X+="switch(str){";for(var Pn=0;Pn<st.length;++Pn)X+="case "+JSON.stringify(st[Pn])+":";X+="return true}return false;"}if(oe.length>3){oe.sort(function(st,Pn){return Pn.length-st.length}),X+="switch(str.length){";for(var ve=0;ve<oe.length;++ve){var De=oe[ve];X+="case "+De[0].length+":",Fe(De)}X+="}"}else Fe(G);return new Function("str",X)}var Ud=kr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Hd=kr("class enum extends super const export import"),jl=kr("implements interface let package private protected public static yield"),ks=kr("eval arguments"),jd=kr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),qd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ql="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Wd="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Wl=new RegExp("["+ql+"]"),Zd=new RegExp("["+ql+Wd+"]"),Is=/[\n\r\u2028\u2029]/,Gi=/\r\n|[\n\r\u2028\u2029]/g,Ts=I.isIdentifierStart=function(G){return G<65?G===36:G<91?!0:G<97?G===95:G<123?!0:G>=170&&Wl.test(String.fromCharCode(G))},Zl=I.isIdentifierChar=function(G){return G<48?G===36:G<58?!0:G<65?!1:G<91?!0:G<97?G===95:G<123?!0:G>=170&&Zd.test(String.fromCharCode(G))};function Ii(){this.line=V,this.column=E-U}function Gl(){V=1,E=U=0,B=!0,Qi()}function Ot(G,X){A=E,P.locations&&(F=new Ii),O=G,Qi(),D=X,B=G.beforeExpr}function Gd(){var G=P.onComment&&P.locations&&new Ii,X=E,oe=x.indexOf("*/",E+=2);if(oe===-1&&ie(E-2,"Unterminated comment"),E=oe+2,P.locations){Gi.lastIndex=X;for(var ve;(ve=Gi.exec(x))&&ve.index<E;)++V,U=ve.index+ve[0].length}P.onComment&&P.onComment(!0,x.slice(X+2,oe),X,E,G,P.locations&&new Ii)}function uu(){for(var G=E,X=P.onComment&&P.locations&&new Ii,oe=x.charCodeAt(E+=2);E<w&&oe!==10&&oe!==13&&oe!==8232&&oe!==8233;)++E,oe=x.charCodeAt(E);P.onComment&&P.onComment(!1,x.slice(G+2,E),G,E,X,P.locations&&new Ii)}function Qi(){for(;E<w;){var G=x.charCodeAt(E);if(G===32)++E;else if(G===13){++E;var X=x.charCodeAt(E);X===10&&++E,P.locations&&(++V,U=E)}else if(G===10||G===8232||G===8233)++E,P.locations&&(++V,U=E);else if(G>8&&G<14)++E;else if(G===47){var X=x.charCodeAt(E+1);if(X===42)Gd();else if(X===47)uu();else break}else if(G===160)++E;else if(G>=5760&&qd.test(String.fromCharCode(G)))++E;else break}}function Qd(){var G=x.charCodeAt(E+1);return G>=48&&G<=57?Kl(!0):(++E,Ot(iu))}function Kd(){var G=x.charCodeAt(E+1);return B?(++E,Ql()):G===61?Lt(ki,2):Lt(su,1)}function Jd(){var G=x.charCodeAt(E+1);return G===61?Lt(ki,2):Lt(Vd,1)}function Yd(G){var X=x.charCodeAt(E+1);return X===G?Lt(G===124?Vl:Ul,2):X===61?Lt(ki,2):Lt(G===124?Nd:Ld,1)}function Xd(){var G=x.charCodeAt(E+1);return G===61?Lt(ki,2):Lt(Od,1)}function $d(G){var X=x.charCodeAt(E+1);return X===G?X==45&&x.charCodeAt(E+2)==62&&Is.test(x.slice($,E))?(E+=3,uu(),Qi(),Ti()):Lt(Ad,2):X===61?Lt(ki,2):Lt(Bd,1)}function eg(G){var X=x.charCodeAt(E+1),oe=1;return X===G?(oe=G===62&&x.charCodeAt(E+2)===62?3:2,x.charCodeAt(E+oe)===61?Lt(ki,oe+1):Lt(Dd,oe)):X==33&&G==60&&x.charCodeAt(E+2)==45&&x.charCodeAt(E+3)==45?(E+=4,uu(),Qi(),Ti()):(X===61&&(oe=x.charCodeAt(E+2)===61?3:2),Lt(Fd,oe))}function tg(G){var X=x.charCodeAt(E+1);return X===61?Lt(Rd,x.charCodeAt(E+2)===61?3:2):Lt(G===61?au:Bl,1)}function ng(G){switch(G){case 46:return Qd();case 40:return++E,Ot(Nn);case 41:return++E,Ot(xn);case 59:return++E,Ot(On);case 44:return++E,Ot(Un);case 91:return++E,Ot(bs);case 93:return++E,Ot(Ps);case 123:return++E,Ot(Wi);case 125:return++E,Ot(Pi);case 58:return++E,Ot(Zi);case 63:return++E,Ot(ru);case 48:var X=x.charCodeAt(E+1);if(X===120||X===88)return ig();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Kl(!1);case 34:case 39:return rg(G);case 47:return Kd();case 37:case 42:return Jd();case 124:case 38:return Yd(G);case 94:return Xd();case 43:case 45:return $d(G);case 60:case 62:return eg(G);case 61:case 33:return tg(G);case 126:return Lt(Bl,1)}return!1}function Ti(G){if(G?E=z+1:z=E,P.locations&&(R=new Ii),G)return Ql();if(E>=w)return Ot(Pe);var X=x.charCodeAt(E);if(Ts(X)||X===92)return Yl();var oe=ng(X);if(oe===!1){var ve=String.fromCharCode(X);if(ve==="\\"||Wl.test(ve))return Yl();ie(E,"Unexpected character '"+ve+"'")}return oe}function Lt(G,X){var oe=x.slice(E,E+X);E+=X,Ot(G,oe)}function Ql(){for(var Ne="",G,X,oe=E;;){E>=w&&ie(oe,"Unterminated regular expression");var ve=x.charAt(E);if(Is.test(ve)&&ie(oe,"Unterminated regular expression"),G)G=!1;else{if(ve==="[")X=!0;else if(ve==="]"&&X)X=!1;else if(ve==="/"&&!X)break;G=ve==="\\"}++E}var Ne=x.slice(oe,E);++E;var Fe=Jl();Fe&&!/^[gmsiy]*$/.test(Fe)&&ie(oe,"Invalid regexp flag");try{var De=new RegExp(Ne,Fe)}catch(st){st instanceof SyntaxError&&ie(oe,st.message),ie(st)}return Ot(me,De)}function Ir(G,X){for(var oe=E,ve=0,Ne=0,Fe=X==null?1/0:X;Ne<Fe;++Ne){var De=x.charCodeAt(E),st;if(De>=97?st=De-97+10:De>=65?st=De-65+10:De>=48&&De<=57?st=De-48:st=1/0,st>=G)break;++E,ve=ve*G+st}return E===oe||X!=null&&E-oe!==X?null:ve}function ig(){E+=2;var G=Ir(16);return G==null&&ie(z+2,"Expected hexadecimal number"),Ts(x.charCodeAt(E))&&ie(E,"Identifier directly after number"),Ot(ce,G)}function Kl(G){var X=E,oe=!1,ve=x.charCodeAt(E)===48;!G&&Ir(10)===null&&ie(X,"Invalid number"),x.charCodeAt(E)===46&&(++E,Ir(10),oe=!0);var Ne=x.charCodeAt(E);(Ne===69||Ne===101)&&(Ne=x.charCodeAt(++E),(Ne===43||Ne===45)&&++E,Ir(10)===null&&ie(X,"Invalid number"),oe=!0),Ts(x.charCodeAt(E))&&ie(E,"Identifier directly after number");var Fe=x.slice(X,E),De;return oe?De=parseFloat(Fe):!ve||Fe.length===1?De=parseInt(Fe,10):/[89]/.test(Fe)||te?ie(X,"Invalid number"):De=parseInt(Fe,8),Ot(ce,De)}function rg(G){E++;for(var X="";;){E>=w&&ie(z,"Unterminated string constant");var oe=x.charCodeAt(E);if(oe===G)return++E,Ot(Se,X);if(oe===92){oe=x.charCodeAt(++E);var ve=/^[0-7]+/.exec(x.slice(E,E+3));for(ve&&(ve=ve[0]);ve&&parseInt(ve,8)>255;)ve=ve.slice(0,-1);if(ve==="0"&&(ve=null),++E,ve)te&&ie(E-2,"Octal literal in strict mode"),X+=String.fromCharCode(parseInt(ve,8)),E+=ve.length-1;else switch(oe){case 110:X+=`
`;break;case 114:X+="\r";break;case 120:X+=String.fromCharCode(Es(2));break;case 117:X+=String.fromCharCode(Es(4));break;case 85:X+=String.fromCharCode(Es(8));break;case 116:X+="	";break;case 98:X+="\b";break;case 118:X+="\v";break;case 102:X+="\f";break;case 48:X+="\0";break;case 13:x.charCodeAt(E)===10&&++E;case 10:P.locations&&(U=E,++V);break;default:X+=String.fromCharCode(oe);break}}else(oe===13||oe===10||oe===8232||oe===8233)&&ie(z,"Unterminated string constant"),X+=String.fromCharCode(oe),++E}}function Es(G){var X=Ir(16,G);return X===null&&ie(z,"Bad character escape sequence"),X}var Ki;function Jl(){Ki=!1;for(var G,X=!0,oe=E;;){var ve=x.charCodeAt(E);if(Zl(ve))Ki&&(G+=x.charAt(E)),++E;else if(ve===92){Ki||(G=x.slice(oe,E)),Ki=!0,x.charCodeAt(++E)!=117&&ie(E,"Expecting Unicode escape sequence \\uXXXX"),++E;var Ne=Es(4),Fe=String.fromCharCode(Ne);Fe||ie(E-1,"Invalid Unicode escape"),(X?Ts(Ne):Zl(Ne))||ie(E-4,"Invalid Unicode escape"),G+=Fe}else break;X=!1}return Ki?G:x.slice(oe,E)}function Yl(){var G=Jl(),X=xe;return!Ki&&jd(G)&&(X=nu[G]),Ot(X,G)}function et(){W=z,$=A,re=F,Ti()}function ou(G){if(te=G,E=z,P.locations)for(;E<U;)U=x.lastIndexOf(`
`,U-2)+1,--V;Qi(),Ti()}function Xl(){this.type=null,this.start=z,this.end=null}function $l(){this.start=R,this.end=null,y!==null&&(this.source=y)}function Vt(){var G=new Xl;return P.locations&&(G.loc=new $l),P.directSourceFile&&(G.sourceFile=P.directSourceFile),P.ranges&&(G.range=[z,0]),G}function $n(G){var X=new Xl;return X.start=G.start,P.locations&&(X.loc=new $l,X.loc.start=G.loc.start),P.ranges&&(X.range=[G.range[0],0]),X}function Ue(G,X){return G.type=X,G.end=$,P.locations&&(G.loc.end=re),P.ranges&&(G.range[1]=$),G}function lu(G){return P.ecmaVersion>=5&&G.type==="ExpressionStatement"&&G.expression.type==="Literal"&&G.expression.value==="use strict"}function mt(G){if(O===G)return et(),!0}function Ms(){return!P.strictSemicolons&&(O===Pe||O===Pi||Is.test(x.slice($,z)))}function Ei(){!mt(On)&&!Ms()&&Hn()}function Pt(G){O===G?et():Hn()}function Hn(){ie(z,"Unexpected token")}function zs(G){G.type!=="Identifier"&&G.type!=="MemberExpression"&&ie(G.start,"Assigning to rvalue"),te&&G.type==="Identifier"&&ks(G.name)&&ie(G.start,"Assigning to "+G.name+" in strict mode")}function sg(G){W=$=E,P.locations&&(re=new Ii),le=te=null,he=[],Ti();var X=G||Vt(),oe=!0;for(G||(X.body=[]);O!==Pe;){var ve=bn();X.body.push(ve),oe&&lu(ve)&&ou(!0),oe=!1}return Ue(X,"Program")}var hu={kind:"loop"},ag={kind:"switch"};function bn(){(O===su||O===ki&&D=="/=")&&Ti(!0);var G=O,X=Vt();switch(G){case ke:case Xe:et();var oe=G===ke;mt(On)||Ms()?X.label=null:O!==xe?Hn():(X.label=ei(),Ei());for(var ve=0;ve<he.length;++ve){var Ne=he[ve];if((X.label==null||Ne.name===X.label.name)&&(Ne.kind!=null&&(oe||Ne.kind==="loop")||X.label&&oe))break}return ve===he.length&&ie(X.start,"Unsyntactic "+G.keyword),Ue(X,oe?"BreakStatement":"ContinueStatement");case Qe:return et(),Ei(),Ue(X,"DebuggerStatement");case Re:return et(),he.push(hu),X.body=bn(),he.pop(),Pt(ln),X.test=Tr(),Ei(),Ue(X,"DoWhileStatement");case ut:if(et(),he.push(hu),Pt(Nn),O===On)return fu(X,null);if(O===qt){var Fe=Vt();return et(),th(Fe,!0),Ue(Fe,"VariableDeclaration"),Fe.declarations.length===1&&mt(xs)?eh(X,Fe):fu(X,Fe)}var Fe=Wt(!1,!0);return mt(xs)?(zs(Fe),eh(X,Fe)):fu(X,Fe);case At:return et(),vu(X,!0);case Bt:return et(),X.test=Tr(),X.consequent=bn(),X.alternate=mt($e)?bn():null,Ue(X,"IfStatement");case Tt:return!le&&!P.allowReturnOutsideFunction&&ie(z,"'return' outside of function"),et(),mt(On)||Ms()?X.argument=null:(X.argument=Wt(),Ei()),Ue(X,"ReturnStatement");case pt:et(),X.discriminant=Tr(),X.cases=[],Pt(Wi),he.push(ag);for(var De,st;O!=Pi;)if(O===ze||O===Le){var Pn=O===ze;De&&Ue(De,"SwitchCase"),X.cases.push(De=Vt()),De.consequent=[],et(),Pn?De.test=Wt():(st&&ie(W,"Multiple default clauses"),st=!0,De.test=null),Pt(Zi)}else De||Hn(),De.consequent.push(bn());return De&&Ue(De,"SwitchCase"),et(),he.pop(),Ue(X,"SwitchStatement");case ft:return et(),Is.test(x.slice($,z))&&ie($,"Illegal newline after throw"),X.argument=Wt(),Ei(),Ue(X,"ThrowStatement");case Nt:if(et(),X.block=Er(),X.handler=null,O===Ge){var Mi=Vt();et(),Pt(Nn),Mi.param=ei(),te&&ks(Mi.param.name)&&ie(Mi.param.start,"Binding "+Mi.param.name+" in strict mode"),Pt(xn),Mi.guard=null,Mi.body=Er(),X.handler=Ue(Mi,"CatchClause")}return X.guardedHandlers=fe,X.finalizer=mt(rt)?Er():null,!X.handler&&!X.finalizer&&ie(X.start,"Missing catch or finally clause"),Ue(X,"TryStatement");case qt:return et(),th(X),Ei(),Ue(X,"VariableDeclaration");case ln:return et(),X.test=Tr(),he.push(hu),X.body=bn(),he.pop(),Ue(X,"WhileStatement");case Cs:return te&&ie(z,"'with' in strict mode"),et(),X.object=Tr(),X.body=bn(),Ue(X,"WithStatement");case Wi:return Er();case On:return et(),Ue(X,"EmptyStatement");default:var mu=D,As=Wt();if(G===xe&&As.type==="Identifier"&&mt(Zi)){for(var ve=0;ve<he.length;++ve)he[ve].name===mu&&ie(As.start,"Label '"+mu+"' is already declared");var cg=O.isLoop?"loop":O===pt?"switch":null;return he.push({name:mu,kind:cg}),X.body=bn(),he.pop(),X.label=As,Ue(X,"LabeledStatement")}else return X.expression=As,Ei(),Ue(X,"ExpressionStatement")}}function Tr(){Pt(Nn);var G=Wt();return Pt(xn),G}function Er(G){var X=Vt(),oe=!0,ve=!1,Ne;for(X.body=[],Pt(Wi);!mt(Pi);){var Fe=bn();X.body.push(Fe),oe&&G&&lu(Fe)&&(Ne=ve,ou(ve=!0)),oe=!1}return ve&&!Ne&&ou(!1),Ue(X,"BlockStatement")}function fu(G,X){return G.init=X,Pt(On),G.test=O===On?null:Wt(),Pt(On),G.update=O===xn?null:Wt(),Pt(xn),G.body=bn(),he.pop(),Ue(G,"ForStatement")}function eh(G,X){return G.left=X,G.right=Wt(),Pt(xn),G.body=bn(),he.pop(),Ue(G,"ForInStatement")}function th(G,X){for(G.declarations=[],G.kind="var";;){var oe=Vt();if(oe.id=ei(),te&&ks(oe.id.name)&&ie(oe.id.start,"Binding "+oe.id.name+" in strict mode"),oe.init=mt(au)?Wt(!0,X):null,G.declarations.push(Ue(oe,"VariableDeclarator")),!mt(Un))break}return G}function Wt(G,X){var oe=cu(X);if(!G&&O===Un){var ve=$n(oe);for(ve.expressions=[oe];mt(Un);)ve.expressions.push(cu(X));return Ue(ve,"SequenceExpression")}return oe}function cu(G){var X=ug(G);if(O.isAssign){var oe=$n(X);return oe.operator=D,oe.left=X,et(),oe.right=cu(G),zs(X),Ue(oe,"AssignmentExpression")}return X}function ug(G){var X=og(G);if(mt(ru)){var oe=$n(X);return oe.test=X,oe.consequent=Wt(!0),Pt(Zi),oe.alternate=Wt(!0,G),Ue(oe,"ConditionalExpression")}return X}function og(G){return du(gu(),-1,G)}function du(G,X,oe){var ve=O.binop;if(ve!=null&&(!oe||O!==xs)&&ve>X){var Ne=$n(G);Ne.left=G,Ne.operator=D;var Fe=O;et(),Ne.right=du(gu(),ve,oe);var De=Ue(Ne,Fe===Vl||Fe===Ul?"LogicalExpression":"BinaryExpression");return du(De,X,oe)}return G}function gu(){if(O.prefix){var G=Vt(),X=O.isUpdate;return G.operator=D,G.prefix=!0,B=!0,et(),G.argument=gu(),X?zs(G.argument):te&&G.operator==="delete"&&G.argument.type==="Identifier"&&ie(G.start,"Deleting local variable in strict mode"),Ue(G,X?"UpdateExpression":"UnaryExpression")}for(var oe=lg();O.postfix&&!Ms();){var G=$n(oe);G.operator=D,G.prefix=!1,G.argument=oe,zs(oe),et(),oe=Ue(G,"UpdateExpression")}return oe}function lg(){return Mr(_u())}function Mr(G,X){if(mt(iu)){var oe=$n(G);return oe.object=G,oe.property=ei(!0),oe.computed=!1,Mr(Ue(oe,"MemberExpression"),X)}else if(mt(bs)){var oe=$n(G);return oe.object=G,oe.property=Wt(),oe.computed=!0,Pt(Ps),Mr(Ue(oe,"MemberExpression"),X)}else if(!X&&mt(Nn)){var oe=$n(G);return oe.callee=G,oe.arguments=pu(xn,!1),Mr(Ue(oe,"CallExpression"),X)}else return G}function _u(){switch(O){case Ll:var ve=Vt();return et(),Ue(ve,"ThisExpression");case xe:return ei();case ce:case Se:case me:var ve=Vt();return ve.value=D,ve.raw=x.slice(z,A),et(),Ue(ve,"Literal");case Rl:case Fl:case Dl:var ve=Vt();return ve.value=O.atomValue,ve.raw=O.keyword,et(),Ue(ve,"Literal");case Nn:var G=R,X=z;et();var oe=Wt();return oe.start=X,oe.end=A,P.locations&&(oe.loc.start=G,oe.loc.end=F),P.ranges&&(oe.range=[X,A]),Pt(xn),oe;case bs:var ve=Vt();return et(),ve.elements=pu(Ps,!0,!0),Ue(ve,"ArrayExpression");case Wi:return fg();case At:var ve=Vt();return et(),vu(ve,!1);case Ol:return hg();default:Hn()}}function hg(){var G=Vt();return et(),G.callee=Mr(_u(),!0),mt(Nn)?G.arguments=pu(xn,!1):G.arguments=fe,Ue(G,"NewExpression")}function fg(){var G=Vt(),X=!0,oe=!1;for(G.properties=[],et();!mt(Pi);){if(X)X=!1;else if(Pt(Un),P.allowTrailingCommas&&mt(Pi))break;var ve={key:nh()},Ne=!1,Fe;if(mt(Zi)?(ve.value=Wt(!0),Fe=ve.kind="init"):P.ecmaVersion>=5&&ve.key.type==="Identifier"&&(ve.key.name==="get"||ve.key.name==="set")?(Ne=oe=!0,Fe=ve.kind=ve.key.name,ve.key=nh(),O!==Nn&&Hn(),ve.value=vu(Vt(),!1)):Hn(),ve.key.type==="Identifier"&&(te||oe))for(var De=0;De<G.properties.length;++De){var st=G.properties[De];if(st.key.name===ve.key.name){var Pn=Fe==st.kind||Ne&&st.kind==="init"||Fe==="init"&&(st.kind==="get"||st.kind==="set");Pn&&!te&&Fe==="init"&&st.kind==="init"&&(Pn=!1),Pn&&ie(ve.key.start,"Redefinition of property")}}G.properties.push(ve)}return Ue(G,"ObjectExpression")}function nh(){return O===ce||O===Se?_u():ei(!0)}function vu(G,X){O===xe?G.id=ei():X?Hn():G.id=null,G.params=[];var oe=!0;for(Pt(Nn);!mt(xn);)oe?oe=!1:Pt(Un),G.params.push(ei());var ve=le,Ne=he;if(le=!0,he=[],G.body=Er(!0),le=ve,he=Ne,te||G.body.body.length&&lu(G.body.body[0]))for(var Fe=G.id?-1:0;Fe<G.params.length;++Fe){var De=Fe<0?G.id:G.params[Fe];if((jl(De.name)||ks(De.name))&&ie(De.start,"Defining '"+De.name+"' in strict mode"),Fe>=0)for(var st=0;st<Fe;++st)De.name===G.params[st].name&&ie(De.start,"Argument name clash in strict mode")}return Ue(G,X?"FunctionDeclaration":"FunctionExpression")}function pu(G,X,oe){for(var ve=[],Ne=!0;!mt(G);){if(Ne)Ne=!1;else if(Pt(Un),X&&P.allowTrailingCommas&&mt(G))break;oe&&O===Un?ve.push(null):ve.push(Wt(!0))}return ve}function ei(G){var X=Vt();return G&&P.forbidReserved=="everywhere"&&(G=!1),O===xe?(!G&&(P.forbidReserved&&(P.ecmaVersion===3?Ud:Hd)(D)||te&&jl(D))&&x.slice(z,A).indexOf("\\")==-1&&ie(z,"The keyword '"+D+"' is reserved"),X.name=D):G&&O.keyword?X.name=O.keyword:Hn(),B=!1,et(),Ue(X,"Identifier")}}),t.version||(t=null)}function u(I,P){return(e.acorn||t).parse(I,P)}var l={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},f=g.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(I){this["__"+I]="#"+I},{__self:function(){return this}});N.inject(f),J.inject(f),Oe.inject(f);function c(I,P,x){var w=l[P];if(I&&I[w]){var y=I[w](x);return P==="!="?!y:y}switch(P){case"+":return I+x;case"-":return I-x;case"*":return I*x;case"/":return I/x;case"%":return I%x;case"==":return I==x;case"!=":return I!=x}}function _(I,P){var x=h[I];if(P&&P[x])return P[x]();switch(I){case"+":return+P;case"-":return-P}}function m(I,P){if(!I)return"";P=P||{};var x=[];function w(te){for(var ie=0,fe=x.length;ie<fe;ie++){var ce=x[ie];if(ce[0]>=te)break;te+=ce[1]}return te}function y(te){return I.substring(w(te.range[0]),w(te.range[1]))}function b(te,ie){return I.substring(w(te.range[1]),w(ie.range[0]))}function T(te,ie){for(var fe=w(te.range[0]),ce=w(te.range[1]),me=0,Se=x.length-1;Se>=0;Se--)if(fe>x[Se][0]){me=Se+1;break}x.splice(me,0,[fe,ie.length-ce+fe]),I=I.substring(0,fe)+ie+I.substring(ce)}function M(te,ie){switch(te.type){case"UnaryExpression":if(te.operator in h&&te.argument.type!=="Literal"){var fe=y(te.argument);T(te,'$__("'+te.operator+'", '+fe+")")}break;case"BinaryExpression":if(te.operator in l&&te.left.type!=="Literal"){var ce=y(te.left),me=y(te.right),Se=b(te.left,te.right),xe=te.operator;T(te,"__$__("+ce+","+Se.replace(new RegExp("\\"+xe),'"'+xe+'"')+", "+me+")")}break;case"UpdateExpression":case"AssignmentExpression":var Pe=ie&&ie.type;if(!(Pe==="ForStatement"||Pe==="BinaryExpression"&&/^[=!<>]/.test(ie.operator)||Pe==="MemberExpression"&&ie.computed)){if(te.type==="UpdateExpression"){var fe=y(te.argument),ke="__$__("+fe+', "'+te.operator[0]+'", 1)',ze=fe+" = "+ke;te.prefix?ze="("+ze+")":(Pe==="AssignmentExpression"||Pe==="VariableDeclarator"||Pe==="BinaryExpression")&&(y(ie.left||ie.id)===fe&&(ze=ke),ze=fe+"; "+ze),T(te,ze)}else if(/^.=$/.test(te.operator)&&te.left.type!=="Literal"){var ce=y(te.left),me=y(te.right),ke=ce+" = __$__("+ce+', "'+te.operator[0]+'", '+me+")";T(te,/^\(.*\)$/.test(y(te))?"("+ke+")":ke)}}break}}function E(te){switch(te.type){case"ExportDefaultDeclaration":T({range:[te.start,te.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ie=te.declaration,fe=te.specifiers;if(ie){var ce=ie.declarations;ce&&(ce.forEach(function(Se){T(Se,"module.exports."+y(Se))}),T({range:[te.start,ie.start+ie.kind.length]},""))}else if(fe){var me=fe.map(function(Se){var xe=y(Se);return"module.exports."+xe+" = "+xe+"; "}).join("");me&&T(te,me)}break}}function z(te,ie,fe){if(te){for(var ce in te)if(ce!=="range"&&ce!=="loc"){var me=te[ce];if(Array.isArray(me))for(var Se=0,xe=me.length;Se<xe;Se++)z(me[Se],te,fe);else me&&typeof me=="object"&&z(me,te,fe)}fe.operatorOverloading!==!1&&M(te,ie),fe.moduleExports!==!1&&E(te)}}function A(te){var ie="",fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(te=(Math.abs(te)<<1)+(te<0?1:0);te||!ie;){var ce=te&31;te>>=5,te&&(ce|=32),ie+=fe[ce]}return ie}var R=P.url||"",F=P.sourceMaps,O=P.paperFeatures||{},D=P.source||I,B=P.offset||0,V=r.agent,U=V.versionNumber,W=!1,$=/\r\n|\n|\r/mg,re;if(F&&(V.chrome&&U>=30||V.webkit&&U>=537.76||V.firefox&&U>=23||V.node)){if(V.node)B-=2;else if(d&&R&&!d.location.href.indexOf(R)){var le=C.getElementsByTagName("html")[0].innerHTML;B=le.substr(0,le.indexOf(I)+1).match($).length+1}W=B>0&&!(V.chrome&&U>=36||V.safari&&U>=600||V.firefox&&U>=40||V.node);var he=["AA"+A(W?0:B)+"A"];he.length=(I.match($)||[]).length+1+(W?B:0),re={version:3,file:R,names:[],mappings:he.join(";AACA"),sourceRoot:"",sources:[R],sourcesContent:[D]}}return(O.operatorOverloading!==!1||O.moduleExports!==!1)&&z(u(I,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,O),re&&(W&&(I=new Array(B+1).join(`
`)+I),/^(inline|both)$/.test(F)&&(I+=`
//# sourceMappingURL=data:application/json;base64,`+s.btoa(unescape(encodeURIComponent(JSON.stringify(re))))),I+=`
//# sourceURL=`+(R||"paperscript")),{url:R,source:D,code:I,map:re}}function p(I,P,x){r=P;var w=P.getView(),y=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(I)&&!/\bnew\s+Tool\b/.test(I)?new eu:null,b=y?y._events:[],T=["onFrame","onResize"].concat(b),M=[],E=[],z,A=typeof I=="object"?I:m(I,x);I=A.code;function R(U,W){for(var $ in U)(W||!/^_/.test($))&&new RegExp("([\\b\\s\\W]|^)"+$.replace(/\$/g,"\\$")+"\\b").test(I)&&(M.push($),E.push(U[$]))}R({__$__:c,$__:_,paper:P,tool:y},!0),R(P),I="var module = { exports: {} }; "+I;var B=g.each(T,function(U){new RegExp("\\s+"+U+"\\b").test(I)&&(M.push(U),this.push("module.exports."+U+" = "+U+";"))},[]).join(`
`);B&&(I+=`
`+B),I+=`
return module.exports;`;var F=r.agent;if(C&&(F.chrome||F.firefox&&F.versionNumber<40)){var O=C.createElement("script"),D=C.head||C.getElementsByTagName("head")[0];F.firefox&&(I=`
`+I),O.appendChild(C.createTextNode("document.__paperscript__ = function("+M+") {"+I+`
}`)),D.appendChild(O),z=C.__paperscript__,delete C.__paperscript__,D.removeChild(O)}else z=Function(M,I);var B=z&&z.apply(P,E),V=B||{};return g.each(b,function(U){var W=V[U];W&&(y[U]=W)}),w&&(V.onResize&&w.setOnResize(V.onResize),w.emit("resize",{size:w.size,delta:new N}),V.onFrame&&w.setOnFrame(V.onFrame),w.requestUpdate()),B}function v(I){if(/^text\/(?:x-|)paperscript$/.test(I.type)&&H.getAttribute(I,"ignore")!=="true"){var P=H.getAttribute(I,"canvas"),x=C.getElementById(P),w=I.src||I.getAttribute("data-src"),y=H.hasAttribute(I,"async"),b="data-paper-scope";if(!x)throw new Error('Unable to find canvas with id "'+P+'"');var T=H.get(x.getAttribute(b))||new H().setup(x);return x.setAttribute(b,T._id),w?Ct.request({url:w,async:y,mimeType:"text/plain",onLoad:function(M){p(M,T,w)}}):p(I.innerHTML,T,I.baseURI),I.setAttribute("data-paper-ignore","true"),T}}function S(){g.each(C&&C.getElementsByTagName("script"),v)}function k(I){return I?v(I):S()}return d&&(C.readyState==="complete"?setTimeout(S):je.add(d,{load:S})),{compile:m,execute:p,load:k,parse:u,calculateBinary:c,calculateUnary:_}}.call(this);var r=new(H.inject(g.exports,{Base:g,Numerical:K,Key:Pr,DomEvent:je,DomElement:Ve,document:C,window:d,Symbol:He,PlacedSymbol:Ye}));return r.agent.node&&oa(r),typeof o=="function"&&o.amd?o("paper",r):n&&(n.exports=r),r}).call(_f,typeof self=="object"?self:null)})(If);var Br=If.exports;function it(){return Br}function Yg(n){Br.setup(n);const s=document.getElementById(n),o=new Br.Tool;o.onMouseDown=function(){},o.onMouseDrag=function(d){const C=d.point.subtract(d.downPoint);Br.view.center=Br.view.center.subtract(C)},o.onMouseUp=function(){},s==null||s.addEventListener("mousewheel",function(d){const C=it();let g=C.view.zoom;const L=C.view.zoom;d.deltaY<0?g=C.view.zoom*1.05:g=C.view.zoom*.95;const H=L/g,j=new C.Point(d.offsetX,d.offsetY),ne=C.view.viewToProject(j),K=C.view.center,se=ne.subtract(K),N=ne.subtract(se.multiply(H)).subtract(K);C.view.zoom=g,C.view.center=C.view.center.add(N),d.preventDefault(),C.view.update()})}var la={exports:{}};/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||oa;var d=s.window,C=s.document,g=new function(){var r=/^(statics|enumerable|beans|preserve)$/,e=[],t=e.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(p,v){for(var S=0,k=this.length;S<k;S++)p.call(v,this[S],S,this)},h=function(p,v){for(var S in this)this.hasOwnProperty(S)&&p.call(v,this[S],S,this)},f=Object.assign||function(p){for(var v=1,S=arguments.length;v<S;v++){var k=arguments[v];for(var I in k)k.hasOwnProperty(I)&&(p[I]=k[I])}return p},c=function(p,v,S){if(p){var k=a(p,"length");(k&&typeof k.value=="number"?l:h).call(p,v,S=S||p)}return S};function _(p,v,S,k,I){var P={};function x(M,E){E=E||(E=a(v,M))&&(E.get?E:E.value),typeof E=="string"&&E[0]==="#"&&(E=p[E.substring(1)]||E);var z=typeof E=="function",A=E,R=I||z&&!E.base?E&&E.get?M in p:p[M]:null,F;(!I||!R)&&(z&&R&&(E.base=R),z&&k!==!1&&(F=M.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(P[F[3].toLowerCase()+F[4]]=F[2]),(!A||z||!A.get||typeof A.get!="function"||!m.isPlainObject(A))&&(A={value:A,writable:!0}),(a(p,M)||{configurable:!0}).configurable&&(A.configurable=!0,A.enumerable=S!=null?S:!F),u(p,M,A))}if(v){for(var w in v)v.hasOwnProperty(w)&&!r.test(w)&&x(w);for(var w in P){var y=P[w],b=p["set"+y],T=p["get"+y]||b&&p["is"+y];T&&(k===!0||T.length===0)&&x(w,{get:T,set:b})}}return p}function m(){for(var p=0,v=arguments.length;p<v;p++){var S=arguments[p];S&&f(this,S)}return this}return _(m,{inject:function(p){if(p){var v=p.statics===!0?p:p.statics,S=p.beans,k=p.preserve;v!==p&&_(this.prototype,p,p.enumerable,S,k),_(this,v,null,S,k)}for(var I=1,P=arguments.length;I<P;I++)this.inject(arguments[I]);return this},extend:function(){for(var p=this,v,S,k=0,I,P=arguments.length;k<P&&!(v&&S);k++)I=arguments[k],v=v||I.initialize,S=S||I.prototype;return v=v||function(){p.apply(this,arguments)},S=v.prototype=S||i(this.prototype),u(S,"constructor",{value:v,writable:!0,configurable:!0}),_(v,this),arguments.length&&this.inject.apply(v,arguments),v.base=p,v}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var p=0,v=arguments.length;p<v;p++){var S=arguments[p];S&&_(this,S,S.enumerable,S.beans,S.preserve)}return this},extend:function(){var p=i(this);return p.inject.apply(p,arguments)},each:function(p,v){return c(this,p,v)},clone:function(){return new this.constructor(this)},statics:{set:f,each:c,create:i,define:u,describe:a,clone:function(p){return f(new p.constructor,p)},isPlainObject:function(p){var v=p!=null&&p.constructor;return v&&(v===Object||v===m||v.name==="Object")},pick:function(p,v){return p!==o?p:v},slice:function(p,v,S){return t.call(p,v,S)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(r,e){if(!/^_/.test(e)){var t=typeof r;this.push(e+": "+(t==="number"?ne.instance.number(r):t==="string"?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return g.importJSON(r,this)},exportJSON:function(r){return g.exportJSON(this,r)},toJSON:function(){return g.serialize(this)},set:function(r,e){return r&&g.filter(this,r,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var e=r.base.apply(this,arguments),t=e.prototype._class;return t&&!g.exports[t]&&(g.exports[t]=e),e},equals:function(r,e){if(r===e)return!0;if(r&&r.equals)return r.equals(e);if(e&&e.equals)return e.equals(r);if(r&&e&&typeof r=="object"&&typeof e=="object"){if(Array.isArray(r)&&Array.isArray(e)){var t=r.length;if(t!==e.length)return!1;for(;t--;)if(!g.equals(r[t],e[t]))return!1}else{var i=Object.keys(r),t=i.length;if(t!==Object.keys(e).length)return!1;for(;t--;){var a=i[t];if(!(e.hasOwnProperty(a)&&g.equals(r[a],e[a])))return!1}}return!0}return!1},read:function(r,e,t,i){if(this===g){var a=this.peek(r,e);return r.__index++,a}var u=this.prototype,l=u._readIndex,h=e||l&&r.__index||0,f=r.length,c=r[h];if(i=i||f-h,c instanceof this||t&&t.readNull&&c==null&&i<=1)return l&&(r.__index=h+1),c&&t&&t.clone?c.clone():c;if(c=g.create(u),l&&(c.__read=!0),c=c.initialize.apply(c,h>0||h+i<f?g.slice(r,h,h+i):r)||c,l){r.__index=h+c.__read;var _=c.__filtered;_&&(r.__filtered=_,c.__filtered=o),c.__read=o}return c},peek:function(r,e){return r[r.__index=e||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,e,t,i){for(var a=[],u,l=e||0,h=i?l+i:r.length,f=l;f<h;f++)a.push(Array.isArray(u=r[f])?this.read(u,0,t):this.read(r,f,t,1));return a},readNamed:function(r,e,t,i,a){var u=this.getNamed(r,e),l=u!==o;if(l){var h=r.__filtered;if(!h){var f=this.getSource(r);h=r.__filtered=g.create(f),h.__unfiltered=f}h[e]=o}return this.read(l?[u]:r,t,i,a)},readSupported:function(r,e){var t=this.getSource(r),i=this,a=!1;return t&&Object.keys(t).forEach(function(u){if(u in e){var l=i.readNamed(r,u);l!==o&&(e[u]=l),a=!0}}),a},getSource:function(r){var e=r.__source;if(e===o){var t=r.length===1&&r[0];e=r.__source=t&&g.isPlainObject(t)?t:null}return e},getNamed:function(r,e){var t=this.getSource(r);if(t)return e?t[e]:r.__filtered||t},hasNamed:function(r,e){return!!this.getNamed(r,e)},filter:function(r,e,t,i){var a;function u(_){if(!(t&&_ in t)&&!(a&&_ in a)){var m=e[_];m!==o&&(r[_]=m)}}if(i){for(var l={},h=0,f,c=i.length;h<c;h++)(f=i[h])in e&&(u(f),l[f]=!0);a=l}return Object.keys(e.__unfiltered||e).forEach(u),r},isPlainValue:function(r,e){return g.isPlainObject(r)||Array.isArray(r)||e&&typeof r=="string"},serialize:function(r,e,t,i){e=e||{};var a=!i,u;if(a&&(e.formatter=new ne(e.precision),i={length:0,definitions:{},references:{},add:function(m,p){var v="#"+m._id,S=this.references[v];if(!S){this.length++;var k=p.call(m),I=m._class;I&&k[0]!==I&&k.unshift(I),this.definitions[v]=k,S=this.references[v]=[v]}return S}}),r&&r._serialize){u=r._serialize(e,i);var l=r._class;l&&!r._compactSerialize&&(a||!t)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(r)){u=[];for(var h=0,f=r.length;h<f;h++)u[h]=g.serialize(r[h],e,t,i)}else if(g.isPlainObject(r)){u={};for(var c=Object.keys(r),h=0,f=c.length;h<f;h++){var _=c[h];u[_]=g.serialize(r[_],e,t,i)}}else typeof r=="number"?u=e.formatter.number(r,e.precision):u=r;return a&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(r,e,t,i,a){var u=r,l=!t,h=l&&r&&r.length&&r[0][0]==="dictionary";if(t=t||{},Array.isArray(r)){var f=r[0],c=f==="dictionary";if(r.length==1&&/^#/.test(f))return t.dictionary[f];f=g.exports[f],u=[];for(var _=f?1:0,m=r.length;_<m;_++)u.push(g.deserialize(r[_],e,t,c,h));if(f){var p=u;e?u=e(f,p,l||a):u=new f(p)}}else if(g.isPlainObject(r)){u={},i&&(t.dictionary=u);for(var v in r)u[v]=g.deserialize(r[v],e,t)}return h?u[1]:u},exportJSON:function(r,e){var t=g.serialize(r,e);return e&&e.asString==!1?t:JSON.stringify(t)},importJSON:function(r,e){return g.deserialize(typeof r=="string"?JSON.parse(r):r,function(t,i,a){var u=a&&e&&e.constructor===t,l=u?e:g.create(t.prototype);if(i.length===1&&l instanceof ae&&(u||!(l instanceof be))){var h=i[0];g.isPlainObject(h)&&(h.insert=!1,u&&(i=i.concat([{insert:!0}])))}return(u?l.set:t).apply(l,i),u&&(e=null),l})},push:function(r,e){var t=e.length;if(t<4096)r.push.apply(r,e);else{var i=r.length;r.length+=t;for(var a=0;a<t;a++)r[i+a]=e[a]}return r},splice:function(r,e,t,i){var a=e&&e.length,u=t===o;t=u?r.length:t,t>r.length&&(t=r.length);for(var l=0;l<a;l++)e[l]._index=t+l;if(u)return g.push(r,e),[];var h=[t,i];e&&g.push(h,e);for(var f=r.splice.apply(r,h),l=0,c=f.length;l<c;l++)f[l]._index=o;for(var l=t+a,c=r.length;l<c;l++)r[l]._index=l;return f},capitalize:function(r){return r.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var L={on:function(r,e){if(typeof r!="string")g.each(r,function(u,l){this.on(l,u)},this);else{var t=this._eventTypes,i=t&&t[r],a=this._callbacks=this._callbacks||{};a=a[r]=a[r]||[],a.indexOf(e)===-1&&(a.push(e),i&&i.install&&a.length===1&&i.install.call(this,r))}return this},off:function(r,e){if(typeof r!="string"){g.each(r,function(l,h){this.off(h,l)},this);return}var t=this._eventTypes,i=t&&t[r],a=this._callbacks&&this._callbacks[r],u;return a&&(!e||(u=a.indexOf(e))!==-1&&a.length===1?(i&&i.uninstall&&i.uninstall.call(this,r),delete this._callbacks[r]):u!==-1&&a.splice(u,1)),this},once:function(r,e){return this.on(r,function t(){e.apply(this,arguments),this.off(r,t)})},emit:function(r,e){var t=this._callbacks&&this._callbacks[r];if(!t)return!1;var i=g.slice(arguments,1),a=e&&e.target&&!e.currentTarget;t=t.slice(),a&&(e.currentTarget=this);for(var u=0,l=t.length;u<l;u++)if(t[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return a&&delete e.currentTarget,!0},responds:function(r){return!!(this._callbacks&&this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var e=this._eventTypes,t=this._callbacks,i=r?"install":"uninstall";if(e){for(var a in t)if(t[a].length>0){var u=e[a],l=u&&u[i];l&&l.call(this,a)}}},statics:{inject:function r(e){var t=e._events;if(t){var i={};g.each(t,function(a,u){var l=typeof a=="string",h=l?a:u,f=g.capitalize(h),c=h.substring(2).toLowerCase();i[c]=l?{}:a,h="_"+h,e["get"+f]=function(){return this[h]},e["set"+f]=function(_){var m=this[h];m&&this.off(c,m),_&&this.on(c,_),this[h]=_}}),e._eventTypes=i}return r.base.apply(this,arguments)}}},H=g.extend({_class:"PaperScope",initialize:function r(){qe=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var e=r.prototype;if(!this.support){var t=Ct.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:vt.nativeModes},Ct.release(t)}if(!this.agent){var i=s.navigator.userAgent.toLowerCase(),a=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=a==="darwin"?"mac":a,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,f,c,_,m){if(!l.chrome){var p=f==="opera"?_:/^(node|trident)$/.test(f)?m:c;l.version=p,l.versionNumber=parseFloat(p),f={trident:"msie",jsdom:"node"}[f]||f,l.name=f,l[f]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.15",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,e){},install:function(r){var e=this;g.each(["project","view","tool"],function(i){g.define(r,i,{configurable:!0,get:function(){return e[i]}})});for(var t in this)!/^_/.test(t)&&this[t]&&(r[t]=this[t])},setup:function(r){return qe=this,this.project=new we(r),this},createCanvas:function(r,e){return Ct.getCanvas(r,e)},activate:function(){qe=this},clear:function(){for(var r=this.projects,e=this.tools,t=r.length-1;t>=0;t--)r[t].remove();for(var t=e.length-1;t>=0;t--)e[t].remove()},remove:function(){this.clear(),delete H._scopes[this._id]},statics:new function(){function r(e){return e+="Attribute",function(t,i){return t[e](i)||t[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),j=g.extend(L,{initialize:function(r){this._scope=qe,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Y={findItemBoundsCollisions:function(r,e,t){function i(l){for(var h=new Array(l.length),f=0;f<l.length;f++){var c=l[f].getBounds();h[f]=[c.left,c.top,c.right,c.bottom]}return h}var a=i(r),u=!e||e===r?a:i(e);return this.findBoundsCollisions(a,u,t||0)},findCurveBoundsCollisions:function(r,e,t,i){function a(p){for(var v=Math.min,S=Math.max,k=new Array(p.length),I=0;I<p.length;I++){var P=p[I];k[I]=[v(P[0],P[2],P[4],P[6]),v(P[1],P[3],P[5],P[7]),S(P[0],P[2],P[4],P[6]),S(P[1],P[3],P[5],P[7])]}return k}var u=a(r),l=!e||e===r?u:a(e);if(i){for(var h=this.findBoundsCollisions(u,l,t||0,!1,!0),f=this.findBoundsCollisions(u,l,t||0,!0,!0),c=[],_=0,m=h.length;_<m;_++)c[_]={hor:h[_],ver:f[_]};return c}return this.findBoundsCollisions(u,l,t||0)},findBoundsCollisions:function(r,e,t,i,a){var u=!e||r===e,l=u?r:r.concat(e),h=r.length,f=l.length;function c($,re,le){for(var he=0,te=$.length;he<te;){var ie=te+he>>>1;l[$[ie]][re]<le?he=ie+1:te=ie}return he-1}for(var _=i?1:0,m=_+2,p=i?0:1,v=p+2,S=new Array(f),k=0;k<f;k++)S[k]=k;S.sort(function($,re){return l[$][_]-l[re][_]});for(var I=[],P=new Array(h),k=0;k<f;k++){var x=S[k],w=l[x],y=u?x:x-h,b=x<h,T=u||!b,M=b?[]:null;if(I.length){var E=c(I,m,w[_]-t)+1;if(I.splice(0,E),u&&a){M=M.concat(I);for(var z=0;z<I.length;z++){var A=I[z];P[A].push(y)}}else for(var R=w[v],F=w[p],z=0;z<I.length;z++){var A=I[z],O=l[A],D=A<h,B=u||A>=h;(a||(b&&B||T&&D)&&R>=O[p]-t&&F<=O[v]+t)&&(b&&B&&M.push(u?A:A-h),T&&D&&P[A].push(y))}}if(b&&(r===e&&M.push(x),P[x]=M),I.length){var V=w[m],U=c(I,m,V);I.splice(U+1,0,x)}else I.push(x)}for(var k=0;k<P.length;k++){var W=P[k];W&&W.sort(function(re,le){return re-le})}return P}},ne=g.extend({initialize:function(r){this.precision=g.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,e,t){return this.number(r)+(t||",")+this.number(e)},point:function(r,e){return this.number(r.x)+(e||",")+this.number(r.y)},size:function(r,e){return this.number(r.width)+(e||",")+this.number(r.height)},rectangle:function(r,e){return this.point(r,e)+(e||",")+this.size(r,e)}});ne.instance=new ne;var K=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],t=Math.abs,i=Math.sqrt,a=Math.pow,u=Math.log2||function(m){return Math.log(m)*Math.LOG2E},l=1e-12,h=112e-18;function f(m,p,v){return m<p?p:m>v?v:m}function c(m,p,v){function S(E){var z=E*134217729,A=E-z,R=A+z,F=E-R;return[R,F]}var k=p*p-m*v,I=p*p+m*v;if(t(k)*3<I){var P=S(m),x=S(p),w=S(v),y=p*p,b=x[0]*x[0]-y+2*x[0]*x[1]+x[1]*x[1],T=m*v,M=P[0]*w[0]-T+P[0]*w[1]+P[1]*w[0]+P[1]*w[1];k=y-T+(b-M)}return k}function _(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?a(2,-Math.round(u(m))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(m){return m>=-l&&m<=l},isMachineZero:function(m){return m>=-h&&m<=h},clamp:f,integrate:function(m,p,v,S){for(var k=r[S-2],I=e[S-2],P=(v-p)*.5,x=P+p,w=0,y=S+1>>1,b=S&1?I[w++]*m(x):0;w<y;){var T=P*k[w];b+=I[w++]*(m(x+T)+m(x-T))}return P*b},findRoot:function(m,p,v,S,k,I,P){for(var x=0;x<I;x++){var w=m(v),y=w/p(v),b=v-y;if(t(y)<P){v=b;break}w>0?(k=v,v=b<=S?(S+k)*.5:b):(S=v,v=b>=k?(S+k)*.5:b)}return f(v,S,k)},solveQuadratic:function(m,p,v,S,k,I){var P,x=1/0;if(t(m)<l){if(t(p)<l)return t(v)<l?-1:0;P=-v/p}else{p*=-.5;var w=c(m,p,v);if(w&&t(w)<h){var y=_(t(m),t(p),t(v));y&&(m*=y,p*=y,v*=y,w=c(m,p,v))}if(w>=-h){var b=w<0?0:i(w),T=p+(p<0?-b:b);T===0?(P=v/m,x=-P):(P=T/m,x=v/T)}}var M=0,E=k==null,z=k-l,A=I+l;return isFinite(P)&&(E||P>z&&P<A)&&(S[M++]=E?P:f(P,k,I)),x!==P&&isFinite(x)&&(E||x>z&&x<A)&&(S[M++]=E?x:f(x,k,I)),M},solveCubic:function(m,p,v,S,k,I,P){var x=_(t(m),t(p),t(v),t(S)),w,y,b,T,M;x&&(m*=x,p*=x,v*=x,S*=x);function E(U){w=U;var W=m*w;y=W+p,b=y*w+v,T=(W+y)*w+b,M=b*w+S}if(t(m)<l)m=p,y=v,b=S,w=1/0;else if(t(S)<l)y=p,b=v,w=0;else{E(-(p/m)/3);var z=M/m,A=a(t(z),1/3),R=z<0?-1:1,F=-T/m,O=F>0?1.324717957244746*Math.max(A,i(F)):A,D=w-R*O;if(D!==w){do E(D),D=T===0?w:w-M/T/(1+h);while(R*D>R*w);t(m)*w*w>t(S/w)&&(b=-S/w,y=(b-v)/w)}}var B=K.solveQuadratic(m,y,b,k,I,P),V=I==null;return isFinite(w)&&(B===0||B>0&&w!==k[0]&&w!==k[1])&&(V||w>I-l&&w<P+l)&&(k[B++]=V?w:f(w,I,P)),B}}},se={_id:1,_pools:{},get:function(r){if(r){var e=this._pools[r];return e||(e=this._pools[r]={_id:1}),e._id++}else return this._id++}},N=g.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.x=r,this.y=e,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new N(this.x,this.y)},toString:function(){var r=ne.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*r,Math.sin(e)*r)}else{var t=r/this.getLength();K.isZero(t)&&this.getAngle(),this._set(this.x*t,this.y*t)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=N.read(arguments),e=this.getLength()*r.getLength();if(K.isZero(e))return NaN;var t=this.dot(r)/e;return Math.acos(t<-1?-1:t>1?1:t)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var e=this.getLength();this._set(Math.cos(r)*e,Math.sin(r)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=N.read(arguments);return Math.atan2(this.cross(r),this.dot(r))*180/Math.PI},getDistance:function(){var r=arguments,e=N.read(r),t=e.x-this.x,i=e.y-this.y,a=t*t+i*i,u=g.read(r);return u?a:Math.sqrt(a)},normalize:function(r){r===o&&(r=1);var e=this.getLength(),t=e!==0?r/e:0,i=new N(this.x*t,this.y*t);return t>=0&&(i._angle=this._angle),i},rotate:function(r,e){if(r===0)return this.clone();r=r*Math.PI/180;var t=e?this.subtract(e):this,i=Math.sin(r),a=Math.cos(r);return t=new N(t.x*a-t.y*i,t.x*i+t.y*a),e?t.add(e):t},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=N.read(arguments);return new N(this.x+r.x,this.y+r.y)},subtract:function(){var r=N.read(arguments);return new N(this.x-r.x,this.y-r.y)},multiply:function(){var r=N.read(arguments);return new N(this.x*r.x,this.y*r.y)},divide:function(){var r=N.read(arguments);return new N(this.x/r.x,this.y/r.y)},modulo:function(){var r=N.read(arguments);return new N(this.x%r.x,this.y%r.y)},negate:function(){return new N(-this.x,-this.y)},isInside:function(){return q.read(arguments).contains(this)},isClose:function(){var r=arguments,e=N.read(r),t=g.read(r);return this.getDistance(e)<=t},isCollinear:function(){var r=N.read(arguments);return N.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=N.read(arguments);return N.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=K.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=N.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=N.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=N.read(arguments),e=r.isZero()?0:this.dot(r)/r.dot(r);return new N(r.x*e,r.y*e)},statics:{min:function(){var r=arguments,e=N.read(r),t=N.read(r);return new N(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var r=arguments,e=N.read(r),t=N.read(r);return new N(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new N(Math.random(),Math.random())},isCollinear:function(r,e,t,i){return Math.abs(r*i-e*t)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8},isOrthogonal:function(r,e,t,i){return Math.abs(r*t+e*i)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new N(e(this.x),e(this.y))}},{})),ge=N.extend({initialize:function(e,t,i,a){this._x=e,this._y=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._x=r,this._y=e,t||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),J=g.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.width=r,this.height=e,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new J(this.width,this.height)},toString:function(){var r=ne.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var r=J.read(arguments);return new J(this.width+r.width,this.height+r.height)},subtract:function(){var r=J.read(arguments);return new J(this.width-r.width,this.height-r.height)},multiply:function(){var r=J.read(arguments);return new J(this.width*r.width,this.height*r.height)},divide:function(){var r=J.read(arguments);return new J(this.width/r.width,this.height/r.height)},modulo:function(){var r=J.read(arguments);return new J(this.width%r.width,this.height%r.height)},negate:function(){return new J(-this.width,-this.height)},isZero:function(){var r=K.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,e){return new J(Math.min(r.width,e.width),Math.min(r.height,e.height))},max:function(r,e){return new J(Math.max(r.width,e.width),Math.max(r.height,e.height))},random:function(){return new J(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new J(e(this.width),e(this.height))}},{})),Me=J.extend({initialize:function(e,t,i,a){this._width=e,this._height=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._width=r,this._height=e,t||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),q=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,i,a){var u=arguments,l=typeof e,h;if(l==="number"?(this._set(e,t,i,a),h=4):l==="undefined"||e===null?(this._set(0,0,0,0),h=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),h=1):e.x!==o||e.width!==o?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),h=1):e.from===o&&e.to===o&&(this._set(0,0,0,0),g.readSupported(u,this)&&(h=1))),h===o){var f=N.readNamed(u,"from"),c=g.peek(u),_=f.x,m=f.y,p,v;if(c&&c.x!==o||g.hasNamed(u,"to")){var S=N.readNamed(u,"to");p=S.x-_,v=S.y-m,p<0&&(_=S.x,p=-p),v<0&&(m=S.y,v=-v)}else{var k=J.read(u);p=k.width,v=k.height}this._set(_,m,p,v),h=u.__index}var I=u.__filtered;return I&&(this.__filtered=I),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(r,e,t,i){return this.x=r,this.y=e,this.width=t,this.height=i,this},clone:function(){return new q(this.x,this.y,this.width,this.height)},equals:function(r){var e=g.isPlainValue(r)?q.read(arguments):r;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var r=ne.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(r){var e=r?N:ge;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var r=N.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){var e=r?J:Me;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=J.read(arguments),e=this._sx,t=this._sy,i=r.width,a=r.height;e&&(this.x+=(this.width-i)*e),t&&(this.y+=(this.height-a)*t),this.width=i,this.height=a,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var e=r-this.x;this.width-=this._sx===.5?e*2:e}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var e=r-this.y;this.height-=this._sy===.5?e*2:e}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var e=r-this.x;this.width=this._sx===.5?e*2:e}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var e=r-this.y;this.height=this._sy===.5?e*2:e}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||this._sx===.5?this.x=r-this.width/2:(this._sx&&(this.x+=(r-this.x)*2*this._sx),this.width=(r-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||this._sy===.5?this.y=r-this.height/2:(this._sy&&(this.y+=(r-this.y)*2*this._sy),this.height=(r-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(r){var e=r?N:ge;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=N.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(r){return r&&r.width!==o||(Array.isArray(r)?r:arguments).length===4?this._containsRectangle(q.read(arguments)):this._containsPoint(N.read(arguments))},_containsPoint:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e<=this.x+this.width&&t<=this.y+this.height},_containsRectangle:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e+r.width<=this.x+this.width&&t+r.height<=this.y+this.height},intersects:function(){var r=q.read(arguments),e=g.read(arguments)||0;return r.x+r.width>this.x-e&&r.y+r.height>this.y-e&&r.x<this.x+this.width+e&&r.y<this.y+this.height+e},intersect:function(){var r=q.read(arguments),e=Math.max(this.x,r.x),t=Math.max(this.y,r.y),i=Math.min(this.x+this.width,r.x+r.width),a=Math.min(this.y+this.height,r.y+r.height);return new q(e,t,i-e,a-t)},unite:function(){var r=q.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x+r.width),a=Math.max(this.y+this.height,r.y+r.height);return new q(e,t,i-e,a-t)},include:function(){var r=N.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x),a=Math.max(this.y+this.height,r.y);return new q(e,t,i-e,a-t)},expand:function(){var r=J.read(arguments),e=r.width,t=r.height;return new q(this.x-e/2,this.y-t/2,this.width+e,this.height+t)},scale:function(r,e){return this.expand(this.width*r-this.width,this.height*(e===o?r:e)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,e){var t=r.join(""),i=/^[RL]/.test(t);e>=4&&(r[1]+=i?"Y":"X");var a=r[i?0:1],u=r[i?1:0],l="get"+a,h="get"+u,f="set"+a,c="set"+u,_="get"+t,m="set"+t;this[_]=function(p){var v=p?N:ge;return new v(this[l](),this[h](),this,m)},this[m]=function(){var p=N.read(arguments);this[f](p.x),this[c](p.y)}},{beans:!0})),Z=q.extend({initialize:function(e,t,i,a,u,l){this._set(e,t,i,a,!0),this._owner=u,this._setter=l},_set:function(r,e,t,i,a){return this._x=r,this._y=e,this._width=t,this._height=i,a||this._owner[this._setter](this),this}},new function(){var r=q.prototype;return g.each(["x","y","width","height"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var t="set"+e;this[t]=function(){this._dontNotify=!0,r[t].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),Q=g.extend({_class:"Matrix",initialize:function r(e,t){var i=arguments,a=i.length,u=!0;if(a>=6?this._set.apply(this,i):a===1||a===2?e instanceof r?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):u=!1:a?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,e,t,i,a,u,l){return this._a=r,this._b=e,this._c=t,this._d=i,this._tx=a,this._ty=u,l||this._changed(),this},_serialize:function(r,e){return g.serialize(this.getValues(),r,!0,e)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new Q(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=ne.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,e){var t=this._owner;return t?(t.transform(null,g.pick(r,!0),e),this.isIdentity()):!1},translate:function(){var r=N.read(arguments),e=r.x,t=r.y;return this._tx+=e*this._a+t*this._c,this._ty+=e*this._b+t*this._d,this._changed(),this},scale:function(){var r=arguments,e=N.read(r),t=N.read(r,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var e=N.read(arguments,1),t=e.x,i=e.y,a=Math.cos(r),u=Math.sin(r),l=t-t*a+i*u,h=i-t*u-i*a,f=this._a,c=this._b,_=this._c,m=this._d;return this._a=a*f+u*_,this._b=a*c+u*m,this._c=-u*f+a*_,this._d=-u*c+a*m,this._tx+=l*f+h*_,this._ty+=l*c+h*m,this._changed(),this},shear:function(){var r=arguments,e=N.read(r),t=N.read(r,0,{readNull:!0});t&&this.translate(t);var i=this._a,a=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*a,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var r=arguments,e=N.read(r),t=N.read(r,0,{readNull:!0}),i=Math.PI/180,a=new N(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(a,t)},append:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=r._a,h=r._c,f=r._b,c=r._d,_=r._tx,m=r._ty;this._a=l*t+f*a,this._c=h*t+c*a,this._b=l*i+f*u,this._d=h*i+c*u,this._tx+=_*t+m*a,this._ty+=_*i+m*u,e||this._changed()}return this},prepend:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=this._tx,h=this._ty,f=r._a,c=r._c,_=r._b,m=r._d,p=r._tx,v=r._ty;this._a=f*t+c*i,this._c=f*a+c*u,this._b=_*t+m*i,this._d=_*a+m*u,this._tx=f*l+c*h+p,this._ty=_*l+m*h+v,e||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=this._tx,u=this._ty,l=r*i-e*t,h=null;return l&&!isNaN(l)&&isFinite(a)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-t/l,this._d=r/l,this._tx=(t*u-i*a)/l,this._ty=(e*a-r*u)/l,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Q(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,e,t){return arguments.length<3?this._transformPoint(N.read(arguments)):this._transformCoordinates(r,e,t)},_transformPoint:function(r,e,t){var i=r.x,a=r.y;return e||(e=new N),e._set(i*this._a+a*this._c+this._tx,i*this._b+a*this._d+this._ty,t)},_transformCoordinates:function(r,e,t){for(var i=0,a=2*t;i<a;i+=2){var u=r[i],l=r[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(r){var e=r.x,t=r.y,i=e+r.width,a=t+r.height,u=[e,t,i,t,i,a,e,a];return this._transformCoordinates(u,u,4)},_transformBounds:function(r,e,t){for(var i=this._transformCorners(r),a=i.slice(0,2),u=a.slice(),l=2;l<8;l++){var h=i[l],f=l&1;h<a[f]?a[f]=h:h>u[f]&&(u[f]=h)}return e||(e=new q),e._set(a[0],a[1],u[0]-a[0],u[1]-a[1],t)},inverseTransform:function(){return this._inverseTransform(N.read(arguments))},_inverseTransform:function(r,e,t){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,c=i*l-a*u,_=null;if(c&&!isNaN(c)&&isFinite(h)&&isFinite(f)){var m=r.x-this._tx,p=r.y-this._ty;e||(e=new N),_=e._set((m*l-p*u)/c,(p*i-m*a)/c,t)}return _},decompose:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=r*i-e*t,u=Math.sqrt,l=Math.atan2,h=180/Math.PI,f,c,_;if(r!==0||e!==0){var m=u(r*r+e*e);f=Math.acos(r/m)*(e>0?1:-1),c=[m,a/m],_=[l(r*t+e*i,m*m),0]}else if(t!==0||i!==0){var p=u(t*t+i*i);f=Math.asin(t/p)*(i>0?1:-1),c=[a/p,p],_=[0,l(r*t+e*i,p*p)]}else f=0,_=c=[0,0];return{translation:this.getTranslation(),rotation:f*h,scaling:new N(c),skewing:new N(_[0]*h,_[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new N(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(r){var e=g.capitalize(r),t="_"+r;this["get"+e]=function(){return this[t]},this["set"+e]=function(i){this[t]=i,this._changed()}},{})),ue=g.extend({_class:"Line",initialize:function(e,t,i,a,u){var l=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=i,this._vy=a,l=u):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new N(this._px,this._py)},getVector:function(){return new N(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,e){return ue.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,e)},getSide:function(r,e){return ue.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,e)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return ue.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return N.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return N.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,e,t,i,a,u,l,h,f,c){f||(t-=r,i-=e,l-=a,h-=u);var _=t*h-i*l;if(!K.isMachineZero(_)){var m=r-a,p=e-u,v=(l*p-h*m)/_,S=(t*p-i*m)/_,k=1e-12,I=-k,P=1+k;if(c||I<v&&v<P&&I<S&&S<P)return c||(v=v<=0?0:v>=1?1:v),new N(r+v*t,e+v*i)}},getSide:function(r,e,t,i,a,u,l,h){l||(t-=r,i-=e);var f=a-r,c=u-e,_=f*i-c*t;return!h&&K.isMachineZero(_)&&(_=(f*t+f*t)/(t*t+i*i),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(r,e,t,i,a,u,l){return l||(t-=r,i-=e),t===0?i>0?a-r:r-a:i===0?t<0?u-e:e-u:((a-r)*i-(u-e)*t)/(i>t?i*Math.sqrt(1+t*t/(i*i)):t*Math.sqrt(1+i*i/(t*t)))},getDistance:function(r,e,t,i,a,u,l){return Math.abs(ue.getSignedDistance(r,e,t,i,a,u,l))}}}),we=j.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){j.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new bi(null,null,this),this._view=Be.create(this,e||Ct.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,e){return g.serialize(this._children,r,!0,e)},_changed:function(r,e){if(r&1){var t=this._view;t&&(t._needsUpdate=!0,!t._requested&&t._autoUpdate&&t.requestUpdate())}var i=this._changes;if(i&&e){var a=this._changesById,u=e._id,l=a[u];l?l.flags|=r:i.push(a[u]={item:e,flags:r})}},clear:function(){for(var r=this._children,e=r.length-1;e>=0;e--)r[e].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return r.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new be({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],e={};return this.getItems({class:Ye,match:function(t){var i=t._definition,a=i._id;return e[a]||(e[a]=!0,r.push(i)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,e=[];for(var t in r){var i=r[t],a=i._selection;a&1&&i.isInserted()?e.push(i):a||this._updateSelection(i)}return e},_updateSelection:function(r){var e=r._id,t=this._selectionItems;r._selection?t[e]!==r&&(this._selectionCount++,t[e]=r):t[e]===r&&(this._selectionCount--,delete t[e])},selectAll:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)r[e].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var e in r)r[e].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(o,r)},insertLayer:function(r,e){if(e instanceof be){e._remove(!1,!0),g.splice(this._children,[e],r,0),e._setProject(this,!0);var t=e._name;t&&e.setName(t),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(r,e,t){return e=this.insertLayer(r,e)||(this._activeLayer||this._insertItem(o,new be(ae.NO_INSERT),!0)).insertChild(r,e),t&&e.activate&&e.activate(),e},getItems:function(r){return ae._getItems(this,r)},getItem:function(r){return ae._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var e=this._activeLayer;return g.importJSON(r,e&&e.isEmpty()&&e)},removeOn:function(r){var e=this._removeSets;if(e){r==="mouseup"&&(e.mousedrag=null);var t=e[r];if(t){for(var i in t){var a=t[i];for(var u in e){var l=e[u];l&&l!=t&&delete l[a._id]}a.remove()}e[r]=null}}},draw:function(r,e,t){this._updateVersion++,r.save(),e.applyToContext(r);for(var i=this._children,a=new g({offset:new N(0,0),pixelRatio:t,viewMatrix:e.isIdentity()?null:e,matrices:[new Q],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(r,a);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var h=this._selectionItems,f=this._scope.settings.handleSize,c=this._updateVersion;for(var _ in h)h[_]._drawSelection(r,e,f,h,c);r.restore()}}}),ae=g.extend(L,{statics:{extend:function r(e){return e._serializeFields&&(e._serializeFields=g.set({},this.prototype._serializeFields,e._serializeFields)),r.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Q,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(r,function(e){this._events[e]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,e){var t=r&&g.isPlainObject(r),i=t&&r.internal===!0,a=this._matrix=new Q,u=t&&r.project||qe.project,l=qe.settings;return this._id=i?null:se.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&a.translate(e),a._owner=this,this._style=new bi(u._currentStyle,this,u),i||t&&r.insert==!1||!l.insertItems&&!(t&&r.insert===!0)?this._setProject(u):(t&&r.parent||u)._insertItem(o,this,!0),t&&r!==ae.NO_INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),t},_serialize:function(r,e){var t={},i=this;function a(u){for(var l in u){var h=i[l];g.equals(h,l==="leading"?u.fontSize*1.2:u[l])||(t[l]=g.serialize(h,r,l!=="data",e))}}return a(this._serializeFields),this instanceof pe||a(this._style._defaults),[this._class,t]},_changed:function(r){var e=this._symbol,t=this._parent||e,i=this._project;r&8&&(this._bounds=this._position=this._decomposed=o),r&16&&(this._globalMatrix=o),t&&r&72&&ae._clearBoundsCache(t),r&2&&ae._clearBoundsCache(this),i&&i._changed(r,this),e&&e._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(r&&e){var t=e._children,i=e._namedChildren;(i[r]=i[r]||[]).push(this),r in t||(t[r]=this)}this._name=r||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},g.each(["locked","visible","blendMode","opacity","guide"],function(r){var e=g.capitalize(r),t="_"+r,i={locked:256,visible:265};this["get"+e]=function(){return this[t]},this["set"+e]=function(a){a!=this[t]&&(this[t]=a,this._changed(i[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){if(this._selectChildren){for(var r=this._children,e=0,t=r.length;e<t;e++)if(r[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(r){if(this._selectChildren)for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,e=!!(this._selection&1);if(r&&e){for(var t=0,i=r.length;t<i;t++)if(!r[t].isFullySelected())return!1;return!0}return e},setFullySelected:function(r){var e=this._children;if(e)for(var t=0,i=e.length;t<i;t++)e[t].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var e=r?N:ge,t=this._position||(this._position=this._getPositionFromBounds());return new e(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(N.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new ge(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=N.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,e){this[e]=function(t){return this.getBounds(t,r)}},{beans:!0,getBounds:function(r,e){var t=e||r instanceof Q,i=g.set({},t?e:r,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var a=this._getCachedBounds(t&&r,i).rect;return arguments.length?a:new Z(a.x,a.y,a.width,a.height,this,"setBounds")},setBounds:function(){var r=q.read(arguments),e=this.getBounds(),t=this._matrix,i=new Q,a=r.getCenter();i.translate(a),(r.width!=e.width||r.height!=e.height)&&(t.isInvertible()||(t.set(t._backup||new Q().translate(t.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?r.width/e.width:0,e.height!==0?r.height/e.height:0)),a=e.getCenter(),i.translate(-a.x,-a.y),this.transform(i)},_getBounds:function(r,e){var t=this._children;return!t||!t.length?new q:(ae._updateBoundsCache(this,e.cacheItem),ae._getBounds(t,r,e))},_getBoundsCacheKey:function(r,e){return[r.stroke?1:0,r.handle?1:0,e?1:0].join("")},_getCachedBounds:function(r,e,t){r=r&&r._orNullIfIdentity();var i=e.internal&&!t,a=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=a&&(!r||r.equals(u))&&this._getBoundsCacheKey(e,i),h=this._bounds;if(ae._updateBoundsCache(this._parent||this._symbol,a),l&&h&&l in h){var f=h[l];return{rect:f.rect.clone(),nonscaling:f.nonscaling}}var c=this._getBounds(r||u,e),_=c.rect||c,m=this._style,p=c.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(l){h||(this._bounds=h={});var f=h[l]={rect:_.clone(),nonscaling:p,internal:i}}return{rect:_,nonscaling:p}},_getStrokeMatrix:function(r,e){var t=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=t?t.getViewMatrix().invert():r;return i&&i._shiftless()},statics:{_updateBoundsCache:function(r,e){if(r&&e){var t=e._id,i=r._boundsCache=r._boundsCache||{ids:{},list:[]};i.ids[t]||(i.list.push(e),i.ids[t]=e)}},_clearBoundsCache:function(r){var e=r._boundsCache;if(e){r._bounds=r._position=r._boundsCache=o;for(var t=0,i=e.list,a=i.length;t<a;t++){var u=i[t];u!==r&&(u._bounds=u._position=o,u._boundsCache&&ae._clearBoundsCache(u))}}},_getBounds:function(r,e,t){var i=1/0,a=-i,u=i,l=a,h=!1;t=t||{};for(var f=0,c=r.length;f<c;f++){var _=r[f];if(_._visible&&!_.isEmpty(!0)){var m=_._getCachedBounds(e&&e.appended(_._matrix),t,!0),p=m.rect;i=Math.min(p.x,i),u=Math.min(p.y,u),a=Math.max(p.x+p.width,a),l=Math.max(p.y+p.height,l),m.nonscaling&&(h=!0)}}return{rect:isFinite(i)?new q(i,u,a-i,l-u):new q,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var e=this.getRotation();if(e!=null&&r!=null){var t=this._decomposed;this.rotate(r-e),t&&(t.rotation=r,this._decomposed=t)}},getScaling:function(){var r=this._decompose(),e=r&&r.scaling;return new ge(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=N.read(arguments,0,{clone:!0,readNull:!0});if(r&&e&&!r.equals(e)){var t=this.getRotation(),i=this._decomposed,a=new Q,u=K.isZero;if(u(r.x)||u(r.y))a.translate(i.translation),t&&a.rotate(t),a.scale(e.x,e.y),this._matrix.set(a);else{var l=this.getPosition(!0);a.translate(l),t&&a.rotate(t),a.scale(e.x/r.x,e.y/r.y),t&&a.rotate(-t),a.translate(l.negate()),this.transform(a)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var e=this._globalMatrix;if(e)for(var t=this._parent,i=[];t;){if(!t._globalMatrix){e=null;for(var a=0,u=i.length;a<u;a++)i[a]._globalMatrix=null;break}i.push(t),t=t._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var t=this._parent;t&&e.prepend(t.getGlobalMatrix(!0))}return r?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,e){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._setProject(r);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(e){r.base.call(this,e);for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._installEvents(e)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof be)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return g.equals(this._children,r._children)},clone:function(r){var e=new this.constructor(ae.NO_INSERT),t=this._children,i=g.pick(r?r.insert:o,r===o||r===!0),a=g.pick(r?r.deep:o,!0);t&&e.copyAttributes(this),(!t||a)&&e.copyContent(this),t||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var t=l._children,h=u,f=1;t[u];)u=h+" "+f++;u!==h&&e.setName(u)}return e},copyContent:function(r){for(var e=r._children,t=0,i=e&&e.length;t<i;t++)this.addChild(e[t].clone(!1),!0)},copyAttributes:function(r,e){this.setStyle(r._style);for(var t=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=t.length;i<a;i++){var u=t[i];r.hasOwnProperty(u)&&(this[u]=r[u])}e||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var l=r._data,h=r._name;this._data=l?g.clone(l):null,h&&this.setName(h)},rasterize:function(r,e){var t,i,a;g.isPlainObject(r)?(t=r.resolution,i=r.insert,a=r.raster):(t=r,i=e),a?a.matrix.reset(!0):a=new Ae(ae.NO_INSERT);var u=this.getStrokeBounds(),l=(t||this.getView().getResolution())/72,h=u.getTopLeft().floor(),f=u.getBottomRight().ceil(),c=new J(f.subtract(h)),_=c.multiply(l);if(a.setSize(_,!0),!_.isZero()){var m=a.getContext(!0),p=new Q().scale(l).translate(h.negate());m.save(),p.applyToContext(m),this.draw(m,new g({matrices:[p]})),m.restore()}return a.transform(new Q().translate(h.add(c.divide(2))).scale(1/l)),(i===o||i)&&a.insertAbove(this),a},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(N.read(arguments)))},_contains:function(r){var e=this._children;if(e){for(var t=e.length-1;t>=0;t--)if(e[t].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new _e.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,e){return r instanceof ae?this._asPathItem().getIntersections(r._asPathItem(),null,e,!0).length>0:!1}},new function(){function r(){var i=arguments;return this._hitTest(N.read(i),We.getOptions(i))}function e(){var i=arguments,a=N.read(i),u=We.getOptions(i),l=[];return this._hitTest(a,new g({all:l},u)),l}function t(i,a,u,l){var h=this._children;if(h)for(var f=h.length-1;f>=0;f--){var c=h[f],_=c!==l&&c._hitTest(i,a,u);if(_&&!a.all)return _}return null}return we.inject({hitTest:r,hitTestAll:e,_hitTest:t}),{hitTest:r,hitTestAll:e,_hitTestChildren:t}},{_hitTest:function(r,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,a=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new J(_e._getStrokePadding(u,i._shiftless().invert()));if(r=i._inverseTransform(r),!r||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(r))return null;var h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==g.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,c=this,_,m;function p(w){return w&&f&&!f(w)&&(w=null),w&&e.all&&e.all.push(w),w}function v(w,y){var b=y?_["get"+y]():c.getPosition();if(r.subtract(b).divide(l).length<=1)return new We(w,c,{name:y?g.hyphenate(y):w,point:b})}var S=e.position,k=e.center,I=e.bounds;if(h&&this._parent&&(S||k||I)){if((k||I)&&(_=this.getInternalBounds()),m=S&&v("position")||k&&v("center","Center"),!m&&I)for(var P=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!m;x++)m=v("bounds",P[x]);m=p(m)}return m||(m=this._hitTestChildren(r,e,a)||h&&p(this._hitTestSelf(r,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),m&&m.point&&(m.point=i.transform(m.point)),m},_hitTestSelf:function(r,e){if(e.fill&&this.hasFill()&&this._contains(r))return new We("fill",this)},matches:function(r,e){function t(l,h){for(var f in l)if(l.hasOwnProperty(f)){var c=l[f],_=h[f];if(g.isPlainObject(c)&&g.isPlainObject(_)){if(!t(c,_))return!1}else if(!g.equals(c,_))return!1}return!0}var i=typeof r;if(i==="object"){for(var a in r)if(r.hasOwnProperty(a)&&!this.matches(a,r[a]))return!1;return!0}else{if(i==="function")return r(this);if(r==="match")return e(this);var u=/^(empty|editable)$/.test(r)?this["is"+g.capitalize(r)]():r==="type"?g.hyphenate(this._class):this[r];if(r==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(g.isPlainObject(e))return t(e,u)}return g.equals(u,e)}},getItems:function(r){return ae._getItems(this,r,this._matrix)},getItem:function(r){return ae._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(e,t,i,a,u){if(!a){var l=typeof t=="object"&&t,h=l&&l.overlapping,f=l&&l.inside,c=h||f,p=c&&q.read([c]);a={items:[],recursive:l&&l.recursive!==!1,inside:!!f,overlapping:!!h,rect:p,path:h&&new _e.Rectangle({rectangle:p,insert:!1})},l&&(t=g.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var _=e._children,m=a.items,p=a.rect;i=p&&(i||new Q);for(var v=0,S=_&&_.length;v<S;v++){var k=_[v],I=i&&i.appended(k._matrix),P=!0;if(p){var c=k.getBounds(I);if(!p.intersects(c))continue;p.contains(c)||a.overlapping&&(c.contains(p)||a.path.intersects(k,I))||(P=!1)}if(P&&k.matches(t)&&(m.push(k),u)||(a.recursive!==!1&&r(k,t,I,a,u),u&&m.length>0))break}return m}}},{importJSON:function(r){var e=g.importJSON(r,this);return e!==this?this.addChild(e):e},addChild:function(r){return this.insertChild(o,r)},insertChild:function(r,e){var t=e?this.insertChildren(r,[e]):null;return t&&t[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,e){var t=this._children;if(t&&e&&e.length>0){e=g.slice(e);for(var i={},a=e.length-1;a>=0;a--){var u=e[a],l=u&&u._id;!u||i[l]?e.splice(a,1):(u._remove(!1,!0),i[l]=!0)}g.splice(t,e,r,0);for(var h=this._project,f=h._changes,a=0,c=e.length;a<c;a++){var u=e[a],_=u._name;u._parent=this,u._setProject(h,!0),_&&u.setName(_),f&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(r,e){var t=r&&r._getOwner(),i=r!==this&&t?this:null;return i&&(i._remove(!1,!0),t._insertItem(r._index+e,i)),i},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(o,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var e=this._children;if(e&&e.length===1){var t=e[0].reduce(r);return this._parent?(t.insertAbove(this),this.remove()):t.remove(),t}return this},_removeNamed:function(){var r=this._getOwner();if(r){var e=r._children,t=r._namedChildren,i=this._name,a=t[i],u=a?a.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],a.splice(u,1),a.length?e[i]=a[0]:delete t[i])}},_remove:function(r,e){var t=this._getOwner(),i=this._project,a=this._index;return this._style&&this._style._dispose(),t?(this._name&&this._removeNamed(),a!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(t._children,null,a,1)),this._installEvents(!1),r&&i._changes&&this._changed(5),e&&t._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var e=r&&r.insertBelow(this);return e&&this.remove(),e},removeChildren:function(r,e){if(!this._children)return null;r=r||0,e=g.pick(e,this._children.length);for(var t=g.splice(this._children,null,r,e-r),i=t.length-1;i>=0;i--)t[i]._remove(!0,!1);return t.length>0&&this._changed(11),t},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,e=this._children.length;r<e;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var e=this._children,t=e?e.length:0;if(r){for(var i=0;i<t;i++)if(!e[i].isEmpty(r))return!1;return!0}return!t},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function e(l){var h=[];do h.unshift(l);while(l=l._parent);return h}for(var t=e(this),i=e(r),a=0,u=Math.min(t.length,i.length);a<u;a++)if(t[a]!=i[a])return t[a]._index<i[a]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(r){return this._getOrder(r)===-1},isBelow:function(r){return this._getOrder(r)===1},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var e=this;e=e._parent;)if(e===r)return!0;return!1},isAncestor:function(r){return r?r.isDescendant(this):!1},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&r.isDescendant(e))return!0;e=e._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:N).read(t),a=N.read(t,0,{readNull:!0});return this.transform(new Q()[r](i,a||this.getPosition(!0)))}},{translate:function(){var r=new Q;return this.transform(r.translate.apply(r,arguments))},transform:function(r,e,t){var i=this._matrix,a=r&&!r.isIdentity(),u=t&&this._canApplyMatrix||this._applyMatrix&&(a||!i.isIdentity()||e&&this._children);if(!a&&!u)return this;if(a){!r.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(r,!0);var l=this._style,h=l.getFillColor(!0),f=l.getStrokeColor(!0);h&&h.transform(r),f&&f.transform(r)}if(u&&(u=this._transformContent(i,e,t))){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),t&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,m=this._position;(a||u)&&this._changed(25);var p=a&&_&&r.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var v in _){var S=_[v];if(S.nonscaling)delete _[v];else if(u||!S.internal){var k=S.rect;r._transformBounds(k,k)}}this._bounds=_;var I=_[this._getBoundsCacheKey(this._boundsOptions||{})];I&&(this._position=this._getPositionFromBounds(I.rect))}else a&&m&&this._pivot&&(this._position=r._transformPoint(m,m));return this},_transformContent:function(r,e,t){var i=this._children;if(i){for(var a=0,u=i.length;a<u;a++)i[a].transform(r,e,t);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(N.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(N.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(N.read(arguments))},localToParent:function(){return this._matrix._transformPoint(N.read(arguments))},fitBounds:function(r,e){r=q.read(arguments);var t=this.getBounds(),i=t.height/t.width,a=r.height/r.width,u=(e?i>a:i<a)?r.width/t.width:r.height/t.height,l=new q(new N,new J(t.width*u,t.height*u));l.setCenter(r.getCenter()),this.setBounds(l)}}),{_setStyles:function(r,e,t){var i=this._style,a=this._matrix;if(i.hasFill()&&(r.fillStyle=i.getFillColor().toCanvasStyle(r,a)),i.hasStroke()){r.strokeStyle=i.getStrokeColor().toCanvasStyle(r,a),r.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),h=i.getMiterLimit();if(u&&(r.lineJoin=u),l&&(r.lineCap=l),h&&(r.miterLimit=h),qe.support.nativeDash){var f=i.getDashArray(),c=i.getDashOffset();f&&f.length&&("setLineDash"in r?(r.setLineDash(f),r.lineDashOffset=c):(r.mozDash=f,r.mozDashOffset=c))}}if(i.hasShadow()){var _=e.pixelRatio||1,m=t._shiftless().prepend(new Q().scale(_,_)),p=m.transform(new N(i.getShadowBlur(),0)),v=m.transform(this.getShadowOffset());r.shadowColor=i.getShadowColor().toCanvasStyle(r),r.shadowBlur=p.getLength(),r.shadowOffsetX=v.x,r.shadowOffsetY=v.y}},draw:function(r,e,t){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,a=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(!!l.isInvertible()){a=a?a.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var h=this._blendMode,f=K.clamp(this._opacity,0,1),c=h==="normal",_=vt.nativeModes[h],m=c&&f===1||e.dontStart||e.clip||(_||c&&f<1)&&this._canComposite(),p=e.pixelRatio||1,v,S,k;if(!m){var I=this.getStrokeBounds(a);if(!I.width||!I.height){i.pop();return}k=e.offset,S=e.offset=I.getTopLeft().floor(),v=r,r=Ct.getContext(I.getSize().ceil().add(1).multiply(p)),p!==1&&r.scale(p,p)}r.save();var P=t?t.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&a,x=!m&&e.clipItem,w=!P||x;if(m?(r.globalAlpha=f,_&&(r.globalCompositeOperation=h)):w&&r.translate(-S.x,-S.y),w&&(m?u:a).applyToContext(r),x&&e.clipItem.draw(r,e.extend({clip:!0})),P){r.setTransform(p,0,0,p,0,0);var y=e.offset;y&&r.translate(-y.x,-y.y)}this._draw(r,e,a,P),r.restore(),i.pop(),e.clip&&!e.dontFinish&&r.clip(this.getFillRule()),m||(vt.process(h,r,v,f,S.subtract(k).multiply(p)),Ct.release(r),e.offset=k)}}},_isUpdated:function(r){var e=this._parent;if(e instanceof Ie)return e._isUpdated(r);var t=this._updateVersion===r;return!t&&e&&e._visible&&e._isUpdated(r)&&(this._updateVersion=r,t=!0),t},_drawSelection:function(r,e,t,i,a){var u=this._selection,l=u&1,h=u&2||l&&this._selectBounds,f=u&4;if(this._drawSelected||(l=!1),(l||h||f)&&this._isUpdated(a)){var c,_=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),m=e.appended(this.getGlobalMatrix(!0)),p=t/2;if(r.strokeStyle=r.fillStyle=_?_.toCanvasStyle(r):"#009dec",l&&this._drawSelected(r,m,i),f){var v=this.getPosition(!0),S=this._parent,k=S?S.localToGlobal(v):v,I=k.x,P=k.y;r.beginPath(),r.arc(I,P,p,0,Math.PI*2,!0),r.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],w=p,y=t+1,b=0;b<4;b++){var T=x[b],M=T[0],E=T[1];r.moveTo(I+M*w,P+E*w),r.lineTo(I+M*y,P+E*y),r.stroke()}}if(h){var z=m._transformCorners(this.getInternalBounds());r.beginPath();for(var b=0;b<8;b++)r[b?"lineTo":"moveTo"](z[b],z[++b]);r.closePath(),r.stroke();for(var b=0;b<8;b++)r.fillRect(z[b]-p,z[++b]-p,t,t)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(r){this["removeOn"+g.capitalize(r)]=function(){var e={};return e[r]=!0,this.removeOn(e)}},{removeOn:function(r){for(var e in r)if(r[e]){var t="mouse"+e,i=this._project,a=i._removeSets=i._removeSets||{};a[t]=a[t]||{},a[t][this._id]=this}return this}}),{tween:function(r,e,t){t||(t=e,e=r,r=null,t||(t=e,e=null));var i=t&&t.easing,a=t&&t.start,u=t!=null&&(typeof t=="number"?t:t.duration),l=new eu(this,r,e,u,i,a);function h(f){l._handleFrame(f.time*1e3),l.running||this.off("frame",h)}return u&&this.on("frame",h),l},tweenTo:function(r,e){return this.tween(null,r,e)},tweenFrom:function(r,e){return this.tween(r,null,e)}}),pe=ae.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function r(e){r.base.call(this,e),e&2050&&(this._clipItem=o)},_getClipItem:function(){var r=this._clipItem;if(r===o){r=null;for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t]._clipMask){r=e[t];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var e=this.getFirstChild();e&&e.setClipMask(r)},_getBounds:function r(e,t){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),g.set({},t,{stroke:!1})):r.base.call(this,e,t)},_hitTestChildren:function r(e,t,i){var a=this._getClipItem();return(!a||a.contains(e))&&r.base.call(this,e,t,i,a)},_draw:function(r,e){var t=e.clip,i=!t&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),t?(r.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(r,e.extend({clip:!0}));for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u];h!==i&&h.draw(r,e)}}}),be=pe.extend({_class:"Layer",initialize:function(){pe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function r(){return this._parent?r.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Te=ae.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&g.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Me(r.width,r.height,this,"setSize")},setSize:function(){var r=J.read(arguments);if(!this._size)this._size=r.clone();else if(!this._size.equals(r)){var e=this._type,t=r.width,i=r.height;e==="rectangle"?this._radius.set(J.min(this._radius,r.divide(2).abs())):e==="circle"?(t=i=(t+i)/2,this._radius=t/2):e==="ellipse"&&this._radius._set(t/2,i/2),this._size._set(t,i),this._changed(9)}},getRadius:function(){var r=this._radius;return this._type==="circle"?r:new Me(r.width,r.height,this,"setRadius")},setRadius:function(r){var e=this._type;if(e==="circle"){if(r===this._radius)return;var t=r*2;this._radius=r,this._size._set(t,t)}else if(r=J.read(arguments),!this._radius)this._radius=r.clone();else{if(this._radius.equals(r))return;if(this._radius.set(r),e==="rectangle"){var t=J.max(this._size,r.multiply(2));this._size.set(t)}else e==="ellipse"&&this._size._set(r.width*2,r.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var e=new _e[g.capitalize(this._type)]({center:new N,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),qe.settings.applyMatrix&&e.setApplyMatrix(!0),(r===o||r)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,e,t,i){var a=this._style,u=a.hasFill(),l=a.hasStroke(),h=e.dontFinish||e.clip,f=!i;if(u||l||h){var c=this._type,_=this._radius,m=c==="circle";if(e.dontStart||r.beginPath(),f&&m)r.arc(0,0,_,0,Math.PI*2,!0);else{var p=m?_:_.width,v=m?_:_.height,S=this._size,k=S.width,I=S.height;if(f&&c==="rectangle"&&p===0&&v===0)r.rect(-k/2,-I/2,k,I);else{var P=k/2,x=I/2,w=1-.5522847498307936,y=p*w,b=v*w,T=[-P,-x+v,-P,-x+b,-P+y,-x,-P+p,-x,P-p,-x,P-y,-x,P,-x+b,P,-x+v,P,x-v,P,x-b,P-y,x,P-p,x,-P+p,x,-P+y,x,-P,x-b,-P,x-v];i&&i.transform(T,T,32),r.moveTo(T[0],T[1]),r.bezierCurveTo(T[2],T[3],T[4],T[5],T[6],T[7]),P!==p&&r.lineTo(T[8],T[9]),r.bezierCurveTo(T[10],T[11],T[12],T[13],T[14],T[15]),x!==v&&r.lineTo(T[16],T[17]),r.bezierCurveTo(T[18],T[19],T[20],T[21],T[22],T[23]),P!==p&&r.lineTo(T[24],T[25]),r.bezierCurveTo(T[26],T[27],T[28],T[29],T[30],T[31])}}r.closePath()}!h&&(u||l)&&(this._setStyles(r,e,t),u&&(r.fill(a.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),l&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,e){var t=new q(this._size).setCenter(0,0),i=this._style,a=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return r&&(t=r._transformBounds(t)),a?t.expand(_e._getStrokePadding(a,this._getStrokeMatrix(r,e))):t}},new function(){function r(t,i,a){var u=t._radius;if(!u.isZero())for(var l=t._size.divide(2),h=1;h<=4;h++){var f=new N(h>1&&h<4?-1:1,h>2?-1:1),c=f.multiply(l),_=c.subtract(f.multiply(u)),m=new q(a?c.add(f.multiply(a)):c,_);if(m.contains(i))return{point:_,quadrant:h}}}function e(t,i,a,u){var l=t.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(a).length<=1}return{_contains:function t(i){if(this._type==="rectangle"){var a=r(this,i);return a?i.subtract(a.point).divide(this._radius).getLength()<=1:t.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function t(i,a,u,l){var h=!1,f=this._style,c=a.stroke&&f.hasStroke(),_=a.fill&&f.hasFill();if(c||_){var m=this._type,p=this._radius,v=c?f.getStrokeWidth()/2:0,S=a._tolerancePadding.add(_e._getStrokePadding(v,!f.getStrokeScaling()&&l));if(m==="rectangle"){var k=S.multiply(2),I=r(this,i,k);if(I)h=e(i.subtract(I.point),p,S,I.quadrant);else{var P=new q(this._size).setCenter(0,0),x=P.expand(k),w=P.expand(k.negate());h=x._containsPoint(i)&&!w._containsPoint(i)}}else h=e(i,p,S)}return h?new We(c?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function r(e,t,i,a,u){var l=g.create(Te.prototype);return l._type=e,l._size=i,l._radius=a,l._initialize(g.getNamed(u),t),l}return{Circle:function(){var e=arguments,t=N.readNamed(e,"center"),i=g.readNamed(e,"radius");return r("circle",t,new J(i*2),i,e)},Rectangle:function(){var e=arguments,t=q.readNamed(e,"rectangle"),i=J.min(J.readNamed(e,"radius"),t.getSize(!0).divide(2));return r("rectangle",t.getCenter(!0),t.getSize(!0),i,e)},Ellipse:function(){var e=arguments,t=Te._readEllipse(e),i=t.radius;return r("ellipse",t.center,i.multiply(2),i,e)},_readEllipse:function(e){var t,i;if(g.hasNamed(e,"radius"))t=N.readNamed(e,"center"),i=J.readNamed(e,"radius");else{var a=q.readNamed(e,"rectangle");t=a.getCenter(!0),i=a.getSize(!0).divide(2)}return{center:t,radius:i}}}}}),Ae=ae.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==o&&N.read(arguments))){var i,a=typeof e,u=a==="string"?C.getElementById(e):a==="object"?e:null;if(u&&u!==ae.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=J.read(arguments);l.isZero()||(i=Ct.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new J,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var e=r._image,t=r._canvas;if(e)this._setImage(e);else if(t){var i=Ct.getCanvas(r._size);i.getContext("2d").drawImage(t,0,0),this._setImage(i)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Me(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,e){var t=J.read(arguments);if(t.equals(this._size))e&&this.clear();else if(t.width>0&&t.height>0){var i=!e&&this.getElement();this._setImage(Ct.getCanvas(t)),i&&this.getContext(!0).drawImage(i,0,0,t.width,t.height)}else this._canvas&&Ct.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||r.width===0&&r.height===0},getResolution:function(){var r=this._matrix,e=new N(0,0).transform(r),t=new N(1,0).transform(r).subtract(e),i=new N(0,1).transform(r).subtract(e);return new J(72/t.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var e=this;function t(i){var a=e.getView(),u=i&&i.type||"load";a&&e.responds(u)&&(qe=a._scope,e.emit(u,new Vn(i)))}this._setImage(r),this._loaded?setTimeout(t,0):r&&je.add(r,{load:function(i){e._setImage(r),t(i)},error:t})},_setImage:function(r){this._canvas&&Ct.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new J(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=Ct.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch(e){Ct.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var e=new s.Image,t=this._crossOrigin;t&&(e.crossOrigin=t),r&&(e.src=r),this.setImage(e)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var e=this._image;e&&(e.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing=typeof r=="string"?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=q.read(arguments),e=Ct.getContext(r.getSize());return e.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.canvas},getSubRaster:function(){var r=q.read(arguments),e=new Ae(ae.NO_INSERT);return e._setImage(this.getSubCanvas(r)),e.translate(r.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var r=this._image,e=r&&r.src;if(/^data:/.test(e))return e;var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(r){var e=N.read(arguments,1);this.getContext(!0).drawImage(r,e.x,e.y)},getAverageColor:function(r){var e,t;if(r?r instanceof Ce?(t=r,e=r.getBounds()):typeof r=="object"&&("width"in r?e=new q(r):"x"in r&&(e=new q(r.x-.5,r.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,a=Math.min(e.width,i),u=Math.min(e.height,i),l=Ae._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=Ae._sampleContext=Ct.getContext(new J(i)),l.save();var h=new Q().scale(a/e.width,u/e.height).translate(-e.x,-e.y);h.applyToContext(l),t&&t.draw(l,new g({clip:!0,matrices:[h]})),this._matrix.applyToContext(l);var f=this.getElement(),c=this._size;f&&l.drawImage(f,-c.width/2,-c.height/2),l.restore();for(var _=l.getImageData(.5,.5,Math.ceil(a),Math.ceil(u)).data,m=[0,0,0],p=0,v=0,S=_.length;v<S;v+=4){var k=_[v+3];p+=k,k/=255,m[0]+=_[v]*k,m[1]+=_[v+1]*k,m[2]+=_[v+2]*k}for(var v=0;v<3;v++)m[v]/=p;return p?Oe.read(m):null},getPixel:function(){var r=N.read(arguments),e=this.getContext().getImageData(r.x,r.y,1,1).data;return new Oe("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var r=arguments,e=N.read(r),t=Oe.read(r),i=t._convert("rgb"),a=t._alpha,u=this.getContext(!0),l=u.createImageData(1,1),h=l.data;h[0]=i[0]*255,h[1]=i[1]*255,h[2]=i[2]*255,h[3]=a!=null?a*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=J.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=q.read(arguments);return r.isEmpty()&&(r=new q(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},setImageData:function(r){var e=N.read(arguments,1);this.getContext(!0).putImageData(r,e.x,e.y)},_getBounds:function(r,e){var t=new q(this._size).setCenter(0,0);return r?r._transformBounds(t):t},_hitTestSelf:function(r){if(this._contains(r)){var e=this;return new We("pixel",e,{offset:r.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(r,e,t){var i=this.getElement();if(i&&i.width>0&&i.height>0){r.globalAlpha=K.clamp(this._opacity,0,1),this._setStyles(r,e,t);var a=this._smoothing,u=a==="off";Ve.setPrefixed(r,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:a),r.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ye=ae.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==o&&N.read(arguments,1))||this.setDefinition(e instanceof He?e:new He(e))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,e){var t=this._definition._item;return t._getCachedBounds(t._matrix.prepended(r),e)},_hitTestSelf:function(r,e,t){var i=e.extend({all:!1}),a=this._definition._item._hitTest(r,i,t);return a&&(a.item=this),a},_draw:function(r,e){this._definition._item.draw(r,e)}}),He=g.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=se.get(),this.project=qe.project,e&&this.setItem(e,t)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._class,this._item],r,!1,e)})},_changed:function(r){r&8&&ae._clearBoundsCache(this),r&1&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,e){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),e||r.setPosition(new N),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new Ye(this,r)},clone:function(){return new He(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),We=g.extend({_class:"HitResult",initialize:function(e,t,i){this.type=e,this.item=t,i&&this.inject(i)},statics:{getOptions:function(r){var e=r&&g.read(r);return new g({type:null,tolerance:qe.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),de=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,i,a,u,l){var h=arguments.length,f,c,_,m;h>0&&(e==null||typeof e=="object"?h===1&&e&&"point"in e?(f=e.point,c=e.handleIn,_=e.handleOut,m=e.selection):(f=e,c=t,_=i,m=a):(f=[e,t],c=i!==o?[i,a]:null,_=u!==o?[u,l]:null)),new ot(f,this,"_point"),new ot(c,this,"_handleIn"),new ot(_,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(r,e){var t=this._point,i=this._selection,a=i||this.hasHandles()?[t,this._handleIn,this._handleOut]:t;return i&&a.push(i),g.serialize(a,r,!0,e)},_changed:function(r){var e=this._path;if(!!e){var t=e._curves,i=this._index,a;t&&((!r||r===this._point||r===this._handleIn)&&(a=i>0?t[i-1]:e._closed?t[t.length-1]:null)&&a._changed(),(!r||r===this._point||r===this._handleOut)&&(a=t[i])&&a._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(N.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(N.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(N.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,e=this._handleOut;return!r.isZero()&&!e.isZero()&&r.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var e=this._selection,t=this._path;this._selection=r=r||0,t&&r!==e&&(t._updateSelection(this,e,r),t._changed(257))},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){return!!(this._selection&7)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,e=this._index;return r?(e>0&&!r._closed&&e===r._segments.length-1&&e--,r.getCurves()[e]||null):null},getLocation:function(){var r=this.getCurve();return r?new Je(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,e,t){var i=r||{},a=i.type,u=i.factor,l=this.getPrevious(),h=this.getNext(),f=(l||this)._point,c=this._point,_=(h||this)._point,m=f.getDistance(c),p=c.getDistance(_);if(!a||a==="catmull-rom"){var v=u===o?.5:u,S=Math.pow(m,v),k=S*S,I=Math.pow(p,v),P=I*I;if(!e&&l){var x=2*P+3*I*S+k,w=3*I*(I+S);this.setHandleIn(w!==0?new N((P*f._x+x*c._x-k*_._x)/w-c._x,(P*f._y+x*c._y-k*_._y)/w-c._y):new N)}if(!t&&h){var x=2*k+3*S*I+P,w=3*S*(S+I);this.setHandleOut(w!==0?new N((k*_._x+x*c._x-P*f._x)/w-c._x,(k*_._y+x*c._y-P*f._y)/w-c._y):new N)}}else if(a==="geometric"){if(l&&h){var y=f.subtract(_),b=u===o?.4:u,T=b*m/(m+p);e||this.setHandleIn(y.multiply(T)),t||this.setHandleOut(y.multiply(T-b))}}else throw new Error("Smoothing method '"+a+"' not supported.")},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,e=this._handleOut,t=r.clone();r.set(e),e.set(t)},reversed:function(){return new de(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new de(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,e,t){var i=1-t,a=t,u=r._point,l=e._point,h=r._handleIn,f=e._handleIn,c=e._handleOut,_=r._handleOut;this._point._set(i*u._x+a*l._x,i*u._y+a*l._y,!0),this._handleIn._set(i*h._x+a*f._x,i*h._y+a*f._y,!0),this._handleOut._set(i*_._x+a*c._x,i*_._y+a*c._y,!0),this._changed()},_transformCoordinates:function(r,e,t){var i=this._point,a=!t||!this._handleIn.isZero()?this._handleIn:null,u=!t||!this._handleOut.isZero()?this._handleOut:null,l=i._x,h=i._y,f=2;return e[0]=l,e[1]=h,a&&(e[f++]=a._x+l,e[f++]=a._y+h),u&&(e[f++]=u._x+l,e[f++]=u._y+h),r&&(r._transformCoordinates(e,e,f/2),l=e[0],h=e[1],t?(i._x=l,i._y=h,f=2,a&&(a._x=e[f++]-l,a._y=e[f++]-h),u&&(u._x=e[f++]-l,u._y=e[f++]-h)):(a||(e[f++]=l,e[f++]=h),u||(e[f++]=l,e[f++]=h))),e}}),ot=N.extend({initialize:function(e,t,i){var a,u,l;if(!e)a=u=0;else if((a=e[0])!==o)u=e[1];else{var h=e;(a=h.x)===o&&(h=N.read(arguments),a=h.x),u=h.y,l=h.selected}this._x=a,this._y=u,this._owner=t,t[i]=this,l&&this.setSelected(!0)},_set:function(r,e){return this._x=r,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=K.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),ee=g.extend({_class:"Curve",beans:!0,initialize:function(e,t,i,a,u,l,h,f){var c=arguments.length,_,m,p,v,S,k;c===3?(this._path=e,_=t,m=i):c?c===1?"segment1"in e?(_=new de(e.segment1),m=new de(e.segment2)):"point1"in e?(p=e.point1,S=e.handle1,k=e.handle2,v=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],v=[e[6],e[7]],S=[e[2]-e[0],e[3]-e[1]],k=[e[4]-e[6],e[5]-e[7]]):c===2?(_=new de(e),m=new de(t)):c===4?(p=e,S=t,k=i,v=a):c===8&&(p=[e,t],v=[h,f],S=[i-e,a-t],k=[u-h,l-f]):(_=new de,m=new de),this._segment1=_||new de(p,null,S),this._segment2=m||new de(v,k,null)},_serialize:function(r,e){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ee(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return ee.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var e=this._segment2,t=e._handleOut;r=e.remove(),r&&this._segment1._handleOut.set(t)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(N.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(N.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(N.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(N.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return ee.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),e=[],t=0;t<8;t+=2)e.push(new N(r[t],r[t+1]));return e}},{getLength:function(){return this._length==null&&(this._length=ee.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ee.getArea(this.getValues())},getLine:function(){return new ue(this._segment1._point,this._segment2._point)},getPart:function(r,e){return new ee(ee.getPart(this.getValues(),r,e))},getPartLength:function(r,e){return ee.getLength(this.getValues(),r,e)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,e){var t=1e-8,i=1-t,a=null;if(r>=t&&r<=i){var u=ee.subdivide(this.getValues(),r),l=u[0],h=u[1],f=e||this.hasHandles(),c=this._segment1,_=this._segment2,m=this._path;f&&(c._handleOut._set(l[2]-l[0],l[3]-l[1]),_._handleIn._set(h[4]-h[6],h[5]-h[7]));var p=l[6],v=l[7],S=new de(new N(p,v),f&&new N(l[4]-p,l[5]-v),f&&new N(h[2]-p,h[3]-v));m?(m.insert(c._index+1,S),a=this.getNext()):(this._segment2=S,this._changed(),a=new ee(S,_))}return a},splitAt:function(r){var e=this._path;return e?e.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,e){return this.divideAtTime(r===o?.5:e?r:this.getTimeAt(r))},split:function(r,e){return this.splitAtTime(r===o?.5:e?r:this.getTimeAt(r))},reversed:function(){return new ee(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,e,t,i){var a=r._point,u=r._handleOut,l=e._handleIn,h=e._point,f=a.x,c=a.y,_=h.x,m=h.y,p=i?[f,c,f,c,_,m,_,m]:[f,c,f+u._x,c+u._y,_+l._x,m+l._y,_,m];return t&&t._transformCoordinates(p,p,4),p},subdivide:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],c=r[7];e===o&&(e=.5);var _=1-e,m=_*t+e*a,p=_*i+e*u,v=_*a+e*l,S=_*u+e*h,k=_*l+e*f,I=_*h+e*c,P=_*m+e*v,x=_*p+e*S,w=_*v+e*k,y=_*S+e*I,b=_*P+e*w,T=_*x+e*y;return[[t,i,m,p,P,x,b,T],[b,T,w,y,k,I,f,c]]},getMonoCurves:function(r,e){var t=[],i=e?0:1,a=r[i+0],u=r[i+2],l=r[i+4],h=r[i+6];if(a>=u==u>=l&&u>=l==l>=h||ee.isStraight(r))t.push(r);else{var f=3*(u-l)-a+h,c=2*(a+l)-4*u,_=u-a,m=1e-8,p=1-m,v=[],S=K.solveQuadratic(f,c,_,v,m,p);if(!S)t.push(r);else{v.sort();var k=v[0],I=ee.subdivide(r,k);t.push(I[0]),S>1&&(k=(v[1]-k)/(1-k),I=ee.subdivide(I[1],k),t.push(I[0])),t.push(I[1])}}return t},solveCubic:function(r,e,t,i,a,u){var l=r[e],h=r[e+2],f=r[e+4],c=r[e+6],_=0;if(!(l<t&&c<t&&h<t&&f<t||l>t&&c>t&&h>t&&f>t)){var m=3*(h-l),p=3*(f-h)-m,v=c-l-m-p;_=K.solveCubic(v,p,m,l-t,i,a,u)}return _},getTimeOf:function(r,e){var t=new N(r[0],r[1]),i=new N(r[6],r[7]),a=1e-12,u=1e-7,l=e.isClose(t,a)?0:e.isClose(i,a)?1:null;if(l===null)for(var h=[e.x,e.y],f=[],c=0;c<2;c++)for(var _=ee.solveCubic(r,c,h[c],f,0,1),m=0;m<_;m++){var p=f[m];if(e.isClose(ee.getPoint(r,p),u))return p}return e.isClose(t,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(r,e){if(ee.isStraight(r)){var t=r[0],i=r[1],a=r[6],u=r[7],l=a-t,h=u-i,f=l*l+h*h;if(f===0)return 0;var c=((e.x-t)*l+(e.y-i)*h)/f;return c<1e-12?0:c>.999999999999?1:ee.getTimeOf(r,new N(t+c*l,i+c*h))}var _=100,m=1/0,p=0;function v(I){if(I>=0&&I<=1){var P=e.getDistance(ee.getPoint(r,I),!0);if(P<m)return m=P,p=I,!0}}for(var S=0;S<=_;S++)v(S/_);for(var k=1/(_*2);k>1e-8;)!v(p-k)&&!v(p+k)&&(k/=2);return p},getPart:function(r,e,t){var i=e>t;if(i){var a=e;e=t,t=a}return e>0&&(r=ee.subdivide(r,e)[1]),t<1&&(r=ee.subdivide(r,(t-e)/(1-e))[0]),i?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],c=r[7],_=3*a-2*t-f,m=3*u-2*i-c,p=3*l-2*f-t,v=3*h-2*c-i;return Math.max(_*_,p*p)+Math.max(m*m,v*v)<=16*e*e},getArea:function(r){var e=r[0],t=r[1],i=r[2],a=r[3],u=r[4],l=r[5],h=r[6],f=r[7];return 3*((f-t)*(i+u)-(h-e)*(a+l)+a*(e-u)-i*(t-l)+f*(u+e/3)-h*(l+t/3))/20},getBounds:function(r){for(var e=r.slice(0,2),t=e.slice(),i=[0,0],a=0;a<2;a++)ee._addBounds(r[a],r[a+2],r[a+4],r[a+6],a,0,e,t,i);return new q(e[0],e[1],t[0]-e[0],t[1]-e[1])},_addBounds:function(r,e,t,i,a,u,l,h,f){function c(b,T){var M=b-T,E=b+T;M<l[a]&&(l[a]=M),E>h[a]&&(h[a]=E)}u/=2;var _=l[a]+u,m=h[a]-u;if(r<_||e<_||t<_||i<_||r>m||e>m||t>m||i>m)if(e<r!=e<i&&t<r!=t<i)c(r,0),c(i,0);else{var p=3*(e-t)-r+i,v=2*(r+t)-4*e,S=e-r,k=K.solveQuadratic(p,v,S,f),I=1e-8,P=1-I;c(i,0);for(var x=0;x<k;x++){var w=f[x],y=1-w;I<=w&&w<=P&&c(y*y*y*r+3*y*y*w*e+3*y*w*w*t+w*w*w*i,u)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var e=this._bounds[r];return e||(e=this._bounds[r]=_e[r]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),g.each({isStraight:function(r,e,t,i){if(e.isZero()&&t.isZero())return!0;var a=i.subtract(r);if(a.isZero())return!1;if(a.isCollinear(e)&&a.isCollinear(t)){var u=new ue(r,i),l=1e-7;if(u.getDistance(r.add(e))<l&&u.getDistance(i.add(t))<l){var h=a.dot(a),f=a.dot(e)/h,c=a.dot(t)/h;return f>=0&&f<=1&&c<=0&&c>=-1}}return!1},isLinear:function(r,e,t,i){var a=i.subtract(r).divide(3);return e.equals(a)&&t.negate().equals(a)}},function(r,e){this[e]=function(t){var i=this._segment1,a=this._segment2;return r(i._point,i._handleOut,a._handleIn,a._point,t)},this.statics[e]=function(t,i){var a=t[0],u=t[1],l=t[6],h=t[7];return r(new N(a,u),new N(t[2]-a,t[3]-u),new N(t[4]-l,t[5]-h),new N(l,h),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,e){return this.getLocationAtTime(e?r:this.getTimeAt(r))},getLocationAtTime:function(r){return r!=null&&r>=0&&r<=1?new Je(this,r):null},getTimeAt:function(r,e){return ee.getTimeAt(this.getValues(),r,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=N.read(arguments);return r.isZero()?[]:ee.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(N.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return ee.getTimeOf(this.getValues(),N.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=N.read(arguments),e=this.getValues(),t=ee.getNearestTime(e,r),i=ee.getPoint(e,t);return new Je(this,t,i,null,r.getDistance(i))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(r,function(e){this[e+"At"]=function(t,i){var a=this.getValues();return ee[e](a,i?t:ee.getTimeAt(a,t))},this[e+"AtTime"]=function(t){return ee[e](this.getValues(),t)}},{statics:{_evaluateMethods:r}})},new function(){function r(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=9*(l-f)+3*(_-a),v=6*(a+f)-12*l,S=3*(l-a),k=9*(h-c)+3*(m-u),I=6*(u+c)-12*h,P=3*(h-u);return function(x){var w=(p*x+v)*x+S,y=(k*x+I)*x+P;return Math.sqrt(w*w+y*y)}}function e(i,a){return Math.max(2,Math.min(16,Math.ceil(Math.abs(a-i)*32)))}function t(i,a,u,l){if(a==null||a<0||a>1)return null;var h=i[0],f=i[1],c=i[2],_=i[3],m=i[4],p=i[5],v=i[6],S=i[7],k=K.isZero;k(c-h)&&k(_-f)&&(c=h,_=f),k(m-v)&&k(p-S)&&(m=v,p=S);var I=3*(c-h),P=3*(m-c)-I,x=v-h-I-P,w=3*(_-f),y=3*(p-_)-w,b=S-f-w-y,T,M;if(u===0)T=a===0?h:a===1?v:((x*a+P)*a+I)*a+h,M=a===0?f:a===1?S:((b*a+y)*a+w)*a+f;else{var E=1e-8,z=1-E;if(a<E?(T=I,M=w):a>z?(T=3*(v-m),M=3*(S-p)):(T=(3*x*a+2*P)*a+I,M=(3*b*a+2*y)*a+w),l){T===0&&M===0&&(a<E||a>z)&&(T=m-c,M=p-_);var A=Math.sqrt(T*T+M*M);A&&(T/=A,M/=A)}if(u===3){var m=6*x*a+2*P,p=6*b*a+2*y,R=Math.pow(T*T+M*M,3/2);T=R!==0?(T*p-M*m)/R:0,M=0}}return u===2?new N(M,-T):new N(T,M)}return{statics:{classify:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=a*(m-c)+u*(f-_)+_*c-m*f,v=l*(u-m)+h*(_-a)+a*m-u*_,S=f*(h-u)+c*(a-l)+l*u-h*a,k=3*S,I=k-v,P=I-v+p,x=Math.sqrt(P*P+I*I+k*k),w=x!==0?1/x:0,y=K.isZero,b="serpentine";P*=w,I*=w,k*=w;function T(A,R,F){var O=R!==o,D=O&&R>0&&R<1,B=O&&F>0&&F<1;return O&&(!(D||B)||A==="loop"&&!(D&&B))&&(A="arch",D=B=!1),{type:A,roots:D||B?D&&B?R<F?[R,F]:[F,R]:[D?R:F]:null}}if(y(P))return y(I)?T(y(k)?"line":"quadratic"):T(b,k/(3*I));var M=3*I*I-4*P*k;if(y(M))return T("cusp",I/(2*P));var E=M>0?Math.sqrt(M/3):Math.sqrt(-M),z=2*P;return T(M>0?b:"loop",(I+E)/z,(I-E)/z)},getLength:function(i,a,u,l){if(a===o&&(a=0),u===o&&(u=1),ee.isStraight(i)){var h=i;u<1&&(h=ee.subdivide(h,u)[0],a/=u),a>0&&(h=ee.subdivide(h,a)[1]);var f=h[6]-h[0],c=h[7]-h[1];return Math.sqrt(f*f+c*c)}return K.integrate(l||r(i),a,u,e(a,u))},getTimeAt:function(i,a,u){if(u===o&&(u=a<0?1:0),a===0)return u;var l=Math.abs,h=1e-12,f=a>0,c=f?u:0,_=f?1:u,m=r(i),p=ee.getLength(i,c,_,m),v=l(a)-p;if(l(v)<h)return f?_:c;if(v>h)return null;var S=a/p,k=0;function I(P){return k+=K.integrate(m,u,P,e(u,P)),u=P,k-a}return K.findRoot(I,m,u+S,c,_,32,1e-12)},getPoint:function(i,a){return t(i,a,0,!1)},getTangent:function(i,a){return t(i,a,1,!0)},getWeightedTangent:function(i,a){return t(i,a,1,!1)},getNormal:function(i,a){return t(i,a,2,!0)},getWeightedNormal:function(i,a){return t(i,a,2,!1)},getCurvature:function(i,a){return t(i,a,3,!1).x},getPeaks:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=-a+3*l-3*f+_,v=3*a-6*l+3*f,S=-3*a+3*l,k=-u+3*h-3*c+m,I=3*u-6*h+3*c,P=-3*u+3*h,x=1e-8,w=1-x,y=[];return K.solveCubic(9*(p*p+k*k),9*(p*v+I*k),2*(v*v+I*I)+3*(S*p+P*k),S*v+I*P,y,x,w),y.sort()}}}},new function(){function r(v,S,k,I,P,x,w){var y=!w&&k.getPrevious()===P,b=!w&&k!==P&&k.getNext()===P,T=1e-8,M=1-T;if(I!==null&&I>=(y?T:0)&&I<=(b?M:1)&&x!==null&&x>=(b?T:0)&&x<=(y?M:1)){var E=new Je(k,I,null,w),z=new Je(P,x,null,w);E._intersection=z,z._intersection=E,(!S||S(E))&&Je.insert(v,E,!0)}}function e(v,S,k,I,P,x,w,y,b,T,M,E,z){if(++b>=4096||++y>=40)return b;var A=1e-9,R=S[0],F=S[1],O=S[6],D=S[7],B=ue.getSignedDistance,V=B(R,F,O,D,S[2],S[3]),U=B(R,F,O,D,S[4],S[5]),W=V*U>0?3/4:4/9,$=W*Math.min(0,V,U),re=W*Math.max(0,V,U),le=B(R,F,O,D,v[0],v[1]),he=B(R,F,O,D,v[2],v[3]),te=B(R,F,O,D,v[4],v[5]),ie=B(R,F,O,D,v[6],v[7]),fe=t(le,he,te,ie),ce=fe[0],me=fe[1],Se,xe;if(V===0&&U===0&&le===0&&he===0&&te===0&&ie===0||(Se=i(ce,me,$,re))==null||(xe=i(ce.reverse(),me.reverse(),$,re))==null)return b;var Pe=T+(M-T)*Se,ke=T+(M-T)*xe;if(Math.max(z-E,ke-Pe)<A){var ze=(Pe+ke)/2,Ge=(E+z)/2;r(P,x,w?I:k,w?Ge:ze,w?k:I,w?ze:Ge)}else{v=ee.getPart(v,Se,xe);var Xe=z-E;if(xe-Se>.8)if(ke-Pe>Xe){var Qe=ee.subdivide(v,.5),ze=(Pe+ke)/2;b=e(S,Qe[0],I,k,P,x,!w,y,b,E,z,Pe,ze),b=e(S,Qe[1],I,k,P,x,!w,y,b,E,z,ze,ke)}else{var Qe=ee.subdivide(S,.5),Ge=(E+z)/2;b=e(Qe[0],v,I,k,P,x,!w,y,b,E,Ge,Pe,ke),b=e(Qe[1],v,I,k,P,x,!w,y,b,Ge,z,Pe,ke)}else Xe===0||Xe>=A?b=e(S,v,I,k,P,x,!w,y,b,E,z,Pe,ke):b=e(v,S,k,I,P,x,w,y,b,Pe,ke,E,z)}return b}function t(v,S,k,I){var P=[0,v],x=[1/3,S],w=[2/3,k],y=[1,I],b=S-(2*v+I)/3,T=k-(v+2*I)/3,M;if(b*T<0)M=[[P,x,y],[P,w,y]];else{var E=b/T;M=[E>=2?[P,x,y]:E<=.5?[P,w,y]:[P,x,w,y],[P,y]]}return(b||T)<0?M.reverse():M}function i(v,S,k,I){return v[0][1]<k?a(v,!0,k):S[0][1]>I?a(S,!1,I):v[0][0]}function a(v,S,k){for(var I=v[0][0],P=v[0][1],x=1,w=v.length;x<w;x++){var y=v[x][0],b=v[x][1];if(S?b>=k:b<=k)return b===k?y:I+(k-P)*(y-I)/(b-P);I=y,P=b}return null}function u(v,S,k,I,P){var x=K.isZero;if(x(I)&&x(P)){var w=ee.getTimeOf(v,new N(S,k));return w===null?[]:[w]}for(var y=Math.atan2(-P,I),b=Math.sin(y),T=Math.cos(y),M=[],E=[],z=0;z<8;z+=2){var A=v[z]-S,R=v[z+1]-k;M.push(A*T-R*b,A*b+R*T)}return ee.solveCubic(M,1,0,E,0,1),E}function l(v,S,k,I,P,x,w){for(var y=S[0],b=S[1],T=S[6],M=S[7],E=u(v,y,b,T-y,M-b),z=0,A=E.length;z<A;z++){var R=E[z],F=ee.getPoint(v,R),O=ee.getTimeOf(S,F);O!==null&&r(P,x,w?I:k,w?O:R,w?k:I,w?R:O)}}function h(v,S,k,I,P,x){var w=ue.intersect(v[0],v[1],v[6],v[7],S[0],S[1],S[6],S[7]);w&&r(P,x,k,ee.getTimeOf(v,w),I,ee.getTimeOf(S,w))}function f(v,S,k,I,P,x){var w=1e-12,y=Math.min,b=Math.max;if(b(v[0],v[2],v[4],v[6])+w>y(S[0],S[2],S[4],S[6])&&y(v[0],v[2],v[4],v[6])-w<b(S[0],S[2],S[4],S[6])&&b(v[1],v[3],v[5],v[7])+w>y(S[1],S[3],S[5],S[7])&&y(v[1],v[3],v[5],v[7])-w<b(S[1],S[3],S[5],S[7])){var T=m(v,S);if(T)for(var M=0;M<2;M++){var E=T[M];r(P,x,k,E[0],I,E[1],!0)}else{var z=ee.isStraight(v),A=ee.isStraight(S),R=z&&A,F=z&&!A,O=P.length;if((R?h:z||A?l:e)(F?S:v,F?v:S,F?I:k,F?k:I,P,x,F,0,0,0,1,0,1),!R||P.length===O)for(var M=0;M<4;M++){var D=M>>1,B=M&1,V=D*6,U=B*6,W=new N(v[V],v[V+1]),$=new N(S[U],S[U+1]);W.isClose($,w)&&r(P,x,k,D,I,B)}}}return P}function c(v,S,k,I){var P=ee.classify(v);if(P.type==="loop"){var x=P.roots;r(k,I,S,x[0],S,x[1])}return k}function _(v,S,k,I,P,x){var w=1e-7,y=!S;y&&(S=v);for(var b=v.length,T=S.length,M=new Array(b),E=y?M:new Array(T),z=[],A=0;A<b;A++)M[A]=v[A].getValues(I);if(!y)for(var A=0;A<T;A++)E[A]=S[A].getValues(P);for(var R=Y.findCurveBoundsCollisions(M,E,w),F=0;F<b;F++){var O=v[F],D=M[F];y&&c(D,O,z,k);var B=R[F];if(B)for(var V=0;V<B.length;V++){if(x&&z.length)return z;var U=B[V];if(!y||U>F){var W=S[U],$=E[U];f(D,$,O,W,z,k)}}}return z}function m(v,S){function k(ie){var fe=ie[6]-ie[0],ce=ie[7]-ie[1];return fe*fe+ce*ce}var I=Math.abs,P=ue.getDistance,x=1e-8,w=1e-7,y=ee.isStraight(v),b=ee.isStraight(S),T=y&&b,M=k(v)<k(S),E=M?S:v,z=M?v:S,A=E[0],R=E[1],F=E[6]-A,O=E[7]-R;if(P(A,R,F,O,z[0],z[1],!0)<w&&P(A,R,F,O,z[6],z[7],!0)<w)!T&&P(A,R,F,O,E[2],E[3],!0)<w&&P(A,R,F,O,E[4],E[5],!0)<w&&P(A,R,F,O,z[2],z[3],!0)<w&&P(A,R,F,O,z[4],z[5],!0)<w&&(y=b=T=!0);else if(T)return null;if(y^b)return null;for(var D=[v,S],B=[],V=0;V<4&&B.length<2;V++){var U=V&1,W=U^1,$=V>>1,re=ee.getTimeOf(D[U],new N(D[W][$?6:0],D[W][$?7:1]));if(re!=null){var le=U?[$,re]:[re,$];(!B.length||I(le[0]-B[0][0])>x&&I(le[1]-B[0][1])>x)&&B.push(le)}if(V>2&&!B.length)break}if(B.length!==2)B=null;else if(!T){var he=ee.getPart(v,B[0][0],B[1][0]),te=ee.getPart(S,B[0][1],B[1][1]);(I(te[2]-he[2])>w||I(te[3]-he[3])>w||I(te[4]-he[4])>w||I(te[5]-he[5])>w)&&(B=null)}return B}function p(v,S){var k=v[0],I=v[1],P=v[2],x=v[3],w=v[4],y=v[5],b=v[6],T=v[7],M=S.normalize(),E=M.x,z=M.y,A=3*b-9*w+9*P-3*k,R=3*T-9*y+9*x-3*I,F=6*w-12*P+6*k,O=6*y-12*x+6*I,D=3*P-3*k,B=3*x-3*I,V=2*A*z-2*R*E,U=[];if(Math.abs(V)<K.CURVETIME_EPSILON){var W=A*B-R*D,V=A*O-R*F;if(V!=0){var $=-W/V;$>=0&&$<=1&&U.push($)}}else{var re=(F*F-4*A*D)*z*z+(-2*F*O+4*R*D+4*A*B)*E*z+(O*O-4*R*B)*E*E,le=F*z-O*E;if(re>=0&&V!=0){var he=Math.sqrt(re),te=-(le+he)/V,ie=(-le+he)/V;te>=0&&te<=1&&U.push(te),ie>=0&&ie<=1&&U.push(ie)}}return U}return{getIntersections:function(v){var S=this.getValues(),k=v&&v!==this&&v.getValues();return k?f(S,k,this,v,[]):c(S,this,[])},statics:{getOverlaps:m,getIntersections:_,getCurveLineIntersections:u,getTimesWithTangent:p}}}),Je=g.extend({_class:"CurveLocation",initialize:function(e,t,i,a,u){if(t>=.99999999){var l=e.getNext();l&&(t=0,e=l)}this._setCurve(e),this._time=t,this._point=i||e.getPointAtTime(t),this._overlap=a,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var e=r.getCurve();e?this._setCurve(e):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var e=this.getCurve(),t=this.getTime();t===0?r=e._segment1:t===1?r=e._segment2:t!=null&&(r=e.getPartLength(0,t)<e.getPartLength(t,1)?e._segment1:e._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,e=this;r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function t(i){var a=i&&i.getCurve();if(a&&(e._time=a.getTimeOf(e._point))!=null)return e._setCurve(a),a}return this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),e=this._time;return r&&e==null?this._time=r.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(r==null){r=0;var e=this.getPath(),t=this.getIndex();if(e&&t!=null)for(var i=e.getCurves(),a=0;a<t;a++)r+=i[a].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(r==null){var e=this.getCurve(),t=this.getTime();this._curveOffset=r=t!=null&&e&&e.getPartLength(0,t)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),e=r&&r.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var r=this.getCurve(),e=r._path,t=r&&r.splitAtTime(this.getTime());return t&&this._setSegment(e.getLastSegment()),t},equals:function(r,e){var t=this===r;if(!t&&r instanceof Je){var i=this.getCurve(),a=r.getCurve(),u=i._path,l=a._path;if(u===l){var h=Math.abs,f=1e-7,c=h(this.getOffset()-r.getOffset()),_=!e&&this._intersection,m=!e&&r._intersection;t=(c<f||u&&h(u.getLength()-c)<f)&&(!_&&!m||_&&m&&_.equals(m,!0))}}return t},toString:function(){var r=[],e=this.getPoint(),t=ne.instance;e&&r.push("point: "+e);var i=this.getIndex();i!=null&&r.push("index: "+i);var a=this.getTime();return a!=null&&r.push("time: "+t.number(a)),this._distance!=null&&r.push("distance: "+t.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var e=this.getCurve(),t=r.getCurve();return!(e.isStraight()&&t.isStraight()&&e.getLine().intersect(t.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var e=this.getTime(),t=r.getTime(),i=1e-8,a=1-i,u=e>=i&&e<=a,l=t>=i&&t<=a;if(u&&l)return!this.isTouching();var h=this.getCurve(),f=h&&e<i?h.getPrevious():h,c=r.getCurve(),_=c&&t<i?c.getPrevious():c;if(e>a&&(h=h.getNext()),t>a&&(c=c.getNext()),!f||!h||!_||!c)return!1;var m=[];function p(E,z){var A=E.getValues(),R=ee.classify(A).roots||ee.getPeaks(A),F=R.length,O=ee.getLength(A,z&&F?R[F-1]:0,!z&&F?R[0]:1);m.push(F?O:O/32)}function v(E,z,A){return z<A?E>z&&E<A:E>z||E<A}u||(p(f,!0),p(h,!1)),l||(p(_,!0),p(c,!1));var S=this.getPoint(),k=Math.min.apply(Math,m),I=u?h.getTangentAtTime(e):h.getPointAt(k).subtract(S),P=u?I.negate():f.getPointAt(-k).subtract(S),x=l?c.getTangentAtTime(t):c.getPointAt(k).subtract(S),w=l?x.negate():_.getPointAt(-k).subtract(S),y=P.getAngle(),b=I.getAngle(),T=w.getAngle(),M=x.getAngle();return!!(u?v(y,T,M)^v(b,T,M)&&v(y,M,T)^v(b,M,T):v(T,y,b)^v(M,y,b)&&v(T,b,y)^v(M,b,y))},hasOverlap:function(){return!!this._overlap}},g.each(ee._evaluateMethods,function(r){var e=r+"At";this[r]=function(){var t=this.getCurve(),i=this.getTime();return i!=null&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function r(e,t,i){var a=e.length,u=0,l=a-1;function h(S,k){for(var I=S+k;I>=-1&&I<=a;I+=k){var P=e[(I%a+a)%a];if(!t.getPoint().isClose(P.getPoint(),1e-7))break;if(t.equals(P))return P}return null}for(;u<=l;){var f=u+l>>>1,c=e[f],_;if(i&&(_=t.equals(c)?c:h(f,-1)||h(f,1)))return t._overlap&&(_._overlap=_._intersection._overlap=!0),_;var m=t.getPath(),p=c.getPath(),v=m!==p?m._id-p._id:t.getIndex()+t.getTime()-(c.getIndex()+c.getTime());v<0?l=f-1:u=f+1}return e.splice(u,0,t),t}return{statics:{insert:r,expand:function(e){for(var t=e.slice(),i=e.length-1;i>=0;i--)r(t,e[i]._intersection,!1);return t}}}}),Ce=ae.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var e,t,i;if(g.isPlainObject(r)?(t=r.segments,e=r.pathData):Array.isArray(r)?t=r:typeof r=="string"&&(e=r),t){var a=t[0];i=a&&Array.isArray(a[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?Ie:_e;return new u(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var e=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),t,i=!1,a,u,l=new N,h=new N;function f(w,y){var b=+t[w];return i&&(b+=l[y]),b}function c(w){return new N(f(w,"x"),f(w+1,"y"))}this.clear();for(var _=0,m=e&&e.length;_<m;_++){var p=e[_],v=p[0],S=v.toLowerCase();t=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var k=t&&t.length;switch(i=v===S,a==="z"&&!/[mz]/.test(S)&&this.moveTo(l),S){case"m":case"l":for(var I=S==="m",P=0;P<k;P+=2)this[I?"moveTo":"lineTo"](l=c(P)),I&&(h=l,I=!1);u=l;break;case"h":case"v":var x=S==="h"?"x":"y";l=l.clone();for(var P=0;P<k;P++)l[x]=f(P,x),this.lineTo(l);u=l;break;case"c":for(var P=0;P<k;P+=6)this.cubicCurveTo(c(P),u=c(P+2),l=c(P+4));break;case"s":for(var P=0;P<k;P+=4)this.cubicCurveTo(/[cs]/.test(a)?l.multiply(2).subtract(u):l,u=c(P),l=c(P+2)),a=S;break;case"q":for(var P=0;P<k;P+=4)this.quadraticCurveTo(u=c(P),l=c(P+2));break;case"t":for(var P=0;P<k;P+=2)this.quadraticCurveTo(u=/[qt]/.test(a)?l.multiply(2).subtract(u):l,l=c(P)),a=S;break;case"a":for(var P=0;P<k;P+=7)this.arcTo(l=c(P+5),new J(+t[P],+t[P+1]),+t[P+2],+t[P+4],+t[P+3]);break;case"z":this.closePath(1e-12),l=h;break}a=S}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var e=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(r,e,t,i){var a=this===r||!r,u=this._matrix._orNullIfIdentity(),l=a?u:(t||r._matrix)._orNullIfIdentity();return a||this.getBounds(u).intersects(r.getBounds(l),1e-12)?ee.getIntersections(this.getCurves(),!a&&r.getCurves(),e,u,l,i):[]},getCrossings:function(r){return this.getIntersections(r,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var r=N.read(arguments),e=this.getCurves(),t=1/0,i=null,a=0,u=e.length;a<u;a++){var l=e[a].getNearestLocation(r);l._distance<t&&(t=l._distance,i=l)}return i},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,e,t){var i=!this._children,a=i?"_segments":"_children",u=r[a],l=e[a],h=this[a];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+e);var f=h.length,c=l.length;if(f<c)for(var _=i?de:_e,m=f;m<c;m++)this.add(new _);else f>c&&this[i?"removeSegments":"removeChildren"](c,f);for(var m=0;m<c;m++)h[m].interpolate(u[m],l[m],t);i&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var e=!1;if(r){var t=this._children||[this],i=r._children?r._children.slice():[r],a=t.length,u=i.length,l=[],h=0;e=!0;for(var f=Y.findItemBoundsCollisions(t,i,K.GEOMETRIC_EPSILON),c=a-1;c>=0&&e;c--){var _=t[c];e=!1;var m=f[c];if(m)for(var p=m.length-1;p>=0&&!e;p--)_.compare(i[m[p]])&&(l[m[p]]||(l[m[p]]=!0,h++),e=!0)}e=e&&h===u}return e}}),_e=Ce.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:t:e&&e.size===o&&(e.x!==o||e.point!==o)?t:null;i&&i.length>0?this.setSegments(i):(this._curves=o,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(r){return this._closed===r._closed&&g.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(e){if(r.base.call(this,e),e&8){if(this._length=this._area=o,e&32)this._version++;else if(this._curves)for(var t=0,i=this._curves.length;t<i;t++)this._curves[t]._changed()}else e&64&&(this._bounds=o)},getStyle:function(){var r=this._parent;return(r instanceof Ie?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var e=this.isFullySelected(),t=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,t){var i=r[t-1];typeof i=="boolean"&&(this.setClosed(i),t--),this._add(de.readList(r,0,{},t))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,e=this._segments;if(!r){var t=this._countCurves();r=this._curves=new Array(t);for(var i=0;i<t;i++)r[i]=new ee(this,e[i],e[i+1]||e[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var e=this._curves.length=this._countCurves();r&&(this._curves[e-1]=new ee(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,e){var t=this._segments,i=t.length,a=new ne(e),u=new Array(6),l=!0,h,f,c,_,m,p,v,S,k=[];function I(x,w){if(x._transformCoordinates(r,u),h=u[0],f=u[1],l)k.push("M"+a.pair(h,f)),l=!1;else if(m=u[2],p=u[3],m===h&&p===f&&v===c&&S===_){if(!w){var y=h-c,b=f-_;k.push(y===0?"v"+a.number(b):b===0?"h"+a.number(y):"l"+a.pair(y,b))}}else k.push("c"+a.pair(v-c,S-_)+" "+a.pair(m-c,p-_)+" "+a.pair(h-c,f-_));c=h,_=f,v=u[4],S=u[5]}if(!i)return"";for(var P=0;P<i;P++)I(t[P]);return this._closed&&i>0&&(I(t[0],!0),k.push("z")),k.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var e=this._segments,t=new Array(6),i=0,a=e.length;i<a;i++)e[i]._transformCoordinates(r,t,!0);return!0},_add:function(r,l){for(var t=this._segments,i=this._curves,a=r.length,u=l==null,l=u?t.length:l,h=0;h<a;h++){var f=r[h];f._path&&(f=r[h]=f.clone()),f._path=this,f._index=l+h,f._selection&&this._updateSelection(f,0,f._selection)}if(u)g.push(t,r);else{t.splice.apply(t,[l,0].concat(r));for(var h=l+a,c=t.length;h<c;h++)t[h]._index=h}if(i){var _=this._countCurves(),m=l>0&&l+a-1===_?l-1:l,p=m,v=Math.min(m+a,_);r._curves&&(i.splice.apply(i,[m,0].concat(r._curves)),p+=r._curves.length);for(var h=p;h<v;h++)i.splice(h,0,new ee(this,null,null));this._adjustCurves(m,v)}return this._changed(41),r},_adjustCurves:function(r,e){for(var t=this._segments,i=this._curves,a,u=r;u<e;u++)a=i[u],a._path=this,a._segment1=t[u],a._segment2=t[u+1]||t[0],a._changed();(a=i[this._closed&&!r?t.length-1:r-1])&&(a._segment2=t[r]||t[0],a._changed()),(a=i[e])&&(a._segment1=t[e],a._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var e=arguments;return e.length>1&&typeof r!="number"?this._add(de.readList(e)):this._add([de.read(e)])[0]},insert:function(r,e){var t=arguments;return t.length>2&&typeof e!="number"?this._add(de.readList(t,1),r):this._add([de.read(t,1)],r)[0]},addSegment:function(){return this._add([de.read(arguments)])[0]},insertSegment:function(r){return this._add([de.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(de.readList(r))},insertSegments:function(r,e){return this._add(de.readList(e),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,e,t){r=r||0,e=g.pick(e,this._segments.length);var i=this._segments,a=this._curves,u=i.length,l=i.splice(r,e-r),h=l.length;if(!h)return l;for(var f=0;f<h;f++){var c=l[f];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var f=r,_=i.length;f<_;f++)i[f]._index=f;if(a){for(var m=r>0&&e===u+(this._closed?1:0)?r-1:r,a=a.splice(m,h),f=a.length-1;f>=0;f--)a[f]._path=null;t&&(l._curves=a.slice(1)),this._adjustCurves(m,m)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)if(r[e].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)r[e].clearHandles()},getLength:function(){if(this._length==null){for(var r=this.getCurves(),e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();this._length=e}return this._length},getArea:function(){var r=this._area;if(r==null){var e=this._segments,t=this._closed;r=0;for(var i=0,a=e.length;i<a;i++){var u=i+1===a;r+=ee.getArea(ee.getValues(e[i],e[u?0:i+1],null,u&&!t))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===r*7},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(e){e&1||this._selectSegments(!1),r.base.call(this,e)},_selectSegments:function(r){var e=this._segments,t=e.length,i=r?7:0;this._segmentSelection=i*t;for(var a=0;a<t;a++)e[a]._selection=i},_updateSelection:function(r,e,t){r._selection=t;var i=this._segmentSelection+=t-e;i>0&&this.setSelected(!0)},divideAt:function(r){var e=this.getLocationAt(r),t;return e&&(t=e.getCurve().divideAt(e.getCurveOffset()))?t._segment1:null},splitAt:function(r){var e=this.getLocationAt(r),t=e&&e.index,i=e&&e.time,a=1e-8,u=1-a;i>u&&(t++,i=0);var l=this.getCurves();if(t>=0&&t<l.length){i>=a&&l[t++].divideAtTime(i);var h=this.removeSegments(t,this._segments.length,!0),f;return this._closed?(this.setClosed(!1),f=this):(f=new _e(ae.NO_INSERT),f.insertAbove(this),f.copyAttributes(this)),f._add(h,0),this.addSegment(h[0]),f}return null},split:function(r,e){var t,i=e===o?r:(t=this.getCurves()[r])&&t.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(r,e){var t=e||0;if(r&&r!==this){var i=r._segments,a=this.getLastSegment(),u=r.getLastSegment();if(!u)return this;a&&a._point.isClose(u._point,t)&&r.reverse();var l=r.getFirstSegment();if(a&&a._point.isClose(l._point,t))a.setHandleOut(l._handleOut),this._add(i.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(l._point,t)&&r.reverse(),u=r.getLastSegment(),h&&h._point.isClose(u._point,t)?(h.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}r._closed&&this._add([i[0]]),r.remove()}var f=this.getFirstSegment(),c=this.getLastSegment();return f!==c&&f._point.isClose(c._point,t)&&(f.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(r){for(var e=this.getCurves(),t=r&&r.simplify,i=t?1e-7:0,a=e.length-1;a>=0;a--){var u=e[a];!u.hasHandles()&&(!u.hasLength(i)||t&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,e=this._segments.length;r<e;r++){var t=this._segments[r],i=t._handleIn;t._handleIn=t._handleOut,t._handleOut=i,t._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var e=new Ze(this,r||.25,256,!0),t=e.parts,i=t.length,a=[],u=0;u<i;u++)a.push(new de(t[u].curve.slice(0,2)));!this._closed&&i>0&&a.push(new de(t[i-1].curve.slice(6))),this.setSegments(a)},simplify:function(r){var e=new nt(this).fit(r||2.5);return e&&this.setSegments(e),!!e},smooth:function(r){var e=this,t=r||{},i=t.type||"asymmetric",a=this._segments,u=a.length,l=this._closed;function h(ce,me){var Se=ce&&ce.index;if(Se!=null){var xe=ce.path;if(xe&&xe!==e)throw new Error(ce._class+" "+Se+" of "+xe+" is not part of "+e);me&&ce instanceof ee&&Se++}else Se=typeof ce=="number"?ce:me;return Math.min(Se<0&&l?Se%u:Se<0?Se+u:Se,u-1)}var f=l&&t.from===o&&t.to===o,c=h(t.from,0),_=h(t.to,u-1);if(c>_)if(l)c-=u;else{var m=c;c=_,_=m}if(/^(?:asymmetric|continuous)$/.test(i)){var p=i==="asymmetric",v=Math.min,S=_-c+1,k=S-1,I=f?v(S,4):1,P=I,x=I,w=[];if(l||(P=v(1,c),x=v(1,u-_-1)),k+=P+x,k<=1)return;for(var y=0,b=c-P;y<=k;y++,b++)w[y]=a[(b<0?b+u:b)%u]._point;for(var T=w[0]._x+2*w[1]._x,M=w[0]._y+2*w[1]._y,E=2,z=k-1,A=[T],R=[M],F=[E],O=[],D=[],y=1;y<k;y++){var B=y<z,V=B||p?1:2,U=B?4:p?2:7,W=B?4:p?3:8,$=B?2:p?0:1,re=V/E;E=F[y]=U-re,T=A[y]=W*w[y]._x+$*w[y+1]._x-re*T,M=R[y]=W*w[y]._y+$*w[y+1]._y-re*M}O[z]=A[z]/F[z],D[z]=R[z]/F[z];for(var y=k-2;y>=0;y--)O[y]=(A[y]-O[y+1])/F[y],D[y]=(R[y]-D[y+1])/F[y];O[k]=(3*w[k]._x-O[z])/2,D[k]=(3*w[k]._y-D[z])/2;for(var y=P,le=k-x,b=c;y<=le;y++,b++){var he=a[b<0?b+u:b],te=he._point,ie=O[y]-te._x,fe=D[y]-te._y;(f||y<le)&&he.setHandleOut(ie,fe),(f||y>P)&&he.setHandleIn(-ie,-fe)}}else for(var y=c;y<=_;y++)a[y<0?y+u:y].smooth(t,!f&&y===c,!f&&y===_)},toShape:function(r){if(!this._closed)return null;var e=this._segments,t,i,a,u;function l(p,v){var S=e[p],k=S.getNext(),I=e[v],P=I.getNext();return S._handleOut.isZero()&&k._handleIn.isZero()&&I._handleOut.isZero()&&P._handleIn.isZero()&&k._point.subtract(S._point).isCollinear(P._point.subtract(I._point))}function h(p){var v=e[p],S=v.getPrevious(),k=v.getNext();return S._handleOut.isZero()&&v._handleIn.isZero()&&v._handleOut.isZero()&&k._handleIn.isZero()&&v._point.subtract(S._point).isOrthogonal(k._point.subtract(v._point))}function f(p){var v=e[p],S=v.getNext(),k=v._handleOut,I=S._handleIn,P=.5522847498307936;if(k.isOrthogonal(I)){var x=v._point,w=S._point,y=new ue(x,k,!0).intersect(new ue(w,I,!0),!0);return y&&K.isZero(k.getLength()/y.subtract(x).getLength()-P)&&K.isZero(I.getLength()/y.subtract(w).getLength()-P)}return!1}function c(p,v){return e[p]._point.getDistance(e[v]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&h(1)?(t=Te.Rectangle,i=new J(c(0,3),c(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&f(0)&&f(2)&&f(4)&&f(6)&&l(1,5)&&l(3,7)?(t=Te.Rectangle,i=new J(c(1,6),c(0,3)),a=i.subtract(new J(c(0,7),c(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&f(0)&&f(1)&&f(2)&&f(3)&&(K.isZero(c(0,2)-c(1,3))?(t=Te.Circle,a=c(0,2)/2):(t=Te.Ellipse,a=new J(c(2,0)/2,c(3,1)/2)),u=e[1]._point),t){var _=this.getPosition(!0),m=new t({center:_,size:i,radius:a,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(u.subtract(_).getAngle()+90),(r===o||r)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function r(e){if(!e||e instanceof Ie)return r.base.call(this,e);var t=this.getCurves(),i=e.getCurves(),a=t.length,u=i.length;if(!a||!u)return a==u;for(var l=t[0].getValues(),h=[],f=0,c,_=0,m,p=0;p<u;p++){var I=i[p].getValues();h.push(I);var v=ee.getOverlaps(l,I);if(v){c=!p&&v[0][0]>0?u-1:p,m=v[0][1];break}}for(var S=Math.abs,k=1e-8,I=h[c],P;l&&I;){var v=ee.getOverlaps(l,I);if(v){var x=v[0][0];if(S(x-_)<k){_=v[1][0],_===1&&(l=++f<a?t[f].getValues():null,_=0);var w=v[0][1];if(S(w-m)<k){if(P||(P=[c,w]),m=v[1][1],m===1&&(++c>=u&&(c=0),I=h[c]||i[c].getValues(),m=0),!l)return P[0]===c&&P[1]===m;continue}}}break}return!1},_hitTestSelf:function(r,e,t,i){var a=this,u=this.getStyle(),l=this._segments,h=l.length,f=this._closed,c=e._tolerancePadding,_=c,m,p,v,S,k,I,P=e.stroke&&u.hasStroke(),x=e.fill&&u.hasFill(),w=e.curves,y=P?u.getStrokeWidth()/2:x&&e.tolerance>0||w?0:null;y!==null&&(y>0?(m=u.getStrokeJoin(),p=u.getStrokeCap(),v=u.getMiterLimit(),_=_.add(_e._getStrokePadding(y,i))):m=p="round");function b(O,D){return r.subtract(O).divide(D).length<=1}function T(O,D,B){if(!e.selected||D.isSelected()){var V=O._point;if(D!==V&&(D=D.add(V)),b(D,_))return new We(B,a,{segment:O,point:D})}}function M(O,D){return(D||e.segments)&&T(O,O._point,"segment")||!D&&e.handles&&(T(O,O._handleIn,"handle-in")||T(O,O._handleOut,"handle-out"))}function E(O){S.add(O)}function z(O){var D=f||O._index>0&&O._index<h-1;if((D?m:p)==="round")return b(O._point,_);if(S=new _e({internal:!0,closed:!0}),D?O.isSmooth()||_e._addBevelJoin(O,m,y,v,null,i,E,!0):p==="square"&&_e._addSquareCap(O,p,y,null,i,E,!0),!S.isEmpty()){var B;return S.contains(r)||(B=S.getNearestLocation(r))&&b(B.getPoint(),c)}}if(e.ends&&!e.segments&&!f){if(I=M(l[0],!0)||M(l[h-1],!0))return I}else if(e.segments||e.handles){for(var A=0;A<h;A++)if(I=M(l[A]))return I}if(y!==null){if(k=this.getNearestLocation(r),k){var R=k.getTime();R===0||R===1&&h>1?z(k.getSegment())||(k=null):b(k.getPoint(),_)||(k=null)}if(!k&&m==="miter"&&h>1)for(var A=0;A<h;A++){var F=l[A];if(r.getDistance(F._point)<=v*y&&z(F)){k=F.getLocation();break}}}return!k&&x&&this._contains(r)||k&&!P&&!w?new We("fill",this):k?new We(P?"stroke":"curve",this,{location:k,point:k.getPoint()}):null}},g.each(ee._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this.getLocationAt(e);return t&&t[r]()}},{beans:!1,getLocationOf:function(){for(var r=N.read(arguments),e=this.getCurves(),t=0,i=e.length;t<i;t++){var a=e[t].getLocationOf(r);if(a)return a}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if(typeof r=="number"){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++){var u=t,l=e[i];if(t+=l.getLength(),t>r)return l.getLocationAt(r-u)}if(e.length>0&&r<=this.getLength())return new Je(e[e.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=N.read(arguments);if(r.isZero())return[];for(var e=[],t=0,i=this.getCurves(),a=0,u=i.length;a<u;a++){for(var l=i[a],h=l.getTimesWithTangent(r),f=0,c=h.length;f<c;f++){var _=t+l.getOffsetAtTime(h[f]);e.indexOf(_)<0&&e.push(_)}t+=l.length}return e}}),new function(){function r(t,i,a,u){if(u<=0)return;var l=u/2,h=u-2,f=l-1,c=new Array(6),_,m;function p(x){var w=c[x],y=c[x+1];(_!=w||m!=y)&&(t.beginPath(),t.moveTo(_,m),t.lineTo(w,y),t.stroke(),t.beginPath(),t.arc(w,y,l,0,Math.PI*2,!0),t.fill())}for(var v=0,S=i.length;v<S;v++){var k=i[v],I=k._selection;if(k._transformCoordinates(a,c),_=c[0],m=c[1],I&2&&p(2),I&4&&p(4),t.fillRect(_-l,m-l,u,u),h>0&&!(I&1)){var P=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(_-f,m-f,h,h),t.fillStyle=P}}}function e(t,i,a){var u=i._segments,l=u.length,h=new Array(6),f=!0,c,_,m,p,v,S,k,I;function P(w){if(a)w._transformCoordinates(a,h),c=h[0],_=h[1];else{var y=w._point;c=y._x,_=y._y}if(f)t.moveTo(c,_),f=!1;else{if(a)v=h[2],S=h[3];else{var b=w._handleIn;v=c+b._x,S=_+b._y}v===c&&S===_&&k===m&&I===p?t.lineTo(c,_):t.bezierCurveTo(k,I,v,S,c,_)}if(m=c,p=_,a)k=h[4],I=h[5];else{var b=w._handleOut;k=m+b._x,I=p+b._y}}for(var x=0;x<l;x++)P(u[x]);i._closed&&l>0&&P(u[0])}return{_draw:function(t,i,a,u){var l=i.dontStart,h=i.dontFinish||i.clip,f=this.getStyle(),c=f.hasFill(),_=f.hasStroke(),m=f.getDashArray(),p=!qe.support.nativeDash&&_&&m&&m.length;l||t.beginPath(),(c||_&&!p||h)&&(e(t,this,u),this._closed&&t.closePath());function v(w){return m[(w%p+p)%p]}if(!h&&(c||_)&&(this._setStyles(t,i,a),c&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),_)){if(p){l||t.beginPath();for(var S=new Ze(this,.25,32,!1,u),k=S.length,I=-f.getDashOffset(),P,x=0;I>0;)I-=v(x--)+v(x--);for(;I<k;)P=I+v(x++),(I>0||P>0)&&S.drawPart(t,Math.max(I,0),Math.max(P,0)),I=P+v(x++)}t.stroke()}},_drawSelected:function(t,i){t.beginPath(),e(t,this,i),t.stroke(),r(t,this._segments,i,qe.settings.handleSize)}}},new function(){function r(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new de(N.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new de(N.read(arguments))])},cubicCurveTo:function(){var e=arguments,t=N.read(e),i=N.read(e),a=N.read(e),u=r(this);u.setHandleOut(t.subtract(u._point)),this._add([new de(a,i.subtract(a))])},quadraticCurveTo:function(){var e=arguments,t=N.read(e),i=N.read(e),a=r(this)._point;this.cubicCurveTo(t.add(a.subtract(t).multiply(1/3)),t.add(i.subtract(t).multiply(1/3)),i)},curveTo:function(){var e=arguments,t=N.read(e),i=N.read(e),a=g.pick(g.read(e),.5),u=1-a,l=r(this)._point,h=t.subtract(l.multiply(u*u)).subtract(i.multiply(a*a)).divide(2*a*u);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+a);this.quadraticCurveTo(h,i)},arcTo:function(){var e=arguments,t=Math.abs,i=Math.sqrt,a=r(this),u=a._point,l=N.read(e),h,f=g.peek(e),c=g.pick(f,!0),_,m,p,v;if(typeof c=="boolean")var S=u.add(l).divide(2),h=S.add(S.subtract(u).rotate(c?-90:90));else if(g.remain(e)<=2)h=l,l=N.read(e);else if(!u.equals(l)){var k=J.read(e),I=K.isZero;if(I(k.width)||I(k.height))return this.lineTo(l);var P=g.read(e),c=!!g.read(e),x=!!g.read(e),S=u.add(l).divide(2),w=u.subtract(S).rotate(-P),y=w.x,b=w.y,T=t(k.width),M=t(k.height),E=T*T,z=M*M,A=y*y,R=b*b,F=i(A/E+R/z);if(F>1&&(T*=F,M*=F,E=T*T,z=M*M),F=(E*z-E*R-z*A)/(E*R+z*A),t(F)<1e-12&&(F=0),F<0)throw new Error("Cannot create an arc with the given arguments");_=new N(T*b/M,-M*y/T).multiply((x===c?-1:1)*i(F)).rotate(P).add(S),v=new Q().translate(_).rotate(P).scale(T,M),p=v._inverseTransform(u),m=p.getDirectedAngle(v._inverseTransform(l)),!c&&m>0?m-=360:c&&m<0&&(m+=360)}if(h){var O=new ue(u.add(h).divide(2),h.subtract(u).rotate(90),!0),D=new ue(h.add(l).divide(2),l.subtract(h).rotate(90),!0),B=new ue(u,l),V=B.getSide(h);if(_=O.intersect(D,!0),!_){if(!V)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(_),m=p.getDirectedAngle(l.subtract(_));var U=B.getSide(_,!0);U===0?m=V*t(m):V===U&&(m+=m<0?360:-360)}if(m){for(var W=1e-7,$=t(m),re=$>=360?4:Math.ceil(($-W)/90),le=m/re,he=le*Math.PI/360,te=4/3*Math.sin(he)/(1+Math.cos(he)),ie=[],fe=0;fe<=re;fe++){var w=l,ce=null;if(fe<re&&(ce=p.rotate(90).multiply(te),v?(w=v._transformPoint(p),ce=v._transformPoint(p.add(ce)).subtract(w)):w=_.add(p)),!fe)a.setHandleOut(ce);else{var me=p.rotate(-90).multiply(te);v&&(me=v._transformPoint(p.add(me)).subtract(w)),ie.push(new de(w,me,ce))}p=p.rotate(le)}this._add(ie)}},lineBy:function(){var e=N.read(arguments),t=r(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=arguments,t=N.read(e),i=N.read(e),a=g.read(e),u=r(this)._point;this.curveTo(u.add(t),u.add(i),a)},cubicCurveBy:function(){var e=arguments,t=N.read(e),i=N.read(e),a=N.read(e),u=r(this)._point;this.cubicCurveTo(u.add(t),u.add(i),u.add(a))},quadraticCurveBy:function(){var e=arguments,t=N.read(e),i=N.read(e),a=r(this)._point;this.quadraticCurveTo(a.add(t),a.add(i))},arcBy:function(){var e=arguments,t=r(this)._point,i=t.add(N.read(e)),a=g.pick(g.peek(e),!0);typeof a=="boolean"?this.arcTo(i,a):this.arcTo(i,t.add(N.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(r,e){var t=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return _e[t](this._segments,this._closed,this,r,e)},statics:{getBounds:function(r,e,t,i,a,u){var l=r[0];if(!l)return new q;var h=new Array(6),f=l._transformCoordinates(i,new Array(6)),c=f.slice(0,2),_=c.slice(),m=new Array(2);function p(k){k._transformCoordinates(i,h);for(var I=0;I<2;I++)ee._addBounds(f[I],f[I+4],h[I+2],h[I],I,u?u[I]:0,c,_,m);var P=f;f=h,h=P}for(var v=1,S=r.length;v<S;v++)p(r[v]);return e&&p(l),new q(c[0],c[1],_[0]-c[0],_[1]-c[1])},getStrokeBounds:function(r,e,t,i,a){var u=t.getStyle(),l=u.hasStroke(),h=u.getStrokeWidth(),f=l&&t._getStrokeMatrix(i,a),c=l&&_e._getStrokePadding(h,f),_=_e.getBounds(r,e,t,i,a,c);if(!l)return _;var m=h/2,p=u.getStrokeJoin(),v=u.getStrokeCap(),S=u.getMiterLimit(),k=new q(new J(c));function I(T){_=_.include(T)}function P(T){_=_.unite(k.setCenter(T._point.transform(i)))}function x(T,M){M==="round"||T.isSmooth()?P(T):_e._addBevelJoin(T,M,m,S,i,f,I)}function w(T,M){M==="round"?P(T):_e._addSquareCap(T,M,m,i,f,I)}var y=r.length-(e?0:1);if(y>0){for(var b=1;b<y;b++)x(r[b],p);e?x(r[0],p):(w(r[0],v),w(r[r.length-1],v))}return _},_getStrokePadding:function(r,e){if(!e)return[r,r];var t=new N(r,0).transform(e),i=new N(0,r).transform(e),a=t.getAngleInRadians(),u=t.getLength(),l=i.getLength(),h=Math.sin(a),f=Math.cos(a),c=Math.tan(a),_=Math.atan2(l*c,u),m=Math.atan2(l,c*u);return[Math.abs(u*Math.cos(_)*f+l*Math.sin(_)*h),Math.abs(l*Math.sin(m)*f+u*Math.cos(m)*h)]},_addBevelJoin:function(r,e,t,i,a,u,l,h){var f=r.getCurve(),c=f.getPrevious(),_=f.getPoint1().transform(a),m=c.getNormalAtTime(1).multiply(t).transform(u),p=f.getNormalAtTime(0).multiply(t).transform(u),v=m.getDirectedAngle(p);if((v<0||v>=180)&&(m=m.negate(),p=p.negate()),h&&l(_),l(_.add(m)),e==="miter"){var S=new ue(_.add(m),new N(-m.y,m.x),!0).intersect(new ue(_.add(p),new N(-p.y,p.x),!0),!0);S&&_.getDistance(S)<=i*t&&l(S)}l(_.add(p))},_addSquareCap:function(r,e,t,i,a,u,l){var h=r._point.transform(i),f=r.getLocation(),c=f.getNormal().multiply(f.getTime()===0?t:-t).transform(a);e==="square"&&(l&&(u(h.subtract(c)),u(h.add(c))),h=h.add(c.rotate(-90))),u(h.add(c)),u(h.subtract(c))},getHandleBounds:function(r,e,t,i,a){var u=t.getStyle(),l=a.stroke&&u.hasStroke(),h,f;if(l){var c=t._getStrokeMatrix(i,a),_=u.getStrokeWidth()/2,m=_;u.getStrokeJoin()==="miter"&&(m=_*u.getMiterLimit()),u.getStrokeCap()==="square"&&(m=Math.max(m,_*Math.SQRT2)),h=_e._getStrokePadding(_,c),f=_e._getStrokePadding(m,c)}for(var p=new Array(6),v=1/0,S=-v,k=v,I=S,P=0,x=r.length;P<x;P++){var w=r[P];w._transformCoordinates(i,p);for(var y=0;y<6;y+=2){var b=y?h:f,T=b?b[0]:0,M=b?b[1]:0,E=p[y],z=p[y+1],A=E-T,R=E+T,F=z-M,O=z+M;A<v&&(v=A),R>S&&(S=R),F<k&&(k=F),O>I&&(I=O)}}return new q(v,k,S-v,I-k)}}});_e.inject({statics:new function(){var r=.5522847498307936,e=[new de([-1,0],[0,r],[0,-r]),new de([0,-1],[-r,0],[r,0]),new de([1,0],[0,-r],[0,r]),new de([0,1],[r,0],[-r,0])];function t(a,u,l){var h=g.getNamed(l),f=new _e(h&&h.insert==!1&&ae.NO_INSERT);return f._add(a),f._closed=u,f.set(h,{insert:!0})}function i(a,u,l){for(var h=new Array(4),f=0;f<4;f++){var c=e[f];h[f]=new de(c._point.multiply(u).add(a),c._handleIn.multiply(u),c._handleOut.multiply(u))}return t(h,!0,l)}return{Line:function(){var a=arguments;return t([new de(N.readNamed(a,"from")),new de(N.readNamed(a,"to"))],!1,a)},Circle:function(){var a=arguments,u=N.readNamed(a,"center"),l=g.readNamed(a,"radius");return i(u,new J(l),a)},Rectangle:function(){var a=arguments,u=q.readNamed(a,"rectangle"),l=J.readNamed(a,"radius",0,{readNull:!0}),h=u.getBottomLeft(!0),f=u.getTopLeft(!0),c=u.getTopRight(!0),_=u.getBottomRight(!0),m;if(!l||l.isZero())m=[new de(h),new de(f),new de(c),new de(_)];else{l=J.min(l,u.getSize(!0).divide(2));var p=l.width,v=l.height,S=p*r,k=v*r;m=[new de(h.add(p,0),null,[-S,0]),new de(h.subtract(0,v),[0,k]),new de(f.add(0,v),null,[0,-k]),new de(f.add(p,0),[-S,0],null),new de(c.subtract(p,0),null,[S,0]),new de(c.add(0,v),[0,-k],null),new de(_.subtract(0,v),null,[0,k]),new de(_.subtract(p,0),[S,0])]}return t(m,!0,a)},RoundRectangle:"#Rectangle",Ellipse:function(){var a=arguments,u=Te._readEllipse(a);return i(u.center,u.radius,a)},Oval:"#Ellipse",Arc:function(){var a=arguments,u=N.readNamed(a,"from"),l=N.readNamed(a,"through"),h=N.readNamed(a,"to"),f=g.getNamed(a),c=new _e(f&&f.insert==!1&&ae.NO_INSERT);return c.moveTo(u),c.arcTo(l,h),c.set(f)},RegularPolygon:function(){for(var a=arguments,u=N.readNamed(a,"center"),l=g.readNamed(a,"sides"),h=g.readNamed(a,"radius"),f=360/l,c=l%3===0,_=new N(0,c?-h:h),m=c?-1:.5,p=new Array(l),v=0;v<l;v++)p[v]=new de(u.add(_.rotate((v+m)*f)));return t(p,!0,a)},Star:function(){for(var a=arguments,u=N.readNamed(a,"center"),l=g.readNamed(a,"points")*2,h=g.readNamed(a,"radius1"),f=g.readNamed(a,"radius2"),c=360/l,_=new N(0,-1),m=new Array(l),p=0;p<l;p++)m[p]=new de(u.add(_.rotate(c*p).multiply(p%2?f:h)));return t(m,!0,a)}}}});var Ie=Ce.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function r(e,t){var i=t,a=i[0];a&&typeof a[0]=="number"&&(i=[i]);for(var u=t.length-1;u>=0;u--){var l=i[u];i===t&&!(l instanceof _e)&&(i=g.slice(i)),Array.isArray(l)?i[u]=new _e({segments:l,insert:!1}):l instanceof Ie&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return r.base.call(this,e,i)},reduce:function r(e){for(var t=this._children,i=t.length-1;i>=0;i--){var a=t[i].reduce(e);a.isEmpty()&&a.remove()}if(!t.length){var a=new _e(ae.NO_INSERT);return a.copyAttributes(this),a.insertAbove(this),this.remove(),a}return r.base.call(this)},isClosed:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)if(!r[e]._closed)return!1;return!0},setClosed:function(r){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,e=[],t=0,i=r.length;t<i;t++)g.push(e,r[t].getCurves());return e},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getArea();return e},getLength:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();return e},getPathData:function(r,e){for(var t=this._children,i=[],a=0,u=t.length;a<u;a++){var l=t[a],h=l._matrix;i.push(l.getPathData(r&&!h.isIdentity()?r.appended(h):r,e))}return i.join("")},_hitTestChildren:function r(e,t,i){return r.base.call(this,e,t.class===_e||t.type==="path"?t:g.set({},t,{fill:!1}),i)},_draw:function(r,e,t,i){var a=this._children;if(!!a.length){e=e.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var u=0,l=a.length;u<l;u++)a[u].draw(r,e,i);if(!e.clip){this._setStyles(r,e,t);var h=this._style;h.hasFill()&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&r.stroke()}}},_drawSelected:function(r,e,t){for(var i=this._children,a=0,u=i.length;a<u;a++){var l=i[a],h=l._matrix;t[l._id]||l._drawSelected(r,h.isIdentity()?e:e.appended(h))}}},new function(){function r(e,t){var i=e._children;if(t&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=r(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var e=r(this),t=e&&e.isEmpty()?e:new _e(ae.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=r(this,!0),t=e&&e.getLastSegment(),i=N.read(arguments);this.moveTo(t?i.add(t._point):i)},closePath:function(e){r(this,!0).closePath(e)}})},g.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(e){for(var t=this._children,i,a=0,u=t.length;a<u;a++)i=t[a][r](e)||i;return i}},{}));Ce.inject(new function(){var r=Math.min,e=Math.max,t=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function a(P){return P._children||[P]}function u(P,x){var w=P.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var y=a(w),b=0,T=y.length;b<T;b++){var P=y[b];!P._closed&&!P.isEmpty()&&(P.closePath(1e-12),P.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function l(P,x,w,y,b){var T=new Ie(ae.NO_INSERT);return T.addChildren(P,!0),T=T.reduce({simplify:x}),b&&b.insert==!1||T.insertAbove(y&&w.isSibling(y)&&w.getIndex()<y.getIndex()?y:w),T.copyAttributes(w,!0),T}function h(P){return P.hasOverlap()||P.isCrossing()}function f(P,x,w,y){if(y&&(y.trace==!1||y.stroke)&&/^(subtract|intersect)$/.test(w))return c(P,x,w);var b=u(P,!0),T=x&&P!==x&&u(x,!0),M=i[w];M[w]=!0,T&&(M.subtract||M.exclude)^(T.isClockwise()^b.isClockwise())&&T.reverse();var E=v(Je.expand(b.getIntersections(T,h))),z=a(b),A=T&&a(T),R=[],F=[],O;function D(ce){for(var me=0,Se=ce.length;me<Se;me++){var xe=ce[me];g.push(R,xe._segments),g.push(F,xe.getCurves()),xe._overlapsOnly=!0}}function B(ce){for(var me=[],Se=0,xe=ce&&ce.length;Se<xe;Se++)me.push(F[ce[Se]]);return me}if(E.length){D(z),A&&D(A);for(var V=new Array(F.length),U=0,W=F.length;U<W;U++)V[U]=F[U].getValues();for(var $=Y.findCurveBoundsCollisions(V,V,0,!0),re={},U=0;U<F.length;U++){var le=F[U],he=le._path._id,te=re[he]=re[he]||{};te[le.getIndex()]={hor:B($[U].hor),ver:B($[U].ver)}}for(var U=0,W=E.length;U<W;U++)k(E[U]._segment,b,T,re,M);for(var U=0,W=R.length;U<W;U++){var ie=R[U],fe=ie._intersection;ie._winding||k(ie,b,T,re,M),fe&&fe._overlap||(ie._path._overlapsOnly=!1)}O=I(R,M)}else O=p(A?z.concat(A):z.slice(),function(ce){return!!M[ce]});return l(O,!0,P,x,y)}function c(P,x,w){var y=u(P),b=u(x),T=y.getIntersections(b,h),M=w==="subtract",E=w==="divide",z={},A=[];function R(D){if(!z[D._id]&&(E||b.contains(D.getPointAt(D.getLength()/2))^M))return A.unshift(D),z[D._id]=!0}for(var F=T.length-1;F>=0;F--){var O=T[F].split();O&&(R(O)&&O.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return R(y),l(A,!1,P,x)}function _(P,x){for(var w=P;w;){if(w===x)return;w=w._previous}for(;P._next&&P._next!==x;)P=P._next;if(!P._next){for(;x._previous;)x=x._previous;P._next=x,x._previous=P}}function m(P){for(var x=P.length-1;x>=0;x--)P[x].clearHandles()}function p(P,x,w){var y=P&&P.length;if(y){var b=g.each(P,function($,re){this[$._id]={container:null,winding:$.isClockwise()?1:-1,index:re}},{}),T=P.slice().sort(function($,re){return t(re.getArea())-t($.getArea())}),M=T[0],E=Y.findItemBoundsCollisions(T,null,K.GEOMETRIC_EPSILON);w==null&&(w=M.isClockwise());for(var z=0;z<y;z++){var A=T[z],R=b[A._id],F=0,O=E[z];if(O){for(var D=null,B=O.length-1;B>=0;B--)if(O[B]<z){D=D||A.getInteriorPoint();var V=T[O[B]];if(V.contains(D)){var U=b[V._id];F=U.winding,R.winding+=F,R.container=U.exclude?U.container:V;break}}}if(x(R.winding)===x(F))R.exclude=!0,P[R.index]=null;else{var W=R.container;A.setClockwise(W?!W.isClockwise():w)}}}return P}function v(P,x,w){var y=x&&[],b=1e-8,T=1-b,M=!1,E=w||[],z=w&&{},A,R,F;function O(me){return me._path._id+"."+me._segment1._index}for(var D=(w&&w.length)-1;D>=0;D--){var B=w[D];B._path&&(z[O(B)]=!0)}for(var D=P.length-1;D>=0;D--){var V=P[D],U=V._time,W=U,$=x&&!x(V),B=V._curve,re;if(B&&(B!==R?(M=!B.hasHandles()||z&&z[O(B)],A=[],F=null,R=B):F>=b&&(U/=F)),$){A&&A.push(V);continue}else x&&y.unshift(V);if(F=W,U<b)re=B._segment1;else if(U>T)re=B._segment2;else{var le=B.divideAtTime(U,!0);M&&E.push(B,le),re=le._segment1;for(var he=A.length-1;he>=0;he--){var te=A[he];te._time=(te._time-U)/(1-U)}}V._setSegment(re);var ie=re._intersection,fe=V._intersection;if(ie){_(ie,fe);for(var ce=ie;ce;)_(ce._intersection,ie),ce=ce._next}else re._intersection=fe}return w||m(E),y||P}function S(P,x,w,y,b){var T=Array.isArray(x)?x:x[w?"hor":"ver"],M=w?1:0,E=M^1,z=[P.x,P.y],A=z[M],R=z[E],F=1e-9,O=1e-6,D=A-F,B=A+F,V=0,U=0,W=0,$=0,re=!1,le=!1,he=1,te=[],ie,fe;function ce(Le){var Re=Le[E+0],$e=Le[E+6];if(!(R<r(Re,$e)||R>e(Re,$e))){var rt=Le[M+0],ut=Le[M+2],At=Le[M+4],Bt=Le[M+6];if(Re===$e){(rt<B&&Bt>D||Bt<B&&rt>D)&&(re=!0);return}var Tt=R===Re?0:R===$e||D>e(rt,ut,At,Bt)||B<r(rt,ut,At,Bt)?1:ee.solveCubic(Le,E,R,te,0,1)>0?te[0]:1,pt=Tt===0?rt:Tt===1?Bt:ee.getPoint(Le,Tt)[w?"y":"x"],ft=Re>$e?1:-1,Nt=ie[E]>ie[E+6]?1:-1,qt=ie[M+6];return R!==Re?(pt<D?W+=ft:pt>B?$+=ft:re=!0,pt>A-O&&pt<A+O&&(he/=2)):(ft!==Nt?rt<D?W+=ft:rt>B&&($+=ft):rt!=qt&&(qt<B&&pt>B?($+=ft,re=!0):qt>D&&pt<D&&(W+=ft,re=!0)),he/=4),ie=Le,!b&&pt>D&&pt<B&&ee.getTangent(Le,Tt)[w?"x":"y"]===0&&S(P,x,!w,y,!0)}}function me(Le){var Re=Le[E+0],$e=Le[E+2],rt=Le[E+4],ut=Le[E+6];if(R<=e(Re,$e,rt,ut)&&R>=r(Re,$e,rt,ut)){for(var At=Le[M+0],Bt=Le[M+2],Tt=Le[M+4],pt=Le[M+6],ft=D>e(At,Bt,Tt,pt)||B<r(At,Bt,Tt,pt)?[Le]:ee.getMonoCurves(Le,w),Nt,qt=0,ln=ft.length;qt<ln;qt++)if(Nt=ce(ft[qt]))return Nt}}for(var Se=0,xe=T.length;Se<xe;Se++){var Pe=T[Se],ke=Pe._path,ze=Pe.getValues(),Ge;if((!Se||T[Se-1]._path!==ke)&&(ie=null,ke._closed||(fe=ee.getValues(ke.getLastCurve().getSegment2(),Pe.getSegment1(),null,!y),fe[E]!==fe[E+6]&&(ie=fe)),!ie)){ie=ze;for(var Xe=ke.getLastCurve();Xe&&Xe!==Pe;){var Qe=Xe.getValues();if(Qe[E]!==Qe[E+6]){ie=Qe;break}Xe=Xe.getPrevious()}}if(Ge=me(ze))return Ge;if(Se+1===xe||T[Se+1]._path!==ke){if(fe&&(Ge=me(fe)))return Ge;re&&!W&&!$&&(W=$=ke.isClockwise(y)^w?1:-1),V+=W,U+=$,W=$=0,re&&(le=!0,re=!1),fe=null}}return V=t(V),U=t(U),{winding:e(V,U),windingL:V,windingR:U,quality:he,onPath:le}}function k(P,x,w,y,b){var T=[],M=P,E=0,F;do{var z=P.getCurve();if(z){var A=z.getLength();T.push({segment:P,curve:z,length:A}),E+=A}P=P.getNext()}while(P&&!P._intersection&&P!==M);for(var R=[.5,.25,.75],F={winding:0,quality:-1},O=.001,D=1-O,B=0;B<R.length&&F.quality<.5;B++)for(var A=E*R[B],V=0,U=T.length;V<U;V++){var W=T[V],$=W.length;if(A<=$){var z=W.curve,re=z._path,le=re._parent,he=le instanceof Ie?le:re,te=K.clamp(z.getTimeAt(A),O,D),ie=z.getPointAtTime(te),fe=t(z.getTangentAtTime(te).y)<Math.SQRT1_2,ce=null;if(b.subtract&&w){var me=he===x?w:x,Se=me._getWinding(ie,fe,!0);if(he===x&&Se.winding||he===w&&!Se.winding){if(Se.quality<1)continue;ce={winding:0,quality:1}}}ce=ce||S(ie,y[re._id][z.getIndex()],fe,!0),ce.quality>F.quality&&(F=ce);break}A-=$}for(var V=T.length-1;V>=0;V--)T[V].segment._winding=F}function I(P,x){var w=[],y;function b(xe){var Pe;return!!(xe&&!xe._visited&&(!x||x[(Pe=xe._winding||{}).winding]&&!(x.unite&&Pe.winding===2&&Pe.windingL&&Pe.windingR)))}function T(xe){if(xe){for(var Pe=0,ke=y.length;Pe<ke;Pe++)if(xe===y[Pe])return!0}return!1}function M(xe){for(var Pe=xe._segments,ke=0,ze=Pe.length;ke<ze;ke++)Pe[ke]._visited=!0}function E(xe,Pe){var ke=xe._intersection,ze=ke,Ge=[];Pe&&(y=[xe]);function Xe(Qe,Le){for(;Qe&&Qe!==Le;){var Re=Qe._segment,$e=Re&&Re._path;if($e){var rt=Re.getNext()||$e.getFirstSegment(),ut=rt._intersection;Re!==xe&&(T(Re)||T(rt)||rt&&b(Re)&&(b(rt)||ut&&b(ut._segment)))&&Ge.push(Re),Pe&&y.push(Re)}Qe=Qe._next}}if(ke){for(Xe(ke);ke&&ke._previous;)ke=ke._previous;Xe(ke,ze)}return Ge}P.sort(function(xe,Pe){var ke=xe._intersection,ze=Pe._intersection,Ge=!!(ke&&ke._overlap),Xe=!!(ze&&ze._overlap),Qe=xe._path,Le=Pe._path;return Ge^Xe?Ge?1:-1:!ke^!ze?ke?1:-1:Qe!==Le?Qe._id-Le._id:xe._index-Pe._index});for(var z=0,A=P.length;z<A;z++){var R=P[z],F=b(R),O=null,D=!1,B=!0,V=[],U,W,$;if(F&&R._path._overlapsOnly){var re=R._path,le=R._intersection._segment._path;re.compare(le)&&(re.getArea()&&w.push(re.clone(!1)),M(re),M(le),F=!1)}for(;F;){var he=!O,te=E(R,he),ie=te.shift(),D=!he&&(T(R)||T(ie)),fe=!D&&ie;if(he&&(O=new _e(ae.NO_INSERT),U=null),D){(R.isFirst()||R.isLast())&&(B=R._path._closed),R._visited=!0;break}if(fe&&U&&(V.push(U),U=null),U||(fe&&te.push(R),U={start:O._segments.length,crossings:te,visited:W=[],handleIn:$}),fe&&(R=ie),!b(R)){O.removeSegments(U.start);for(var ce=0,me=W.length;ce<me;ce++)W[ce]._visited=!1;W.length=0;do R=U&&U.crossings.shift(),(!R||!R._path)&&(R=null,U=V.pop(),U&&(W=U.visited,$=U.handleIn));while(U&&!b(R));if(!R)break}var Se=R.getNext();O.add(new de(R._point,$,Se&&R._handleOut)),R._visited=!0,W.push(R),R=Se||R._path.getFirstSegment(),$=Se&&Se._handleIn}D&&(B&&(O.getFirstSegment().setHandleIn($),O.setClosed(B)),O.getArea()!==0&&w.push(O))}return w}return{_getWinding:function(P,x,w){return S(P,this.getCurves(),x,w)},unite:function(P,x){return f(this,P,"unite",x)},intersect:function(P,x){return f(this,P,"intersect",x)},subtract:function(P,x){return f(this,P,"subtract",x)},exclude:function(P,x){return f(this,P,"exclude",x)},divide:function(P,x){return x&&(x.trace==!1||x.stroke)?c(this,P,"divide"):l([this.subtract(P,x),this.intersect(P,x)],!0,this,P,x)},resolveCrossings:function(){var P=this._children,x=P||[this];function w(U,W){var $=U&&U._intersection;return $&&$._overlap&&$._path===W}var y=!1,b=!1,T=this.getIntersections(null,function(U){return U.hasOverlap()&&(y=!0)||U.isCrossing()&&(b=!0)}),M=y&&b&&[];if(T=Je.expand(T),y)for(var E=v(T,function(U){return U.hasOverlap()},M),z=E.length-1;z>=0;z--){var A=E[z],R=A._path,F=A._segment,O=F.getPrevious(),D=F.getNext();w(O,R)&&w(D,R)&&(F.remove(),O._handleOut._set(0,0),D._handleIn._set(0,0),O!==F&&!O.getCurve().hasLength()&&(D._handleIn.set(O._handleIn),O.remove()))}b&&(v(T,y&&function(U){var W=U.getCurve(),$=U.getSegment(),re=U._intersection,le=re._curve,he=re._segment;if(W&&le&&W._path&&le._path)return!0;$&&($._intersection=null),he&&(he._intersection=null)},M),M&&m(M),x=I(g.each(x,function(U){g.push(this,U._segments)},[])));var B=x.length,V;return B>1&&P?(x!==P&&this.setChildren(x),V=this):B===1&&!P&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),V=this),V||(V=new Ie(ae.NO_INSERT),V.addChildren(x),V=V.reduce(),V.copyAttributes(this),this.replaceWith(V)),V},reorient:function(P,x){var w=this._children;return w&&w.length?this.setChildren(p(this.removeChildren(),function(y){return!!(P?y:y&1)},x)):x!==o&&this.setClockwise(x),this},getInteriorPoint:function(){var P=this.getBounds(),x=P.getCenter(!0);if(!this.contains(x)){for(var w=this.getCurves(),y=x.y,b=[],T=[],M=0,E=w.length;M<E;M++){var z=w[M].getValues(),A=z[1],R=z[3],F=z[5],O=z[7];if(y>=r(A,R,F,O)&&y<=e(A,R,F,O))for(var D=ee.getMonoCurves(z),B=0,V=D.length;B<V;B++){var U=D[B],W=U[1],$=U[7];if(W!==$&&(y>=W&&y<=$||y>=$&&y<=W)){var re=y===W?U[0]:y===$?U[6]:ee.solveCubic(U,1,y,T,0,1)===1?ee.getPoint(U,T[0]).x:(U[0]+U[6])/2;b.push(re)}}}b.length>1&&(b.sort(function(le,he){return le-he}),x.x=(b[0]+b[1])/2)}return x}}});var Ze=g.extend({_class:"PathFlattener",initialize:function(r,e,t,i,a){var u=[],l=[],h=0,f=1/(t||32),c=r._segments,_=c[0],m;function p(I,P){var x=ee.getValues(I,P,a);u.push(x),v(x,I._index,0,1)}function v(I,P,x,w){if(w-x>f&&!(i&&ee.isStraight(I))&&!ee.isFlatEnough(I,e||.25)){var y=ee.subdivide(I,.5),b=(x+w)/2;v(y[0],P,x,b),v(y[1],P,b,w)}else{var T=I[6]-I[0],M=I[7]-I[1],E=Math.sqrt(T*T+M*M);E>0&&(h+=E,l.push({offset:h,curve:I,index:P,time:w}))}}for(var S=1,k=c.length;S<k;S++)m=c[S],p(_,m),_=m;r._closed&&p(m||_,c[0]),this.curves=u,this.parts=l,this.length=h,this.index=0},_get:function(r){for(var e=this.parts,t=e.length,i,a=this.index;i=a,!(!a||e[--a].offset<r););for(;i<t;i++){var u=e[i];if(u.offset>=r){this.index=i;var l=e[i-1],h=l&&l.index===u.index?l.time:0,f=l?l.offset:0;return{index:u.index,time:h+(u.time-h)*(r-f)/(u.offset-f)}}}return{index:e[t-1].index,time:1}},drawPart:function(r,e,t){for(var i=this._get(e),a=this._get(t),u=i.index,l=a.index;u<=l;u++){var h=ee.getPart(this.curves[u],u===i.index?i.time:0,u===a.index?a.time:1);u===i.index&&r.moveTo(h[0],h[1]),r.bezierCurveTo.apply(r,h.slice(2))}}},g.each(ee._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this._get(e);return ee[r](this.curves[t.index],t.time)}},{})),nt=g.extend({initialize:function(r){for(var e=this.points=[],t=r._segments,i=r._closed,a=0,u,l=t.length;a<l;a++){var h=t[a].point;(!u||!u.equals(h))&&e.push(u=h.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(r){var e=this.points,t=e.length,i=null;return t>0&&(i=[new de(e[0])],t>1&&(this.fitCubic(i,r,0,t-1,e[1].subtract(e[0]),e[t-2].subtract(e[t-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(r,e,t,i,a,u){var l=this.points;if(i-t===1){var h=l[t],f=l[i],c=h.getDistance(f)/3;this.addCurve(r,[h,h.add(a.normalize(c)),f.add(u.normalize(c)),f]);return}for(var _=this.chordLengthParameterize(t,i),m=Math.max(e,e*e),p,v=!0,S=0;S<=4;S++){var k=this.generateBezier(t,i,_,a,u),I=this.findMaxError(t,i,k,_);if(I.error<e&&v){this.addCurve(r,k);return}if(p=I.index,I.error>=m)break;v=this.reparameterize(t,i,_,k),m=I.error}var P=l[p-1].subtract(l[p+1]);this.fitCubic(r,e,t,p,a,P),this.fitCubic(r,e,p,i,P.negate(),u)},addCurve:function(r,e){var t=r[r.length-1];t.setHandleOut(e[1].subtract(e[0])),r.push(new de(e[3],e[2].subtract(e[3])))},generateBezier:function(r,e,t,i,a){for(var u=1e-12,l=Math.abs,h=this.points,f=h[r],c=h[e],_=[[0,0],[0,0]],m=[0,0],p=0,v=e-r+1;p<v;p++){var S=t[p],k=1-S,I=3*S*k,P=k*k*k,x=I*k,w=I*S,y=S*S*S,b=i.normalize(x),T=a.normalize(w),M=h[r+p].subtract(f.multiply(P+x)).subtract(c.multiply(w+y));_[0][0]+=b.dot(b),_[0][1]+=b.dot(T),_[1][0]=_[0][1],_[1][1]+=T.dot(T),m[0]+=b.dot(M),m[1]+=T.dot(M)}var E=_[0][0]*_[1][1]-_[1][0]*_[0][1],z,A;if(l(E)>u){var R=_[0][0]*m[1]-_[1][0]*m[0],F=m[0]*_[1][1]-m[1]*_[0][1];z=F/E,A=R/E}else{var O=_[0][0]+_[0][1],D=_[1][0]+_[1][1];z=A=l(O)>u?m[0]/O:l(D)>u?m[1]/D:0}var B=c.getDistance(f),V=u*B,U,W;if(z<V||A<V)z=A=B/3;else{var $=c.subtract(f);U=i.normalize(z),W=a.normalize(A),U.dot($)-W.dot($)>B*B&&(z=A=B/3,U=W=null)}return[f,f.add(U||i.normalize(z)),c.add(W||a.normalize(A)),c]},reparameterize:function(r,e,t,i){for(var a=r;a<=e;a++)t[a-r]=this.findRoot(i,this.points[a],t[a-r]);for(var a=1,u=t.length;a<u;a++)if(t[a]<=t[a-1])return!1;return!0},findRoot:function(r,e,t){for(var i=[],a=[],u=0;u<=2;u++)i[u]=r[u+1].subtract(r[u]).multiply(3);for(var u=0;u<=1;u++)a[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,r,t),h=this.evaluate(2,i,t),f=this.evaluate(1,a,t),c=l.subtract(e),_=h.dot(h)+c.dot(f);return K.isMachineZero(_)?t:t-c.dot(h)/_},evaluate:function(r,e,t){for(var i=e.slice(),a=1;a<=r;a++)for(var u=0;u<=r-a;u++)i[u]=i[u].multiply(1-t).add(i[u+1].multiply(t));return i[0]},chordLengthParameterize:function(r,e){for(var t=[0],i=r+1;i<=e;i++)t[i-r]=t[i-r-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,a=e-r;i<=a;i++)t[i]/=t[a];return t},findMaxError:function(r,e,t,i){for(var a=Math.floor((e-r+1)/2),u=0,l=r+1;l<e;l++){var h=this.evaluate(3,t,i[l-r]),f=h.subtract(this.points[l]),c=f.x*f.x+f.y*f.y;c>=u&&(u=c,a=l)}return{error:u,index:a}}}),zt=ae.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&g.isPlainObject(e)&&e.x===o&&e.y===o;this._initialize(t&&e,!t&&N.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Dt=zt.extend({_class:"PointText",initialize:function(){zt.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new ge(r.x,r.y,this,"setPoint")},setPoint:function(){var r=N.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,e,t){if(!!this._content){this._setStyles(r,e,t);var i=this._lines,a=this._style,u=a.hasFill(),l=a.hasStroke(),h=a.getLeading(),f=r.shadowColor;r.font=a.getFontStyle(),r.textAlign=a.getJustification();for(var c=0,_=i.length;c<_;c++){r.shadowColor=f;var m=i[c];u&&(r.fillText(m,0,0),r.shadowColor="rgba(0,0,0,0)"),l&&r.strokeText(m,0,0),r.translate(0,h)}}},_getBounds:function(r,e){var t=this._style,i=this._lines,a=i.length,u=t.getJustification(),l=t.getLeading(),h=this.getView().getTextWidth(t.getFontStyle(),i),f=0;u!=="left"&&(f-=h/(u==="center"?2:1));var c=new q(f,a?-.75*l:0,h,a*l);return r?r._transformBounds(c,c):c}}),Oe=g.extend(new function(){var r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},t={transparent:[0,0,0,0]},i;function a(h){var f=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",_;if(f){var m=f[4]?4:3;_=new Array(m);for(var p=0;p<m;p++){var v=f[p+1];_[p]=parseInt(v.length==1?v+v:v,16)/255}}else if(f=h.match(/^(rgb|hsl)a?\((.*)\)$/)){c=f[1],_=f[2].trim().split(/[,\s]+/g);for(var S=c==="hsl",p=0,k=Math.min(_.length,4);p<k;p++){var I=_[p],v=parseFloat(I);if(S)if(p===0){var P=I.match(/([a-z]*)$/)[1];v*={turn:360,rad:180/Math.PI,grad:.9}[P]||1}else p<3&&(v/=100);else p<3&&(v/=/%$/.test(I)?100:255);_[p]=v}}else{var x=t[h];if(!x)if(d){i||(i=Ct.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=h,i.fillRect(0,0,1,1);var w=i.getImageData(0,0,1,1).data;x=t[h]=[w[0]/255,w[1]/255,w[2]/255]}else x=[0,0,0];_=x.slice()}return[c,_]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(h,f,c){var _=Math.max(h,f,c),m=Math.min(h,f,c),p=_-m,v=p===0?0:(_==h?(f-c)/p+(f<c?6:0):_==f?(c-h)/p+2:(h-f)/p+4)*60;return[v,_===0?0:p/_,_]},"hsb-rgb":function(h,f,c){h=(h/60%6+6)%6;var m=Math.floor(h),_=h-m,m=u[m],p=[c,c*(1-f),c*(1-f*_),c*(1-f*(1-_))];return[p[m[0]],p[m[1]],p[m[2]]]},"rgb-hsl":function(h,f,c){var _=Math.max(h,f,c),m=Math.min(h,f,c),p=_-m,v=p===0,S=v?0:(_==h?(f-c)/p+(f<c?6:0):_==f?(c-h)/p+2:(h-f)/p+4)*60,k=(_+m)/2,I=v?0:k<.5?p/(_+m):p/(2-_-m);return[S,I,k]},"hsl-rgb":function(h,f,c){if(h=(h/360%1+1)%1,f===0)return[c,c,c];for(var _=[h+1/3,h,h-1/3],m=c<.5?c*(1+f):c+f-c*f,p=2*c-m,v=[],S=0;S<3;S++){var k=_[S];k<0&&(k+=1),k>1&&(k-=1),v[S]=6*k<1?p+(m-p)*6*k:2*k<1?m:3*k<2?p+(m-p)*(2/3-k)*6:p}return v},"rgb-gray":function(h,f,c){return[h*.2989+f*.587+c*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(r,function(h,f){e[f]=[],g.each(h,function(c,_){var m=g.capitalize(c),p=/^(hue|saturation)$/.test(c),v=e[f][_]=f==="gradient"?c==="gradient"?function(S){var k=this._components[0];return S=It.read(Array.isArray(S)?S:arguments,0,{readNull:!0}),k!==S&&(k&&k._removeOwner(this),S&&S._addOwner(this)),S}:function(){return N.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(S){return S==null||isNaN(S)?0:+S};this["get"+m]=function(){return this._type===f||p&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(f)[_]},this["set"+m]=function(S){this._type!==f&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(f),this._properties=r[f],this._type=f),this._components[_]=v.call(this,S),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(f){var c=arguments,_=this.__read,m=0,p,v,S,k;Array.isArray(f)&&(c=f,f=c[0]);var I=f!=null&&typeof f;if(I==="string"&&f in r&&(p=f,f=c[1],Array.isArray(f)?(v=f,S=c[2]):(_&&(m=1),c=g.slice(c,1),I=typeof f)),!v){if(k=I==="number"?c:I==="object"&&f.length!=null?f:null,k){p||(p=k.length>=3?"rgb":"gray");var P=r[p].length;S=k[P],_&&(m+=k===arguments?P+(S!=null?1:0):1),k.length>P&&(k=g.slice(k,0,P))}else if(I==="string"){var x=a(f);p=x[0],v=x[1],v.length===4&&(S=v[3],v.length--)}else if(I==="object")if(f.constructor===h){if(p=f._type,v=f._components.slice(),S=f._alpha,p==="gradient")for(var w=1,y=v.length;w<y;w++){var b=v[w];b&&(v[w]=b.clone())}}else if(f.constructor===It)p="gradient",k=c;else{p="hue"in f?"lightness"in f?"hsl":"hsb":"gradient"in f||"stops"in f||"radial"in f?"gradient":"gray"in f?"gray":"rgb";var T=r[p],M=e[p];this._components=v=[];for(var w=0,y=T.length;w<y;w++){var E=f[T[w]];E==null&&!w&&p==="gradient"&&"stops"in f&&(E={stops:f.stops,radial:f.radial}),E=M[w].call(this,E),E!=null&&(v[w]=E)}S=f.alpha}_&&p&&(m=1)}if(this._type=p||"rgb",!v){this._components=v=[];for(var M=e[this._type],w=0,y=M.length;w<y;w++){var E=M[w].call(this,k&&k[w]);E!=null&&(v[w]=E)}}return this._components=v,this._properties=r[this._type],this._alpha=S,_&&(this.__read=m),this},set:"#initialize",_serialize:function(h,f){var c=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),h,!0,f)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var f;return this._type===h?this._components.slice():(f=l[this._type+"-"+h])?f.apply(this,this._components):l["rgb-"+h].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new Oe(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=r[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var f=g.isPlainValue(h,!0)?Oe.read(arguments):h;return f===this||f&&this._class===f._class&&this._type===f._type&&this.getAlpha()===f.getAlpha()&&g.equals(this._components,f._components)||!1},toString:function(){for(var h=this._properties,f=[],c=this._type==="gradient",_=ne.instance,m=0,p=h.length;m<p;m++){var v=this._components[m];v!=null&&f.push(h[m]+": "+(c?v:_.number(v)))}return this._alpha!=null&&f.push("alpha: "+_.number(this._alpha)),"{ "+f.join(", ")+" }"},toCSS:function(h){var f=this._convert("rgb"),c=h||this._alpha==null?1:this._alpha;function _(m){return Math.round((m<0?0:m>1?1:m)*255)}return f=[_(f[0]),_(f[1]),_(f[2])],c<1&&f.push(c<0?0:c),h?"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1):(f.length==4?"rgba(":"rgb(")+f.join(",")+")"},toCanvasStyle:function(h,f){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,_=c[0],m=_._stops,p=c[1],v=c[2],S=c[3],k=f&&f.inverted(),I;if(k&&(p=k._transformPoint(p),v=k._transformPoint(v),S&&(S=k._transformPoint(S))),_._radial){var P=v.getDistance(p);if(S){var x=S.subtract(p);x.getLength()>P&&(S=p.add(x.normalize(P-.1)))}var w=S||p;I=h.createRadialGradient(w.x,w.y,0,p.x,p.y,P)}else I=h.createLinearGradient(p.x,p.y,v.x,v.y);for(var y=0,b=m.length;y<b;y++){var T=m[y],M=T._offset;I.addColorStop(M==null?y/(b-1):M,T._color.toCanvasStyle())}return this._canvasStyle=I},transform:function(h){if(this._type==="gradient"){for(var f=this._components,c=1,_=f.length;c<_;c++){var m=f[c];h._transformPoint(m,m,!0)}this._changed()}},statics:{_types:r,random:function(){var h=Math.random;return new Oe(h(),h(),h())},_setOwner:function(h,f,c){return h&&(h._owner&&f&&h._owner!==f&&(h=h.clone()),!h._owner^!f&&(h._owner=f||null,h._setter=c||null)),h}}})},new function(){var r={add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}};return g.each(r,function(e,t){this[t]=function(i){i=Oe.read(arguments);for(var a=this._type,u=this._components,l=i._convert(a),h=0,f=u.length;h<f;h++)l[h]=e(u[h],l[h]);return new Oe(a,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),It=g.extend({_class:"Gradient",initialize:function(e,t){this._id=se.get(),e&&g.isPlainObject(e)&&(this.set(e),e=t=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof t=="string"&&t==="radial"||t||!1)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._stops,this._radial],r,!0,e)})},_changed:function(){for(var r=0,e=this._owners&&this._owners.length;r<e;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var e=this._owners?this._owners.indexOf(r):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var r=[],e=0,t=this._stops.length;e<t;e++)r[e]=this._stops[e].clone();return new It(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var t=0,i=e.length;t<i;t++)e[t]._owner=o;e=this._stops=Yt.readList(r,0,{clone:!0});for(var t=0,i=e.length;t<i;t++)e[t]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var e=this._stops,t=r._stops,i=e.length;if(i===t.length){for(var a=0;a<i;a++)if(!e[a].equals(t[a]))return!1;return!0}}return!1}}),Yt=g.extend({_class:"GradientStop",initialize:function(e,t){var i=e,a=t;typeof e=="object"&&t===o&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],a=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,a=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(a)},clone:function(){return new Yt(this._color.clone(),this._offset)},_serialize:function(r,e){var t=this._color,i=this._offset;return g.serialize(i==null?[t]:[t,i],r,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Oe._setOwner(this._color,null),this._color=Oe._setOwner(Oe.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),bi=g.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new N,selectedColor:null},e=g.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),t=g.set({},e,{fillColor:new Oe}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},u={_class:"Style",beans:!0,initialize:function(h,f,c){this._values={},this._owner=f,this._project=f&&f._project||c||qe.project,this._defaults=!f||f instanceof pe?e:f instanceof zt?t:r,h&&this.set(h)}};return g.each(e,function(l,h){var f=/Color$/.test(h),c=h==="shadowOffset",_=g.capitalize(h),m=i[h],p="set"+_,v="get"+_;u[p]=function(S){var k=this._owner,I=k&&k._children,P=I&&I.length>0&&!(k instanceof Ie);if(P)for(var x=0,w=I.length;x<w;x++)I[x]._style[p](S);if((h==="selectedColor"||!P)&&h in this._defaults){var y=this._values[h];y!==S&&(f&&(y&&(Oe._setOwner(y,null),y._canvasStyle=null),S&&S.constructor===Oe&&(S=Oe._setOwner(S,k,P&&p))),this._values[h]=S,k&&k._changed(m||129))}},u[v]=function(S){var k=this._owner,I=k&&k._children,P=I&&I.length>0&&!(k instanceof Ie),x;if(P&&!S)for(var w=0,y=I.length;w<y;w++){var b=I[w]._style[v]();if(!w)x=b;else if(!g.equals(x,b))return o}else if(h in this._defaults){var x=this._values[h];if(x===o)x=this._defaults[h],x&&x.clone&&(x=x.clone());else{var T=f?Oe:c?N:null;T&&!(x&&x.constructor===T)&&(this._values[h]=x=T.read([x],0,{readNull:!0,clone:!0}))}}return x&&f&&(x=Oe._setOwner(x,k,P&&p)),x},a[v]=function(S){return this._style[v](S)},a[p]=function(S){this._style[p](S)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,h){var f="get"+h,c="set"+h;u[f]=a[f]="#get"+l,u[c]=a[c]="#set"+l}),ae.inject(a),u},{set:function(r){var e=r instanceof bi,t=e?r._values:r;if(t){for(var i in t)if(i in this._defaults){var a=t[i];this[i]=a&&e&&a.clone?a.clone():a}}},equals:function(r){function e(t,i,a){var u=t._values,l=i._values,h=i._defaults;for(var f in u){var c=u[f],_=l[f];if(!(a&&f in l)&&!g.equals(c,_===o?h[f]:_))return!1}return!0}return r===this||r&&this._class===r._class&&e(this,r)&&e(r,this,!0)||!1},_dispose:function(){var r;r=this.getFillColor(),r&&(r._canvasStyle=null),r=this.getStrokeColor(),r&&(r._canvasStyle=null),r=this.getShadowColor(),r&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var e=r.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),e!=null?e:t*1.2}}),Ve=new function(){function r(e,t,i,a){for(var u=["","webkit","moz","Moz","ms","o"],l=t[0].toUpperCase()+t.substring(1),h=0;h<6;h++){var f=u[h],c=f?f+l:t;if(c in e){if(i)e[c]=a;else return e[c];break}}}return{getStyles:function(e){var t=e&&e.nodeType!==9?e.ownerDocument:e,i=t&&t.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,t){var i=e.ownerDocument,a=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch(_){l={left:0,top:0,width:0,height:0}}var h=l.left-(u.clientLeft||a.clientLeft||0),f=l.top-(u.clientTop||a.clientTop||0);if(!t){var c=i.defaultView;h+=c.pageXOffset||u.scrollLeft||a.scrollLeft,f+=c.pageYOffset||u.scrollTop||a.scrollTop}return new q(h,f,l.width,l.height)},getViewportBounds:function(e){var t=e.ownerDocument,i=t.defaultView,a=t.documentElement;return new q(0,0,i.innerWidth||a.clientWidth,i.innerHeight||a.clientHeight)},getOffset:function(e,t){return Ve.getBounds(e,t).getPoint()},getSize:function(e){return Ve.getBounds(e,!0).getSize()},isInvisible:function(e){return Ve.getSize(e).equals(new J(0,0))},isInView:function(e){return!Ve.isInvisible(e)&&Ve.getViewportBounds(e).intersects(Ve.getBounds(e,!0))},isInserted:function(e){return C.body.contains(e)},getPrefixed:function(e,t){return e&&r(e,t)},setPrefixed:function(e,t,i){if(typeof t=="object")for(var a in t)r(e,a,!0,t[a]);else r(e,t,!0,i)}}},je={add:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++){var h=a[u],f=r===C&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;r.addEventListener(h,i,f)}},remove:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++)r.removeEventListener(a[u],i,!1)},getPoint:function(r){var e=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new N(e.pageX||e.clientX+C.documentElement.scrollLeft,e.pageY||e.clientY+C.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,e){return je.getPoint(r).subtract(Ve.getOffset(e||je.getTarget(r)))}};je.requestAnimationFrame=new function(){var r=Ve.getPrefixed(d,"requestAnimationFrame"),e=!1,t=[],i;function a(){var u=t;t=[];for(var l=0,h=u.length;l<h;l++)u[l]();e=r&&t.length,e&&r(a)}return function(u){t.push(u),r?e||(r(a),e=!0):i||(i=setInterval(a,1e3/60))}};var Be=g.extend(L,{_class:"View",initialize:function r(e,t){function i(m){return t[m]||parseInt(t.getAttribute(m),10)}function a(){var m=Ve.getSize(t);return m.isNaN()||m.isZero()?new J(i("width"),i("height")):m}var u;if(d&&t){this._id=t.getAttribute("id"),this._id==null&&t.setAttribute("id",this._id="paper-view-"+r._id++),je.add(t,this._viewEvents);var l="none";if(Ve.setPrefixed(t.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),H.hasAttribute(t,"resize")){var h=this;je.add(d,this._windowEvents={resize:function(){h.setViewSize(a())}})}if(u=a(),H.hasAttribute(t,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var f=this._stats.domElement,c=f.style,_=Ve.getOffset(t);c.position="absolute",c.left=_.x+"px",c.top=_.y+"px",C.body.appendChild(f)}}else u=new J(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new Q)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!qe.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Be._focused===this&&(Be._focused=null),Be._views.splice(Be._views.indexOf(this),1),delete Be._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),je.remove(this._element,this._viewEvents),je.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(ae._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;je.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var e=r._element;(!Ve.getPrefixed(C,"hidden")||H.getAttribute(e,"keepalive")==="true")&&Ve.isInView(e)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){qe=this._scope;var r=Date.now()/1e3,e=this._last?r-this._last:0;this._last=r,this.emit("frame",new g({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,e){var t=this._frameItems;e?(t[r._id]={item:r,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete t[r._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var e in this._frameItems){var t=this._frameItems[e];t.item.emit("frame",new g(r,{time:t.time+=r.delta,count:t.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var r=this._viewSize;return new Me(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=J.read(arguments),e=r.subtract(this._viewSize);e.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(r,e){var t=this._element;t&&(t.width!==r&&(t.width=r),t.height!==e&&(t.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new q(new N,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ve.isInView(this._element)},isInserted:function(){return Ve.isInserted(this._element)},getPixelSize:function(r){var e=this._element,t;if(e){var i=e.parentNode,a=C.createElement("div");a.style.fontSize=r,i.appendChild(a),t=parseFloat(Ve.getStyles(a).fontSize),i.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(r,e){return 0}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:N).read(t),a=N.read(t,0,{readNull:!0});return this.transform(new Q()[r](i,a||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new Q;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=N.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform(new Q().scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var e=this.getRotation();e!=null&&r!=null&&this.rotate(r-e)},getScaling:function(){var r=this._decompose().scaling;return new ge(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=N.read(arguments,0,{clone:!0,readNull:!0});r&&e&&this.scale(e.x/r.x,e.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(N.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(N.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(N.read(arguments))},getEventPoint:function(r){return this.viewToProject(je.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,e){C&&typeof e=="string"&&(e=C.getElementById(e));var t=d?Ja:Be;return new t(r,e)}}},new function(){if(!d)return;var r,e,t=!1,i=!1;function a(F){var O=je.getTarget(F);return O.getAttribute&&Be._viewsById[O.getAttribute("id")]}function u(){var F=Be._focused;if(!F||!F.isVisible()){for(var O=0,D=Be._views.length;O<D;O++)if((F=Be._views[O]).isVisible()){Be._focused=e=F;break}}}function l(F,O,D){F._handleMouseEvent("mousemove",O,D)}var h=d.navigator,f,c,_;h.pointerEnabled||h.msPointerEnabled?(f="pointerdown MSPointerDown",c="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",c="touchmove",_="touchend touchcancel","ontouchstart"in d&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",c+=" mousemove",_+=" mouseup"));var m={},p={mouseout:function(F){var O=Be._focused,D=je.getRelatedTarget(F);if(O&&(!D||D.nodeName==="HTML")){var B=je.getOffset(F,O._element),V=B.x,U=Math.abs,W=U(V),$=1<<25,re=W-$;B.x=U(re)<W?re*(V<0?-1:1):V,l(O,F,O.viewToProject(B))}},scroll:u};m[f]=function(F){var O=Be._focused=a(F);t||(t=!0,O._handleMouseEvent("mousedown",F))},p[c]=function(F){var O=Be._focused;if(!i){var D=a(F);D?O!==D&&(O&&l(O,F),r||(r=O),O=Be._focused=e=D):e&&e===O&&(r&&!r.isInserted()&&(r=null),O=Be._focused=r,r=null,u())}O&&l(O,F)},p[f]=function(){i=!0},p[_]=function(F){var O=Be._focused;O&&t&&O._handleMouseEvent("mouseup",F),i=t=!1},je.add(C,p),je.add(d,{load:u});var v=!1,S=!1,k={doubleclick:"click",mousedrag:"mousemove"},I=!1,P,x,w,y,b,T,M,E;function z(F,O,D,B,V,U,W){var $=!1,re;function le(he,te){if(he.responds(te)){if(re||(re=new Xa(te,B,V,O||he,U?V.subtract(U):null)),he.emit(te,re)&&(v=!0,re.prevented&&(S=!0),re.stopped))return $=!0}else{var ie=k[te];if(ie)return le(he,ie)}}for(;F&&F!==W&&!le(F,D);)F=F._parent;return $}function A(F,O,D,B,V,U){return F._project.removeOn(D),S=v=!1,b&&z(b,null,D,B,V,U)||O&&O!==b&&!O.isDescendant(b)&&z(O,null,D==="mousedrag"?"mousemove":D,B,V,U,b)||z(F,b||O||F,D,B,V,U)}var R={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(F,O,D){var B=this._itemEvents,V=B.native[F],U=F==="mousemove",W=this._scope.tool,$=this;function re(me){return B.virtual[me]||$.responds(me)||W&&W.responds(me)}U&&t&&re("mousedrag")&&(F="mousedrag"),D||(D=this.getEventPoint(O));var le=this.getBounds().contains(D),he=V&&le&&$._project.hitTest(D,{tolerance:0,fill:!0,stroke:!0}),te=he&&he.item||null,ie=!1,fe={};if(fe[F.substr(5)]=!0,V&&te!==y&&(y&&z(y,null,"mouseleave",O,D),te&&z(te,null,"mouseenter",O,D),y=te),I^le&&(z(this,null,le?"mouseenter":"mouseleave",O,D),ie=!0),(le||fe.drag)&&!D.equals(x)&&(A(this,te,U?F:"mousemove",O,D,x),ie=!0),I=le,fe.down&&le||fe.up&&P){if(A(this,te,F,O,D,P),fe.down){if(E=te===T&&Date.now()-M<300,w=T=te,!S&&te){for(var ce=te;ce&&!ce.responds("mousedrag");)ce=ce._parent;ce&&(b=te)}P=D}else fe.up&&(!S&&te===w&&(M=Date.now(),A(this,te,E?"doubleclick":"click",O,D,P),E=!1),w=b=null);I=!1,ie=!0}x=D,ie&&W&&(v=W._handleMouseEvent(F,O,D,fe)||v),O.cancelable!==!1&&(v&&!fe.move||fe.down&&re("mouseup"))&&O.preventDefault()},_handleKeyEvent:function(F,O,D,B){var V=this._scope,U=V.tool,W;function $(re){re.responds(F)&&(qe=V,re.emit(F,W=W||new Ya(F,O,D,B)))}this.isVisible()&&($(this),U&&U.responds(F)&&$(U))},_countItemEvent:function(F,O){var D=this._itemEvents,B=D.native,V=D.virtual;for(var U in R)B[U]=(B[U]||0)+(R[U][F]||0)*O;V[F]=(V[F]||0)+O},statics:{updateFocus:u,_resetState:function(){t=i=v=I=!1,r=e=P=x=w=y=b=T=M=E=null}}}}),Ja=Be.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof d.HTMLCanvasElement)){var i=J.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));t=Ct.getCanvas(i)}var a=this._context=t.getContext("2d");if(a.save(),this._pixelRatio=1,!/^off|false$/.test(H.getAttribute(t,"hidpi"))){var u=d.devicePixelRatio||1,l=Ve.getPrefixed(a,"backingStorePixelRatio")||1;this._pixelRatio=u/l}Be.call(this,e,t),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(e,t){var i=this._pixelRatio;if(r.base.call(this,e*i,t*i),i!==1){var a=this._element,u=this._context;if(!H.hasAttribute(a,"resize")){var l=a.style;l.width=e+"px",l.height=t+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function r(e){var t=qe.agent,i;if(t&&t.firefox)i=r.base.call(this,e);else{var a=this._context,u=a.font;a.font=e+" serif",i=parseFloat(a.font),a.font=u}return i},getTextWidth:function(r,e){var t=this._context,i=t.font,a=0;t.font=r;for(var u=0,l=e.length;u<l;u++)a=Math.max(a,t.measureText(e[u]).width);return t.font=i,a},update:function(){if(!this._needsUpdate)return!1;var r=this._project,e=this._context,t=this._viewSize;return e.clearRect(0,0,t.width+1,t.height+1),r&&r.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Vn=g.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Pr.modifiers}}),Ya=Vn.extend({_class:"KeyEvent",initialize:function(e,t,i,a){this.type=e,this.event=t,this.key=i,this.character=a},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Pr=new function(){var r={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},t={},i={},a,u,l=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=qe&&qe.agent;return c&&c.mac?this.meta:this.control}}});function h(c){var _=c.key||c.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===o?String.fromCharCode(c.keyCode):_,r[_]||(_.length>1?g.hyphenate(_):_.toLowerCase())}function f(c,_,m,p){var v=Be._focused,S;if(t[_]=c,c?i[_]=m:delete i[_],_.length>1&&(S=g.camelize(_))in l){l[S]=c;var k=qe&&qe.agent;if(S==="meta"&&k&&k.mac)if(c)a={};else{for(var I in a)I in i&&f(!1,I,a[I],p);a=null}}else c&&a&&(a[_]=m);v&&v._handleKeyEvent(c?"keydown":"keyup",p,_,m)}return je.add(C,{keydown:function(c){var _=h(c),m=qe&&qe.agent;_.length>1||m&&m.chrome&&(c.altKey||m.mac&&c.metaKey||!m.mac&&c.ctrlKey)?f(!0,_,e[_]||(_.length>1?"":_),c):u=_},keypress:function(c){if(u){var _=h(c),m=c.charCode,p=m>=32?String.fromCharCode(m):_.length>1?"":_;_!==u&&(_=p.toLowerCase()),f(!0,_,p,c),u=null}},keyup:function(c){var _=h(c);_ in i&&f(!1,_,i[_],c)}}),je.add(d,{blur:function(c){for(var _ in i)f(!1,_,i[_],c)}}),{modifiers:l,isDown:function(c){return!!t[c]}}},Xa=Vn.extend({_class:"MouseEvent",initialize:function(e,t,i,a,u){this.type=e,this.event=t,this.point=i,this.target=a,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),$a=Vn.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,i){this.tool=e,this.type=t,this.event=i},_choosePoint:function(r,e){return r||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var e=r.item,t=e._parent;/^(Group|CompoundPath)$/.test(t._class);)e=t,t=t._parent;this._item=e}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});j.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){j.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,r!=null&&this._maxDistance!=null&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,this._minDistance!=null&&r!=null&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,e,t,i){qe=this._scope,i.drag&&!this.responds(r)&&(r="mousemove");var a=i.move||i.drag,u=this.responds(r),l=this.minDistance,h=this.maxDistance,f=!1,c=this;function _(p,v){var S=t,k=a?c._point:c._downPoint||S;if(a){if(c._moveCount>=0&&S.equals(k))return!1;if(k&&(p!=null||v!=null)){var I=S.subtract(k),P=I.getLength();if(P<(p||0))return!1;v&&(S=k.add(I.normalize(Math.min(P,v))))}c._moveCount++}return c._point=S,c._lastPoint=k||S,i.down&&(c._moveCount=-1,c._downPoint=S,c._downCount++),!0}function m(){u&&(f=c.emit(r,new $a(c,r,e))||f)}if(i.down)_(),m();else if(i.up)_(null,h),m();else if(u)for(;_(l,h);)m();return f}});var eu=g.extend(L,{_class:"Tween",statics:{easings:new g({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+2*(2-r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(e,t,i,a,u,l){this.object=e;var h=typeof u,f=h==="function";this.type=f?h:h==="string"?u:"linear",this.easing=f?u:r.easings[this.type],this.duration=a,this.running=!1,this._then=null,this._startTime=null;var c=t||i;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(t),this._to=c&&this._getState(i),l!==!1&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var e=this.easing(r),t=this._keys,i=function(_){return typeof _=="function"?_(e,r):_},a=0,u=t&&t.length;a<u;a++){var l=t[a],h=i(this._from[l]),f=i(this._to[l]),c=h&&f&&h.__add&&f.__add?f.__subtract(h).__multiply(e).__add(h):(f-h)*e+h;this._setProperty(this._parsedKeys[l],c)}this.responds("update")&&this.emit("update",new g({progress:r,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var e=this._startTime,t=e?(r-e)/this.duration:0;e||(this._startTime=r),this.update(t)},_getState:function(r){for(var e=this._keys,t={},i=0,a=e.length;i<a;i++){var u=e[i],l=this._parsedKeys[u],h=this._getProperty(l),f;if(r){var c=this._resolveValue(h,r[u]);this._setProperty(l,c),f=this._getProperty(l),f=f&&f.clone?f.clone():f,this._setProperty(l,h)}else f=h&&h.clone?h.clone():h;t[u]=f}return t},_resolveValue:function(r,e){if(e){if(Array.isArray(e)&&e.length===2){var t=e[0];return t&&t.match&&t.match(/^[+\-\*\/]=/)?this._calculate(r,t[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var a=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,e[0],a)}}}return e},_calculate:function(r,e,t){return qe.PaperScript.calculateBinary(r,e,t)},_parseKeys:function(r){for(var e={},t=0,i=r.length;t<i;t++){var a=r[t],u=a.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[a]=u.split("/")}return e},_getProperty:function(r,e){for(var t=this.object,i=0,a=r.length-(e||0);i<a&&t;i++)t=t[r[i]];return t},_setProperty:function(r,e){var t=this._getProperty(r,1);t&&(t[r[r.length-1]]=e)}}),tu={request:function(r){var e=new s.XMLHttpRequest;return e.open((r.method||"get").toUpperCase(),r.url,g.pick(r.async,!0)),r.mimeType&&e.overrideMimeType(r.mimeType),e.onload=function(){var t=e.status;t===0||t===200?r.onLoad&&r.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var t=e.status,i='Could not load "'+r.url+'" (Status: '+t+")";if(r.onError)r.onError(i,t);else throw new Error(i)},e.send(null)}},Ct=g.exports.CanvasProvider={canvases:[],getCanvas:function(r,e){if(!d)return null;var t,i=!0;typeof r=="object"&&(e=r.height,r=r.width),this.canvases.length?t=this.canvases.pop():(t=C.createElement("canvas"),i=!1);var a=t.getContext("2d");if(!a)throw new Error("Canvas "+t+" is unable to provide a 2D context.");return t.width===r&&t.height===e?i&&a.clearRect(0,0,r+1,e+1):(t.width=r,t.height=e),a.save(),t},getContext:function(r,e){var t=this.getCanvas(r,e);return t?t.getContext("2d"):null},release:function(r){var e=r&&r.canvas?r.canvas:r;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},vt=new function(){var r=Math.min,e=Math.max,t=Math.abs,i,a,u,l,h,f,c,_,m,p,v;function S(b,T,M){return .2989*b+.587*T+.114*M}function k(b,T,M,A){var z=A-S(b,T,M);m=b+z,p=T+z,v=M+z;var A=S(m,p,v),R=r(m,p,v),F=e(m,p,v);if(R<0){var O=A-R;m=A+(m-A)*A/O,p=A+(p-A)*A/O,v=A+(v-A)*A/O}if(F>255){var D=255-A,B=F-A;m=A+(m-A)*D/B,p=A+(p-A)*D/B,v=A+(v-A)*D/B}}function I(b,T,M){return e(b,T,M)-r(b,T,M)}function P(b,T,M,E){var z=[b,T,M],A=e(b,T,M),R=r(b,T,M),F;R=R===b?0:R===T?1:2,A=A===b?0:A===T?1:2,F=r(R,A)===0?e(R,A)===1?2:1:0,z[A]>z[R]?(z[F]=(z[F]-z[R])*E/(z[A]-z[R]),z[A]=E):z[F]=z[A]=0,z[R]=0,m=z[0],p=z[1],v=z[2]}var x={multiply:function(){m=h*i/255,p=f*a/255,v=c*u/255},screen:function(){m=h+i-h*i/255,p=f+a-f*a/255,v=c+u-c*u/255},overlay:function(){m=h<128?2*h*i/255:255-2*(255-h)*(255-i)/255,p=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255},"soft-light":function(){var b=i*h/255;m=b+h*(255-(255-h)*(255-i)/255-b)/255,b=a*f/255,p=b+f*(255-(255-f)*(255-a)/255-b)/255,b=u*c/255,v=b+c*(255-(255-c)*(255-u)/255-b)/255},"hard-light":function(){m=i<128?2*i*h/255:255-2*(255-i)*(255-h)/255,p=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255},"color-dodge":function(){m=h===0?0:i===255?255:r(255,255*h/(255-i)),p=f===0?0:a===255?255:r(255,255*f/(255-a)),v=c===0?0:u===255?255:r(255,255*c/(255-u))},"color-burn":function(){m=h===255?255:i===0?0:e(0,255-(255-h)*255/i),p=f===255?255:a===0?0:e(0,255-(255-f)*255/a),v=c===255?255:u===0?0:e(0,255-(255-c)*255/u)},darken:function(){m=h<i?h:i,p=f<a?f:a,v=c<u?c:u},lighten:function(){m=h>i?h:i,p=f>a?f:a,v=c>u?c:u},difference:function(){m=h-i,m<0&&(m=-m),p=f-a,p<0&&(p=-p),v=c-u,v<0&&(v=-v)},exclusion:function(){m=h+i*(255-h-h)/255,p=f+a*(255-f-f)/255,v=c+u*(255-c-c)/255},hue:function(){P(i,a,u,I(h,f,c)),k(m,p,v,S(h,f,c))},saturation:function(){P(h,f,c,I(i,a,u)),k(m,p,v,S(h,f,c))},luminosity:function(){k(h,f,c,S(i,a,u))},color:function(){k(i,a,u,S(h,f,c))},add:function(){m=r(h+i,255),p=r(f+a,255),v=r(c+u,255)},subtract:function(){m=e(h-i,0),p=e(f-a,0),v=e(c-u,0)},average:function(){m=(h+i)/2,p=(f+a)/2,v=(c+u)/2},negation:function(){m=255-t(255-i-h),p=255-t(255-a-f),v=255-t(255-u-c)}},w=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(b){this[b]=!0},{}),y=Ct.getContext(1,1);y&&(g.each(x,function(b,T){var M=T==="darken",E=!1;y.save();try{y.fillStyle=M?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=T,y.globalCompositeOperation===T&&(y.fillStyle=M?"#a00":"#300",y.fillRect(0,0,1,1),E=y.getImageData(0,0,1,1).data[0]!==M?170:51)}catch(z){}y.restore(),w[T]=E}),Ct.release(y)),this.process=function(b,T,M,E,z){var A=T.canvas,R=b==="normal";if(R||w[b])M.save(),M.setTransform(1,0,0,1,0,0),M.globalAlpha=E,R||(M.globalCompositeOperation=b),M.drawImage(A,z.x,z.y),M.restore();else{var F=x[b];if(!F)return;for(var O=M.getImageData(z.x,z.y,A.width,A.height),D=O.data,B=T.getImageData(0,0,A.width,A.height).data,V=0,U=D.length;V<U;V+=4){i=B[V],h=D[V],a=B[V+1],f=D[V+1],u=B[V+2],c=D[V+2],l=B[V+3],_=D[V+3],F();var W=l*E/255,$=1-W;D[V]=W*m+$*h,D[V+1]=W*p+$*f,D[V+2]=W*v+$*c,D[V+3]=l*E+$*_}M.putImageData(O,z.x,z.y)}}},ht=new function(){var r="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",t="http://www.w3.org/1999/xlink",i={href:t,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function a(h,f,c){return l(C.createElementNS(r,h),f,c)}function u(h,f){var c=i[f],_=c?h.getAttributeNS(c,f):h.getAttribute(f);return _==="null"?null:_}function l(h,f,c){for(var _ in f){var m=f[_],p=i[_];typeof m=="number"&&c&&(m=c.number(m)),p?h.setAttributeNS(p,_,m):h.setAttribute(_,m)}return h}return{svg:r,xmlns:e,xlink:t,create:a,get:u,set:l}},gt=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,e){return!e&&(r instanceof Ce||r instanceof Te||r instanceof zt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,e){var t=g.capitalize(e),i=r[2];this[e]={type:r[1],property:e,attribute:r[0],toSVG:i,fromSVG:i&&g.each(i,function(a,u){this[a]=u},{}),exportFilter:r[3],get:"get"+t,set:"set"+t}},{});new function(){var r;function e(x,w,y){var b=new g,T=x.getTranslation();if(w){var M;x.isInvertible()?(x=x._shiftless(),M=x._inverseTransform(T),T=null):M=new N,b[y?"cx":"x"]=M.x,b[y?"cy":"y"]=M.y}if(!x.isIdentity()){var E=x.decompose();if(E){var z=[],A=E.rotation,R=E.scaling,F=E.skewing;T&&!T.isZero()&&z.push("translate("+r.point(T)+")"),A&&z.push("rotate("+r.number(A)+")"),(!K.isZero(R.x-1)||!K.isZero(R.y-1))&&z.push("scale("+r.point(R)+")"),F.x&&z.push("skewX("+r.number(F.x)+")"),F.y&&z.push("skewY("+r.number(F.y)+")"),b.transform=z.join(" ")}else b.transform="matrix("+x.getValues().join(",")+")"}return b}function t(x,w){for(var y=e(x._matrix),b=x._children,T=ht.create("g",y,r),M=0,E=b.length;M<E;M++){var z=b[M],A=I(z,w);if(A)if(z.isClipMask()){var R=ht.create("clipPath");R.appendChild(A),S(z,R,"clip"),ht.set(T,{"clip-path":"url(#"+R.id+")"})}else T.appendChild(A)}return T}function i(x,w){var y=e(x._matrix,!0),b=x.getSize(),T=x.getImage();return y.x-=b.width/2,y.y-=b.height/2,y.width=b.width,y.height=b.height,y.href=w.embedImages==!1&&T&&T.src||x.toDataURL(),ht.create("image",y,r)}function a(x,w){var y=w.matchShapes;if(y){var b=x.toShape(!1);if(b)return u(b)}var T=x._segments,M=T.length,E,z=e(x._matrix);if(y&&M>=2&&!x.hasHandles())if(M>2){E=x._closed?"polygon":"polyline";for(var A=[],R=0;R<M;R++)A.push(r.point(T[R]._point));z.points=A.join(" ")}else{E="line";var F=T[0]._point,O=T[1]._point;z.set({x1:F.x,y1:F.y,x2:O.x,y2:O.y})}else E="path",z.d=x.getPathData(null,w.precision);return ht.create(E,z,r)}function u(x){var w=x._type,y=x._radius,b=e(x._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var T=x._size,M=T.width,E=T.height;b.x-=M/2,b.y-=E/2,b.width=M,b.height=E,y.isZero()&&(y=null)}return y&&(w==="circle"?b.r=y:(b.rx=y.width,b.ry=y.height)),ht.create(w,b,r)}function l(x,w){var y=e(x._matrix),b=x.getPathData(null,w.precision);return b&&(y.d=b),ht.create("path",y,r)}function h(x,w){var y=e(x._matrix,!0),b=x._definition,T=v(b,"symbol"),M=b._item,E=M.getStrokeBounds();return T||(T=ht.create("symbol",{viewBox:r.rectangle(E)}),T.appendChild(I(M,w)),S(b,T,"symbol")),y.href="#"+T.id,y.x+=E.x,y.y+=E.y,y.width=E.width,y.height=E.height,y.overflow="visible",ht.create("use",y,r)}function f(x){var w=v(x,"color");if(!w){var y=x.getGradient(),b=y._radial,T=x.getOrigin(),M=x.getDestination(),E;if(b){E={cx:T.x,cy:T.y,r:T.getDistance(M)};var z=x.getHighlight();z&&(E.fx=z.x,E.fy=z.y)}else E={x1:T.x,y1:T.y,x2:M.x,y2:M.y};E.gradientUnits="userSpaceOnUse",w=ht.create((b?"radial":"linear")+"Gradient",E,r);for(var A=y._stops,R=0,F=A.length;R<F;R++){var O=A[R],D=O._color,B=D.getAlpha(),V=O._offset;E={offset:V==null?R/(F-1):V},D&&(E["stop-color"]=D.toCSS(!0)),B<1&&(E["stop-opacity"]=B),w.appendChild(ht.create("stop",E,r))}S(x,w,"color")}return"url(#"+w.id+")"}function c(x){var w=ht.create("text",e(x._matrix,!0),r);return w.textContent=x._content,w}var _={Group:t,Layer:t,Raster:i,Path:a,Shape:u,CompoundPath:l,SymbolItem:h,PointText:c};function m(x,w,y){var b={},T=!y&&x.getParent(),M=[];return x._name!=null&&(b.id=x._name),g.each(gt,function(E){var z=E.get,A=E.type,R=x[z]();if(E.exportFilter?E.exportFilter(x,R):!T||!g.equals(T[z](),R)){if(A==="color"&&R!=null){var F=R.getAlpha();F<1&&(b[E.attribute+"-opacity"]=F)}A==="style"?M.push(E.attribute+": "+R):b[E.attribute]=R==null?"none":A==="color"?R.gradient?f(R):R.toCSS(!0):A==="array"?R.join(","):A==="lookup"?E.toSVG[R]:R}}),M.length&&(b.style=M.join(";")),b.opacity===1&&delete b.opacity,x._visible||(b.visibility="hidden"),ht.set(w,b,r)}var p;function v(x,w){return p||(p={ids:{},svgs:{}}),x&&p.svgs[w+"-"+(x._id||x.__id||(x.__id=se.get("svg")))]}function S(x,w,y){p||v();var b=p.ids[y]=(p.ids[y]||0)+1;w.id=y+"-"+b,p.svgs[y+"-"+(x._id||x.__id)]=w}function k(x,w){var y=x,b=null;if(p){y=x.nodeName.toLowerCase()==="svg"&&x;for(var T in p.svgs)b||(y||(y=ht.create("svg"),y.appendChild(x)),b=y.insertBefore(ht.create("defs"),y.firstChild)),b.appendChild(p.svgs[T]);p=null}return w.asString?new s.XMLSerializer().serializeToString(y):y}function I(x,w,y){var b=_[x._class],T=b&&b(x,w);if(T){var M=w.onExport;M&&(T=M(x,T,w)||T);var E=JSON.stringify(x._data);E&&E!=="{}"&&E!=="null"&&T.setAttribute("data-paper-data",E)}return T&&m(x,T,y)}function P(x){return x||(x={}),r=new ne(x.precision),x}ae.inject({exportSVG:function(x){return x=P(x),k(I(this,x,!0),x)}}),we.inject({exportSVG:function(x){x=P(x);var w=this._children,y=this.getView(),b=g.pick(x.bounds,"view"),T=x.matrix||b==="view"&&y._matrix,M=T&&Q.read([T]),E=b==="view"?new q([0,0],y.getViewSize()):b==="content"?ae._getBounds(w,M,{stroke:!0}).rect:q.read([b],0,{readNull:!0}),z={version:"1.1",xmlns:ht.svg,"xmlns:xlink":ht.xlink};E&&(z.width=E.width,z.height=E.height,(E.x||E.x===0||E.y||E.y===0)&&(z.viewBox=r.rectangle(E)));var A=ht.create("svg",z,r),R=A;M&&!M.isIdentity()&&(R=A.appendChild(ht.create("g",e(M),r)));for(var F=0,O=w.length;F<O;F++)R.appendChild(I(w[F],x,!0));return k(A,x)}})},new function(){var r={},e;function t(w,y,b,T,M,E){var z=ht.get(w,y)||E,A=z==null?T?null:b?"":0:b?z:parseFloat(z);return/%\s*$/.test(z)?A/100*(M?1:e[/x|^width/.test(y)?"width":"height"]):A}function i(w,y,b,T,M,E,z){return y=t(w,y||"x",!1,T,M,E),b=t(w,b||"y",!1,T,M,z),T&&(y==null||b==null)?null:new N(y,b)}function a(w,y,b,T,M){return y=t(w,y||"width",!1,T,M),b=t(w,b||"height",!1,T,M),T&&(y==null||b==null)?null:new J(y,b)}function u(w,y,b){return w==="none"?null:y==="number"?parseFloat(w):y==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:y==="color"?I(w)||w:y==="lookup"?b[w]:w}function l(w,y,b,T){var M=w.childNodes,E=y==="clippath",z=y==="defs",A=new pe,R=A._project,F=R._currentStyle,O=[];if(!E&&!z&&(A=k(A,w,T),R._currentStyle=A._style.clone()),T)for(var D=w.querySelectorAll("defs"),B=0,V=D.length;B<V;B++)P(D[B],b,!1);for(var B=0,V=M.length;B<V;B++){var U=M[B],W;U.nodeType===1&&!/^defs$/i.test(U.nodeName)&&(W=P(U,b,!1))&&!(W instanceof He)&&O.push(W)}return A.addChildren(O),E&&(A=k(A.reduce(),w,T)),R._currentStyle=F,(E||z)&&(A.remove(),A=null),A}function h(w,y){for(var b=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),T=[],M=0,E=b.length;M<E;M+=2)T.push(new N(parseFloat(b[M]),parseFloat(b[M+1])));var z=new _e(T);return y==="polygon"&&z.closePath(),z}function f(w){return Ce.create(w.getAttribute("d"))}function c(w,y){var b=(t(w,"href",!0)||"").substring(1),T=y==="radialgradient",M;if(b)M=r[b].getGradient(),M._radial^T&&(M=M.clone(),M._radial=T);else{for(var E=w.childNodes,z=[],A=0,R=E.length;A<R;A++){var F=E[A];F.nodeType===1&&z.push(k(new Yt,F))}M=new It(z,T)}var O,D,B,V=t(w,"gradientUnits",!0)!=="userSpaceOnUse";T?(O=i(w,"cx","cy",!1,V,"50%","50%"),D=O.add(t(w,"r",!1,!1,V,"50%"),0),B=i(w,"fx","fy",!0,V)):(O=i(w,"x1","y1",!1,V,"0%","0%"),D=i(w,"x2","y2",!1,V,"100%","0%"));var U=k(new Oe(M,O,D,B),w);return U._scaleToBounds=V,null}var _={"#document":function(w,y,b,T){for(var M=w.childNodes,E=0,z=M.length;E<z;E++){var A=M[E];if(A.nodeType===1)return P(A,b,T)}},g:l,svg:l,clippath:l,polygon:h,polyline:h,path:f,lineargradient:c,radialgradient:c,image:function(w){var y=new Ae(t(w,"href",!0));return y.on("load",function(){var b=a(w);this.setSize(b);var T=i(w).add(b.divide(2));this._matrix.append(new Q().translate(T))}),y},symbol:function(w,y,b,T){return new He(l(w,y,b,T),!0)},defs:l,use:function(w){var y=(t(w,"href",!0)||"").substring(1),b=r[y],T=i(w);return b?b instanceof He?b.place(T):b.clone().translate(T):null},circle:function(w){return new Te.Circle(i(w,"cx","cy"),t(w,"r"))},ellipse:function(w){return new Te.Ellipse({center:i(w,"cx","cy"),radius:a(w,"rx","ry")})},rect:function(w){return new Te.Rectangle(new q(i(w),a(w)),a(w,"rx","ry"))},line:function(w){return new _e.Line(i(w,"x1","y1"),i(w,"x2","y2"))},text:function(w){var y=new Dt(i(w).add(i(w,"dx","dy")));return y.setContent(w.textContent.trim()||""),y},switch:l};function m(w,y,b,T){if(w.transform){for(var M=(T.getAttribute(b)||"").split(/\)\s*/g),E=new Q,z=0,A=M.length;z<A;z++){var R=M[z];if(!R)break;for(var F=R.split(/\(\s*/),O=F[0],D=F[1].split(/[\s,]+/g),B=0,V=D.length;B<V;B++)D[B]=parseFloat(D[B]);switch(O){case"matrix":E.append(new Q(D[0],D[1],D[2],D[3],D[4],D[5]));break;case"rotate":E.rotate(D[0],D[1]||0,D[2]||0);break;case"translate":E.translate(D[0],D[1]||0);break;case"scale":E.scale(D);break;case"skewX":E.skew(D[0],0);break;case"skewY":E.skew(0,D[0]);break}}w.transform(E)}}function p(w,y,b){var T=b==="fill-opacity"?"getFillColor":"getStrokeColor",M=w[T]&&w[T]();M&&M.setAlpha(parseFloat(y))}var v=g.set(g.each(gt,function(w){this[w.attribute]=function(y,b){if(y[w.set]&&(y[w.set](u(b,w.type,w.fromSVG)),w.type==="color")){var T=y[w.get]();if(T&&T._scaleToBounds){var M=y.getBounds();T.transform(new Q().translate(M.getPoint()).scale(M.getSize()))}}}},{}),{id:function(w,y){r[y]=w,w.setName&&w.setName(y)},"clip-path":function(w,y){var b=I(y);if(b)if(b=b.clone(),b.setClipMask(!0),w instanceof pe)w.insertChild(0,b);else return new pe(b,w)},gradientTransform:m,transform:m,"fill-opacity":p,"stroke-opacity":p,visibility:function(w,y){w.setVisible&&w.setVisible(y==="visible")},display:function(w,y){w.setVisible&&w.setVisible(y!==null)},"stop-color":function(w,y){w.setColor&&w.setColor(y)},"stop-opacity":function(w,y){w._color&&w._color.setAlpha(parseFloat(y))},offset:function(w,y){if(w.setOffset){var b=y.match(/(.*)%$/);w.setOffset(b?b[1]/100:parseFloat(y))}},viewBox:function(w,y,b,T,M){var E=new q(u(y,"array")),z=a(T,null,null,!0),A,R;if(w instanceof pe){var F=z?z.divide(E.getSize()):1,R=new Q().scale(F).translate(E.getPoint().negate());A=w}else w instanceof He&&(z&&E.setSize(z),A=w._item);if(A){if(S(T,"overflow",M)!=="visible"){var O=new Te.Rectangle(E);O.setClipMask(!0),A.addChild(O)}R&&A.transform(R)}}});function S(w,y,b){var T=w.attributes[y],M=T&&T.value;if(!M&&w.style){var E=g.camelize(y);M=w.style[E],!M&&b.node[E]!==b.parent[E]&&(M=b.node[E])}return M?M==="none"?null:M:o}function k(w,y,b){var T=y.parentNode,M={node:Ve.getStyles(y)||{},parent:!b&&!/^defs$/i.test(T.tagName)&&Ve.getStyles(T)||{}};return g.each(v,function(E,z){var A=S(y,z,M);w=A!==o&&E(w,A,z,y,M)||w}),w}function I(w){var y=w&&w.match(/\((?:["'#]*)([^"')]+)/),b=y&&y[1],T=b&&r[d?b.replace(d.location.href.split("#")[0]+"#",""):b];return T&&T._scaleToBounds&&(T=T.clone(),T._scaleToBounds=!0),T}function P(w,y,b){var T=w.nodeName.toLowerCase(),M=T!=="#document",E=C.body,z,A,R;b&&M&&(e=qe.getView().getSize(),e=a(w,null,null,!0)||e,z=ht.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),A=w.parentNode,R=w.nextSibling,z.appendChild(w),E.appendChild(z));var F=qe.settings,O=F.applyMatrix,D=F.insertItems;F.applyMatrix=!1,F.insertItems=!1;var B=_[T],V=B&&B(w,T,y,b)||null;if(F.insertItems=D,F.applyMatrix=O,V){M&&!(V instanceof pe)&&(V=k(V,w,b));var U=y.onImport,W=M&&w.getAttribute("data-paper-data");U&&(V=U(w,V,y)||V),y.expandShapes&&V instanceof Te&&(V.remove(),V=V.toPath()),W&&(V._data=JSON.parse(W))}return z&&(E.removeChild(z),A&&(R?A.insertBefore(w,R):A.appendChild(w))),b&&(r={},V&&g.pick(y.applyMatrix,O)&&V.matrix.apply(!0,!0)),V}function x(w,y,b){if(!w)return null;y=typeof y=="function"?{onLoad:y}:y||{};var T=qe,M=null;function E(F){try{var O=typeof F=="object"?F:new s.DOMParser().parseFromString(F.trim(),"image/svg+xml");if(!O.nodeName)throw O=null,new Error("Unsupported SVG source: "+w);qe=T,M=P(O,y,!0),(!y||y.insert!==!1)&&b._insertItem(o,M);var D=y.onLoad;D&&D(M,F)}catch(B){z(B)}}function z(F,O){var D=y.onError;if(D)D(F,O);else throw new Error(F)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var A=C.getElementById(w);A?E(A):tu.request({url:w,async:!0,onLoad:E,onError:z})}else if(typeof File!="undefined"&&w instanceof File){var R=new FileReader;return R.onload=function(){E(R.result)},R.onerror=function(){z(R.error)},R.readAsText(w)}else E(w);return M}ae.inject({importSVG:function(w,y){return x(w,y,this)}}),we.inject({importSVG:function(w,y){return this.activate(),x(w,y,this)}})};var qe=new(H.inject(g.exports,{Base:g,Numerical:K,Key:Pr,DomEvent:je,DomElement:Ve,document:C,window:d,Symbol:He,PlacedSymbol:Ye}));return qe.agent.node&&oa(qe),typeof o=="function"&&o.amd?o("paper",qe):n&&(n.exports=qe),qe}).call(_f,typeof self=="object"?self:null)})(la);function mi(n,s,o,d,C=0,g=0,L,H,j){var Y;if((Y=n==null?void 0:n.Extent)!=null&&Y.length){const ne=n.Extent[0].Max[0].x.valueAsNumber,K=n.Extent[0].Min[0].x.valueAsNumber,se=(ne-K)*s<1?1:(ne-K)*s,N=n.Extent[0].Max[0].y.valueAsNumber,ge=n.Extent[0].Min[0].y.valueAsNumber,J=(N-ge)*s<1?1:(N-ge)*s,Me=C*s+K*s,q=d*s-(N+g)*s;if(L){const Z=it().Shape,Q=it().Size,ue=it().Color,we=new Q(se,J),ae=new Z.Rectangle(new la.exports.Point(Me,q),we);ae.fillColor=new ue(H),ae.onClick=()=>{j.publicEvent("onClick",n)},ae.bringToFront()}return[Me,q,se,J]}else return[0,0,0,0]}function Xg(n,s,o,d,C=0,g=0,L,H,j){var ge,J,Me;const Y=it().Point,ne=it().Path,K=it().Color,se=[];if(!Array.isArray(n.Coordinate)||n.Coordinate.length===0){((ge=n.numPoints)==null?void 0:ge.valueAsNumber)!==0&&console.warn("line element without coordinate");return}n.Coordinate.forEach(q=>{const Z=q.x.valueAsNumber+C,Q=q.y.valueAsNumber+g,ue=new Y(Z*s,d*s-Q*s);se.push(ue)});const N=new ne(se);switch(N.strokeColor=new K({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),(J=n.Presentation[0].lineType)==null?void 0:J.valueAsString){case"0":break;case"Solid":break;case"1":N.dashArray=[.3,.3];case"Dotted":N.dashArray=[.3,.3];break;case"2":N.dashArray=[2,.5];case"Dashed":N.dashArray=[2,.5];break;case"3":N.dashArray=[4,.5];case"Long Dash":N.dashArray=[4,.5];break;case"4":N.dashArray=[4,.5,1,.5];break;case"Long Dash + Short Dash, CenterLine":N.dashArray=[15,1,.5,1,.5,1];break;case"5":N.dashArray=[1,.5];break;case"Short Dash":N.dashArray=[1,.5];break;case"6":N.dashArray=[4,.5,1,.5,1,.5];break;case"Long Dash + Short Dash + Short Dash":N.dashArray=[4,1,1,1,1,1];break;case"7":N.dashArray=[2,.5,1,.5];break;case"Dash + Short Dash":N.dashArray=[2,.5,1,.5];break;default:((Me=n.Presentation[0].lineType)==null?void 0:Me.valueAsString)!==void 0&&console.error("unknown linetype",n)}N.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,L?L.addChild(N):N.onClick=function(){j.publicEvent("onClick",n)},mi(n,s,o,d,C,g,vi().line,pi().line,j)}function $g(n,s,o,d,C=0,g=0,L,H,j){const Y=it().Point,ne=it().Path,K=it().Color,se=[];n.Coordinate.forEach(ge=>{const J=ge.x.valueAsNumber+C,Me=ge.y.valueAsNumber+g,q=new Y(J*s,d*s-Me*s);se.push(q)});const N=new ne(se);L?L.addChild(N):N.onClick=function(){j.publicEvent("onClick",n)},N.strokeColor=new K({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),N.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,n.filled&&(N.fillColor=new K({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value})),mi(n,s,o,d,C,g,vi().shape,pi().shape,j)}function e_(n,s,o,d,C=0,g=0,L,H,j){var Me;const Y=it().Point,ne=it().Path,K=it().Color,se=n.Position[0].Location[0].x.valueAsNumber+C,N=n.Position[0].Location[0].y.valueAsNumber+g,ge=new Y(se*s,d*s-N*s),J=new ne.Circle(ge,n.radius.valueAsNumber*s);L?L.addChild(J):J.onClick=function(){j.publicEvent("onClick",n)},J.strokeColor=new K({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),J.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(Me=n.filled)!=null&&Me.value&&(J.fillColor=new K("black")),mi(n,s,o,d,C,g,vi().circle,pi().circleArc,j)}function t_(n,s,o,d,C=0,g=0,L,H,j){var Ae,Ye,He,We,de,ot,ee,Je,Ce,_e,Ie,Ze,nt,zt,Dt;const Y=it().PointText,ne=it().Point,K=it().Color,se=it().Shape,N=it().Size;if(!((Ae=n.Position[0])!=null&&Ae.Location)){console.warn("unexpected missing location element on text, skipping text",(Ye=n==null?void 0:n.string)==null?void 0:Ye.valueAsString,n);return}if(!((He=n.Extent[0])!=null&&He.Max)){console.warn("unexpected missing Extent element on text, skipping text",(We=n==null?void 0:n.string)==null?void 0:We.valueAsString,n);return}if(!n.Presentation[0]){console.warn("unexpected missing Presentation element on text, skipping text",(de=n==null?void 0:n.string)==null?void 0:de.valueAsString,n);return}if((ot=n.Presentation[0].layer)!=null&&ot.valueAsString.toUpperCase().includes("HIDDEN"))return;const[ge,J,Me,q]=mi(n,s,o,d,C,g,vi().text,pi().text,j),Z=(n.Position[0].Location[0].x.valueAsNumber+C)*s,Q=d*s-(n.Position[0].Location[0].y.valueAsNumber+g)*s,ue=new ne(Z,Q),we=new N(Me,q),ae=new se.Rectangle(new ne(ge,J),we),pe=new Y(new ne(Z,Q));if(pe.content=(ee=n.string)==null?void 0:ee.valueAsString,pe.content==="undefined"&&n.attributes.DependantAttribute&&n.attributes.ItemID){const Oe=Wg(n.attributes.ItemID);Oe&&Oe.GenericAttributes.forEach(It=>{It.GenericAttribute.forEach(Yt=>{`[${Yt.attributes.Name}]`===n.attributes.DependantAttribute&&(pe.content=Yt.attributes.Value)})}),pe.content==="undefined"&&console.warn("dependable attribute:",n.attributes.DependantAttribute,"not found in ",n)}pe.fontSize=n.height.valueAsNumber*s,pe.fontFamily=n.font.valueAsString,((Je=n.textAngle)==null?void 0:Je.valueAsNumber)>0&&pe.rotate(-n.textAngle.valueAsNumber,new ne(Z,Q)),((Ce=n.slantAngle)==null?void 0:Ce.valueAsNumber)>0&&console.warn("Text slantAngle not implemented",n);const be=(Ze=(Ie=(_e=n.Position[0])==null?void 0:_e.Reference[0])==null?void 0:Ie.x)==null?void 0:Ze.valueAsNumber;be&&be!==1&&pe.rotate(-(be/(Math.PI/180))*Math.PI,ue);const Te=(Dt=(zt=(nt=n.Position[0])==null?void 0:nt.Reference[0])==null?void 0:zt.y)==null?void 0:Dt.valueAsNumber;Te&&Te!==0&&pe.rotate(-(Te/(Math.PI/90))*Math.PI,ue),pe.bounds.y=ae.bounds.y,pe.bounds.x=ae.bounds.x,pe.fitBounds(ae.bounds),pe.fillColor=new K({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),L?L.addChild(pe):pe.onClick=function(){j.publicEvent("onClick",n)}}function n_(n,s,o,d,C=0,g=0,L,H,j){Pf(n).forEach(ne=>{var K,se,N,ge;if(ne.element.tagName==="Circle"){const J=it().Point,Me=it().Path,q=it().Color,Z=ne,Q=Z.Position[0].Location[0].x.valueAsNumber+C,ue=Z.Position[0].Location[0].y.valueAsNumber+g,we=Z.Position[0].Reference[0].x.valueAsNumber,ae=Z.Position[0].Reference[0].y.valueAsNumber,pe=Z.Position[0].Axis[0].y.valueAsNumber===-1,be=new J(Q*s,d*s-ue*s),Te=Z.radius.valueAsNumber*s,Ae=-((K=n.startAngle)==null?void 0:K.valueAsNumber)||0,Ye=-((se=n.endAngle)==null?void 0:se.valueAsNumber)||0,He=new J(Te,0);He.angle=Ae;const We=new J(Te,0);We.angle=Ye;const de=new J(Te,0),ot=Ye-Ae;de.angle=Ae+ot/2;const ee=new Me.Arc(He,de,We);ee.strokeColor=new q({red:Z.Presentation[0].r.value,green:Z.Presentation[0].g.value,blue:Z.Presentation[0].b.value}),ee.strokeWidth=Z.Presentation[0].lineWeight.valueAsNumber*s,ee.translate(be),we<0&&ee.rotate(we/(Math.PI/180)*Math.PI,be),ae&&ae!==0&&ee.rotate(-(ae/(Math.PI/90))*Math.PI,be),pe&&console.log("not implented flipY",n,we,ae,pe),L?L.addChild(ee):ee.onClick=function(){console.log(n)},mi(Z,s,o,d,C,g,vi().circleArc,pi().circleArc,j)}if(ne.element.tagName==="Ellipse"){const J=it().Point,Me=it().Path,q=it().Color,Z=ne,Q=Z.Position[0].Location[0].x.valueAsNumber+C,ue=Z.Position[0].Location[0].y.valueAsNumber+g,we=Z.Position[0].Reference[0].x.valueAsNumber,ae=Z.Position[0].Reference[0].y.valueAsNumber,pe=new J(Q*s,d*s-ue*s),be=Z.primaryAxis.valueAsNumber*s,Te=-((N=n.startAngle)==null?void 0:N.valueAsNumber)||0,Ae=-((ge=n.endAngle)==null?void 0:ge.valueAsNumber)||0,Ye=new J(be,0);Ye.angle=Te;const He=new J(be,0);He.angle=Ae;const We=new J(be,0),de=Ae-Te;We.angle=Te+de/2;const ot=new Me.Arc(Ye,We,He);ot.strokeColor=new q({red:Z.Presentation[0].r.value,green:Z.Presentation[0].g.value,blue:Z.Presentation[0].b.value}),ot.strokeWidth=Z.Presentation[0].lineWeight.valueAsNumber*s,ot.translate(pe),ot.scale(1,Z.secondaryAxis.valueAsNumber*s/be,pe),we<0&&ot.rotate(we/(Math.PI/180)*Math.PI,pe),ae&&ae!==0&&ot.rotate(-(ae/(Math.PI/90))*Math.PI,pe);const ee=Z.Position[0].Axis[0].z.valueAsNumber===-1;ee&&console.log("not implented flipY",n,we,ae,ee),L?L.addChild(ot):ot.onClick=function(){j.publicEvent("onClick",n)},mi(Z,s,o,d,C,g,vi().ellipseArc,pi().ellipseArc,j)}})}function i_(n,s,o,d,C=0,g=0,L,H,j){var ae,pe,be,Te,Ae,Ye,He;const Y=it().Point,ne=it().Path,K=it().Color,se=it().Size,N=it().Rectangle,ge=n.Position[0].Location[0].x.valueAsNumber+C,J=n.Position[0].Location[0].y.valueAsNumber+g,Me=new Y(ge*s,d*s-J*s),q=new N(Me,new se(n.primaryAxis.valueAsNumber*s,n.secondaryAxis.valueAsNumber*s)),Z=new ne.Ellipse(q),Q=(be=(pe=(ae=n.Position[0])==null?void 0:ae.Reference[0])==null?void 0:pe.x)==null?void 0:be.valueAsNumber;Q&&Q!==1&&Z.rotate(-(Q/(Math.PI/180))*Math.PI,Me);const ue=(Ye=(Ae=(Te=n.Position[0])==null?void 0:Te.Reference[0])==null?void 0:Ae.y)==null?void 0:Ye.valueAsNumber;ue&&ue!==0&&Z.rotate(-(ue/(Math.PI/90))*Math.PI,Me);const we=n.Position[0].Axis[0].z.valueAsNumber===-1;we&&console.log("not implented flipY",n,Q,ue,we),L?L.addChild(Z):Z.onClick=function(){j.publicEvent("onClick",n)},Z.strokeColor=new K({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),Z.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(He=n.filled)!=null&&He.value&&(Z.fillColor=new K("black")),mi(n,s,o,d,C,g,vi().circle,pi().circleArc,j)}class jo{constructor(s,o,d){var g,L,H;this.element=s,this.isShapeCatalogChild=o,this.parent=d,this.isChild=!0,this.attributes={},this.GenericAttributes=[],this.GenericAttribute=[],this.genericAttributes={},this.Position=[],this.Extent=[],this.Presentation=[],this.Scale=[],this.elementTagName=this.element.tagName,this.elementTagName==="ShapeCatalogue"&&(this.isShapeCatalogChild=!0);for(let j=0;j<this.element.children.length;j++){const Y=this.element.children[j],ne=Y.tagName,K=this;K[ne]||(K[ne]=[]);const se=new jo(Y,this.isShapeCatalogChild,this);K[ne].push(se)}s.getAttributeNames().forEach(j=>{const Y=this,ne=j[0].toLowerCase()+j.substring(1,j.length);Y[ne]=new Zg(s,j,this)}),this.GenericAttribute.length&&this.GenericAttribute.forEach(j=>{this.genericAttributes[j.attributes.Name]=j.attributes.Value}),this.GenericAttributes.length&&this.GenericAttributes.forEach((j,Y)=>{this.genericAttributes[`${Y+1}: ${j.attributes.Set||""}`]=j.genericAttributes}),this.elementTagName!=="ShapeCatalogue"&&this.isShapeCatalogChild&&(g=this.componentName)!=null&&g.value&&Gg((L=this.componentName)==null?void 0:L.value,this),(H=this.iD)!=null&&H.valueAsString&&qg(this.iD.valueAsString,this)}draw(s,o,d,C=0,g=0,L,H,j){var ne,K,se,N,ge,J,Me,q,Z,Q,ue,we,ae,pe,be,Te,Ae,Ye,He,We;if(this.elementTagName==="ShapeCatalogue")return;if(this.elementTagName==="TrimmedCurve"){n_(this,s,o,d,C,g,L,H,j);return}if(Pf(this).forEach(de=>{de.draw(s,o,d,C,g,L,this,j)}),((ne=this.componentName)==null?void 0:ne.value)&&((K=this.Position)==null?void 0:K.length)){const de=Qg(this.componentName.value);if(de&&de!==this){const ot=it().Group,ee=new ot;this.shapeCatalogItem=de;const Je=this;ee.onClick=function(){j.publicEvent("onClick",Je)};const Ce=this.Position[0].Location[0].x.valueAsNumber+C,_e=this.Position[0].Location[0].y.valueAsNumber+g,Ie=new la.exports.Point(Ce*s,d*s-_e*s);if(typeof de.draw=="function"&&de.draw(s,o,d,Ce+C,_e+g,ee,this,j),this.Scale.length){const Dt=parseFloat(this.Scale[0].attributes.X),Oe=parseFloat(this.Scale[0].attributes.Y);(Dt!==1||Oe!==1)&&ee.scale(Dt,Oe,Ie)}const Ze=(ge=(N=(se=this.Position[0])==null?void 0:se.Reference[0])==null?void 0:N.x)==null?void 0:ge.valueAsNumber;Ze&&Ze!==1&&ee.rotate(-(Ze/(Math.PI/180))*Math.PI,Ie);const nt=(q=(Me=(J=this.Position[0])==null?void 0:J.Reference[0])==null?void 0:Me.y)==null?void 0:q.valueAsNumber;nt&&nt!==0&&ee.rotate(-(nt/(Math.PI/90))*Math.PI,Ie),((ue=(Q=(Z=this.Position[0])==null?void 0:Z.Axis[0])==null?void 0:Q.z)==null?void 0:ue.valueAsNumber)===-1&&ee.scale(1,-1,Ie),mi(this,s,o,d,C,g,vi().component,pi().component,j)}else if(L){const ot=this.Position[0].Location[0].x.valueAsNumber+C,ee=this.Position[0].Location[0].y.valueAsNumber+g,Je=new la.exports.Point(ot*s,d*s-ee*s);if(this.Scale.length){const Ze=parseFloat(this.Scale[0].attributes.X),nt=parseFloat(this.Scale[0].attributes.Y);(Ze!==1||nt!==1)&&L.scale(Ze,nt,Je)}const Ce=(pe=(ae=(we=this.Position[0])==null?void 0:we.Reference[0])==null?void 0:ae.x)==null?void 0:pe.valueAsNumber;Ce&&Ce!==1&&L.rotate(-(Ce/(Math.PI/180))*Math.PI,Je);const _e=(Ae=(Te=(be=this.Position[0])==null?void 0:be.Reference[0])==null?void 0:Te.y)==null?void 0:Ae.valueAsNumber;_e&&_e!==0&&L.rotate(-(_e/(Math.PI/90))*Math.PI,Je),((We=(He=(Ye=this.Position[0])==null?void 0:Ye.Axis[0])==null?void 0:He.z)==null?void 0:We.valueAsNumber)===-1&&L.scale(1,-1,Je)}}(this.elementTagName==="Line"||this.elementTagName==="PolyLine"||this.elementTagName==="CenterLine")&&Xg(this,s,o,d,C,g,L,H,j),this.elementTagName==="BsplineCurve"&&console.warn("BsplineCurve not implemented",this),this.elementTagName==="CompositeCurve"&&console.warn("CompositeCurve not implemented",this),this.elementTagName==="Circle"&&e_(this,s,o,d,C,g,L,H,j),this.elementTagName==="Ellipse"&&i_(this,s,o,d,C,g,L,H,j),this.elementTagName==="Shape"&&$g(this,s,o,d,C,g,L,H,j),this.elementTagName==="Text"&&t_(this,s,o,d,C,g,L,H,j)}}class r_{constructor(s,o){this.subscribers=new Set,this.root=!0,this.xml=new window.DOMParser().parseFromString(s,"text/xml"),this.canvas=document.getElementById(o),jg(),Yg(o);const d=this.xml.getElementsByTagName("PlantModel")[0];if(!d){alert("missing plantmodel");return}this.PlantModel=new jo(d,!1)}addEventListener(s){this.subscribers.add(s)}removeEventListener(s){this.subscribers.delete(s)}publicEvent(s,o){this.subscribers.forEach(d=>{d.handleEvent({type:s,data:o})})}draw(){var H,j,Y,ne,K,se,N;it().project.activeLayer.removeChildren(),it().view.requestUpdate();const s=["Metre","mm","Millimetre"],o=this.PlantModel.PlantInformation[0].units.value;s.includes(o)||console.warn("I need to add more here",this.PlantModel.PlantInformation[0].units.value);let d=1.5;switch(!0){case o==="Metre":d=1500;break}if(!Array.isArray(this.PlantModel.Drawing)||this.PlantModel.Drawing[0].length===0){const ge=(j=(H=this.PlantModel.Extent[0])==null?void 0:H.Max[0])==null?void 0:j.x.valueAsNumber,J=(ne=(Y=this.PlantModel.Extent[0])==null?void 0:Y.Max[0])==null?void 0:ne.y.valueAsNumber;d===1.5?(console.warn(`No drawing element, using x:${ge|1261.5}, y:${J|891}`,this.PlantModel),this.PlantModel.draw(d,ge||1261.5,J||891,0,0)):(console.warn(`No drawing element, using x:${ge|.12615}, y:${J|.891}`,this.PlantModel),this.PlantModel.draw(d,ge||.12615,J||.891,0,0));return}const C=(K=this.PlantModel.Drawing[0])==null?void 0:K.Presentation[0];(se=C==null?void 0:C.attributes)!=null&&se.Color&&(this.canvas.style.backgroundColor=(N=C==null?void 0:C.attributes)==null?void 0:N.Color);const g=this.PlantModel.Drawing[0].Extent[0].Max[0].x.valueAsNumber,L=this.PlantModel.Drawing[0].Extent[0].Max[0].y.valueAsNumber;this.PlantModel.draw(d,g,L,0,0,null,this,this)}}function s_(){const n=xf();return nn.exports.useEffect(()=>{},[]),hn("div",{className:"m-2 flex flex-col flex-1 h-full",children:[hn("div",{children:[Qt("input",{className:"",type:"file",onChange:s=>{const o=new FileReader;o.onload=()=>{const d=new r_(o.result,"pidCanvas");d.draw(),d.addEventListener({handleEvent(C){n.setSelected(C.data)}})},o.onloadend=()=>{n.setLoading(!0)},o.onerror=()=>{},s!=null&&s.target.files&&(n.setLoading(!0),o.readAsText(s.target.files[0]))}}),hn("div",{className:"",children:["Version: ","1.3.1"]}),Qt("div",{className:"text-indigo-600",children:Qt("a",{href:"https://github.com/vegarringdal/ProteusXMLDrawing",children:"Github Repo link"})}),Qt("div",{className:"italic",children:"Check console.log for errors/info (F12) in Chrome/Edge if you do not get expected result"}),Qt("div",{className:"italic",children:"Use mousebuttons to pan and mousewheel to zoom, click to select (you need to click on text or lines...work in progress)"})]}),hn("div",{className:"flex flex-col flex-1",children:[hn("div",{className:"flex flex-1 ",style:{minHeight:0},children:[Qt("canvas",{id:"pidCanvas",className:"m-2 border border-gray-600 "}),Qt(Vg,{})]}),Qt("div",{className:"flex flex-1"})]})]})}var Tf={exports:{}},_n={},Ef={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function s(Ce,_e){var Ie=Ce.length;Ce.push(_e);e:for(;0<Ie;){var Ze=Ie-1>>>1,nt=Ce[Ze];if(0<C(nt,_e))Ce[Ze]=_e,Ce[Ie]=nt,Ie=Ze;else break e}}function o(Ce){return Ce.length===0?null:Ce[0]}function d(Ce){if(Ce.length===0)return null;var _e=Ce[0],Ie=Ce.pop();if(Ie!==_e){Ce[0]=Ie;e:for(var Ze=0,nt=Ce.length,zt=nt>>>1;Ze<zt;){var Dt=2*(Ze+1)-1,Oe=Ce[Dt],It=Dt+1,Yt=Ce[It];if(0>C(Oe,Ie))It<nt&&0>C(Yt,Oe)?(Ce[Ze]=Yt,Ce[It]=Ie,Ze=It):(Ce[Ze]=Oe,Ce[Dt]=Ie,Ze=Dt);else if(It<nt&&0>C(Yt,Ie))Ce[Ze]=Yt,Ce[It]=Ie,Ze=It;else break e}}return _e}function C(Ce,_e){var Ie=Ce.sortIndex-_e.sortIndex;return Ie!==0?Ie:Ce.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;n.unstable_now=function(){return g.now()}}else{var L=Date,H=L.now();n.unstable_now=function(){return L.now()-H}}var j=[],Y=[],ne=1,K=null,se=3,N=!1,ge=!1,J=!1,Me=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(Ce){for(var _e=o(Y);_e!==null;){if(_e.callback===null)d(Y);else if(_e.startTime<=Ce)d(Y),_e.sortIndex=_e.expirationTime,s(j,_e);else break;_e=o(Y)}}function ue(Ce){if(J=!1,Q(Ce),!ge)if(o(j)!==null)ge=!0,ee(we);else{var _e=o(Y);_e!==null&&Je(ue,_e.startTime-Ce)}}function we(Ce,_e){ge=!1,J&&(J=!1,q(be),be=-1),N=!0;var Ie=se;try{for(Q(_e),K=o(j);K!==null&&(!(K.expirationTime>_e)||Ce&&!Ye());){var Ze=K.callback;if(typeof Ze=="function"){K.callback=null,se=K.priorityLevel;var nt=Ze(K.expirationTime<=_e);_e=n.unstable_now(),typeof nt=="function"?K.callback=nt:K===o(j)&&d(j),Q(_e)}else d(j);K=o(j)}if(K!==null)var zt=!0;else{var Dt=o(Y);Dt!==null&&Je(ue,Dt.startTime-_e),zt=!1}return zt}finally{K=null,se=Ie,N=!1}}var ae=!1,pe=null,be=-1,Te=5,Ae=-1;function Ye(){return!(n.unstable_now()-Ae<Te)}function He(){if(pe!==null){var Ce=n.unstable_now();Ae=Ce;var _e=!0;try{_e=pe(!0,Ce)}finally{_e?We():(ae=!1,pe=null)}}else ae=!1}var We;if(typeof Z=="function")We=function(){Z(He)};else if(typeof MessageChannel!="undefined"){var de=new MessageChannel,ot=de.port2;de.port1.onmessage=He,We=function(){ot.postMessage(null)}}else We=function(){Me(He,0)};function ee(Ce){pe=Ce,ae||(ae=!0,We())}function Je(Ce,_e){be=Me(function(){Ce(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Ce){Ce.callback=null},n.unstable_continueExecution=function(){ge||N||(ge=!0,ee(we))},n.unstable_forceFrameRate=function(Ce){0>Ce||125<Ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<Ce?Math.floor(1e3/Ce):5},n.unstable_getCurrentPriorityLevel=function(){return se},n.unstable_getFirstCallbackNode=function(){return o(j)},n.unstable_next=function(Ce){switch(se){case 1:case 2:case 3:var _e=3;break;default:_e=se}var Ie=se;se=_e;try{return Ce()}finally{se=Ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Ce,_e){switch(Ce){case 1:case 2:case 3:case 4:case 5:break;default:Ce=3}var Ie=se;se=Ce;try{return _e()}finally{se=Ie}},n.unstable_scheduleCallback=function(Ce,_e,Ie){var Ze=n.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Ze+Ie:Ze):Ie=Ze,Ce){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Ie+nt,Ce={id:ne++,callback:_e,priorityLevel:Ce,startTime:Ie,expirationTime:nt,sortIndex:-1},Ie>Ze?(Ce.sortIndex=Ie,s(Y,Ce),o(j)===null&&Ce===o(Y)&&(J?(q(be),be=-1):J=!0,Je(ue,Ie-Ze))):(Ce.sortIndex=nt,s(j,Ce),ge||N||(ge=!0,ee(we))),Ce},n.unstable_shouldYield=Ye,n.unstable_wrapCallback=function(Ce){var _e=se;return function(){var Ie=se;se=_e;try{return Ce.apply(this,arguments)}finally{se=Ie}}}})(Mf);Ef.exports=Mf;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=nn.exports,gn=Ef.exports;function ye(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Af=new Set,es={};function ji(n,s){_r(n,s),_r(n+"Capture",s)}function _r(n,s){for(es[n]=s,n=0;n<s.length;n++)Af.add(s[n])}var Qn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Wu=Object.prototype.hasOwnProperty,a_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uh={},oh={};function u_(n){return Wu.call(oh,n)?!0:Wu.call(uh,n)?!1:a_.test(n)?oh[n]=!0:(uh[n]=!0,!1)}function o_(n,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function l_(n,s,o,d){if(s===null||typeof s=="undefined"||o_(n,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function tn(n,s,o,d,C,g,L){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=C,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=L}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jt[n]=new tn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];jt[s]=new tn(s,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jt[n]=new tn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jt[n]=new tn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jt[n]=new tn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jt[n]=new tn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jt[n]=new tn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jt[n]=new tn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jt[n]=new tn(n,5,!1,n.toLowerCase(),null,!1,!1)});var qo=/[\-:]([a-z])/g;function Wo(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(qo,Wo);jt[s]=new tn(s,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(qo,Wo);jt[s]=new tn(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(qo,Wo);jt[s]=new tn(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jt[n]=new tn(n,1,!1,n.toLowerCase(),null,!1,!1)});jt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jt[n]=new tn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Zo(n,s,o,d){var C=jt.hasOwnProperty(s)?jt[s]:null;(C!==null?C.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(l_(s,o,C,d)&&(o=null),d||C===null?u_(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):C.mustUseProperty?n[C.propertyName]=o===null?C.type===3?!1:"":o:(s=C.attributeName,d=C.attributeNamespace,o===null?n.removeAttribute(s):(C=C.type,o=C===3||C===4&&o===!0?"":""+o,d?n.setAttributeNS(d,s,o):n.setAttribute(s,o))))}var Xn=zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Go=Symbol.for("react.strict_mode"),Zu=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),Of=Symbol.for("react.context"),Qo=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Ko=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),Lf=Symbol.for("react.offscreen"),lh=Symbol.iterator;function zr(n){return n===null||typeof n!="object"?null:(n=lh&&n[lh]||n["@@iterator"],typeof n=="function"?n:null)}var St=Object.assign,wu;function Vr(n){if(wu===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);wu=s&&s[1]||""}return`
`+wu+n}var Su=!1;function Cu(n,s){if(!n||Su)return"";Su=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var d=Y}Reflect.construct(n,[],s)}else{try{s.call()}catch(Y){d=Y}n.call(s.prototype)}else{try{throw Error()}catch(Y){d=Y}n()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var C=Y.stack.split(`
`),g=d.stack.split(`
`),L=C.length-1,H=g.length-1;1<=L&&0<=H&&C[L]!==g[H];)H--;for(;1<=L&&0<=H;L--,H--)if(C[L]!==g[H]){if(L!==1||H!==1)do if(L--,H--,0>H||C[L]!==g[H]){var j=`
`+C[L].replace(" at new "," at ");return n.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",n.displayName)),j}while(1<=L&&0<=H);break}}}finally{Su=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Vr(n):""}function h_(n){switch(n.tag){case 5:return Vr(n.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return n=Cu(n.type,!1),n;case 11:return n=Cu(n.type.render,!1),n;case 1:return n=Cu(n.type,!0),n;default:return""}}function Ku(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Xi:return"Fragment";case Yi:return"Portal";case Zu:return"Profiler";case Go:return"StrictMode";case Gu:return"Suspense";case Qu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Of:return(n.displayName||"Context")+".Consumer";case Nf:return(n._context.displayName||"Context")+".Provider";case Qo:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ko:return s=n.displayName||null,s!==null?s:Ku(n.type)||"Memo";case ni:s=n._payload,n=n._init;try{return Ku(n(s))}catch(o){}}return null}function f_(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ku(s);case 8:return s===Go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function yi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function c_(n){var s=Rf(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var C=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return C.call(this)},set:function(L){d=""+L,g.call(this,L)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ls(n){n._valueTracker||(n._valueTracker=c_(n))}function Ff(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return n&&(d=Rf(n)?n.checked?"true":"false":n.value),n=d,n!==o?(s.setValue(n),!0):!1}function ha(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(s){return n.body}}function Ju(n,s){var o=s.checked;return St({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:n._wrapperState.initialChecked})}function hh(n,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=yi(s.value!=null?s.value:o),n._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Df(n,s){s=s.checked,s!=null&&Zo(n,"checked",s,!1)}function Yu(n,s){Df(n,s);var o=yi(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Xu(n,s.type,o):s.hasOwnProperty("defaultValue")&&Xu(n,s.type,yi(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function fh(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Xu(n,s,o){(s!=="number"||ha(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Ur=Array.isArray;function lr(n,s,o,d){if(n=n.options,s){s={};for(var C=0;C<o.length;C++)s["$"+o[C]]=!0;for(o=0;o<n.length;o++)C=s.hasOwnProperty("$"+n[o].value),n[o].selected!==C&&(n[o].selected=C),C&&d&&(n[o].defaultSelected=!0)}else{for(o=""+yi(o),s=null,C=0;C<n.length;C++){if(n[C].value===o){n[C].selected=!0,d&&(n[C].defaultSelected=!0);return}s!==null||n[C].disabled||(s=n[C])}s!==null&&(s.selected=!0)}}function $u(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ye(91));return St({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ch(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(ye(92));if(Ur(o)){if(1<o.length)throw Error(ye(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:yi(o)}}function Bf(n,s){var o=yi(s.value),d=yi(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),d!=null&&(n.defaultValue=""+d)}function dh(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Vf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eo(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Vf(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Rs,Uf=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,o,d,C){MSApp.execUnsafeLocalFunction(function(){return n(s,o,d,C)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rs.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function ts(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d_=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(n){d_.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Wr[s]=Wr[n]})});function Hf(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Wr.hasOwnProperty(n)&&Wr[n]?(""+s).trim():s+"px"}function jf(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,C=Hf(o,s[o],d);o==="float"&&(o="cssFloat"),d?n.setProperty(o,C):n[o]=C}}var g_=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(n,s){if(s){if(g_[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ye(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ye(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ye(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ye(62))}}function no(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function Jo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ro=null,hr=null,fr=null;function gh(n){if(n=ws(n)){if(typeof ro!="function")throw Error(ye(280));var s=n.stateNode;s&&(s=Ba(s),ro(n.stateNode,n.type,s))}}function qf(n){hr?fr?fr.push(n):fr=[n]:hr=n}function Wf(){if(hr){var n=hr,s=fr;if(fr=hr=null,gh(n),s)for(n=0;n<s.length;n++)gh(s[n])}}function Zf(n,s){return n(s)}function Gf(){}var xu=!1;function Qf(n,s,o){if(xu)return n(s,o);xu=!0;try{return Zf(n,s,o)}finally{xu=!1,(hr!==null||fr!==null)&&(Gf(),Wf())}}function ns(n,s){var o=n.stateNode;if(o===null)return null;var d=Ba(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(ye(231,s,typeof o));return o}var so=!1;if(Qn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){so=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch(n){so=!1}function __(n,s,o,d,C,g,L,H,j){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(o,Y)}catch(ne){this.onError(ne)}}var Zr=!1,fa=null,ca=!1,ao=null,v_={onError:function(n){Zr=!0,fa=n}};function p_(n,s,o,d,C,g,L,H,j){Zr=!1,fa=null,__.apply(v_,arguments)}function m_(n,s,o,d,C,g,L,H,j){if(p_.apply(this,arguments),Zr){if(Zr){var Y=fa;Zr=!1,fa=null}else throw Error(ye(198));ca||(ca=!0,ao=Y)}}function qi(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Kf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function _h(n){if(qi(n)!==n)throw Error(ye(188))}function y_(n){var s=n.alternate;if(!s){if(s=qi(n),s===null)throw Error(ye(188));return s!==n?null:n}for(var o=n,d=s;;){var C=o.return;if(C===null)break;var g=C.alternate;if(g===null){if(d=C.return,d!==null){o=d;continue}break}if(C.child===g.child){for(g=C.child;g;){if(g===o)return _h(C),n;if(g===d)return _h(C),s;g=g.sibling}throw Error(ye(188))}if(o.return!==d.return)o=C,d=g;else{for(var L=!1,H=C.child;H;){if(H===o){L=!0,o=C,d=g;break}if(H===d){L=!0,d=C,o=g;break}H=H.sibling}if(!L){for(H=g.child;H;){if(H===o){L=!0,o=g,d=C;break}if(H===d){L=!0,d=g,o=C;break}H=H.sibling}if(!L)throw Error(ye(189))}}if(o.alternate!==d)throw Error(ye(190))}if(o.tag!==3)throw Error(ye(188));return o.stateNode.current===o?n:s}function Jf(n){return n=y_(n),n!==null?Yf(n):null}function Yf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Yf(n);if(s!==null)return s;n=n.sibling}return null}var Xf=gn.unstable_scheduleCallback,vh=gn.unstable_cancelCallback,w_=gn.unstable_shouldYield,S_=gn.unstable_requestPaint,bt=gn.unstable_now,C_=gn.unstable_getCurrentPriorityLevel,Yo=gn.unstable_ImmediatePriority,$f=gn.unstable_UserBlockingPriority,da=gn.unstable_NormalPriority,x_=gn.unstable_LowPriority,ec=gn.unstable_IdlePriority,La=null,Dn=null;function b_(n){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(La,n,void 0,(n.current.flags&128)===128)}catch(s){}}var Mn=Math.clz32?Math.clz32:I_,P_=Math.log,k_=Math.LN2;function I_(n){return n>>>=0,n===0?32:31-(P_(n)/k_|0)|0}var Fs=64,Ds=4194304;function Hr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ga(n,s){var o=n.pendingLanes;if(o===0)return 0;var d=0,C=n.suspendedLanes,g=n.pingedLanes,L=o&268435455;if(L!==0){var H=L&~C;H!==0?d=Hr(H):(g&=L,g!==0&&(d=Hr(g)))}else L=o&~C,L!==0?d=Hr(L):g!==0&&(d=Hr(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&C)===0&&(C=d&-d,g=s&-s,C>=g||C===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)o=31-Mn(s),C=1<<o,d|=n[o],s&=~C;return d}function T_(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(n,s){for(var o=n.suspendedLanes,d=n.pingedLanes,C=n.expirationTimes,g=n.pendingLanes;0<g;){var L=31-Mn(g),H=1<<L,j=C[L];j===-1?((H&o)===0||(H&d)!==0)&&(C[L]=T_(H,s)):j<=s&&(n.expiredLanes|=H),g&=~H}}function uo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tc(){var n=Fs;return Fs<<=1,(Fs&4194240)===0&&(Fs=64),n}function bu(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function ms(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Mn(s),n[s]=o}function M_(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<o;){var C=31-Mn(o),g=1<<C;s[C]=0,d[C]=-1,n[C]=-1,o&=~g}}function Xo(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var d=31-Mn(o),C=1<<d;C&s|n[d]&s&&(n[d]|=s),o&=~C}}var at=0;function nc(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ic,$o,rc,sc,ac,oo=!1,Bs=[],oi=null,li=null,hi=null,is=new Map,rs=new Map,ri=[],z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ph(n,s){switch(n){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":is.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(s.pointerId)}}function Nr(n,s,o,d,C,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[C]},s!==null&&(s=ws(s),s!==null&&$o(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),n)}function A_(n,s,o,d,C){switch(s){case"focusin":return oi=Nr(oi,n,s,o,d,C),!0;case"dragenter":return li=Nr(li,n,s,o,d,C),!0;case"mouseover":return hi=Nr(hi,n,s,o,d,C),!0;case"pointerover":var g=C.pointerId;return is.set(g,Nr(is.get(g)||null,n,s,o,d,C)),!0;case"gotpointercapture":return g=C.pointerId,rs.set(g,Nr(rs.get(g)||null,n,s,o,d,C)),!0}return!1}function uc(n){var s=Ni(n.target);if(s!==null){var o=qi(s);if(o!==null){if(s=o.tag,s===13){if(s=Kf(o),s!==null){n.blockedOn=s,ac(n.priority,function(){rc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xs(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=lo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);io=d,o.target.dispatchEvent(d),io=null}else return s=ws(o),s!==null&&$o(s),n.blockedOn=o,!1;s.shift()}return!0}function mh(n,s,o){Xs(n)&&o.delete(s)}function N_(){oo=!1,oi!==null&&Xs(oi)&&(oi=null),li!==null&&Xs(li)&&(li=null),hi!==null&&Xs(hi)&&(hi=null),is.forEach(mh),rs.forEach(mh)}function Or(n,s){n.blockedOn===s&&(n.blockedOn=null,oo||(oo=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,N_)))}function ss(n){function s(C){return Or(C,n)}if(0<Bs.length){Or(Bs[0],n);for(var o=1;o<Bs.length;o++){var d=Bs[o];d.blockedOn===n&&(d.blockedOn=null)}}for(oi!==null&&Or(oi,n),li!==null&&Or(li,n),hi!==null&&Or(hi,n),is.forEach(s),rs.forEach(s),o=0;o<ri.length;o++)d=ri[o],d.blockedOn===n&&(d.blockedOn=null);for(;0<ri.length&&(o=ri[0],o.blockedOn===null);)uc(o),o.blockedOn===null&&ri.shift()}var cr=Xn.ReactCurrentBatchConfig,_a=!0;function O_(n,s,o,d){var C=at,g=cr.transition;cr.transition=null;try{at=1,el(n,s,o,d)}finally{at=C,cr.transition=g}}function L_(n,s,o,d){var C=at,g=cr.transition;cr.transition=null;try{at=4,el(n,s,o,d)}finally{at=C,cr.transition=g}}function el(n,s,o,d){if(_a){var C=lo(n,s,o,d);if(C===null)Ou(n,s,d,va,o),ph(n,d);else if(A_(C,n,s,o,d))d.stopPropagation();else if(ph(n,d),s&4&&-1<z_.indexOf(n)){for(;C!==null;){var g=ws(C);if(g!==null&&ic(g),g=lo(n,s,o,d),g===null&&Ou(n,s,d,va,o),g===C)break;C=g}C!==null&&d.stopPropagation()}else Ou(n,s,d,null,o)}}var va=null;function lo(n,s,o,d){if(va=null,n=Jo(d),n=Ni(n),n!==null)if(s=qi(n),s===null)n=null;else if(o=s.tag,o===13){if(n=Kf(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return va=n,null}function oc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C_()){case Yo:return 1;case $f:return 4;case da:case x_:return 16;case ec:return 536870912;default:return 16}default:return 16}}var ai=null,tl=null,$s=null;function lc(){if($s)return $s;var n,s=tl,o=s.length,d,C="value"in ai?ai.value:ai.textContent,g=C.length;for(n=0;n<o&&s[n]===C[n];n++);var L=o-n;for(d=1;d<=L&&s[o-d]===C[g-d];d++);return $s=C.slice(n,1<d?1-d:void 0)}function ea(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Vs(){return!0}function yh(){return!1}function vn(n){function s(o,d,C,g,L){this._reactName=o,this._targetInst=C,this.type=d,this.nativeEvent=g,this.target=L,this.currentTarget=null;for(var H in n)n.hasOwnProperty(H)&&(o=n[H],this[H]=o?o(g):g[H]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vs:yh,this.isPropagationStopped=yh,this}return St(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),s}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=vn(xr),ys=St({},xr,{view:0,detail:0}),R_=vn(ys),Pu,ku,Lr,Ra=St({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lr&&(Lr&&n.type==="mousemove"?(Pu=n.screenX-Lr.screenX,ku=n.screenY-Lr.screenY):ku=Pu=0,Lr=n),Pu)},movementY:function(n){return"movementY"in n?n.movementY:ku}}),wh=vn(Ra),F_=St({},Ra,{dataTransfer:0}),D_=vn(F_),B_=St({},ys,{relatedTarget:0}),Iu=vn(B_),V_=St({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),U_=vn(V_),H_=St({},xr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),j_=vn(H_),q_=St({},xr,{data:0}),Sh=vn(q_),W_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q_(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=G_[n])?!!s[n]:!1}function il(){return Q_}var K_=St({},ys,{key:function(n){if(n.key){var s=W_[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Z_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(n){return n.type==="keypress"?ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),J_=vn(K_),Y_=St({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=vn(Y_),X_=St({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),$_=vn(X_),e0=St({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=vn(e0),n0=St({},Ra,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=vn(n0),r0=[9,13,27,32],rl=Qn&&"CompositionEvent"in window,Gr=null;Qn&&"documentMode"in document&&(Gr=document.documentMode);var s0=Qn&&"TextEvent"in window&&!Gr,hc=Qn&&(!rl||Gr&&8<Gr&&11>=Gr),xh=String.fromCharCode(32),bh=!1;function fc(n,s){switch(n){case"keyup":return r0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $i=!1;function a0(n,s){switch(n){case"compositionend":return cc(s);case"keypress":return s.which!==32?null:(bh=!0,xh);case"textInput":return n=s.data,n===xh&&bh?null:n;default:return null}}function u0(n,s){if($i)return n==="compositionend"||!rl&&fc(n,s)?(n=lc(),$s=tl=ai=null,$i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hc&&s.locale!=="ko"?null:s.data;default:return null}}var o0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!o0[n.type]:s==="textarea"}function dc(n,s,o,d){qf(d),s=pa(s,"onChange"),0<s.length&&(o=new nl("onChange","change",null,o,d),n.push({event:o,listeners:s}))}var Qr=null,as=null;function l0(n){bc(n,0)}function Fa(n){var s=nr(n);if(Ff(s))return n}function h0(n,s){if(n==="change")return s}var gc=!1;if(Qn){var Tu;if(Qn){var Eu="oninput"in document;if(!Eu){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),Eu=typeof kh.oninput=="function"}Tu=Eu}else Tu=!1;gc=Tu&&(!document.documentMode||9<document.documentMode)}function Ih(){Qr&&(Qr.detachEvent("onpropertychange",_c),as=Qr=null)}function _c(n){if(n.propertyName==="value"&&Fa(as)){var s=[];dc(s,as,n,Jo(n)),Qf(l0,s)}}function f0(n,s,o){n==="focusin"?(Ih(),Qr=s,as=o,Qr.attachEvent("onpropertychange",_c)):n==="focusout"&&Ih()}function c0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fa(as)}function d0(n,s){if(n==="click")return Fa(s)}function g0(n,s){if(n==="input"||n==="change")return Fa(s)}function _0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var An=typeof Object.is=="function"?Object.is:_0;function us(n,s){if(An(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var C=o[d];if(!Wu.call(s,C)||!An(n[C],s[C]))return!1}return!0}function Th(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Eh(n,s){var o=Th(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=s&&d>=s)return{node:o,offset:s-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Th(o)}}function vc(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?vc(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function pc(){for(var n=window,s=ha();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch(d){o=!1}if(o)n=s.contentWindow;else break;s=ha(n.document)}return s}function sl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function v0(n){var s=pc(),o=n.focusedElem,d=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&vc(o.ownerDocument.documentElement,o)){if(d!==null&&sl(o)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var C=o.textContent.length,g=Math.min(d.start,C);d=d.end===void 0?g:Math.min(d.end,C),!n.extend&&g>d&&(C=d,d=g,g=C),C=Eh(o,g);var L=Eh(o,d);C&&L&&(n.rangeCount!==1||n.anchorNode!==C.node||n.anchorOffset!==C.offset||n.focusNode!==L.node||n.focusOffset!==L.offset)&&(s=s.createRange(),s.setStart(C.node,C.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(L.node,L.offset)):(s.setEnd(L.node,L.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var p0=Qn&&"documentMode"in document&&11>=document.documentMode,er=null,ho=null,Kr=null,fo=!1;function Mh(n,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fo||er==null||er!==ha(d)||(d=er,"selectionStart"in d&&sl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Kr&&us(Kr,d)||(Kr=d,d=pa(ho,"onSelect"),0<d.length&&(s=new nl("onSelect","select",null,s,o),n.push({event:s,listeners:d}),s.target=er)))}function Us(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var tr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},Mu={},mc={};Qn&&(mc=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function Da(n){if(Mu[n])return Mu[n];if(!tr[n])return n;var s=tr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in mc)return Mu[n]=s[o];return n}var yc=Da("animationend"),wc=Da("animationiteration"),Sc=Da("animationstart"),Cc=Da("transitionend"),xc=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(n,s){xc.set(n,s),ji(s,[n])}for(var zu=0;zu<zh.length;zu++){var Au=zh[zu],m0=Au.toLowerCase(),y0=Au[0].toUpperCase()+Au.slice(1);Si(m0,"on"+y0)}Si(yc,"onAnimationEnd");Si(wc,"onAnimationIteration");Si(Sc,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(Cc,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Ah(n,s,o){var d=n.type||"unknown-event";n.currentTarget=o,m_(d,s,void 0,n),n.currentTarget=null}function bc(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],C=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var L=d.length-1;0<=L;L--){var H=d[L],j=H.instance,Y=H.currentTarget;if(H=H.listener,j!==g&&C.isPropagationStopped())break e;Ah(C,H,Y),g=j}else for(L=0;L<d.length;L++){if(H=d[L],j=H.instance,Y=H.currentTarget,H=H.listener,j!==g&&C.isPropagationStopped())break e;Ah(C,H,Y),g=j}}}if(ca)throw n=ao,ca=!1,ao=null,n}function ct(n,s){var o=s[po];o===void 0&&(o=s[po]=new Set);var d=n+"__bubble";o.has(d)||(Pc(s,n,2,!1),o.add(d))}function Nu(n,s,o){var d=0;s&&(d|=4),Pc(o,n,d,s)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function os(n){if(!n[Hs]){n[Hs]=!0,Af.forEach(function(o){o!=="selectionchange"&&(w0.has(o)||Nu(o,!1,n),Nu(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Hs]||(s[Hs]=!0,Nu("selectionchange",!1,s))}}function Pc(n,s,o,d){switch(oc(s)){case 1:var C=O_;break;case 4:C=L_;break;default:C=el}o=C.bind(null,s,o,n),C=void 0,!so||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),d?C!==void 0?n.addEventListener(s,o,{capture:!0,passive:C}):n.addEventListener(s,o,!0):C!==void 0?n.addEventListener(s,o,{passive:C}):n.addEventListener(s,o,!1)}function Ou(n,s,o,d,C){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var L=d.tag;if(L===3||L===4){var H=d.stateNode.containerInfo;if(H===C||H.nodeType===8&&H.parentNode===C)break;if(L===4)for(L=d.return;L!==null;){var j=L.tag;if((j===3||j===4)&&(j=L.stateNode.containerInfo,j===C||j.nodeType===8&&j.parentNode===C))return;L=L.return}for(;H!==null;){if(L=Ni(H),L===null)return;if(j=L.tag,j===5||j===6){d=g=L;continue e}H=H.parentNode}}d=d.return}Qf(function(){var Y=g,ne=Jo(o),K=[];e:{var se=xc.get(n);if(se!==void 0){var N=nl,ge=n;switch(n){case"keypress":if(ea(o)===0)break e;case"keydown":case"keyup":N=J_;break;case"focusin":ge="focus",N=Iu;break;case"focusout":ge="blur",N=Iu;break;case"beforeblur":case"afterblur":N=Iu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=$_;break;case yc:case wc:case Sc:N=U_;break;case Cc:N=t0;break;case"scroll":N=R_;break;case"wheel":N=i0;break;case"copy":case"cut":case"paste":N=j_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Ch}var J=(s&4)!==0,Me=!J&&n==="scroll",q=J?se!==null?se+"Capture":null:se;J=[];for(var Z=Y,Q;Z!==null;){Q=Z;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,q!==null&&(ue=ns(Z,q),ue!=null&&J.push(ls(Z,ue,Q)))),Me)break;Z=Z.return}0<J.length&&(se=new N(se,ge,null,o,ne),K.push({event:se,listeners:J}))}}if((s&7)===0){e:{if(se=n==="mouseover"||n==="pointerover",N=n==="mouseout"||n==="pointerout",se&&o!==io&&(ge=o.relatedTarget||o.fromElement)&&(Ni(ge)||ge[Kn]))break e;if((N||se)&&(se=ne.window===ne?ne:(se=ne.ownerDocument)?se.defaultView||se.parentWindow:window,N?(ge=o.relatedTarget||o.toElement,N=Y,ge=ge?Ni(ge):null,ge!==null&&(Me=qi(ge),ge!==Me||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(N=null,ge=Y),N!==ge)){if(J=wh,ue="onMouseLeave",q="onMouseEnter",Z="mouse",(n==="pointerout"||n==="pointerover")&&(J=Ch,ue="onPointerLeave",q="onPointerEnter",Z="pointer"),Me=N==null?se:nr(N),Q=ge==null?se:nr(ge),se=new J(ue,Z+"leave",N,o,ne),se.target=Me,se.relatedTarget=Q,ue=null,Ni(ne)===Y&&(J=new J(q,Z+"enter",ge,o,ne),J.target=Q,J.relatedTarget=Me,ue=J),Me=ue,N&&ge)t:{for(J=N,q=ge,Z=0,Q=J;Q;Q=Ji(Q))Z++;for(Q=0,ue=q;ue;ue=Ji(ue))Q++;for(;0<Z-Q;)J=Ji(J),Z--;for(;0<Q-Z;)q=Ji(q),Q--;for(;Z--;){if(J===q||q!==null&&J===q.alternate)break t;J=Ji(J),q=Ji(q)}J=null}else J=null;N!==null&&Nh(K,se,N,J,!1),ge!==null&&Me!==null&&Nh(K,Me,ge,J,!0)}}e:{if(se=Y?nr(Y):window,N=se.nodeName&&se.nodeName.toLowerCase(),N==="select"||N==="input"&&se.type==="file")var we=h0;else if(Ph(se))if(gc)we=g0;else{we=c0;var ae=f0}else(N=se.nodeName)&&N.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(we=d0);if(we&&(we=we(n,Y))){dc(K,we,o,ne);break e}ae&&ae(n,se,Y),n==="focusout"&&(ae=se._wrapperState)&&ae.controlled&&se.type==="number"&&Xu(se,"number",se.value)}switch(ae=Y?nr(Y):window,n){case"focusin":(Ph(ae)||ae.contentEditable==="true")&&(er=ae,ho=Y,Kr=null);break;case"focusout":Kr=ho=er=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,Mh(K,o,ne);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":Mh(K,o,ne)}var pe;if(rl)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else $i?fc(n,o)&&(be="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(hc&&o.locale!=="ko"&&($i||be!=="onCompositionStart"?be==="onCompositionEnd"&&$i&&(pe=lc()):(ai=ne,tl="value"in ai?ai.value:ai.textContent,$i=!0)),ae=pa(Y,be),0<ae.length&&(be=new Sh(be,n,null,o,ne),K.push({event:be,listeners:ae}),pe?be.data=pe:(pe=cc(o),pe!==null&&(be.data=pe)))),(pe=s0?a0(n,o):u0(n,o))&&(Y=pa(Y,"onBeforeInput"),0<Y.length&&(ne=new Sh("onBeforeInput","beforeinput",null,o,ne),K.push({event:ne,listeners:Y}),ne.data=pe))}bc(K,s)})}function ls(n,s,o){return{instance:n,listener:s,currentTarget:o}}function pa(n,s){for(var o=s+"Capture",d=[];n!==null;){var C=n,g=C.stateNode;C.tag===5&&g!==null&&(C=g,g=ns(n,o),g!=null&&d.unshift(ls(n,g,C)),g=ns(n,s),g!=null&&d.push(ls(n,g,C))),n=n.return}return d}function Ji(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Nh(n,s,o,d,C){for(var g=s._reactName,L=[];o!==null&&o!==d;){var H=o,j=H.alternate,Y=H.stateNode;if(j!==null&&j===d)break;H.tag===5&&Y!==null&&(H=Y,C?(j=ns(o,g),j!=null&&L.unshift(ls(o,j,H))):C||(j=ns(o,g),j!=null&&L.push(ls(o,j,H)))),o=o.return}L.length!==0&&n.push({event:s,listeners:L})}var S0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Oh(n){return(typeof n=="string"?n:""+n).replace(S0,`
`).replace(C0,"")}function js(n,s,o){if(s=Oh(s),Oh(n)!==s&&o)throw Error(ye(425))}function ma(){}var co=null,go=null;function _o(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vo=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,b0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh!="undefined"?function(n){return Lh.resolve(null).then(n).catch(P0)}:vo;function P0(n){setTimeout(function(){throw n})}function Lu(n,s){var o=s,d=0;do{var C=o.nextSibling;if(n.removeChild(o),C&&C.nodeType===8)if(o=C.data,o==="/$"){if(d===0){n.removeChild(C),ss(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=C}while(o);ss(s)}function fi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Rh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var br=Math.random().toString(36).slice(2),Fn="__reactFiber$"+br,hs="__reactProps$"+br,Kn="__reactContainer$"+br,po="__reactEvents$"+br,k0="__reactListeners$"+br,I0="__reactHandles$"+br;function Ni(n){var s=n[Fn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Kn]||o[Fn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Rh(n);n!==null;){if(o=n[Fn])return o;n=Rh(n)}return s}n=o,o=n.parentNode}return null}function ws(n){return n=n[Fn]||n[Kn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function nr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ye(33))}function Ba(n){return n[hs]||null}var mo=[],ir=-1;function Ci(n){return{current:n}}function dt(n){0>ir||(n.current=mo[ir],mo[ir]=null,ir--)}function lt(n,s){ir++,mo[ir]=n.current,n.current=s}var wi={},Jt=Ci(wi),an=Ci(!1),Di=wi;function vr(n,s){var o=n.type.contextTypes;if(!o)return wi;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var C={},g;for(g in o)C[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=C),C}function un(n){return n=n.childContextTypes,n!=null}function ya(){dt(an),dt(Jt)}function Fh(n,s,o){if(Jt.current!==wi)throw Error(ye(168));lt(Jt,s),lt(an,o)}function kc(n,s,o){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var C in d)if(!(C in s))throw Error(ye(108,f_(n)||"Unknown",C));return St({},o,d)}function wa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wi,Di=Jt.current,lt(Jt,n),lt(an,an.current),!0}function Dh(n,s,o){var d=n.stateNode;if(!d)throw Error(ye(169));o?(n=kc(n,s,Di),d.__reactInternalMemoizedMergedChildContext=n,dt(an),dt(Jt),lt(Jt,n)):dt(an),lt(an,o)}var qn=null,Va=!1,Ru=!1;function Ic(n){qn===null?qn=[n]:qn.push(n)}function T0(n){Va=!0,Ic(n)}function xi(){if(!Ru&&qn!==null){Ru=!0;var n=0,s=at;try{var o=qn;for(at=1;n<o.length;n++){var d=o[n];do d=d(!0);while(d!==null)}qn=null,Va=!1}catch(C){throw qn!==null&&(qn=qn.slice(n+1)),Xf(Yo,xi),C}finally{at=s,Ru=!1}}return null}var rr=[],sr=0,Sa=null,Ca=0,pn=[],mn=0,Bi=null,Wn=1,Zn="";function zi(n,s){rr[sr++]=Ca,rr[sr++]=Sa,Sa=n,Ca=s}function Tc(n,s,o){pn[mn++]=Wn,pn[mn++]=Zn,pn[mn++]=Bi,Bi=n;var d=Wn;n=Zn;var C=32-Mn(d)-1;d&=~(1<<C),o+=1;var g=32-Mn(s)+C;if(30<g){var L=C-C%5;g=(d&(1<<L)-1).toString(32),d>>=L,C-=L,Wn=1<<32-Mn(s)+C|o<<C|d,Zn=g+n}else Wn=1<<g|o<<C|d,Zn=n}function al(n){n.return!==null&&(zi(n,1),Tc(n,1,0))}function ul(n){for(;n===Sa;)Sa=rr[--sr],rr[sr]=null,Ca=rr[--sr],rr[sr]=null;for(;n===Bi;)Bi=pn[--mn],pn[mn]=null,Zn=pn[--mn],pn[mn]=null,Wn=pn[--mn],pn[mn]=null}var dn=null,cn=null,_t=!1,En=null;function Ec(n,s){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function Bh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,dn=n,cn=fi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,dn=n,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Bi!==null?{id:Wn,overflow:Zn}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,dn=n,cn=null,!0):!1;default:return!1}}function yo(n){return(n.mode&1)!==0&&(n.flags&128)===0}function wo(n){if(_t){var s=cn;if(s){var o=s;if(!Bh(n,s)){if(yo(n))throw Error(ye(418));s=fi(o.nextSibling);var d=dn;s&&Bh(n,s)?Ec(d,o):(n.flags=n.flags&-4097|2,_t=!1,dn=n)}}else{if(yo(n))throw Error(ye(418));n.flags=n.flags&-4097|2,_t=!1,dn=n}}}function Vh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function qs(n){if(n!==dn)return!1;if(!_t)return Vh(n),_t=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!_o(n.type,n.memoizedProps)),s&&(s=cn)){if(yo(n))throw Mc(),Error(ye(418));for(;s;)Ec(n,s),s=fi(s.nextSibling)}if(Vh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ye(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){cn=fi(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}cn=null}}else cn=dn?fi(n.stateNode.nextSibling):null;return!0}function Mc(){for(var n=cn;n;)n=fi(n.nextSibling)}function pr(){cn=dn=null,_t=!1}function ol(n){En===null?En=[n]:En.push(n)}var E0=Xn.ReactCurrentBatchConfig;function In(n,s){if(n&&n.defaultProps){s=St({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}var xa=Ci(null),ba=null,ar=null,ll=null;function hl(){ll=ar=ba=null}function fl(n){var s=xa.current;dt(xa),n._currentValue=s}function So(n,s,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===o)break;n=n.return}}function dr(n,s){ba=n,ll=ar=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(sn=!0),n.firstContext=null)}function Sn(n){var s=n._currentValue;if(ll!==n)if(n={context:n,memoizedValue:s,next:null},ar===null){if(ba===null)throw Error(ye(308));ar=n,ba.dependencies={lanes:0,firstContext:n}}else ar=ar.next=n;return s}var Oi=null;function cl(n){Oi===null?Oi=[n]:Oi.push(n)}function zc(n,s,o,d){var C=s.interleaved;return C===null?(o.next=o,cl(s)):(o.next=C.next,C.next=o),s.interleaved=o,Jn(n,d)}function Jn(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var ii=!1;function dl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ac(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ci(n,s,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(tt&2)!==0){var C=d.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),d.pending=s,Jn(n,o)}return C=d.interleaved,C===null?(s.next=s,cl(d)):(s.next=C.next,C.next=s),d.interleaved=s,Jn(n,o)}function ta(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,Xo(n,o)}}function Uh(n,s){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var C=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var L={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?C=g=L:g=g.next=L,o=o.next}while(o!==null);g===null?C=g=s:g=g.next=s}else C=g=s;o={baseState:d.baseState,firstBaseUpdate:C,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function Pa(n,s,o,d){var C=n.updateQueue;ii=!1;var g=C.firstBaseUpdate,L=C.lastBaseUpdate,H=C.shared.pending;if(H!==null){C.shared.pending=null;var j=H,Y=j.next;j.next=null,L===null?g=Y:L.next=Y,L=j;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,H=ne.lastBaseUpdate,H!==L&&(H===null?ne.firstBaseUpdate=Y:H.next=Y,ne.lastBaseUpdate=j))}if(g!==null){var K=C.baseState;L=0,ne=Y=j=null,H=g;do{var se=H.lane,N=H.eventTime;if((d&se)===se){ne!==null&&(ne=ne.next={eventTime:N,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ge=n,J=H;switch(se=s,N=o,J.tag){case 1:if(ge=J.payload,typeof ge=="function"){K=ge.call(N,K,se);break e}K=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=J.payload,se=typeof ge=="function"?ge.call(N,K,se):ge,se==null)break e;K=St({},K,se);break e;case 2:ii=!0}}H.callback!==null&&H.lane!==0&&(n.flags|=64,se=C.effects,se===null?C.effects=[H]:se.push(H))}else N={eventTime:N,lane:se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ne===null?(Y=ne=N,j=K):ne=ne.next=N,L|=se;if(H=H.next,H===null){if(H=C.shared.pending,H===null)break;se=H,H=se.next,se.next=null,C.lastBaseUpdate=se,C.shared.pending=null}}while(1);if(ne===null&&(j=K),C.baseState=j,C.firstBaseUpdate=Y,C.lastBaseUpdate=ne,s=C.shared.interleaved,s!==null){C=s;do L|=C.lane,C=C.next;while(C!==s)}else g===null&&(C.shared.lanes=0);Ui|=L,n.lanes=L,n.memoizedState=K}}function Hh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],C=d.callback;if(C!==null){if(d.callback=null,d=o,typeof C!="function")throw Error(ye(191,C));C.call(d)}}}var Nc=new zf.Component().refs;function Co(n,s,o,d){s=n.memoizedState,o=o(d,s),o=o==null?s:St({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ua={isMounted:function(n){return(n=n._reactInternals)?qi(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var d=$t(),C=gi(n),g=Gn(d,C);g.payload=s,o!=null&&(g.callback=o),s=ci(n,g,C),s!==null&&(zn(s,n,C,d),ta(s,n,C))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var d=$t(),C=gi(n),g=Gn(d,C);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=ci(n,g,C),s!==null&&(zn(s,n,C,d),ta(s,n,C))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=$t(),d=gi(n),C=Gn(o,d);C.tag=2,s!=null&&(C.callback=s),s=ci(n,C,d),s!==null&&(zn(s,n,d,o),ta(s,n,d))}};function jh(n,s,o,d,C,g,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,L):s.prototype&&s.prototype.isPureReactComponent?!us(o,d)||!us(C,g):!0}function Oc(n,s,o){var d=!1,C=wi,g=s.contextType;return typeof g=="object"&&g!==null?g=Sn(g):(C=un(s)?Di:Jt.current,d=s.contextTypes,g=(d=d!=null)?vr(n,C):wi),s=new s(o,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ua,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=C,n.__reactInternalMemoizedMaskedChildContext=g),s}function qh(n,s,o,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==n&&Ua.enqueueReplaceState(s,s.state,null)}function xo(n,s,o,d){var C=n.stateNode;C.props=o,C.state=n.memoizedState,C.refs=Nc,dl(n);var g=s.contextType;typeof g=="object"&&g!==null?C.context=Sn(g):(g=un(s)?Di:Jt.current,C.context=vr(n,g)),C.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Co(n,s,g,o),C.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(s=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),s!==C.state&&Ua.enqueueReplaceState(C,C.state,null),Pa(n,o,C,d),C.state=n.memoizedState),typeof C.componentDidMount=="function"&&(n.flags|=4194308)}function Rr(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(ye(309));var d=o.stateNode}if(!d)throw Error(ye(147,n));var C=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(L){var H=C.refs;H===Nc&&(H=C.refs={}),L===null?delete H[g]:H[g]=L},s._stringRef=g,s)}if(typeof n!="string")throw Error(ye(284));if(!o._owner)throw Error(ye(290,n))}return n}function Ws(n,s){throw n=Object.prototype.toString.call(s),Error(ye(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Wh(n){var s=n._init;return s(n._payload)}function Lc(n){function s(q,Z){if(n){var Q=q.deletions;Q===null?(q.deletions=[Z],q.flags|=16):Q.push(Z)}}function o(q,Z){if(!n)return null;for(;Z!==null;)s(q,Z),Z=Z.sibling;return null}function d(q,Z){for(q=new Map;Z!==null;)Z.key!==null?q.set(Z.key,Z):q.set(Z.index,Z),Z=Z.sibling;return q}function C(q,Z){return q=_i(q,Z),q.index=0,q.sibling=null,q}function g(q,Z,Q){return q.index=Q,n?(Q=q.alternate,Q!==null?(Q=Q.index,Q<Z?(q.flags|=2,Z):Q):(q.flags|=2,Z)):(q.flags|=1048576,Z)}function L(q){return n&&q.alternate===null&&(q.flags|=2),q}function H(q,Z,Q,ue){return Z===null||Z.tag!==6?(Z=ju(Q,q.mode,ue),Z.return=q,Z):(Z=C(Z,Q),Z.return=q,Z)}function j(q,Z,Q,ue){var we=Q.type;return we===Xi?ne(q,Z,Q.props.children,ue,Q.key):Z!==null&&(Z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ni&&Wh(we)===Z.type)?(ue=C(Z,Q.props),ue.ref=Rr(q,Z,Q),ue.return=q,ue):(ue=ua(Q.type,Q.key,Q.props,null,q.mode,ue),ue.ref=Rr(q,Z,Q),ue.return=q,ue)}function Y(q,Z,Q,ue){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==Q.containerInfo||Z.stateNode.implementation!==Q.implementation?(Z=qu(Q,q.mode,ue),Z.return=q,Z):(Z=C(Z,Q.children||[]),Z.return=q,Z)}function ne(q,Z,Q,ue,we){return Z===null||Z.tag!==7?(Z=Fi(Q,q.mode,ue,we),Z.return=q,Z):(Z=C(Z,Q),Z.return=q,Z)}function K(q,Z,Q){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=ju(""+Z,q.mode,Q),Z.return=q,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Os:return Q=ua(Z.type,Z.key,Z.props,null,q.mode,Q),Q.ref=Rr(q,null,Z),Q.return=q,Q;case Yi:return Z=qu(Z,q.mode,Q),Z.return=q,Z;case ni:var ue=Z._init;return K(q,ue(Z._payload),Q)}if(Ur(Z)||zr(Z))return Z=Fi(Z,q.mode,Q,null),Z.return=q,Z;Ws(q,Z)}return null}function se(q,Z,Q,ue){var we=Z!==null?Z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return we!==null?null:H(q,Z,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Os:return Q.key===we?j(q,Z,Q,ue):null;case Yi:return Q.key===we?Y(q,Z,Q,ue):null;case ni:return we=Q._init,se(q,Z,we(Q._payload),ue)}if(Ur(Q)||zr(Q))return we!==null?null:ne(q,Z,Q,ue,null);Ws(q,Q)}return null}function N(q,Z,Q,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(Q)||null,H(Z,q,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Os:return q=q.get(ue.key===null?Q:ue.key)||null,j(Z,q,ue,we);case Yi:return q=q.get(ue.key===null?Q:ue.key)||null,Y(Z,q,ue,we);case ni:var ae=ue._init;return N(q,Z,Q,ae(ue._payload),we)}if(Ur(ue)||zr(ue))return q=q.get(Q)||null,ne(Z,q,ue,we,null);Ws(Z,ue)}return null}function ge(q,Z,Q,ue){for(var we=null,ae=null,pe=Z,be=Z=0,Te=null;pe!==null&&be<Q.length;be++){pe.index>be?(Te=pe,pe=null):Te=pe.sibling;var Ae=se(q,pe,Q[be],ue);if(Ae===null){pe===null&&(pe=Te);break}n&&pe&&Ae.alternate===null&&s(q,pe),Z=g(Ae,Z,be),ae===null?we=Ae:ae.sibling=Ae,ae=Ae,pe=Te}if(be===Q.length)return o(q,pe),_t&&zi(q,be),we;if(pe===null){for(;be<Q.length;be++)pe=K(q,Q[be],ue),pe!==null&&(Z=g(pe,Z,be),ae===null?we=pe:ae.sibling=pe,ae=pe);return _t&&zi(q,be),we}for(pe=d(q,pe);be<Q.length;be++)Te=N(pe,q,be,Q[be],ue),Te!==null&&(n&&Te.alternate!==null&&pe.delete(Te.key===null?be:Te.key),Z=g(Te,Z,be),ae===null?we=Te:ae.sibling=Te,ae=Te);return n&&pe.forEach(function(Ye){return s(q,Ye)}),_t&&zi(q,be),we}function J(q,Z,Q,ue){var we=zr(Q);if(typeof we!="function")throw Error(ye(150));if(Q=we.call(Q),Q==null)throw Error(ye(151));for(var ae=we=null,pe=Z,be=Z=0,Te=null,Ae=Q.next();pe!==null&&!Ae.done;be++,Ae=Q.next()){pe.index>be?(Te=pe,pe=null):Te=pe.sibling;var Ye=se(q,pe,Ae.value,ue);if(Ye===null){pe===null&&(pe=Te);break}n&&pe&&Ye.alternate===null&&s(q,pe),Z=g(Ye,Z,be),ae===null?we=Ye:ae.sibling=Ye,ae=Ye,pe=Te}if(Ae.done)return o(q,pe),_t&&zi(q,be),we;if(pe===null){for(;!Ae.done;be++,Ae=Q.next())Ae=K(q,Ae.value,ue),Ae!==null&&(Z=g(Ae,Z,be),ae===null?we=Ae:ae.sibling=Ae,ae=Ae);return _t&&zi(q,be),we}for(pe=d(q,pe);!Ae.done;be++,Ae=Q.next())Ae=N(pe,q,be,Ae.value,ue),Ae!==null&&(n&&Ae.alternate!==null&&pe.delete(Ae.key===null?be:Ae.key),Z=g(Ae,Z,be),ae===null?we=Ae:ae.sibling=Ae,ae=Ae);return n&&pe.forEach(function(He){return s(q,He)}),_t&&zi(q,be),we}function Me(q,Z,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===Xi&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Os:e:{for(var we=Q.key,ae=Z;ae!==null;){if(ae.key===we){if(we=Q.type,we===Xi){if(ae.tag===7){o(q,ae.sibling),Z=C(ae,Q.props.children),Z.return=q,q=Z;break e}}else if(ae.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ni&&Wh(we)===ae.type){o(q,ae.sibling),Z=C(ae,Q.props),Z.ref=Rr(q,ae,Q),Z.return=q,q=Z;break e}o(q,ae);break}else s(q,ae);ae=ae.sibling}Q.type===Xi?(Z=Fi(Q.props.children,q.mode,ue,Q.key),Z.return=q,q=Z):(ue=ua(Q.type,Q.key,Q.props,null,q.mode,ue),ue.ref=Rr(q,Z,Q),ue.return=q,q=ue)}return L(q);case Yi:e:{for(ae=Q.key;Z!==null;){if(Z.key===ae)if(Z.tag===4&&Z.stateNode.containerInfo===Q.containerInfo&&Z.stateNode.implementation===Q.implementation){o(q,Z.sibling),Z=C(Z,Q.children||[]),Z.return=q,q=Z;break e}else{o(q,Z);break}else s(q,Z);Z=Z.sibling}Z=qu(Q,q.mode,ue),Z.return=q,q=Z}return L(q);case ni:return ae=Q._init,Me(q,Z,ae(Q._payload),ue)}if(Ur(Q))return ge(q,Z,Q,ue);if(zr(Q))return J(q,Z,Q,ue);Ws(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,Z!==null&&Z.tag===6?(o(q,Z.sibling),Z=C(Z,Q),Z.return=q,q=Z):(o(q,Z),Z=ju(Q,q.mode,ue),Z.return=q,q=Z),L(q)):o(q,Z)}return Me}var mr=Lc(!0),Rc=Lc(!1),Ss={},Bn=Ci(Ss),fs=Ci(Ss),cs=Ci(Ss);function Li(n){if(n===Ss)throw Error(ye(174));return n}function gl(n,s){switch(lt(cs,s),lt(fs,n),lt(Bn,Ss),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:eo(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=eo(s,n)}dt(Bn),lt(Bn,s)}function yr(){dt(Bn),dt(fs),dt(cs)}function Fc(n){Li(cs.current);var s=Li(Bn.current),o=eo(s,n.type);s!==o&&(lt(fs,n),lt(Bn,o))}function _l(n){fs.current===n&&(dt(Bn),dt(fs))}var yt=Ci(0);function ka(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fu=[];function vl(){for(var n=0;n<Fu.length;n++)Fu[n]._workInProgressVersionPrimary=null;Fu.length=0}var na=Xn.ReactCurrentDispatcher,Du=Xn.ReactCurrentBatchConfig,Vi=0,wt=null,Et=null,Rt=null,Ia=!1,Jr=!1,ds=0,M0=0;function Zt(){throw Error(ye(321))}function pl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!An(n[o],s[o]))return!1;return!0}function ml(n,s,o,d,C,g){if(Vi=g,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,na.current=n===null||n.memoizedState===null?O0:L0,n=o(d,C),Jr){g=0;do{if(Jr=!1,ds=0,25<=g)throw Error(ye(301));g+=1,Rt=Et=null,s.updateQueue=null,na.current=R0,n=o(d,C)}while(Jr)}if(na.current=Ta,s=Et!==null&&Et.next!==null,Vi=0,Rt=Et=wt=null,Ia=!1,s)throw Error(ye(300));return n}function yl(){var n=ds!==0;return ds=0,n}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?wt.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function Cn(){if(Et===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var s=Rt===null?wt.memoizedState:Rt.next;if(s!==null)Rt=s,Et=n;else{if(n===null)throw Error(ye(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Rt===null?wt.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function gs(n,s){return typeof s=="function"?s(n):s}function Bu(n){var s=Cn(),o=s.queue;if(o===null)throw Error(ye(311));o.lastRenderedReducer=n;var d=Et,C=d.baseQueue,g=o.pending;if(g!==null){if(C!==null){var L=C.next;C.next=g.next,g.next=L}d.baseQueue=C=g,o.pending=null}if(C!==null){g=C.next,d=d.baseState;var H=L=null,j=null,Y=g;do{var ne=Y.lane;if((Vi&ne)===ne)j!==null&&(j=j.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:n(d,Y.action);else{var K={lane:ne,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};j===null?(H=j=K,L=d):j=j.next=K,wt.lanes|=ne,Ui|=ne}Y=Y.next}while(Y!==null&&Y!==g);j===null?L=d:j.next=H,An(d,s.memoizedState)||(sn=!0),s.memoizedState=d,s.baseState=L,s.baseQueue=j,o.lastRenderedState=d}if(n=o.interleaved,n!==null){C=n;do g=C.lane,wt.lanes|=g,Ui|=g,C=C.next;while(C!==n)}else C===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Vu(n){var s=Cn(),o=s.queue;if(o===null)throw Error(ye(311));o.lastRenderedReducer=n;var d=o.dispatch,C=o.pending,g=s.memoizedState;if(C!==null){o.pending=null;var L=C=C.next;do g=n(g,L.action),L=L.next;while(L!==C);An(g,s.memoizedState)||(sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,d]}function Dc(){}function Bc(n,s){var o=wt,d=Cn(),C=s(),g=!An(d.memoizedState,C);if(g&&(d.memoizedState=C,sn=!0),d=d.queue,wl(Hc.bind(null,o,d,n),[n]),d.getSnapshot!==s||g||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,_s(9,Uc.bind(null,o,d,C,s),void 0,null),Ft===null)throw Error(ye(349));(Vi&30)!==0||Vc(o,s,C)}return C}function Vc(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Uc(n,s,o,d){s.value=o,s.getSnapshot=d,jc(s)&&qc(n)}function Hc(n,s,o){return o(function(){jc(s)&&qc(n)})}function jc(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!An(n,o)}catch(d){return!0}}function qc(n){var s=Jn(n,1);s!==null&&zn(s,n,1,-1)}function Zh(n){var s=Rn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:n},s.queue=n,n=n.dispatch=N0.bind(null,wt,n),[s.memoizedState,n]}function _s(n,s,o,d){return n={tag:n,create:s,destroy:o,deps:d,next:null},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,s.lastEffect=n)),n}function Wc(){return Cn().memoizedState}function ia(n,s,o,d){var C=Rn();wt.flags|=n,C.memoizedState=_s(1|s,o,void 0,d===void 0?null:d)}function Ha(n,s,o,d){var C=Cn();d=d===void 0?null:d;var g=void 0;if(Et!==null){var L=Et.memoizedState;if(g=L.destroy,d!==null&&pl(d,L.deps)){C.memoizedState=_s(s,o,g,d);return}}wt.flags|=n,C.memoizedState=_s(1|s,o,g,d)}function Gh(n,s){return ia(8390656,8,n,s)}function wl(n,s){return Ha(2048,8,n,s)}function Zc(n,s){return Ha(4,2,n,s)}function Gc(n,s){return Ha(4,4,n,s)}function Qc(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Kc(n,s,o){return o=o!=null?o.concat([n]):null,Ha(4,4,Qc.bind(null,s,n),o)}function Sl(){}function Jc(n,s){var o=Cn();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&pl(s,d[1])?d[0]:(o.memoizedState=[n,s],n)}function Yc(n,s){var o=Cn();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&pl(s,d[1])?d[0]:(n=n(),o.memoizedState=[n,s],n)}function Xc(n,s,o){return(Vi&21)===0?(n.baseState&&(n.baseState=!1,sn=!0),n.memoizedState=o):(An(o,s)||(o=tc(),wt.lanes|=o,Ui|=o,n.baseState=!0),s)}function z0(n,s){var o=at;at=o!==0&&4>o?o:4,n(!0);var d=Du.transition;Du.transition={};try{n(!1),s()}finally{at=o,Du.transition=d}}function $c(){return Cn().memoizedState}function A0(n,s,o){var d=gi(n);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},ed(n))td(s,o);else if(o=zc(n,s,o,d),o!==null){var C=$t();zn(o,n,d,C),nd(o,s,d)}}function N0(n,s,o){var d=gi(n),C={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(ed(n))td(s,C);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var L=s.lastRenderedState,H=g(L,o);if(C.hasEagerState=!0,C.eagerState=H,An(H,L)){var j=s.interleaved;j===null?(C.next=C,cl(s)):(C.next=j.next,j.next=C),s.interleaved=C;return}}catch(Y){}finally{}o=zc(n,s,C,d),o!==null&&(C=$t(),zn(o,n,d,C),nd(o,s,d))}}function ed(n){var s=n.alternate;return n===wt||s!==null&&s===wt}function td(n,s){Jr=Ia=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function nd(n,s,o){if((o&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,Xo(n,o)}}var Ta={readContext:Sn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},O0={readContext:Sn,useCallback:function(n,s){return Rn().memoizedState=[n,s===void 0?null:s],n},useContext:Sn,useEffect:Gh,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,ia(4194308,4,Qc.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ia(4194308,4,n,s)},useInsertionEffect:function(n,s){return ia(4,2,n,s)},useMemo:function(n,s){var o=Rn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var d=Rn();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=A0.bind(null,wt,n),[d.memoizedState,n]},useRef:function(n){var s=Rn();return n={current:n},s.memoizedState=n},useState:Zh,useDebugValue:Sl,useDeferredValue:function(n){return Rn().memoizedState=n},useTransition:function(){var n=Zh(!1),s=n[0];return n=z0.bind(null,n[1]),Rn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var d=wt,C=Rn();if(_t){if(o===void 0)throw Error(ye(407));o=o()}else{if(o=s(),Ft===null)throw Error(ye(349));(Vi&30)!==0||Vc(d,s,o)}C.memoizedState=o;var g={value:o,getSnapshot:s};return C.queue=g,Gh(Hc.bind(null,d,g,n),[n]),d.flags|=2048,_s(9,Uc.bind(null,d,g,o,s),void 0,null),o},useId:function(){var n=Rn(),s=Ft.identifierPrefix;if(_t){var o=Zn,d=Wn;o=(d&~(1<<32-Mn(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=ds++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=M0++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},L0={readContext:Sn,useCallback:Jc,useContext:Sn,useEffect:wl,useImperativeHandle:Kc,useInsertionEffect:Zc,useLayoutEffect:Gc,useMemo:Yc,useReducer:Bu,useRef:Wc,useState:function(){return Bu(gs)},useDebugValue:Sl,useDeferredValue:function(n){var s=Cn();return Xc(s,Et.memoizedState,n)},useTransition:function(){var n=Bu(gs)[0],s=Cn().memoizedState;return[n,s]},useMutableSource:Dc,useSyncExternalStore:Bc,useId:$c,unstable_isNewReconciler:!1},R0={readContext:Sn,useCallback:Jc,useContext:Sn,useEffect:wl,useImperativeHandle:Kc,useInsertionEffect:Zc,useLayoutEffect:Gc,useMemo:Yc,useReducer:Vu,useRef:Wc,useState:function(){return Vu(gs)},useDebugValue:Sl,useDeferredValue:function(n){var s=Cn();return Et===null?s.memoizedState=n:Xc(s,Et.memoizedState,n)},useTransition:function(){var n=Vu(gs)[0],s=Cn().memoizedState;return[n,s]},useMutableSource:Dc,useSyncExternalStore:Bc,useId:$c,unstable_isNewReconciler:!1};function wr(n,s){try{var o="",d=s;do o+=h_(d),d=d.return;while(d);var C=o}catch(g){C=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:C,digest:null}}function Uu(n,s,o){return{value:n,source:null,stack:o!=null?o:null,digest:s!=null?s:null}}function bo(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function id(n,s,o){o=Gn(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){Ma||(Ma=!0,Oo=d),bo(n,s)},o}function rd(n,s,o){o=Gn(-1,o),o.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var C=s.value;o.payload=function(){return d(C)},o.callback=function(){bo(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){bo(n,s),typeof d!="function"&&(di===null?di=new Set([this]):di.add(this));var L=s.stack;this.componentDidCatch(s.value,{componentStack:L!==null?L:""})}),o}function Qh(n,s,o){var d=n.pingCache;if(d===null){d=n.pingCache=new F0;var C=new Set;d.set(s,C)}else C=d.get(s),C===void 0&&(C=new Set,d.set(s,C));C.has(o)||(C.add(o),n=Y0.bind(null,n,s,o),s.then(n,n))}function Kh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Jh(n,s,o,d,C){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Gn(-1,1),s.tag=2,ci(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=C,n)}var D0=Xn.ReactCurrentOwner,sn=!1;function Xt(n,s,o,d){s.child=n===null?Rc(s,null,o,d):mr(s,n.child,o,d)}function Yh(n,s,o,d,C){o=o.render;var g=s.ref;return dr(s,C),d=ml(n,s,o,d,g,C),o=yl(),n!==null&&!sn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~C,Yn(n,s,C)):(_t&&o&&al(s),s.flags|=1,Xt(n,s,d,C),s.child)}function Xh(n,s,o,d,C){if(n===null){var g=o.type;return typeof g=="function"&&!El(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,sd(n,s,g,d,C)):(n=ua(o.type,null,d,s,s.mode,C),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&C)===0){var L=g.memoizedProps;if(o=o.compare,o=o!==null?o:us,o(L,d)&&n.ref===s.ref)return Yn(n,s,C)}return s.flags|=1,n=_i(g,d),n.ref=s.ref,n.return=s,s.child=n}function sd(n,s,o,d,C){if(n!==null){var g=n.memoizedProps;if(us(g,d)&&n.ref===s.ref)if(sn=!1,s.pendingProps=d=g,(n.lanes&C)!==0)(n.flags&131072)!==0&&(sn=!0);else return s.lanes=n.lanes,Yn(n,s,C)}return Po(n,s,o,d,C)}function ad(n,s,o){var d=s.pendingProps,C=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(or,fn),fn|=o;else{if((o&1073741824)===0)return n=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,lt(or,fn),fn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,lt(or,fn),fn|=d}else g!==null?(d=g.baseLanes|o,s.memoizedState=null):d=o,lt(or,fn),fn|=d;return Xt(n,s,C,o),s.child}function ud(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Po(n,s,o,d,C){var g=un(o)?Di:Jt.current;return g=vr(s,g),dr(s,C),o=ml(n,s,o,d,g,C),d=yl(),n!==null&&!sn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~C,Yn(n,s,C)):(_t&&d&&al(s),s.flags|=1,Xt(n,s,o,C),s.child)}function $h(n,s,o,d,C){if(un(o)){var g=!0;wa(s)}else g=!1;if(dr(s,C),s.stateNode===null)ra(n,s),Oc(s,o,d),xo(s,o,d,C),d=!0;else if(n===null){var L=s.stateNode,H=s.memoizedProps;L.props=H;var j=L.context,Y=o.contextType;typeof Y=="object"&&Y!==null?Y=Sn(Y):(Y=un(o)?Di:Jt.current,Y=vr(s,Y));var ne=o.getDerivedStateFromProps,K=typeof ne=="function"||typeof L.getSnapshotBeforeUpdate=="function";K||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==d||j!==Y)&&qh(s,L,d,Y),ii=!1;var se=s.memoizedState;L.state=se,Pa(s,d,L,C),j=s.memoizedState,H!==d||se!==j||an.current||ii?(typeof ne=="function"&&(Co(s,o,ne,d),j=s.memoizedState),(H=ii||jh(s,o,H,d,se,j,Y))?(K||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(s.flags|=4194308)):(typeof L.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),L.props=d,L.state=j,L.context=Y,d=H):(typeof L.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{L=s.stateNode,Ac(n,s),H=s.memoizedProps,Y=s.type===s.elementType?H:In(s.type,H),L.props=Y,K=s.pendingProps,se=L.context,j=o.contextType,typeof j=="object"&&j!==null?j=Sn(j):(j=un(o)?Di:Jt.current,j=vr(s,j));var N=o.getDerivedStateFromProps;(ne=typeof N=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==K||se!==j)&&qh(s,L,d,j),ii=!1,se=s.memoizedState,L.state=se,Pa(s,d,L,C);var ge=s.memoizedState;H!==K||se!==ge||an.current||ii?(typeof N=="function"&&(Co(s,o,N,d),ge=s.memoizedState),(Y=ii||jh(s,o,Y,d,se,ge,j)||!1)?(ne||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(d,ge,j),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(d,ge,j)),typeof L.componentDidUpdate=="function"&&(s.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===n.memoizedProps&&se===n.memoizedState||(s.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&se===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),L.props=d,L.state=ge,L.context=j,d=Y):(typeof L.componentDidUpdate!="function"||H===n.memoizedProps&&se===n.memoizedState||(s.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&se===n.memoizedState||(s.flags|=1024),d=!1)}return ko(n,s,o,d,g,C)}function ko(n,s,o,d,C,g){ud(n,s);var L=(s.flags&128)!==0;if(!d&&!L)return C&&Dh(s,o,!1),Yn(n,s,g);d=s.stateNode,D0.current=s;var H=L&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&L?(s.child=mr(s,n.child,null,g),s.child=mr(s,null,H,g)):Xt(n,s,H,g),s.memoizedState=d.state,C&&Dh(s,o,!0),s.child}function od(n){var s=n.stateNode;s.pendingContext?Fh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Fh(n,s.context,!1),gl(n,s.containerInfo)}function ef(n,s,o,d,C){return pr(),ol(C),s.flags|=256,Xt(n,s,o,d),s.child}var Io={dehydrated:null,treeContext:null,retryLane:0};function To(n){return{baseLanes:n,cachePool:null,transitions:null}}function ld(n,s,o){var d=s.pendingProps,C=yt.current,g=!1,L=(s.flags&128)!==0,H;if((H=L)||(H=n!==null&&n.memoizedState===null?!1:(C&2)!==0),H?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(C|=1),lt(yt,C&1),n===null)return wo(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(L=d.children,n=d.fallback,g?(d=s.mode,g=s.child,L={mode:"hidden",children:L},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=L):g=Wa(L,d,0,null),n=Fi(n,d,o,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=To(o),s.memoizedState=Io,n):Cl(s,L));if(C=n.memoizedState,C!==null&&(H=C.dehydrated,H!==null))return B0(n,s,L,d,H,C,o);if(g){g=d.fallback,L=s.mode,C=n.child,H=C.sibling;var j={mode:"hidden",children:d.children};return(L&1)===0&&s.child!==C?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=_i(C,j),d.subtreeFlags=C.subtreeFlags&14680064),H!==null?g=_i(H,g):(g=Fi(g,L,o,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,L=n.child.memoizedState,L=L===null?To(o):{baseLanes:L.baseLanes|o,cachePool:null,transitions:L.transitions},g.memoizedState=L,g.childLanes=n.childLanes&~o,s.memoizedState=Io,d}return g=n.child,n=g.sibling,d=_i(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=d,s.memoizedState=null,d}function Cl(n,s){return s=Wa({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Zs(n,s,o,d){return d!==null&&ol(d),mr(s,n.child,null,o),n=Cl(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function B0(n,s,o,d,C,g,L){if(o)return s.flags&256?(s.flags&=-257,d=Uu(Error(ye(422))),Zs(n,s,L,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,C=s.mode,d=Wa({mode:"visible",children:d.children},C,0,null),g=Fi(g,C,L,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&mr(s,n.child,null,L),s.child.memoizedState=To(L),s.memoizedState=Io,g);if((s.mode&1)===0)return Zs(n,s,L,null);if(C.data==="$!"){if(d=C.nextSibling&&C.nextSibling.dataset,d)var H=d.dgst;return d=H,g=Error(ye(419)),d=Uu(g,d,void 0),Zs(n,s,L,d)}if(H=(L&n.childLanes)!==0,sn||H){if(d=Ft,d!==null){switch(L&-L){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(d.suspendedLanes|L))!==0?0:C,C!==0&&C!==g.retryLane&&(g.retryLane=C,Jn(n,C),zn(d,n,C,-1))}return Tl(),d=Uu(Error(ye(421))),Zs(n,s,L,d)}return C.data==="$?"?(s.flags|=128,s.child=n.child,s=X0.bind(null,n),C._reactRetry=s,null):(n=g.treeContext,cn=fi(C.nextSibling),dn=s,_t=!0,En=null,n!==null&&(pn[mn++]=Wn,pn[mn++]=Zn,pn[mn++]=Bi,Wn=n.id,Zn=n.overflow,Bi=s),s=Cl(s,d.children),s.flags|=4096,s)}function tf(n,s,o){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),So(n.return,s,o)}function Hu(n,s,o,d,C){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:C}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=C)}function hd(n,s,o){var d=s.pendingProps,C=d.revealOrder,g=d.tail;if(Xt(n,s,d.children,o),d=yt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tf(n,o,s);else if(n.tag===19)tf(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(lt(yt,d),(s.mode&1)===0)s.memoizedState=null;else switch(C){case"forwards":for(o=s.child,C=null;o!==null;)n=o.alternate,n!==null&&ka(n)===null&&(C=o),o=o.sibling;o=C,o===null?(C=s.child,s.child=null):(C=o.sibling,o.sibling=null),Hu(s,!1,C,o,g);break;case"backwards":for(o=null,C=s.child,s.child=null;C!==null;){if(n=C.alternate,n!==null&&ka(n)===null){s.child=C;break}n=C.sibling,C.sibling=o,o=C,C=n}Hu(s,!0,o,null,g);break;case"together":Hu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ra(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Yn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ui|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(ye(153));if(s.child!==null){for(n=s.child,o=_i(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=_i(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function V0(n,s,o){switch(s.tag){case 3:od(s),pr();break;case 5:Fc(s);break;case 1:un(s.type)&&wa(s);break;case 4:gl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,C=s.memoizedProps.value;lt(xa,d._currentValue),d._currentValue=C;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(lt(yt,yt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?ld(n,s,o):(lt(yt,yt.current&1),n=Yn(n,s,o),n!==null?n.sibling:null);lt(yt,yt.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(n.flags&128)!==0){if(d)return hd(n,s,o);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),lt(yt,yt.current),d)break;return null;case 22:case 23:return s.lanes=0,ad(n,s,o)}return Yn(n,s,o)}var fd,Eo,cd,dd;fd=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Eo=function(){};cd=function(n,s,o,d){var C=n.memoizedProps;if(C!==d){n=s.stateNode,Li(Bn.current);var g=null;switch(o){case"input":C=Ju(n,C),d=Ju(n,d),g=[];break;case"select":C=St({},C,{value:void 0}),d=St({},d,{value:void 0}),g=[];break;case"textarea":C=$u(n,C),d=$u(n,d),g=[];break;default:typeof C.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=ma)}to(o,d);var L;o=null;for(Y in C)if(!d.hasOwnProperty(Y)&&C.hasOwnProperty(Y)&&C[Y]!=null)if(Y==="style"){var H=C[Y];for(L in H)H.hasOwnProperty(L)&&(o||(o={}),o[L]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(es.hasOwnProperty(Y)?g||(g=[]):(g=g||[]).push(Y,null));for(Y in d){var j=d[Y];if(H=C!=null?C[Y]:void 0,d.hasOwnProperty(Y)&&j!==H&&(j!=null||H!=null))if(Y==="style")if(H){for(L in H)!H.hasOwnProperty(L)||j&&j.hasOwnProperty(L)||(o||(o={}),o[L]="");for(L in j)j.hasOwnProperty(L)&&H[L]!==j[L]&&(o||(o={}),o[L]=j[L])}else o||(g||(g=[]),g.push(Y,o)),o=j;else Y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,H=H?H.__html:void 0,j!=null&&H!==j&&(g=g||[]).push(Y,j)):Y==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(Y,""+j):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(es.hasOwnProperty(Y)?(j!=null&&Y==="onScroll"&&ct("scroll",n),g||H===j||(g=[])):(g=g||[]).push(Y,j))}o&&(g=g||[]).push("style",o);var Y=g;(s.updateQueue=Y)&&(s.flags|=4)}};dd=function(n,s,o,d){o!==d&&(s.flags|=4)};function Fr(n,s){if(!_t)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(s)for(var C=n.child;C!==null;)o|=C.lanes|C.childLanes,d|=C.subtreeFlags&14680064,d|=C.flags&14680064,C.return=n,C=C.sibling;else for(C=n.child;C!==null;)o|=C.lanes|C.childLanes,d|=C.subtreeFlags,d|=C.flags,C.return=n,C=C.sibling;return n.subtreeFlags|=d,n.childLanes=o,s}function U0(n,s,o){var d=s.pendingProps;switch(ul(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return un(s.type)&&ya(),Gt(s),null;case 3:return d=s.stateNode,yr(),dt(an),dt(Jt),vl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(qs(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,En!==null&&(Fo(En),En=null))),Eo(n,s),Gt(s),null;case 5:_l(s);var C=Li(cs.current);if(o=s.type,n!==null&&s.stateNode!=null)cd(n,s,o,d,C),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(ye(166));return Gt(s),null}if(n=Li(Bn.current),qs(s)){d=s.stateNode,o=s.type;var g=s.memoizedProps;switch(d[Fn]=s,d[hs]=g,n=(s.mode&1)!==0,o){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(C=0;C<jr.length;C++)ct(jr[C],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":hh(d,g),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ct("invalid",d);break;case"textarea":ch(d,g),ct("invalid",d)}to(o,g),C=null;for(var L in g)if(g.hasOwnProperty(L)){var H=g[L];L==="children"?typeof H=="string"?d.textContent!==H&&(g.suppressHydrationWarning!==!0&&js(d.textContent,H,n),C=["children",H]):typeof H=="number"&&d.textContent!==""+H&&(g.suppressHydrationWarning!==!0&&js(d.textContent,H,n),C=["children",""+H]):es.hasOwnProperty(L)&&H!=null&&L==="onScroll"&&ct("scroll",d)}switch(o){case"input":Ls(d),fh(d,g,!0);break;case"textarea":Ls(d),dh(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=ma)}d=C,s.updateQueue=d,d!==null&&(s.flags|=4)}else{L=C.nodeType===9?C:C.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Vf(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=L.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=L.createElement(o,{is:d.is}):(n=L.createElement(o),o==="select"&&(L=n,d.multiple?L.multiple=!0:d.size&&(L.size=d.size))):n=L.createElementNS(n,o),n[Fn]=s,n[hs]=d,fd(n,s,!1,!1),s.stateNode=n;e:{switch(L=no(o,d),o){case"dialog":ct("cancel",n),ct("close",n),C=d;break;case"iframe":case"object":case"embed":ct("load",n),C=d;break;case"video":case"audio":for(C=0;C<jr.length;C++)ct(jr[C],n);C=d;break;case"source":ct("error",n),C=d;break;case"img":case"image":case"link":ct("error",n),ct("load",n),C=d;break;case"details":ct("toggle",n),C=d;break;case"input":hh(n,d),C=Ju(n,d),ct("invalid",n);break;case"option":C=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},C=St({},d,{value:void 0}),ct("invalid",n);break;case"textarea":ch(n,d),C=$u(n,d),ct("invalid",n);break;default:C=d}to(o,C),H=C;for(g in H)if(H.hasOwnProperty(g)){var j=H[g];g==="style"?jf(n,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Uf(n,j)):g==="children"?typeof j=="string"?(o!=="textarea"||j!=="")&&ts(n,j):typeof j=="number"&&ts(n,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(es.hasOwnProperty(g)?j!=null&&g==="onScroll"&&ct("scroll",n):j!=null&&Zo(n,g,j,L))}switch(o){case"input":Ls(n),fh(n,d,!1);break;case"textarea":Ls(n),dh(n);break;case"option":d.value!=null&&n.setAttribute("value",""+yi(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?lr(n,!!d.multiple,g,!1):d.defaultValue!=null&&lr(n,!!d.multiple,d.defaultValue,!0);break;default:typeof C.onClick=="function"&&(n.onclick=ma)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(n&&s.stateNode!=null)dd(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(ye(166));if(o=Li(cs.current),Li(Bn.current),qs(s)){if(d=s.stateNode,o=s.memoizedProps,d[Fn]=s,(g=d.nodeValue!==o)&&(n=dn,n!==null))switch(n.tag){case 3:js(d.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&js(d.nodeValue,o,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Fn]=s,s.stateNode=d}return Gt(s),null;case 13:if(dt(yt),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_t&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Mc(),pr(),s.flags|=98560,g=!1;else if(g=qs(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(ye(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(ye(317));g[Fn]=s}else pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),g=!1}else En!==null&&(Fo(En),En=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(yt.current&1)!==0?Mt===0&&(Mt=3):Tl())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return yr(),Eo(n,s),n===null&&os(s.stateNode.containerInfo),Gt(s),null;case 10:return fl(s.type._context),Gt(s),null;case 17:return un(s.type)&&ya(),Gt(s),null;case 19:if(dt(yt),g=s.memoizedState,g===null)return Gt(s),null;if(d=(s.flags&128)!==0,L=g.rendering,L===null)if(d)Fr(g,!1);else{if(Mt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(L=ka(n),L!==null){for(s.flags|=128,Fr(g,!1),d=L.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)g=o,n=d,g.flags&=14680066,L=g.alternate,L===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=L.childLanes,g.lanes=L.lanes,g.child=L.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=L.memoizedProps,g.memoizedState=L.memoizedState,g.updateQueue=L.updateQueue,g.type=L.type,n=L.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return lt(yt,yt.current&1|2),s.child}n=n.sibling}g.tail!==null&&bt()>Sr&&(s.flags|=128,d=!0,Fr(g,!1),s.lanes=4194304)}else{if(!d)if(n=ka(L),n!==null){if(s.flags|=128,d=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Fr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!L.alternate&&!_t)return Gt(s),null}else 2*bt()-g.renderingStartTime>Sr&&o!==1073741824&&(s.flags|=128,d=!0,Fr(g,!1),s.lanes=4194304);g.isBackwards?(L.sibling=s.child,s.child=L):(o=g.last,o!==null?o.sibling=L:s.child=L,g.last=L)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=bt(),s.sibling=null,o=yt.current,lt(yt,d?o&1|2:o&1),s):(Gt(s),null);case 22:case 23:return Il(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(fn&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(ye(156,s.tag))}function H0(n,s){switch(ul(s),s.tag){case 1:return un(s.type)&&ya(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return yr(),dt(an),dt(Jt),vl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return _l(s),null;case 13:if(dt(yt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(ye(340));pr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return dt(yt),null;case 4:return yr(),null;case 10:return fl(s.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var Gs=!1,Kt=!1,j0=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ur(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){xt(n,s,d)}else o.current=null}function Mo(n,s,o){try{o()}catch(d){xt(n,s,d)}}var nf=!1;function q0(n,s){if(co=_a,n=pc(),sl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var C=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch(ue){o=null;break e}var L=0,H=-1,j=-1,Y=0,ne=0,K=n,se=null;t:for(;;){for(var N;K!==o||C!==0&&K.nodeType!==3||(H=L+C),K!==g||d!==0&&K.nodeType!==3||(j=L+d),K.nodeType===3&&(L+=K.nodeValue.length),(N=K.firstChild)!==null;)se=K,K=N;for(;;){if(K===n)break t;if(se===o&&++Y===C&&(H=L),se===g&&++ne===d&&(j=L),(N=K.nextSibling)!==null)break;K=se,se=K.parentNode}K=N}o=H===-1||j===-1?null:{start:H,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(go={focusedElem:n,selectionRange:o},_a=!1,Ee=s;Ee!==null;)if(s=Ee,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ee=n;else for(;Ee!==null;){s=Ee;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var J=ge.memoizedProps,Me=ge.memoizedState,q=s.stateNode,Z=q.getSnapshotBeforeUpdate(s.elementType===s.type?J:In(s.type,J),Me);q.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var Q=s.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(ue){xt(s,s.return,ue)}if(n=s.sibling,n!==null){n.return=s.return,Ee=n;break}Ee=s.return}return ge=nf,nf=!1,ge}function Yr(n,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var C=d=d.next;do{if((C.tag&n)===n){var g=C.destroy;C.destroy=void 0,g!==void 0&&Mo(s,o,g)}C=C.next}while(C!==d)}}function ja(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function zo(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function gd(n){var s=n.alternate;s!==null&&(n.alternate=null,gd(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Fn],delete s[hs],delete s[po],delete s[k0],delete s[I0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _d(n){return n.tag===5||n.tag===3||n.tag===4}function rf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_d(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ao(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ma));else if(d!==4&&(n=n.child,n!==null))for(Ao(n,s,o),n=n.sibling;n!==null;)Ao(n,s,o),n=n.sibling}function No(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(No(n,s,o),n=n.sibling;n!==null;)No(n,s,o),n=n.sibling}var Ut=null,Tn=!1;function ti(n,s,o){for(o=o.child;o!==null;)vd(n,s,o),o=o.sibling}function vd(n,s,o){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(La,o)}catch(H){}switch(o.tag){case 5:Kt||ur(o,s);case 6:var d=Ut,C=Tn;Ut=null,ti(n,s,o),Ut=d,Tn=C,Ut!==null&&(Tn?(n=Ut,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Ut.removeChild(o.stateNode));break;case 18:Ut!==null&&(Tn?(n=Ut,o=o.stateNode,n.nodeType===8?Lu(n.parentNode,o):n.nodeType===1&&Lu(n,o),ss(n)):Lu(Ut,o.stateNode));break;case 4:d=Ut,C=Tn,Ut=o.stateNode.containerInfo,Tn=!0,ti(n,s,o),Ut=d,Tn=C;break;case 0:case 11:case 14:case 15:if(!Kt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){C=d=d.next;do{var g=C,L=g.destroy;g=g.tag,L!==void 0&&((g&2)!==0||(g&4)!==0)&&Mo(o,s,L),C=C.next}while(C!==d)}ti(n,s,o);break;case 1:if(!Kt&&(ur(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(H){xt(o,s,H)}ti(n,s,o);break;case 21:ti(n,s,o);break;case 22:o.mode&1?(Kt=(d=Kt)||o.memoizedState!==null,ti(n,s,o),Kt=d):ti(n,s,o);break;default:ti(n,s,o)}}function sf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new j0),s.forEach(function(d){var C=$0.bind(null,n,d);o.has(d)||(o.add(d),d.then(C,C))})}}function kn(n,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var C=o[d];try{var g=n,L=s,H=L;e:for(;H!==null;){switch(H.tag){case 5:Ut=H.stateNode,Tn=!1;break e;case 3:Ut=H.stateNode.containerInfo,Tn=!0;break e;case 4:Ut=H.stateNode.containerInfo,Tn=!0;break e}H=H.return}if(Ut===null)throw Error(ye(160));vd(g,L,C),Ut=null,Tn=!1;var j=C.alternate;j!==null&&(j.return=null),C.return=null}catch(Y){xt(C,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)pd(s,n),s=s.sibling}function pd(n,s){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kn(s,n),Ln(n),d&4){try{Yr(3,n,n.return),ja(3,n)}catch(J){xt(n,n.return,J)}try{Yr(5,n,n.return)}catch(J){xt(n,n.return,J)}}break;case 1:kn(s,n),Ln(n),d&512&&o!==null&&ur(o,o.return);break;case 5:if(kn(s,n),Ln(n),d&512&&o!==null&&ur(o,o.return),n.flags&32){var C=n.stateNode;try{ts(C,"")}catch(J){xt(n,n.return,J)}}if(d&4&&(C=n.stateNode,C!=null)){var g=n.memoizedProps,L=o!==null?o.memoizedProps:g,H=n.type,j=n.updateQueue;if(n.updateQueue=null,j!==null)try{H==="input"&&g.type==="radio"&&g.name!=null&&Df(C,g),no(H,L);var Y=no(H,g);for(L=0;L<j.length;L+=2){var ne=j[L],K=j[L+1];ne==="style"?jf(C,K):ne==="dangerouslySetInnerHTML"?Uf(C,K):ne==="children"?ts(C,K):Zo(C,ne,K,Y)}switch(H){case"input":Yu(C,g);break;case"textarea":Bf(C,g);break;case"select":var se=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!g.multiple;var N=g.value;N!=null?lr(C,!!g.multiple,N,!1):se!==!!g.multiple&&(g.defaultValue!=null?lr(C,!!g.multiple,g.defaultValue,!0):lr(C,!!g.multiple,g.multiple?[]:"",!1))}C[hs]=g}catch(J){xt(n,n.return,J)}}break;case 6:if(kn(s,n),Ln(n),d&4){if(n.stateNode===null)throw Error(ye(162));C=n.stateNode,g=n.memoizedProps;try{C.nodeValue=g}catch(J){xt(n,n.return,J)}}break;case 3:if(kn(s,n),Ln(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{ss(s.containerInfo)}catch(J){xt(n,n.return,J)}break;case 4:kn(s,n),Ln(n);break;case 13:kn(s,n),Ln(n),C=n.child,C.flags&8192&&(g=C.memoizedState!==null,C.stateNode.isHidden=g,!g||C.alternate!==null&&C.alternate.memoizedState!==null||(Pl=bt())),d&4&&sf(n);break;case 22:if(ne=o!==null&&o.memoizedState!==null,n.mode&1?(Kt=(Y=Kt)||ne,kn(s,n),Kt=Y):kn(s,n),Ln(n),d&8192){if(Y=n.memoizedState!==null,(n.stateNode.isHidden=Y)&&!ne&&(n.mode&1)!==0)for(Ee=n,ne=n.child;ne!==null;){for(K=Ee=ne;Ee!==null;){switch(se=Ee,N=se.child,se.tag){case 0:case 11:case 14:case 15:Yr(4,se,se.return);break;case 1:ur(se,se.return);var ge=se.stateNode;if(typeof ge.componentWillUnmount=="function"){d=se,o=se.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(J){xt(d,o,J)}}break;case 5:ur(se,se.return);break;case 22:if(se.memoizedState!==null){uf(K);continue}}N!==null?(N.return=se,Ee=N):uf(K)}ne=ne.sibling}e:for(ne=null,K=n;;){if(K.tag===5){if(ne===null){ne=K;try{C=K.stateNode,Y?(g=C.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(H=K.stateNode,j=K.memoizedProps.style,L=j!=null&&j.hasOwnProperty("display")?j.display:null,H.style.display=Hf("display",L))}catch(J){xt(n,n.return,J)}}}else if(K.tag===6){if(ne===null)try{K.stateNode.nodeValue=Y?"":K.memoizedProps}catch(J){xt(n,n.return,J)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;ne===K&&(ne=null),K=K.return}ne===K&&(ne=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:kn(s,n),Ln(n),d&4&&sf(n);break;case 21:break;default:kn(s,n),Ln(n)}}function Ln(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(_d(o)){var d=o;break e}o=o.return}throw Error(ye(160))}switch(d.tag){case 5:var C=d.stateNode;d.flags&32&&(ts(C,""),d.flags&=-33);var g=rf(n);No(n,g,C);break;case 3:case 4:var L=d.stateNode.containerInfo,H=rf(n);Ao(n,H,L);break;default:throw Error(ye(161))}}catch(j){xt(n,n.return,j)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function W0(n,s,o){Ee=n,md(n)}function md(n,s,o){for(var d=(n.mode&1)!==0;Ee!==null;){var C=Ee,g=C.child;if(C.tag===22&&d){var L=C.memoizedState!==null||Gs;if(!L){var H=C.alternate,j=H!==null&&H.memoizedState!==null||Kt;H=Gs;var Y=Kt;if(Gs=L,(Kt=j)&&!Y)for(Ee=C;Ee!==null;)L=Ee,j=L.child,L.tag===22&&L.memoizedState!==null?of(C):j!==null?(j.return=L,Ee=j):of(C);for(;g!==null;)Ee=g,md(g),g=g.sibling;Ee=C,Gs=H,Kt=Y}af(n)}else(C.subtreeFlags&8772)!==0&&g!==null?(g.return=C,Ee=g):af(n)}}function af(n){for(;Ee!==null;){var s=Ee;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kt||ja(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Kt)if(o===null)d.componentDidMount();else{var C=s.elementType===s.type?o.memoizedProps:In(s.type,o.memoizedProps);d.componentDidUpdate(C,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Hh(s,g,d);break;case 3:var L=s.updateQueue;if(L!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Hh(s,L,o)}break;case 5:var H=s.stateNode;if(o===null&&s.flags&4){o=H;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&o.focus();break;case"img":j.src&&(o.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var ne=Y.memoizedState;if(ne!==null){var K=ne.dehydrated;K!==null&&ss(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Kt||s.flags&512&&zo(s)}catch(se){xt(s,s.return,se)}}if(s===n){Ee=null;break}if(o=s.sibling,o!==null){o.return=s.return,Ee=o;break}Ee=s.return}}function uf(n){for(;Ee!==null;){var s=Ee;if(s===n){Ee=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ee=o;break}Ee=s.return}}function of(n){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{ja(4,s)}catch(j){xt(s,o,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var C=s.return;try{d.componentDidMount()}catch(j){xt(s,C,j)}}var g=s.return;try{zo(s)}catch(j){xt(s,g,j)}break;case 5:var L=s.return;try{zo(s)}catch(j){xt(s,L,j)}}}catch(j){xt(s,s.return,j)}if(s===n){Ee=null;break}var H=s.sibling;if(H!==null){H.return=s.return,Ee=H;break}Ee=s.return}}var Z0=Math.ceil,Ea=Xn.ReactCurrentDispatcher,xl=Xn.ReactCurrentOwner,wn=Xn.ReactCurrentBatchConfig,tt=0,Ft=null,kt=null,Ht=0,fn=0,or=Ci(0),Mt=0,vs=null,Ui=0,qa=0,bl=0,Xr=null,rn=null,Pl=0,Sr=1/0,jn=null,Ma=!1,Oo=null,di=null,Qs=!1,ui=null,za=0,$r=0,Lo=null,sa=-1,aa=0;function $t(){return(tt&6)!==0?bt():sa!==-1?sa:sa=bt()}function gi(n){return(n.mode&1)===0?1:(tt&2)!==0&&Ht!==0?Ht&-Ht:E0.transition!==null?(aa===0&&(aa=tc()),aa):(n=at,n!==0||(n=window.event,n=n===void 0?16:oc(n.type)),n)}function zn(n,s,o,d){if(50<$r)throw $r=0,Lo=null,Error(ye(185));ms(n,o,d),((tt&2)===0||n!==Ft)&&(n===Ft&&((tt&2)===0&&(qa|=o),Mt===4&&si(n,Ht)),on(n,d),o===1&&tt===0&&(s.mode&1)===0&&(Sr=bt()+500,Va&&xi()))}function on(n,s){var o=n.callbackNode;E_(n,s);var d=ga(n,n===Ft?Ht:0);if(d===0)o!==null&&vh(o),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(o!=null&&vh(o),s===1)n.tag===0?T0(lf.bind(null,n)):Ic(lf.bind(null,n)),b0(function(){(tt&6)===0&&xi()}),o=null;else{switch(nc(d)){case 1:o=Yo;break;case 4:o=$f;break;case 16:o=da;break;case 536870912:o=ec;break;default:o=da}o=kd(o,yd.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function yd(n,s){if(sa=-1,aa=0,(tt&6)!==0)throw Error(ye(327));var o=n.callbackNode;if(gr()&&n.callbackNode!==o)return null;var d=ga(n,n===Ft?Ht:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=Aa(n,d);else{s=d;var C=tt;tt|=2;var g=Sd();(Ft!==n||Ht!==s)&&(jn=null,Sr=bt()+500,Ri(n,s));do try{K0();break}catch(H){wd(n,H)}while(1);hl(),Ea.current=g,tt=C,kt!==null?s=0:(Ft=null,Ht=0,s=Mt)}if(s!==0){if(s===2&&(C=uo(n),C!==0&&(d=C,s=Ro(n,C))),s===1)throw o=vs,Ri(n,0),si(n,d),on(n,bt()),o;if(s===6)si(n,d);else{if(C=n.current.alternate,(d&30)===0&&!G0(C)&&(s=Aa(n,d),s===2&&(g=uo(n),g!==0&&(d=g,s=Ro(n,g))),s===1))throw o=vs,Ri(n,0),si(n,d),on(n,bt()),o;switch(n.finishedWork=C,n.finishedLanes=d,s){case 0:case 1:throw Error(ye(345));case 2:Ai(n,rn,jn);break;case 3:if(si(n,d),(d&130023424)===d&&(s=Pl+500-bt(),10<s)){if(ga(n,0)!==0)break;if(C=n.suspendedLanes,(C&d)!==d){$t(),n.pingedLanes|=n.suspendedLanes&C;break}n.timeoutHandle=vo(Ai.bind(null,n,rn,jn),s);break}Ai(n,rn,jn);break;case 4:if(si(n,d),(d&4194240)===d)break;for(s=n.eventTimes,C=-1;0<d;){var L=31-Mn(d);g=1<<L,L=s[L],L>C&&(C=L),d&=~g}if(d=C,d=bt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Z0(d/1960))-d,10<d){n.timeoutHandle=vo(Ai.bind(null,n,rn,jn),d);break}Ai(n,rn,jn);break;case 5:Ai(n,rn,jn);break;default:throw Error(ye(329))}}}return on(n,bt()),n.callbackNode===o?yd.bind(null,n):null}function Ro(n,s){var o=Xr;return n.current.memoizedState.isDehydrated&&(Ri(n,s).flags|=256),n=Aa(n,s),n!==2&&(s=rn,rn=o,s!==null&&Fo(s)),n}function Fo(n){rn===null?rn=n:rn.push.apply(rn,n)}function G0(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var C=o[d],g=C.getSnapshot;C=C.value;try{if(!An(g(),C))return!1}catch(L){return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(n,s){for(s&=~bl,s&=~qa,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-Mn(s),d=1<<o;n[o]=-1,s&=~d}}function lf(n){if((tt&6)!==0)throw Error(ye(327));gr();var s=ga(n,0);if((s&1)===0)return on(n,bt()),null;var o=Aa(n,s);if(n.tag!==0&&o===2){var d=uo(n);d!==0&&(s=d,o=Ro(n,d))}if(o===1)throw o=vs,Ri(n,0),si(n,s),on(n,bt()),o;if(o===6)throw Error(ye(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ai(n,rn,jn),on(n,bt()),null}function kl(n,s){var o=tt;tt|=1;try{return n(s)}finally{tt=o,tt===0&&(Sr=bt()+500,Va&&xi())}}function Hi(n){ui!==null&&ui.tag===0&&(tt&6)===0&&gr();var s=tt;tt|=1;var o=wn.transition,d=at;try{if(wn.transition=null,at=1,n)return n()}finally{at=d,wn.transition=o,tt=s,(tt&6)===0&&xi()}}function Il(){fn=or.current,dt(or)}function Ri(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,x0(o)),kt!==null)for(o=kt.return;o!==null;){var d=o;switch(ul(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ya();break;case 3:yr(),dt(an),dt(Jt),vl();break;case 5:_l(d);break;case 4:yr();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:fl(d.type._context);break;case 22:case 23:Il()}o=o.return}if(Ft=n,kt=n=_i(n.current,null),Ht=fn=s,Mt=0,vs=null,bl=qa=Ui=0,rn=Xr=null,Oi!==null){for(s=0;s<Oi.length;s++)if(o=Oi[s],d=o.interleaved,d!==null){o.interleaved=null;var C=d.next,g=o.pending;if(g!==null){var L=g.next;g.next=C,d.next=L}o.pending=d}Oi=null}return n}function wd(n,s){do{var o=kt;try{if(hl(),na.current=Ta,Ia){for(var d=wt.memoizedState;d!==null;){var C=d.queue;C!==null&&(C.pending=null),d=d.next}Ia=!1}if(Vi=0,Rt=Et=wt=null,Jr=!1,ds=0,xl.current=null,o===null||o.return===null){Mt=1,vs=s,kt=null;break}e:{var g=n,L=o.return,H=o,j=s;if(s=Ht,H.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Y=j,ne=H,K=ne.tag;if((ne.mode&1)===0&&(K===0||K===11||K===15)){var se=ne.alternate;se?(ne.updateQueue=se.updateQueue,ne.memoizedState=se.memoizedState,ne.lanes=se.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var N=Kh(L);if(N!==null){N.flags&=-257,Jh(N,L,H,g,s),N.mode&1&&Qh(g,Y,s),s=N,j=Y;var ge=s.updateQueue;if(ge===null){var J=new Set;J.add(j),s.updateQueue=J}else ge.add(j);break e}else{if((s&1)===0){Qh(g,Y,s),Tl();break e}j=Error(ye(426))}}else if(_t&&H.mode&1){var Me=Kh(L);if(Me!==null){(Me.flags&65536)===0&&(Me.flags|=256),Jh(Me,L,H,g,s),ol(wr(j,H));break e}}g=j=wr(j,H),Mt!==4&&(Mt=2),Xr===null?Xr=[g]:Xr.push(g),g=L;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=id(g,j,s);Uh(g,q);break e;case 1:H=j;var Z=g.type,Q=g.stateNode;if((g.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(di===null||!di.has(Q)))){g.flags|=65536,s&=-s,g.lanes|=s;var ue=rd(g,H,s);Uh(g,ue);break e}}g=g.return}while(g!==null)}xd(o)}catch(we){s=we,kt===o&&o!==null&&(kt=o=o.return);continue}break}while(1)}function Sd(){var n=Ea.current;return Ea.current=Ta,n===null?Ta:n}function Tl(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ft===null||(Ui&268435455)===0&&(qa&268435455)===0||si(Ft,Ht)}function Aa(n,s){var o=tt;tt|=2;var d=Sd();(Ft!==n||Ht!==s)&&(jn=null,Ri(n,s));do try{Q0();break}catch(C){wd(n,C)}while(1);if(hl(),tt=o,Ea.current=d,kt!==null)throw Error(ye(261));return Ft=null,Ht=0,Mt}function Q0(){for(;kt!==null;)Cd(kt)}function K0(){for(;kt!==null&&!w_();)Cd(kt)}function Cd(n){var s=Pd(n.alternate,n,fn);n.memoizedProps=n.pendingProps,s===null?xd(n):kt=s,xl.current=null}function xd(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=U0(o,s,fn),o!==null){kt=o;return}}else{if(o=H0(o,s),o!==null){o.flags&=32767,kt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mt=6,kt=null;return}}if(s=s.sibling,s!==null){kt=s;return}kt=s=n}while(s!==null);Mt===0&&(Mt=5)}function Ai(n,s,o){var d=at,C=wn.transition;try{wn.transition=null,at=1,J0(n,s,o,d)}finally{wn.transition=C,at=d}return null}function J0(n,s,o,d){do gr();while(ui!==null);if((tt&6)!==0)throw Error(ye(327));o=n.finishedWork;var C=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(ye(177));n.callbackNode=null,n.callbackPriority=0;var g=o.lanes|o.childLanes;if(M_(n,g),n===Ft&&(kt=Ft=null,Ht=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Qs||(Qs=!0,kd(da,function(){return gr(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=wn.transition,wn.transition=null;var L=at;at=1;var H=tt;tt|=4,xl.current=null,q0(n,o),pd(o,n),v0(go),_a=!!co,go=co=null,n.current=o,W0(o),S_(),tt=H,at=L,wn.transition=g}else n.current=o;if(Qs&&(Qs=!1,ui=n,za=C),g=n.pendingLanes,g===0&&(di=null),b_(o.stateNode),on(n,bt()),s!==null)for(d=n.onRecoverableError,o=0;o<s.length;o++)C=s[o],d(C.value,{componentStack:C.stack,digest:C.digest});if(Ma)throw Ma=!1,n=Oo,Oo=null,n;return(za&1)!==0&&n.tag!==0&&gr(),g=n.pendingLanes,(g&1)!==0?n===Lo?$r++:($r=0,Lo=n):$r=0,xi(),null}function gr(){if(ui!==null){var n=nc(za),s=wn.transition,o=at;try{if(wn.transition=null,at=16>n?16:n,ui===null)var d=!1;else{if(n=ui,ui=null,za=0,(tt&6)!==0)throw Error(ye(331));var C=tt;for(tt|=4,Ee=n.current;Ee!==null;){var g=Ee,L=g.child;if((Ee.flags&16)!==0){var H=g.deletions;if(H!==null){for(var j=0;j<H.length;j++){var Y=H[j];for(Ee=Y;Ee!==null;){var ne=Ee;switch(ne.tag){case 0:case 11:case 15:Yr(8,ne,g)}var K=ne.child;if(K!==null)K.return=ne,Ee=K;else for(;Ee!==null;){ne=Ee;var se=ne.sibling,N=ne.return;if(gd(ne),ne===Y){Ee=null;break}if(se!==null){se.return=N,Ee=se;break}Ee=N}}}var ge=g.alternate;if(ge!==null){var J=ge.child;if(J!==null){ge.child=null;do{var Me=J.sibling;J.sibling=null,J=Me}while(J!==null)}}Ee=g}}if((g.subtreeFlags&2064)!==0&&L!==null)L.return=g,Ee=L;else e:for(;Ee!==null;){if(g=Ee,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Yr(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,Ee=q;break e}Ee=g.return}}var Z=n.current;for(Ee=Z;Ee!==null;){L=Ee;var Q=L.child;if((L.subtreeFlags&2064)!==0&&Q!==null)Q.return=L,Ee=Q;else e:for(L=Z;Ee!==null;){if(H=Ee,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:ja(9,H)}}catch(we){xt(H,H.return,we)}if(H===L){Ee=null;break e}var ue=H.sibling;if(ue!==null){ue.return=H.return,Ee=ue;break e}Ee=H.return}}if(tt=C,xi(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(La,n)}catch(we){}d=!0}return d}finally{at=o,wn.transition=s}}return!1}function hf(n,s,o){s=wr(o,s),s=id(n,s,1),n=ci(n,s,1),s=$t(),n!==null&&(ms(n,1,s),on(n,s))}function xt(n,s,o){if(n.tag===3)hf(n,n,o);else for(;s!==null;){if(s.tag===3){hf(s,n,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(di===null||!di.has(d))){n=wr(o,n),n=rd(s,n,1),s=ci(s,n,1),n=$t(),s!==null&&(ms(s,1,n),on(s,n));break}}s=s.return}}function Y0(n,s,o){var d=n.pingCache;d!==null&&d.delete(s),s=$t(),n.pingedLanes|=n.suspendedLanes&o,Ft===n&&(Ht&o)===o&&(Mt===4||Mt===3&&(Ht&130023424)===Ht&&500>bt()-Pl?Ri(n,0):bl|=o),on(n,s)}function bd(n,s){s===0&&((n.mode&1)===0?s=1:(s=Ds,Ds<<=1,(Ds&130023424)===0&&(Ds=4194304)));var o=$t();n=Jn(n,s),n!==null&&(ms(n,s,o),on(n,o))}function X0(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),bd(n,o)}function $0(n,s){var o=0;switch(n.tag){case 13:var d=n.stateNode,C=n.memoizedState;C!==null&&(o=C.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(ye(314))}d!==null&&d.delete(s),bd(n,o)}var Pd;Pd=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||an.current)sn=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return sn=!1,V0(n,s,o);sn=(n.flags&131072)!==0}else sn=!1,_t&&(s.flags&1048576)!==0&&Tc(s,Ca,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;ra(n,s),n=s.pendingProps;var C=vr(s,Jt.current);dr(s,o),C=ml(null,s,d,n,C,o);var g=yl();return s.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,un(d)?(g=!0,wa(s)):g=!1,s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,dl(s),C.updater=Ua,s.stateNode=C,C._reactInternals=s,xo(s,d,n,o),s=ko(null,s,d,!0,g,o)):(s.tag=0,_t&&g&&al(s),Xt(null,s,C,o),s=s.child),s;case 16:d=s.elementType;e:{switch(ra(n,s),n=s.pendingProps,C=d._init,d=C(d._payload),s.type=d,C=s.tag=tv(d),n=In(d,n),C){case 0:s=Po(null,s,d,n,o);break e;case 1:s=$h(null,s,d,n,o);break e;case 11:s=Yh(null,s,d,n,o);break e;case 14:s=Xh(null,s,d,In(d.type,n),o);break e}throw Error(ye(306,d,""))}return s;case 0:return d=s.type,C=s.pendingProps,C=s.elementType===d?C:In(d,C),Po(n,s,d,C,o);case 1:return d=s.type,C=s.pendingProps,C=s.elementType===d?C:In(d,C),$h(n,s,d,C,o);case 3:e:{if(od(s),n===null)throw Error(ye(387));d=s.pendingProps,g=s.memoizedState,C=g.element,Ac(n,s),Pa(s,d,null,o);var L=s.memoizedState;if(d=L.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){C=wr(Error(ye(423)),s),s=ef(n,s,d,o,C);break e}else if(d!==C){C=wr(Error(ye(424)),s),s=ef(n,s,d,o,C);break e}else for(cn=fi(s.stateNode.containerInfo.firstChild),dn=s,_t=!0,En=null,o=Rc(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(pr(),d===C){s=Yn(n,s,o);break e}Xt(n,s,d,o)}s=s.child}return s;case 5:return Fc(s),n===null&&wo(s),d=s.type,C=s.pendingProps,g=n!==null?n.memoizedProps:null,L=C.children,_o(d,C)?L=null:g!==null&&_o(d,g)&&(s.flags|=32),ud(n,s),Xt(n,s,L,o),s.child;case 6:return n===null&&wo(s),null;case 13:return ld(n,s,o);case 4:return gl(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=mr(s,null,d,o):Xt(n,s,d,o),s.child;case 11:return d=s.type,C=s.pendingProps,C=s.elementType===d?C:In(d,C),Yh(n,s,d,C,o);case 7:return Xt(n,s,s.pendingProps,o),s.child;case 8:return Xt(n,s,s.pendingProps.children,o),s.child;case 12:return Xt(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,C=s.pendingProps,g=s.memoizedProps,L=C.value,lt(xa,d._currentValue),d._currentValue=L,g!==null)if(An(g.value,L)){if(g.children===C.children&&!an.current){s=Yn(n,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var H=g.dependencies;if(H!==null){L=g.child;for(var j=H.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=Gn(-1,o&-o),j.tag=2;var Y=g.updateQueue;if(Y!==null){Y=Y.shared;var ne=Y.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),Y.pending=j}}g.lanes|=o,j=g.alternate,j!==null&&(j.lanes|=o),So(g.return,o,s),H.lanes|=o;break}j=j.next}}else if(g.tag===10)L=g.type===s.type?null:g.child;else if(g.tag===18){if(L=g.return,L===null)throw Error(ye(341));L.lanes|=o,H=L.alternate,H!==null&&(H.lanes|=o),So(L,o,s),L=g.sibling}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===s){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}Xt(n,s,C.children,o),s=s.child}return s;case 9:return C=s.type,d=s.pendingProps.children,dr(s,o),C=Sn(C),d=d(C),s.flags|=1,Xt(n,s,d,o),s.child;case 14:return d=s.type,C=In(d,s.pendingProps),C=In(d.type,C),Xh(n,s,d,C,o);case 15:return sd(n,s,s.type,s.pendingProps,o);case 17:return d=s.type,C=s.pendingProps,C=s.elementType===d?C:In(d,C),ra(n,s),s.tag=1,un(d)?(n=!0,wa(s)):n=!1,dr(s,o),Oc(s,d,C),xo(s,d,C,o),ko(null,s,d,!0,n,o);case 19:return hd(n,s,o);case 22:return ad(n,s,o)}throw Error(ye(156,s.tag))};function kd(n,s){return Xf(n,s)}function ev(n,s,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,s,o,d){return new ev(n,s,o,d)}function El(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tv(n){if(typeof n=="function")return El(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Qo)return 11;if(n===Ko)return 14}return 2}function _i(n,s){var o=n.alternate;return o===null?(o=yn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function ua(n,s,o,d,C,g){var L=2;if(d=n,typeof n=="function")El(n)&&(L=1);else if(typeof n=="string")L=5;else e:switch(n){case Xi:return Fi(o.children,C,g,s);case Go:L=8,C|=8;break;case Zu:return n=yn(12,o,s,C|2),n.elementType=Zu,n.lanes=g,n;case Gu:return n=yn(13,o,s,C),n.elementType=Gu,n.lanes=g,n;case Qu:return n=yn(19,o,s,C),n.elementType=Qu,n.lanes=g,n;case Lf:return Wa(o,C,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Nf:L=10;break e;case Of:L=9;break e;case Qo:L=11;break e;case Ko:L=14;break e;case ni:L=16,d=null;break e}throw Error(ye(130,n==null?n:typeof n,""))}return s=yn(L,o,s,C),s.elementType=n,s.type=d,s.lanes=g,s}function Fi(n,s,o,d){return n=yn(7,n,d,s),n.lanes=o,n}function Wa(n,s,o,d){return n=yn(22,n,d,s),n.elementType=Lf,n.lanes=o,n.stateNode={isHidden:!1},n}function ju(n,s,o){return n=yn(6,n,null,s),n.lanes=o,n}function qu(n,s,o){return s=yn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function nv(n,s,o,d,C){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=d,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Ml(n,s,o,d,C,g,L,H,j){return n=new nv(n,s,o,H,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=yn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},dl(g),n}function iv(n,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:d==null?null:""+d,children:n,containerInfo:s,implementation:o}}function Id(n){if(!n)return wi;n=n._reactInternals;e:{if(qi(n)!==n||n.tag!==1)throw Error(ye(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(un(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ye(171))}if(n.tag===1){var o=n.type;if(un(o))return kc(n,o,s)}return s}function Td(n,s,o,d,C,g,L,H,j){return n=Ml(o,d,!0,n,C,g,L,H,j),n.context=Id(null),o=n.current,d=$t(),C=gi(o),g=Gn(d,C),g.callback=s!=null?s:null,ci(o,g,C),n.current.lanes=C,ms(n,C,d),on(n,d),n}function Za(n,s,o,d){var C=s.current,g=$t(),L=gi(C);return o=Id(o),s.context===null?s.context=o:s.pendingContext=o,s=Gn(g,L),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=ci(C,s,L),n!==null&&(zn(n,C,L,g),ta(n,C,L)),L}function Na(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ff(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function zl(n,s){ff(n,s),(n=n.alternate)&&ff(n,s)}function rv(){return null}var Ed=typeof reportError=="function"?reportError:function(n){console.error(n)};function Al(n){this._internalRoot=n}Ga.prototype.render=Al.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(ye(409));Za(n,s,null,null)};Ga.prototype.unmount=Al.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Hi(function(){Za(null,n,null,null)}),s[Kn]=null}};function Ga(n){this._internalRoot=n}Ga.prototype.unstable_scheduleHydration=function(n){if(n){var s=sc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ri.length&&s!==0&&s<ri[o].priority;o++);ri.splice(o,0,n),o===0&&uc(n)}};function Nl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Qa(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cf(){}function sv(n,s,o,d,C){if(C){if(typeof d=="function"){var g=d;d=function(){var Y=Na(L);g.call(Y)}}var L=Td(s,d,n,0,null,!1,!1,"",cf);return n._reactRootContainer=L,n[Kn]=L.current,os(n.nodeType===8?n.parentNode:n),Hi(),L}for(;C=n.lastChild;)n.removeChild(C);if(typeof d=="function"){var H=d;d=function(){var Y=Na(j);H.call(Y)}}var j=Ml(n,0,!1,null,null,!1,!1,"",cf);return n._reactRootContainer=j,n[Kn]=j.current,os(n.nodeType===8?n.parentNode:n),Hi(function(){Za(s,j,o,d)}),j}function Ka(n,s,o,d,C){var g=o._reactRootContainer;if(g){var L=g;if(typeof C=="function"){var H=C;C=function(){var j=Na(L);H.call(j)}}Za(s,L,n,C)}else L=sv(o,s,n,C,d);return Na(L)}ic=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Hr(s.pendingLanes);o!==0&&(Xo(s,o|1),on(s,bt()),(tt&6)===0&&(Sr=bt()+500,xi()))}break;case 13:Hi(function(){var d=Jn(n,1);if(d!==null){var C=$t();zn(d,n,1,C)}}),zl(n,1)}};$o=function(n){if(n.tag===13){var s=Jn(n,134217728);if(s!==null){var o=$t();zn(s,n,134217728,o)}zl(n,134217728)}};rc=function(n){if(n.tag===13){var s=gi(n),o=Jn(n,s);if(o!==null){var d=$t();zn(o,n,s,d)}zl(n,s)}};sc=function(){return at};ac=function(n,s){var o=at;try{return at=n,s()}finally{at=o}};ro=function(n,s,o){switch(s){case"input":if(Yu(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==n&&d.form===n.form){var C=Ba(d);if(!C)throw Error(ye(90));Ff(d),Yu(d,C)}}}break;case"textarea":Bf(n,o);break;case"select":s=o.value,s!=null&&lr(n,!!o.multiple,s,!1)}};Zf=kl;Gf=Hi;var av={usingClientEntryPoint:!1,Events:[ws,nr,Ba,qf,Wf,kl]},Dr={findFiberByHostInstance:Ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uv={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Jf(n),n===null?null:n.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{La=Ks.inject(uv),Dn=Ks}catch(n){}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=av;_n.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nl(s))throw Error(ye(200));return iv(n,s,null,o)};_n.createRoot=function(n,s){if(!Nl(n))throw Error(ye(299));var o=!1,d="",C=Ed;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=Ml(n,1,!1,null,null,o,!1,d,C),n[Kn]=s.current,os(n.nodeType===8?n.parentNode:n),new Al(s)};_n.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(ye(188)):(n=Object.keys(n).join(","),Error(ye(268,n)));return n=Jf(s),n=n===null?null:n.stateNode,n};_n.flushSync=function(n){return Hi(n)};_n.hydrate=function(n,s,o){if(!Qa(s))throw Error(ye(200));return Ka(null,n,s,!0,o)};_n.hydrateRoot=function(n,s,o){if(!Nl(n))throw Error(ye(405));var d=o!=null&&o.hydratedSources||null,C=!1,g="",L=Ed;if(o!=null&&(o.unstable_strictMode===!0&&(C=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(L=o.onRecoverableError)),s=Td(s,null,n,1,o!=null?o:null,C,!1,g,L),n[Kn]=s.current,os(n),d)for(n=0;n<d.length;n++)o=d[n],C=o._getVersion,C=C(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,C]:s.mutableSourceEagerHydrationData.push(o,C);return new Ga(s)};_n.render=function(n,s,o){if(!Qa(s))throw Error(ye(200));return Ka(null,n,s,!1,o)};_n.unmountComponentAtNode=function(n){if(!Qa(n))throw Error(ye(40));return n._reactRootContainer?(Hi(function(){Ka(null,null,n,!1,function(){n._reactRootContainer=null,n[Kn]=null})}),!0):!1};_n.unstable_batchedUpdates=kl;_n.unstable_renderSubtreeIntoContainer=function(n,s,o,d){if(!Qa(o))throw Error(ye(200));if(n==null||n._reactInternals===void 0)throw Error(ye(38));return Ka(n,s,o,!1,d)};_n.version="18.2.0-next-9e3b772b8-20220608";function Md(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Md)}catch(n){console.error(n)}}Md(),Tf.exports=_n;var zd,df=Tf.exports;zd=df.createRoot,df.hydrateRoot;const gf=document.getElementById("root");gf?zd(gf).render(Qt(s_,{})):console.error("unable to find root");
