(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))p(b);new MutationObserver(b=>{for(const _ of b)if(_.type==="childList")for(const V of _.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&p(V)}).observe(document,{childList:!0,subtree:!0});function o(b){const _={};return b.integrity&&(_.integrity=b.integrity),b.referrerpolicy&&(_.referrerPolicy=b.referrerpolicy),b.crossorigin==="use-credentials"?_.credentials="include":b.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function p(b){if(b.ep)return;b.ep=!0;const _=o(b);fetch(b.href,_)}})();var Ho=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function cp(n){var s=n.default;if(typeof s=="function"){var o=function(){return s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(p){var b=Object.getOwnPropertyDescriptor(n,p);Object.defineProperty(o,p,b.get?b:{enumerable:!0,get:function(){return n[p]}})}),o}var Qa={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),dp=Symbol.for("react.portal"),pp=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),vp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),xp=Symbol.for("react.memo"),Sp=Symbol.for("react.lazy"),rh=Symbol.iterator;function Cp(n){return n===null||typeof n!="object"?null:(n=rh&&n[rh]||n["@@iterator"],typeof n=="function"?n:null)}var vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mf=Object.assign,yf={};function Br(n,s,o){this.props=n,this.context=s,this.refs=yf,this.updater=o||vf}Br.prototype.isReactComponent={};Br.prototype.setState=function(n,s){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,s,"setState")};Br.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function wf(){}wf.prototype=Br.prototype;function qo(n,s,o){this.props=n,this.context=s,this.refs=yf,this.updater=o||vf}var jo=qo.prototype=new wf;jo.constructor=qo;mf(jo,Br.prototype);jo.isPureReactComponent=!0;var sh=Array.isArray,xf=Object.prototype.hasOwnProperty,Wo={current:null},Sf={key:!0,ref:!0,__self:!0,__source:!0};function Cf(n,s,o){var p,b={},_=null,V=null;if(s!=null)for(p in s.ref!==void 0&&(V=s.ref),s.key!==void 0&&(_=""+s.key),s)xf.call(s,p)&&!Sf.hasOwnProperty(p)&&(b[p]=s[p]);var Q=arguments.length-2;if(Q===1)b.children=o;else if(1<Q){for(var K=Array(Q),ne=0;ne<Q;ne++)K[ne]=arguments[ne+2];b.children=K}if(n&&n.defaultProps)for(p in Q=n.defaultProps,Q)b[p]===void 0&&(b[p]=Q[p]);return{$$typeof:Ls,type:n,key:_,ref:V,props:b,_owner:Wo.current}}function bp(n,s){return{$$typeof:Ls,type:n.type,key:s,ref:n.ref,props:n.props,_owner:n._owner}}function Go(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ls}function kp(n){var s={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return s[o]})}var ah=/\/+/g;function Cu(n,s){return typeof n=="object"&&n!==null&&n.key!=null?kp(""+n.key):s.toString(36)}function fa(n,s,o,p,b){var _=typeof n;(_==="undefined"||_==="boolean")&&(n=null);var V=!1;if(n===null)V=!0;else switch(_){case"string":case"number":V=!0;break;case"object":switch(n.$$typeof){case Ls:case dp:V=!0}}if(V)return V=n,b=b(V),n=p===""?"."+Cu(V,0):p,sh(b)?(o="",n!=null&&(o=n.replace(ah,"$&/")+"/"),fa(b,s,o,"",function(ne){return ne})):b!=null&&(Go(b)&&(b=bp(b,o+(!b.key||V&&V.key===b.key?"":(""+b.key).replace(ah,"$&/")+"/")+n)),s.push(b)),1;if(V=0,p=p===""?".":p+":",sh(n))for(var Q=0;Q<n.length;Q++){_=n[Q];var K=p+Cu(_,Q);V+=fa(_,s,o,K,b)}else if(K=Cp(n),typeof K=="function")for(n=K.call(n),Q=0;!(_=n.next()).done;)_=_.value,K=p+Cu(_,Q++),V+=fa(_,s,o,K,b);else if(_==="object")throw s=String(n),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return V}function Zs(n,s,o){if(n==null)return n;var p=[],b=0;return fa(n,p,"","",function(_){return s.call(o,_,b++)}),p}function Pp(n){if(n._status===-1){var s=n._result;s=s(),s.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=s)}if(n._status===1)return n._result.default;throw n._result}var dn={current:null},ca={transition:null},Ip={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:ca,ReactCurrentOwner:Wo};ft.Children={map:Zs,forEach:function(n,s,o){Zs(n,function(){s.apply(this,arguments)},o)},count:function(n){var s=0;return Zs(n,function(){s++}),s},toArray:function(n){return Zs(n,function(s){return s})||[]},only:function(n){if(!Go(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ft.Component=Br;ft.Fragment=pp;ft.Profiler=_p;ft.PureComponent=qo;ft.StrictMode=gp;ft.Suspense=wp;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ip;ft.cloneElement=function(n,s,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var p=mf({},n.props),b=n.key,_=n.ref,V=n._owner;if(s!=null){if(s.ref!==void 0&&(_=s.ref,V=Wo.current),s.key!==void 0&&(b=""+s.key),n.type&&n.type.defaultProps)var Q=n.type.defaultProps;for(K in s)xf.call(s,K)&&!Sf.hasOwnProperty(K)&&(p[K]=s[K]===void 0&&Q!==void 0?Q[K]:s[K])}var K=arguments.length-2;if(K===1)p.children=o;else if(1<K){Q=Array(K);for(var ne=0;ne<K;ne++)Q[ne]=arguments[ne+2];p.children=Q}return{$$typeof:Ls,type:n.type,key:b,ref:_,props:p,_owner:V}};ft.createContext=function(n){return n={$$typeof:mp,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vp,_context:n},n.Consumer=n};ft.createElement=Cf;ft.createFactory=function(n){var s=Cf.bind(null,n);return s.type=n,s};ft.createRef=function(){return{current:null}};ft.forwardRef=function(n){return{$$typeof:yp,render:n}};ft.isValidElement=Go;ft.lazy=function(n){return{$$typeof:Sp,_payload:{_status:-1,_result:n},_init:Pp}};ft.memo=function(n,s){return{$$typeof:xp,type:n,compare:s===void 0?null:s}};ft.startTransition=function(n){var s=ca.transition;ca.transition={};try{n()}finally{ca.transition=s}};ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ft.useCallback=function(n,s){return dn.current.useCallback(n,s)};ft.useContext=function(n){return dn.current.useContext(n)};ft.useDebugValue=function(){};ft.useDeferredValue=function(n){return dn.current.useDeferredValue(n)};ft.useEffect=function(n,s){return dn.current.useEffect(n,s)};ft.useId=function(){return dn.current.useId()};ft.useImperativeHandle=function(n,s,o){return dn.current.useImperativeHandle(n,s,o)};ft.useInsertionEffect=function(n,s){return dn.current.useInsertionEffect(n,s)};ft.useLayoutEffect=function(n,s){return dn.current.useLayoutEffect(n,s)};ft.useMemo=function(n,s){return dn.current.useMemo(n,s)};ft.useReducer=function(n,s,o){return dn.current.useReducer(n,s,o)};ft.useRef=function(n){return dn.current.useRef(n)};ft.useState=function(n){return dn.current.useState(n)};ft.useSyncExternalStore=function(n,s,o){return dn.current.useSyncExternalStore(n,s,o)};ft.useTransition=function(){return dn.current.useTransition()};ft.version="18.2.0";(function(n){n.exports=ft})(Qa);const Ni={text:!1,trimmedCurve:!1,circle:!1,circleArc:!1,ellipse:!1,ellipseArc:!1,shape:!1,component:!1,line:!1,printIdMap:!1,highlightIds:!1},Mi={text:{red:0,green:0,blue:1,alpha:.5},trimmedCurve:{red:0,green:1,blue:0,alpha:.5},circle:{red:1,green:1,blue:0,alpha:.5},circleArc:{red:1,green:1,blue:0,alpha:.5},ellipse:{red:1,green:1,blue:0,alpha:.5},ellipseArc:{red:1,green:1,blue:0,alpha:.5},component:{red:.5,green:1,blue:1,alpha:.5},shape:{red:1,green:.5,blue:1,alpha:.5},line:{red:1,green:0,blue:0,alpha:.5}},as=new Map;function Ep(){as.clear()}function Tp(n,s){as.has(n)&&(console.warn("duplicate ID's in file",n),console.warn("prev",as.get(n)),console.warn("new",s)),as.set(n,s)}function Ap(n){return as.get(n)||null}class Np{constructor(s,o,p){this.element=s,this.attributeName=o,this.parent=p,this.value=s.getAttribute(o),this.valueAsString=this.value||"",this.valueAsNumber=parseFloat(this.value||""),p.attributes[o]=this.valueAsString,isNaN(this.valueAsNumber)&&(this.valueAsNumber=0)}}function bf(n){const s=[];return Object.keys(n).forEach(p=>{Array.isArray(n[p])&&n[p].forEach(b=>{b&&typeof b.draw=="function"&&s.push(b)})}),s}const kf=new Map;function Mp(n,s){kf.set(n,s)}function Lp(n){return kf.get(n)||null}function Op(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pf={exports:{}};const zp={},Rp=Object.freeze(Object.defineProperty({__proto__:null,default:zp},Symbol.toStringTag,{value:"Module"})),Ca=cp(Rp);var Qs={exports:{}},uh;function Fp(){return uh||(uh=1,function(n,s){(function(o,p){p(s)})(Ho,function(o){var p=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],b=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],_="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",V="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Q={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},K="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",ne={5:K,"5module":K+" export import",6:K+" const class extends export import super"},fe=/^in(stanceof)?$/,re=new RegExp("["+V+"]"),ue=new RegExp("["+V+_+"]");function F(c,A){for(var B=65536,j=0;j<A.length;j+=2){if(B+=A[j],B>c)return!1;if(B+=A[j+1],B>=c)return!0}}function me(c,A){return c<65?c===36:c<91?!0:c<97?c===95:c<123?!0:c<=65535?c>=170&&re.test(String.fromCharCode(c)):A===!1?!1:F(c,b)}function te(c,A){return c<48?c===36:c<58?!0:c<65?!1:c<91?!0:c<97?c===95:c<123?!0:c<=65535?c>=170&&ue.test(String.fromCharCode(c)):A===!1?!1:F(c,b)||F(c,p)}var Te=function(A,B){B===void 0&&(B={}),this.label=A,this.keyword=B.keyword,this.beforeExpr=!!B.beforeExpr,this.startsExpr=!!B.startsExpr,this.isLoop=!!B.isLoop,this.isAssign=!!B.isAssign,this.prefix=!!B.prefix,this.postfix=!!B.postfix,this.binop=B.binop||null,this.updateContext=null};function Z(c,A){return new Te(c,{beforeExpr:!0,binop:A})}var ee={beforeExpr:!0},J={startsExpr:!0},de={};function ye(c,A){return A===void 0&&(A={}),A.keyword=c,de[c]=new Te(c,A)}var z={num:new Te("num",J),regexp:new Te("regexp",J),string:new Te("string",J),name:new Te("name",J),privateId:new Te("privateId",J),eof:new Te("eof"),bracketL:new Te("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Te("]"),braceL:new Te("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Te("}"),parenL:new Te("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Te(")"),comma:new Te(",",ee),semi:new Te(";",ee),colon:new Te(":",ee),dot:new Te("."),question:new Te("?",ee),questionDot:new Te("?."),arrow:new Te("=>",ee),template:new Te("template"),invalidTemplate:new Te("invalidTemplate"),ellipsis:new Te("...",ee),backQuote:new Te("`",J),dollarBraceL:new Te("${",{beforeExpr:!0,startsExpr:!0}),eq:new Te("=",{beforeExpr:!0,isAssign:!0}),assign:new Te("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Te("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Te("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Z("||",1),logicalAND:Z("&&",2),bitwiseOR:Z("|",3),bitwiseXOR:Z("^",4),bitwiseAND:Z("&",5),equality:Z("==/!=/===/!==",6),relational:Z("</>/<=/>=",7),bitShift:Z("<</>>/>>>",8),plusMin:new Te("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Z("%",10),star:Z("*",10),slash:Z("/",10),starstar:new Te("**",{beforeExpr:!0}),coalesce:Z("??",1),_break:ye("break"),_case:ye("case",ee),_catch:ye("catch"),_continue:ye("continue"),_debugger:ye("debugger"),_default:ye("default",ee),_do:ye("do",{isLoop:!0,beforeExpr:!0}),_else:ye("else",ee),_finally:ye("finally"),_for:ye("for",{isLoop:!0}),_function:ye("function",J),_if:ye("if"),_return:ye("return",ee),_switch:ye("switch"),_throw:ye("throw",ee),_try:ye("try"),_var:ye("var"),_const:ye("const"),_while:ye("while",{isLoop:!0}),_with:ye("with"),_new:ye("new",{beforeExpr:!0,startsExpr:!0}),_this:ye("this",J),_super:ye("super",J),_class:ye("class",J),_extends:ye("extends",ee),_export:ye("export"),_import:ye("import",J),_null:ye("null",J),_true:ye("true",J),_false:ye("false",J),_in:ye("in",{beforeExpr:!0,binop:7}),_instanceof:ye("instanceof",{beforeExpr:!0,binop:7}),_typeof:ye("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ye("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ye("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Pe=/\r\n?|\n|\u2028|\u2029/,Oe=new RegExp(Pe.source,"g");function Fe(c){return c===10||c===13||c===8232||c===8233}function De(c,A,B){B===void 0&&(B=c.length);for(var j=A;j<B;j++){var X=c.charCodeAt(j);if(Fe(X))return j<B-1&&X===13&&c.charCodeAt(j+1)===10?j+2:j+1}return-1}var it=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Qe=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,at=Object.prototype,Ce=at.hasOwnProperty,xt=at.toString,le=Object.hasOwn||function(c,A){return Ce.call(c,A)},_t=Array.isArray||function(c){return xt.call(c)==="[object Array]"};function Le(c){return new RegExp("^(?:"+c.replace(/ /g,"|")+")$")}function be(c){return c<=65535?String.fromCharCode(c):(c-=65536,String.fromCharCode((c>>10)+55296,(c&1023)+56320))}var Ue=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ut=function(A,B){this.line=A,this.column=B};ut.prototype.offset=function(A){return new ut(this.line,this.column+A)};var vt=function(A,B,j){this.start=B,this.end=j,A.sourceFile!==null&&(this.source=A.sourceFile)};function Dt(c,A){for(var B=1,j=0;;){var X=De(c,j,A);if(X<0)return new ut(B,A-j);++B,j=X}}var Wt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ye=!1;function Rt(c){var A={};for(var B in Wt)A[B]=c&&le(c,B)?c[B]:Wt[B];if(A.ecmaVersion==="latest"?A.ecmaVersion=1e8:A.ecmaVersion==null?(!Ye&&typeof console=="object"&&console.warn&&(Ye=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),A.ecmaVersion=11):A.ecmaVersion>=2015&&(A.ecmaVersion-=2009),A.allowReserved==null&&(A.allowReserved=A.ecmaVersion<5),c.allowHashBang==null&&(A.allowHashBang=A.ecmaVersion>=14),_t(A.onToken)){var j=A.onToken;A.onToken=function(X){return j.push(X)}}return _t(A.onComment)&&(A.onComment=gn(A,A.onComment)),A}function gn(c,A){return function(B,j,X,ce,pe,Ee){var ze={type:B?"Block":"Line",value:j,start:X,end:ce};c.locations&&(ze.loc=new vt(this,pe,Ee)),c.ranges&&(ze.range=[X,ce]),A.push(ze)}}var xn=1,We=2,et=4,Je=8,ur=16,En=32,Bi=64,fi=128,$n=256,Vi=xn|We|$n;function Ui(c,A){return We|(c?et:0)|(A?Je:0)}var ci=0,kt=1,dt=2,St=3,Ct=4,tt=5,r=function(A,B,j){this.options=A=Rt(A),this.sourceFile=A.sourceFile,this.keywords=Le(ne[A.ecmaVersion>=6?6:A.sourceType==="module"?"5module":5]);var X="";A.allowReserved!==!0&&(X=Q[A.ecmaVersion>=6?6:A.ecmaVersion===5?5:3],A.sourceType==="module"&&(X+=" await")),this.reservedWords=Le(X);var ce=(X?X+" ":"")+Q.strict;this.reservedWordsStrict=Le(ce),this.reservedWordsStrictBind=Le(ce+" "+Q.strictBind),this.input=String(B),this.containsEsc=!1,j?(this.pos=j,this.lineStart=this.input.lastIndexOf(`
`,j-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Pe).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=z.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=A.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&A.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(xn),this.regexpState=null,this.privateNameStack=[]},e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};r.prototype.parse=function(){var A=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(A)},e.inFunction.get=function(){return(this.currentVarScope().flags&We)>0},e.inGenerator.get=function(){return(this.currentVarScope().flags&Je)>0&&!this.currentVarScope().inClassFieldInit},e.inAsync.get=function(){return(this.currentVarScope().flags&et)>0&&!this.currentVarScope().inClassFieldInit},e.canAwait.get=function(){for(var c=this.scopeStack.length-1;c>=0;c--){var A=this.scopeStack[c];if(A.inClassFieldInit||A.flags&$n)return!1;if(A.flags&We)return(A.flags&et)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},e.allowSuper.get=function(){var c=this.currentThisScope(),A=c.flags,B=c.inClassFieldInit;return(A&Bi)>0||B||this.options.allowSuperOutsideMethod},e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&fi)>0},e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},e.allowNewDotTarget.get=function(){var c=this.currentThisScope(),A=c.flags,B=c.inClassFieldInit;return(A&(We|$n))>0||B},e.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&$n)>0},r.extend=function(){for(var A=[],B=arguments.length;B--;)A[B]=arguments[B];for(var j=this,X=0;X<A.length;X++)j=A[X](j);return j},r.parse=function(A,B){return new this(B,A).parse()},r.parseExpressionAt=function(A,B,j){var X=new this(j,A,B);return X.nextToken(),X.parseExpression()},r.tokenizer=function(A,B){return new this(B,A)},Object.defineProperties(r.prototype,e);var t=r.prototype,i=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;t.strictDirective=function(c){if(this.options.ecmaVersion<5)return!1;for(;;){Qe.lastIndex=c,c+=Qe.exec(this.input)[0].length;var A=i.exec(this.input.slice(c));if(!A)return!1;if((A[1]||A[2])==="use strict"){Qe.lastIndex=c+A[0].length;var B=Qe.exec(this.input),j=B.index+B[0].length,X=this.input.charAt(j);return X===";"||X==="}"||Pe.test(B[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(X)||X==="!"&&this.input.charAt(j+1)==="=")}c+=A[0].length,Qe.lastIndex=c,c+=Qe.exec(this.input)[0].length,this.input[c]===";"&&c++}},t.eat=function(c){return this.type===c?(this.next(),!0):!1},t.isContextual=function(c){return this.type===z.name&&this.value===c&&!this.containsEsc},t.eatContextual=function(c){return this.isContextual(c)?(this.next(),!0):!1},t.expectContextual=function(c){this.eatContextual(c)||this.unexpected()},t.canInsertSemicolon=function(){return this.type===z.eof||this.type===z.braceR||Pe.test(this.input.slice(this.lastTokEnd,this.start))},t.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},t.semicolon=function(){!this.eat(z.semi)&&!this.insertSemicolon()&&this.unexpected()},t.afterTrailingComma=function(c,A){if(this.type===c)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),A||this.next(),!0},t.expect=function(c){this.eat(c)||this.unexpected()},t.unexpected=function(c){this.raise(c!=null?c:this.start,"Unexpected token")};var a=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};t.checkPatternErrors=function(c,A){if(!!c){c.trailingComma>-1&&this.raiseRecoverable(c.trailingComma,"Comma is not permitted after the rest element");var B=A?c.parenthesizedAssign:c.parenthesizedBind;B>-1&&this.raiseRecoverable(B,A?"Assigning to rvalue":"Parenthesized pattern")}},t.checkExpressionErrors=function(c,A){if(!c)return!1;var B=c.shorthandAssign,j=c.doubleProto;if(!A)return B>=0||j>=0;B>=0&&this.raise(B,"Shorthand property assignments are valid only in destructuring patterns"),j>=0&&this.raiseRecoverable(j,"Redefinition of __proto__ property")},t.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},t.isSimpleAssignTarget=function(c){return c.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(c.expression):c.type==="Identifier"||c.type==="MemberExpression"};var u=r.prototype;u.parseTopLevel=function(c){var A=Object.create(null);for(c.body||(c.body=[]);this.type!==z.eof;){var B=this.parseStatement(null,!0,A);c.body.push(B)}if(this.inModule)for(var j=0,X=Object.keys(this.undefinedExports);j<X.length;j+=1){var ce=X[j];this.raiseRecoverable(this.undefinedExports[ce].start,"Export '"+ce+"' is not defined")}return this.adaptDirectivePrologue(c.body),this.next(),c.sourceType=this.options.sourceType,this.finishNode(c,"Program")};var l={kind:"loop"},h={kind:"switch"};u.isLet=function(c){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Qe.lastIndex=this.pos;var A=Qe.exec(this.input),B=this.pos+A[0].length,j=this.input.charCodeAt(B);if(j===91||j===92||j>55295&&j<56320)return!0;if(c)return!1;if(j===123)return!0;if(me(j,!0)){for(var X=B+1;te(j=this.input.charCodeAt(X),!0);)++X;if(j===92||j>55295&&j<56320)return!0;var ce=this.input.slice(B,X);if(!fe.test(ce))return!0}return!1},u.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Qe.lastIndex=this.pos;var c=Qe.exec(this.input),A=this.pos+c[0].length,B;return!Pe.test(this.input.slice(this.pos,A))&&this.input.slice(A,A+8)==="function"&&(A+8===this.input.length||!(te(B=this.input.charCodeAt(A+8))||B>55295&&B<56320))},u.parseStatement=function(c,A,B){var j=this.type,X=this.startNode(),ce;switch(this.isLet(c)&&(j=z._var,ce="let"),j){case z._break:case z._continue:return this.parseBreakContinueStatement(X,j.keyword);case z._debugger:return this.parseDebuggerStatement(X);case z._do:return this.parseDoStatement(X);case z._for:return this.parseForStatement(X);case z._function:return c&&(this.strict||c!=="if"&&c!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(X,!1,!c);case z._class:return c&&this.unexpected(),this.parseClass(X,!0);case z._if:return this.parseIfStatement(X);case z._return:return this.parseReturnStatement(X);case z._switch:return this.parseSwitchStatement(X);case z._throw:return this.parseThrowStatement(X);case z._try:return this.parseTryStatement(X);case z._const:case z._var:return ce=ce||this.value,c&&ce!=="var"&&this.unexpected(),this.parseVarStatement(X,ce);case z._while:return this.parseWhileStatement(X);case z._with:return this.parseWithStatement(X);case z.braceL:return this.parseBlock(!0,X);case z.semi:return this.parseEmptyStatement(X);case z._export:case z._import:if(this.options.ecmaVersion>10&&j===z._import){Qe.lastIndex=this.pos;var pe=Qe.exec(this.input),Ee=this.pos+pe[0].length,ze=this.input.charCodeAt(Ee);if(ze===40||ze===46)return this.parseExpressionStatement(X,this.parseExpression())}return this.options.allowImportExportEverywhere||(A||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),j===z._import?this.parseImport(X):this.parseExport(X,B);default:if(this.isAsyncFunction())return c&&this.unexpected(),this.next(),this.parseFunctionStatement(X,!0,!c);var qe=this.value,Ke=this.parseExpression();return j===z.name&&Ke.type==="Identifier"&&this.eat(z.colon)?this.parseLabeledStatement(X,qe,Ke,c):this.parseExpressionStatement(X,Ke)}},u.parseBreakContinueStatement=function(c,A){var B=A==="break";this.next(),this.eat(z.semi)||this.insertSemicolon()?c.label=null:this.type!==z.name?this.unexpected():(c.label=this.parseIdent(),this.semicolon());for(var j=0;j<this.labels.length;++j){var X=this.labels[j];if((c.label==null||X.name===c.label.name)&&(X.kind!=null&&(B||X.kind==="loop")||c.label&&B))break}return j===this.labels.length&&this.raise(c.start,"Unsyntactic "+A),this.finishNode(c,B?"BreakStatement":"ContinueStatement")},u.parseDebuggerStatement=function(c){return this.next(),this.semicolon(),this.finishNode(c,"DebuggerStatement")},u.parseDoStatement=function(c){return this.next(),this.labels.push(l),c.body=this.parseStatement("do"),this.labels.pop(),this.expect(z._while),c.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(z.semi):this.semicolon(),this.finishNode(c,"DoWhileStatement")},u.parseForStatement=function(c){this.next();var A=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(l),this.enterScope(0),this.expect(z.parenL),this.type===z.semi)return A>-1&&this.unexpected(A),this.parseFor(c,null);var B=this.isLet();if(this.type===z._var||this.type===z._const||B){var j=this.startNode(),X=B?"let":this.value;return this.next(),this.parseVar(j,!0,X),this.finishNode(j,"VariableDeclaration"),(this.type===z._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&j.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===z._in?A>-1&&this.unexpected(A):c.await=A>-1),this.parseForIn(c,j)):(A>-1&&this.unexpected(A),this.parseFor(c,j))}var ce=this.isContextual("let"),pe=!1,Ee=new a,ze=this.parseExpression(A>-1?"await":!0,Ee);return this.type===z._in||(pe=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===z._in?A>-1&&this.unexpected(A):c.await=A>-1),ce&&pe&&this.raise(ze.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(ze,!1,Ee),this.checkLValPattern(ze),this.parseForIn(c,ze)):(this.checkExpressionErrors(Ee,!0),A>-1&&this.unexpected(A),this.parseFor(c,ze))},u.parseFunctionStatement=function(c,A,B){return this.next(),this.parseFunction(c,d|(B?0:g),!1,A)},u.parseIfStatement=function(c){return this.next(),c.test=this.parseParenExpression(),c.consequent=this.parseStatement("if"),c.alternate=this.eat(z._else)?this.parseStatement("if"):null,this.finishNode(c,"IfStatement")},u.parseReturnStatement=function(c){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(z.semi)||this.insertSemicolon()?c.argument=null:(c.argument=this.parseExpression(),this.semicolon()),this.finishNode(c,"ReturnStatement")},u.parseSwitchStatement=function(c){this.next(),c.discriminant=this.parseParenExpression(),c.cases=[],this.expect(z.braceL),this.labels.push(h),this.enterScope(0);for(var A,B=!1;this.type!==z.braceR;)if(this.type===z._case||this.type===z._default){var j=this.type===z._case;A&&this.finishNode(A,"SwitchCase"),c.cases.push(A=this.startNode()),A.consequent=[],this.next(),j?A.test=this.parseExpression():(B&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),B=!0,A.test=null),this.expect(z.colon)}else A||this.unexpected(),A.consequent.push(this.parseStatement(null));return this.exitScope(),A&&this.finishNode(A,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(c,"SwitchStatement")},u.parseThrowStatement=function(c){return this.next(),Pe.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),c.argument=this.parseExpression(),this.semicolon(),this.finishNode(c,"ThrowStatement")};var f=[];u.parseTryStatement=function(c){if(this.next(),c.block=this.parseBlock(),c.handler=null,this.type===z._catch){var A=this.startNode();if(this.next(),this.eat(z.parenL)){A.param=this.parseBindingAtom();var B=A.param.type==="Identifier";this.enterScope(B?En:0),this.checkLValPattern(A.param,B?Ct:dt),this.expect(z.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),A.param=null,this.enterScope(0);A.body=this.parseBlock(!1),this.exitScope(),c.handler=this.finishNode(A,"CatchClause")}return c.finalizer=this.eat(z._finally)?this.parseBlock():null,!c.handler&&!c.finalizer&&this.raise(c.start,"Missing catch or finally clause"),this.finishNode(c,"TryStatement")},u.parseVarStatement=function(c,A){return this.next(),this.parseVar(c,!1,A),this.semicolon(),this.finishNode(c,"VariableDeclaration")},u.parseWhileStatement=function(c){return this.next(),c.test=this.parseParenExpression(),this.labels.push(l),c.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(c,"WhileStatement")},u.parseWithStatement=function(c){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),c.object=this.parseParenExpression(),c.body=this.parseStatement("with"),this.finishNode(c,"WithStatement")},u.parseEmptyStatement=function(c){return this.next(),this.finishNode(c,"EmptyStatement")},u.parseLabeledStatement=function(c,A,B,j){for(var X=0,ce=this.labels;X<ce.length;X+=1){var pe=ce[X];pe.name===A&&this.raise(B.start,"Label '"+A+"' is already declared")}for(var Ee=this.type.isLoop?"loop":this.type===z._switch?"switch":null,ze=this.labels.length-1;ze>=0;ze--){var qe=this.labels[ze];if(qe.statementStart===c.start)qe.statementStart=this.start,qe.kind=Ee;else break}return this.labels.push({name:A,kind:Ee,statementStart:this.start}),c.body=this.parseStatement(j?j.indexOf("label")===-1?j+"label":j:"label"),this.labels.pop(),c.label=B,this.finishNode(c,"LabeledStatement")},u.parseExpressionStatement=function(c,A){return c.expression=A,this.semicolon(),this.finishNode(c,"ExpressionStatement")},u.parseBlock=function(c,A,B){for(c===void 0&&(c=!0),A===void 0&&(A=this.startNode()),A.body=[],this.expect(z.braceL),c&&this.enterScope(0);this.type!==z.braceR;){var j=this.parseStatement(null);A.body.push(j)}return B&&(this.strict=!1),this.next(),c&&this.exitScope(),this.finishNode(A,"BlockStatement")},u.parseFor=function(c,A){return c.init=A,this.expect(z.semi),c.test=this.type===z.semi?null:this.parseExpression(),this.expect(z.semi),c.update=this.type===z.parenR?null:this.parseExpression(),this.expect(z.parenR),c.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(c,"ForStatement")},u.parseForIn=function(c,A){var B=this.type===z._in;return this.next(),A.type==="VariableDeclaration"&&A.declarations[0].init!=null&&(!B||this.options.ecmaVersion<8||this.strict||A.kind!=="var"||A.declarations[0].id.type!=="Identifier")&&this.raise(A.start,(B?"for-in":"for-of")+" loop variable declaration may not have an initializer"),c.left=A,c.right=B?this.parseExpression():this.parseMaybeAssign(),this.expect(z.parenR),c.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(c,B?"ForInStatement":"ForOfStatement")},u.parseVar=function(c,A,B){for(c.declarations=[],c.kind=B;;){var j=this.startNode();if(this.parseVarId(j,B),this.eat(z.eq)?j.init=this.parseMaybeAssign(A):B==="const"&&!(this.type===z._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():j.id.type!=="Identifier"&&!(A&&(this.type===z._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):j.init=null,c.declarations.push(this.finishNode(j,"VariableDeclarator")),!this.eat(z.comma))break}return c},u.parseVarId=function(c,A){c.id=this.parseBindingAtom(),this.checkLValPattern(c.id,A==="var"?kt:dt,!1)};var d=1,g=2,y=4;u.parseFunction=function(c,A,B,j,X){this.initFunction(c),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!j)&&(this.type===z.star&&A&g&&this.unexpected(),c.generator=this.eat(z.star)),this.options.ecmaVersion>=8&&(c.async=!!j),A&d&&(c.id=A&y&&this.type!==z.name?null:this.parseIdent(),c.id&&!(A&g)&&this.checkLValSimple(c.id,this.strict||c.generator||c.async?this.treatFunctionsAsVar?kt:dt:St));var ce=this.yieldPos,pe=this.awaitPos,Ee=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ui(c.async,c.generator)),A&d||(c.id=this.type===z.name?this.parseIdent():null),this.parseFunctionParams(c),this.parseFunctionBody(c,B,!1,X),this.yieldPos=ce,this.awaitPos=pe,this.awaitIdentPos=Ee,this.finishNode(c,A&d?"FunctionDeclaration":"FunctionExpression")},u.parseFunctionParams=function(c){this.expect(z.parenL),c.params=this.parseBindingList(z.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},u.parseClass=function(c,A){this.next();var B=this.strict;this.strict=!0,this.parseClassId(c,A),this.parseClassSuper(c);var j=this.enterClassBody(),X=this.startNode(),ce=!1;for(X.body=[],this.expect(z.braceL);this.type!==z.braceR;){var pe=this.parseClassElement(c.superClass!==null);pe&&(X.body.push(pe),pe.type==="MethodDefinition"&&pe.kind==="constructor"?(ce&&this.raise(pe.start,"Duplicate constructor in the same class"),ce=!0):pe.key&&pe.key.type==="PrivateIdentifier"&&m(j,pe)&&this.raiseRecoverable(pe.key.start,"Identifier '#"+pe.key.name+"' has already been declared"))}return this.strict=B,this.next(),c.body=this.finishNode(X,"ClassBody"),this.exitClassBody(),this.finishNode(c,A?"ClassDeclaration":"ClassExpression")},u.parseClassElement=function(c){if(this.eat(z.semi))return null;var A=this.options.ecmaVersion,B=this.startNode(),j="",X=!1,ce=!1,pe="method",Ee=!1;if(this.eatContextual("static")){if(A>=13&&this.eat(z.braceL))return this.parseClassStaticBlock(B),B;this.isClassElementNameStart()||this.type===z.star?Ee=!0:j="static"}if(B.static=Ee,!j&&A>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===z.star)&&!this.canInsertSemicolon()?ce=!0:j="async"),!j&&(A>=9||!ce)&&this.eat(z.star)&&(X=!0),!j&&!ce&&!X){var ze=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?pe=ze:j=ze)}if(j?(B.computed=!1,B.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),B.key.name=j,this.finishNode(B.key,"Identifier")):this.parseClassElementName(B),A<13||this.type===z.parenL||pe!=="method"||X||ce){var qe=!B.static&&v(B,"constructor"),Ke=qe&&c;qe&&pe!=="method"&&this.raise(B.key.start,"Constructor can't have get/set modifier"),B.kind=qe?"constructor":pe,this.parseClassMethod(B,X,ce,Ke)}else this.parseClassField(B);return B},u.isClassElementNameStart=function(){return this.type===z.name||this.type===z.privateId||this.type===z.num||this.type===z.string||this.type===z.bracketL||this.type.keyword},u.parseClassElementName=function(c){this.type===z.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),c.computed=!1,c.key=this.parsePrivateIdent()):this.parsePropertyName(c)},u.parseClassMethod=function(c,A,B,j){var X=c.key;c.kind==="constructor"?(A&&this.raise(X.start,"Constructor can't be a generator"),B&&this.raise(X.start,"Constructor can't be an async method")):c.static&&v(c,"prototype")&&this.raise(X.start,"Classes may not have a static property named prototype");var ce=c.value=this.parseMethod(A,B,j);return c.kind==="get"&&ce.params.length!==0&&this.raiseRecoverable(ce.start,"getter should have no params"),c.kind==="set"&&ce.params.length!==1&&this.raiseRecoverable(ce.start,"setter should have exactly one param"),c.kind==="set"&&ce.params[0].type==="RestElement"&&this.raiseRecoverable(ce.params[0].start,"Setter cannot use rest params"),this.finishNode(c,"MethodDefinition")},u.parseClassField=function(c){if(v(c,"constructor")?this.raise(c.key.start,"Classes can't have a field named 'constructor'"):c.static&&v(c,"prototype")&&this.raise(c.key.start,"Classes can't have a static field named 'prototype'"),this.eat(z.eq)){var A=this.currentThisScope(),B=A.inClassFieldInit;A.inClassFieldInit=!0,c.value=this.parseMaybeAssign(),A.inClassFieldInit=B}else c.value=null;return this.semicolon(),this.finishNode(c,"PropertyDefinition")},u.parseClassStaticBlock=function(c){c.body=[];var A=this.labels;for(this.labels=[],this.enterScope($n|Bi);this.type!==z.braceR;){var B=this.parseStatement(null);c.body.push(B)}return this.next(),this.exitScope(),this.labels=A,this.finishNode(c,"StaticBlock")},u.parseClassId=function(c,A){this.type===z.name?(c.id=this.parseIdent(),A&&this.checkLValSimple(c.id,dt,!1)):(A===!0&&this.unexpected(),c.id=null)},u.parseClassSuper=function(c){c.superClass=this.eat(z._extends)?this.parseExprSubscripts(!1):null},u.enterClassBody=function(){var c={declared:Object.create(null),used:[]};return this.privateNameStack.push(c),c.declared},u.exitClassBody=function(){for(var c=this.privateNameStack.pop(),A=c.declared,B=c.used,j=this.privateNameStack.length,X=j===0?null:this.privateNameStack[j-1],ce=0;ce<B.length;++ce){var pe=B[ce];le(A,pe.name)||(X?X.used.push(pe):this.raiseRecoverable(pe.start,"Private field '#"+pe.name+"' must be declared in an enclosing class"))}};function m(c,A){var B=A.key.name,j=c[B],X="true";return A.type==="MethodDefinition"&&(A.kind==="get"||A.kind==="set")&&(X=(A.static?"s":"i")+A.kind),j==="iget"&&X==="iset"||j==="iset"&&X==="iget"||j==="sget"&&X==="sset"||j==="sset"&&X==="sget"?(c[B]="true",!1):j?!0:(c[B]=X,!1)}function v(c,A){var B=c.computed,j=c.key;return!B&&(j.type==="Identifier"&&j.name===A||j.type==="Literal"&&j.value===A)}u.parseExport=function(c,A){if(this.next(),this.eat(z.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(c.exported=this.parseModuleExportName(),this.checkExport(A,c.exported,this.lastTokStart)):c.exported=null),this.expectContextual("from"),this.type!==z.string&&this.unexpected(),c.source=this.parseExprAtom(),this.semicolon(),this.finishNode(c,"ExportAllDeclaration");if(this.eat(z._default)){this.checkExport(A,"default",this.lastTokStart);var B;if(this.type===z._function||(B=this.isAsyncFunction())){var j=this.startNode();this.next(),B&&this.next(),c.declaration=this.parseFunction(j,d|y,!1,B)}else if(this.type===z._class){var X=this.startNode();c.declaration=this.parseClass(X,"nullableID")}else c.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(c,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())c.declaration=this.parseStatement(null),c.declaration.type==="VariableDeclaration"?this.checkVariableExport(A,c.declaration.declarations):this.checkExport(A,c.declaration.id,c.declaration.id.start),c.specifiers=[],c.source=null;else{if(c.declaration=null,c.specifiers=this.parseExportSpecifiers(A),this.eatContextual("from"))this.type!==z.string&&this.unexpected(),c.source=this.parseExprAtom();else{for(var ce=0,pe=c.specifiers;ce<pe.length;ce+=1){var Ee=pe[ce];this.checkUnreserved(Ee.local),this.checkLocalExport(Ee.local),Ee.local.type==="Literal"&&this.raise(Ee.local.start,"A string literal cannot be used as an exported binding without `from`.")}c.source=null}this.semicolon()}return this.finishNode(c,"ExportNamedDeclaration")},u.checkExport=function(c,A,B){!c||(typeof A!="string"&&(A=A.type==="Identifier"?A.name:A.value),le(c,A)&&this.raiseRecoverable(B,"Duplicate export '"+A+"'"),c[A]=!0)},u.checkPatternExport=function(c,A){var B=A.type;if(B==="Identifier")this.checkExport(c,A,A.start);else if(B==="ObjectPattern")for(var j=0,X=A.properties;j<X.length;j+=1){var ce=X[j];this.checkPatternExport(c,ce)}else if(B==="ArrayPattern")for(var pe=0,Ee=A.elements;pe<Ee.length;pe+=1){var ze=Ee[pe];ze&&this.checkPatternExport(c,ze)}else B==="Property"?this.checkPatternExport(c,A.value):B==="AssignmentPattern"?this.checkPatternExport(c,A.left):B==="RestElement"?this.checkPatternExport(c,A.argument):B==="ParenthesizedExpression"&&this.checkPatternExport(c,A.expression)},u.checkVariableExport=function(c,A){if(!!c)for(var B=0,j=A;B<j.length;B+=1){var X=j[B];this.checkPatternExport(c,X.id)}},u.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},u.parseExportSpecifiers=function(c){var A=[],B=!0;for(this.expect(z.braceL);!this.eat(z.braceR);){if(B)B=!1;else if(this.expect(z.comma),this.afterTrailingComma(z.braceR))break;var j=this.startNode();j.local=this.parseModuleExportName(),j.exported=this.eatContextual("as")?this.parseModuleExportName():j.local,this.checkExport(c,j.exported,j.exported.start),A.push(this.finishNode(j,"ExportSpecifier"))}return A},u.parseImport=function(c){return this.next(),this.type===z.string?(c.specifiers=f,c.source=this.parseExprAtom()):(c.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),c.source=this.type===z.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(c,"ImportDeclaration")},u.parseImportSpecifiers=function(){var c=[],A=!0;if(this.type===z.name){var B=this.startNode();if(B.local=this.parseIdent(),this.checkLValSimple(B.local,dt),c.push(this.finishNode(B,"ImportDefaultSpecifier")),!this.eat(z.comma))return c}if(this.type===z.star){var j=this.startNode();return this.next(),this.expectContextual("as"),j.local=this.parseIdent(),this.checkLValSimple(j.local,dt),c.push(this.finishNode(j,"ImportNamespaceSpecifier")),c}for(this.expect(z.braceL);!this.eat(z.braceR);){if(A)A=!1;else if(this.expect(z.comma),this.afterTrailingComma(z.braceR))break;var X=this.startNode();X.imported=this.parseModuleExportName(),this.eatContextual("as")?X.local=this.parseIdent():(this.checkUnreserved(X.imported),X.local=X.imported),this.checkLValSimple(X.local,dt),c.push(this.finishNode(X,"ImportSpecifier"))}return c},u.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===z.string){var c=this.parseLiteral(this.value);return Ue.test(c.value)&&this.raise(c.start,"An export name cannot include a lone surrogate."),c}return this.parseIdent(!0)},u.adaptDirectivePrologue=function(c){for(var A=0;A<c.length&&this.isDirectiveCandidate(c[A]);++A)c[A].directive=c[A].expression.raw.slice(1,-1)},u.isDirectiveCandidate=function(c){return this.options.ecmaVersion>=5&&c.type==="ExpressionStatement"&&c.expression.type==="Literal"&&typeof c.expression.value=="string"&&(this.input[c.start]==='"'||this.input[c.start]==="'")};var S=r.prototype;S.toAssignable=function(c,A,B){if(this.options.ecmaVersion>=6&&c)switch(c.type){case"Identifier":this.inAsync&&c.name==="await"&&this.raise(c.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":c.type="ObjectPattern",B&&this.checkPatternErrors(B,!0);for(var j=0,X=c.properties;j<X.length;j+=1){var ce=X[j];this.toAssignable(ce,A),ce.type==="RestElement"&&(ce.argument.type==="ArrayPattern"||ce.argument.type==="ObjectPattern")&&this.raise(ce.argument.start,"Unexpected token")}break;case"Property":c.kind!=="init"&&this.raise(c.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(c.value,A);break;case"ArrayExpression":c.type="ArrayPattern",B&&this.checkPatternErrors(B,!0),this.toAssignableList(c.elements,A);break;case"SpreadElement":c.type="RestElement",this.toAssignable(c.argument,A),c.argument.type==="AssignmentPattern"&&this.raise(c.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":c.operator!=="="&&this.raise(c.left.end,"Only '=' operator can be used for specifying default value."),c.type="AssignmentPattern",delete c.operator,this.toAssignable(c.left,A);break;case"ParenthesizedExpression":this.toAssignable(c.expression,A,B);break;case"ChainExpression":this.raiseRecoverable(c.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!A)break;default:this.raise(c.start,"Assigning to rvalue")}else B&&this.checkPatternErrors(B,!0);return c},S.toAssignableList=function(c,A){for(var B=c.length,j=0;j<B;j++){var X=c[j];X&&this.toAssignable(X,A)}if(B){var ce=c[B-1];this.options.ecmaVersion===6&&A&&ce&&ce.type==="RestElement"&&ce.argument.type!=="Identifier"&&this.unexpected(ce.argument.start)}return c},S.parseSpread=function(c){var A=this.startNode();return this.next(),A.argument=this.parseMaybeAssign(!1,c),this.finishNode(A,"SpreadElement")},S.parseRestBinding=function(){var c=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==z.name&&this.unexpected(),c.argument=this.parseBindingAtom(),this.finishNode(c,"RestElement")},S.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case z.bracketL:var c=this.startNode();return this.next(),c.elements=this.parseBindingList(z.bracketR,!0,!0),this.finishNode(c,"ArrayPattern");case z.braceL:return this.parseObj(!0)}return this.parseIdent()},S.parseBindingList=function(c,A,B){for(var j=[],X=!0;!this.eat(c);)if(X?X=!1:this.expect(z.comma),A&&this.type===z.comma)j.push(null);else{if(B&&this.afterTrailingComma(c))break;if(this.type===z.ellipsis){var ce=this.parseRestBinding();this.parseBindingListItem(ce),j.push(ce),this.type===z.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(c);break}else{var pe=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(pe),j.push(pe)}}return j},S.parseBindingListItem=function(c){return c},S.parseMaybeDefault=function(c,A,B){if(B=B||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(z.eq))return B;var j=this.startNodeAt(c,A);return j.left=B,j.right=this.parseMaybeAssign(),this.finishNode(j,"AssignmentPattern")},S.checkLValSimple=function(c,A,B){A===void 0&&(A=ci);var j=A!==ci;switch(c.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(c.name)&&this.raiseRecoverable(c.start,(j?"Binding ":"Assigning to ")+c.name+" in strict mode"),j&&(A===dt&&c.name==="let"&&this.raiseRecoverable(c.start,"let is disallowed as a lexically bound name"),B&&(le(B,c.name)&&this.raiseRecoverable(c.start,"Argument name clash"),B[c.name]=!0),A!==tt&&this.declareName(c.name,A,c.start));break;case"ChainExpression":this.raiseRecoverable(c.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":j&&this.raiseRecoverable(c.start,"Binding member expression");break;case"ParenthesizedExpression":return j&&this.raiseRecoverable(c.start,"Binding parenthesized expression"),this.checkLValSimple(c.expression,A,B);default:this.raise(c.start,(j?"Binding":"Assigning to")+" rvalue")}},S.checkLValPattern=function(c,A,B){switch(A===void 0&&(A=ci),c.type){case"ObjectPattern":for(var j=0,X=c.properties;j<X.length;j+=1){var ce=X[j];this.checkLValInnerPattern(ce,A,B)}break;case"ArrayPattern":for(var pe=0,Ee=c.elements;pe<Ee.length;pe+=1){var ze=Ee[pe];ze&&this.checkLValInnerPattern(ze,A,B)}break;default:this.checkLValSimple(c,A,B)}},S.checkLValInnerPattern=function(c,A,B){switch(A===void 0&&(A=ci),c.type){case"Property":this.checkLValInnerPattern(c.value,A,B);break;case"AssignmentPattern":this.checkLValPattern(c.left,A,B);break;case"RestElement":this.checkLValPattern(c.argument,A,B);break;default:this.checkLValPattern(c,A,B)}};var E=function(A,B,j,X,ce){this.token=A,this.isExpr=!!B,this.preserveSpace=!!j,this.override=X,this.generator=!!ce},I={b_stat:new E("{",!1),b_expr:new E("{",!0),b_tmpl:new E("${",!1),p_stat:new E("(",!1),p_expr:new E("(",!0),q_tmpl:new E("`",!0,!0,function(c){return c.tryReadTemplateToken()}),f_stat:new E("function",!1),f_expr:new E("function",!0),f_expr_gen:new E("function",!0,!1,null,!0),f_gen:new E("function",!1,!1,null,!0)},P=r.prototype;P.initialContext=function(){return[I.b_stat]},P.curContext=function(){return this.context[this.context.length-1]},P.braceIsBlock=function(c){var A=this.curContext();return A===I.f_expr||A===I.f_stat?!0:c===z.colon&&(A===I.b_stat||A===I.b_expr)?!A.isExpr:c===z._return||c===z.name&&this.exprAllowed?Pe.test(this.input.slice(this.lastTokEnd,this.start)):c===z._else||c===z.semi||c===z.eof||c===z.parenR||c===z.arrow?!0:c===z.braceL?A===I.b_stat:c===z._var||c===z._const||c===z.name?!1:!this.exprAllowed},P.inGeneratorContext=function(){for(var c=this.context.length-1;c>=1;c--){var A=this.context[c];if(A.token==="function")return A.generator}return!1},P.updateContext=function(c){var A,B=this.type;B.keyword&&c===z.dot?this.exprAllowed=!1:(A=B.updateContext)?A.call(this,c):this.exprAllowed=B.beforeExpr},P.overrideContext=function(c){this.curContext()!==c&&(this.context[this.context.length-1]=c)},z.parenR.updateContext=z.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var c=this.context.pop();c===I.b_stat&&this.curContext().token==="function"&&(c=this.context.pop()),this.exprAllowed=!c.isExpr},z.braceL.updateContext=function(c){this.context.push(this.braceIsBlock(c)?I.b_stat:I.b_expr),this.exprAllowed=!0},z.dollarBraceL.updateContext=function(){this.context.push(I.b_tmpl),this.exprAllowed=!0},z.parenL.updateContext=function(c){var A=c===z._if||c===z._for||c===z._with||c===z._while;this.context.push(A?I.p_stat:I.p_expr),this.exprAllowed=!0},z.incDec.updateContext=function(){},z._function.updateContext=z._class.updateContext=function(c){c.beforeExpr&&c!==z._else&&!(c===z.semi&&this.curContext()!==I.p_stat)&&!(c===z._return&&Pe.test(this.input.slice(this.lastTokEnd,this.start)))&&!((c===z.colon||c===z.braceL)&&this.curContext()===I.b_stat)?this.context.push(I.f_expr):this.context.push(I.f_stat),this.exprAllowed=!1},z.backQuote.updateContext=function(){this.curContext()===I.q_tmpl?this.context.pop():this.context.push(I.q_tmpl),this.exprAllowed=!1},z.star.updateContext=function(c){if(c===z._function){var A=this.context.length-1;this.context[A]===I.f_expr?this.context[A]=I.f_expr_gen:this.context[A]=I.f_gen}this.exprAllowed=!0},z.name.updateContext=function(c){var A=!1;this.options.ecmaVersion>=6&&c!==z.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(A=!0),this.exprAllowed=A};var C=r.prototype;C.checkPropClash=function(c,A,B){if(!(this.options.ecmaVersion>=9&&c.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(c.computed||c.method||c.shorthand))){var j=c.key,X;switch(j.type){case"Identifier":X=j.name;break;case"Literal":X=String(j.value);break;default:return}var ce=c.kind;if(this.options.ecmaVersion>=6){X==="__proto__"&&ce==="init"&&(A.proto&&(B?B.doubleProto<0&&(B.doubleProto=j.start):this.raiseRecoverable(j.start,"Redefinition of __proto__ property")),A.proto=!0);return}X="$"+X;var pe=A[X];if(pe){var Ee;ce==="init"?Ee=this.strict&&pe.init||pe.get||pe.set:Ee=pe.init||pe[ce],Ee&&this.raiseRecoverable(j.start,"Redefinition of property")}else pe=A[X]={init:!1,get:!1,set:!1};pe[ce]=!0}},C.parseExpression=function(c,A){var B=this.start,j=this.startLoc,X=this.parseMaybeAssign(c,A);if(this.type===z.comma){var ce=this.startNodeAt(B,j);for(ce.expressions=[X];this.eat(z.comma);)ce.expressions.push(this.parseMaybeAssign(c,A));return this.finishNode(ce,"SequenceExpression")}return X},C.parseMaybeAssign=function(c,A,B){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(c);this.exprAllowed=!1}var j=!1,X=-1,ce=-1,pe=-1;A?(X=A.parenthesizedAssign,ce=A.trailingComma,pe=A.doubleProto,A.parenthesizedAssign=A.trailingComma=-1):(A=new a,j=!0);var Ee=this.start,ze=this.startLoc;(this.type===z.parenL||this.type===z.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=c==="await");var qe=this.parseMaybeConditional(c,A);if(B&&(qe=B.call(this,qe,Ee,ze)),this.type.isAssign){var Ke=this.startNodeAt(Ee,ze);return Ke.operator=this.value,this.type===z.eq&&(qe=this.toAssignable(qe,!1,A)),j||(A.parenthesizedAssign=A.trailingComma=A.doubleProto=-1),A.shorthandAssign>=qe.start&&(A.shorthandAssign=-1),this.type===z.eq?this.checkLValPattern(qe):this.checkLValSimple(qe),Ke.left=qe,this.next(),Ke.right=this.parseMaybeAssign(c),pe>-1&&(A.doubleProto=pe),this.finishNode(Ke,"AssignmentExpression")}else j&&this.checkExpressionErrors(A,!0);return X>-1&&(A.parenthesizedAssign=X),ce>-1&&(A.trailingComma=ce),qe},C.parseMaybeConditional=function(c,A){var B=this.start,j=this.startLoc,X=this.parseExprOps(c,A);if(this.checkExpressionErrors(A))return X;if(this.eat(z.question)){var ce=this.startNodeAt(B,j);return ce.test=X,ce.consequent=this.parseMaybeAssign(),this.expect(z.colon),ce.alternate=this.parseMaybeAssign(c),this.finishNode(ce,"ConditionalExpression")}return X},C.parseExprOps=function(c,A){var B=this.start,j=this.startLoc,X=this.parseMaybeUnary(A,!1,!1,c);return this.checkExpressionErrors(A)||X.start===B&&X.type==="ArrowFunctionExpression"?X:this.parseExprOp(X,B,j,-1,c)},C.parseExprOp=function(c,A,B,j,X){var ce=this.type.binop;if(ce!=null&&(!X||this.type!==z._in)&&ce>j){var pe=this.type===z.logicalOR||this.type===z.logicalAND,Ee=this.type===z.coalesce;Ee&&(ce=z.logicalAND.binop);var ze=this.value;this.next();var qe=this.start,Ke=this.startLoc,Pt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,X),qe,Ke,ce,X),Kt=this.buildBinary(A,B,c,Pt,ze,pe||Ee);return(pe&&this.type===z.coalesce||Ee&&(this.type===z.logicalOR||this.type===z.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Kt,A,B,j,X)}return c},C.buildBinary=function(c,A,B,j,X,ce){j.type==="PrivateIdentifier"&&this.raise(j.start,"Private identifier can only be left side of binary expression");var pe=this.startNodeAt(c,A);return pe.left=B,pe.operator=X,pe.right=j,this.finishNode(pe,ce?"LogicalExpression":"BinaryExpression")},C.parseMaybeUnary=function(c,A,B,j){var X=this.start,ce=this.startLoc,pe;if(this.isContextual("await")&&this.canAwait)pe=this.parseAwait(j),A=!0;else if(this.type.prefix){var Ee=this.startNode(),ze=this.type===z.incDec;Ee.operator=this.value,Ee.prefix=!0,this.next(),Ee.argument=this.parseMaybeUnary(null,!0,ze,j),this.checkExpressionErrors(c,!0),ze?this.checkLValSimple(Ee.argument):this.strict&&Ee.operator==="delete"&&Ee.argument.type==="Identifier"?this.raiseRecoverable(Ee.start,"Deleting local variable in strict mode"):Ee.operator==="delete"&&x(Ee.argument)?this.raiseRecoverable(Ee.start,"Private fields can not be deleted"):A=!0,pe=this.finishNode(Ee,ze?"UpdateExpression":"UnaryExpression")}else if(!A&&this.type===z.privateId)(j||this.privateNameStack.length===0)&&this.unexpected(),pe=this.parsePrivateIdent(),this.type!==z._in&&this.unexpected();else{if(pe=this.parseExprSubscripts(c,j),this.checkExpressionErrors(c))return pe;for(;this.type.postfix&&!this.canInsertSemicolon();){var qe=this.startNodeAt(X,ce);qe.operator=this.value,qe.prefix=!1,qe.argument=pe,this.checkLValSimple(pe),this.next(),pe=this.finishNode(qe,"UpdateExpression")}}if(!B&&this.eat(z.starstar))if(A)this.unexpected(this.lastTokStart);else return this.buildBinary(X,ce,pe,this.parseMaybeUnary(null,!1,!1,j),"**",!1);else return pe};function x(c){return c.type==="MemberExpression"&&c.property.type==="PrivateIdentifier"||c.type==="ChainExpression"&&x(c.expression)}C.parseExprSubscripts=function(c,A){var B=this.start,j=this.startLoc,X=this.parseExprAtom(c,A);if(X.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return X;var ce=this.parseSubscripts(X,B,j,!1,A);return c&&ce.type==="MemberExpression"&&(c.parenthesizedAssign>=ce.start&&(c.parenthesizedAssign=-1),c.parenthesizedBind>=ce.start&&(c.parenthesizedBind=-1),c.trailingComma>=ce.start&&(c.trailingComma=-1)),ce},C.parseSubscripts=function(c,A,B,j,X){for(var ce=this.options.ecmaVersion>=8&&c.type==="Identifier"&&c.name==="async"&&this.lastTokEnd===c.end&&!this.canInsertSemicolon()&&c.end-c.start===5&&this.potentialArrowAt===c.start,pe=!1;;){var Ee=this.parseSubscript(c,A,B,j,ce,pe,X);if(Ee.optional&&(pe=!0),Ee===c||Ee.type==="ArrowFunctionExpression"){if(pe){var ze=this.startNodeAt(A,B);ze.expression=Ee,Ee=this.finishNode(ze,"ChainExpression")}return Ee}c=Ee}},C.parseSubscript=function(c,A,B,j,X,ce,pe){var Ee=this.options.ecmaVersion>=11,ze=Ee&&this.eat(z.questionDot);j&&ze&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var qe=this.eat(z.bracketL);if(qe||ze&&this.type!==z.parenL&&this.type!==z.backQuote||this.eat(z.dot)){var Ke=this.startNodeAt(A,B);Ke.object=c,qe?(Ke.property=this.parseExpression(),this.expect(z.bracketR)):this.type===z.privateId&&c.type!=="Super"?Ke.property=this.parsePrivateIdent():Ke.property=this.parseIdent(this.options.allowReserved!=="never"),Ke.computed=!!qe,Ee&&(Ke.optional=ze),c=this.finishNode(Ke,"MemberExpression")}else if(!j&&this.eat(z.parenL)){var Pt=new a,Kt=this.yieldPos,Tn=this.awaitPos,Wn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var di=this.parseExprList(z.parenR,this.options.ecmaVersion>=8,!1,Pt);if(X&&!ze&&!this.canInsertSemicolon()&&this.eat(z.arrow))return this.checkPatternErrors(Pt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Kt,this.awaitPos=Tn,this.awaitIdentPos=Wn,this.parseArrowExpression(this.startNodeAt(A,B),di,!0,pe);this.checkExpressionErrors(Pt,!0),this.yieldPos=Kt||this.yieldPos,this.awaitPos=Tn||this.awaitPos,this.awaitIdentPos=Wn||this.awaitIdentPos;var Gn=this.startNodeAt(A,B);Gn.callee=c,Gn.arguments=di,Ee&&(Gn.optional=ze),c=this.finishNode(Gn,"CallExpression")}else if(this.type===z.backQuote){(ze||ce)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Zn=this.startNodeAt(A,B);Zn.tag=c,Zn.quasi=this.parseTemplate({isTagged:!0}),c=this.finishNode(Zn,"TaggedTemplateExpression")}return c},C.parseExprAtom=function(c,A){this.type===z.slash&&this.readRegexp();var B,j=this.potentialArrowAt===this.start;switch(this.type){case z._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),B=this.startNode(),this.next(),this.type===z.parenL&&!this.allowDirectSuper&&this.raise(B.start,"super() call outside constructor of a subclass"),this.type!==z.dot&&this.type!==z.bracketL&&this.type!==z.parenL&&this.unexpected(),this.finishNode(B,"Super");case z._this:return B=this.startNode(),this.next(),this.finishNode(B,"ThisExpression");case z.name:var X=this.start,ce=this.startLoc,pe=this.containsEsc,Ee=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!pe&&Ee.name==="async"&&!this.canInsertSemicolon()&&this.eat(z._function))return this.overrideContext(I.f_expr),this.parseFunction(this.startNodeAt(X,ce),0,!1,!0,A);if(j&&!this.canInsertSemicolon()){if(this.eat(z.arrow))return this.parseArrowExpression(this.startNodeAt(X,ce),[Ee],!1,A);if(this.options.ecmaVersion>=8&&Ee.name==="async"&&this.type===z.name&&!pe&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Ee=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(z.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(X,ce),[Ee],!0,A)}return Ee;case z.regexp:var ze=this.value;return B=this.parseLiteral(ze.value),B.regex={pattern:ze.pattern,flags:ze.flags},B;case z.num:case z.string:return this.parseLiteral(this.value);case z._null:case z._true:case z._false:return B=this.startNode(),B.value=this.type===z._null?null:this.type===z._true,B.raw=this.type.keyword,this.next(),this.finishNode(B,"Literal");case z.parenL:var qe=this.start,Ke=this.parseParenAndDistinguishExpression(j,A);return c&&(c.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Ke)&&(c.parenthesizedAssign=qe),c.parenthesizedBind<0&&(c.parenthesizedBind=qe)),Ke;case z.bracketL:return B=this.startNode(),this.next(),B.elements=this.parseExprList(z.bracketR,!0,!0,c),this.finishNode(B,"ArrayExpression");case z.braceL:return this.overrideContext(I.b_expr),this.parseObj(!1,c);case z._function:return B=this.startNode(),this.next(),this.parseFunction(B,0);case z._class:return this.parseClass(this.startNode(),!1);case z._new:return this.parseNew();case z.backQuote:return this.parseTemplate();case z._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},C.parseExprImport=function(){var c=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var A=this.parseIdent(!0);switch(this.type){case z.parenL:return this.parseDynamicImport(c);case z.dot:return c.meta=A,this.parseImportMeta(c);default:this.unexpected()}},C.parseDynamicImport=function(c){if(this.next(),c.source=this.parseMaybeAssign(),!this.eat(z.parenR)){var A=this.start;this.eat(z.comma)&&this.eat(z.parenR)?this.raiseRecoverable(A,"Trailing comma is not allowed in import()"):this.unexpected(A)}return this.finishNode(c,"ImportExpression")},C.parseImportMeta=function(c){this.next();var A=this.containsEsc;return c.property=this.parseIdent(!0),c.property.name!=="meta"&&this.raiseRecoverable(c.property.start,"The only valid meta property for import is 'import.meta'"),A&&this.raiseRecoverable(c.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(c.start,"Cannot use 'import.meta' outside a module"),this.finishNode(c,"MetaProperty")},C.parseLiteral=function(c){var A=this.startNode();return A.value=c,A.raw=this.input.slice(this.start,this.end),A.raw.charCodeAt(A.raw.length-1)===110&&(A.bigint=A.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(A,"Literal")},C.parseParenExpression=function(){this.expect(z.parenL);var c=this.parseExpression();return this.expect(z.parenR),c},C.parseParenAndDistinguishExpression=function(c,A){var B=this.start,j=this.startLoc,X,ce=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var pe=this.start,Ee=this.startLoc,ze=[],qe=!0,Ke=!1,Pt=new a,Kt=this.yieldPos,Tn=this.awaitPos,Wn;for(this.yieldPos=0,this.awaitPos=0;this.type!==z.parenR;)if(qe?qe=!1:this.expect(z.comma),ce&&this.afterTrailingComma(z.parenR,!0)){Ke=!0;break}else if(this.type===z.ellipsis){Wn=this.start,ze.push(this.parseParenItem(this.parseRestBinding())),this.type===z.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else ze.push(this.parseMaybeAssign(!1,Pt,this.parseParenItem));var di=this.lastTokEnd,Gn=this.lastTokEndLoc;if(this.expect(z.parenR),c&&!this.canInsertSemicolon()&&this.eat(z.arrow))return this.checkPatternErrors(Pt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Kt,this.awaitPos=Tn,this.parseParenArrowList(B,j,ze,A);(!ze.length||Ke)&&this.unexpected(this.lastTokStart),Wn&&this.unexpected(Wn),this.checkExpressionErrors(Pt,!0),this.yieldPos=Kt||this.yieldPos,this.awaitPos=Tn||this.awaitPos,ze.length>1?(X=this.startNodeAt(pe,Ee),X.expressions=ze,this.finishNodeAt(X,"SequenceExpression",di,Gn)):X=ze[0]}else X=this.parseParenExpression();if(this.options.preserveParens){var Zn=this.startNodeAt(B,j);return Zn.expression=X,this.finishNode(Zn,"ParenthesizedExpression")}else return X},C.parseParenItem=function(c){return c},C.parseParenArrowList=function(c,A,B,j){return this.parseArrowExpression(this.startNodeAt(c,A),B,!1,j)};var w=[];C.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var c=this.startNode(),A=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(z.dot)){c.meta=A;var B=this.containsEsc;return c.property=this.parseIdent(!0),c.property.name!=="target"&&this.raiseRecoverable(c.property.start,"The only valid meta property for new is 'new.target'"),B&&this.raiseRecoverable(c.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(c.start,"'new.target' can only be used in functions and class static block"),this.finishNode(c,"MetaProperty")}var j=this.start,X=this.startLoc,ce=this.type===z._import;return c.callee=this.parseSubscripts(this.parseExprAtom(),j,X,!0,!1),ce&&c.callee.type==="ImportExpression"&&this.raise(j,"Cannot use new with import()"),this.eat(z.parenL)?c.arguments=this.parseExprList(z.parenR,this.options.ecmaVersion>=8,!1):c.arguments=w,this.finishNode(c,"NewExpression")},C.parseTemplateElement=function(c){var A=c.isTagged,B=this.startNode();return this.type===z.invalidTemplate?(A||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),B.value={raw:this.value,cooked:null}):B.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),B.tail=this.type===z.backQuote,this.finishNode(B,"TemplateElement")},C.parseTemplate=function(c){c===void 0&&(c={});var A=c.isTagged;A===void 0&&(A=!1);var B=this.startNode();this.next(),B.expressions=[];var j=this.parseTemplateElement({isTagged:A});for(B.quasis=[j];!j.tail;)this.type===z.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(z.dollarBraceL),B.expressions.push(this.parseExpression()),this.expect(z.braceR),B.quasis.push(j=this.parseTemplateElement({isTagged:A}));return this.next(),this.finishNode(B,"TemplateLiteral")},C.isAsyncProp=function(c){return!c.computed&&c.key.type==="Identifier"&&c.key.name==="async"&&(this.type===z.name||this.type===z.num||this.type===z.string||this.type===z.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===z.star)&&!Pe.test(this.input.slice(this.lastTokEnd,this.start))},C.parseObj=function(c,A){var B=this.startNode(),j=!0,X={};for(B.properties=[],this.next();!this.eat(z.braceR);){if(j)j=!1;else if(this.expect(z.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(z.braceR))break;var ce=this.parseProperty(c,A);c||this.checkPropClash(ce,X,A),B.properties.push(ce)}return this.finishNode(B,c?"ObjectPattern":"ObjectExpression")},C.parseProperty=function(c,A){var B=this.startNode(),j,X,ce,pe;if(this.options.ecmaVersion>=9&&this.eat(z.ellipsis))return c?(B.argument=this.parseIdent(!1),this.type===z.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(B,"RestElement")):(B.argument=this.parseMaybeAssign(!1,A),this.type===z.comma&&A&&A.trailingComma<0&&(A.trailingComma=this.start),this.finishNode(B,"SpreadElement"));this.options.ecmaVersion>=6&&(B.method=!1,B.shorthand=!1,(c||A)&&(ce=this.start,pe=this.startLoc),c||(j=this.eat(z.star)));var Ee=this.containsEsc;return this.parsePropertyName(B),!c&&!Ee&&this.options.ecmaVersion>=8&&!j&&this.isAsyncProp(B)?(X=!0,j=this.options.ecmaVersion>=9&&this.eat(z.star),this.parsePropertyName(B,A)):X=!1,this.parsePropertyValue(B,c,j,X,ce,pe,A,Ee),this.finishNode(B,"Property")},C.parsePropertyValue=function(c,A,B,j,X,ce,pe,Ee){if((B||j)&&this.type===z.colon&&this.unexpected(),this.eat(z.colon))c.value=A?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,pe),c.kind="init";else if(this.options.ecmaVersion>=6&&this.type===z.parenL)A&&this.unexpected(),c.kind="init",c.method=!0,c.value=this.parseMethod(B,j);else if(!A&&!Ee&&this.options.ecmaVersion>=5&&!c.computed&&c.key.type==="Identifier"&&(c.key.name==="get"||c.key.name==="set")&&this.type!==z.comma&&this.type!==z.braceR&&this.type!==z.eq){(B||j)&&this.unexpected(),c.kind=c.key.name,this.parsePropertyName(c),c.value=this.parseMethod(!1);var ze=c.kind==="get"?0:1;if(c.value.params.length!==ze){var qe=c.value.start;c.kind==="get"?this.raiseRecoverable(qe,"getter should have no params"):this.raiseRecoverable(qe,"setter should have exactly one param")}else c.kind==="set"&&c.value.params[0].type==="RestElement"&&this.raiseRecoverable(c.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!c.computed&&c.key.type==="Identifier"?((B||j)&&this.unexpected(),this.checkUnreserved(c.key),c.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=X),c.kind="init",A?c.value=this.parseMaybeDefault(X,ce,this.copyNode(c.key)):this.type===z.eq&&pe?(pe.shorthandAssign<0&&(pe.shorthandAssign=this.start),c.value=this.parseMaybeDefault(X,ce,this.copyNode(c.key))):c.value=this.copyNode(c.key),c.shorthand=!0):this.unexpected()},C.parsePropertyName=function(c){if(this.options.ecmaVersion>=6){if(this.eat(z.bracketL))return c.computed=!0,c.key=this.parseMaybeAssign(),this.expect(z.bracketR),c.key;c.computed=!1}return c.key=this.type===z.num||this.type===z.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},C.initFunction=function(c){c.id=null,this.options.ecmaVersion>=6&&(c.generator=c.expression=!1),this.options.ecmaVersion>=8&&(c.async=!1)},C.parseMethod=function(c,A,B){var j=this.startNode(),X=this.yieldPos,ce=this.awaitPos,pe=this.awaitIdentPos;return this.initFunction(j),this.options.ecmaVersion>=6&&(j.generator=c),this.options.ecmaVersion>=8&&(j.async=!!A),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ui(A,j.generator)|Bi|(B?fi:0)),this.expect(z.parenL),j.params=this.parseBindingList(z.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(j,!1,!0,!1),this.yieldPos=X,this.awaitPos=ce,this.awaitIdentPos=pe,this.finishNode(j,"FunctionExpression")},C.parseArrowExpression=function(c,A,B,j){var X=this.yieldPos,ce=this.awaitPos,pe=this.awaitIdentPos;return this.enterScope(Ui(B,!1)|ur),this.initFunction(c),this.options.ecmaVersion>=8&&(c.async=!!B),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,c.params=this.toAssignableList(A,!0),this.parseFunctionBody(c,!0,!1,j),this.yieldPos=X,this.awaitPos=ce,this.awaitIdentPos=pe,this.finishNode(c,"ArrowFunctionExpression")},C.parseFunctionBody=function(c,A,B,j){var X=A&&this.type!==z.braceL,ce=this.strict,pe=!1;if(X)c.body=this.parseMaybeAssign(j),c.expression=!0,this.checkParams(c,!1);else{var Ee=this.options.ecmaVersion>=7&&!this.isSimpleParamList(c.params);(!ce||Ee)&&(pe=this.strictDirective(this.end),pe&&Ee&&this.raiseRecoverable(c.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ze=this.labels;this.labels=[],pe&&(this.strict=!0),this.checkParams(c,!ce&&!pe&&!A&&!B&&this.isSimpleParamList(c.params)),this.strict&&c.id&&this.checkLValSimple(c.id,tt),c.body=this.parseBlock(!1,void 0,pe&&!ce),c.expression=!1,this.adaptDirectivePrologue(c.body.body),this.labels=ze}this.exitScope()},C.isSimpleParamList=function(c){for(var A=0,B=c;A<B.length;A+=1){var j=B[A];if(j.type!=="Identifier")return!1}return!0},C.checkParams=function(c,A){for(var B=Object.create(null),j=0,X=c.params;j<X.length;j+=1){var ce=X[j];this.checkLValInnerPattern(ce,kt,A?null:B)}},C.parseExprList=function(c,A,B,j){for(var X=[],ce=!0;!this.eat(c);){if(ce)ce=!1;else if(this.expect(z.comma),A&&this.afterTrailingComma(c))break;var pe=void 0;B&&this.type===z.comma?pe=null:this.type===z.ellipsis?(pe=this.parseSpread(j),j&&this.type===z.comma&&j.trailingComma<0&&(j.trailingComma=this.start)):pe=this.parseMaybeAssign(!1,j),X.push(pe)}return X},C.checkUnreserved=function(c){var A=c.start,B=c.end,j=c.name;if(this.inGenerator&&j==="yield"&&this.raiseRecoverable(A,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&j==="await"&&this.raiseRecoverable(A,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&j==="arguments"&&this.raiseRecoverable(A,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(j==="arguments"||j==="await")&&this.raise(A,"Cannot use "+j+" in class static initialization block"),this.keywords.test(j)&&this.raise(A,"Unexpected keyword '"+j+"'"),!(this.options.ecmaVersion<6&&this.input.slice(A,B).indexOf("\\")!==-1)){var X=this.strict?this.reservedWordsStrict:this.reservedWords;X.test(j)&&(!this.inAsync&&j==="await"&&this.raiseRecoverable(A,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(A,"The keyword '"+j+"' is reserved"))}},C.parseIdent=function(c,A){var B=this.startNode();return this.type===z.name?B.name=this.value:this.type.keyword?(B.name=this.type.keyword,(B.name==="class"||B.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!c),this.finishNode(B,"Identifier"),c||(this.checkUnreserved(B),B.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=B.start)),B},C.parsePrivateIdent=function(){var c=this.startNode();return this.type===z.privateId?c.name=this.value:this.unexpected(),this.next(),this.finishNode(c,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(c),c},C.parseYield=function(c){this.yieldPos||(this.yieldPos=this.start);var A=this.startNode();return this.next(),this.type===z.semi||this.canInsertSemicolon()||this.type!==z.star&&!this.type.startsExpr?(A.delegate=!1,A.argument=null):(A.delegate=this.eat(z.star),A.argument=this.parseMaybeAssign(c)),this.finishNode(A,"YieldExpression")},C.parseAwait=function(c){this.awaitPos||(this.awaitPos=this.start);var A=this.startNode();return this.next(),A.argument=this.parseMaybeUnary(null,!0,!1,c),this.finishNode(A,"AwaitExpression")};var k=r.prototype;k.raise=function(c,A){var B=Dt(this.input,c);A+=" ("+B.line+":"+B.column+")";var j=new SyntaxError(A);throw j.pos=c,j.loc=B,j.raisedAt=this.pos,j},k.raiseRecoverable=k.raise,k.curPosition=function(){if(this.options.locations)return new ut(this.curLine,this.pos-this.lineStart)};var T=r.prototype,M=function(A){this.flags=A,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};T.enterScope=function(c){this.scopeStack.push(new M(c))},T.exitScope=function(){this.scopeStack.pop()},T.treatFunctionsAsVarInScope=function(c){return c.flags&We||!this.inModule&&c.flags&xn},T.declareName=function(c,A,B){var j=!1;if(A===dt){var X=this.currentScope();j=X.lexical.indexOf(c)>-1||X.functions.indexOf(c)>-1||X.var.indexOf(c)>-1,X.lexical.push(c),this.inModule&&X.flags&xn&&delete this.undefinedExports[c]}else if(A===Ct){var ce=this.currentScope();ce.lexical.push(c)}else if(A===St){var pe=this.currentScope();this.treatFunctionsAsVar?j=pe.lexical.indexOf(c)>-1:j=pe.lexical.indexOf(c)>-1||pe.var.indexOf(c)>-1,pe.functions.push(c)}else for(var Ee=this.scopeStack.length-1;Ee>=0;--Ee){var ze=this.scopeStack[Ee];if(ze.lexical.indexOf(c)>-1&&!(ze.flags&En&&ze.lexical[0]===c)||!this.treatFunctionsAsVarInScope(ze)&&ze.functions.indexOf(c)>-1){j=!0;break}if(ze.var.push(c),this.inModule&&ze.flags&xn&&delete this.undefinedExports[c],ze.flags&Vi)break}j&&this.raiseRecoverable(B,"Identifier '"+c+"' has already been declared")},T.checkLocalExport=function(c){this.scopeStack[0].lexical.indexOf(c.name)===-1&&this.scopeStack[0].var.indexOf(c.name)===-1&&(this.undefinedExports[c.name]=c)},T.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},T.currentVarScope=function(){for(var c=this.scopeStack.length-1;;c--){var A=this.scopeStack[c];if(A.flags&Vi)return A}},T.currentThisScope=function(){for(var c=this.scopeStack.length-1;;c--){var A=this.scopeStack[c];if(A.flags&Vi&&!(A.flags&ur))return A}};var N=function(A,B,j){this.type="",this.start=B,this.end=0,A.options.locations&&(this.loc=new vt(A,j)),A.options.directSourceFile&&(this.sourceFile=A.options.directSourceFile),A.options.ranges&&(this.range=[B,0])},L=r.prototype;L.startNode=function(){return new N(this,this.start,this.startLoc)},L.startNodeAt=function(c,A){return new N(this,c,A)};function O(c,A,B,j){return c.type=A,c.end=B,this.options.locations&&(c.loc.end=j),this.options.ranges&&(c.range[1]=B),c}L.finishNode=function(c,A){return O.call(this,c,A,this.lastTokEnd,this.lastTokEndLoc)},L.finishNodeAt=function(c,A,B,j){return O.call(this,c,A,B,j)},L.copyNode=function(c){var A=new N(this,c.start,this.startLoc);for(var B in c)A[B]=c[B];return A};var D="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",U=D+" Extended_Pictographic",R=U,H=R+" EBase EComp EMod EPres ExtPict",q=H,W={9:D,10:U,11:R,12:H,13:q},G="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Y="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",se=Y+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",he=se+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ve=he+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",we=ve+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ae={9:Y,10:se,11:he,12:ve,13:we},oe={};function xe(c){var A=oe[c]={binary:Le(W[c]+" "+G),nonBinary:{General_Category:Le(G),Script:Le(ae[c])}};A.nonBinary.Script_Extensions=A.nonBinary.Script,A.nonBinary.gc=A.nonBinary.General_Category,A.nonBinary.sc=A.nonBinary.Script,A.nonBinary.scx=A.nonBinary.Script_Extensions}for(var Se=0,Ie=[9,10,11,12,13];Se<Ie.length;Se+=1){var Ne=Ie[Se];xe(Ne)}var ge=r.prototype,Me=function(A){this.parser=A,this.validFlags="gim"+(A.options.ecmaVersion>=6?"uy":"")+(A.options.ecmaVersion>=9?"s":"")+(A.options.ecmaVersion>=13?"d":""),this.unicodeProperties=oe[A.options.ecmaVersion>=13?13:A.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Me.prototype.reset=function(A,B,j){var X=j.indexOf("u")!==-1;this.start=A|0,this.source=B+"",this.flags=j,this.switchU=X&&this.parser.options.ecmaVersion>=6,this.switchN=X&&this.parser.options.ecmaVersion>=9},Me.prototype.raise=function(A){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+A)},Me.prototype.at=function(A,B){B===void 0&&(B=!1);var j=this.source,X=j.length;if(A>=X)return-1;var ce=j.charCodeAt(A);if(!(B||this.switchU)||ce<=55295||ce>=57344||A+1>=X)return ce;var pe=j.charCodeAt(A+1);return pe>=56320&&pe<=57343?(ce<<10)+pe-56613888:ce},Me.prototype.nextIndex=function(A,B){B===void 0&&(B=!1);var j=this.source,X=j.length;if(A>=X)return X;var ce=j.charCodeAt(A),pe;return!(B||this.switchU)||ce<=55295||ce>=57344||A+1>=X||(pe=j.charCodeAt(A+1))<56320||pe>57343?A+1:A+2},Me.prototype.current=function(A){return A===void 0&&(A=!1),this.at(this.pos,A)},Me.prototype.lookahead=function(A){return A===void 0&&(A=!1),this.at(this.nextIndex(this.pos,A),A)},Me.prototype.advance=function(A){A===void 0&&(A=!1),this.pos=this.nextIndex(this.pos,A)},Me.prototype.eat=function(A,B){return B===void 0&&(B=!1),this.current(B)===A?(this.advance(B),!0):!1},ge.validateRegExpFlags=function(c){for(var A=c.validFlags,B=c.flags,j=0;j<B.length;j++){var X=B.charAt(j);A.indexOf(X)===-1&&this.raise(c.start,"Invalid regular expression flag"),B.indexOf(X,j+1)>-1&&this.raise(c.start,"Duplicate regular expression flag")}},ge.validateRegExpPattern=function(c){this.regexp_pattern(c),!c.switchN&&this.options.ecmaVersion>=9&&c.groupNames.length>0&&(c.switchN=!0,this.regexp_pattern(c))},ge.regexp_pattern=function(c){c.pos=0,c.lastIntValue=0,c.lastStringValue="",c.lastAssertionIsQuantifiable=!1,c.numCapturingParens=0,c.maxBackReference=0,c.groupNames.length=0,c.backReferenceNames.length=0,this.regexp_disjunction(c),c.pos!==c.source.length&&(c.eat(41)&&c.raise("Unmatched ')'"),(c.eat(93)||c.eat(125))&&c.raise("Lone quantifier brackets")),c.maxBackReference>c.numCapturingParens&&c.raise("Invalid escape");for(var A=0,B=c.backReferenceNames;A<B.length;A+=1){var j=B[A];c.groupNames.indexOf(j)===-1&&c.raise("Invalid named capture referenced")}},ge.regexp_disjunction=function(c){for(this.regexp_alternative(c);c.eat(124);)this.regexp_alternative(c);this.regexp_eatQuantifier(c,!0)&&c.raise("Nothing to repeat"),c.eat(123)&&c.raise("Lone quantifier brackets")},ge.regexp_alternative=function(c){for(;c.pos<c.source.length&&this.regexp_eatTerm(c););},ge.regexp_eatTerm=function(c){return this.regexp_eatAssertion(c)?(c.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(c)&&c.switchU&&c.raise("Invalid quantifier"),!0):(c.switchU?this.regexp_eatAtom(c):this.regexp_eatExtendedAtom(c))?(this.regexp_eatQuantifier(c),!0):!1},ge.regexp_eatAssertion=function(c){var A=c.pos;if(c.lastAssertionIsQuantifiable=!1,c.eat(94)||c.eat(36))return!0;if(c.eat(92)){if(c.eat(66)||c.eat(98))return!0;c.pos=A}if(c.eat(40)&&c.eat(63)){var B=!1;if(this.options.ecmaVersion>=9&&(B=c.eat(60)),c.eat(61)||c.eat(33))return this.regexp_disjunction(c),c.eat(41)||c.raise("Unterminated group"),c.lastAssertionIsQuantifiable=!B,!0}return c.pos=A,!1},ge.regexp_eatQuantifier=function(c,A){return A===void 0&&(A=!1),this.regexp_eatQuantifierPrefix(c,A)?(c.eat(63),!0):!1},ge.regexp_eatQuantifierPrefix=function(c,A){return c.eat(42)||c.eat(43)||c.eat(63)||this.regexp_eatBracedQuantifier(c,A)},ge.regexp_eatBracedQuantifier=function(c,A){var B=c.pos;if(c.eat(123)){var j=0,X=-1;if(this.regexp_eatDecimalDigits(c)&&(j=c.lastIntValue,c.eat(44)&&this.regexp_eatDecimalDigits(c)&&(X=c.lastIntValue),c.eat(125)))return X!==-1&&X<j&&!A&&c.raise("numbers out of order in {} quantifier"),!0;c.switchU&&!A&&c.raise("Incomplete quantifier"),c.pos=B}return!1},ge.regexp_eatAtom=function(c){return this.regexp_eatPatternCharacters(c)||c.eat(46)||this.regexp_eatReverseSolidusAtomEscape(c)||this.regexp_eatCharacterClass(c)||this.regexp_eatUncapturingGroup(c)||this.regexp_eatCapturingGroup(c)},ge.regexp_eatReverseSolidusAtomEscape=function(c){var A=c.pos;if(c.eat(92)){if(this.regexp_eatAtomEscape(c))return!0;c.pos=A}return!1},ge.regexp_eatUncapturingGroup=function(c){var A=c.pos;if(c.eat(40)){if(c.eat(63)&&c.eat(58)){if(this.regexp_disjunction(c),c.eat(41))return!0;c.raise("Unterminated group")}c.pos=A}return!1},ge.regexp_eatCapturingGroup=function(c){if(c.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(c):c.current()===63&&c.raise("Invalid group"),this.regexp_disjunction(c),c.eat(41))return c.numCapturingParens+=1,!0;c.raise("Unterminated group")}return!1},ge.regexp_eatExtendedAtom=function(c){return c.eat(46)||this.regexp_eatReverseSolidusAtomEscape(c)||this.regexp_eatCharacterClass(c)||this.regexp_eatUncapturingGroup(c)||this.regexp_eatCapturingGroup(c)||this.regexp_eatInvalidBracedQuantifier(c)||this.regexp_eatExtendedPatternCharacter(c)},ge.regexp_eatInvalidBracedQuantifier=function(c){return this.regexp_eatBracedQuantifier(c,!0)&&c.raise("Nothing to repeat"),!1},ge.regexp_eatSyntaxCharacter=function(c){var A=c.current();return Re(A)?(c.lastIntValue=A,c.advance(),!0):!1};function Re(c){return c===36||c>=40&&c<=43||c===46||c===63||c>=91&&c<=94||c>=123&&c<=125}ge.regexp_eatPatternCharacters=function(c){for(var A=c.pos,B=0;(B=c.current())!==-1&&!Re(B);)c.advance();return c.pos!==A},ge.regexp_eatExtendedPatternCharacter=function(c){var A=c.current();return A!==-1&&A!==36&&!(A>=40&&A<=43)&&A!==46&&A!==63&&A!==91&&A!==94&&A!==124?(c.advance(),!0):!1},ge.regexp_groupSpecifier=function(c){if(c.eat(63)){if(this.regexp_eatGroupName(c)){c.groupNames.indexOf(c.lastStringValue)!==-1&&c.raise("Duplicate capture group name"),c.groupNames.push(c.lastStringValue);return}c.raise("Invalid group")}},ge.regexp_eatGroupName=function(c){if(c.lastStringValue="",c.eat(60)){if(this.regexp_eatRegExpIdentifierName(c)&&c.eat(62))return!0;c.raise("Invalid capture group name")}return!1},ge.regexp_eatRegExpIdentifierName=function(c){if(c.lastStringValue="",this.regexp_eatRegExpIdentifierStart(c)){for(c.lastStringValue+=be(c.lastIntValue);this.regexp_eatRegExpIdentifierPart(c);)c.lastStringValue+=be(c.lastIntValue);return!0}return!1},ge.regexp_eatRegExpIdentifierStart=function(c){var A=c.pos,B=this.options.ecmaVersion>=11,j=c.current(B);return c.advance(B),j===92&&this.regexp_eatRegExpUnicodeEscapeSequence(c,B)&&(j=c.lastIntValue),Be(j)?(c.lastIntValue=j,!0):(c.pos=A,!1)};function Be(c){return me(c,!0)||c===36||c===95}ge.regexp_eatRegExpIdentifierPart=function(c){var A=c.pos,B=this.options.ecmaVersion>=11,j=c.current(B);return c.advance(B),j===92&&this.regexp_eatRegExpUnicodeEscapeSequence(c,B)&&(j=c.lastIntValue),rt(j)?(c.lastIntValue=j,!0):(c.pos=A,!1)};function rt(c){return te(c,!0)||c===36||c===95||c===8204||c===8205}ge.regexp_eatAtomEscape=function(c){return this.regexp_eatBackReference(c)||this.regexp_eatCharacterClassEscape(c)||this.regexp_eatCharacterEscape(c)||c.switchN&&this.regexp_eatKGroupName(c)?!0:(c.switchU&&(c.current()===99&&c.raise("Invalid unicode escape"),c.raise("Invalid escape")),!1)},ge.regexp_eatBackReference=function(c){var A=c.pos;if(this.regexp_eatDecimalEscape(c)){var B=c.lastIntValue;if(c.switchU)return B>c.maxBackReference&&(c.maxBackReference=B),!0;if(B<=c.numCapturingParens)return!0;c.pos=A}return!1},ge.regexp_eatKGroupName=function(c){if(c.eat(107)){if(this.regexp_eatGroupName(c))return c.backReferenceNames.push(c.lastStringValue),!0;c.raise("Invalid named reference")}return!1},ge.regexp_eatCharacterEscape=function(c){return this.regexp_eatControlEscape(c)||this.regexp_eatCControlLetter(c)||this.regexp_eatZero(c)||this.regexp_eatHexEscapeSequence(c)||this.regexp_eatRegExpUnicodeEscapeSequence(c,!1)||!c.switchU&&this.regexp_eatLegacyOctalEscapeSequence(c)||this.regexp_eatIdentityEscape(c)},ge.regexp_eatCControlLetter=function(c){var A=c.pos;if(c.eat(99)){if(this.regexp_eatControlLetter(c))return!0;c.pos=A}return!1},ge.regexp_eatZero=function(c){return c.current()===48&&!ht(c.lookahead())?(c.lastIntValue=0,c.advance(),!0):!1},ge.regexp_eatControlEscape=function(c){var A=c.current();return A===116?(c.lastIntValue=9,c.advance(),!0):A===110?(c.lastIntValue=10,c.advance(),!0):A===118?(c.lastIntValue=11,c.advance(),!0):A===102?(c.lastIntValue=12,c.advance(),!0):A===114?(c.lastIntValue=13,c.advance(),!0):!1},ge.regexp_eatControlLetter=function(c){var A=c.current();return ot(A)?(c.lastIntValue=A%32,c.advance(),!0):!1};function ot(c){return c>=65&&c<=90||c>=97&&c<=122}ge.regexp_eatRegExpUnicodeEscapeSequence=function(c,A){A===void 0&&(A=!1);var B=c.pos,j=A||c.switchU;if(c.eat(117)){if(this.regexp_eatFixedHexDigits(c,4)){var X=c.lastIntValue;if(j&&X>=55296&&X<=56319){var ce=c.pos;if(c.eat(92)&&c.eat(117)&&this.regexp_eatFixedHexDigits(c,4)){var pe=c.lastIntValue;if(pe>=56320&&pe<=57343)return c.lastIntValue=(X-55296)*1024+(pe-56320)+65536,!0}c.pos=ce,c.lastIntValue=X}return!0}if(j&&c.eat(123)&&this.regexp_eatHexDigits(c)&&c.eat(125)&&st(c.lastIntValue))return!0;j&&c.raise("Invalid unicode escape"),c.pos=B}return!1};function st(c){return c>=0&&c<=1114111}ge.regexp_eatIdentityEscape=function(c){if(c.switchU)return this.regexp_eatSyntaxCharacter(c)?!0:c.eat(47)?(c.lastIntValue=47,!0):!1;var A=c.current();return A!==99&&(!c.switchN||A!==107)?(c.lastIntValue=A,c.advance(),!0):!1},ge.regexp_eatDecimalEscape=function(c){c.lastIntValue=0;var A=c.current();if(A>=49&&A<=57){do c.lastIntValue=10*c.lastIntValue+(A-48),c.advance();while((A=c.current())>=48&&A<=57);return!0}return!1},ge.regexp_eatCharacterClassEscape=function(c){var A=c.current();if(Ge(A))return c.lastIntValue=-1,c.advance(),!0;if(c.switchU&&this.options.ecmaVersion>=9&&(A===80||A===112)){if(c.lastIntValue=-1,c.advance(),c.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(c)&&c.eat(125))return!0;c.raise("Invalid property name")}return!1};function Ge(c){return c===100||c===68||c===115||c===83||c===119||c===87}ge.regexp_eatUnicodePropertyValueExpression=function(c){var A=c.pos;if(this.regexp_eatUnicodePropertyName(c)&&c.eat(61)){var B=c.lastStringValue;if(this.regexp_eatUnicodePropertyValue(c)){var j=c.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(c,B,j),!0}}if(c.pos=A,this.regexp_eatLoneUnicodePropertyNameOrValue(c)){var X=c.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(c,X),!0}return!1},ge.regexp_validateUnicodePropertyNameAndValue=function(c,A,B){le(c.unicodeProperties.nonBinary,A)||c.raise("Invalid property name"),c.unicodeProperties.nonBinary[A].test(B)||c.raise("Invalid property value")},ge.regexp_validateUnicodePropertyNameOrValue=function(c,A){c.unicodeProperties.binary.test(A)||c.raise("Invalid property name")},ge.regexp_eatUnicodePropertyName=function(c){var A=0;for(c.lastStringValue="";je(A=c.current());)c.lastStringValue+=be(A),c.advance();return c.lastStringValue!==""};function je(c){return ot(c)||c===95}ge.regexp_eatUnicodePropertyValue=function(c){var A=0;for(c.lastStringValue="";ct(A=c.current());)c.lastStringValue+=be(A),c.advance();return c.lastStringValue!==""};function ct(c){return je(c)||ht(c)}ge.regexp_eatLoneUnicodePropertyNameOrValue=function(c){return this.regexp_eatUnicodePropertyValue(c)},ge.regexp_eatCharacterClass=function(c){if(c.eat(91)){if(c.eat(94),this.regexp_classRanges(c),c.eat(93))return!0;c.raise("Unterminated character class")}return!1},ge.regexp_classRanges=function(c){for(;this.regexp_eatClassAtom(c);){var A=c.lastIntValue;if(c.eat(45)&&this.regexp_eatClassAtom(c)){var B=c.lastIntValue;c.switchU&&(A===-1||B===-1)&&c.raise("Invalid character class"),A!==-1&&B!==-1&&A>B&&c.raise("Range out of order in character class")}}},ge.regexp_eatClassAtom=function(c){var A=c.pos;if(c.eat(92)){if(this.regexp_eatClassEscape(c))return!0;if(c.switchU){var B=c.current();(B===99||Ht(B))&&c.raise("Invalid class escape"),c.raise("Invalid escape")}c.pos=A}var j=c.current();return j!==93?(c.lastIntValue=j,c.advance(),!0):!1},ge.regexp_eatClassEscape=function(c){var A=c.pos;if(c.eat(98))return c.lastIntValue=8,!0;if(c.switchU&&c.eat(45))return c.lastIntValue=45,!0;if(!c.switchU&&c.eat(99)){if(this.regexp_eatClassControlLetter(c))return!0;c.pos=A}return this.regexp_eatCharacterClassEscape(c)||this.regexp_eatCharacterEscape(c)},ge.regexp_eatClassControlLetter=function(c){var A=c.current();return ht(A)||A===95?(c.lastIntValue=A%32,c.advance(),!0):!1},ge.regexp_eatHexEscapeSequence=function(c){var A=c.pos;if(c.eat(120)){if(this.regexp_eatFixedHexDigits(c,2))return!0;c.switchU&&c.raise("Invalid escape"),c.pos=A}return!1},ge.regexp_eatDecimalDigits=function(c){var A=c.pos,B=0;for(c.lastIntValue=0;ht(B=c.current());)c.lastIntValue=10*c.lastIntValue+(B-48),c.advance();return c.pos!==A};function ht(c){return c>=48&&c<=57}ge.regexp_eatHexDigits=function(c){var A=c.pos,B=0;for(c.lastIntValue=0;mt(B=c.current());)c.lastIntValue=16*c.lastIntValue+Bt(B),c.advance();return c.pos!==A};function mt(c){return c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102}function Bt(c){return c>=65&&c<=70?10+(c-65):c>=97&&c<=102?10+(c-97):c-48}ge.regexp_eatLegacyOctalEscapeSequence=function(c){if(this.regexp_eatOctalDigit(c)){var A=c.lastIntValue;if(this.regexp_eatOctalDigit(c)){var B=c.lastIntValue;A<=3&&this.regexp_eatOctalDigit(c)?c.lastIntValue=A*64+B*8+c.lastIntValue:c.lastIntValue=A*8+B}else c.lastIntValue=A;return!0}return!1},ge.regexp_eatOctalDigit=function(c){var A=c.current();return Ht(A)?(c.lastIntValue=A-48,c.advance(),!0):(c.lastIntValue=0,!1)};function Ht(c){return c>=48&&c<=55}ge.regexp_eatFixedHexDigits=function(c,A){var B=c.pos;c.lastIntValue=0;for(var j=0;j<A;++j){var X=c.current();if(!mt(X))return c.pos=B,!1;c.lastIntValue=16*c.lastIntValue+Bt(X),c.advance()}return!0};var At=function(A){this.type=A.type,this.value=A.value,this.start=A.start,this.end=A.end,A.options.locations&&(this.loc=new vt(A,A.startLoc,A.endLoc)),A.options.ranges&&(this.range=[A.start,A.end])},He=r.prototype;He.next=function(c){!c&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new At(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},He.getToken=function(){return this.next(),new At(this)},typeof Symbol!="undefined"&&(He[Symbol.iterator]=function(){var c=this;return{next:function(){var A=c.getToken();return{done:A.type===z.eof,value:A}}}}),He.nextToken=function(){var c=this.curContext();if((!c||!c.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(z.eof);if(c.override)return c.override(this);this.readToken(this.fullCharCodeAtPos())},He.readToken=function(c){return me(c,this.options.ecmaVersion>=6)||c===92?this.readWord():this.getTokenFromCode(c)},He.fullCharCodeAtPos=function(){var c=this.input.charCodeAt(this.pos);if(c<=55295||c>=56320)return c;var A=this.input.charCodeAt(this.pos+1);return A<=56319||A>=57344?c:(c<<10)+A-56613888},He.skipBlockComment=function(){var c=this.options.onComment&&this.curPosition(),A=this.pos,B=this.input.indexOf("*/",this.pos+=2);if(B===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=B+2,this.options.locations)for(var j=void 0,X=A;(j=De(this.input,X,this.pos))>-1;)++this.curLine,X=this.lineStart=j;this.options.onComment&&this.options.onComment(!0,this.input.slice(A+2,B),A,this.pos,c,this.curPosition())},He.skipLineComment=function(c){for(var A=this.pos,B=this.options.onComment&&this.curPosition(),j=this.input.charCodeAt(this.pos+=c);this.pos<this.input.length&&!Fe(j);)j=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(A+c,this.pos),A,this.pos,B,this.curPosition())},He.skipSpace=function(){e:for(;this.pos<this.input.length;){var c=this.input.charCodeAt(this.pos);switch(c){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(c>8&&c<14||c>=5760&&it.test(String.fromCharCode(c)))++this.pos;else break e}}},He.finishToken=function(c,A){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var B=this.type;this.type=c,this.value=A,this.updateContext(B)},He.readToken_dot=function(){var c=this.input.charCodeAt(this.pos+1);if(c>=48&&c<=57)return this.readNumber(!0);var A=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&c===46&&A===46?(this.pos+=3,this.finishToken(z.ellipsis)):(++this.pos,this.finishToken(z.dot))},He.readToken_slash=function(){var c=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):c===61?this.finishOp(z.assign,2):this.finishOp(z.slash,1)},He.readToken_mult_modulo_exp=function(c){var A=this.input.charCodeAt(this.pos+1),B=1,j=c===42?z.star:z.modulo;return this.options.ecmaVersion>=7&&c===42&&A===42&&(++B,j=z.starstar,A=this.input.charCodeAt(this.pos+2)),A===61?this.finishOp(z.assign,B+1):this.finishOp(j,B)},He.readToken_pipe_amp=function(c){var A=this.input.charCodeAt(this.pos+1);if(A===c){if(this.options.ecmaVersion>=12){var B=this.input.charCodeAt(this.pos+2);if(B===61)return this.finishOp(z.assign,3)}return this.finishOp(c===124?z.logicalOR:z.logicalAND,2)}return A===61?this.finishOp(z.assign,2):this.finishOp(c===124?z.bitwiseOR:z.bitwiseAND,1)},He.readToken_caret=function(){var c=this.input.charCodeAt(this.pos+1);return c===61?this.finishOp(z.assign,2):this.finishOp(z.bitwiseXOR,1)},He.readToken_plus_min=function(c){var A=this.input.charCodeAt(this.pos+1);return A===c?A===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Pe.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(z.incDec,2):A===61?this.finishOp(z.assign,2):this.finishOp(z.plusMin,1)},He.readToken_lt_gt=function(c){var A=this.input.charCodeAt(this.pos+1),B=1;return A===c?(B=c===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+B)===61?this.finishOp(z.assign,B+1):this.finishOp(z.bitShift,B)):A===33&&c===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(A===61&&(B=2),this.finishOp(z.relational,B))},He.readToken_eq_excl=function(c){var A=this.input.charCodeAt(this.pos+1);return A===61?this.finishOp(z.equality,this.input.charCodeAt(this.pos+2)===61?3:2):c===61&&A===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(z.arrow)):this.finishOp(c===61?z.eq:z.prefix,1)},He.readToken_question=function(){var c=this.options.ecmaVersion;if(c>=11){var A=this.input.charCodeAt(this.pos+1);if(A===46){var B=this.input.charCodeAt(this.pos+2);if(B<48||B>57)return this.finishOp(z.questionDot,2)}if(A===63){if(c>=12){var j=this.input.charCodeAt(this.pos+2);if(j===61)return this.finishOp(z.assign,3)}return this.finishOp(z.coalesce,2)}}return this.finishOp(z.question,1)},He.readToken_numberSign=function(){var c=this.options.ecmaVersion,A=35;if(c>=13&&(++this.pos,A=this.fullCharCodeAtPos(),me(A,!0)||A===92))return this.finishToken(z.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+be(A)+"'")},He.getTokenFromCode=function(c){switch(c){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(z.parenL);case 41:return++this.pos,this.finishToken(z.parenR);case 59:return++this.pos,this.finishToken(z.semi);case 44:return++this.pos,this.finishToken(z.comma);case 91:return++this.pos,this.finishToken(z.bracketL);case 93:return++this.pos,this.finishToken(z.bracketR);case 123:return++this.pos,this.finishToken(z.braceL);case 125:return++this.pos,this.finishToken(z.braceR);case 58:return++this.pos,this.finishToken(z.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(z.backQuote);case 48:var A=this.input.charCodeAt(this.pos+1);if(A===120||A===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(A===111||A===79)return this.readRadixNumber(8);if(A===98||A===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(c);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(c);case 124:case 38:return this.readToken_pipe_amp(c);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(c);case 60:case 62:return this.readToken_lt_gt(c);case 61:case 33:return this.readToken_eq_excl(c);case 63:return this.readToken_question();case 126:return this.finishOp(z.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+be(c)+"'")},He.finishOp=function(c,A){var B=this.input.slice(this.pos,this.pos+A);return this.pos+=A,this.finishToken(c,B)},He.readRegexp=function(){for(var c,A,B=this.pos;;){this.pos>=this.input.length&&this.raise(B,"Unterminated regular expression");var j=this.input.charAt(this.pos);if(Pe.test(j)&&this.raise(B,"Unterminated regular expression"),c)c=!1;else{if(j==="[")A=!0;else if(j==="]"&&A)A=!1;else if(j==="/"&&!A)break;c=j==="\\"}++this.pos}var X=this.input.slice(B,this.pos);++this.pos;var ce=this.pos,pe=this.readWord1();this.containsEsc&&this.unexpected(ce);var Ee=this.regexpState||(this.regexpState=new Me(this));Ee.reset(B,X,pe),this.validateRegExpFlags(Ee),this.validateRegExpPattern(Ee);var ze=null;try{ze=new RegExp(X,pe)}catch(qe){}return this.finishToken(z.regexp,{pattern:X,flags:pe,value:ze})},He.readInt=function(c,A,B){for(var j=this.options.ecmaVersion>=12&&A===void 0,X=B&&this.input.charCodeAt(this.pos)===48,ce=this.pos,pe=0,Ee=0,ze=0,qe=A==null?1/0:A;ze<qe;++ze,++this.pos){var Ke=this.input.charCodeAt(this.pos),Pt=void 0;if(j&&Ke===95){X&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Ee===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),ze===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Ee=Ke;continue}if(Ke>=97?Pt=Ke-97+10:Ke>=65?Pt=Ke-65+10:Ke>=48&&Ke<=57?Pt=Ke-48:Pt=1/0,Pt>=c)break;Ee=Ke,pe=pe*c+Pt}return j&&Ee===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ce||A!=null&&this.pos-ce!==A?null:pe};function bt(c,A){return A?parseInt(c,8):parseFloat(c.replace(/_/g,""))}function Vt(c){return typeof BigInt!="function"?null:BigInt(c.replace(/_/g,""))}He.readRadixNumber=function(c){var A=this.pos;this.pos+=2;var B=this.readInt(c);return B==null&&this.raise(this.start+2,"Expected number in radix "+c),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(B=Vt(this.input.slice(A,this.pos)),++this.pos):me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(z.num,B)},He.readNumber=function(c){var A=this.pos;!c&&this.readInt(10,void 0,!0)===null&&this.raise(A,"Invalid number");var B=this.pos-A>=2&&this.input.charCodeAt(A)===48;B&&this.strict&&this.raise(A,"Invalid number");var j=this.input.charCodeAt(this.pos);if(!B&&!c&&this.options.ecmaVersion>=11&&j===110){var X=Vt(this.input.slice(A,this.pos));return++this.pos,me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(z.num,X)}B&&/[89]/.test(this.input.slice(A,this.pos))&&(B=!1),j===46&&!B&&(++this.pos,this.readInt(10),j=this.input.charCodeAt(this.pos)),(j===69||j===101)&&!B&&(j=this.input.charCodeAt(++this.pos),(j===43||j===45)&&++this.pos,this.readInt(10)===null&&this.raise(A,"Invalid number")),me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ce=bt(this.input.slice(A,this.pos),B);return this.finishToken(z.num,ce)},He.readCodePoint=function(){var c=this.input.charCodeAt(this.pos),A;if(c===123){this.options.ecmaVersion<6&&this.unexpected();var B=++this.pos;A=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,A>1114111&&this.invalidStringToken(B,"Code point out of bounds")}else A=this.readHexChar(4);return A},He.readString=function(c){for(var A="",B=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var j=this.input.charCodeAt(this.pos);if(j===c)break;j===92?(A+=this.input.slice(B,this.pos),A+=this.readEscapedChar(!1),B=this.pos):j===8232||j===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Fe(j)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return A+=this.input.slice(B,this.pos++),this.finishToken(z.string,A)};var Gt={};He.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(c){if(c===Gt)this.readInvalidTemplateToken();else throw c}this.inTemplateElement=!1},He.invalidStringToken=function(c,A){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Gt;this.raise(c,A)},He.readTmplToken=function(){for(var c="",A=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var B=this.input.charCodeAt(this.pos);if(B===96||B===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===z.template||this.type===z.invalidTemplate)?B===36?(this.pos+=2,this.finishToken(z.dollarBraceL)):(++this.pos,this.finishToken(z.backQuote)):(c+=this.input.slice(A,this.pos),this.finishToken(z.template,c));if(B===92)c+=this.input.slice(A,this.pos),c+=this.readEscapedChar(!0),A=this.pos;else if(Fe(B)){switch(c+=this.input.slice(A,this.pos),++this.pos,B){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:c+=`
`;break;default:c+=String.fromCharCode(B);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),A=this.pos}else++this.pos}},He.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(z.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},He.readEscapedChar=function(c){var A=this.input.charCodeAt(++this.pos);switch(++this.pos,A){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return be(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),c){var B=this.pos-1;return this.invalidStringToken(B,"Invalid escape sequence in template string"),null}default:if(A>=48&&A<=55){var j=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],X=parseInt(j,8);return X>255&&(j=j.slice(0,-1),X=parseInt(j,8)),this.pos+=j.length-1,A=this.input.charCodeAt(this.pos),(j!=="0"||A===56||A===57)&&(this.strict||c)&&this.invalidStringToken(this.pos-1-j.length,c?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(X)}return Fe(A)?"":String.fromCharCode(A)}},He.readHexChar=function(c){var A=this.pos,B=this.readInt(16,c);return B===null&&this.invalidStringToken(A,"Bad character escape sequence"),B},He.readWord1=function(){this.containsEsc=!1;for(var c="",A=!0,B=this.pos,j=this.options.ecmaVersion>=6;this.pos<this.input.length;){var X=this.fullCharCodeAtPos();if(te(X,j))this.pos+=X<=65535?1:2;else if(X===92){this.containsEsc=!0,c+=this.input.slice(B,this.pos);var ce=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var pe=this.readCodePoint();(A?me:te)(pe,j)||this.invalidStringToken(ce,"Invalid Unicode escape"),c+=be(pe),B=this.pos}else break;A=!1}return c+this.input.slice(B,this.pos)},He.readWord=function(){var c=this.readWord1(),A=z.name;return this.keywords.test(c)&&(A=de[c]),this.finishToken(A,c)};var sn="8.8.0";r.acorn={Parser:r,version:sn,defaultOptions:Wt,Position:ut,SourceLocation:vt,getLineInfo:Dt,Node:N,TokenType:Te,tokTypes:z,keywordTypes:de,TokContext:E,tokContexts:I,isIdentifierChar:te,isIdentifierStart:me,Token:At,isNewLine:Fe,lineBreak:Pe,lineBreakG:Oe,nonASCIIwhitespace:it};function or(c,A){return r.parse(c,A)}function Ds(c,A,B){return r.parseExpressionAt(c,A,B)}function Bs(c,A){return r.tokenizer(c,A)}o.Node=N,o.Parser=r,o.Position=ut,o.SourceLocation=vt,o.TokContext=E,o.Token=At,o.TokenType=Te,o.defaultOptions=Wt,o.getLineInfo=Dt,o.isIdentifierChar=te,o.isIdentifierStart=me,o.isNewLine=Fe,o.keywordTypes=de,o.lineBreak=Pe,o.lineBreakG=Oe,o.nonASCIIwhitespace=it,o.parse=or,o.parseExpressionAt=Ds,o.tokContexts=I,o.tokTypes=z,o.tokenizer=Bs,o.version=sn,Object.defineProperty(o,"__esModule",{value:!0})})}(Qs,Qs.exports)),Qs.exports}/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||Ca;var p=s.window,b=s.document,_=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],i=t.slice,a=Object.create,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=t.forEach||function(v,S){for(var E=0,I=this.length;E<I;E++)v.call(S,this[E],E,this)},f=function(v,S){for(var E in this)this.hasOwnProperty(E)&&v.call(S,this[E],E,this)},d=Object.assign||function(v){for(var S=1,E=arguments.length;S<E;S++){var I=arguments[S];for(var P in I)I.hasOwnProperty(P)&&(v[P]=I[P])}return v},g=function(v,S,E){if(v){var I=u(v,"length");(I&&typeof I.value=="number"?h:f).call(v,S,E=E||v)}return E};function y(v,S,E,I,P){var C={};function x(N,L){L=L||(L=u(S,N))&&(L.get?L:L.value),typeof L=="string"&&L[0]==="#"&&(L=v[L.substring(1)]||L);var O=typeof L=="function",D=L,U=P||O&&!L.base?L&&L.get?N in v:v[N]:null,R;(!P||!U)&&(O&&U&&(L.base=U),O&&I!==!1&&(R=N.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[R[3].toLowerCase()+R[4]]=R[2]),(!D||O||!D.get||typeof D.get!="function"||!m.isPlainObject(D))&&(D={value:D,writable:!0}),(u(v,N)||{configurable:!0}).configurable&&(D.configurable=!0,D.enumerable=E!=null?E:!R),l(v,N,D))}if(S){for(var w in S)S.hasOwnProperty(w)&&!e.test(w)&&x(w);for(var w in C){var k=C[w],T=v["set"+k],M=v["get"+k]||T&&v["is"+k];M&&(I===!0||M.length===0)&&x(w,{get:M,set:T})}}return v}function m(){for(var v=0,S=arguments.length;v<S;v++){var E=arguments[v];E&&d(this,E)}return this}return y(m,{inject:function(v){if(v){var S=v.statics===!0?v:v.statics,E=v.beans,I=v.preserve;S!==v&&y(this.prototype,v,v.enumerable,E,I),y(this,S,null,E,I)}for(var P=1,C=arguments.length;P<C;P++)this.inject(arguments[P]);return this},extend:function(){for(var v=this,S,E,I=0,P,C=arguments.length;I<C&&!(S&&E);I++)P=arguments[I],S=S||P.initialize,E=E||P.prototype;return S=S||function(){v.apply(this,arguments)},E=S.prototype=E||a(this.prototype),l(E,"constructor",{value:S,writable:!0,configurable:!0}),y(S,this),arguments.length&&this.inject.apply(S,arguments),S.base=v,S}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var v=0,S=arguments.length;v<S;v++){var E=arguments[v];E&&y(this,E,E.enumerable,E.beans,E.preserve)}return this},extend:function(){var v=a(this);return v.inject.apply(v,arguments)},each:function(v,S){return g(this,v,S)},clone:function(){return new this.constructor(this)},statics:{set:d,each:g,create:a,define:l,describe:u,clone:function(v){return d(new v.constructor,v)},isPlainObject:function(v){var S=v!=null&&v.constructor;return S&&(S===Object||S===m||S.name==="Object")},pick:function(v,S){return v!==o?v:S},slice:function(v,S,E){return i.call(v,S,E)}}})};n.exports=_,_.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+_.each(this,function(e,t){if(!/^_/.test(t)){var i=typeof e;this.push(t+": "+(i==="number"?fe.instance.number(e):i==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return _.importJSON(e,this)},exportJSON:function(e){return _.exportJSON(this,e)},toJSON:function(){return _.serialize(this)},set:function(e,t){return e&&_.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),i=t.prototype._class;return i&&!_.exports[i]&&(_.exports[i]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(;i--;)if(!_.equals(e[i],t[i]))return!1}else{var a=Object.keys(e),i=a.length;if(i!==Object.keys(t).length)return!1;for(;i--;){var u=a[i];if(!(t.hasOwnProperty(u)&&_.equals(e[u],t[u])))return!1}}return!0}return!1},read:function(e,t,i,a){if(this===_){var u=this.peek(e,t);return e.__index++,u}var l=this.prototype,h=l._readIndex,f=t||h&&e.__index||0,d=e.length,g=e[f];if(a=a||d-f,g instanceof this||i&&i.readNull&&g==null&&a<=1)return h&&(e.__index=f+1),g&&i&&i.clone?g.clone():g;if(g=_.create(l),h&&(g.__read=!0),g=g.initialize.apply(g,f>0||f+a<d?_.slice(e,f,f+a):e)||g,h){e.__index=f+g.__read;var y=g.__filtered;y&&(e.__filtered=y,g.__filtered=o),g.__read=o}return g},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,i,a){for(var u=[],l,h=t||0,f=a?h+a:e.length,d=h;d<f;d++)u.push(Array.isArray(l=e[d])?this.read(l,0,i):this.read(e,d,i,1));return u},readNamed:function(e,t,i,a,u){var l=this.getNamed(e,t),h=l!==o;if(h){var f=e.__filtered;if(!f){var d=this.getSource(e);f=e.__filtered=_.create(d),f.__unfiltered=d}f[t]=o}return this.read(h?[l]:e,i,a,u)},readSupported:function(e,t){var i=this.getSource(e),a=this,u=!1;return i&&Object.keys(i).forEach(function(l){if(l in t){var h=a.readNamed(e,l);h!==o&&(t[l]=h),u=!0}}),u},getSource:function(e){var t=e.__source;if(t===o){var i=e.length===1&&e[0];t=e.__source=i&&_.isPlainObject(i)?i:null}return t},getNamed:function(e,t){var i=this.getSource(e);if(i)return t?i[t]:e.__filtered||i},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,i,a){var u;function l(y){if(!(i&&y in i)&&!(u&&y in u)){var m=t[y];m!==o&&(e[y]=m)}}if(a){for(var h={},f=0,d,g=a.length;f<g;f++)(d=a[f])in t&&(l(d),h[d]=!0);u=h}return Object.keys(t.__unfiltered||t).forEach(l),e},isPlainValue:function(e,t){return _.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,i,a){t=t||{};var u=!a,l;if(u&&(t.formatter=new fe(t.precision),a={length:0,definitions:{},references:{},add:function(m,v){var S="#"+m._id,E=this.references[S];if(!E){this.length++;var I=v.call(m),P=m._class;P&&I[0]!==P&&I.unshift(P),this.definitions[S]=I,E=this.references[S]=[S]}return E}}),e&&e._serialize){l=e._serialize(t,a);var h=e._class;h&&!e._compactSerialize&&(u||!i)&&l[0]!==h&&l.unshift(h)}else if(Array.isArray(e)){l=[];for(var f=0,d=e.length;f<d;f++)l[f]=_.serialize(e[f],t,i,a)}else if(_.isPlainObject(e)){l={};for(var g=Object.keys(e),f=0,d=g.length;f<d;f++){var y=g[f];l[y]=_.serialize(e[y],t,i,a)}}else typeof e=="number"?l=t.formatter.number(e,t.precision):l=e;return u&&a.length>0?[["dictionary",a.definitions],l]:l},deserialize:function(e,t,i,a,u){var l=e,h=!i,f=h&&e&&e.length&&e[0][0]==="dictionary";if(i=i||{},Array.isArray(e)){var d=e[0],g=d==="dictionary";if(e.length==1&&/^#/.test(d))return i.dictionary[d];d=_.exports[d],l=[];for(var y=d?1:0,m=e.length;y<m;y++)l.push(_.deserialize(e[y],t,i,g,f));if(d){var v=l;t?l=t(d,v,h||u):l=new d(v)}}else if(_.isPlainObject(e)){l={},a&&(i.dictionary=l);for(var S in e)l[S]=_.deserialize(e[S],t,i)}return f?l[1]:l},exportJSON:function(e,t){var i=_.serialize(e,t);return t&&t.asString==!1?i:JSON.stringify(i)},importJSON:function(e,t){return _.deserialize(typeof e=="string"?JSON.parse(e):e,function(i,a,u){var l=u&&t&&t.constructor===i,h=l?t:_.create(i.prototype);if(a.length===1&&h instanceof z&&(l||!(h instanceof Oe))){var f=a[0];_.isPlainObject(f)&&(f.insert=!1,l&&(a=a.concat([{insert:!0}])))}return(l?h.set:i).apply(h,a),l&&(t=null),h})},push:function(e,t){var i=t.length;if(i<4096)e.push.apply(e,t);else{var a=e.length;e.length+=i;for(var u=0;u<i;u++)e[a+u]=t[u]}return e},splice:function(e,t,i,a){var u=t&&t.length,l=i===o;i=l?e.length:i,i>e.length&&(i=e.length);for(var h=0;h<u;h++)t[h]._index=i+h;if(l)return _.push(e,t),[];var f=[i,a];t&&_.push(f,t);for(var d=e.splice.apply(e,f),h=0,g=d.length;h<g;h++)d[h]._index=o;for(var h=i+u,g=e.length;h<g;h++)e[h]._index=h;return d},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var V={on:function(e,t){if(typeof e!="string")_.each(e,function(l,h){this.on(h,l)},this);else{var i=this._eventTypes,a=i&&i[e],u=this._callbacks=this._callbacks||{};u=u[e]=u[e]||[],u.indexOf(t)===-1&&(u.push(t),a&&a.install&&u.length===1&&a.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){_.each(e,function(h,f){this.off(f,h)},this);return}var i=this._eventTypes,a=i&&i[e],u=this._callbacks&&this._callbacks[e],l;return u&&(!t||(l=u.indexOf(t))!==-1&&u.length===1?(a&&a.uninstall&&a.uninstall.call(this,e),delete this._callbacks[e]):l!==-1&&u.splice(l,1)),this},once:function(e,t){return this.on(e,function i(){t.apply(this,arguments),this.off(e,i)})},emit:function(e,t){var i=this._callbacks&&this._callbacks[e];if(!i)return!1;var a=_.slice(arguments,1),u=t&&t.target&&!t.currentTarget;i=i.slice(),u&&(t.currentTarget=this);for(var l=0,h=i.length;l<h;l++)if(i[l].apply(this,a)==!1){t&&t.stop&&t.stop();break}return u&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,i=this._callbacks,a=e?"install":"uninstall";if(t){for(var u in i)if(i[u].length>0){var l=t[u],h=l&&l[a];h&&h.call(this,u)}}},statics:{inject:function e(t){var i=t._events;if(i){var a={};_.each(i,function(u,l){var h=typeof u=="string",f=h?u:l,d=_.capitalize(f),g=f.substring(2).toLowerCase();a[g]=h?{}:u,f="_"+f,t["get"+d]=function(){return this[f]},t["set"+d]=function(y){var m=this[f];m&&this.off(g,m),y&&this.on(g,y),this[f]=y}}),t._eventTypes=a}return e.base.apply(this,arguments)}}},Q=_.extend({_class:"PaperScope",initialize:function e(){r=this,this.settings=new _({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var i=dt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:St.nativeModes},dt.release(i)}if(!this.agent){var a=s.navigator.userAgent.toLowerCase(),u=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],l=u==="darwin"?"mac":u,h=t.agent=t.browser={platform:l};l&&(h[l]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,d,g,y,m){if(!h.chrome){var v=d==="opera"?y:/^(node|trident)$/.test(d)?m:g;h.version=v,h.versionNumber=parseFloat(v),d={trident:"msie",jsdom:"node"}[d]||d,h.name=d,h[d]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var i=r.PaperScript.execute(e,this,t);return Je.updateFocus(),i},install:function(e){var t=this;_.each(["project","view","tool"],function(a){_.define(e,a,{configurable:!0,get:function(){return t[a]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(e[i]=this[i])},setup:function(e){return r=this,this.project=new ye(e),this},createCanvas:function(e,t){return dt.getCanvas(e,t)},activate:function(){r=this},clear:function(){for(var e=this.projects,t=this.tools,i=e.length-1;i>=0;i--)e[i].remove();for(var i=t.length-1;i>=0;i--)t[i].remove()},remove:function(){this.clear(),delete Q._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(i,a){return i[t](a)||i[t]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),K=_.extend(V,{initialize:function(e){this._scope=r,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(_.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),ne={findItemBoundsCollisions:function(e,t,i){function a(h){for(var f=new Array(h.length),d=0;d<h.length;d++){var g=h[d].getBounds();f[d]=[g.left,g.top,g.right,g.bottom]}return f}var u=a(e),l=!t||t===e?u:a(t);return this.findBoundsCollisions(u,l,i||0)},findCurveBoundsCollisions:function(e,t,i,a){function u(v){for(var S=Math.min,E=Math.max,I=new Array(v.length),P=0;P<v.length;P++){var C=v[P];I[P]=[S(C[0],C[2],C[4],C[6]),S(C[1],C[3],C[5],C[7]),E(C[0],C[2],C[4],C[6]),E(C[1],C[3],C[5],C[7])]}return I}var l=u(e),h=!t||t===e?l:u(t);if(a){for(var f=this.findBoundsCollisions(l,h,i||0,!1,!0),d=this.findBoundsCollisions(l,h,i||0,!0,!0),g=[],y=0,m=f.length;y<m;y++)g[y]={hor:f[y],ver:d[y]};return g}return this.findBoundsCollisions(l,h,i||0)},findBoundsCollisions:function(e,t,i,a,u){var l=!t||e===t,h=l?e:e.concat(t),f=e.length,d=h.length;function g(he,ve,we){for(var ae=0,oe=he.length;ae<oe;){var xe=oe+ae>>>1;h[he[xe]][ve]<we?ae=xe+1:oe=xe}return ae-1}for(var y=a?1:0,m=y+2,v=a?0:1,S=v+2,E=new Array(d),I=0;I<d;I++)E[I]=I;E.sort(function(he,ve){return h[he][y]-h[ve][y]});for(var P=[],C=new Array(f),I=0;I<d;I++){var x=E[I],w=h[x],k=l?x:x-f,T=x<f,M=l||!T,N=T?[]:null;if(P.length){var L=g(P,m,w[y]-i)+1;if(P.splice(0,L),l&&u){N=N.concat(P);for(var O=0;O<P.length;O++){var D=P[O];C[D].push(k)}}else for(var U=w[S],R=w[v],O=0;O<P.length;O++){var D=P[O],H=h[D],q=D<f,W=l||D>=f;(u||(T&&W||M&&q)&&U>=H[v]-i&&R<=H[S]+i)&&(T&&W&&N.push(l?D:D-f),M&&q&&C[D].push(k))}}if(T&&(e===t&&N.push(x),C[x]=N),P.length){var G=w[m],Y=g(P,m,G);P.splice(Y+1,0,x)}else P.push(x)}for(var I=0;I<C.length;I++){var se=C[I];se&&se.sort(function(ve,we){return ve-we})}return C}},fe=_.extend({initialize:function(e){this.precision=_.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,i){return this.number(e)+(i||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});fe.instance=new fe;var re=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,a=Math.sqrt,u=Math.pow,l=Math.log2||function(m){return Math.log(m)*Math.LOG2E},h=1e-12,f=112e-18;function d(m,v,S){return m<v?v:m>S?S:m}function g(m,v,S){function E(L){var O=L*134217729,D=L-O,U=D+O,R=L-U;return[U,R]}var I=v*v-m*S,P=v*v+m*S;if(i(I)*3<P){var C=E(m),x=E(v),w=E(S),k=v*v,T=x[0]*x[0]-k+2*x[0]*x[1]+x[1]*x[1],M=m*S,N=C[0]*w[0]-M+C[0]*w[1]+C[1]*w[0]+C[1]*w[1];I=k-M+(T-N)}return I}function y(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?u(2,-Math.round(l(m))):0}return{EPSILON:h,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(m){return m>=-h&&m<=h},isMachineZero:function(m){return m>=-f&&m<=f},clamp:d,integrate:function(m,v,S,E){for(var I=e[E-2],P=t[E-2],C=(S-v)*.5,x=C+v,w=0,k=E+1>>1,T=E&1?P[w++]*m(x):0;w<k;){var M=C*I[w];T+=P[w++]*(m(x+M)+m(x-M))}return C*T},findRoot:function(m,v,S,E,I,P,C){for(var x=0;x<P;x++){var w=m(S),k=w/v(S),T=S-k;if(i(k)<C){S=T;break}w>0?(I=S,S=T<=E?(E+I)*.5:T):(E=S,S=T>=I?(E+I)*.5:T)}return d(S,E,I)},solveQuadratic:function(m,v,S,E,I,P){var C,x=1/0;if(i(m)<h){if(i(v)<h)return i(S)<h?-1:0;C=-S/v}else{v*=-.5;var w=g(m,v,S);if(w&&i(w)<f){var k=y(i(m),i(v),i(S));k&&(m*=k,v*=k,S*=k,w=g(m,v,S))}if(w>=-f){var T=w<0?0:a(w),M=v+(v<0?-T:T);M===0?(C=S/m,x=-C):(C=M/m,x=S/M)}}var N=0,L=I==null,O=I-h,D=P+h;return isFinite(C)&&(L||C>O&&C<D)&&(E[N++]=L?C:d(C,I,P)),x!==C&&isFinite(x)&&(L||x>O&&x<D)&&(E[N++]=L?x:d(x,I,P)),N},solveCubic:function(m,v,S,E,I,P,C){var x=y(i(m),i(v),i(S),i(E)),w,k,T,M,N;x&&(m*=x,v*=x,S*=x,E*=x);function L(Y){w=Y;var se=m*w;k=se+v,T=k*w+S,M=(se+k)*w+T,N=T*w+E}if(i(m)<h)m=v,k=S,T=E,w=1/0;else if(i(E)<h)k=v,T=S,w=0;else{L(-(v/m)/3);var O=N/m,D=u(i(O),1/3),U=O<0?-1:1,R=-M/m,H=R>0?1.324717957244746*Math.max(D,a(R)):D,q=w-U*H;if(q!==w){do L(q),q=M===0?w:w-N/M/(1+f);while(U*q>U*w);i(m)*w*w>i(E/w)&&(T=-E/w,k=(T-S)/w)}}var W=re.solveQuadratic(m,k,T,I,P,C),G=P==null;return isFinite(w)&&(W===0||W>0&&w!==I[0]&&w!==I[1])&&(G||w>P-h&&w<C+h)&&(I[W++]=G?w:d(w,P,C)),W}}},ue={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},F=_.extend({_class:"Point",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new F(this.x,this.y)},toString:function(){var e=fe.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var i=e/this.getLength();re.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=F.read(arguments),t=this.getLength()*e.getLength();if(re.isZero(t))return NaN;var i=this.dot(e)/t;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=F.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=F.read(e),i=t.x-this.x,a=t.y-this.y,u=i*i+a*a,l=_.read(e);return l?u:Math.sqrt(u)},normalize:function(e){e===o&&(e=1);var t=this.getLength(),i=t!==0?e/t:0,a=new F(this.x*i,this.y*i);return i>=0&&(a._angle=this._angle),a},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var i=t?this.subtract(t):this,a=Math.sin(e),u=Math.cos(e);return i=new F(i.x*u-i.y*a,i.x*a+i.y*u),t?i.add(t):i},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=F.read(arguments);return new F(this.x+e.x,this.y+e.y)},subtract:function(){var e=F.read(arguments);return new F(this.x-e.x,this.y-e.y)},multiply:function(){var e=F.read(arguments);return new F(this.x*e.x,this.y*e.y)},divide:function(){var e=F.read(arguments);return new F(this.x/e.x,this.y/e.y)},modulo:function(){var e=F.read(arguments);return new F(this.x%e.x,this.y%e.y)},negate:function(){return new F(-this.x,-this.y)},isInside:function(){return Z.read(arguments).contains(this)},isClose:function(){var e=arguments,t=F.read(e),i=_.read(e);return this.getDistance(t)<=i},isCollinear:function(){var e=F.read(arguments);return F.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=F.read(arguments);return F.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=re.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=F.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=F.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=F.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new F(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=F.read(e),i=F.read(e);return new F(Math.min(t.x,i.x),Math.min(t.y,i.y))},max:function(){var e=arguments,t=F.read(e),i=F.read(e);return new F(Math.max(t.x,i.x),Math.max(t.y,i.y))},random:function(){return new F(Math.random(),Math.random())},isCollinear:function(e,t,i,a){return Math.abs(e*a-t*i)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8},isOrthogonal:function(e,t,i,a){return Math.abs(e*i+t*a)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8}}},_.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new F(t(this.x),t(this.y))}},{})),me=F.extend({initialize:function(t,i,a,u){this._x=t,this._y=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._x=e,this._y=t,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),te=_.extend({_class:"Size",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new te(this.width,this.height)},toString:function(){var e=fe.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=te.read(arguments);return new te(this.width+e.width,this.height+e.height)},subtract:function(){var e=te.read(arguments);return new te(this.width-e.width,this.height-e.height)},multiply:function(){var e=te.read(arguments);return new te(this.width*e.width,this.height*e.height)},divide:function(){var e=te.read(arguments);return new te(this.width/e.width,this.height/e.height)},modulo:function(){var e=te.read(arguments);return new te(this.width%e.width,this.height%e.height)},negate:function(){return new te(-this.width,-this.height)},isZero:function(){var e=re.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new te(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new te(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new te(Math.random(),Math.random())}}},_.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new te(t(this.width),t(this.height))}},{})),Te=te.extend({initialize:function(t,i,a,u){this._width=t,this._height=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._width=e,this._height=t,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),Z=_.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,a,u){var l=arguments,h=typeof t,f;if(h==="number"?(this._set(t,i,a,u),f=4):h==="undefined"||t===null?(this._set(0,0,0,0),f=t===null?1:0):l.length===1&&(Array.isArray(t)?(this._set.apply(this,t),f=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),f=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),_.readSupported(l,this)&&(f=1))),f===o){var d=F.readNamed(l,"from"),g=_.peek(l),y=d.x,m=d.y,v,S;if(g&&g.x!==o||_.hasNamed(l,"to")){var E=F.readNamed(l,"to");v=E.x-y,S=E.y-m,v<0&&(y=E.x,v=-v),S<0&&(m=E.y,S=-S)}else{var I=te.read(l);v=I.width,S=I.height}this._set(y,m,v,S),f=l.__index}var P=l.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(e,t,i,a){return this.x=e,this.y=t,this.width=i,this.height=a,this},clone:function(){return new Z(this.x,this.y,this.width,this.height)},equals:function(e){var t=_.isPlainValue(e)?Z.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=fe.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?F:me;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=F.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?te:Te;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=te.read(arguments),t=this._sx,i=this._sy,a=e.width,u=e.height;t&&(this.x+=(this.width-a)*t),i&&(this.y+=(this.height-u)*i),this.width=a,this.height=u,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?F:me;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=F.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==o||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(Z.read(arguments)):this._containsPoint(F.read(arguments))},_containsPoint:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t+e.width<=this.x+this.width&&i+e.height<=this.y+this.height},intersects:function(){var e=Z.read(arguments),t=_.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=Z.read(arguments),t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),a=Math.min(this.x+this.width,e.x+e.width),u=Math.min(this.y+this.height,e.y+e.height);return new Z(t,i,a-t,u-i)},unite:function(){var e=Z.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width),u=Math.max(this.y+this.height,e.y+e.height);return new Z(t,i,a-t,u-i)},include:function(){var e=F.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x),u=Math.max(this.y+this.height,e.y);return new Z(t,i,a-t,u-i)},expand:function(){var e=te.read(arguments),t=e.width,i=e.height;return new Z(this.x-t/2,this.y-i/2,this.width+t,this.height+i)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===o?e:t)-this.height)}},_.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var i=e.join(""),a=/^[RL]/.test(i);t>=4&&(e[1]+=a?"Y":"X");var u=e[a?0:1],l=e[a?1:0],h="get"+u,f="get"+l,d="set"+u,g="set"+l,y="get"+i,m="set"+i;this[y]=function(v){var S=v?F:me;return new S(this[h](),this[f](),this,m)},this[m]=function(){var v=F.read(arguments);this[d](v.x),this[g](v.y)}},{beans:!0})),ee=Z.extend({initialize:function(t,i,a,u,l,h){this._set(t,i,a,u,!0),this._owner=l,this._setter=h},_set:function(e,t,i,a,u){return this._x=e,this._y=t,this._width=i,this._height=a,u||this._owner[this._setter](this),this}},new function(){var e=Z.prototype;return _.each(["x","y","width","height"],function(t){var i=_.capitalize(t),a="_"+t;this["get"+i]=function(){return this[a]},this["set"+i]=function(u){this[a]=u,this._dontNotify||this._owner[this._setter](this)}},_.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var i="set"+t;this[i]=function(){this._dontNotify=!0,e[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var i=this._owner;i._changeSelection&&i._changeSelection(2,t)}}))}),J=_.extend({_class:"Matrix",initialize:function e(t,i){var a=arguments,u=a.length,l=!0;if(u>=6?this._set.apply(this,a):u===1||u===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,i):Array.isArray(t)?this._set.apply(this,i?t.concat([i]):t):l=!1:u?l=!1:this.reset(),!l)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,i,a,u,l,h){return this._a=e,this._b=t,this._c=i,this._d=a,this._tx=u,this._ty=l,h||this._changed(),this},_serialize:function(e,t){return _.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new J(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=fe.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var i=this._owner;return i?(i.transform(null,_.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=F.read(arguments),t=e.x,i=e.y;return this._tx+=t*this._a+i*this._c,this._ty+=t*this._b+i*this._d,this._changed(),this},scale:function(){var e=arguments,t=F.read(e),i=F.read(e,0,{readNull:!0});return i&&this.translate(i),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=F.read(arguments,1),i=t.x,a=t.y,u=Math.cos(e),l=Math.sin(e),h=i-i*u+a*l,f=a-i*l-a*u,d=this._a,g=this._b,y=this._c,m=this._d;return this._a=u*d+l*y,this._b=u*g+l*m,this._c=-l*d+u*y,this._d=-l*g+u*m,this._tx+=h*d+f*y,this._ty+=h*g+f*m,this._changed(),this},shear:function(){var e=arguments,t=F.read(e),i=F.read(e,0,{readNull:!0});i&&this.translate(i);var a=this._a,u=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*a,this._d+=t.x*u,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var e=arguments,t=F.read(e),i=F.read(e,0,{readNull:!0}),a=Math.PI/180,u=new F(Math.tan(t.x*a),Math.tan(t.y*a));return this.shear(u,i)},append:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=e._a,f=e._c,d=e._b,g=e._d,y=e._tx,m=e._ty;this._a=h*i+d*u,this._c=f*i+g*u,this._b=h*a+d*l,this._d=f*a+g*l,this._tx+=y*i+m*u,this._ty+=y*a+m*l,t||this._changed()}return this},prepend:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,d=e._a,g=e._c,y=e._b,m=e._d,v=e._tx,S=e._ty;this._a=d*i+g*a,this._c=d*u+g*l,this._b=y*i+m*a,this._d=y*u+m*l,this._tx=d*h+g*f+v,this._ty=y*h+m*f+S,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=this._tx,l=this._ty,h=e*a-t*i,f=null;return h&&!isNaN(h)&&isFinite(u)&&isFinite(l)&&(this._a=a/h,this._b=-t/h,this._c=-i/h,this._d=e/h,this._tx=(i*l-a*u)/h,this._ty=(t*u-e*l)/h,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new J(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,i){return arguments.length<3?this._transformPoint(F.read(arguments)):this._transformCoordinates(e,t,i)},_transformPoint:function(e,t,i){var a=e.x,u=e.y;return t||(t=new F),t._set(a*this._a+u*this._c+this._tx,a*this._b+u*this._d+this._ty,i)},_transformCoordinates:function(e,t,i){for(var a=0,u=2*i;a<u;a+=2){var l=e[a],h=e[a+1];t[a]=l*this._a+h*this._c+this._tx,t[a+1]=l*this._b+h*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,i=e.y,a=t+e.width,u=i+e.height,l=[t,i,a,i,a,u,t,u];return this._transformCoordinates(l,l,4)},_transformBounds:function(e,t,i){for(var a=this._transformCorners(e),u=a.slice(0,2),l=u.slice(),h=2;h<8;h++){var f=a[h],d=h&1;f<u[d]?u[d]=f:f>l[d]&&(l[d]=f)}return t||(t=new Z),t._set(u[0],u[1],l[0]-u[0],l[1]-u[1],i)},inverseTransform:function(){return this._inverseTransform(F.read(arguments))},_inverseTransform:function(e,t,i){var a=this._a,u=this._b,l=this._c,h=this._d,f=this._tx,d=this._ty,g=a*h-u*l,y=null;if(g&&!isNaN(g)&&isFinite(f)&&isFinite(d)){var m=e.x-this._tx,v=e.y-this._ty;t||(t=new F),y=t._set((m*h-v*l)/g,(v*a-m*u)/g,i)}return y},decompose:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=e*a-t*i,l=Math.sqrt,h=Math.atan2,f=180/Math.PI,d,g,y;if(e!==0||t!==0){var m=l(e*e+t*t);d=Math.acos(e/m)*(t>0?1:-1),g=[m,u/m],y=[h(e*i+t*a,m*m),0]}else if(i!==0||a!==0){var v=l(i*i+a*a);d=Math.asin(i/v)*(a>0?1:-1),g=[u/v,v],y=[0,h(e*i+t*a,v*v)]}else d=0,y=g=[0,0];return{translation:this.getTranslation(),rotation:d*f,scaling:new F(g),skewing:new F(y[0]*f,y[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new F(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},_.each(["a","b","c","d","tx","ty"],function(e){var t=_.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._changed()}},{})),de=_.extend({_class:"Line",initialize:function(t,i,a,u,l){var h=!1;arguments.length>=4?(this._px=t,this._py=i,this._vx=a,this._vy=u,h=l):(this._px=t.x,this._py=t.y,this._vx=i.x,this._vy=i.y,h=a),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new F(this._px,this._py)},getVector:function(){return new F(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return de.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return de.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return de.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return F.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return F.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,i,a,u,l,h,f,d,g){d||(i-=e,a-=t,h-=u,f-=l);var y=i*f-a*h;if(!re.isMachineZero(y)){var m=e-u,v=t-l,S=(h*v-f*m)/y,E=(i*v-a*m)/y,I=1e-12,P=-I,C=1+I;if(g||P<S&&S<C&&P<E&&E<C)return g||(S=S<=0?0:S>=1?1:S),new F(e+S*i,t+S*a)}},getSide:function(e,t,i,a,u,l,h,f){h||(i-=e,a-=t);var d=u-e,g=l-t,y=d*a-g*i;return!f&&re.isMachineZero(y)&&(y=(d*i+d*i)/(i*i+a*a),y>=0&&y<=1&&(y=0)),y<0?-1:y>0?1:0},getSignedDistance:function(e,t,i,a,u,l,h){return h||(i-=e,a-=t),i===0?a>0?u-e:e-u:a===0?i<0?l-t:t-l:((u-e)*a-(l-t)*i)/(a>i?a*Math.sqrt(1+i*i/(a*a)):i*Math.sqrt(1+a*a/(i*i)))},getDistance:function(e,t,i,a,u,l,h){return Math.abs(de.getSignedDistance(e,t,i,a,u,l,h))}}}),ye=K.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){K.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new xn(null,null,this),this._view=Je.create(this,t||dt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return _.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var a=this._changes;if(a&&t){var u=this._changesById,l=t._id,h=u[l];h?h.flags|=e:a.push(u[l]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Oe({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:it,match:function(i){var a=i._definition,u=a._id;return t[u]||(t[u]=!0,e.push(a)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var i in e){var a=e[i],u=a._selection;u&1&&a.isInserted()?t.push(a):u||this._updateSelection(a)}return t},_updateSelection:function(e){var t=e._id,i=this._selectionItems;e._selection?i[t]!==e&&(this._selectionCount++,i[t]=e):i[t]===e&&(this._selectionCount--,delete i[t])},selectAll:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(o,e)},insertLayer:function(e,t){if(t instanceof Oe){t._remove(!1,!0),_.splice(this._children,[t],e,0),t._setProject(this,!0);var i=t._name;i&&t.setName(i),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,i){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(o,new Oe(z.NO_INSERT),!0)).insertChild(e,t),i&&t.activate&&t.activate(),t},getItems:function(e){return z._getItems(this,e)},getItem:function(e){return z._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return _.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var i=t[e];if(i){for(var a in i){var u=i[a];for(var l in t){var h=t[l];h&&h!=i&&delete h[u._id]}u.remove()}t[e]=null}}},draw:function(e,t,i){this._updateVersion++,e.save(),t.applyToContext(e);for(var a=this._children,u=new _({offset:new F(0,0),pixelRatio:i,viewMatrix:t.isIdentity()?null:t,matrices:[new J],updateMatrix:!0}),l=0,h=a.length;l<h;l++)a[l].draw(e,u);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var f=this._selectionItems,d=this._scope.settings.handleSize,g=this._updateVersion;for(var y in f)f[y]._drawSelection(e,t,d,f,g);e.restore()}}}),z=_.extend(V,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=_.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new J,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return _.each(e,function(t){this._events[t]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var i=e&&_.isPlainObject(e),a=i&&e.internal===!0,u=this._matrix=new J,l=i&&e.project||r.project,h=r.settings;return this._id=a?null:ue.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,t&&u.translate(t),u._owner=this,this._style=new xn(l._currentStyle,this,l),a||i&&e.insert==!1||!h.insertItems&&!(i&&e.insert===!0)?this._setProject(l):(i&&e.parent||l)._insertItem(o,this,!0),i&&e!==z.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(e,t){var i={},a=this;function u(l){for(var h in l){var f=a[h];_.equals(f,h==="leading"?l.fontSize*1.2:l[h])||(i[h]=_.serialize(f,e,h!=="data",t))}}return u(this._serializeFields),this instanceof Pe||u(this._style._defaults),[this._class,i]},_changed:function(e){var t=this._symbol,i=this._parent||t,a=this._project;e&8&&(this._bounds=this._position=this._decomposed=o),e&16&&(this._globalMatrix=o),i&&e&72&&z._clearBoundsCache(i),e&2&&z._clearBoundsCache(this),a&&a._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var i=t._children,a=t._namedChildren;(a[e]=a[e]||[]).push(this),e in i||(i[e]=this)}this._name=e||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},_.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=_.capitalize(e),i="_"+e,a={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(u){u!=this[i]&&(this[i]=u,this._changed(a[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var i=0,a=e.length;i<a;i++)if(!e[i].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var i=0,a=t.length;i<a;i++)t[i].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?F:me,i=this._position||(this._position=this._getPositionFromBounds());return new t(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(F.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new me(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=F.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},_.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(i){return this.getBounds(i,e)}},{beans:!0,getBounds:function(e,t){var i=t||e instanceof J,a=_.set({},i?t:e,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var u=this._getCachedBounds(i&&e,a).rect;return arguments.length?u:new ee(u.x,u.y,u.width,u.height,this,"setBounds")},setBounds:function(){var e=Z.read(arguments),t=this.getBounds(),i=this._matrix,a=new J,u=e.getCenter();a.translate(u),(e.width!=t.width||e.height!=t.height)&&(i.isInvertible()||(i.set(i._backup||new J().translate(i.getTranslation())),t=this.getBounds()),a.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),u=t.getCenter(),a.translate(-u.x,-u.y),this.transform(a)},_getBounds:function(e,t){var i=this._children;return!i||!i.length?new Z:(z._updateBoundsCache(this,t.cacheItem),z._getBounds(i,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,i){e=e&&e._orNullIfIdentity();var a=t.internal&&!i,u=t.cacheItem,l=a?null:this._matrix._orNullIfIdentity(),h=u&&(!e||e.equals(l))&&this._getBoundsCacheKey(t,a),f=this._bounds;if(z._updateBoundsCache(this._parent||this._symbol,u),h&&f&&h in f){var d=f[h];return{rect:d.rect.clone(),nonscaling:d.nonscaling}}var g=this._getBounds(e||l,t),y=g.rect||g,m=this._style,v=g.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(h){f||(this._bounds=f={});var d=f[h]={rect:y.clone(),nonscaling:v,internal:a}}return{rect:y,nonscaling:v}},_getStrokeMatrix:function(e,t){var i=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,a=i?i.getViewMatrix().invert():e;return a&&a._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var i=t._id,a=e._boundsCache=e._boundsCache||{ids:{},list:[]};a.ids[i]||(a.list.push(t),a.ids[i]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=o;for(var i=0,a=t.list,u=a.length;i<u;i++){var l=a[i];l!==e&&(l._bounds=l._position=o,l._boundsCache&&z._clearBoundsCache(l))}}},_getBounds:function(e,t,i){var a=1/0,u=-a,l=a,h=u,f=!1;i=i||{};for(var d=0,g=e.length;d<g;d++){var y=e[d];if(y._visible&&!y.isEmpty(!0)){var m=y._getCachedBounds(t&&t.appended(y._matrix),i,!0),v=m.rect;a=Math.min(v.x,a),l=Math.min(v.y,l),u=Math.max(v.x+v.width,u),h=Math.max(v.y+v.height,h),m.nonscaling&&(f=!0)}}return{rect:isFinite(a)?new Z(a,l,u-a,h-l):new Z,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var i=this._decomposed;this.rotate(e-t),i&&(i.rotation=e,this._decomposed=i)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new me(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=F.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var i=this.getRotation(),a=this._decomposed,u=new J,l=re.isZero;if(l(e.x)||l(e.y))u.translate(a.translation),i&&u.rotate(i),u.scale(t.x,t.y),this._matrix.set(u);else{var h=this.getPosition(!0);u.translate(h),i&&u.rotate(i),u.scale(t.x/e.x,t.y/e.y),i&&u.rotate(-i),u.translate(h.negate()),this.transform(u)}a&&(a.scaling=t,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var i=this._parent,a=[];i;){if(!i._globalMatrix){t=null;for(var u=0,l=a.length;u<l;u++)a[u]._globalMatrix=null;break}a.push(i),i=i._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&t.prepend(i.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof Oe)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return _.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(z.NO_INSERT),i=this._children,a=_.pick(e?e.insert:o,e===o||e===!0),u=_.pick(e?e.deep:o,!0);i&&t.copyAttributes(this),(!i||u)&&t.copyContent(this),i||t.copyAttributes(this),a&&t.insertAbove(this);var l=this._name,h=this._parent;if(l&&h){for(var i=h._children,f=l,d=1;i[l];)l=f+" "+d++;l!==f&&t.setName(l)}return t},copyContent:function(e){for(var t=e._children,i=0,a=t&&t.length;i<a;i++)this.addChild(t[i].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,u=i.length;a<u;a++){var l=i[a];e.hasOwnProperty(l)&&(this[l]=e[l])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var h=e._data,f=e._name;this._data=h?_.clone(h):null,f&&this.setName(f)},rasterize:function(e,t){var i,a,u;_.isPlainObject(e)?(i=e.resolution,a=e.insert,u=e.raster):(i=e,a=t),u?u.matrix.reset(!0):u=new De(z.NO_INSERT);var l=this.getStrokeBounds(),h=(i||this.getView().getResolution())/72,f=l.getTopLeft().floor(),d=l.getBottomRight().ceil(),g=new te(d.subtract(f)),y=g.multiply(h);if(u.setSize(y,!0),!y.isZero()){var m=u.getContext(!0),v=new J().scale(h).translate(f.negate());m.save(),v.applyToContext(m),this.draw(m,new _({matrices:[v]})),m.restore()}return u.transform(new J().translate(f.add(g.divide(2))).scale(1/h)),(a===o||a)&&u.insertAbove(this),u},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(F.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var i=t.length-1;i>=0;i--)if(t[i].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return Z.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new be.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof z?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var a=arguments;return this._hitTest(F.read(a),at.getOptions(a))}function t(){var a=arguments,u=F.read(a),l=at.getOptions(a),h=[];return this._hitTest(u,new _({all:h},l)),h}function i(a,u,l,h){var f=this._children;if(f)for(var d=f.length-1;d>=0;d--){var g=f[d],y=g!==h&&g._hitTest(a,u,l);if(y&&!u.all)return y}return null}return ye.inject({hitTest:e,hitTestAll:t,_hitTest:i}),{hitTest:e,hitTestAll:t,_hitTestChildren:i}},{_hitTest:function(e,t,i){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var a=this._matrix,u=i?i.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),l=Math.max(t.tolerance,1e-12),h=t._tolerancePadding=new te(be._getStrokePadding(l,a._shiftless().invert()));if(e=a._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(e))return null;var f=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==_.hyphenate(this._class)||t.class&&!(this instanceof t.class)),d=t.match,g=this,y,m;function v(w){return w&&d&&!d(w)&&(w=null),w&&t.all&&t.all.push(w),w}function S(w,k){var T=k?y["get"+k]():g.getPosition();if(e.subtract(T).divide(h).length<=1)return new at(w,g,{name:k?_.hyphenate(k):w,point:T})}var E=t.position,I=t.center,P=t.bounds;if(f&&this._parent&&(E||I||P)){if((I||P)&&(y=this.getInternalBounds()),m=E&&S("position")||I&&S("center","Center"),!m&&P)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!m;x++)m=S("bounds",C[x]);m=v(m)}return m||(m=this._hitTestChildren(e,t,u)||f&&v(this._hitTestSelf(e,t,u,this.getStrokeScaling()?null:u._shiftless().invert()))||null),m&&m.point&&(m.point=a.transform(m.point)),m},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new at("fill",this)},matches:function(e,t){function i(h,f){for(var d in h)if(h.hasOwnProperty(d)){var g=h[d],y=f[d];if(_.isPlainObject(g)&&_.isPlainObject(y)){if(!i(g,y))return!1}else if(!_.equals(g,y))return!1}return!0}var a=typeof e;if(a==="object"){for(var u in e)if(e.hasOwnProperty(u)&&!this.matches(u,e[u]))return!1;return!0}else{if(a==="function")return e(this);if(e==="match")return t(this);var l=/^(empty|editable)$/.test(e)?this["is"+_.capitalize(e)]():e==="type"?_.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;l=this._class}if(typeof t=="function")return!!t(l);if(t){if(t.test)return t.test(l);if(_.isPlainObject(t))return i(t,l)}return _.equals(l,t)}},getItems:function(e){return z._getItems(this,e,this._matrix)},getItem:function(e){return z._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,i,a,u,l){if(!u){var h=typeof i=="object"&&i,f=h&&h.overlapping,d=h&&h.inside,g=f||d,v=g&&Z.read([g]);u={items:[],recursive:h&&h.recursive!==!1,inside:!!d,overlapping:!!f,rect:v,path:f&&new be.Rectangle({rectangle:v,insert:!1})},h&&(i=_.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var y=t._children,m=u.items,v=u.rect;a=v&&(a||new J);for(var S=0,E=y&&y.length;S<E;S++){var I=y[S],P=a&&a.appended(I._matrix),C=!0;if(v){var g=I.getBounds(P);if(!v.intersects(g))continue;v.contains(g)||u.overlapping&&(g.contains(v)||u.path.intersects(I,P))||(C=!1)}if(C&&I.matches(i)&&(m.push(I),l)||(u.recursive!==!1&&e(I,i,P,u,l),l&&m.length>0))break}return m}}},{importJSON:function(e){var t=_.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(o,e)},insertChild:function(e,t){var i=t?this.insertChildren(e,[t]):null;return i&&i[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var i=this._children;if(i&&t&&t.length>0){t=_.slice(t);for(var a={},u=t.length-1;u>=0;u--){var l=t[u],h=l&&l._id;!l||a[h]?t.splice(u,1):(l._remove(!1,!0),a[h]=!0)}_.splice(i,t,e,0);for(var f=this._project,d=f._changes,u=0,g=t.length;u<g;u++){var l=t[u],y=l._name;l._parent=this,l._setProject(f,!0),y&&l.setName(y),d&&l._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var i=e&&e._getOwner(),a=e!==this&&i?this:null;return a&&(a._remove(!1,!0),i._insertItem(e._index+t,a)),a},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(o,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var i=t[0].reduce(e);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,i=e._namedChildren,a=this._name,u=i[a],l=u?u.indexOf(this):-1;l!==-1&&(t[a]==this&&delete t[a],u.splice(l,1),u.length?t[a]=u[0]:delete i[a])}},_remove:function(e,t){var i=this._getOwner(),a=this._project,u=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),u!=null&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),_.splice(i._children,null,u,1)),this._installEvents(!1),e&&a._changes&&this._changed(5),t&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=_.pick(t,this._children.length);for(var i=_.splice(this._children,null,e,t-e),a=i.length-1;a>=0;a--)i[a]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,i=t?t.length:0;if(e){for(var a=0;a<i;a++)if(!t[a].isEmpty(e))return!1;return!0}return!i},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(h){var f=[];do f.unshift(h);while(h=h._parent);return f}for(var i=t(this),a=t(e),u=0,l=Math.min(i.length,a.length);u<l;u++)if(i[u]!=a[u])return i[u]._index<a[u]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},_.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?_:F).read(i),u=F.read(i,0,{readNull:!0});return this.transform(new J()[e](a,u||this.getPosition(!0)))}},{translate:function(){var e=new J;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,i){var a=this._matrix,u=e&&!e.isIdentity(),l=i&&this._canApplyMatrix||this._applyMatrix&&(u||!a.isIdentity()||t&&this._children);if(!u&&!l)return this;if(u){!e.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(e,!0);var h=this._style,f=h.getFillColor(!0),d=h.getStrokeColor(!0);f&&f.transform(e),d&&d.transform(e)}if(l&&(l=this._transformContent(a,t,i))){var g=this._pivot;g&&a._transformPoint(g,g,!0),a.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var y=this._bounds,m=this._position;(u||l)&&this._changed(25);var v=u&&y&&e.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var S in y){var E=y[S];if(E.nonscaling)delete y[S];else if(l||!E.internal){var I=E.rect;e._transformBounds(I,I)}}this._bounds=y;var P=y[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else u&&m&&this._pivot&&(this._position=e._transformPoint(m,m));return this},_transformContent:function(e,t,i){var a=this._children;if(a){for(var u=0,l=a.length;u<l;u++)a[u].transform(e,t,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(F.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(F.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(F.read(arguments))},localToParent:function(){return this._matrix._transformPoint(F.read(arguments))},fitBounds:function(e,t){e=Z.read(arguments);var i=this.getBounds(),a=i.height/i.width,u=e.height/e.width,l=(t?a>u:a<u)?e.width/i.width:e.height/i.height,h=new Z(new F,new te(i.width*l,i.height*l));h.setCenter(e.getCenter()),this.setBounds(h)}}),{_setStyles:function(e,t,i){var a=this._style,u=this._matrix;if(a.hasFill()&&(e.fillStyle=a.getFillColor().toCanvasStyle(e,u)),a.hasStroke()){e.strokeStyle=a.getStrokeColor().toCanvasStyle(e,u),e.lineWidth=a.getStrokeWidth();var l=a.getStrokeJoin(),h=a.getStrokeCap(),f=a.getMiterLimit();if(l&&(e.lineJoin=l),h&&(e.lineCap=h),f&&(e.miterLimit=f),r.support.nativeDash){var d=a.getDashArray(),g=a.getDashOffset();d&&d.length&&("setLineDash"in e?(e.setLineDash(d),e.lineDashOffset=g):(e.mozDash=d,e.mozDashOffset=g))}}if(a.hasShadow()){var y=t.pixelRatio||1,m=i._shiftless().prepend(new J().scale(y,y)),v=m.transform(new F(a.getShadowBlur(),0)),S=m.transform(this.getShadowOffset());e.shadowColor=a.getShadowColor().toCanvasStyle(e),e.shadowBlur=v.getLength(),e.shadowOffsetX=S.x,e.shadowOffsetY=S.y}},draw:function(e,t,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var a=t.matrices,u=t.viewMatrix,l=this._matrix,h=a[a.length-1].appended(l);if(!!h.isInvertible()){u=u?u.appended(h):h,a.push(h),t.updateMatrix&&(this._globalMatrix=h);var f=this._blendMode,d=re.clamp(this._opacity,0,1),g=f==="normal",y=St.nativeModes[f],m=g&&d===1||t.dontStart||t.clip||(y||g&&d<1)&&this._canComposite(),v=t.pixelRatio||1,S,E,I;if(!m){var P=this.getStrokeBounds(u);if(!P.width||!P.height){a.pop();return}I=t.offset,E=t.offset=P.getTopLeft().floor(),S=e,e=dt.getContext(P.getSize().ceil().add(1).multiply(v)),v!==1&&e.scale(v,v)}e.save();var C=i?i.appended(l):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,x=!m&&t.clipItem,w=!C||x;if(m?(e.globalAlpha=d,y&&(e.globalCompositeOperation=f)):w&&e.translate(-E.x,-E.y),w&&(m?l:u).applyToContext(e),x&&t.clipItem.draw(e,t.extend({clip:!0})),C){e.setTransform(v,0,0,v,0,0);var k=t.offset;k&&e.translate(-k.x,-k.y)}this._draw(e,t,u,C),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),m||(St.process(f,e,S,d,E.subtract(I).multiply(v)),dt.release(e),t.offset=I)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Ue)return t._isUpdated(e);var i=this._updateVersion===e;return!i&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,i=!0),i},_drawSelection:function(e,t,i,a,u){var l=this._selection,h=l&1,f=l&2||h&&this._selectBounds,d=l&4;if(this._drawSelected||(h=!1),(h||f||d)&&this._isUpdated(u)){var g,y=this.getSelectedColor(!0)||(g=this.getLayer())&&g.getSelectedColor(!0),m=t.appended(this.getGlobalMatrix(!0)),v=i/2;if(e.strokeStyle=e.fillStyle=y?y.toCanvasStyle(e):"#009dec",h&&this._drawSelected(e,m,a),d){var S=this.getPosition(!0),E=this._parent,I=E?E.localToGlobal(S):S,P=I.x,C=I.y;e.beginPath(),e.arc(P,C,v,0,Math.PI*2,!0),e.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],w=v,k=i+1,T=0;T<4;T++){var M=x[T],N=M[0],L=M[1];e.moveTo(P+N*w,C+L*w),e.lineTo(P+N*k,C+L*k),e.stroke()}}if(f){var O=m._transformCorners(this.getInternalBounds());e.beginPath();for(var T=0;T<8;T++)e[T?"lineTo":"moveTo"](O[T],O[++T]);e.closePath(),e.stroke();for(var T=0;T<8;T++)e.fillRect(O[T]-v,O[++T]-v,i,i)}}},_canComposite:function(){return!1}},_.each(["down","drag","up","move"],function(e){this["removeOn"+_.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var i="mouse"+t,a=this._project,u=a._removeSets=a._removeSets||{};u[i]=u[i]||{},u[i][this._id]=this}return this}}),{tween:function(e,t,i){i||(i=t,t=e,e=null,i||(i=t,t=null));var a=i&&i.easing,u=i&&i.start,l=i!=null&&(typeof i=="number"?i:i.duration),h=new ci(this,e,t,l,a,u);function f(d){h._handleFrame(d.time*1e3),h.running||this.off("frame",f)}return l&&this.on("frame",f),h},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),Pe=z.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=o)},_getClipItem:function(){var e=this._clipItem;if(e===o){e=null;for(var t=this._children,i=0,a=t.length;i<a;i++)if(t[i]._clipMask){e=t[i];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,i){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(t),_.set({},i,{stroke:!1})):e.base.call(this,t,i)},_hitTestChildren:function e(t,i,a){var u=this._getClipItem();return(!u||u.contains(t))&&e.base.call(this,t,i,a,u)},_draw:function(e,t){var i=t.clip,a=!i&&this._getClipItem();t=t.extend({clipItem:a,clip:!1}),i?(e.beginPath(),t.dontStart=t.dontFinish=!0):a&&a.draw(e,t.extend({clip:!0}));for(var u=this._children,l=0,h=u.length;l<h;l++){var f=u[l];f!==a&&f.draw(e,t)}}}),Oe=Pe.extend({_class:"Layer",initialize:function(){Pe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Fe=z.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,i){this._initialize(t,i)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&_.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new Te(e.width,e.height,this,"setSize")},setSize:function(){var e=te.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,i=e.width,a=e.height;t==="rectangle"?this._radius.set(te.min(this._radius,e.divide(2).abs())):t==="circle"?(i=a=(i+a)/2,this._radius=i/2):t==="ellipse"&&this._radius._set(i/2,a/2),this._size._set(i,a),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new Te(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var i=e*2;this._radius=e,this._size._set(i,i)}else if(e=te.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var i=te.max(this._size,e.multiply(2));this._size.set(i)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new be[_.capitalize(this._type)]({center:new F,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),r.settings.applyMatrix&&t.setApplyMatrix(!0),(e===o||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,i,a){var u=this._style,l=u.hasFill(),h=u.hasStroke(),f=t.dontFinish||t.clip,d=!a;if(l||h||f){var g=this._type,y=this._radius,m=g==="circle";if(t.dontStart||e.beginPath(),d&&m)e.arc(0,0,y,0,Math.PI*2,!0);else{var v=m?y:y.width,S=m?y:y.height,E=this._size,I=E.width,P=E.height;if(d&&g==="rectangle"&&v===0&&S===0)e.rect(-I/2,-P/2,I,P);else{var C=I/2,x=P/2,w=1-.5522847498307936,k=v*w,T=S*w,M=[-C,-x+S,-C,-x+T,-C+k,-x,-C+v,-x,C-v,-x,C-k,-x,C,-x+T,C,-x+S,C,x-S,C,x-T,C-k,x,C-v,x,-C+v,x,-C+k,x,-C,x-T,-C,x-S];a&&a.transform(M,M,32),e.moveTo(M[0],M[1]),e.bezierCurveTo(M[2],M[3],M[4],M[5],M[6],M[7]),C!==v&&e.lineTo(M[8],M[9]),e.bezierCurveTo(M[10],M[11],M[12],M[13],M[14],M[15]),x!==S&&e.lineTo(M[16],M[17]),e.bezierCurveTo(M[18],M[19],M[20],M[21],M[22],M[23]),C!==v&&e.lineTo(M[24],M[25]),e.bezierCurveTo(M[26],M[27],M[28],M[29],M[30],M[31])}}e.closePath()}!f&&(l||h)&&(this._setStyles(e,t,i),l&&(e.fill(u.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var i=new Z(this._size).setCenter(0,0),a=this._style,u=t.stroke&&a.hasStroke()&&a.getStrokeWidth();return e&&(i=e._transformBounds(i)),u?i.expand(be._getStrokePadding(u,this._getStrokeMatrix(e,t))):i}},new function(){function e(i,a,u){var l=i._radius;if(!l.isZero())for(var h=i._size.divide(2),f=1;f<=4;f++){var d=new F(f>1&&f<4?-1:1,f>2?-1:1),g=d.multiply(h),y=g.subtract(d.multiply(l)),m=new Z(u?g.add(d.multiply(u)):g,y);if(m.contains(a))return{point:y,quadrant:f}}}function t(i,a,u,l){var h=i.divide(a);return(!l||h.isInQuadrant(l))&&h.subtract(h.normalize()).multiply(a).divide(u).length<=1}return{_contains:function i(a){if(this._type==="rectangle"){var u=e(this,a);return u?a.subtract(u.point).divide(this._radius).getLength()<=1:i.base.call(this,a)}else return a.divide(this.size).getLength()<=.5},_hitTestSelf:function i(a,u,l,h){var f=!1,d=this._style,g=u.stroke&&d.hasStroke(),y=u.fill&&d.hasFill();if(g||y){var m=this._type,v=this._radius,S=g?d.getStrokeWidth()/2:0,E=u._tolerancePadding.add(be._getStrokePadding(S,!d.getStrokeScaling()&&h));if(m==="rectangle"){var I=E.multiply(2),P=e(this,a,I);if(P)f=t(a.subtract(P.point),v,E,P.quadrant);else{var C=new Z(this._size).setCenter(0,0),x=C.expand(I),w=C.expand(I.negate());f=x._containsPoint(a)&&!w._containsPoint(a)}}else f=t(a,v,E)}return f?new at(g?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function e(t,i,a,u,l){var h=_.create(Fe.prototype);return h._type=t,h._size=a,h._radius=u,h._initialize(_.getNamed(l),i),h}return{Circle:function(){var t=arguments,i=F.readNamed(t,"center"),a=_.readNamed(t,"radius");return e("circle",i,new te(a*2),a,t)},Rectangle:function(){var t=arguments,i=Z.readNamed(t,"rectangle"),a=te.min(te.readNamed(t,"radius"),i.getSize(!0).divide(2));return e("rectangle",i.getCenter(!0),i.getSize(!0),a,t)},Ellipse:function(){var t=arguments,i=Fe._readEllipse(t),a=i.radius;return e("ellipse",i.center,a.multiply(2),a,t)},_readEllipse:function(t){var i,a;if(_.hasNamed(t,"radius"))i=F.readNamed(t,"center"),a=te.readNamed(t,"radius");else{var u=Z.readNamed(t,"rectangle");i=u.getCenter(!0),a=u.getSize(!0).divide(2)}return{center:i,radius:a}}}}}),De=z.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,i){if(!this._initialize(t,i!==o&&F.read(arguments))){var a,u=typeof t,l=u==="string"?b.getElementById(t):u==="object"?t:null;if(l&&l!==z.NO_INSERT){if(l.getContext||l.naturalHeight!=null)a=l;else if(l){var h=te.read(arguments);h.isZero()||(a=dt.getCanvas(h))}}a?this.setImage(a):this.setSource(t)}this._size||(this._size=new te,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,i=e._canvas;if(t)this._setImage(t);else if(i){var a=dt.getCanvas(e._size);a.getContext("2d").drawImage(i,0,0),this._setImage(a)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new Te(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var i=te.read(arguments);if(i.equals(this._size))t&&this.clear();else if(i.width>0&&i.height>0){var a=!t&&this.getElement();this._setImage(dt.getCanvas(i)),a&&this.getContext(!0).drawImage(a,0,0,i.width,i.height)}else this._canvas&&dt.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new F(0,0).transform(e),i=new F(1,0).transform(e).subtract(t),a=new F(0,1).transform(e).subtract(t);return new te(72/i.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function i(a){var u=t.getView(),l=a&&a.type||"load";u&&t.responds(l)&&(r=u._scope,t.emit(l,new En(a)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&et.add(e,{load:function(a){t._setImage(e),i(a)},error:i})},_setImage:function(e){this._canvas&&dt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new te(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=dt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){dt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,i=this._crossOrigin;i&&(t.crossOrigin=i),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=Z.read(arguments),t=dt.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=Z.read(arguments),t=new De(z.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(e){var t=F.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,i;if(e?e instanceof Le?(i=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new Z(e):"x"in e&&(t=new Z(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var a=32,u=Math.min(t.width,a),l=Math.min(t.height,a),h=De._sampleContext;h?h.clearRect(0,0,a+1,a+1):h=De._sampleContext=dt.getContext(new te(a)),h.save();var f=new J().scale(u/t.width,l/t.height).translate(-t.x,-t.y);f.applyToContext(h),i&&i.draw(h,new _({clip:!0,matrices:[f]})),this._matrix.applyToContext(h);var d=this.getElement(),g=this._size;d&&h.drawImage(d,-g.width/2,-g.height/2),h.restore();for(var y=h.getImageData(.5,.5,Math.ceil(u),Math.ceil(l)).data,m=[0,0,0],v=0,S=0,E=y.length;S<E;S+=4){var I=y[S+3];v+=I,I/=255,m[0]+=y[S]*I,m[1]+=y[S+1]*I,m[2]+=y[S+2]*I}for(var S=0;S<3;S++)m[S]/=v;return v?Ye.read(m):null},getPixel:function(){var e=F.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new Ye("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=F.read(e),i=Ye.read(e),a=i._convert("rgb"),u=i._alpha,l=this.getContext(!0),h=l.createImageData(1,1),f=h.data;f[0]=a[0]*255,f[1]=a[1]*255,f[2]=a[2]*255,f[3]=u!=null?u*255:255,l.putImageData(h,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=te.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=Z.read(arguments);return e.isEmpty()&&(e=new Z(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=F.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var i=new Z(this._size).setCenter(0,0);return e?e._transformBounds(i):i},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new at("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,i){var a=this.getElement();if(a&&a.width>0&&a.height>0){e.globalAlpha=re.clamp(this._opacity,0,1),this._setStyles(e,t,i);var u=this._smoothing,l=u==="off";We.setPrefixed(e,l?"imageSmoothingEnabled":"imageSmoothingQuality",l?!1:u),e.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),it=z.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==o&&F.read(arguments,1))||this.setDefinition(t instanceof Qe?t:new Qe(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(e),t)},_hitTestSelf:function(e,t,i){var a=t.extend({all:!1}),u=this._definition._item._hitTest(e,a,i);return u&&(u.item=this),u},_draw:function(e,t){this._definition._item.draw(e,t)}}),Qe=_.extend({_class:"SymbolDefinition",initialize:function(t,i){this._id=ue.get(),this.project=r.project,t&&this.setItem(t,i)},_serialize:function(e,t){return t.add(this,function(){return _.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&z._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new F),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new it(this,e)},clone:function(){return new Qe(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),at=_.extend({_class:"HitResult",initialize:function(t,i,a){this.type=t,this.item=i,a&&this.inject(a)},statics:{getOptions:function(e){var t=e&&_.read(e);return new _({type:null,tolerance:r.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),Ce=_.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,a,u,l,h){var f=arguments.length,d,g,y,m;f>0&&(t==null||typeof t=="object"?f===1&&t&&"point"in t?(d=t.point,g=t.handleIn,y=t.handleOut,m=t.selection):(d=t,g=i,y=a,m=u):(d=[t,i],g=a!==o?[a,u]:null,y=l!==o?[l,h]:null)),new xt(d,this,"_point"),new xt(g,this,"_handleIn"),new xt(y,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(e,t){var i=this._point,a=this._selection,u=a||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return a&&u.push(a),_.serialize(u,e,!0,t)},_changed:function(e){var t=this._path;if(!!t){var i=t._curves,a=this._index,u;i&&((!e||e===this._point||e===this._handleIn)&&(u=a>0?i[a-1]:t._closed?i[i.length-1]:null)&&u._changed(),(!e||e===this._point||e===this._handleOut)&&(u=i[a])&&u._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(F.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(F.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(F.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,i=this._path;this._selection=e=e||0,i&&e!==t&&(i._updateSelection(this,t,e),i._changed(257))},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new _t(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,i){var a=e||{},u=a.type,l=a.factor,h=this.getPrevious(),f=this.getNext(),d=(h||this)._point,g=this._point,y=(f||this)._point,m=d.getDistance(g),v=g.getDistance(y);if(!u||u==="catmull-rom"){var S=l===o?.5:l,E=Math.pow(m,S),I=E*E,P=Math.pow(v,S),C=P*P;if(!t&&h){var x=2*C+3*P*E+I,w=3*P*(P+E);this.setHandleIn(w!==0?new F((C*d._x+x*g._x-I*y._x)/w-g._x,(C*d._y+x*g._y-I*y._y)/w-g._y):new F)}if(!i&&f){var x=2*I+3*E*P+C,w=3*E*(E+P);this.setHandleOut(w!==0?new F((I*y._x+x*g._x-C*d._x)/w-g._x,(I*y._y+x*g._y-C*d._y)/w-g._y):new F)}}else if(u==="geometric"){if(h&&f){var k=d.subtract(y),T=l===o?.4:l,M=T*m/(m+v);t||this.setHandleIn(k.multiply(M)),i||this.setHandleOut(k.multiply(M-T))}}else throw new Error("Smoothing method '"+u+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,i=e.clone();e.set(t),t.set(i)},reversed:function(){return new Ce(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Ce(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,i){var a=1-i,u=i,l=e._point,h=t._point,f=e._handleIn,d=t._handleIn,g=t._handleOut,y=e._handleOut;this._point._set(a*l._x+u*h._x,a*l._y+u*h._y,!0),this._handleIn._set(a*f._x+u*d._x,a*f._y+u*d._y,!0),this._handleOut._set(a*y._x+u*g._x,a*y._y+u*g._y,!0),this._changed()},_transformCoordinates:function(e,t,i){var a=this._point,u=!i||!this._handleIn.isZero()?this._handleIn:null,l=!i||!this._handleOut.isZero()?this._handleOut:null,h=a._x,f=a._y,d=2;return t[0]=h,t[1]=f,u&&(t[d++]=u._x+h,t[d++]=u._y+f),l&&(t[d++]=l._x+h,t[d++]=l._y+f),e&&(e._transformCoordinates(t,t,d/2),h=t[0],f=t[1],i?(a._x=h,a._y=f,d=2,u&&(u._x=t[d++]-h,u._y=t[d++]-f),l&&(l._x=t[d++]-h,l._y=t[d++]-f)):(u||(t[d++]=h,t[d++]=f),l||(t[d++]=h,t[d++]=f))),t}}),xt=F.extend({initialize:function(t,i,a){var u,l,h;if(!t)u=l=0;else if((u=t[0])!==o)l=t[1];else{var f=t;(u=f.x)===o&&(f=F.read(arguments),u=f.x),l=f.y,h=f.selected}this._x=u,this._y=l,this._owner=i,i[a]=this,h&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=re.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),le=_.extend({_class:"Curve",beans:!0,initialize:function(t,i,a,u,l,h,f,d){var g=arguments.length,y,m,v,S,E,I;g===3?(this._path=t,y=i,m=a):g?g===1?"segment1"in t?(y=new Ce(t.segment1),m=new Ce(t.segment2)):"point1"in t?(v=t.point1,E=t.handle1,I=t.handle2,S=t.point2):Array.isArray(t)&&(v=[t[0],t[1]],S=[t[6],t[7]],E=[t[2]-t[0],t[3]-t[1]],I=[t[4]-t[6],t[5]-t[7]]):g===2?(y=new Ce(t),m=new Ce(i)):g===4?(v=t,E=i,I=a,S=u):g===8&&(v=[t,i],S=[f,d],E=[a-t,u-i],I=[l-f,h-d]):(y=new Ce,m=new Ce),this._segment1=y||new Ce(v,null,E),this._segment2=m||new Ce(S,I,null)},_serialize:function(e,t){return _.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=o},clone:function(){return new le(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return le.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,i=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(i)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(F.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(F.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(F.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(F.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return le.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],i=0;i<8;i+=2)t.push(new F(e[i],e[i+1]));return t}},{getLength:function(){return this._length==null&&(this._length=le.getLength(this.getValues(),0,1)),this._length},getArea:function(){return le.getArea(this.getValues())},getLine:function(){return new de(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new le(le.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return le.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var i=1e-8,a=1-i,u=null;if(e>=i&&e<=a){var l=le.subdivide(this.getValues(),e),h=l[0],f=l[1],d=t||this.hasHandles(),g=this._segment1,y=this._segment2,m=this._path;d&&(g._handleOut._set(h[2]-h[0],h[3]-h[1]),y._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=h[6],S=h[7],E=new Ce(new F(v,S),d&&new F(h[4]-v,h[5]-S),d&&new F(f[2]-v,f[3]-S));m?(m.insert(g._index+1,E),u=this.getNext()):(this._segment2=E,this._changed(),u=new le(E,y))}return u},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===o?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===o?.5:t?e:this.getTimeAt(e))},reversed:function(){return new le(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,i,a){var u=e._point,l=e._handleOut,h=t._handleIn,f=t._point,d=u.x,g=u.y,y=f.x,m=f.y,v=a?[d,g,d,g,y,m,y,m]:[d,g,d+l._x,g+l._y,y+h._x,m+h._y,y,m];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],d=e[6],g=e[7];t===o&&(t=.5);var y=1-t,m=y*i+t*u,v=y*a+t*l,S=y*u+t*h,E=y*l+t*f,I=y*h+t*d,P=y*f+t*g,C=y*m+t*S,x=y*v+t*E,w=y*S+t*I,k=y*E+t*P,T=y*C+t*w,M=y*x+t*k;return[[i,a,m,v,C,x,T,M],[T,M,w,k,I,P,d,g]]},getMonoCurves:function(e,t){var i=[],a=t?0:1,u=e[a+0],l=e[a+2],h=e[a+4],f=e[a+6];if(u>=l==l>=h&&l>=h==h>=f||le.isStraight(e))i.push(e);else{var d=3*(l-h)-u+f,g=2*(u+h)-4*l,y=l-u,m=1e-8,v=1-m,S=[],E=re.solveQuadratic(d,g,y,S,m,v);if(!E)i.push(e);else{S.sort();var I=S[0],P=le.subdivide(e,I);i.push(P[0]),E>1&&(I=(S[1]-I)/(1-I),P=le.subdivide(P[1],I),i.push(P[0])),i.push(P[1])}}return i},solveCubic:function(e,t,i,a,u,l){var h=e[t],f=e[t+2],d=e[t+4],g=e[t+6],y=0;if(!(h<i&&g<i&&f<i&&d<i||h>i&&g>i&&f>i&&d>i)){var m=3*(f-h),v=3*(d-f)-m,S=g-h-m-v;y=re.solveCubic(S,v,m,h-i,a,u,l)}return y},getTimeOf:function(e,t){var i=new F(e[0],e[1]),a=new F(e[6],e[7]),u=1e-12,l=1e-7,h=t.isClose(i,u)?0:t.isClose(a,u)?1:null;if(h===null)for(var f=[t.x,t.y],d=[],g=0;g<2;g++)for(var y=le.solveCubic(e,g,f[g],d,0,1),m=0;m<y;m++){var v=d[m];if(t.isClose(le.getPoint(e,v),l))return v}return t.isClose(i,l)?0:t.isClose(a,l)?1:null},getNearestTime:function(e,t){if(le.isStraight(e)){var i=e[0],a=e[1],u=e[6],l=e[7],h=u-i,f=l-a,d=h*h+f*f;if(d===0)return 0;var g=((t.x-i)*h+(t.y-a)*f)/d;return g<1e-12?0:g>.999999999999?1:le.getTimeOf(e,new F(i+g*h,a+g*f))}var y=100,m=1/0,v=0;function S(P){if(P>=0&&P<=1){var C=t.getDistance(le.getPoint(e,P),!0);if(C<m)return m=C,v=P,!0}}for(var E=0;E<=y;E++)S(E/y);for(var I=1/(y*2);I>1e-8;)!S(v-I)&&!S(v+I)&&(I/=2);return v},getPart:function(e,t,i){var a=t>i;if(a){var u=t;t=i,i=u}return t>0&&(e=le.subdivide(e,t)[1]),i<1&&(e=le.subdivide(e,(i-t)/(1-t))[0]),a?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],d=e[6],g=e[7],y=3*u-2*i-d,m=3*l-2*a-g,v=3*h-2*d-i,S=3*f-2*g-a;return Math.max(y*y,v*v)+Math.max(m*m,S*S)<=16*t*t},getArea:function(e){var t=e[0],i=e[1],a=e[2],u=e[3],l=e[4],h=e[5],f=e[6],d=e[7];return 3*((d-i)*(a+l)-(f-t)*(u+h)+u*(t-l)-a*(i-h)+d*(l+t/3)-f*(h+i/3))/20},getBounds:function(e){for(var t=e.slice(0,2),i=t.slice(),a=[0,0],u=0;u<2;u++)le._addBounds(e[u],e[u+2],e[u+4],e[u+6],u,0,t,i,a);return new Z(t[0],t[1],i[0]-t[0],i[1]-t[1])},_addBounds:function(e,t,i,a,u,l,h,f,d){function g(T,M){var N=T-M,L=T+M;N<h[u]&&(h[u]=N),L>f[u]&&(f[u]=L)}l/=2;var y=h[u]+l,m=f[u]-l;if(e<y||t<y||i<y||a<y||e>m||t>m||i>m||a>m)if(t<e!=t<a&&i<e!=i<a)g(e,0),g(a,0);else{var v=3*(t-i)-e+a,S=2*(e+i)-4*t,E=t-e,I=re.solveQuadratic(v,S,E,d),P=1e-8,C=1-P;g(a,0);for(var x=0;x<I;x++){var w=d[x],k=1-w;P<=w&&w<=C&&g(k*k*k*e+3*k*k*w*t+3*k*w*w*i+w*w*w*a,l)}}}}},_.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=be[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),_.each({isStraight:function(e,t,i,a){if(t.isZero()&&i.isZero())return!0;var u=a.subtract(e);if(u.isZero())return!1;if(u.isCollinear(t)&&u.isCollinear(i)){var l=new de(e,a),h=1e-7;if(l.getDistance(e.add(t))<h&&l.getDistance(a.add(i))<h){var f=u.dot(u),d=u.dot(t)/f,g=u.dot(i)/f;return d>=0&&d<=1&&g<=0&&g>=-1}}return!1},isLinear:function(e,t,i,a){var u=a.subtract(e).divide(3);return t.equals(u)&&i.negate().equals(u)}},function(e,t){this[t]=function(i){var a=this._segment1,u=this._segment2;return e(a._point,a._handleOut,u._handleIn,u._point,i)},this.statics[t]=function(i,a){var u=i[0],l=i[1],h=i[6],f=i[7];return e(new F(u,l),new F(i[2]-u,i[3]-l),new F(i[4]-h,i[5]-f),new F(h,f),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new _t(this,e):null},getTimeAt:function(e,t){return le.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=F.read(arguments);return e.isZero()?[]:le.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(F.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return le.getTimeOf(this.getValues(),F.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=F.read(arguments),t=this.getValues(),i=le.getNearestTime(t,e),a=le.getPoint(t,i);return new _t(this,i,a,null,e.getDistance(a))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return _.each(e,function(t){this[t+"At"]=function(i,a){var u=this.getValues();return le[t](u,a?i:le.getTimeAt(u,i))},this[t+"AtTime"]=function(i){return le[t](this.getValues(),i)}},{statics:{_evaluateMethods:e}})},new function(){function e(a){var u=a[0],l=a[1],h=a[2],f=a[3],d=a[4],g=a[5],y=a[6],m=a[7],v=9*(h-d)+3*(y-u),S=6*(u+d)-12*h,E=3*(h-u),I=9*(f-g)+3*(m-l),P=6*(l+g)-12*f,C=3*(f-l);return function(x){var w=(v*x+S)*x+E,k=(I*x+P)*x+C;return Math.sqrt(w*w+k*k)}}function t(a,u){return Math.max(2,Math.min(16,Math.ceil(Math.abs(u-a)*32)))}function i(a,u,l,h){if(u==null||u<0||u>1)return null;var f=a[0],d=a[1],g=a[2],y=a[3],m=a[4],v=a[5],S=a[6],E=a[7],I=re.isZero;I(g-f)&&I(y-d)&&(g=f,y=d),I(m-S)&&I(v-E)&&(m=S,v=E);var P=3*(g-f),C=3*(m-g)-P,x=S-f-P-C,w=3*(y-d),k=3*(v-y)-w,T=E-d-w-k,M,N;if(l===0)M=u===0?f:u===1?S:((x*u+C)*u+P)*u+f,N=u===0?d:u===1?E:((T*u+k)*u+w)*u+d;else{var L=1e-8,O=1-L;if(u<L?(M=P,N=w):u>O?(M=3*(S-m),N=3*(E-v)):(M=(3*x*u+2*C)*u+P,N=(3*T*u+2*k)*u+w),h){M===0&&N===0&&(u<L||u>O)&&(M=m-g,N=v-y);var D=Math.sqrt(M*M+N*N);D&&(M/=D,N/=D)}if(l===3){var m=6*x*u+2*C,v=6*T*u+2*k,U=Math.pow(M*M+N*N,3/2);M=U!==0?(M*v-N*m)/U:0,N=0}}return l===2?new F(N,-M):new F(M,N)}return{statics:{classify:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],d=a[4],g=a[5],y=a[6],m=a[7],v=u*(m-g)+l*(d-y)+y*g-m*d,S=h*(l-m)+f*(y-u)+u*m-l*y,E=d*(f-l)+g*(u-h)+h*l-f*u,I=3*E,P=I-S,C=P-S+v,x=Math.sqrt(C*C+P*P+I*I),w=x!==0?1/x:0,k=re.isZero,T="serpentine";C*=w,P*=w,I*=w;function M(D,U,R){var H=U!==o,q=H&&U>0&&U<1,W=H&&R>0&&R<1;return H&&(!(q||W)||D==="loop"&&!(q&&W))&&(D="arch",q=W=!1),{type:D,roots:q||W?q&&W?U<R?[U,R]:[R,U]:[q?U:R]:null}}if(k(C))return k(P)?M(k(I)?"line":"quadratic"):M(T,I/(3*P));var N=3*P*P-4*C*I;if(k(N))return M("cusp",P/(2*C));var L=N>0?Math.sqrt(N/3):Math.sqrt(-N),O=2*C;return M(N>0?T:"loop",(P+L)/O,(P-L)/O)},getLength:function(a,u,l,h){if(u===o&&(u=0),l===o&&(l=1),le.isStraight(a)){var f=a;l<1&&(f=le.subdivide(f,l)[0],u/=l),u>0&&(f=le.subdivide(f,u)[1]);var d=f[6]-f[0],g=f[7]-f[1];return Math.sqrt(d*d+g*g)}return re.integrate(h||e(a),u,l,t(u,l))},getTimeAt:function(a,u,l){if(l===o&&(l=u<0?1:0),u===0)return l;var h=Math.abs,f=1e-12,d=u>0,g=d?l:0,y=d?1:l,m=e(a),v=le.getLength(a,g,y,m),S=h(u)-v;if(h(S)<f)return d?y:g;if(S>f)return null;var E=u/v,I=0;function P(C){return I+=re.integrate(m,l,C,t(l,C)),l=C,I-u}return re.findRoot(P,m,l+E,g,y,32,1e-12)},getPoint:function(a,u){return i(a,u,0,!1)},getTangent:function(a,u){return i(a,u,1,!0)},getWeightedTangent:function(a,u){return i(a,u,1,!1)},getNormal:function(a,u){return i(a,u,2,!0)},getWeightedNormal:function(a,u){return i(a,u,2,!1)},getCurvature:function(a,u){return i(a,u,3,!1).x},getPeaks:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],d=a[4],g=a[5],y=a[6],m=a[7],v=-u+3*h-3*d+y,S=3*u-6*h+3*d,E=-3*u+3*h,I=-l+3*f-3*g+m,P=3*l-6*f+3*g,C=-3*l+3*f,x=1e-8,w=1-x,k=[];return re.solveCubic(9*(v*v+I*I),9*(v*S+P*I),2*(S*S+P*P)+3*(E*v+C*I),E*S+P*C,k,x,w),k.sort()}}}},new function(){function e(S,E,I,P,C,x,w){var k=!w&&I.getPrevious()===C,T=!w&&I!==C&&I.getNext()===C,M=1e-8,N=1-M;if(P!==null&&P>=(k?M:0)&&P<=(T?N:1)&&x!==null&&x>=(T?M:0)&&x<=(k?N:1)){var L=new _t(I,P,null,w),O=new _t(C,x,null,w);L._intersection=O,O._intersection=L,(!E||E(L))&&_t.insert(S,L,!0)}}function t(S,E,I,P,C,x,w,k,T,M,N,L,O){if(++T>=4096||++k>=40)return T;var D=1e-9,U=E[0],R=E[1],H=E[6],q=E[7],W=de.getSignedDistance,G=W(U,R,H,q,E[2],E[3]),Y=W(U,R,H,q,E[4],E[5]),se=G*Y>0?3/4:4/9,he=se*Math.min(0,G,Y),ve=se*Math.max(0,G,Y),we=W(U,R,H,q,S[0],S[1]),ae=W(U,R,H,q,S[2],S[3]),oe=W(U,R,H,q,S[4],S[5]),xe=W(U,R,H,q,S[6],S[7]),Se=i(we,ae,oe,xe),Ie=Se[0],Ne=Se[1],ge,Me;if(G===0&&Y===0&&we===0&&ae===0&&oe===0&&xe===0||(ge=a(Ie,Ne,he,ve))==null||(Me=a(Ie.reverse(),Ne.reverse(),he,ve))==null)return T;var Re=M+(N-M)*ge,Be=M+(N-M)*Me;if(Math.max(O-L,Be-Re)<D){var rt=(Re+Be)/2,ot=(L+O)/2;e(C,x,w?P:I,w?ot:rt,w?I:P,w?rt:ot)}else{S=le.getPart(S,ge,Me);var st=O-L;if(Me-ge>.8)if(Be-Re>st){var Ge=le.subdivide(S,.5),rt=(Re+Be)/2;T=t(E,Ge[0],P,I,C,x,!w,k,T,L,O,Re,rt),T=t(E,Ge[1],P,I,C,x,!w,k,T,L,O,rt,Be)}else{var Ge=le.subdivide(E,.5),ot=(L+O)/2;T=t(Ge[0],S,P,I,C,x,!w,k,T,L,ot,Re,Be),T=t(Ge[1],S,P,I,C,x,!w,k,T,ot,O,Re,Be)}else st===0||st>=D?T=t(E,S,P,I,C,x,!w,k,T,L,O,Re,Be):T=t(S,E,I,P,C,x,w,k,T,Re,Be,L,O)}return T}function i(S,E,I,P){var C=[0,S],x=[1/3,E],w=[2/3,I],k=[1,P],T=E-(2*S+P)/3,M=I-(S+2*P)/3,N;if(T*M<0)N=[[C,x,k],[C,w,k]];else{var L=T/M;N=[L>=2?[C,x,k]:L<=.5?[C,w,k]:[C,x,w,k],[C,k]]}return(T||M)<0?N.reverse():N}function a(S,E,I,P){return S[0][1]<I?u(S,!0,I):E[0][1]>P?u(E,!1,P):S[0][0]}function u(S,E,I){for(var P=S[0][0],C=S[0][1],x=1,w=S.length;x<w;x++){var k=S[x][0],T=S[x][1];if(E?T>=I:T<=I)return T===I?k:P+(I-C)*(k-P)/(T-C);P=k,C=T}return null}function l(S,E,I,P,C){var x=re.isZero;if(x(P)&&x(C)){var w=le.getTimeOf(S,new F(E,I));return w===null?[]:[w]}for(var k=Math.atan2(-C,P),T=Math.sin(k),M=Math.cos(k),N=[],L=[],O=0;O<8;O+=2){var D=S[O]-E,U=S[O+1]-I;N.push(D*M-U*T,D*T+U*M)}return le.solveCubic(N,1,0,L,0,1),L}function h(S,E,I,P,C,x,w){for(var k=E[0],T=E[1],M=E[6],N=E[7],L=l(S,k,T,M-k,N-T),O=0,D=L.length;O<D;O++){var U=L[O],R=le.getPoint(S,U),H=le.getTimeOf(E,R);H!==null&&e(C,x,w?P:I,w?H:U,w?I:P,w?U:H)}}function f(S,E,I,P,C,x){var w=de.intersect(S[0],S[1],S[6],S[7],E[0],E[1],E[6],E[7]);w&&e(C,x,I,le.getTimeOf(S,w),P,le.getTimeOf(E,w))}function d(S,E,I,P,C,x){var w=1e-12,k=Math.min,T=Math.max;if(T(S[0],S[2],S[4],S[6])+w>k(E[0],E[2],E[4],E[6])&&k(S[0],S[2],S[4],S[6])-w<T(E[0],E[2],E[4],E[6])&&T(S[1],S[3],S[5],S[7])+w>k(E[1],E[3],E[5],E[7])&&k(S[1],S[3],S[5],S[7])-w<T(E[1],E[3],E[5],E[7])){var M=m(S,E);if(M)for(var N=0;N<2;N++){var L=M[N];e(C,x,I,L[0],P,L[1],!0)}else{var O=le.isStraight(S),D=le.isStraight(E),U=O&&D,R=O&&!D,H=C.length;if((U?f:O||D?h:t)(R?E:S,R?S:E,R?P:I,R?I:P,C,x,R,0,0,0,1,0,1),!U||C.length===H)for(var N=0;N<4;N++){var q=N>>1,W=N&1,G=q*6,Y=W*6,se=new F(S[G],S[G+1]),he=new F(E[Y],E[Y+1]);se.isClose(he,w)&&e(C,x,I,q,P,W)}}}return C}function g(S,E,I,P){var C=le.classify(S);if(C.type==="loop"){var x=C.roots;e(I,P,E,x[0],E,x[1])}return I}function y(S,E,I,P,C,x){var w=1e-7,k=!E;k&&(E=S);for(var T=S.length,M=E.length,N=new Array(T),L=k?N:new Array(M),O=[],D=0;D<T;D++)N[D]=S[D].getValues(P);if(!k)for(var D=0;D<M;D++)L[D]=E[D].getValues(C);for(var U=ne.findCurveBoundsCollisions(N,L,w),R=0;R<T;R++){var H=S[R],q=N[R];k&&g(q,H,O,I);var W=U[R];if(W)for(var G=0;G<W.length;G++){if(x&&O.length)return O;var Y=W[G];if(!k||Y>R){var se=E[Y],he=L[Y];d(q,he,H,se,O,I)}}}return O}function m(S,E){function I(xe){var Se=xe[6]-xe[0],Ie=xe[7]-xe[1];return Se*Se+Ie*Ie}var P=Math.abs,C=de.getDistance,x=1e-8,w=1e-7,k=le.isStraight(S),T=le.isStraight(E),M=k&&T,N=I(S)<I(E),L=N?E:S,O=N?S:E,D=L[0],U=L[1],R=L[6]-D,H=L[7]-U;if(C(D,U,R,H,O[0],O[1],!0)<w&&C(D,U,R,H,O[6],O[7],!0)<w)!M&&C(D,U,R,H,L[2],L[3],!0)<w&&C(D,U,R,H,L[4],L[5],!0)<w&&C(D,U,R,H,O[2],O[3],!0)<w&&C(D,U,R,H,O[4],O[5],!0)<w&&(k=T=M=!0);else if(M)return null;if(k^T)return null;for(var q=[S,E],W=[],G=0;G<4&&W.length<2;G++){var Y=G&1,se=Y^1,he=G>>1,ve=le.getTimeOf(q[Y],new F(q[se][he?6:0],q[se][he?7:1]));if(ve!=null){var we=Y?[he,ve]:[ve,he];(!W.length||P(we[0]-W[0][0])>x&&P(we[1]-W[0][1])>x)&&W.push(we)}if(G>2&&!W.length)break}if(W.length!==2)W=null;else if(!M){var ae=le.getPart(S,W[0][0],W[1][0]),oe=le.getPart(E,W[0][1],W[1][1]);(P(oe[2]-ae[2])>w||P(oe[3]-ae[3])>w||P(oe[4]-ae[4])>w||P(oe[5]-ae[5])>w)&&(W=null)}return W}function v(S,E){var I=S[0],P=S[1],C=S[2],x=S[3],w=S[4],k=S[5],T=S[6],M=S[7],N=E.normalize(),L=N.x,O=N.y,D=3*T-9*w+9*C-3*I,U=3*M-9*k+9*x-3*P,R=6*w-12*C+6*I,H=6*k-12*x+6*P,q=3*C-3*I,W=3*x-3*P,G=2*D*O-2*U*L,Y=[];if(Math.abs(G)<re.CURVETIME_EPSILON){var se=D*W-U*q,G=D*H-U*R;if(G!=0){var he=-se/G;he>=0&&he<=1&&Y.push(he)}}else{var ve=(R*R-4*D*q)*O*O+(-2*R*H+4*U*q+4*D*W)*L*O+(H*H-4*U*W)*L*L,we=R*O-H*L;if(ve>=0&&G!=0){var ae=Math.sqrt(ve),oe=-(we+ae)/G,xe=(-we+ae)/G;oe>=0&&oe<=1&&Y.push(oe),xe>=0&&xe<=1&&Y.push(xe)}}return Y}return{getIntersections:function(S){var E=this.getValues(),I=S&&S!==this&&S.getValues();return I?d(E,I,this,S,[]):g(E,this,[])},statics:{getOverlaps:m,getIntersections:y,getCurveLineIntersections:l,getTimesWithTangent:v}}}),_t=_.extend({_class:"CurveLocation",initialize:function(t,i,a,u,l){if(i>=.99999999){var h=t.getNext();h&&(i=0,t=h)}this._setCurve(t),this._time=i,this._point=a||t.getPointAtTime(i),this._overlap=u,this._distance=l,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),i=this.getTime();i===0?e=t._segment1:i===1?e=t._segment2:i!=null&&(e=t.getPartLength(0,i)<t.getPartLength(i,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(a){var u=a&&a.getCurve();if(u&&(t._time=u.getTimeOf(t._point))!=null)return t._setCurve(u),u}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),i=this.getIndex();if(t&&i!=null)for(var a=t.getCurves(),u=0;u<i;u++)e+=a[u].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),i=this.getTime();this._curveOffset=e=i!=null&&t&&t.getPartLength(0,i)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,i=e&&e.splitAtTime(this.getTime());return i&&this._setSegment(t.getLastSegment()),i},equals:function(e,t){var i=this===e;if(!i&&e instanceof _t){var a=this.getCurve(),u=e.getCurve(),l=a._path,h=u._path;if(l===h){var f=Math.abs,d=1e-7,g=f(this.getOffset()-e.getOffset()),y=!t&&this._intersection,m=!t&&e._intersection;i=(g<d||l&&f(l.getLength()-g)<d)&&(!y&&!m||y&&m&&y.equals(m,!0))}}return i},toString:function(){var e=[],t=this.getPoint(),i=fe.instance;t&&e.push("point: "+t);var a=this.getIndex();a!=null&&e.push("index: "+a);var u=this.getTime();return u!=null&&e.push("time: "+i.number(u)),this._distance!=null&&e.push("distance: "+i.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),i=e.getCurve();return!(t.isStraight()&&i.isStraight()&&t.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),i=e.getTime(),a=1e-8,u=1-a,l=t>=a&&t<=u,h=i>=a&&i<=u;if(l&&h)return!this.isTouching();var f=this.getCurve(),d=f&&t<a?f.getPrevious():f,g=e.getCurve(),y=g&&i<a?g.getPrevious():g;if(t>u&&(f=f.getNext()),i>u&&(g=g.getNext()),!d||!f||!y||!g)return!1;var m=[];function v(L,O){var D=L.getValues(),U=le.classify(D).roots||le.getPeaks(D),R=U.length,H=le.getLength(D,O&&R?U[R-1]:0,!O&&R?U[0]:1);m.push(R?H:H/32)}function S(L,O,D){return O<D?L>O&&L<D:L>O||L<D}l||(v(d,!0),v(f,!1)),h||(v(y,!0),v(g,!1));var E=this.getPoint(),I=Math.min.apply(Math,m),P=l?f.getTangentAtTime(t):f.getPointAt(I).subtract(E),C=l?P.negate():d.getPointAt(-I).subtract(E),x=h?g.getTangentAtTime(i):g.getPointAt(I).subtract(E),w=h?x.negate():y.getPointAt(-I).subtract(E),k=C.getAngle(),T=P.getAngle(),M=w.getAngle(),N=x.getAngle();return!!(l?S(k,M,N)^S(T,M,N)&&S(k,N,M)^S(T,N,M):S(M,k,T)^S(N,k,T)&&S(M,T,k)^S(N,T,k))},hasOverlap:function(){return!!this._overlap}},_.each(le._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var i=this.getCurve(),a=this.getTime();return a!=null&&i&&i[t](a,!0)}},{preserve:!0}),new function(){function e(t,i,a){var u=t.length,l=0,h=u-1;function f(E,I){for(var P=E+I;P>=-1&&P<=u;P+=I){var C=t[(P%u+u)%u];if(!i.getPoint().isClose(C.getPoint(),1e-7))break;if(i.equals(C))return C}return null}for(;l<=h;){var d=l+h>>>1,g=t[d],y;if(a&&(y=i.equals(g)?g:f(d,-1)||f(d,1)))return i._overlap&&(y._overlap=y._intersection._overlap=!0),y;var m=i.getPath(),v=g.getPath(),S=m!==v?m._id-v._id:i.getIndex()+i.getTime()-(g.getIndex()+g.getTime());S<0?h=d-1:l=d+1}return t.splice(l,0,i),i}return{statics:{insert:e,expand:function(t){for(var i=t.slice(),a=t.length-1;a>=0;a--)e(i,t[a]._intersection,!1);return i}}}}),Le=z.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,i,a;if(_.isPlainObject(e)?(i=e.segments,t=e.pathData):Array.isArray(e)?i=e:typeof e=="string"&&(t=e),i){var u=i[0];a=u&&Array.isArray(u[0])}else t&&(a=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var l=a?Ue:be;return new l(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,a=!1,u,l,h=new F,f=new F;function d(w,k){var T=+i[w];return a&&(T+=h[k]),T}function g(w){return new F(d(w,"x"),d(w+1,"y"))}this.clear();for(var y=0,m=t&&t.length;y<m;y++){var v=t[y],S=v[0],E=S.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var I=i&&i.length;switch(a=S===E,u==="z"&&!/[mz]/.test(E)&&this.moveTo(h),E){case"m":case"l":for(var P=E==="m",C=0;C<I;C+=2)this[P?"moveTo":"lineTo"](h=g(C)),P&&(f=h,P=!1);l=h;break;case"h":case"v":var x=E==="h"?"x":"y";h=h.clone();for(var C=0;C<I;C++)h[x]=d(C,x),this.lineTo(h);l=h;break;case"c":for(var C=0;C<I;C+=6)this.cubicCurveTo(g(C),l=g(C+2),h=g(C+4));break;case"s":for(var C=0;C<I;C+=4)this.cubicCurveTo(/[cs]/.test(u)?h.multiply(2).subtract(l):h,l=g(C),h=g(C+2)),u=E;break;case"q":for(var C=0;C<I;C+=4)this.quadraticCurveTo(l=g(C),h=g(C+2));break;case"t":for(var C=0;C<I;C+=2)this.quadraticCurveTo(l=/[qt]/.test(u)?h.multiply(2).subtract(l):h,h=g(C)),u=E;break;case"a":for(var C=0;C<I;C+=7)this.arcTo(h=g(C+5),new te(+i[C],+i[C+1]),+i[C+2],+i[C+4],+i[C+3]);break;case"z":this.closePath(1e-12),h=f;break}u=E}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,i,a){var u=this===e||!e,l=this._matrix._orNullIfIdentity(),h=u?l:(i||e._matrix)._orNullIfIdentity();return u||this.getBounds(l).intersects(e.getBounds(h),1e-12)?le.getIntersections(this.getCurves(),!u&&e.getCurves(),t,l,h,a):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=F.read(arguments),t=this.getCurves(),i=1/0,a=null,u=0,l=t.length;u<l;u++){var h=t[u].getNearestLocation(e);h._distance<i&&(i=h._distance,a=h)}return a},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,i){var a=!this._children,u=a?"_segments":"_children",l=e[u],h=t[u],f=this[u];if(!l||!h||l.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var d=f.length,g=h.length;if(d<g)for(var y=a?Ce:be,m=d;m<g;m++)this.add(new y);else d>g&&this[a?"removeSegments":"removeChildren"](g,d);for(var m=0;m<g;m++)f[m].interpolate(l[m],h[m],i);a&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var i=this._children||[this],a=e._children?e._children.slice():[e],u=i.length,l=a.length,h=[],f=0;t=!0;for(var d=ne.findItemBoundsCollisions(i,a,re.GEOMETRIC_EPSILON),g=u-1;g>=0&&t;g--){var y=i[g];t=!1;var m=d[g];if(m)for(var v=m.length-1;v>=0&&!t;v--)y.compare(a[m[v]])&&(h[m[v]]||(h[m[v]]=!0,f++),t=!0)}t=t&&f===l}return t}}),be=Le.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=arguments,a=Array.isArray(t)?typeof t[0]=="object"?t:i:t&&t.size===o&&(t.x!==o||t.point!==o)?i:null;a&&a.length>0?this.setSegments(a):(this._curves=o,this._segmentSelection=0,!a&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!a&&t)},_equals:function(e){return this._closed===e._closed&&_.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=o,t&32)this._version++;else if(this._curves)for(var i=0,a=this._curves.length;i<a;i++)this._curves[i]._changed()}else t&64&&(this._bounds=o)},getStyle:function(){var e=this._parent;return(e instanceof Ue?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),i=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,i){var a=e[i-1];typeof a=="boolean"&&(this.setClosed(a),i--),this._add(Ce.readList(e,0,{},i))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var i=this._countCurves();e=this._curves=new Array(i);for(var a=0;a<i;a++)e[a]=new le(this,t[a],t[a+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new le(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var i=this._segments,a=i.length,u=new fe(t),l=new Array(6),h=!0,f,d,g,y,m,v,S,E,I=[];function P(x,w){if(x._transformCoordinates(e,l),f=l[0],d=l[1],h)I.push("M"+u.pair(f,d)),h=!1;else if(m=l[2],v=l[3],m===f&&v===d&&S===g&&E===y){if(!w){var k=f-g,T=d-y;I.push(k===0?"v"+u.number(T):T===0?"h"+u.number(k):"l"+u.pair(k,T))}}else I.push("c"+u.pair(S-g,E-y)+" "+u.pair(m-g,v-y)+" "+u.pair(f-g,d-y));g=f,y=d,S=l[4],E=l[5]}if(!a)return"";for(var C=0;C<a;C++)P(i[C]);return this._closed&&a>0&&(P(i[0],!0),I.push("z")),I.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,i=new Array(6),a=0,u=t.length;a<u;a++)t[a]._transformCoordinates(e,i,!0);return!0},_add:function(e,h){for(var i=this._segments,a=this._curves,u=e.length,l=h==null,h=l?i.length:h,f=0;f<u;f++){var d=e[f];d._path&&(d=e[f]=d.clone()),d._path=this,d._index=h+f,d._selection&&this._updateSelection(d,0,d._selection)}if(l)_.push(i,e);else{i.splice.apply(i,[h,0].concat(e));for(var f=h+u,g=i.length;f<g;f++)i[f]._index=f}if(a){var y=this._countCurves(),m=h>0&&h+u-1===y?h-1:h,v=m,S=Math.min(m+u,y);e._curves&&(a.splice.apply(a,[m,0].concat(e._curves)),v+=e._curves.length);for(var f=v;f<S;f++)a.splice(f,0,new le(this,null,null));this._adjustCurves(m,S)}return this._changed(41),e},_adjustCurves:function(e,t){for(var i=this._segments,a=this._curves,u,l=e;l<t;l++)u=a[l],u._path=this,u._segment1=i[l],u._segment2=i[l+1]||i[0],u._changed();(u=a[this._closed&&!e?i.length-1:e-1])&&(u._segment2=i[e]||i[0],u._changed()),(u=a[t])&&(u._segment1=i[t],u._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(Ce.readList(t)):this._add([Ce.read(t)])[0]},insert:function(e,t){var i=arguments;return i.length>2&&typeof t!="number"?this._add(Ce.readList(i,1),e):this._add([Ce.read(i,1)],e)[0]},addSegment:function(){return this._add([Ce.read(arguments)])[0]},insertSegment:function(e){return this._add([Ce.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(Ce.readList(e))},insertSegments:function(e,t){return this._add(Ce.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,i){e=e||0,t=_.pick(t,this._segments.length);var a=this._segments,u=this._curves,l=a.length,h=a.splice(e,t-e),f=h.length;if(!f)return h;for(var d=0;d<f;d++){var g=h[d];g._selection&&this._updateSelection(g,g._selection,0),g._index=g._path=null}for(var d=e,y=a.length;d<y;d++)a[d]._index=d;if(u){for(var m=e>0&&t===l+(this._closed?1:0)?e-1:e,u=u.splice(m,f),d=u.length-1;d>=0;d--)u[d]._path=null;i&&(h._curves=u.slice(1)),this._adjustCurves(m,m)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,i=this._closed;e=0;for(var a=0,u=t.length;a<u;a++){var l=a+1===u;e+=le.getArea(le.getValues(t[a],t[l?0:a+1],null,l&&!i))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,i=t.length,a=e?7:0;this._segmentSelection=a*i;for(var u=0;u<i;u++)t[u]._selection=a},_updateSelection:function(e,t,i){e._selection=i;var a=this._segmentSelection+=i-t;a>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),i;return t&&(i=t.getCurve().divideAt(t.getCurveOffset()))?i._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),i=t&&t.index,a=t&&t.time,u=1e-8,l=1-u;a>l&&(i++,a=0);var h=this.getCurves();if(i>=0&&i<h.length){a>=u&&h[i++].divideAtTime(a);var f=this.removeSegments(i,this._segments.length,!0),d;return this._closed?(this.setClosed(!1),d=this):(d=new be(z.NO_INSERT),d.insertAbove(this),d.copyAttributes(this)),d._add(f,0),this.addSegment(f[0]),d}return null},split:function(e,t){var i,a=t===o?e:(i=this.getCurves()[e])&&i.getLocationAtTime(t);return a!=null?this.splitAt(a):null},join:function(e,t){var i=t||0;if(e&&e!==this){var a=e._segments,u=this.getLastSegment(),l=e.getLastSegment();if(!l)return this;u&&u._point.isClose(l._point,i)&&e.reverse();var h=e.getFirstSegment();if(u&&u._point.isClose(h._point,i))u.setHandleOut(h._handleOut),this._add(a.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(h._point,i)&&e.reverse(),l=e.getLastSegment(),f&&f._point.isClose(l._point,i)?(f.setHandleIn(l._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}e._closed&&this._add([a[0]]),e.remove()}var d=this.getFirstSegment(),g=this.getLastSegment();return d!==g&&d._point.isClose(g._point,i)&&(d.setHandleIn(g._handleIn),g.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),i=e&&e.simplify,a=i?1e-7:0,u=t.length-1;u>=0;u--){var l=t[u];!l.hasHandles()&&(!l.hasLength(a)||i&&l.isCollinear(l.getNext()))&&l.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var i=this._segments[e],a=i._handleIn;i._handleIn=i._handleOut,i._handleOut=a,i._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new ut(this,e||.25,256,!0),i=t.parts,a=i.length,u=[],l=0;l<a;l++)u.push(new Ce(i[l].curve.slice(0,2)));!this._closed&&a>0&&u.push(new Ce(i[a-1].curve.slice(6))),this.setSegments(u)},simplify:function(e){var t=new vt(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,i=e||{},a=i.type||"asymmetric",u=this._segments,l=u.length,h=this._closed;function f(Ie,Ne){var ge=Ie&&Ie.index;if(ge!=null){var Me=Ie.path;if(Me&&Me!==t)throw new Error(Ie._class+" "+ge+" of "+Me+" is not part of "+t);Ne&&Ie instanceof le&&ge++}else ge=typeof Ie=="number"?Ie:Ne;return Math.min(ge<0&&h?ge%l:ge<0?ge+l:ge,l-1)}var d=h&&i.from===o&&i.to===o,g=f(i.from,0),y=f(i.to,l-1);if(g>y)if(h)g-=l;else{var m=g;g=y,y=m}if(/^(?:asymmetric|continuous)$/.test(a)){var v=a==="asymmetric",S=Math.min,E=y-g+1,I=E-1,P=d?S(E,4):1,C=P,x=P,w=[];if(h||(C=S(1,g),x=S(1,l-y-1)),I+=C+x,I<=1)return;for(var k=0,T=g-C;k<=I;k++,T++)w[k]=u[(T<0?T+l:T)%l]._point;for(var M=w[0]._x+2*w[1]._x,N=w[0]._y+2*w[1]._y,L=2,O=I-1,D=[M],U=[N],R=[L],H=[],q=[],k=1;k<I;k++){var W=k<O,G=W||v?1:2,Y=W?4:v?2:7,se=W?4:v?3:8,he=W?2:v?0:1,ve=G/L;L=R[k]=Y-ve,M=D[k]=se*w[k]._x+he*w[k+1]._x-ve*M,N=U[k]=se*w[k]._y+he*w[k+1]._y-ve*N}H[O]=D[O]/R[O],q[O]=U[O]/R[O];for(var k=I-2;k>=0;k--)H[k]=(D[k]-H[k+1])/R[k],q[k]=(U[k]-q[k+1])/R[k];H[I]=(3*w[I]._x-H[O])/2,q[I]=(3*w[I]._y-q[O])/2;for(var k=C,we=I-x,T=g;k<=we;k++,T++){var ae=u[T<0?T+l:T],oe=ae._point,xe=H[k]-oe._x,Se=q[k]-oe._y;(d||k<we)&&ae.setHandleOut(xe,Se),(d||k>C)&&ae.setHandleIn(-xe,-Se)}}else for(var k=g;k<=y;k++)u[k<0?k+l:k].smooth(i,!d&&k===g,!d&&k===y)},toShape:function(e){if(!this._closed)return null;var t=this._segments,i,a,u,l;function h(v,S){var E=t[v],I=E.getNext(),P=t[S],C=P.getNext();return E._handleOut.isZero()&&I._handleIn.isZero()&&P._handleOut.isZero()&&C._handleIn.isZero()&&I._point.subtract(E._point).isCollinear(C._point.subtract(P._point))}function f(v){var S=t[v],E=S.getPrevious(),I=S.getNext();return E._handleOut.isZero()&&S._handleIn.isZero()&&S._handleOut.isZero()&&I._handleIn.isZero()&&S._point.subtract(E._point).isOrthogonal(I._point.subtract(S._point))}function d(v){var S=t[v],E=S.getNext(),I=S._handleOut,P=E._handleIn,C=.5522847498307936;if(I.isOrthogonal(P)){var x=S._point,w=E._point,k=new de(x,I,!0).intersect(new de(w,P,!0),!0);return k&&re.isZero(I.getLength()/k.subtract(x).getLength()-C)&&re.isZero(P.getLength()/k.subtract(w).getLength()-C)}return!1}function g(v,S){return t[v]._point.getDistance(t[S]._point)}if(!this.hasHandles()&&t.length===4&&h(0,2)&&h(1,3)&&f(1)?(i=Fe.Rectangle,a=new te(g(0,3),g(0,1)),l=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&d(0)&&d(2)&&d(4)&&d(6)&&h(1,5)&&h(3,7)?(i=Fe.Rectangle,a=new te(g(1,6),g(0,3)),u=a.subtract(new te(g(0,7),g(1,2))).divide(2),l=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&d(0)&&d(1)&&d(2)&&d(3)&&(re.isZero(g(0,2)-g(1,3))?(i=Fe.Circle,u=g(0,2)/2):(i=Fe.Ellipse,u=new te(g(2,0)/2,g(3,1)/2)),l=t[1]._point),i){var y=this.getPosition(!0),m=new i({center:y,size:a,radius:u,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(l.subtract(y).getAngle()+90),(e===o||e)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Ue)return e.base.call(this,t);var i=this.getCurves(),a=t.getCurves(),u=i.length,l=a.length;if(!u||!l)return u==l;for(var h=i[0].getValues(),f=[],d=0,g,y=0,m,v=0;v<l;v++){var P=a[v].getValues();f.push(P);var S=le.getOverlaps(h,P);if(S){g=!v&&S[0][0]>0?l-1:v,m=S[0][1];break}}for(var E=Math.abs,I=1e-8,P=f[g],C;h&&P;){var S=le.getOverlaps(h,P);if(S){var x=S[0][0];if(E(x-y)<I){y=S[1][0],y===1&&(h=++d<u?i[d].getValues():null,y=0);var w=S[0][1];if(E(w-m)<I){if(C||(C=[g,w]),m=S[1][1],m===1&&(++g>=l&&(g=0),P=f[g]||a[g].getValues(),m=0),!h)return C[0]===g&&C[1]===m;continue}}}break}return!1},_hitTestSelf:function(e,t,i,a){var u=this,l=this.getStyle(),h=this._segments,f=h.length,d=this._closed,g=t._tolerancePadding,y=g,m,v,S,E,I,P,C=t.stroke&&l.hasStroke(),x=t.fill&&l.hasFill(),w=t.curves,k=C?l.getStrokeWidth()/2:x&&t.tolerance>0||w?0:null;k!==null&&(k>0?(m=l.getStrokeJoin(),v=l.getStrokeCap(),S=l.getMiterLimit(),y=y.add(be._getStrokePadding(k,a))):m=v="round");function T(H,q){return e.subtract(H).divide(q).length<=1}function M(H,q,W){if(!t.selected||q.isSelected()){var G=H._point;if(q!==G&&(q=q.add(G)),T(q,y))return new at(W,u,{segment:H,point:q})}}function N(H,q){return(q||t.segments)&&M(H,H._point,"segment")||!q&&t.handles&&(M(H,H._handleIn,"handle-in")||M(H,H._handleOut,"handle-out"))}function L(H){E.add(H)}function O(H){var q=d||H._index>0&&H._index<f-1;if((q?m:v)==="round")return T(H._point,y);if(E=new be({internal:!0,closed:!0}),q?H.isSmooth()||be._addBevelJoin(H,m,k,S,null,a,L,!0):v==="square"&&be._addSquareCap(H,v,k,null,a,L,!0),!E.isEmpty()){var W;return E.contains(e)||(W=E.getNearestLocation(e))&&T(W.getPoint(),g)}}if(t.ends&&!t.segments&&!d){if(P=N(h[0],!0)||N(h[f-1],!0))return P}else if(t.segments||t.handles){for(var D=0;D<f;D++)if(P=N(h[D]))return P}if(k!==null){if(I=this.getNearestLocation(e),I){var U=I.getTime();U===0||U===1&&f>1?O(I.getSegment())||(I=null):T(I.getPoint(),y)||(I=null)}if(!I&&m==="miter"&&f>1)for(var D=0;D<f;D++){var R=h[D];if(e.getDistance(R._point)<=S*k&&O(R)){I=R.getLocation();break}}}return!I&&x&&this._contains(e)||I&&!C&&!w?new at("fill",this):I?new at(C?"stroke":"curve",this,{location:I,point:I.getPoint()}):null}},_.each(le._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this.getLocationAt(t);return i&&i[e]()}},{beans:!1,getLocationOf:function(){for(var e=F.read(arguments),t=this.getCurves(),i=0,a=t.length;i<a;i++){var u=t[i].getLocationOf(e);if(u)return u}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),i=0,a=0,u=t.length;a<u;a++){var l=i,h=t[a];if(i+=h.getLength(),i>e)return h.getLocationAt(e-l)}if(t.length>0&&e<=this.getLength())return new _t(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=F.read(arguments);if(e.isZero())return[];for(var t=[],i=0,a=this.getCurves(),u=0,l=a.length;u<l;u++){for(var h=a[u],f=h.getTimesWithTangent(e),d=0,g=f.length;d<g;d++){var y=i+h.getOffsetAtTime(f[d]);t.indexOf(y)<0&&t.push(y)}i+=h.length}return t}}),new function(){function e(i,a,u,l){if(l<=0)return;var h=l/2,f=l-2,d=h-1,g=new Array(6),y,m;function v(x){var w=g[x],k=g[x+1];(y!=w||m!=k)&&(i.beginPath(),i.moveTo(y,m),i.lineTo(w,k),i.stroke(),i.beginPath(),i.arc(w,k,h,0,Math.PI*2,!0),i.fill())}for(var S=0,E=a.length;S<E;S++){var I=a[S],P=I._selection;if(I._transformCoordinates(u,g),y=g[0],m=g[1],P&2&&v(2),P&4&&v(4),i.fillRect(y-h,m-h,l,l),f>0&&!(P&1)){var C=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(y-d,m-d,f,f),i.fillStyle=C}}}function t(i,a,u){var l=a._segments,h=l.length,f=new Array(6),d=!0,g,y,m,v,S,E,I,P;function C(w){if(u)w._transformCoordinates(u,f),g=f[0],y=f[1];else{var k=w._point;g=k._x,y=k._y}if(d)i.moveTo(g,y),d=!1;else{if(u)S=f[2],E=f[3];else{var T=w._handleIn;S=g+T._x,E=y+T._y}S===g&&E===y&&I===m&&P===v?i.lineTo(g,y):i.bezierCurveTo(I,P,S,E,g,y)}if(m=g,v=y,u)I=f[4],P=f[5];else{var T=w._handleOut;I=m+T._x,P=v+T._y}}for(var x=0;x<h;x++)C(l[x]);a._closed&&h>0&&C(l[0])}return{_draw:function(i,a,u,l){var h=a.dontStart,f=a.dontFinish||a.clip,d=this.getStyle(),g=d.hasFill(),y=d.hasStroke(),m=d.getDashArray(),v=!r.support.nativeDash&&y&&m&&m.length;h||i.beginPath(),(g||y&&!v||f)&&(t(i,this,l),this._closed&&i.closePath());function S(w){return m[(w%v+v)%v]}if(!f&&(g||y)&&(this._setStyles(i,a,u),g&&(i.fill(d.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),y)){if(v){h||i.beginPath();for(var E=new ut(this,.25,32,!1,l),I=E.length,P=-d.getDashOffset(),C,x=0;P>0;)P-=S(x--)+S(x--);for(;P<I;)C=P+S(x++),(P>0||C>0)&&E.drawPart(i,Math.max(P,0),Math.max(C,0)),P=C+S(x++)}i.stroke()}},_drawSelected:function(i,a){i.beginPath(),t(i,this,a),i.stroke(),e(i,this._segments,a,r.settings.handleSize)}}},new function(){function e(t){var i=t._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new Ce(F.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ce(F.read(arguments))])},cubicCurveTo:function(){var t=arguments,i=F.read(t),a=F.read(t),u=F.read(t),l=e(this);l.setHandleOut(i.subtract(l._point)),this._add([new Ce(u,a.subtract(u))])},quadraticCurveTo:function(){var t=arguments,i=F.read(t),a=F.read(t),u=e(this)._point;this.cubicCurveTo(i.add(u.subtract(i).multiply(1/3)),i.add(a.subtract(i).multiply(1/3)),a)},curveTo:function(){var t=arguments,i=F.read(t),a=F.read(t),u=_.pick(_.read(t),.5),l=1-u,h=e(this)._point,f=i.subtract(h.multiply(l*l)).subtract(a.multiply(u*u)).divide(2*u*l);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+u);this.quadraticCurveTo(f,a)},arcTo:function(){var t=arguments,i=Math.abs,a=Math.sqrt,u=e(this),l=u._point,h=F.read(t),f,d=_.peek(t),g=_.pick(d,!0),y,m,v,S;if(typeof g=="boolean")var E=l.add(h).divide(2),f=E.add(E.subtract(l).rotate(g?-90:90));else if(_.remain(t)<=2)f=h,h=F.read(t);else if(!l.equals(h)){var I=te.read(t),P=re.isZero;if(P(I.width)||P(I.height))return this.lineTo(h);var C=_.read(t),g=!!_.read(t),x=!!_.read(t),E=l.add(h).divide(2),w=l.subtract(E).rotate(-C),k=w.x,T=w.y,M=i(I.width),N=i(I.height),L=M*M,O=N*N,D=k*k,U=T*T,R=a(D/L+U/O);if(R>1&&(M*=R,N*=R,L=M*M,O=N*N),R=(L*O-L*U-O*D)/(L*U+O*D),i(R)<1e-12&&(R=0),R<0)throw new Error("Cannot create an arc with the given arguments");y=new F(M*T/N,-N*k/M).multiply((x===g?-1:1)*a(R)).rotate(C).add(E),S=new J().translate(y).rotate(C).scale(M,N),v=S._inverseTransform(l),m=v.getDirectedAngle(S._inverseTransform(h)),!g&&m>0?m-=360:g&&m<0&&(m+=360)}if(f){var H=new de(l.add(f).divide(2),f.subtract(l).rotate(90),!0),q=new de(f.add(h).divide(2),h.subtract(f).rotate(90),!0),W=new de(l,h),G=W.getSide(f);if(y=H.intersect(q,!0),!y){if(!G)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}v=l.subtract(y),m=v.getDirectedAngle(h.subtract(y));var Y=W.getSide(y,!0);Y===0?m=G*i(m):G===Y&&(m+=m<0?360:-360)}if(m){for(var se=1e-7,he=i(m),ve=he>=360?4:Math.ceil((he-se)/90),we=m/ve,ae=we*Math.PI/360,oe=4/3*Math.sin(ae)/(1+Math.cos(ae)),xe=[],Se=0;Se<=ve;Se++){var w=h,Ie=null;if(Se<ve&&(Ie=v.rotate(90).multiply(oe),S?(w=S._transformPoint(v),Ie=S._transformPoint(v.add(Ie)).subtract(w)):w=y.add(v)),!Se)u.setHandleOut(Ie);else{var Ne=v.rotate(-90).multiply(oe);S&&(Ne=S._transformPoint(v.add(Ne)).subtract(w)),xe.push(new Ce(w,Ne,Ie))}v=v.rotate(we)}this._add(xe)}},lineBy:function(){var t=F.read(arguments),i=e(this)._point;this.lineTo(i.add(t))},curveBy:function(){var t=arguments,i=F.read(t),a=F.read(t),u=_.read(t),l=e(this)._point;this.curveTo(l.add(i),l.add(a),u)},cubicCurveBy:function(){var t=arguments,i=F.read(t),a=F.read(t),u=F.read(t),l=e(this)._point;this.cubicCurveTo(l.add(i),l.add(a),l.add(u))},quadraticCurveBy:function(){var t=arguments,i=F.read(t),a=F.read(t),u=e(this)._point;this.quadraticCurveTo(u.add(i),u.add(a))},arcBy:function(){var t=arguments,i=e(this)._point,a=i.add(F.read(t)),u=_.pick(_.peek(t),!0);typeof u=="boolean"?this.arcTo(a,u):this.arcTo(a,i.add(F.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var i=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return be[i](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,i,a,u,l){var h=e[0];if(!h)return new Z;var f=new Array(6),d=h._transformCoordinates(a,new Array(6)),g=d.slice(0,2),y=g.slice(),m=new Array(2);function v(I){I._transformCoordinates(a,f);for(var P=0;P<2;P++)le._addBounds(d[P],d[P+4],f[P+2],f[P],P,l?l[P]:0,g,y,m);var C=d;d=f,f=C}for(var S=1,E=e.length;S<E;S++)v(e[S]);return t&&v(h),new Z(g[0],g[1],y[0]-g[0],y[1]-g[1])},getStrokeBounds:function(e,t,i,a,u){var l=i.getStyle(),h=l.hasStroke(),f=l.getStrokeWidth(),d=h&&i._getStrokeMatrix(a,u),g=h&&be._getStrokePadding(f,d),y=be.getBounds(e,t,i,a,u,g);if(!h)return y;var m=f/2,v=l.getStrokeJoin(),S=l.getStrokeCap(),E=l.getMiterLimit(),I=new Z(new te(g));function P(M){y=y.include(M)}function C(M){y=y.unite(I.setCenter(M._point.transform(a)))}function x(M,N){N==="round"||M.isSmooth()?C(M):be._addBevelJoin(M,N,m,E,a,d,P)}function w(M,N){N==="round"?C(M):be._addSquareCap(M,N,m,a,d,P)}var k=e.length-(t?0:1);if(k>0){for(var T=1;T<k;T++)x(e[T],v);t?x(e[0],v):(w(e[0],S),w(e[e.length-1],S))}return y},_getStrokePadding:function(e,t){if(!t)return[e,e];var i=new F(e,0).transform(t),a=new F(0,e).transform(t),u=i.getAngleInRadians(),l=i.getLength(),h=a.getLength(),f=Math.sin(u),d=Math.cos(u),g=Math.tan(u),y=Math.atan2(h*g,l),m=Math.atan2(h,g*l);return[Math.abs(l*Math.cos(y)*d+h*Math.sin(y)*f),Math.abs(h*Math.sin(m)*d+l*Math.cos(m)*f)]},_addBevelJoin:function(e,t,i,a,u,l,h,f){var d=e.getCurve(),g=d.getPrevious(),y=d.getPoint1().transform(u),m=g.getNormalAtTime(1).multiply(i).transform(l),v=d.getNormalAtTime(0).multiply(i).transform(l),S=m.getDirectedAngle(v);if((S<0||S>=180)&&(m=m.negate(),v=v.negate()),f&&h(y),h(y.add(m)),t==="miter"){var E=new de(y.add(m),new F(-m.y,m.x),!0).intersect(new de(y.add(v),new F(-v.y,v.x),!0),!0);E&&y.getDistance(E)<=a*i&&h(E)}h(y.add(v))},_addSquareCap:function(e,t,i,a,u,l,h){var f=e._point.transform(a),d=e.getLocation(),g=d.getNormal().multiply(d.getTime()===0?i:-i).transform(u);t==="square"&&(h&&(l(f.subtract(g)),l(f.add(g))),f=f.add(g.rotate(-90))),l(f.add(g)),l(f.subtract(g))},getHandleBounds:function(e,t,i,a,u){var l=i.getStyle(),h=u.stroke&&l.hasStroke(),f,d;if(h){var g=i._getStrokeMatrix(a,u),y=l.getStrokeWidth()/2,m=y;l.getStrokeJoin()==="miter"&&(m=y*l.getMiterLimit()),l.getStrokeCap()==="square"&&(m=Math.max(m,y*Math.SQRT2)),f=be._getStrokePadding(y,g),d=be._getStrokePadding(m,g)}for(var v=new Array(6),S=1/0,E=-S,I=S,P=E,C=0,x=e.length;C<x;C++){var w=e[C];w._transformCoordinates(a,v);for(var k=0;k<6;k+=2){var T=k?f:d,M=T?T[0]:0,N=T?T[1]:0,L=v[k],O=v[k+1],D=L-M,U=L+M,R=O-N,H=O+N;D<S&&(S=D),U>E&&(E=U),R<I&&(I=R),H>P&&(P=H)}}return new Z(S,I,E-S,P-I)}}});be.inject({statics:new function(){var e=.5522847498307936,t=[new Ce([-1,0],[0,e],[0,-e]),new Ce([0,-1],[-e,0],[e,0]),new Ce([1,0],[0,-e],[0,e]),new Ce([0,1],[e,0],[-e,0])];function i(u,l,h){var f=_.getNamed(h),d=new be(f&&f.insert==!1&&z.NO_INSERT);return d._add(u),d._closed=l,d.set(f,{insert:!0})}function a(u,l,h){for(var f=new Array(4),d=0;d<4;d++){var g=t[d];f[d]=new Ce(g._point.multiply(l).add(u),g._handleIn.multiply(l),g._handleOut.multiply(l))}return i(f,!0,h)}return{Line:function(){var u=arguments;return i([new Ce(F.readNamed(u,"from")),new Ce(F.readNamed(u,"to"))],!1,u)},Circle:function(){var u=arguments,l=F.readNamed(u,"center"),h=_.readNamed(u,"radius");return a(l,new te(h),u)},Rectangle:function(){var u=arguments,l=Z.readNamed(u,"rectangle"),h=te.readNamed(u,"radius",0,{readNull:!0}),f=l.getBottomLeft(!0),d=l.getTopLeft(!0),g=l.getTopRight(!0),y=l.getBottomRight(!0),m;if(!h||h.isZero())m=[new Ce(f),new Ce(d),new Ce(g),new Ce(y)];else{h=te.min(h,l.getSize(!0).divide(2));var v=h.width,S=h.height,E=v*e,I=S*e;m=[new Ce(f.add(v,0),null,[-E,0]),new Ce(f.subtract(0,S),[0,I]),new Ce(d.add(0,S),null,[0,-I]),new Ce(d.add(v,0),[-E,0],null),new Ce(g.subtract(v,0),null,[E,0]),new Ce(g.add(0,S),[0,-I],null),new Ce(y.subtract(0,S),null,[0,I]),new Ce(y.subtract(v,0),[E,0])]}return i(m,!0,u)},RoundRectangle:"#Rectangle",Ellipse:function(){var u=arguments,l=Fe._readEllipse(u);return a(l.center,l.radius,u)},Oval:"#Ellipse",Arc:function(){var u=arguments,l=F.readNamed(u,"from"),h=F.readNamed(u,"through"),f=F.readNamed(u,"to"),d=_.getNamed(u),g=new be(d&&d.insert==!1&&z.NO_INSERT);return g.moveTo(l),g.arcTo(h,f),g.set(d)},RegularPolygon:function(){for(var u=arguments,l=F.readNamed(u,"center"),h=_.readNamed(u,"sides"),f=_.readNamed(u,"radius"),d=360/h,g=h%3===0,y=new F(0,g?-f:f),m=g?-1:.5,v=new Array(h),S=0;S<h;S++)v[S]=new Ce(l.add(y.rotate((S+m)*d)));return i(v,!0,u)},Star:function(){for(var u=arguments,l=F.readNamed(u,"center"),h=_.readNamed(u,"points")*2,f=_.readNamed(u,"radius1"),d=_.readNamed(u,"radius2"),g=360/h,y=new F(0,-1),m=new Array(h),v=0;v<h;v++)m[v]=new Ce(l.add(y.rotate(g*v).multiply(v%2?d:f)));return i(m,!0,u)}}}});var Ue=Le.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,i){var a=i,u=a[0];u&&typeof u[0]=="number"&&(a=[a]);for(var l=i.length-1;l>=0;l--){var h=a[l];a===i&&!(h instanceof be)&&(a=_.slice(a)),Array.isArray(h)?a[l]=new be({segments:h,insert:!1}):h instanceof Ue&&(a.splice.apply(a,[l,1].concat(h.removeChildren())),h.remove())}return e.base.call(this,t,a)},reduce:function e(t){for(var i=this._children,a=i.length-1;a>=0;a--){var u=i[a].reduce(t);u.isEmpty()&&u.remove()}if(!i.length){var u=new be(z.NO_INSERT);return u.copyAttributes(this),u.insertAbove(this),this.remove(),u}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],i=0,a=e.length;i<a;i++)_.push(t,e[i].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getArea();return t},getLength:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();return t},getPathData:function(e,t){for(var i=this._children,a=[],u=0,l=i.length;u<l;u++){var h=i[u],f=h._matrix;a.push(h.getPathData(e&&!f.isIdentity()?e.appended(f):e,t))}return a.join("")},_hitTestChildren:function e(t,i,a){return e.base.call(this,t,i.class===be||i.type==="path"?i:_.set({},i,{fill:!1}),a)},_draw:function(e,t,i,a){var u=this._children;if(!!u.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var l=0,h=u.length;l<h;l++)u[l].draw(e,t,a);if(!t.clip){this._setStyles(e,t,i);var f=this._style;f.hasFill()&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,i){for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u],f=h._matrix;i[h._id]||h._drawSelected(e,f.isIdentity()?t:t.appended(f))}}},new function(){function e(t,i){var a=t._children;if(i&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return _.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var i=e(this,!0);i[t].apply(i,arguments)}},{moveTo:function(){var t=e(this),i=t&&t.isEmpty()?t:new be(z.NO_INSERT);i!==t&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var t=e(this,!0),i=t&&t.getLastSegment(),a=F.read(arguments);this.moveTo(i?a.add(i._point):a)},closePath:function(t){e(this,!0).closePath(t)}})},_.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var i=this._children,a,u=0,l=i.length;u<l;u++)a=i[u][e](t)||a;return a}},{}));Le.inject(new function(){var e=Math.min,t=Math.max,i=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function u(C){return C._children||[C]}function l(C,x){var w=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var k=u(w),T=0,M=k.length;T<M;T++){var C=k[T];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function h(C,x,w,k,T){var M=new Ue(z.NO_INSERT);return M.addChildren(C,!0),M=M.reduce({simplify:x}),T&&T.insert==!1||M.insertAbove(k&&w.isSibling(k)&&w.getIndex()<k.getIndex()?k:w),M.copyAttributes(w,!0),M}function f(C){return C.hasOverlap()||C.isCrossing()}function d(C,x,w,k){if(k&&(k.trace==!1||k.stroke)&&/^(subtract|intersect)$/.test(w))return g(C,x,w);var T=l(C,!0),M=x&&C!==x&&l(x,!0),N=a[w];N[w]=!0,M&&(N.subtract||N.exclude)^(M.isClockwise()^T.isClockwise())&&M.reverse();var L=S(_t.expand(T.getIntersections(M,f))),O=u(T),D=M&&u(M),U=[],R=[],H;function q(Ie){for(var Ne=0,ge=Ie.length;Ne<ge;Ne++){var Me=Ie[Ne];_.push(U,Me._segments),_.push(R,Me.getCurves()),Me._overlapsOnly=!0}}function W(Ie){for(var Ne=[],ge=0,Me=Ie&&Ie.length;ge<Me;ge++)Ne.push(R[Ie[ge]]);return Ne}if(L.length){q(O),D&&q(D);for(var G=new Array(R.length),Y=0,se=R.length;Y<se;Y++)G[Y]=R[Y].getValues();for(var he=ne.findCurveBoundsCollisions(G,G,0,!0),ve={},Y=0;Y<R.length;Y++){var we=R[Y],ae=we._path._id,oe=ve[ae]=ve[ae]||{};oe[we.getIndex()]={hor:W(he[Y].hor),ver:W(he[Y].ver)}}for(var Y=0,se=L.length;Y<se;Y++)I(L[Y]._segment,T,M,ve,N);for(var Y=0,se=U.length;Y<se;Y++){var xe=U[Y],Se=xe._intersection;xe._winding||I(xe,T,M,ve,N),Se&&Se._overlap||(xe._path._overlapsOnly=!1)}H=P(U,N)}else H=v(D?O.concat(D):O.slice(),function(Ie){return!!N[Ie]});return h(H,!0,C,x,k)}function g(C,x,w){var k=l(C),T=l(x),M=k.getIntersections(T,f),N=w==="subtract",L=w==="divide",O={},D=[];function U(q){if(!O[q._id]&&(L||T.contains(q.getPointAt(q.getLength()/2))^N))return D.unshift(q),O[q._id]=!0}for(var R=M.length-1;R>=0;R--){var H=M[R].split();H&&(U(H)&&H.getFirstSegment().setHandleIn(0,0),k.getLastSegment().setHandleOut(0,0))}return U(k),h(D,!1,C,x)}function y(C,x){for(var w=C;w;){if(w===x)return;w=w._previous}for(;C._next&&C._next!==x;)C=C._next;if(!C._next){for(;x._previous;)x=x._previous;C._next=x,x._previous=C}}function m(C){for(var x=C.length-1;x>=0;x--)C[x].clearHandles()}function v(C,x,w){var k=C&&C.length;if(k){var T=_.each(C,function(he,ve){this[he._id]={container:null,winding:he.isClockwise()?1:-1,index:ve}},{}),M=C.slice().sort(function(he,ve){return i(ve.getArea())-i(he.getArea())}),N=M[0],L=ne.findItemBoundsCollisions(M,null,re.GEOMETRIC_EPSILON);w==null&&(w=N.isClockwise());for(var O=0;O<k;O++){var D=M[O],U=T[D._id],R=0,H=L[O];if(H){for(var q=null,W=H.length-1;W>=0;W--)if(H[W]<O){q=q||D.getInteriorPoint();var G=M[H[W]];if(G.contains(q)){var Y=T[G._id];R=Y.winding,U.winding+=R,U.container=Y.exclude?Y.container:G;break}}}if(x(U.winding)===x(R))U.exclude=!0,C[U.index]=null;else{var se=U.container;D.setClockwise(se?!se.isClockwise():w)}}}return C}function S(C,x,w){var k=x&&[],T=1e-8,M=1-T,N=!1,L=w||[],O=w&&{},D,U,R;function H(Ne){return Ne._path._id+"."+Ne._segment1._index}for(var q=(w&&w.length)-1;q>=0;q--){var W=w[q];W._path&&(O[H(W)]=!0)}for(var q=C.length-1;q>=0;q--){var G=C[q],Y=G._time,se=Y,he=x&&!x(G),W=G._curve,ve;if(W&&(W!==U?(N=!W.hasHandles()||O&&O[H(W)],D=[],R=null,U=W):R>=T&&(Y/=R)),he){D&&D.push(G);continue}else x&&k.unshift(G);if(R=se,Y<T)ve=W._segment1;else if(Y>M)ve=W._segment2;else{var we=W.divideAtTime(Y,!0);N&&L.push(W,we),ve=we._segment1;for(var ae=D.length-1;ae>=0;ae--){var oe=D[ae];oe._time=(oe._time-Y)/(1-Y)}}G._setSegment(ve);var xe=ve._intersection,Se=G._intersection;if(xe){y(xe,Se);for(var Ie=xe;Ie;)y(Ie._intersection,xe),Ie=Ie._next}else ve._intersection=Se}return w||m(L),k||C}function E(C,x,w,k,T){var M=Array.isArray(x)?x:x[w?"hor":"ver"],N=w?1:0,L=N^1,O=[C.x,C.y],D=O[N],U=O[L],R=1e-9,H=1e-6,q=D-R,W=D+R,G=0,Y=0,se=0,he=0,ve=!1,we=!1,ae=1,oe=[],xe,Se;function Ie(je){var ct=je[L+0],ht=je[L+6];if(!(U<e(ct,ht)||U>t(ct,ht))){var mt=je[N+0],Bt=je[N+2],Ht=je[N+4],At=je[N+6];if(ct===ht){(mt<W&&At>q||At<W&&mt>q)&&(ve=!0);return}var He=U===ct?0:U===ht||q>t(mt,Bt,Ht,At)||W<e(mt,Bt,Ht,At)?1:le.solveCubic(je,L,U,oe,0,1)>0?oe[0]:1,bt=He===0?mt:He===1?At:le.getPoint(je,He)[w?"y":"x"],Vt=ct>ht?1:-1,Gt=xe[L]>xe[L+6]?1:-1,sn=xe[N+6];return U!==ct?(bt<q?se+=Vt:bt>W?he+=Vt:ve=!0,bt>D-H&&bt<D+H&&(ae/=2)):(Vt!==Gt?mt<q?se+=Vt:mt>W&&(he+=Vt):mt!=sn&&(sn<W&&bt>W?(he+=Vt,ve=!0):sn>q&&bt<q&&(se+=Vt,ve=!0)),ae/=4),xe=je,!T&&bt>q&&bt<W&&le.getTangent(je,He)[w?"x":"y"]===0&&E(C,x,!w,k,!0)}}function Ne(je){var ct=je[L+0],ht=je[L+2],mt=je[L+4],Bt=je[L+6];if(U<=t(ct,ht,mt,Bt)&&U>=e(ct,ht,mt,Bt)){for(var Ht=je[N+0],At=je[N+2],He=je[N+4],bt=je[N+6],Vt=q>t(Ht,At,He,bt)||W<e(Ht,At,He,bt)?[je]:le.getMonoCurves(je,w),Gt,sn=0,or=Vt.length;sn<or;sn++)if(Gt=Ie(Vt[sn]))return Gt}}for(var ge=0,Me=M.length;ge<Me;ge++){var Re=M[ge],Be=Re._path,rt=Re.getValues(),ot;if((!ge||M[ge-1]._path!==Be)&&(xe=null,Be._closed||(Se=le.getValues(Be.getLastCurve().getSegment2(),Re.getSegment1(),null,!k),Se[L]!==Se[L+6]&&(xe=Se)),!xe)){xe=rt;for(var st=Be.getLastCurve();st&&st!==Re;){var Ge=st.getValues();if(Ge[L]!==Ge[L+6]){xe=Ge;break}st=st.getPrevious()}}if(ot=Ne(rt))return ot;if(ge+1===Me||M[ge+1]._path!==Be){if(Se&&(ot=Ne(Se)))return ot;ve&&!se&&!he&&(se=he=Be.isClockwise(k)^w?1:-1),G+=se,Y+=he,se=he=0,ve&&(we=!0,ve=!1),Se=null}}return G=i(G),Y=i(Y),{winding:t(G,Y),windingL:G,windingR:Y,quality:ae,onPath:we}}function I(C,x,w,k,T){var M=[],N=C,L=0,R;do{var O=C.getCurve();if(O){var D=O.getLength();M.push({segment:C,curve:O,length:D}),L+=D}C=C.getNext()}while(C&&!C._intersection&&C!==N);for(var U=[.5,.25,.75],R={winding:0,quality:-1},H=.001,q=1-H,W=0;W<U.length&&R.quality<.5;W++)for(var D=L*U[W],G=0,Y=M.length;G<Y;G++){var se=M[G],he=se.length;if(D<=he){var O=se.curve,ve=O._path,we=ve._parent,ae=we instanceof Ue?we:ve,oe=re.clamp(O.getTimeAt(D),H,q),xe=O.getPointAtTime(oe),Se=i(O.getTangentAtTime(oe).y)<Math.SQRT1_2,Ie=null;if(T.subtract&&w){var Ne=ae===x?w:x,ge=Ne._getWinding(xe,Se,!0);if(ae===x&&ge.winding||ae===w&&!ge.winding){if(ge.quality<1)continue;Ie={winding:0,quality:1}}}Ie=Ie||E(xe,k[ve._id][O.getIndex()],Se,!0),Ie.quality>R.quality&&(R=Ie);break}D-=he}for(var G=M.length-1;G>=0;G--)M[G].segment._winding=R}function P(C,x){var w=[],k;function T(Me){var Re;return!!(Me&&!Me._visited&&(!x||x[(Re=Me._winding||{}).winding]&&!(x.unite&&Re.winding===2&&Re.windingL&&Re.windingR)))}function M(Me){if(Me){for(var Re=0,Be=k.length;Re<Be;Re++)if(Me===k[Re])return!0}return!1}function N(Me){for(var Re=Me._segments,Be=0,rt=Re.length;Be<rt;Be++)Re[Be]._visited=!0}function L(Me,Re){var Be=Me._intersection,rt=Be,ot=[];Re&&(k=[Me]);function st(Ge,je){for(;Ge&&Ge!==je;){var ct=Ge._segment,ht=ct&&ct._path;if(ht){var mt=ct.getNext()||ht.getFirstSegment(),Bt=mt._intersection;ct!==Me&&(M(ct)||M(mt)||mt&&T(ct)&&(T(mt)||Bt&&T(Bt._segment)))&&ot.push(ct),Re&&k.push(ct)}Ge=Ge._next}}if(Be){for(st(Be);Be&&Be._previous;)Be=Be._previous;st(Be,rt)}return ot}C.sort(function(Me,Re){var Be=Me._intersection,rt=Re._intersection,ot=!!(Be&&Be._overlap),st=!!(rt&&rt._overlap),Ge=Me._path,je=Re._path;return ot^st?ot?1:-1:!Be^!rt?Be?1:-1:Ge!==je?Ge._id-je._id:Me._index-Re._index});for(var O=0,D=C.length;O<D;O++){var U=C[O],R=T(U),H=null,q=!1,W=!0,G=[],Y,se,he;if(R&&U._path._overlapsOnly){var ve=U._path,we=U._intersection._segment._path;ve.compare(we)&&(ve.getArea()&&w.push(ve.clone(!1)),N(ve),N(we),R=!1)}for(;R;){var ae=!H,oe=L(U,ae),xe=oe.shift(),q=!ae&&(M(U)||M(xe)),Se=!q&&xe;if(ae&&(H=new be(z.NO_INSERT),Y=null),q){(U.isFirst()||U.isLast())&&(W=U._path._closed),U._visited=!0;break}if(Se&&Y&&(G.push(Y),Y=null),Y||(Se&&oe.push(U),Y={start:H._segments.length,crossings:oe,visited:se=[],handleIn:he}),Se&&(U=xe),!T(U)){H.removeSegments(Y.start);for(var Ie=0,Ne=se.length;Ie<Ne;Ie++)se[Ie]._visited=!1;se.length=0;do U=Y&&Y.crossings.shift(),(!U||!U._path)&&(U=null,Y=G.pop(),Y&&(se=Y.visited,he=Y.handleIn));while(Y&&!T(U));if(!U)break}var ge=U.getNext();H.add(new Ce(U._point,he,ge&&U._handleOut)),U._visited=!0,se.push(U),U=ge||U._path.getFirstSegment(),he=ge&&ge._handleIn}q&&(W&&(H.getFirstSegment().setHandleIn(he),H.setClosed(W)),H.getArea()!==0&&w.push(H))}return w}return{_getWinding:function(C,x,w){return E(C,this.getCurves(),x,w)},unite:function(C,x){return d(this,C,"unite",x)},intersect:function(C,x){return d(this,C,"intersect",x)},subtract:function(C,x){return d(this,C,"subtract",x)},exclude:function(C,x){return d(this,C,"exclude",x)},divide:function(C,x){return x&&(x.trace==!1||x.stroke)?g(this,C,"divide"):h([this.subtract(C,x),this.intersect(C,x)],!0,this,C,x)},resolveCrossings:function(){var C=this._children,x=C||[this];function w(Y,se){var he=Y&&Y._intersection;return he&&he._overlap&&he._path===se}var k=!1,T=!1,M=this.getIntersections(null,function(Y){return Y.hasOverlap()&&(k=!0)||Y.isCrossing()&&(T=!0)}),N=k&&T&&[];if(M=_t.expand(M),k)for(var L=S(M,function(Y){return Y.hasOverlap()},N),O=L.length-1;O>=0;O--){var D=L[O],U=D._path,R=D._segment,H=R.getPrevious(),q=R.getNext();w(H,U)&&w(q,U)&&(R.remove(),H._handleOut._set(0,0),q._handleIn._set(0,0),H!==R&&!H.getCurve().hasLength()&&(q._handleIn.set(H._handleIn),H.remove()))}T&&(S(M,k&&function(Y){var se=Y.getCurve(),he=Y.getSegment(),ve=Y._intersection,we=ve._curve,ae=ve._segment;if(se&&we&&se._path&&we._path)return!0;he&&(he._intersection=null),ae&&(ae._intersection=null)},N),N&&m(N),x=P(_.each(x,function(Y){_.push(this,Y._segments)},[])));var W=x.length,G;return W>1&&C?(x!==C&&this.setChildren(x),G=this):W===1&&!C&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),G=this),G||(G=new Ue(z.NO_INSERT),G.addChildren(x),G=G.reduce(),G.copyAttributes(this),this.replaceWith(G)),G},reorient:function(C,x){var w=this._children;return w&&w.length?this.setChildren(v(this.removeChildren(),function(k){return!!(C?k:k&1)},x)):x!==o&&this.setClockwise(x),this},getInteriorPoint:function(){var C=this.getBounds(),x=C.getCenter(!0);if(!this.contains(x)){for(var w=this.getCurves(),k=x.y,T=[],M=[],N=0,L=w.length;N<L;N++){var O=w[N].getValues(),D=O[1],U=O[3],R=O[5],H=O[7];if(k>=e(D,U,R,H)&&k<=t(D,U,R,H))for(var q=le.getMonoCurves(O),W=0,G=q.length;W<G;W++){var Y=q[W],se=Y[1],he=Y[7];if(se!==he&&(k>=se&&k<=he||k>=he&&k<=se)){var ve=k===se?Y[0]:k===he?Y[6]:le.solveCubic(Y,1,k,M,0,1)===1?le.getPoint(Y,M[0]).x:(Y[0]+Y[6])/2;T.push(ve)}}}T.length>1&&(T.sort(function(we,ae){return we-ae}),x.x=(T[0]+T[1])/2)}return x}}});var ut=_.extend({_class:"PathFlattener",initialize:function(e,t,i,a,u){var l=[],h=[],f=0,d=1/(i||32),g=e._segments,y=g[0],m;function v(P,C){var x=le.getValues(P,C,u);l.push(x),S(x,P._index,0,1)}function S(P,C,x,w){if(w-x>d&&!(a&&le.isStraight(P))&&!le.isFlatEnough(P,t||.25)){var k=le.subdivide(P,.5),T=(x+w)/2;S(k[0],C,x,T),S(k[1],C,T,w)}else{var M=P[6]-P[0],N=P[7]-P[1],L=Math.sqrt(M*M+N*N);L>0&&(f+=L,h.push({offset:f,curve:P,index:C,time:w}))}}for(var E=1,I=g.length;E<I;E++)m=g[E],v(y,m),y=m;e._closed&&v(m||y,g[0]),this.curves=l,this.parts=h,this.length=f,this.index=0},_get:function(e){for(var t=this.parts,i=t.length,a,u=this.index;a=u,!(!u||t[--u].offset<e););for(;a<i;a++){var l=t[a];if(l.offset>=e){this.index=a;var h=t[a-1],f=h&&h.index===l.index?h.time:0,d=h?h.offset:0;return{index:l.index,time:f+(l.time-f)*(e-d)/(l.offset-d)}}}return{index:t[i-1].index,time:1}},drawPart:function(e,t,i){for(var a=this._get(t),u=this._get(i),l=a.index,h=u.index;l<=h;l++){var f=le.getPart(this.curves[l],l===a.index?a.time:0,l===u.index?u.time:1);l===a.index&&e.moveTo(f[0],f[1]),e.bezierCurveTo.apply(e,f.slice(2))}}},_.each(le._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this._get(t);return le[e](this.curves[i.index],i.time)}},{})),vt=_.extend({initialize:function(e){for(var t=this.points=[],i=e._segments,a=e._closed,u=0,l,h=i.length;u<h;u++){var f=i[u].point;(!l||!l.equals(f))&&t.push(l=f.clone())}a&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=a},fit:function(e){var t=this.points,i=t.length,a=null;return i>0&&(a=[new Ce(t[0])],i>1&&(this.fitCubic(a,e,0,i-1,t[1].subtract(t[0]),t[i-2].subtract(t[i-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(e,t,i,a,u,l){var h=this.points;if(a-i===1){var f=h[i],d=h[a],g=f.getDistance(d)/3;this.addCurve(e,[f,f.add(u.normalize(g)),d.add(l.normalize(g)),d]);return}for(var y=this.chordLengthParameterize(i,a),m=Math.max(t,t*t),v,S=!0,E=0;E<=4;E++){var I=this.generateBezier(i,a,y,u,l),P=this.findMaxError(i,a,I,y);if(P.error<t&&S){this.addCurve(e,I);return}if(v=P.index,P.error>=m)break;S=this.reparameterize(i,a,y,I),m=P.error}var C=h[v-1].subtract(h[v+1]);this.fitCubic(e,t,i,v,u,C),this.fitCubic(e,t,v,a,C.negate(),l)},addCurve:function(e,t){var i=e[e.length-1];i.setHandleOut(t[1].subtract(t[0])),e.push(new Ce(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,i,a,u){for(var l=1e-12,h=Math.abs,f=this.points,d=f[e],g=f[t],y=[[0,0],[0,0]],m=[0,0],v=0,S=t-e+1;v<S;v++){var E=i[v],I=1-E,P=3*E*I,C=I*I*I,x=P*I,w=P*E,k=E*E*E,T=a.normalize(x),M=u.normalize(w),N=f[e+v].subtract(d.multiply(C+x)).subtract(g.multiply(w+k));y[0][0]+=T.dot(T),y[0][1]+=T.dot(M),y[1][0]=y[0][1],y[1][1]+=M.dot(M),m[0]+=T.dot(N),m[1]+=M.dot(N)}var L=y[0][0]*y[1][1]-y[1][0]*y[0][1],O,D;if(h(L)>l){var U=y[0][0]*m[1]-y[1][0]*m[0],R=m[0]*y[1][1]-m[1]*y[0][1];O=R/L,D=U/L}else{var H=y[0][0]+y[0][1],q=y[1][0]+y[1][1];O=D=h(H)>l?m[0]/H:h(q)>l?m[1]/q:0}var W=g.getDistance(d),G=l*W,Y,se;if(O<G||D<G)O=D=W/3;else{var he=g.subtract(d);Y=a.normalize(O),se=u.normalize(D),Y.dot(he)-se.dot(he)>W*W&&(O=D=W/3,Y=se=null)}return[d,d.add(Y||a.normalize(O)),g.add(se||u.normalize(D)),g]},reparameterize:function(e,t,i,a){for(var u=e;u<=t;u++)i[u-e]=this.findRoot(a,this.points[u],i[u-e]);for(var u=1,l=i.length;u<l;u++)if(i[u]<=i[u-1])return!1;return!0},findRoot:function(e,t,i){for(var a=[],u=[],l=0;l<=2;l++)a[l]=e[l+1].subtract(e[l]).multiply(3);for(var l=0;l<=1;l++)u[l]=a[l+1].subtract(a[l]).multiply(2);var h=this.evaluate(3,e,i),f=this.evaluate(2,a,i),d=this.evaluate(1,u,i),g=h.subtract(t),y=f.dot(f)+g.dot(d);return re.isMachineZero(y)?i:i-g.dot(f)/y},evaluate:function(e,t,i){for(var a=t.slice(),u=1;u<=e;u++)for(var l=0;l<=e-u;l++)a[l]=a[l].multiply(1-i).add(a[l+1].multiply(i));return a[0]},chordLengthParameterize:function(e,t){for(var i=[0],a=e+1;a<=t;a++)i[a-e]=i[a-e-1]+this.points[a].getDistance(this.points[a-1]);for(var a=1,u=t-e;a<=u;a++)i[a]/=i[u];return i},findMaxError:function(e,t,i,a){for(var u=Math.floor((t-e+1)/2),l=0,h=e+1;h<t;h++){var f=this.evaluate(3,i,a[h-e]),d=f.subtract(this.points[h]),g=d.x*d.x+d.y*d.y;g>=l&&(l=g,u=h)}return{error:l,index:u}}}),Dt=z.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&_.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(i&&t,!i&&F.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Wt=Dt.extend({_class:"PointText",initialize:function(){Dt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new me(e.x,e.y,this,"setPoint")},setPoint:function(){var e=F.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,i){if(!!this._content){this._setStyles(e,t,i);var a=this._lines,u=this._style,l=u.hasFill(),h=u.hasStroke(),f=u.getLeading(),d=e.shadowColor;e.font=u.getFontStyle(),e.textAlign=u.getJustification();for(var g=0,y=a.length;g<y;g++){e.shadowColor=d;var m=a[g];l&&(e.fillText(m,0,0),e.shadowColor="rgba(0,0,0,0)"),h&&e.strokeText(m,0,0),e.translate(0,f)}}},_getBounds:function(e,t){var i=this._style,a=this._lines,u=a.length,l=i.getJustification(),h=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),a),d=0;l!=="left"&&(d-=f/(l==="center"?2:1));var g=new Z(d,u?-.75*h:0,f,u*h);return e?e._transformBounds(g,g):g}}),Ye=_.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},i={transparent:[0,0,0,0]},a;function u(f){var d=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),g="rgb",y;if(d){var m=d[4]?4:3;y=new Array(m);for(var v=0;v<m;v++){var S=d[v+1];y[v]=parseInt(S.length==1?S+S:S,16)/255}}else if(d=f.match(/^(rgb|hsl)a?\((.*)\)$/)){g=d[1],y=d[2].trim().split(/[,\s]+/g);for(var E=g==="hsl",v=0,I=Math.min(y.length,4);v<I;v++){var P=y[v],S=parseFloat(P);if(E)if(v===0){var C=P.match(/([a-z]*)$/)[1];S*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else v<3&&(S/=100);else v<3&&(S/=/%$/.test(P)?100:255);y[v]=S}}else{var x=i[f];if(!x)if(p){a||(a=dt.getContext(1,1),a.globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=f,a.fillRect(0,0,1,1);var w=a.getImageData(0,0,1,1).data;x=i[f]=[w[0]/255,w[1]/255,w[2]/255]}else x=[0,0,0];y=x.slice()}return[g,y]}var l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(f,d,g){var y=Math.max(f,d,g),m=Math.min(f,d,g),v=y-m,S=v===0?0:(y==f?(d-g)/v+(d<g?6:0):y==d?(g-f)/v+2:(f-d)/v+4)*60;return[S,y===0?0:v/y,y]},"hsb-rgb":function(f,d,g){f=(f/60%6+6)%6;var m=Math.floor(f),y=f-m,m=l[m],v=[g,g*(1-d),g*(1-d*y),g*(1-d*(1-y))];return[v[m[0]],v[m[1]],v[m[2]]]},"rgb-hsl":function(f,d,g){var y=Math.max(f,d,g),m=Math.min(f,d,g),v=y-m,S=v===0,E=S?0:(y==f?(d-g)/v+(d<g?6:0):y==d?(g-f)/v+2:(f-d)/v+4)*60,I=(y+m)/2,P=S?0:I<.5?v/(y+m):v/(2-y-m);return[E,P,I]},"hsl-rgb":function(f,d,g){if(f=(f/360%1+1)%1,d===0)return[g,g,g];for(var y=[f+1/3,f,f-1/3],m=g<.5?g*(1+d):g+d-g*d,v=2*g-m,S=[],E=0;E<3;E++){var I=y[E];I<0&&(I+=1),I>1&&(I-=1),S[E]=6*I<1?v+(m-v)*6*I:2*I<1?m:3*I<2?v+(m-v)*(2/3-I)*6:v}return S},"rgb-gray":function(f,d,g){return[f*.2989+d*.587+g*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return _.each(e,function(f,d){t[d]=[],_.each(f,function(g,y){var m=_.capitalize(g),v=/^(hue|saturation)$/.test(g),S=t[d][y]=d==="gradient"?g==="gradient"?function(E){var I=this._components[0];return E=Rt.read(Array.isArray(E)?E:arguments,0,{readNull:!0}),I!==E&&(I&&I._removeOwner(this),E&&E._addOwner(this)),E}:function(){return F.read(arguments,0,{readNull:g==="highlight",clone:!0})}:function(E){return E==null||isNaN(E)?0:+E};this["get"+m]=function(){return this._type===d||v&&/^hs[bl]$/.test(this._type)?this._components[y]:this._convert(d)[y]},this["set"+m]=function(E){this._type!==d&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(d),this._properties=e[d],this._type=d),this._components[y]=S.call(this,E),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(d){var g=arguments,y=this.__read,m=0,v,S,E,I;Array.isArray(d)&&(g=d,d=g[0]);var P=d!=null&&typeof d;if(P==="string"&&d in e&&(v=d,d=g[1],Array.isArray(d)?(S=d,E=g[2]):(y&&(m=1),g=_.slice(g,1),P=typeof d)),!S){if(I=P==="number"?g:P==="object"&&d.length!=null?d:null,I){v||(v=I.length>=3?"rgb":"gray");var C=e[v].length;E=I[C],y&&(m+=I===arguments?C+(E!=null?1:0):1),I.length>C&&(I=_.slice(I,0,C))}else if(P==="string"){var x=u(d);v=x[0],S=x[1],S.length===4&&(E=S[3],S.length--)}else if(P==="object")if(d.constructor===f){if(v=d._type,S=d._components.slice(),E=d._alpha,v==="gradient")for(var w=1,k=S.length;w<k;w++){var T=S[w];T&&(S[w]=T.clone())}}else if(d.constructor===Rt)v="gradient",I=g;else{v="hue"in d?"lightness"in d?"hsl":"hsb":"gradient"in d||"stops"in d||"radial"in d?"gradient":"gray"in d?"gray":"rgb";var M=e[v],N=t[v];this._components=S=[];for(var w=0,k=M.length;w<k;w++){var L=d[M[w]];L==null&&!w&&v==="gradient"&&"stops"in d&&(L={stops:d.stops,radial:d.radial}),L=N[w].call(this,L),L!=null&&(S[w]=L)}E=d.alpha}y&&v&&(m=1)}if(this._type=v||"rgb",!S){this._components=S=[];for(var N=t[this._type],w=0,k=N.length;w<k;w++){var L=N[w].call(this,I&&I[w]);L!=null&&(S[w]=L)}}return this._components=S,this._properties=e[this._type],this._alpha=E,y&&(this.__read=m),this},set:"#initialize",_serialize:function(f,d){var g=this.getComponents();return _.serialize(/^(gray|rgb)$/.test(this._type)?g:[this._type].concat(g),f,!0,d)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var d;return this._type===f?this._components.slice():(d=h[this._type+"-"+f])?d.apply(this,this._components):h["rgb-"+f].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new Ye(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=e[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var d=_.isPlainValue(f,!0)?Ye.read(arguments):f;return d===this||d&&this._class===d._class&&this._type===d._type&&this.getAlpha()===d.getAlpha()&&_.equals(this._components,d._components)||!1},toString:function(){for(var f=this._properties,d=[],g=this._type==="gradient",y=fe.instance,m=0,v=f.length;m<v;m++){var S=this._components[m];S!=null&&d.push(f[m]+": "+(g?S:y.number(S)))}return this._alpha!=null&&d.push("alpha: "+y.number(this._alpha)),"{ "+d.join(", ")+" }"},toCSS:function(f){var d=this._convert("rgb"),g=f||this._alpha==null?1:this._alpha;function y(m){return Math.round((m<0?0:m>1?1:m)*255)}return d=[y(d[0]),y(d[1]),y(d[2])],g<1&&d.push(g<0?0:g),f?"#"+((1<<24)+(d[0]<<16)+(d[1]<<8)+d[2]).toString(16).slice(1):(d.length==4?"rgba(":"rgb(")+d.join(",")+")"},toCanvasStyle:function(f,d){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var g=this._components,y=g[0],m=y._stops,v=g[1],S=g[2],E=g[3],I=d&&d.inverted(),P;if(I&&(v=I._transformPoint(v),S=I._transformPoint(S),E&&(E=I._transformPoint(E))),y._radial){var C=S.getDistance(v);if(E){var x=E.subtract(v);x.getLength()>C&&(E=v.add(x.normalize(C-.1)))}var w=E||v;P=f.createRadialGradient(w.x,w.y,0,v.x,v.y,C)}else P=f.createLinearGradient(v.x,v.y,S.x,S.y);for(var k=0,T=m.length;k<T;k++){var M=m[k],N=M._offset;P.addColorStop(N==null?k/(T-1):N,M._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(f){if(this._type==="gradient"){for(var d=this._components,g=1,y=d.length;g<y;g++){var m=d[g];f._transformPoint(m,m,!0)}this._changed()}},statics:{_types:e,random:function(){var f=Math.random;return new Ye(f(),f(),f())},_setOwner:function(f,d,g){return f&&(f._owner&&d&&f._owner!==d&&(f=f.clone()),!f._owner^!d&&(f._owner=d||null,f._setter=g||null)),f}}})},new function(){var e={add:function(t,i){return t+i},subtract:function(t,i){return t-i},multiply:function(t,i){return t*i},divide:function(t,i){return t/i}};return _.each(e,function(t,i){this[i]=function(a){a=Ye.read(arguments);for(var u=this._type,l=this._components,h=a._convert(u),f=0,d=l.length;f<d;f++)h[f]=t(l[f],h[f]);return new Ye(u,h,this._alpha!=null?t(this._alpha,a.getAlpha()):null)}},{})}),Rt=_.extend({_class:"Gradient",initialize:function(t,i){this._id=ue.get(),t&&_.isPlainObject(t)&&(this.set(t),t=i=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(e,t){return t.add(this,function(){return _.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=o))},clone:function(){for(var e=[],t=0,i=this._stops.length;t<i;t++)e[t]=this._stops[t].clone();return new Rt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var i=0,a=t.length;i<a;i++)t[i]._owner=o;t=this._stops=gn.readList(e,0,{clone:!0});for(var i=0,a=t.length;i<a;i++)t[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,i=e._stops,a=t.length;if(a===i.length){for(var u=0;u<a;u++)if(!t[u].equals(i[u]))return!1;return!0}}return!1}}),gn=_.extend({_class:"GradientStop",initialize:function(t,i){var a=t,u=i;typeof t=="object"&&i===o&&(Array.isArray(t)&&typeof t[0]!="number"?(a=t[0],u=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(a=t.color,u=t.offset||t.rampPoint||0)),this.setColor(a),this.setOffset(u)},clone:function(){return new gn(this._color.clone(),this._offset)},_serialize:function(e,t){var i=this._color,a=this._offset;return _.serialize(a==null?[i]:[i,a],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ye._setOwner(this._color,null),this._color=Ye._setOwner(Ye.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),xn=_.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new F,selectedColor:null},t=_.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=_.set({},t,{fillColor:new Ye}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},u={beans:!0},l={_class:"Style",beans:!0,initialize:function(f,d,g){this._values={},this._owner=d,this._project=d&&d._project||g||r.project,this._defaults=!d||d instanceof Pe?t:d instanceof Dt?i:e,f&&this.set(f)}};return _.each(t,function(h,f){var d=/Color$/.test(f),g=f==="shadowOffset",y=_.capitalize(f),m=a[f],v="set"+y,S="get"+y;l[v]=function(E){var I=this._owner,P=I&&I._children,C=P&&P.length>0&&!(I instanceof Ue);if(C)for(var x=0,w=P.length;x<w;x++)P[x]._style[v](E);if((f==="selectedColor"||!C)&&f in this._defaults){var k=this._values[f];k!==E&&(d&&(k&&(Ye._setOwner(k,null),k._canvasStyle=null),E&&E.constructor===Ye&&(E=Ye._setOwner(E,I,C&&v))),this._values[f]=E,I&&I._changed(m||129))}},l[S]=function(E){var I=this._owner,P=I&&I._children,C=P&&P.length>0&&!(I instanceof Ue),x;if(C&&!E)for(var w=0,k=P.length;w<k;w++){var T=P[w]._style[S]();if(!w)x=T;else if(!_.equals(x,T))return o}else if(f in this._defaults){var x=this._values[f];if(x===o)x=this._defaults[f],x&&x.clone&&(x=x.clone());else{var M=d?Ye:g?F:null;M&&!(x&&x.constructor===M)&&(this._values[f]=x=M.read([x],0,{readNull:!0,clone:!0}))}}return x&&d&&(x=Ye._setOwner(x,I,C&&v)),x},u[S]=function(E){return this._style[S](E)},u[v]=function(E){this._style[v](E)}}),_.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,f){var d="get"+f,g="set"+f;l[d]=u[d]="#get"+h,l[g]=u[g]="#set"+h}),z.inject(u),l},{set:function(e){var t=e instanceof xn,i=t?e._values:e;if(i){for(var a in i)if(a in this._defaults){var u=i[a];this[a]=u&&t&&u.clone?u.clone():u}}},equals:function(e){function t(i,a,u){var l=i._values,h=a._values,f=a._defaults;for(var d in l){var g=l[d],y=h[d];if(!(u&&d in h)&&!_.equals(g,y===o?f[d]:y))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),t!=null?t:i*1.2}}),We=new function(){function e(t,i,a,u){for(var l=["","webkit","moz","Moz","ms","o"],h=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var d=l[f],g=d?d+h:i;if(g in t){if(a)t[g]=u;else return t[g];break}}}return{getStyles:function(t){var i=t&&t.nodeType!==9?t.ownerDocument:t,a=i&&i.defaultView;return a&&a.getComputedStyle(t,"")},getBounds:function(t,i){var a=t.ownerDocument,u=a.body,l=a.documentElement,h;try{h=t.getBoundingClientRect()}catch(y){h={left:0,top:0,width:0,height:0}}var f=h.left-(l.clientLeft||u.clientLeft||0),d=h.top-(l.clientTop||u.clientTop||0);if(!i){var g=a.defaultView;f+=g.pageXOffset||l.scrollLeft||u.scrollLeft,d+=g.pageYOffset||l.scrollTop||u.scrollTop}return new Z(f,d,h.width,h.height)},getViewportBounds:function(t){var i=t.ownerDocument,a=i.defaultView,u=i.documentElement;return new Z(0,0,a.innerWidth||u.clientWidth,a.innerHeight||u.clientHeight)},getOffset:function(t,i){return We.getBounds(t,i).getPoint()},getSize:function(t){return We.getBounds(t,!0).getSize()},isInvisible:function(t){return We.getSize(t).equals(new te(0,0))},isInView:function(t){return!We.isInvisible(t)&&We.getViewportBounds(t).intersects(We.getBounds(t,!0))},isInserted:function(t){return b.body.contains(t)},getPrefixed:function(t,i){return t&&e(t,i)},setPrefixed:function(t,i,a){if(typeof i=="object")for(var u in i)e(t,u,!0,i[u]);else e(t,i,!0,a)}}},et={add:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++){var f=u[l],d=e===b&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;e.addEventListener(f,a,d)}},remove:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++)e.removeEventListener(u[l],a,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new F(t.pageX||t.clientX+b.documentElement.scrollLeft,t.pageY||t.clientY+b.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return et.getPoint(e).subtract(We.getOffset(t||et.getTarget(e)))}};et.requestAnimationFrame=new function(){var e=We.getPrefixed(p,"requestAnimationFrame"),t=!1,i=[],a;function u(){var l=i;i=[];for(var h=0,f=l.length;h<f;h++)l[h]();t=e&&i.length,t&&e(u)}return function(l){i.push(l),e?t||(e(u),t=!0):a||(a=setInterval(u,1e3/60))}};var Je=_.extend(V,{_class:"View",initialize:function e(t,i){function a(m){return i[m]||parseInt(i.getAttribute(m),10)}function u(){var m=We.getSize(i);return m.isNaN()||m.isZero()?new te(a("width"),a("height")):m}var l;if(p&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+e._id++),et.add(i,this._viewEvents);var h="none";if(We.setPrefixed(i.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),Q.hasAttribute(i,"resize")){var f=this;et.add(p,this._windowEvents={resize:function(){f.setViewSize(u())}})}if(l=u(),Q.hasAttribute(i,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var d=this._stats.domElement,g=d.style,y=We.getOffset(i);g.position="absolute",g.left=y.x+"px",g.top=y.y+"px",b.body.appendChild(d)}}else l=new te(i),i=null;this._project=t,this._scope=t._scope,this._element=i,this._pixelRatio||(this._pixelRatio=p&&p.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new J)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Je._focused===this&&(Je._focused=null),Je._views.splice(Je._views.indexOf(this),1),delete Je._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),et.remove(this._element,this._viewEvents),et.remove(p,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:_.each(z._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;et.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!We.getPrefixed(b,"hidden")||Q.getAttribute(t,"keepalive")==="true")&&We.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new _({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var i=this._frameItems;t?(i[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var i=this._frameItems[t];i.item.emit("frame",new _(e,{time:i.time+=e.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new Te(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=te.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var i=this._element;i&&(i.width!==e&&(i.width=e),i.height!==t&&(i.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Z(new F,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return We.isInView(this._element)},isInserted:function(){return We.isInserted(this._element)},getPixelSize:function(e){var t=this._element,i;if(t){var a=t.parentNode,u=b.createElement("div");u.style.fontSize=e,a.appendChild(u),i=parseFloat(We.getStyles(u).fontSize),a.removeChild(u)}else i=parseFloat(i);return i},getTextWidth:function(e,t){return 0}},_.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?_:F).read(i),u=F.read(i,0,{readNull:!0});return this.transform(new J()[e](a,u||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new J;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=F.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new J().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new me(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=F.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(F.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(F.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(F.read(arguments))},getEventPoint:function(e){return this.viewToProject(et.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){b&&typeof t=="string"&&(t=b.getElementById(t));var i=p?ur:Je;return new i(e,t)}}},new function(){if(!p)return;var e,t,i=!1,a=!1;function u(R){var H=et.getTarget(R);return H.getAttribute&&Je._viewsById[H.getAttribute("id")]}function l(){var R=Je._focused;if(!R||!R.isVisible()){for(var H=0,q=Je._views.length;H<q;H++)if((R=Je._views[H]).isVisible()){Je._focused=t=R;break}}}function h(R,H,q){R._handleMouseEvent("mousemove",H,q)}var f=p.navigator,d,g,y;f.pointerEnabled||f.msPointerEnabled?(d="pointerdown MSPointerDown",g="pointermove MSPointerMove",y="pointerup pointercancel MSPointerUp MSPointerCancel"):(d="touchstart",g="touchmove",y="touchend touchcancel","ontouchstart"in p&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(d+=" mousedown",g+=" mousemove",y+=" mouseup"));var m={},v={mouseout:function(R){var H=Je._focused,q=et.getRelatedTarget(R);if(H&&(!q||q.nodeName==="HTML")){var W=et.getOffset(R,H._element),G=W.x,Y=Math.abs,se=Y(G),he=1<<25,ve=se-he;W.x=Y(ve)<se?ve*(G<0?-1:1):G,h(H,R,H.viewToProject(W))}},scroll:l};m[d]=function(R){var H=Je._focused=u(R);i||(i=!0,H._handleMouseEvent("mousedown",R))},v[g]=function(R){var H=Je._focused;if(!a){var q=u(R);q?H!==q&&(H&&h(H,R),e||(e=H),H=Je._focused=t=q):t&&t===H&&(e&&!e.isInserted()&&(e=null),H=Je._focused=e,e=null,l())}H&&h(H,R)},v[d]=function(){a=!0},v[y]=function(R){var H=Je._focused;H&&i&&H._handleMouseEvent("mouseup",R),a=i=!1},et.add(b,v),et.add(p,{load:l});var S=!1,E=!1,I={doubleclick:"click",mousedrag:"mousemove"},P=!1,C,x,w,k,T,M,N,L;function O(R,H,q,W,G,Y,se){var he=!1,ve;function we(ae,oe){if(ae.responds(oe)){if(ve||(ve=new $n(oe,W,G,H||ae,Y?G.subtract(Y):null)),ae.emit(oe,ve)&&(S=!0,ve.prevented&&(E=!0),ve.stopped))return he=!0}else{var xe=I[oe];if(xe)return we(ae,xe)}}for(;R&&R!==se&&!we(R,q);)R=R._parent;return he}function D(R,H,q,W,G,Y){return R._project.removeOn(q),E=S=!1,T&&O(T,null,q,W,G,Y)||H&&H!==T&&!H.isDescendant(T)&&O(H,null,q==="mousedrag"?"mousemove":q,W,G,Y,T)||O(R,T||H||R,q,W,G,Y)}var U={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(R,H,q){var W=this._itemEvents,G=W.native[R],Y=R==="mousemove",se=this._scope.tool,he=this;function ve(Ne){return W.virtual[Ne]||he.responds(Ne)||se&&se.responds(Ne)}Y&&i&&ve("mousedrag")&&(R="mousedrag"),q||(q=this.getEventPoint(H));var we=this.getBounds().contains(q),ae=G&&we&&he._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),oe=ae&&ae.item||null,xe=!1,Se={};if(Se[R.substr(5)]=!0,G&&oe!==k&&(k&&O(k,null,"mouseleave",H,q),oe&&O(oe,null,"mouseenter",H,q),k=oe),P^we&&(O(this,null,we?"mouseenter":"mouseleave",H,q),xe=!0),(we||Se.drag)&&!q.equals(x)&&(D(this,oe,Y?R:"mousemove",H,q,x),xe=!0),P=we,Se.down&&we||Se.up&&C){if(D(this,oe,R,H,q,C),Se.down){if(L=oe===M&&Date.now()-N<300,w=M=oe,!E&&oe){for(var Ie=oe;Ie&&!Ie.responds("mousedrag");)Ie=Ie._parent;Ie&&(T=oe)}C=q}else Se.up&&(!E&&oe===w&&(N=Date.now(),D(this,oe,L?"doubleclick":"click",H,q,C),L=!1),w=T=null);P=!1,xe=!0}x=q,xe&&se&&(S=se._handleMouseEvent(R,H,q,Se)||S),H.cancelable!==!1&&(S&&!Se.move||Se.down&&ve("mouseup"))&&H.preventDefault()},_handleKeyEvent:function(R,H,q,W){var G=this._scope,Y=G.tool,se;function he(ve){ve.responds(R)&&(r=G,ve.emit(R,se=se||new Bi(R,H,q,W)))}this.isVisible()&&(he(this),Y&&Y.responds(R)&&he(Y))},_countItemEvent:function(R,H){var q=this._itemEvents,W=q.native,G=q.virtual;for(var Y in U)W[Y]=(W[Y]||0)+(U[Y][R]||0)*H;G[R]=(G[R]||0)+H},statics:{updateFocus:l,_resetState:function(){i=a=S=P=!1,e=t=C=x=w=k=T=M=N=L=null}}}}),ur=Je.extend({_class:"CanvasView",initialize:function(t,i){if(!(i instanceof p.HTMLCanvasElement)){var a=te.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+_.slice(arguments,1));i=dt.getCanvas(a)}var u=this._context=i.getContext("2d");if(u.save(),this._pixelRatio=1,!/^off|false$/.test(Q.getAttribute(i,"hidpi"))){var l=p.devicePixelRatio||1,h=We.getPrefixed(u,"backingStorePixelRatio")||1;this._pixelRatio=l/h}Je.call(this,t,i),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,i){var a=this._pixelRatio;if(e.base.call(this,t*a,i*a),a!==1){var u=this._element,l=this._context;if(!Q.hasAttribute(u,"resize")){var h=u.style;h.width=t+"px",h.height=i+"px"}l.restore(),l.save(),l.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function e(t){var i=r.agent,a;if(i&&i.firefox)a=e.base.call(this,t);else{var u=this._context,l=u.font;u.font=t+" serif",a=parseFloat(u.font),u.font=l}return a},getTextWidth:function(e,t){var i=this._context,a=i.font,u=0;i.font=e;for(var l=0,h=t.length;l<h;l++)u=Math.max(u,i.measureText(t[l]).width);return i.font=a,u},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,i=this._viewSize;return t.clearRect(0,0,i.width+1,i.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),En=_.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return fi.modifiers}}),Bi=En.extend({_class:"KeyEvent",initialize:function(t,i,a,u){this.type=t,this.event=i,this.key=a,this.character=u},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),fi=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},i={},a={},u,l,h=new _({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var g=r&&r.agent;return g&&g.mac?this.meta:this.control}}});function f(g){var y=g.key||g.keyIdentifier;return y=/^U\+/.test(y)?String.fromCharCode(parseInt(y.substr(2),16)):/^Arrow[A-Z]/.test(y)?y.substr(5):y==="Unidentified"||y===o?String.fromCharCode(g.keyCode):y,e[y]||(y.length>1?_.hyphenate(y):y.toLowerCase())}function d(g,y,m,v){var S=Je._focused,E;if(i[y]=g,g?a[y]=m:delete a[y],y.length>1&&(E=_.camelize(y))in h){h[E]=g;var I=r&&r.agent;if(E==="meta"&&I&&I.mac)if(g)u={};else{for(var P in u)P in a&&d(!1,P,u[P],v);u=null}}else g&&u&&(u[y]=m);S&&S._handleKeyEvent(g?"keydown":"keyup",v,y,m)}return et.add(b,{keydown:function(g){var y=f(g),m=r&&r.agent;y.length>1||m&&m.chrome&&(g.altKey||m.mac&&g.metaKey||!m.mac&&g.ctrlKey)?d(!0,y,t[y]||(y.length>1?"":y),g):l=y},keypress:function(g){if(l){var y=f(g),m=g.charCode,v=m>=32?String.fromCharCode(m):y.length>1?"":y;y!==l&&(y=v.toLowerCase()),d(!0,y,v,g),l=null}},keyup:function(g){var y=f(g);y in a&&d(!1,y,a[y],g)}}),et.add(p,{blur:function(g){for(var y in a)d(!1,y,a[y],g)}}),{modifiers:h,isDown:function(g){return!!i[g]}}},$n=En.extend({_class:"MouseEvent",initialize:function(t,i,a,u,l){this.type=t,this.event=i,this.point=a,this.target=u,this.delta=l},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Vi=En.extend({_class:"ToolEvent",_item:null,initialize:function(t,i,a){this.tool=t,this.type=i,this.event=a},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,i=t._parent;/^(Group|CompoundPath)$/.test(i._class);)t=i,i=i._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ui=K.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){K.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,i,a){r=this._scope,a.drag&&!this.responds(e)&&(e="mousemove");var u=a.move||a.drag,l=this.responds(e),h=this.minDistance,f=this.maxDistance,d=!1,g=this;function y(v,S){var E=i,I=u?g._point:g._downPoint||E;if(u){if(g._moveCount>=0&&E.equals(I))return!1;if(I&&(v!=null||S!=null)){var P=E.subtract(I),C=P.getLength();if(C<(v||0))return!1;S&&(E=I.add(P.normalize(Math.min(C,S))))}g._moveCount++}return g._point=E,g._lastPoint=I||E,a.down&&(g._moveCount=-1,g._downPoint=E,g._downCount++),!0}function m(){l&&(d=g.emit(e,new Vi(g,e,t))||d)}if(a.down)y(),m();else if(a.up)y(null,f),m();else if(l)for(;y(h,f);)m();return d}}),ci=_.extend(V,{_class:"Tween",statics:{easings:new _({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,i,a,u,l,h){this.object=t;var f=typeof l,d=f==="function";this.type=d?f:f==="string"?l:"linear",this.easing=d?l:e.easings[this.type],this.duration=u,this.running=!1,this._then=null,this._startTime=null;var g=i||a;this._keys=g?Object.keys(g):[],this._parsedKeys=this._parseKeys(this._keys),this._from=g&&this._getState(i),this._to=g&&this._getState(a),h!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),i=this._keys,a=function(y){return typeof y=="function"?y(t,e):y},u=0,l=i&&i.length;u<l;u++){var h=i[u],f=a(this._from[h]),d=a(this._to[h]),g=f&&d&&f.__add&&d.__add?d.__subtract(f).__multiply(t).__add(f):(d-f)*t+f;this._setProperty(this._parsedKeys[h],g)}this.responds("update")&&this.emit("update",new _({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,i=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(i)},_getState:function(e){for(var t=this._keys,i={},a=0,u=t.length;a<u;a++){var l=t[a],h=this._parsedKeys[l],f=this._getProperty(h),d;if(e){var g=this._resolveValue(f,e[l]);this._setProperty(h,g),d=this._getProperty(h),d=d&&d.clone?d.clone():d,this._setProperty(h,f)}else d=f&&f.clone?f.clone():f;i[l]=d}return i},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var i=t[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(e,i[0],t[1]):t}else if(typeof t=="string"){var a=t.match(/^[+\-*/]=(.*)/);if(a){var u=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],u)}}}return t},_calculate:function(e,t,i){return r.PaperScript.calculateBinary(e,t,i)},_parseKeys:function(e){for(var t={},i=0,a=e.length;i<a;i++){var u=e[i],l=u.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[u]=l.split("/")}return t},_getProperty:function(e,t){for(var i=this.object,a=0,u=e.length-(t||0);a<u&&i;a++)i=i[e[a]];return i},_setProperty:function(e,t){var i=this._getProperty(e,1);i&&(i[e[e.length-1]]=t)}}),kt={request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,_.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var i=t.status;i===0||i===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var i=t.status,a='Could not load "'+e.url+'" (Status: '+i+")";if(e.onError)e.onError(a,i);else throw new Error(a)},t.send(null)}},dt=_.exports.CanvasProvider={canvases:[],getCanvas:function(e,t){if(!p)return null;var i,a=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?i=this.canvases.pop():(i=b.createElement("canvas"),a=!1);var u=i.getContext("2d");if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===e&&i.height===t?a&&u.clearRect(0,0,e+1,t+1):(i.width=e,i.height=t),u.save(),i},getContext:function(e,t){var i=this.getCanvas(e,t);return i?i.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},St=new function(){var e=Math.min,t=Math.max,i=Math.abs,a,u,l,h,f,d,g,y,m,v,S;function E(T,M,N){return .2989*T+.587*M+.114*N}function I(T,M,N,D){var O=D-E(T,M,N);m=T+O,v=M+O,S=N+O;var D=E(m,v,S),U=e(m,v,S),R=t(m,v,S);if(U<0){var H=D-U;m=D+(m-D)*D/H,v=D+(v-D)*D/H,S=D+(S-D)*D/H}if(R>255){var q=255-D,W=R-D;m=D+(m-D)*q/W,v=D+(v-D)*q/W,S=D+(S-D)*q/W}}function P(T,M,N){return t(T,M,N)-e(T,M,N)}function C(T,M,N,L){var O=[T,M,N],D=t(T,M,N),U=e(T,M,N),R;U=U===T?0:U===M?1:2,D=D===T?0:D===M?1:2,R=e(U,D)===0?t(U,D)===1?2:1:0,O[D]>O[U]?(O[R]=(O[R]-O[U])*L/(O[D]-O[U]),O[D]=L):O[R]=O[D]=0,O[U]=0,m=O[0],v=O[1],S=O[2]}var x={multiply:function(){m=f*a/255,v=d*u/255,S=g*l/255},screen:function(){m=f+a-f*a/255,v=d+u-d*u/255,S=g+l-g*l/255},overlay:function(){m=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=d<128?2*d*u/255:255-2*(255-d)*(255-u)/255,S=g<128?2*g*l/255:255-2*(255-g)*(255-l)/255},"soft-light":function(){var T=a*f/255;m=T+f*(255-(255-f)*(255-a)/255-T)/255,T=u*d/255,v=T+d*(255-(255-d)*(255-u)/255-T)/255,T=l*g/255,S=T+g*(255-(255-g)*(255-l)/255-T)/255},"hard-light":function(){m=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*d/255:255-2*(255-u)*(255-d)/255,S=l<128?2*l*g/255:255-2*(255-l)*(255-g)/255},"color-dodge":function(){m=f===0?0:a===255?255:e(255,255*f/(255-a)),v=d===0?0:u===255?255:e(255,255*d/(255-u)),S=g===0?0:l===255?255:e(255,255*g/(255-l))},"color-burn":function(){m=f===255?255:a===0?0:t(0,255-(255-f)*255/a),v=d===255?255:u===0?0:t(0,255-(255-d)*255/u),S=g===255?255:l===0?0:t(0,255-(255-g)*255/l)},darken:function(){m=f<a?f:a,v=d<u?d:u,S=g<l?g:l},lighten:function(){m=f>a?f:a,v=d>u?d:u,S=g>l?g:l},difference:function(){m=f-a,m<0&&(m=-m),v=d-u,v<0&&(v=-v),S=g-l,S<0&&(S=-S)},exclusion:function(){m=f+a*(255-f-f)/255,v=d+u*(255-d-d)/255,S=g+l*(255-g-g)/255},hue:function(){C(a,u,l,P(f,d,g)),I(m,v,S,E(f,d,g))},saturation:function(){C(f,d,g,P(a,u,l)),I(m,v,S,E(f,d,g))},luminosity:function(){I(f,d,g,E(a,u,l))},color:function(){I(a,u,l,E(f,d,g))},add:function(){m=e(f+a,255),v=e(d+u,255),S=e(g+l,255)},subtract:function(){m=t(f-a,0),v=t(d-u,0),S=t(g-l,0)},average:function(){m=(f+a)/2,v=(d+u)/2,S=(g+l)/2},negation:function(){m=255-i(255-a-f),v=255-i(255-u-d),S=255-i(255-l-g)}},w=this.nativeModes=_.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(T){this[T]=!0},{}),k=dt.getContext(1,1);k&&(_.each(x,function(T,M){var N=M==="darken",L=!1;k.save();try{k.fillStyle=N?"#300":"#a00",k.fillRect(0,0,1,1),k.globalCompositeOperation=M,k.globalCompositeOperation===M&&(k.fillStyle=N?"#a00":"#300",k.fillRect(0,0,1,1),L=k.getImageData(0,0,1,1).data[0]!==N?170:51)}catch(O){}k.restore(),w[M]=L}),dt.release(k)),this.process=function(T,M,N,L,O){var D=M.canvas,U=T==="normal";if(U||w[T])N.save(),N.setTransform(1,0,0,1,0,0),N.globalAlpha=L,U||(N.globalCompositeOperation=T),N.drawImage(D,O.x,O.y),N.restore();else{var R=x[T];if(!R)return;for(var H=N.getImageData(O.x,O.y,D.width,D.height),q=H.data,W=M.getImageData(0,0,D.width,D.height).data,G=0,Y=q.length;G<Y;G+=4){a=W[G],f=q[G],u=W[G+1],d=q[G+1],l=W[G+2],g=q[G+2],h=W[G+3],y=q[G+3],R();var se=h*L/255,he=1-se;q[G]=se*m+he*f,q[G+1]=se*v+he*d,q[G+2]=se*S+he*g,q[G+3]=h*L+he*y}N.putImageData(H,O.x,O.y)}}},Ct=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",a={href:i,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function u(f,d,g){return h(b.createElementNS(e,f),d,g)}function l(f,d){var g=a[d],y=g?f.getAttributeNS(g,d):f.getAttribute(d);return y==="null"?null:y}function h(f,d,g){for(var y in d){var m=d[y],v=a[y];typeof m=="number"&&g&&(m=g.number(m)),v?f.setAttributeNS(v,y,m):f.setAttribute(y,m)}return f}return{svg:e,xmlns:t,xlink:i,create:u,get:l,set:h}},tt=_.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Le||e instanceof Fe||e instanceof Dt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var i=_.capitalize(t),a=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:a,fromSVG:a&&_.each(a,function(u,l){this[u]=l},{}),exportFilter:e[3],get:"get"+i,set:"set"+i}},{});new function(){var e;function t(x,w,k){var T=new _,M=x.getTranslation();if(w){var N;x.isInvertible()?(x=x._shiftless(),N=x._inverseTransform(M),M=null):N=new F,T[k?"cx":"x"]=N.x,T[k?"cy":"y"]=N.y}if(!x.isIdentity()){var L=x.decompose();if(L){var O=[],D=L.rotation,U=L.scaling,R=L.skewing;M&&!M.isZero()&&O.push("translate("+e.point(M)+")"),D&&O.push("rotate("+e.number(D)+")"),(!re.isZero(U.x-1)||!re.isZero(U.y-1))&&O.push("scale("+e.point(U)+")"),R.x&&O.push("skewX("+e.number(R.x)+")"),R.y&&O.push("skewY("+e.number(R.y)+")"),T.transform=O.join(" ")}else T.transform="matrix("+x.getValues().join(",")+")"}return T}function i(x,w){for(var k=t(x._matrix),T=x._children,M=Ct.create("g",k,e),N=0,L=T.length;N<L;N++){var O=T[N],D=P(O,w);if(D)if(O.isClipMask()){var U=Ct.create("clipPath");U.appendChild(D),E(O,U,"clip"),Ct.set(M,{"clip-path":"url(#"+U.id+")"})}else M.appendChild(D)}return M}function a(x,w){var k=t(x._matrix,!0),T=x.getSize(),M=x.getImage();return k.x-=T.width/2,k.y-=T.height/2,k.width=T.width,k.height=T.height,k.href=w.embedImages==!1&&M&&M.src||x.toDataURL(),Ct.create("image",k,e)}function u(x,w){var k=w.matchShapes;if(k){var T=x.toShape(!1);if(T)return l(T)}var M=x._segments,N=M.length,L,O=t(x._matrix);if(k&&N>=2&&!x.hasHandles())if(N>2){L=x._closed?"polygon":"polyline";for(var D=[],U=0;U<N;U++)D.push(e.point(M[U]._point));O.points=D.join(" ")}else{L="line";var R=M[0]._point,H=M[1]._point;O.set({x1:R.x,y1:R.y,x2:H.x,y2:H.y})}else L="path",O.d=x.getPathData(null,w.precision);return Ct.create(L,O,e)}function l(x){var w=x._type,k=x._radius,T=t(x._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var M=x._size,N=M.width,L=M.height;T.x-=N/2,T.y-=L/2,T.width=N,T.height=L,k.isZero()&&(k=null)}return k&&(w==="circle"?T.r=k:(T.rx=k.width,T.ry=k.height)),Ct.create(w,T,e)}function h(x,w){var k=t(x._matrix),T=x.getPathData(null,w.precision);return T&&(k.d=T),Ct.create("path",k,e)}function f(x,w){var k=t(x._matrix,!0),T=x._definition,M=S(T,"symbol"),N=T._item,L=N.getStrokeBounds();return M||(M=Ct.create("symbol",{viewBox:e.rectangle(L)}),M.appendChild(P(N,w)),E(T,M,"symbol")),k.href="#"+M.id,k.x+=L.x,k.y+=L.y,k.width=L.width,k.height=L.height,k.overflow="visible",Ct.create("use",k,e)}function d(x){var w=S(x,"color");if(!w){var k=x.getGradient(),T=k._radial,M=x.getOrigin(),N=x.getDestination(),L;if(T){L={cx:M.x,cy:M.y,r:M.getDistance(N)};var O=x.getHighlight();O&&(L.fx=O.x,L.fy=O.y)}else L={x1:M.x,y1:M.y,x2:N.x,y2:N.y};L.gradientUnits="userSpaceOnUse",w=Ct.create((T?"radial":"linear")+"Gradient",L,e);for(var D=k._stops,U=0,R=D.length;U<R;U++){var H=D[U],q=H._color,W=q.getAlpha(),G=H._offset;L={offset:G==null?U/(R-1):G},q&&(L["stop-color"]=q.toCSS(!0)),W<1&&(L["stop-opacity"]=W),w.appendChild(Ct.create("stop",L,e))}E(x,w,"color")}return"url(#"+w.id+")"}function g(x){var w=Ct.create("text",t(x._matrix,!0),e);return w.textContent=x._content,w}var y={Group:i,Layer:i,Raster:a,Path:u,Shape:l,CompoundPath:h,SymbolItem:f,PointText:g};function m(x,w,k){var T={},M=!k&&x.getParent(),N=[];return x._name!=null&&(T.id=x._name),_.each(tt,function(L){var O=L.get,D=L.type,U=x[O]();if(L.exportFilter?L.exportFilter(x,U):!M||!_.equals(M[O](),U)){if(D==="color"&&U!=null){var R=U.getAlpha();R<1&&(T[L.attribute+"-opacity"]=R)}D==="style"?N.push(L.attribute+": "+U):T[L.attribute]=U==null?"none":D==="color"?U.gradient?d(U):U.toCSS(!0):D==="array"?U.join(","):D==="lookup"?L.toSVG[U]:U}}),N.length&&(T.style=N.join(";")),T.opacity===1&&delete T.opacity,x._visible||(T.visibility="hidden"),Ct.set(w,T,e)}var v;function S(x,w){return v||(v={ids:{},svgs:{}}),x&&v.svgs[w+"-"+(x._id||x.__id||(x.__id=ue.get("svg")))]}function E(x,w,k){v||S();var T=v.ids[k]=(v.ids[k]||0)+1;w.id=k+"-"+T,v.svgs[k+"-"+(x._id||x.__id)]=w}function I(x,w){var k=x,T=null;if(v){k=x.nodeName.toLowerCase()==="svg"&&x;for(var M in v.svgs)T||(k||(k=Ct.create("svg"),k.appendChild(x)),T=k.insertBefore(Ct.create("defs"),k.firstChild)),T.appendChild(v.svgs[M]);v=null}return w.asString?new s.XMLSerializer().serializeToString(k):k}function P(x,w,k){var T=y[x._class],M=T&&T(x,w);if(M){var N=w.onExport;N&&(M=N(x,M,w)||M);var L=JSON.stringify(x._data);L&&L!=="{}"&&L!=="null"&&M.setAttribute("data-paper-data",L)}return M&&m(x,M,k)}function C(x){return x||(x={}),e=new fe(x.precision),x}z.inject({exportSVG:function(x){return x=C(x),I(P(this,x,!0),x)}}),ye.inject({exportSVG:function(x){x=C(x);var w=this._children,k=this.getView(),T=_.pick(x.bounds,"view"),M=x.matrix||T==="view"&&k._matrix,N=M&&J.read([M]),L=T==="view"?new Z([0,0],k.getViewSize()):T==="content"?z._getBounds(w,N,{stroke:!0}).rect:Z.read([T],0,{readNull:!0}),O={version:"1.1",xmlns:Ct.svg,"xmlns:xlink":Ct.xlink};L&&(O.width=L.width,O.height=L.height,(L.x||L.x===0||L.y||L.y===0)&&(O.viewBox=e.rectangle(L)));var D=Ct.create("svg",O,e),U=D;N&&!N.isIdentity()&&(U=D.appendChild(Ct.create("g",t(N),e)));for(var R=0,H=w.length;R<H;R++)U.appendChild(P(w[R],x,!0));return I(D,x)}})},new function(){var e={},t;function i(w,k,T,M,N,L){var O=Ct.get(w,k)||L,D=O==null?M?null:T?"":0:T?O:parseFloat(O);return/%\s*$/.test(O)?D/100*(N?1:t[/x|^width/.test(k)?"width":"height"]):D}function a(w,k,T,M,N,L,O){return k=i(w,k||"x",!1,M,N,L),T=i(w,T||"y",!1,M,N,O),M&&(k==null||T==null)?null:new F(k,T)}function u(w,k,T,M,N){return k=i(w,k||"width",!1,M,N),T=i(w,T||"height",!1,M,N),M&&(k==null||T==null)?null:new te(k,T)}function l(w,k,T){return w==="none"?null:k==="number"?parseFloat(w):k==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:k==="color"?P(w)||w:k==="lookup"?T[w]:w}function h(w,k,T,M){var N=w.childNodes,L=k==="clippath",O=k==="defs",D=new Pe,U=D._project,R=U._currentStyle,H=[];if(!L&&!O&&(D=I(D,w,M),U._currentStyle=D._style.clone()),M)for(var q=w.querySelectorAll("defs"),W=0,G=q.length;W<G;W++)C(q[W],T,!1);for(var W=0,G=N.length;W<G;W++){var Y=N[W],se;Y.nodeType===1&&!/^defs$/i.test(Y.nodeName)&&(se=C(Y,T,!1))&&!(se instanceof Qe)&&H.push(se)}return D.addChildren(H),L&&(D=I(D.reduce(),w,M)),U._currentStyle=R,(L||O)&&(D.remove(),D=null),D}function f(w,k){for(var T=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),M=[],N=0,L=T.length;N<L;N+=2)M.push(new F(parseFloat(T[N]),parseFloat(T[N+1])));var O=new be(M);return k==="polygon"&&O.closePath(),O}function d(w){return Le.create(w.getAttribute("d"))}function g(w,k){var T=(i(w,"href",!0)||"").substring(1),M=k==="radialgradient",N;if(T)N=e[T].getGradient(),N._radial^M&&(N=N.clone(),N._radial=M);else{for(var L=w.childNodes,O=[],D=0,U=L.length;D<U;D++){var R=L[D];R.nodeType===1&&O.push(I(new gn,R))}N=new Rt(O,M)}var H,q,W,G=i(w,"gradientUnits",!0)!=="userSpaceOnUse";M?(H=a(w,"cx","cy",!1,G,"50%","50%"),q=H.add(i(w,"r",!1,!1,G,"50%"),0),W=a(w,"fx","fy",!0,G)):(H=a(w,"x1","y1",!1,G,"0%","0%"),q=a(w,"x2","y2",!1,G,"100%","0%"));var Y=I(new Ye(N,H,q,W),w);return Y._scaleToBounds=G,null}var y={"#document":function(w,k,T,M){for(var N=w.childNodes,L=0,O=N.length;L<O;L++){var D=N[L];if(D.nodeType===1)return C(D,T,M)}},g:h,svg:h,clippath:h,polygon:f,polyline:f,path:d,lineargradient:g,radialgradient:g,image:function(w){var k=new De(i(w,"href",!0));return k.on("load",function(){var T=u(w);this.setSize(T);var M=a(w).add(T.divide(2));this._matrix.append(new J().translate(M))}),k},symbol:function(w,k,T,M){return new Qe(h(w,k,T,M),!0)},defs:h,use:function(w){var k=(i(w,"href",!0)||"").substring(1),T=e[k],M=a(w);return T?T instanceof Qe?T.place(M):T.clone().translate(M):null},circle:function(w){return new Fe.Circle(a(w,"cx","cy"),i(w,"r"))},ellipse:function(w){return new Fe.Ellipse({center:a(w,"cx","cy"),radius:u(w,"rx","ry")})},rect:function(w){return new Fe.Rectangle(new Z(a(w),u(w)),u(w,"rx","ry"))},line:function(w){return new be.Line(a(w,"x1","y1"),a(w,"x2","y2"))},text:function(w){var k=new Wt(a(w).add(a(w,"dx","dy")));return k.setContent(w.textContent.trim()||""),k},switch:h};function m(w,k,T,M){if(w.transform){for(var N=(M.getAttribute(T)||"").split(/\)\s*/g),L=new J,O=0,D=N.length;O<D;O++){var U=N[O];if(!U)break;for(var R=U.split(/\(\s*/),H=R[0],q=R[1].split(/[\s,]+/g),W=0,G=q.length;W<G;W++)q[W]=parseFloat(q[W]);switch(H){case"matrix":L.append(new J(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":L.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":L.translate(q[0],q[1]||0);break;case"scale":L.scale(q);break;case"skewX":L.skew(q[0],0);break;case"skewY":L.skew(0,q[0]);break}}w.transform(L)}}function v(w,k,T){var M=T==="fill-opacity"?"getFillColor":"getStrokeColor",N=w[M]&&w[M]();N&&N.setAlpha(parseFloat(k))}var S=_.set(_.each(tt,function(w){this[w.attribute]=function(k,T){if(k[w.set]&&(k[w.set](l(T,w.type,w.fromSVG)),w.type==="color")){var M=k[w.get]();if(M&&M._scaleToBounds){var N=k.getBounds();M.transform(new J().translate(N.getPoint()).scale(N.getSize()))}}}},{}),{id:function(w,k){e[k]=w,w.setName&&w.setName(k)},"clip-path":function(w,k){var T=P(k);if(T)if(T=T.clone(),T.setClipMask(!0),w instanceof Pe)w.insertChild(0,T);else return new Pe(T,w)},gradientTransform:m,transform:m,"fill-opacity":v,"stroke-opacity":v,visibility:function(w,k){w.setVisible&&w.setVisible(k==="visible")},display:function(w,k){w.setVisible&&w.setVisible(k!==null)},"stop-color":function(w,k){w.setColor&&w.setColor(k)},"stop-opacity":function(w,k){w._color&&w._color.setAlpha(parseFloat(k))},offset:function(w,k){if(w.setOffset){var T=k.match(/(.*)%$/);w.setOffset(T?T[1]/100:parseFloat(k))}},viewBox:function(w,k,T,M,N){var L=new Z(l(k,"array")),O=u(M,null,null,!0),D,U;if(w instanceof Pe){var R=O?O.divide(L.getSize()):1,U=new J().scale(R).translate(L.getPoint().negate());D=w}else w instanceof Qe&&(O&&L.setSize(O),D=w._item);if(D){if(E(M,"overflow",N)!=="visible"){var H=new Fe.Rectangle(L);H.setClipMask(!0),D.addChild(H)}U&&D.transform(U)}}});function E(w,k,T){var M=w.attributes[k],N=M&&M.value;if(!N&&w.style){var L=_.camelize(k);N=w.style[L],!N&&T.node[L]!==T.parent[L]&&(N=T.node[L])}return N?N==="none"?null:N:o}function I(w,k,T){var M=k.parentNode,N={node:We.getStyles(k)||{},parent:!T&&!/^defs$/i.test(M.tagName)&&We.getStyles(M)||{}};return _.each(S,function(L,O){var D=E(k,O,N);w=D!==o&&L(w,D,O,k,N)||w}),w}function P(w){var k=w&&w.match(/\((?:["'#]*)([^"')]+)/),T=k&&k[1],M=T&&e[p?T.replace(p.location.href.split("#")[0]+"#",""):T];return M&&M._scaleToBounds&&(M=M.clone(),M._scaleToBounds=!0),M}function C(w,k,T){var M=w.nodeName.toLowerCase(),N=M!=="#document",L=b.body,O,D,U;T&&N&&(t=r.getView().getSize(),t=u(w,null,null,!0)||t,O=Ct.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),D=w.parentNode,U=w.nextSibling,O.appendChild(w),L.appendChild(O));var R=r.settings,H=R.applyMatrix,q=R.insertItems;R.applyMatrix=!1,R.insertItems=!1;var W=y[M],G=W&&W(w,M,k,T)||null;if(R.insertItems=q,R.applyMatrix=H,G){N&&!(G instanceof Pe)&&(G=I(G,w,T));var Y=k.onImport,se=N&&w.getAttribute("data-paper-data");Y&&(G=Y(w,G,k)||G),k.expandShapes&&G instanceof Fe&&(G.remove(),G=G.toPath()),se&&(G._data=JSON.parse(se))}return O&&(L.removeChild(O),D&&(U?D.insertBefore(w,U):D.appendChild(w))),T&&(e={},G&&_.pick(k.applyMatrix,H)&&G.matrix.apply(!0,!0)),G}function x(w,k,T){if(!w)return null;k=typeof k=="function"?{onLoad:k}:k||{};var M=r,N=null;function L(R){try{var H=typeof R=="object"?R:new s.DOMParser().parseFromString(R.trim(),"image/svg+xml");if(!H.nodeName)throw H=null,new Error("Unsupported SVG source: "+w);r=M,N=C(H,k,!0),(!k||k.insert!==!1)&&T._insertItem(o,N);var q=k.onLoad;q&&q(N,R)}catch(W){O(W)}}function O(R,H){var q=k.onError;if(q)q(R,H);else throw new Error(R)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var D=b.getElementById(w);D?L(D):kt.request({url:w,async:!0,onLoad:L,onError:O})}else if(typeof File!="undefined"&&w instanceof File){var U=new FileReader;return U.onload=function(){L(U.result)},U.onerror=function(){O(U.error)},U.readAsText(w)}else L(w);return N}z.inject({importSVG:function(w,k){return x(w,k,this)}}),ye.inject({importSVG:function(w,k){return this.activate(),x(w,k,this)}})},_.exports.PaperScript=function(){var e=this,t=e.acorn;if(!t&&typeof Op!="undefined")try{t=Fp()}catch(I){}if(!t){var i,a;t=i=a={},function(I,P){if(typeof i=="object"&&typeof a=="object")return P(i);if(typeof o=="function"&&o.amd)return o(["exports"],P);P(I.acorn||(I.acorn={}))}(this,function(I){I.version="0.5.0";var P,C,x,w;I.parse=function($,ie){return C=String($),x=C.length,T(ie),Ql(),rp(P.program)};var k=I.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function T($){P=$||{};for(var ie in k)Object.prototype.hasOwnProperty.call(P,ie)||(P[ie]=k[ie]);w=P.sourceFile||null}var M=I.getLineInfo=function($,ie){for(var _e=1,ke=0;;){lr.lastIndex=ke;var Ze=lr.exec($);if(Ze&&Ze.index<ie)++_e,ke=Ze.index+Ze[0].length;else break}return{line:_e,column:ie-ke}};I.tokenize=function($,ie){C=String($),x=C.length,T(ie),Ql();var _e={};function ke(Ze){return se=O,ji(Ze),_e.start=L,_e.end=O,_e.startLoc=D,_e.endLoc=U,_e.type=R,_e.value=H,_e}return ke.jumpTo=function(Ze,Xe){if(N=Ze,P.locations){W=1,G=lr.lastIndex=0;for(var $e;($e=lr.exec(C))&&$e.index<Ze;)++W,G=$e.index+$e[0].length}q=Xe,hr()},ke};var N,L,O,D,U,R,H,q,W,G,Y,se,he,ve,we,ae;function oe($,ie){var _e=M(C,$);ie+=" ("+_e.line+":"+_e.column+")";var ke=new SyntaxError(ie);throw ke.pos=$,ke.loc=_e,ke.raisedAt=N,ke}var xe=[],Se={type:"num"},Ie={type:"regexp"},Ne={type:"string"},ge={type:"name"},Me={type:"eof"},Re={keyword:"break"},Be={keyword:"case",beforeExpr:!0},rt={keyword:"catch"},ot={keyword:"continue"},st={keyword:"debugger"},Ge={keyword:"default"},je={keyword:"do",isLoop:!0},ct={keyword:"else",beforeExpr:!0},ht={keyword:"finally"},mt={keyword:"for",isLoop:!0},Bt={keyword:"function"},Ht={keyword:"if"},At={keyword:"return",beforeExpr:!0},He={keyword:"switch"},bt={keyword:"throw",beforeExpr:!0},Vt={keyword:"try"},Gt={keyword:"var"},sn={keyword:"while",isLoop:!0},or={keyword:"with"},Ds={keyword:"new",beforeExpr:!0},Bs={keyword:"this"},c={keyword:"null",atomValue:null},A={keyword:"true",atomValue:!0},B={keyword:"false",atomValue:!1},j={keyword:"in",binop:7,beforeExpr:!0},X={break:Re,case:Be,catch:rt,continue:ot,debugger:st,default:Ge,do:je,else:ct,finally:ht,for:mt,function:Bt,if:Ht,return:At,switch:He,throw:bt,try:Vt,var:Gt,while:sn,with:or,null:c,true:A,false:B,new:Ds,in:j,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Bs,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ce={type:"[",beforeExpr:!0},pe={type:"]"},Ee={type:"{",beforeExpr:!0},ze={type:"}"},qe={type:"(",beforeExpr:!0},Ke={type:")"},Pt={type:",",beforeExpr:!0},Kt={type:";",beforeExpr:!0},Tn={type:":",beforeExpr:!0},Wn={type:"."},di={type:"?",beforeExpr:!0},Gn={binop:10,beforeExpr:!0},Zn={isAssign:!0,beforeExpr:!0},Hi={isAssign:!0,beforeExpr:!0},Nd={postfix:!0,prefix:!0,isUpdate:!0},Vl={prefix:!0,beforeExpr:!0},Ul={binop:1,beforeExpr:!0},Hl={binop:2,beforeExpr:!0},Md={binop:3,beforeExpr:!0},Ld={binop:4,beforeExpr:!0},Od={binop:5,beforeExpr:!0},zd={binop:6,beforeExpr:!0},Rd={binop:7,beforeExpr:!0},Fd={binop:8,beforeExpr:!0},Dd={binop:9,prefix:!0,beforeExpr:!0},Bd={binop:10,beforeExpr:!0};I.tokTypes={bracketL:ce,bracketR:pe,braceL:Ee,braceR:ze,parenL:qe,parenR:Ke,comma:Pt,semi:Kt,colon:Tn,dot:Wn,question:di,slash:Gn,eq:Zn,name:ge,eof:Me,num:Se,regexp:Ie,string:Ne};for(var ql in X)I.tokTypes["_"+ql]=X[ql];function Hr($){$=$.split(" ");var ie="",_e=[];e:for(var ke=0;ke<$.length;++ke){for(var Ze=0;Ze<_e.length;++Ze)if(_e[Ze][0].length==$[ke].length){_e[Ze].push($[ke]);continue e}_e.push([$[ke]])}function Xe(yt){if(yt.length==1)return ie+="return str === "+JSON.stringify(yt[0])+";";ie+="switch(str){";for(var Fn=0;Fn<yt.length;++Fn)ie+="case "+JSON.stringify(yt[Fn])+":";ie+="return true}return false;"}if(_e.length>3){_e.sort(function(yt,Fn){return Fn.length-yt.length}),ie+="switch(str.length){";for(var ke=0;ke<_e.length;++ke){var $e=_e[ke];ie+="case "+$e[0].length+":",Xe($e)}ie+="}"}else Xe($);return new Function("str",ie)}var Vd=Hr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ud=Hr("class enum extends super const export import"),jl=Hr("implements interface let package private protected public static yield"),Vs=Hr("eval arguments"),Hd=Hr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),qd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Wl="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",jd="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Gl=new RegExp("["+Wl+"]"),Wd=new RegExp("["+Wl+jd+"]"),Us=/[\n\r\u2028\u2029]/,lr=/\r\n|[\n\r\u2028\u2029]/g,Hs=I.isIdentifierStart=function($){return $<65?$===36:$<91?!0:$<97?$===95:$<123?!0:$>=170&&Gl.test(String.fromCharCode($))},Zl=I.isIdentifierChar=function($){return $<48?$===36:$<58?!0:$<65?!1:$<91?!0:$<97?$===95:$<123?!0:$>=170&&Wd.test(String.fromCharCode($))};function qi(){this.line=W,this.column=N-G}function Ql(){W=1,N=G=0,q=!0,hr()}function Xt($,ie){O=N,P.locations&&(U=new qi),R=$,hr(),H=ie,q=$.beforeExpr}function Gd(){var $=P.onComment&&P.locations&&new qi,ie=N,_e=C.indexOf("*/",N+=2);if(_e===-1&&oe(N-2,"Unterminated comment"),N=_e+2,P.locations){lr.lastIndex=ie;for(var ke;(ke=lr.exec(C))&&ke.index<N;)++W,G=ke.index+ke[0].length}P.onComment&&P.onComment(!0,C.slice(ie+2,_e),ie,N,$,P.locations&&new qi)}function fu(){for(var $=N,ie=P.onComment&&P.locations&&new qi,_e=C.charCodeAt(N+=2);N<x&&_e!==10&&_e!==13&&_e!==8232&&_e!==8233;)++N,_e=C.charCodeAt(N);P.onComment&&P.onComment(!1,C.slice($+2,N),$,N,ie,P.locations&&new qi)}function hr(){for(;N<x;){var $=C.charCodeAt(N);if($===32)++N;else if($===13){++N;var ie=C.charCodeAt(N);ie===10&&++N,P.locations&&(++W,G=N)}else if($===10||$===8232||$===8233)++N,P.locations&&(++W,G=N);else if($>8&&$<14)++N;else if($===47){var ie=C.charCodeAt(N+1);if(ie===42)Gd();else if(ie===47)fu();else break}else if($===160)++N;else if($>=5760&&qd.test(String.fromCharCode($)))++N;else break}}function Zd(){var $=C.charCodeAt(N+1);return $>=48&&$<=57?Xl(!0):(++N,Xt(Wn))}function Qd(){var $=C.charCodeAt(N+1);return q?(++N,Kl()):$===61?Yt(Hi,2):Yt(Gn,1)}function Kd(){var $=C.charCodeAt(N+1);return $===61?Yt(Hi,2):Yt(Bd,1)}function Xd($){var ie=C.charCodeAt(N+1);return ie===$?Yt($===124?Ul:Hl,2):ie===61?Yt(Hi,2):Yt($===124?Md:Od,1)}function Yd(){var $=C.charCodeAt(N+1);return $===61?Yt(Hi,2):Yt(Ld,1)}function Jd($){var ie=C.charCodeAt(N+1);return ie===$?ie==45&&C.charCodeAt(N+2)==62&&Us.test(C.slice(se,N))?(N+=3,fu(),hr(),ji()):Yt(Nd,2):ie===61?Yt(Hi,2):Yt(Dd,1)}function $d($){var ie=C.charCodeAt(N+1),_e=1;return ie===$?(_e=$===62&&C.charCodeAt(N+2)===62?3:2,C.charCodeAt(N+_e)===61?Yt(Hi,_e+1):Yt(Fd,_e)):ie==33&&$==60&&C.charCodeAt(N+2)==45&&C.charCodeAt(N+3)==45?(N+=4,fu(),hr(),ji()):(ie===61&&(_e=C.charCodeAt(N+2)===61?3:2),Yt(Rd,_e))}function ep($){var ie=C.charCodeAt(N+1);return ie===61?Yt(zd,C.charCodeAt(N+2)===61?3:2):Yt($===61?Zn:Vl,1)}function tp($){switch($){case 46:return Zd();case 40:return++N,Xt(qe);case 41:return++N,Xt(Ke);case 59:return++N,Xt(Kt);case 44:return++N,Xt(Pt);case 91:return++N,Xt(ce);case 93:return++N,Xt(pe);case 123:return++N,Xt(Ee);case 125:return++N,Xt(ze);case 58:return++N,Xt(Tn);case 63:return++N,Xt(di);case 48:var ie=C.charCodeAt(N+1);if(ie===120||ie===88)return np();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Xl(!1);case 34:case 39:return ip($);case 47:return Qd();case 37:case 42:return Kd();case 124:case 38:return Xd($);case 94:return Yd();case 43:case 45:return Jd($);case 60:case 62:return $d($);case 61:case 33:return ep($);case 126:return Yt(Vl,1)}return!1}function ji($){if($?N=L+1:L=N,P.locations&&(D=new qi),$)return Kl();if(N>=x)return Xt(Me);var ie=C.charCodeAt(N);if(Hs(ie)||ie===92)return Jl();var _e=tp(ie);if(_e===!1){var ke=String.fromCharCode(ie);if(ke==="\\"||Gl.test(ke))return Jl();oe(N,"Unexpected character '"+ke+"'")}return _e}function Yt($,ie){var _e=C.slice(N,N+ie);N+=ie,Xt($,_e)}function Kl(){for(var Ze="",$,ie,_e=N;;){N>=x&&oe(_e,"Unterminated regular expression");var ke=C.charAt(N);if(Us.test(ke)&&oe(_e,"Unterminated regular expression"),$)$=!1;else{if(ke==="[")ie=!0;else if(ke==="]"&&ie)ie=!1;else if(ke==="/"&&!ie)break;$=ke==="\\"}++N}var Ze=C.slice(_e,N);++N;var Xe=Yl();Xe&&!/^[gmsiy]*$/.test(Xe)&&oe(_e,"Invalid regexp flag");try{var $e=new RegExp(Ze,Xe)}catch(yt){yt instanceof SyntaxError&&oe(_e,yt.message),oe(yt)}return Xt(Ie,$e)}function qr($,ie){for(var _e=N,ke=0,Ze=0,Xe=ie==null?1/0:ie;Ze<Xe;++Ze){var $e=C.charCodeAt(N),yt;if($e>=97?yt=$e-97+10:$e>=65?yt=$e-65+10:$e>=48&&$e<=57?yt=$e-48:yt=1/0,yt>=$)break;++N,ke=ke*$+yt}return N===_e||ie!=null&&N-_e!==ie?null:ke}function np(){N+=2;var $=qr(16);return $==null&&oe(L+2,"Expected hexadecimal number"),Hs(C.charCodeAt(N))&&oe(N,"Identifier directly after number"),Xt(Se,$)}function Xl($){var ie=N,_e=!1,ke=C.charCodeAt(N)===48;!$&&qr(10)===null&&oe(ie,"Invalid number"),C.charCodeAt(N)===46&&(++N,qr(10),_e=!0);var Ze=C.charCodeAt(N);(Ze===69||Ze===101)&&(Ze=C.charCodeAt(++N),(Ze===43||Ze===45)&&++N,qr(10)===null&&oe(ie,"Invalid number"),_e=!0),Hs(C.charCodeAt(N))&&oe(N,"Identifier directly after number");var Xe=C.slice(ie,N),$e;return _e?$e=parseFloat(Xe):!ke||Xe.length===1?$e=parseInt(Xe,10):/[89]/.test(Xe)||ae?oe(ie,"Invalid number"):$e=parseInt(Xe,8),Xt(Se,$e)}function ip($){N++;for(var ie="";;){N>=x&&oe(L,"Unterminated string constant");var _e=C.charCodeAt(N);if(_e===$)return++N,Xt(Ne,ie);if(_e===92){_e=C.charCodeAt(++N);var ke=/^[0-7]+/.exec(C.slice(N,N+3));for(ke&&(ke=ke[0]);ke&&parseInt(ke,8)>255;)ke=ke.slice(0,-1);if(ke==="0"&&(ke=null),++N,ke)ae&&oe(N-2,"Octal literal in strict mode"),ie+=String.fromCharCode(parseInt(ke,8)),N+=ke.length-1;else switch(_e){case 110:ie+=`
`;break;case 114:ie+="\r";break;case 120:ie+=String.fromCharCode(qs(2));break;case 117:ie+=String.fromCharCode(qs(4));break;case 85:ie+=String.fromCharCode(qs(8));break;case 116:ie+="	";break;case 98:ie+="\b";break;case 118:ie+="\v";break;case 102:ie+="\f";break;case 48:ie+="\0";break;case 13:C.charCodeAt(N)===10&&++N;case 10:P.locations&&(G=N,++W);break;default:ie+=String.fromCharCode(_e);break}}else(_e===13||_e===10||_e===8232||_e===8233)&&oe(L,"Unterminated string constant"),ie+=String.fromCharCode(_e),++N}}function qs($){var ie=qr(16,$);return ie===null&&oe(L,"Bad character escape sequence"),ie}var fr;function Yl(){fr=!1;for(var $,ie=!0,_e=N;;){var ke=C.charCodeAt(N);if(Zl(ke))fr&&($+=C.charAt(N)),++N;else if(ke===92){fr||($=C.slice(_e,N)),fr=!0,C.charCodeAt(++N)!=117&&oe(N,"Expecting Unicode escape sequence \\uXXXX"),++N;var Ze=qs(4),Xe=String.fromCharCode(Ze);Xe||oe(N-1,"Invalid Unicode escape"),(ie?Hs(Ze):Zl(Ze))||oe(N-4,"Invalid Unicode escape"),$+=Xe}else break;ie=!1}return fr?$:C.slice(_e,N)}function Jl(){var $=Yl(),ie=ge;return!fr&&Hd($)&&(ie=X[$]),Xt(ie,$)}function pt(){Y=L,se=O,he=U,ji()}function cu($){if(ae=$,N=L,P.locations)for(;N<G;)G=C.lastIndexOf(`
`,G-2)+1,--W;hr(),ji()}function $l(){this.type=null,this.start=L,this.end=null}function eh(){this.start=D,this.end=null,w!==null&&(this.source=w)}function en(){var $=new $l;return P.locations&&($.loc=new eh),P.directSourceFile&&($.sourceFile=P.directSourceFile),P.ranges&&($.range=[L,0]),$}function pi($){var ie=new $l;return ie.start=$.start,P.locations&&(ie.loc=new eh,ie.loc.start=$.loc.start),P.ranges&&(ie.range=[$.range[0],0]),ie}function nt($,ie){return $.type=ie,$.end=se,P.locations&&($.loc.end=he),P.ranges&&($.range[1]=se),$}function du($){return P.ecmaVersion>=5&&$.type==="ExpressionStatement"&&$.expression.type==="Literal"&&$.expression.value==="use strict"}function Mt($){if(R===$)return pt(),!0}function js(){return!P.strictSemicolons&&(R===Me||R===ze||Us.test(C.slice(se,L)))}function Wi(){!Mt(Kt)&&!js()&&ei()}function qt($){R===$?pt():ei()}function ei(){oe(L,"Unexpected token")}function Ws($){$.type!=="Identifier"&&$.type!=="MemberExpression"&&oe($.start,"Assigning to rvalue"),ae&&$.type==="Identifier"&&Vs($.name)&&oe($.start,"Assigning to "+$.name+" in strict mode")}function rp($){Y=se=N,P.locations&&(he=new qi),ve=ae=null,we=[],ji();var ie=$||en(),_e=!0;for($||(ie.body=[]);R!==Me;){var ke=Rn();ie.body.push(ke),_e&&du(ke)&&cu(!0),_e=!1}return nt(ie,"Program")}var pu={kind:"loop"},sp={kind:"switch"};function Rn(){(R===Gn||R===Hi&&H=="/=")&&ji(!0);var $=R,ie=en();switch($){case Re:case ot:pt();var _e=$===Re;Mt(Kt)||js()?ie.label=null:R!==ge?ei():(ie.label=gi(),Wi());for(var ke=0;ke<we.length;++ke){var Ze=we[ke];if((ie.label==null||Ze.name===ie.label.name)&&(Ze.kind!=null&&(_e||Ze.kind==="loop")||ie.label&&_e))break}return ke===we.length&&oe(ie.start,"Unsyntactic "+$.keyword),nt(ie,_e?"BreakStatement":"ContinueStatement");case st:return pt(),Wi(),nt(ie,"DebuggerStatement");case je:return pt(),we.push(pu),ie.body=Rn(),we.pop(),qt(sn),ie.test=jr(),Wi(),nt(ie,"DoWhileStatement");case mt:if(pt(),we.push(pu),qt(qe),R===Kt)return gu(ie,null);if(R===Gt){var Xe=en();return pt(),nh(Xe,!0),nt(Xe,"VariableDeclaration"),Xe.declarations.length===1&&Mt(j)?th(ie,Xe):gu(ie,Xe)}var Xe=an(!1,!0);return Mt(j)?(Ws(Xe),th(ie,Xe)):gu(ie,Xe);case Bt:return pt(),wu(ie,!0);case Ht:return pt(),ie.test=jr(),ie.consequent=Rn(),ie.alternate=Mt(ct)?Rn():null,nt(ie,"IfStatement");case At:return!ve&&!P.allowReturnOutsideFunction&&oe(L,"'return' outside of function"),pt(),Mt(Kt)||js()?ie.argument=null:(ie.argument=an(),Wi()),nt(ie,"ReturnStatement");case He:pt(),ie.discriminant=jr(),ie.cases=[],qt(Ee),we.push(sp);for(var $e,yt;R!=ze;)if(R===Be||R===Ge){var Fn=R===Be;$e&&nt($e,"SwitchCase"),ie.cases.push($e=en()),$e.consequent=[],pt(),Fn?$e.test=an():(yt&&oe(Y,"Multiple default clauses"),yt=!0,$e.test=null),qt(Tn)}else $e||ei(),$e.consequent.push(Rn());return $e&&nt($e,"SwitchCase"),pt(),we.pop(),nt(ie,"SwitchStatement");case bt:return pt(),Us.test(C.slice(se,L))&&oe(se,"Illegal newline after throw"),ie.argument=an(),Wi(),nt(ie,"ThrowStatement");case Vt:if(pt(),ie.block=Wr(),ie.handler=null,R===rt){var Gi=en();pt(),qt(qe),Gi.param=gi(),ae&&Vs(Gi.param.name)&&oe(Gi.param.start,"Binding "+Gi.param.name+" in strict mode"),qt(Ke),Gi.guard=null,Gi.body=Wr(),ie.handler=nt(Gi,"CatchClause")}return ie.guardedHandlers=xe,ie.finalizer=Mt(ht)?Wr():null,!ie.handler&&!ie.finalizer&&oe(ie.start,"Missing catch or finally clause"),nt(ie,"TryStatement");case Gt:return pt(),nh(ie),Wi(),nt(ie,"VariableDeclaration");case sn:return pt(),ie.test=jr(),we.push(pu),ie.body=Rn(),we.pop(),nt(ie,"WhileStatement");case or:return ae&&oe(L,"'with' in strict mode"),pt(),ie.object=jr(),ie.body=Rn(),nt(ie,"WithStatement");case Ee:return Wr();case Kt:return pt(),nt(ie,"EmptyStatement");default:var Su=H,Gs=an();if($===ge&&Gs.type==="Identifier"&&Mt(Tn)){for(var ke=0;ke<we.length;++ke)we[ke].name===Su&&oe(Gs.start,"Label '"+Su+"' is already declared");var fp=R.isLoop?"loop":R===He?"switch":null;return we.push({name:Su,kind:fp}),ie.body=Rn(),we.pop(),ie.label=Gs,nt(ie,"LabeledStatement")}else return ie.expression=Gs,Wi(),nt(ie,"ExpressionStatement")}}function jr(){qt(qe);var $=an();return qt(Ke),$}function Wr($){var ie=en(),_e=!0,ke=!1,Ze;for(ie.body=[],qt(Ee);!Mt(ze);){var Xe=Rn();ie.body.push(Xe),_e&&$&&du(Xe)&&(Ze=ke,cu(ke=!0)),_e=!1}return ke&&!Ze&&cu(!1),nt(ie,"BlockStatement")}function gu($,ie){return $.init=ie,qt(Kt),$.test=R===Kt?null:an(),qt(Kt),$.update=R===Ke?null:an(),qt(Ke),$.body=Rn(),we.pop(),nt($,"ForStatement")}function th($,ie){return $.left=ie,$.right=an(),qt(Ke),$.body=Rn(),we.pop(),nt($,"ForInStatement")}function nh($,ie){for($.declarations=[],$.kind="var";;){var _e=en();if(_e.id=gi(),ae&&Vs(_e.id.name)&&oe(_e.id.start,"Binding "+_e.id.name+" in strict mode"),_e.init=Mt(Zn)?an(!0,ie):null,$.declarations.push(nt(_e,"VariableDeclarator")),!Mt(Pt))break}return $}function an($,ie){var _e=_u(ie);if(!$&&R===Pt){var ke=pi(_e);for(ke.expressions=[_e];Mt(Pt);)ke.expressions.push(_u(ie));return nt(ke,"SequenceExpression")}return _e}function _u($){var ie=ap($);if(R.isAssign){var _e=pi(ie);return _e.operator=H,_e.left=ie,pt(),_e.right=_u($),Ws(ie),nt(_e,"AssignmentExpression")}return ie}function ap($){var ie=up($);if(Mt(di)){var _e=pi(ie);return _e.test=ie,_e.consequent=an(!0),qt(Tn),_e.alternate=an(!0,$),nt(_e,"ConditionalExpression")}return ie}function up($){return vu(mu(),-1,$)}function vu($,ie,_e){var ke=R.binop;if(ke!=null&&(!_e||R!==j)&&ke>ie){var Ze=pi($);Ze.left=$,Ze.operator=H;var Xe=R;pt(),Ze.right=vu(mu(),ke,_e);var $e=nt(Ze,Xe===Ul||Xe===Hl?"LogicalExpression":"BinaryExpression");return vu($e,ie,_e)}return $}function mu(){if(R.prefix){var $=en(),ie=R.isUpdate;return $.operator=H,$.prefix=!0,q=!0,pt(),$.argument=mu(),ie?Ws($.argument):ae&&$.operator==="delete"&&$.argument.type==="Identifier"&&oe($.start,"Deleting local variable in strict mode"),nt($,ie?"UpdateExpression":"UnaryExpression")}for(var _e=op();R.postfix&&!js();){var $=pi(_e);$.operator=H,$.prefix=!1,$.argument=_e,Ws(_e),pt(),_e=nt($,"UpdateExpression")}return _e}function op(){return Gr(yu())}function Gr($,ie){if(Mt(Wn)){var _e=pi($);return _e.object=$,_e.property=gi(!0),_e.computed=!1,Gr(nt(_e,"MemberExpression"),ie)}else if(Mt(ce)){var _e=pi($);return _e.object=$,_e.property=an(),_e.computed=!0,qt(pe),Gr(nt(_e,"MemberExpression"),ie)}else if(!ie&&Mt(qe)){var _e=pi($);return _e.callee=$,_e.arguments=xu(Ke,!1),Gr(nt(_e,"CallExpression"),ie)}else return $}function yu(){switch(R){case Bs:var ke=en();return pt(),nt(ke,"ThisExpression");case ge:return gi();case Se:case Ne:case Ie:var ke=en();return ke.value=H,ke.raw=C.slice(L,O),pt(),nt(ke,"Literal");case c:case A:case B:var ke=en();return ke.value=R.atomValue,ke.raw=R.keyword,pt(),nt(ke,"Literal");case qe:var $=D,ie=L;pt();var _e=an();return _e.start=ie,_e.end=O,P.locations&&(_e.loc.start=$,_e.loc.end=U),P.ranges&&(_e.range=[ie,O]),qt(Ke),_e;case ce:var ke=en();return pt(),ke.elements=xu(pe,!0,!0),nt(ke,"ArrayExpression");case Ee:return hp();case Bt:var ke=en();return pt(),wu(ke,!1);case Ds:return lp();default:ei()}}function lp(){var $=en();return pt(),$.callee=Gr(yu(),!0),Mt(qe)?$.arguments=xu(Ke,!1):$.arguments=xe,nt($,"NewExpression")}function hp(){var $=en(),ie=!0,_e=!1;for($.properties=[],pt();!Mt(ze);){if(ie)ie=!1;else if(qt(Pt),P.allowTrailingCommas&&Mt(ze))break;var ke={key:ih()},Ze=!1,Xe;if(Mt(Tn)?(ke.value=an(!0),Xe=ke.kind="init"):P.ecmaVersion>=5&&ke.key.type==="Identifier"&&(ke.key.name==="get"||ke.key.name==="set")?(Ze=_e=!0,Xe=ke.kind=ke.key.name,ke.key=ih(),R!==qe&&ei(),ke.value=wu(en(),!1)):ei(),ke.key.type==="Identifier"&&(ae||_e))for(var $e=0;$e<$.properties.length;++$e){var yt=$.properties[$e];if(yt.key.name===ke.key.name){var Fn=Xe==yt.kind||Ze&&yt.kind==="init"||Xe==="init"&&(yt.kind==="get"||yt.kind==="set");Fn&&!ae&&Xe==="init"&&yt.kind==="init"&&(Fn=!1),Fn&&oe(ke.key.start,"Redefinition of property")}}$.properties.push(ke)}return nt($,"ObjectExpression")}function ih(){return R===Se||R===Ne?yu():gi(!0)}function wu($,ie){R===ge?$.id=gi():ie?ei():$.id=null,$.params=[];var _e=!0;for(qt(qe);!Mt(Ke);)_e?_e=!1:qt(Pt),$.params.push(gi());var ke=ve,Ze=we;if(ve=!0,we=[],$.body=Wr(!0),ve=ke,we=Ze,ae||$.body.body.length&&du($.body.body[0]))for(var Xe=$.id?-1:0;Xe<$.params.length;++Xe){var $e=Xe<0?$.id:$.params[Xe];if((jl($e.name)||Vs($e.name))&&oe($e.start,"Defining '"+$e.name+"' in strict mode"),Xe>=0)for(var yt=0;yt<Xe;++yt)$e.name===$.params[yt].name&&oe($e.start,"Argument name clash in strict mode")}return nt($,ie?"FunctionDeclaration":"FunctionExpression")}function xu($,ie,_e){for(var ke=[],Ze=!0;!Mt($);){if(Ze)Ze=!1;else if(qt(Pt),ie&&P.allowTrailingCommas&&Mt($))break;_e&&R===Pt?ke.push(null):ke.push(an(!0))}return ke}function gi($){var ie=en();return $&&P.forbidReserved=="everywhere"&&($=!1),R===ge?(!$&&(P.forbidReserved&&(P.ecmaVersion===3?Vd:Ud)(H)||ae&&jl(H))&&C.slice(L,O).indexOf("\\")==-1&&oe(L,"The keyword '"+H+"' is reserved"),ie.name=H):$&&R.keyword?ie.name=R.keyword:ei(),q=!1,pt(),nt(ie,"Identifier")}}),t.version||(t=null)}function u(I,P){return(e.acorn||t).parse(I,P)}var l={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},f=_.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(I){this["__"+I]="#"+I},{__self:function(){return this}});F.inject(f),te.inject(f),Ye.inject(f);function d(I,P,C){var x=l[P];if(I&&I[x]){var w=I[x](C);return P==="!="?!w:w}switch(P){case"+":return I+C;case"-":return I-C;case"*":return I*C;case"/":return I/C;case"%":return I%C;case"==":return I==C;case"!=":return I!=C}}function g(I,P){var C=h[I];if(P&&P[C])return P[C]();switch(I){case"+":return+P;case"-":return-P}}function y(I,P){if(!I)return"";P=P||{};var C=[];function x(ae){for(var oe=0,xe=C.length;oe<xe;oe++){var Se=C[oe];if(Se[0]>=ae)break;ae+=Se[1]}return ae}function w(ae){return I.substring(x(ae.range[0]),x(ae.range[1]))}function k(ae,oe){return I.substring(x(ae.range[1]),x(oe.range[0]))}function T(ae,oe){for(var xe=x(ae.range[0]),Se=x(ae.range[1]),Ie=0,Ne=C.length-1;Ne>=0;Ne--)if(xe>C[Ne][0]){Ie=Ne+1;break}C.splice(Ie,0,[xe,oe.length-Se+xe]),I=I.substring(0,xe)+oe+I.substring(Se)}function M(ae,oe){switch(ae.type){case"UnaryExpression":if(ae.operator in h&&ae.argument.type!=="Literal"){var xe=w(ae.argument);T(ae,'$__("'+ae.operator+'", '+xe+")")}break;case"BinaryExpression":if(ae.operator in l&&ae.left.type!=="Literal"){var Se=w(ae.left),Ie=w(ae.right),Ne=k(ae.left,ae.right),ge=ae.operator;T(ae,"__$__("+Se+","+Ne.replace(new RegExp("\\"+ge),'"'+ge+'"')+", "+Ie+")")}break;case"UpdateExpression":case"AssignmentExpression":var Me=oe&&oe.type;if(!(Me==="ForStatement"||Me==="BinaryExpression"&&/^[=!<>]/.test(oe.operator)||Me==="MemberExpression"&&oe.computed)){if(ae.type==="UpdateExpression"){var xe=w(ae.argument),Re="__$__("+xe+', "'+ae.operator[0]+'", 1)',Be=xe+" = "+Re;ae.prefix?Be="("+Be+")":(Me==="AssignmentExpression"||Me==="VariableDeclarator"||Me==="BinaryExpression")&&(w(oe.left||oe.id)===xe&&(Be=Re),Be=xe+"; "+Be),T(ae,Be)}else if(/^.=$/.test(ae.operator)&&ae.left.type!=="Literal"){var Se=w(ae.left),Ie=w(ae.right),Re=Se+" = __$__("+Se+', "'+ae.operator[0]+'", '+Ie+")";T(ae,/^\(.*\)$/.test(w(ae))?"("+Re+")":Re)}}break}}function N(ae){switch(ae.type){case"ExportDefaultDeclaration":T({range:[ae.start,ae.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var oe=ae.declaration,xe=ae.specifiers;if(oe){var Se=oe.declarations;Se&&(Se.forEach(function(Ne){T(Ne,"module.exports."+w(Ne))}),T({range:[ae.start,oe.start+oe.kind.length]},""))}else if(xe){var Ie=xe.map(function(Ne){var ge=w(Ne);return"module.exports."+ge+" = "+ge+"; "}).join("");Ie&&T(ae,Ie)}break}}function L(ae,oe,xe){if(ae){for(var Se in ae)if(Se!=="range"&&Se!=="loc"){var Ie=ae[Se];if(Array.isArray(Ie))for(var Ne=0,ge=Ie.length;Ne<ge;Ne++)L(Ie[Ne],ae,xe);else Ie&&typeof Ie=="object"&&L(Ie,ae,xe)}xe.operatorOverloading!==!1&&M(ae,oe),xe.moduleExports!==!1&&N(ae)}}function O(ae){var oe="",xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ae=(Math.abs(ae)<<1)+(ae<0?1:0);ae||!oe;){var Se=ae&31;ae>>=5,ae&&(Se|=32),oe+=xe[Se]}return oe}var D=P.url||"",U=P.sourceMaps,R=P.paperFeatures||{},H=P.source||I,q=P.offset||0,W=r.agent,G=W.versionNumber,Y=!1,se=/\r\n|\n|\r/mg,he;if(U&&(W.chrome&&G>=30||W.webkit&&G>=537.76||W.firefox&&G>=23||W.node)){if(W.node)q-=2;else if(p&&D&&!p.location.href.indexOf(D)){var ve=b.getElementsByTagName("html")[0].innerHTML;q=ve.substr(0,ve.indexOf(I)+1).match(se).length+1}Y=q>0&&!(W.chrome&&G>=36||W.safari&&G>=600||W.firefox&&G>=40||W.node);var we=["AA"+O(Y?0:q)+"A"];we.length=(I.match(se)||[]).length+1+(Y?q:0),he={version:3,file:D,names:[],mappings:we.join(";AACA"),sourceRoot:"",sources:[D],sourcesContent:[H]}}return(R.operatorOverloading!==!1||R.moduleExports!==!1)&&L(u(I,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,R),he&&(Y&&(I=new Array(q+1).join(`
`)+I),/^(inline|both)$/.test(U)&&(I+=`
//# sourceMappingURL=data:application/json;base64,`+s.btoa(unescape(encodeURIComponent(JSON.stringify(he))))),I+=`
//# sourceURL=`+(D||"paperscript")),{url:D,source:H,code:I,map:he}}function m(I,P,C){r=P;var x=P.getView(),w=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(I)&&!/\bnew\s+Tool\b/.test(I)?new Ui:null,k=w?w._events:[],T=["onFrame","onResize"].concat(k),M=[],N=[],L,O=typeof I=="object"?I:y(I,C);I=O.code;function D(G,Y){for(var se in G)(Y||!/^_/.test(se))&&new RegExp("([\\b\\s\\W]|^)"+se.replace(/\$/g,"\\$")+"\\b").test(I)&&(M.push(se),N.push(G[se]))}D({__$__:d,$__:g,paper:P,tool:w},!0),D(P),I="var module = { exports: {} }; "+I;var q=_.each(T,function(G){new RegExp("\\s+"+G+"\\b").test(I)&&(M.push(G),this.push("module.exports."+G+" = "+G+";"))},[]).join(`
`);q&&(I+=`
`+q),I+=`
return module.exports;`;var U=r.agent;if(b&&(U.chrome||U.firefox&&U.versionNumber<40)){var R=b.createElement("script"),H=b.head||b.getElementsByTagName("head")[0];U.firefox&&(I=`
`+I),R.appendChild(b.createTextNode("document.__paperscript__ = function("+M+") {"+I+`
}`)),H.appendChild(R),L=b.__paperscript__,delete b.__paperscript__,H.removeChild(R)}else L=Function(M,I);var q=L&&L.apply(P,N),W=q||{};return _.each(k,function(G){var Y=W[G];Y&&(w[G]=Y)}),x&&(W.onResize&&x.setOnResize(W.onResize),x.emit("resize",{size:x.size,delta:new F}),W.onFrame&&x.setOnFrame(W.onFrame),x.requestUpdate()),q}function v(I){if(/^text\/(?:x-|)paperscript$/.test(I.type)&&Q.getAttribute(I,"ignore")!=="true"){var P=Q.getAttribute(I,"canvas"),C=b.getElementById(P),x=I.src||I.getAttribute("data-src"),w=Q.hasAttribute(I,"async"),k="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+P+'"');var T=Q.get(C.getAttribute(k))||new Q().setup(C);return C.setAttribute(k,T._id),x?kt.request({url:x,async:w,mimeType:"text/plain",onLoad:function(M){m(M,T,x)}}):m(I.innerHTML,T,I.baseURI),I.setAttribute("data-paper-ignore","true"),T}}function S(){_.each(b&&b.getElementsByTagName("script"),v)}function E(I){return I?v(I):S()}return p&&(b.readyState==="complete"?setTimeout(S):et.add(p,{load:S})),{compile:y,execute:m,load:E,parse:u,calculateBinary:d,calculateUnary:g}}.call(this);var r=new(Q.inject(_.exports,{Base:_,Numerical:re,Key:fi,DomEvent:et,DomElement:We,document:b,window:p,Symbol:Qe,PlacedSymbol:it}));return r.agent.node&&Ca(r),typeof o=="function"&&o.amd?o("paper",r):n&&(n.exports=r),r}).call(Ho,typeof self=="object"?self:null)})(Pf);const ts=Pf.exports;function lt(){return ts}function Dp(n){ts.setup(n);const s=document.getElementById(n),o=new ts.Tool;o.onMouseDown=function(){},o.onMouseDrag=function(p){const b=p.point.subtract(p.downPoint);ts.view.center=ts.view.center.subtract(b)},o.onMouseUp=function(){},s==null||s.addEventListener("mousewheel",function(p){const b=lt();let _=b.view.zoom;const V=b.view.zoom;p.deltaY<0?_=b.view.zoom*1.05:_=b.view.zoom*.95;const Q=V/_,K=new b.Point(p.offsetX,p.offsetY),fe=b.view.viewToProject(K),re=b.view.center,ue=fe.subtract(re),F=fe.subtract(ue.multiply(Q)).subtract(re);b.view.zoom=_,b.view.center=b.view.center.add(F),p.preventDefault(),b.view.update()})}var Zo={exports:{}};/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||Ca;var p=s.window,b=s.document,_=new function(){var r=/^(statics|enumerable|beans|preserve)$/,e=[],t=e.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(m,v){for(var S=0,E=this.length;S<E;S++)m.call(v,this[S],S,this)},h=function(m,v){for(var S in this)this.hasOwnProperty(S)&&m.call(v,this[S],S,this)},f=Object.assign||function(m){for(var v=1,S=arguments.length;v<S;v++){var E=arguments[v];for(var I in E)E.hasOwnProperty(I)&&(m[I]=E[I])}return m},d=function(m,v,S){if(m){var E=a(m,"length");(E&&typeof E.value=="number"?l:h).call(m,v,S=S||m)}return S};function g(m,v,S,E,I){var P={};function C(M,N){N=N||(N=a(v,M))&&(N.get?N:N.value),typeof N=="string"&&N[0]==="#"&&(N=m[N.substring(1)]||N);var L=typeof N=="function",O=N,D=I||L&&!N.base?N&&N.get?M in m:m[M]:null,U;(!I||!D)&&(L&&D&&(N.base=D),L&&E!==!1&&(U=M.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(P[U[3].toLowerCase()+U[4]]=U[2]),(!O||L||!O.get||typeof O.get!="function"||!y.isPlainObject(O))&&(O={value:O,writable:!0}),(a(m,M)||{configurable:!0}).configurable&&(O.configurable=!0,O.enumerable=S!=null?S:!U),u(m,M,O))}if(v){for(var x in v)v.hasOwnProperty(x)&&!r.test(x)&&C(x);for(var x in P){var w=P[x],k=m["set"+w],T=m["get"+w]||k&&m["is"+w];T&&(E===!0||T.length===0)&&C(x,{get:T,set:k})}}return m}function y(){for(var m=0,v=arguments.length;m<v;m++){var S=arguments[m];S&&f(this,S)}return this}return g(y,{inject:function(m){if(m){var v=m.statics===!0?m:m.statics,S=m.beans,E=m.preserve;v!==m&&g(this.prototype,m,m.enumerable,S,E),g(this,v,null,S,E)}for(var I=1,P=arguments.length;I<P;I++)this.inject(arguments[I]);return this},extend:function(){for(var m=this,v,S,E=0,I,P=arguments.length;E<P&&!(v&&S);E++)I=arguments[E],v=v||I.initialize,S=S||I.prototype;return v=v||function(){m.apply(this,arguments)},S=v.prototype=S||i(this.prototype),u(S,"constructor",{value:v,writable:!0,configurable:!0}),g(v,this),arguments.length&&this.inject.apply(v,arguments),v.base=m,v}}).inject({enumerable:!1,initialize:y,set:y,inject:function(){for(var m=0,v=arguments.length;m<v;m++){var S=arguments[m];S&&g(this,S,S.enumerable,S.beans,S.preserve)}return this},extend:function(){var m=i(this);return m.inject.apply(m,arguments)},each:function(m,v){return d(this,m,v)},clone:function(){return new this.constructor(this)},statics:{set:f,each:d,create:i,define:u,describe:a,clone:function(m){return f(new m.constructor,m)},isPlainObject:function(m){var v=m!=null&&m.constructor;return v&&(v===Object||v===y||v.name==="Object")},pick:function(m,v){return m!==o?m:v},slice:function(m,v,S){return t.call(m,v,S)}}})};n.exports=_,_.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+_.each(this,function(r,e){if(!/^_/.test(e)){var t=typeof r;this.push(e+": "+(t==="number"?fe.instance.number(r):t==="string"?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return _.importJSON(r,this)},exportJSON:function(r){return _.exportJSON(this,r)},toJSON:function(){return _.serialize(this)},set:function(r,e){return r&&_.filter(this,r,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var e=r.base.apply(this,arguments),t=e.prototype._class;return t&&!_.exports[t]&&(_.exports[t]=e),e},equals:function(r,e){if(r===e)return!0;if(r&&r.equals)return r.equals(e);if(e&&e.equals)return e.equals(r);if(r&&e&&typeof r=="object"&&typeof e=="object"){if(Array.isArray(r)&&Array.isArray(e)){var t=r.length;if(t!==e.length)return!1;for(;t--;)if(!_.equals(r[t],e[t]))return!1}else{var i=Object.keys(r),t=i.length;if(t!==Object.keys(e).length)return!1;for(;t--;){var a=i[t];if(!(e.hasOwnProperty(a)&&_.equals(r[a],e[a])))return!1}}return!0}return!1},read:function(r,e,t,i){if(this===_){var a=this.peek(r,e);return r.__index++,a}var u=this.prototype,l=u._readIndex,h=e||l&&r.__index||0,f=r.length,d=r[h];if(i=i||f-h,d instanceof this||t&&t.readNull&&d==null&&i<=1)return l&&(r.__index=h+1),d&&t&&t.clone?d.clone():d;if(d=_.create(u),l&&(d.__read=!0),d=d.initialize.apply(d,h>0||h+i<f?_.slice(r,h,h+i):r)||d,l){r.__index=h+d.__read;var g=d.__filtered;g&&(r.__filtered=g,d.__filtered=o),d.__read=o}return d},peek:function(r,e){return r[r.__index=e||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,e,t,i){for(var a=[],u,l=e||0,h=i?l+i:r.length,f=l;f<h;f++)a.push(Array.isArray(u=r[f])?this.read(u,0,t):this.read(r,f,t,1));return a},readNamed:function(r,e,t,i,a){var u=this.getNamed(r,e),l=u!==o;if(l){var h=r.__filtered;if(!h){var f=this.getSource(r);h=r.__filtered=_.create(f),h.__unfiltered=f}h[e]=o}return this.read(l?[u]:r,t,i,a)},readSupported:function(r,e){var t=this.getSource(r),i=this,a=!1;return t&&Object.keys(t).forEach(function(u){if(u in e){var l=i.readNamed(r,u);l!==o&&(e[u]=l),a=!0}}),a},getSource:function(r){var e=r.__source;if(e===o){var t=r.length===1&&r[0];e=r.__source=t&&_.isPlainObject(t)?t:null}return e},getNamed:function(r,e){var t=this.getSource(r);if(t)return e?t[e]:r.__filtered||t},hasNamed:function(r,e){return!!this.getNamed(r,e)},filter:function(r,e,t,i){var a;function u(g){if(!(t&&g in t)&&!(a&&g in a)){var y=e[g];y!==o&&(r[g]=y)}}if(i){for(var l={},h=0,f,d=i.length;h<d;h++)(f=i[h])in e&&(u(f),l[f]=!0);a=l}return Object.keys(e.__unfiltered||e).forEach(u),r},isPlainValue:function(r,e){return _.isPlainObject(r)||Array.isArray(r)||e&&typeof r=="string"},serialize:function(r,e,t,i){e=e||{};var a=!i,u;if(a&&(e.formatter=new fe(e.precision),i={length:0,definitions:{},references:{},add:function(y,m){var v="#"+y._id,S=this.references[v];if(!S){this.length++;var E=m.call(y),I=y._class;I&&E[0]!==I&&E.unshift(I),this.definitions[v]=E,S=this.references[v]=[v]}return S}}),r&&r._serialize){u=r._serialize(e,i);var l=r._class;l&&!r._compactSerialize&&(a||!t)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(r)){u=[];for(var h=0,f=r.length;h<f;h++)u[h]=_.serialize(r[h],e,t,i)}else if(_.isPlainObject(r)){u={};for(var d=Object.keys(r),h=0,f=d.length;h<f;h++){var g=d[h];u[g]=_.serialize(r[g],e,t,i)}}else typeof r=="number"?u=e.formatter.number(r,e.precision):u=r;return a&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(r,e,t,i,a){var u=r,l=!t,h=l&&r&&r.length&&r[0][0]==="dictionary";if(t=t||{},Array.isArray(r)){var f=r[0],d=f==="dictionary";if(r.length==1&&/^#/.test(f))return t.dictionary[f];f=_.exports[f],u=[];for(var g=f?1:0,y=r.length;g<y;g++)u.push(_.deserialize(r[g],e,t,d,h));if(f){var m=u;e?u=e(f,m,l||a):u=new f(m)}}else if(_.isPlainObject(r)){u={},i&&(t.dictionary=u);for(var v in r)u[v]=_.deserialize(r[v],e,t)}return h?u[1]:u},exportJSON:function(r,e){var t=_.serialize(r,e);return e&&e.asString==!1?t:JSON.stringify(t)},importJSON:function(r,e){return _.deserialize(typeof r=="string"?JSON.parse(r):r,function(t,i,a){var u=a&&e&&e.constructor===t,l=u?e:_.create(t.prototype);if(i.length===1&&l instanceof z&&(u||!(l instanceof Oe))){var h=i[0];_.isPlainObject(h)&&(h.insert=!1,u&&(i=i.concat([{insert:!0}])))}return(u?l.set:t).apply(l,i),u&&(e=null),l})},push:function(r,e){var t=e.length;if(t<4096)r.push.apply(r,e);else{var i=r.length;r.length+=t;for(var a=0;a<t;a++)r[i+a]=e[a]}return r},splice:function(r,e,t,i){var a=e&&e.length,u=t===o;t=u?r.length:t,t>r.length&&(t=r.length);for(var l=0;l<a;l++)e[l]._index=t+l;if(u)return _.push(r,e),[];var h=[t,i];e&&_.push(h,e);for(var f=r.splice.apply(r,h),l=0,d=f.length;l<d;l++)f[l]._index=o;for(var l=t+a,d=r.length;l<d;l++)r[l]._index=l;return f},capitalize:function(r){return r.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var V={on:function(r,e){if(typeof r!="string")_.each(r,function(u,l){this.on(l,u)},this);else{var t=this._eventTypes,i=t&&t[r],a=this._callbacks=this._callbacks||{};a=a[r]=a[r]||[],a.indexOf(e)===-1&&(a.push(e),i&&i.install&&a.length===1&&i.install.call(this,r))}return this},off:function(r,e){if(typeof r!="string"){_.each(r,function(l,h){this.off(h,l)},this);return}var t=this._eventTypes,i=t&&t[r],a=this._callbacks&&this._callbacks[r],u;return a&&(!e||(u=a.indexOf(e))!==-1&&a.length===1?(i&&i.uninstall&&i.uninstall.call(this,r),delete this._callbacks[r]):u!==-1&&a.splice(u,1)),this},once:function(r,e){return this.on(r,function t(){e.apply(this,arguments),this.off(r,t)})},emit:function(r,e){var t=this._callbacks&&this._callbacks[r];if(!t)return!1;var i=_.slice(arguments,1),a=e&&e.target&&!e.currentTarget;t=t.slice(),a&&(e.currentTarget=this);for(var u=0,l=t.length;u<l;u++)if(t[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return a&&delete e.currentTarget,!0},responds:function(r){return!!(this._callbacks&&this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var e=this._eventTypes,t=this._callbacks,i=r?"install":"uninstall";if(e){for(var a in t)if(t[a].length>0){var u=e[a],l=u&&u[i];l&&l.call(this,a)}}},statics:{inject:function r(e){var t=e._events;if(t){var i={};_.each(t,function(a,u){var l=typeof a=="string",h=l?a:u,f=_.capitalize(h),d=h.substring(2).toLowerCase();i[d]=l?{}:a,h="_"+h,e["get"+f]=function(){return this[h]},e["set"+f]=function(g){var y=this[h];y&&this.off(d,y),g&&this.on(d,g),this[h]=g}}),e._eventTypes=i}return r.base.apply(this,arguments)}}},Q=_.extend({_class:"PaperScope",initialize:function r(){tt=this,this.settings=new _({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var e=r.prototype;if(!this.support){var t=kt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:dt.nativeModes},kt.release(t)}if(!this.agent){var i=s.navigator.userAgent.toLowerCase(),a=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=a==="darwin"?"mac":a,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,f,d,g,y){if(!l.chrome){var m=f==="opera"?g:/^(node|trident)$/.test(f)?y:d;l.version=m,l.versionNumber=parseFloat(m),f={trident:"msie",jsdom:"node"}[f]||f,l.name=f,l[f]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.15",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,e){},install:function(r){var e=this;_.each(["project","view","tool"],function(i){_.define(r,i,{configurable:!0,get:function(){return e[i]}})});for(var t in this)!/^_/.test(t)&&this[t]&&(r[t]=this[t])},setup:function(r){return tt=this,this.project=new ye(r),this},createCanvas:function(r,e){return kt.getCanvas(r,e)},activate:function(){tt=this},clear:function(){for(var r=this.projects,e=this.tools,t=r.length-1;t>=0;t--)r[t].remove();for(var t=e.length-1;t>=0;t--)e[t].remove()},remove:function(){this.clear(),delete Q._scopes[this._id]},statics:new function(){function r(e){return e+="Attribute",function(t,i){return t[e](i)||t[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),K=_.extend(V,{initialize:function(r){this._scope=tt,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(_.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),ne={findItemBoundsCollisions:function(r,e,t){function i(l){for(var h=new Array(l.length),f=0;f<l.length;f++){var d=l[f].getBounds();h[f]=[d.left,d.top,d.right,d.bottom]}return h}var a=i(r),u=!e||e===r?a:i(e);return this.findBoundsCollisions(a,u,t||0)},findCurveBoundsCollisions:function(r,e,t,i){function a(m){for(var v=Math.min,S=Math.max,E=new Array(m.length),I=0;I<m.length;I++){var P=m[I];E[I]=[v(P[0],P[2],P[4],P[6]),v(P[1],P[3],P[5],P[7]),S(P[0],P[2],P[4],P[6]),S(P[1],P[3],P[5],P[7])]}return E}var u=a(r),l=!e||e===r?u:a(e);if(i){for(var h=this.findBoundsCollisions(u,l,t||0,!1,!0),f=this.findBoundsCollisions(u,l,t||0,!0,!0),d=[],g=0,y=h.length;g<y;g++)d[g]={hor:h[g],ver:f[g]};return d}return this.findBoundsCollisions(u,l,t||0)},findBoundsCollisions:function(r,e,t,i,a){var u=!e||r===e,l=u?r:r.concat(e),h=r.length,f=l.length;function d(se,he,ve){for(var we=0,ae=se.length;we<ae;){var oe=ae+we>>>1;l[se[oe]][he]<ve?we=oe+1:ae=oe}return we-1}for(var g=i?1:0,y=g+2,m=i?0:1,v=m+2,S=new Array(f),E=0;E<f;E++)S[E]=E;S.sort(function(se,he){return l[se][g]-l[he][g]});for(var I=[],P=new Array(h),E=0;E<f;E++){var C=S[E],x=l[C],w=u?C:C-h,k=C<h,T=u||!k,M=k?[]:null;if(I.length){var N=d(I,y,x[g]-t)+1;if(I.splice(0,N),u&&a){M=M.concat(I);for(var L=0;L<I.length;L++){var O=I[L];P[O].push(w)}}else for(var D=x[v],U=x[m],L=0;L<I.length;L++){var O=I[L],R=l[O],H=O<h,q=u||O>=h;(a||(k&&q||T&&H)&&D>=R[m]-t&&U<=R[v]+t)&&(k&&q&&M.push(u?O:O-h),T&&H&&P[O].push(w))}}if(k&&(r===e&&M.push(C),P[C]=M),I.length){var W=x[y],G=d(I,y,W);I.splice(G+1,0,C)}else I.push(C)}for(var E=0;E<P.length;E++){var Y=P[E];Y&&Y.sort(function(he,ve){return he-ve})}return P}},fe=_.extend({initialize:function(r){this.precision=_.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,e,t){return this.number(r)+(t||",")+this.number(e)},point:function(r,e){return this.number(r.x)+(e||",")+this.number(r.y)},size:function(r,e){return this.number(r.width)+(e||",")+this.number(r.height)},rectangle:function(r,e){return this.point(r,e)+(e||",")+this.size(r,e)}});fe.instance=new fe;var re=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],t=Math.abs,i=Math.sqrt,a=Math.pow,u=Math.log2||function(y){return Math.log(y)*Math.LOG2E},l=1e-12,h=112e-18;function f(y,m,v){return y<m?m:y>v?v:y}function d(y,m,v){function S(N){var L=N*134217729,O=N-L,D=O+L,U=N-D;return[D,U]}var E=m*m-y*v,I=m*m+y*v;if(t(E)*3<I){var P=S(y),C=S(m),x=S(v),w=m*m,k=C[0]*C[0]-w+2*C[0]*C[1]+C[1]*C[1],T=y*v,M=P[0]*x[0]-T+P[0]*x[1]+P[1]*x[0]+P[1]*x[1];E=w-T+(k-M)}return E}function g(){var y=Math.max.apply(Math,arguments);return y&&(y<1e-8||y>1e8)?a(2,-Math.round(u(y))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(y){return y>=-l&&y<=l},isMachineZero:function(y){return y>=-h&&y<=h},clamp:f,integrate:function(y,m,v,S){for(var E=r[S-2],I=e[S-2],P=(v-m)*.5,C=P+m,x=0,w=S+1>>1,k=S&1?I[x++]*y(C):0;x<w;){var T=P*E[x];k+=I[x++]*(y(C+T)+y(C-T))}return P*k},findRoot:function(y,m,v,S,E,I,P){for(var C=0;C<I;C++){var x=y(v),w=x/m(v),k=v-w;if(t(w)<P){v=k;break}x>0?(E=v,v=k<=S?(S+E)*.5:k):(S=v,v=k>=E?(S+E)*.5:k)}return f(v,S,E)},solveQuadratic:function(y,m,v,S,E,I){var P,C=1/0;if(t(y)<l){if(t(m)<l)return t(v)<l?-1:0;P=-v/m}else{m*=-.5;var x=d(y,m,v);if(x&&t(x)<h){var w=g(t(y),t(m),t(v));w&&(y*=w,m*=w,v*=w,x=d(y,m,v))}if(x>=-h){var k=x<0?0:i(x),T=m+(m<0?-k:k);T===0?(P=v/y,C=-P):(P=T/y,C=v/T)}}var M=0,N=E==null,L=E-l,O=I+l;return isFinite(P)&&(N||P>L&&P<O)&&(S[M++]=N?P:f(P,E,I)),C!==P&&isFinite(C)&&(N||C>L&&C<O)&&(S[M++]=N?C:f(C,E,I)),M},solveCubic:function(y,m,v,S,E,I,P){var C=g(t(y),t(m),t(v),t(S)),x,w,k,T,M;C&&(y*=C,m*=C,v*=C,S*=C);function N(G){x=G;var Y=y*x;w=Y+m,k=w*x+v,T=(Y+w)*x+k,M=k*x+S}if(t(y)<l)y=m,w=v,k=S,x=1/0;else if(t(S)<l)w=m,k=v,x=0;else{N(-(m/y)/3);var L=M/y,O=a(t(L),1/3),D=L<0?-1:1,U=-T/y,R=U>0?1.324717957244746*Math.max(O,i(U)):O,H=x-D*R;if(H!==x){do N(H),H=T===0?x:x-M/T/(1+h);while(D*H>D*x);t(y)*x*x>t(S/x)&&(k=-S/x,w=(k-v)/x)}}var q=re.solveQuadratic(y,w,k,E,I,P),W=I==null;return isFinite(x)&&(q===0||q>0&&x!==E[0]&&x!==E[1])&&(W||x>I-l&&x<P+l)&&(E[q++]=W?x:f(x,I,P)),q}}},ue={_id:1,_pools:{},get:function(r){if(r){var e=this._pools[r];return e||(e=this._pools[r]={_id:1}),e._id++}else return this._id++}},F=_.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.x=r,this.y=e,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new F(this.x,this.y)},toString:function(){var r=fe.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*r,Math.sin(e)*r)}else{var t=r/this.getLength();re.isZero(t)&&this.getAngle(),this._set(this.x*t,this.y*t)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=F.read(arguments),e=this.getLength()*r.getLength();if(re.isZero(e))return NaN;var t=this.dot(r)/e;return Math.acos(t<-1?-1:t>1?1:t)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var e=this.getLength();this._set(Math.cos(r)*e,Math.sin(r)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=F.read(arguments);return Math.atan2(this.cross(r),this.dot(r))*180/Math.PI},getDistance:function(){var r=arguments,e=F.read(r),t=e.x-this.x,i=e.y-this.y,a=t*t+i*i,u=_.read(r);return u?a:Math.sqrt(a)},normalize:function(r){r===o&&(r=1);var e=this.getLength(),t=e!==0?r/e:0,i=new F(this.x*t,this.y*t);return t>=0&&(i._angle=this._angle),i},rotate:function(r,e){if(r===0)return this.clone();r=r*Math.PI/180;var t=e?this.subtract(e):this,i=Math.sin(r),a=Math.cos(r);return t=new F(t.x*a-t.y*i,t.x*i+t.y*a),e?t.add(e):t},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=F.read(arguments);return new F(this.x+r.x,this.y+r.y)},subtract:function(){var r=F.read(arguments);return new F(this.x-r.x,this.y-r.y)},multiply:function(){var r=F.read(arguments);return new F(this.x*r.x,this.y*r.y)},divide:function(){var r=F.read(arguments);return new F(this.x/r.x,this.y/r.y)},modulo:function(){var r=F.read(arguments);return new F(this.x%r.x,this.y%r.y)},negate:function(){return new F(-this.x,-this.y)},isInside:function(){return Z.read(arguments).contains(this)},isClose:function(){var r=arguments,e=F.read(r),t=_.read(r);return this.getDistance(e)<=t},isCollinear:function(){var r=F.read(arguments);return F.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=F.read(arguments);return F.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=re.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=F.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=F.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=F.read(arguments),e=r.isZero()?0:this.dot(r)/r.dot(r);return new F(r.x*e,r.y*e)},statics:{min:function(){var r=arguments,e=F.read(r),t=F.read(r);return new F(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var r=arguments,e=F.read(r),t=F.read(r);return new F(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new F(Math.random(),Math.random())},isCollinear:function(r,e,t,i){return Math.abs(r*i-e*t)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8},isOrthogonal:function(r,e,t,i){return Math.abs(r*t+e*i)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8}}},_.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new F(e(this.x),e(this.y))}},{})),me=F.extend({initialize:function(e,t,i,a){this._x=e,this._y=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._x=r,this._y=e,t||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),te=_.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.width=r,this.height=e,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new te(this.width,this.height)},toString:function(){var r=fe.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var r=te.read(arguments);return new te(this.width+r.width,this.height+r.height)},subtract:function(){var r=te.read(arguments);return new te(this.width-r.width,this.height-r.height)},multiply:function(){var r=te.read(arguments);return new te(this.width*r.width,this.height*r.height)},divide:function(){var r=te.read(arguments);return new te(this.width/r.width,this.height/r.height)},modulo:function(){var r=te.read(arguments);return new te(this.width%r.width,this.height%r.height)},negate:function(){return new te(-this.width,-this.height)},isZero:function(){var r=re.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,e){return new te(Math.min(r.width,e.width),Math.min(r.height,e.height))},max:function(r,e){return new te(Math.max(r.width,e.width),Math.max(r.height,e.height))},random:function(){return new te(Math.random(),Math.random())}}},_.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new te(e(this.width),e(this.height))}},{})),Te=te.extend({initialize:function(e,t,i,a){this._width=e,this._height=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._width=r,this._height=e,t||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),Z=_.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,i,a){var u=arguments,l=typeof e,h;if(l==="number"?(this._set(e,t,i,a),h=4):l==="undefined"||e===null?(this._set(0,0,0,0),h=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),h=1):e.x!==o||e.width!==o?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),h=1):e.from===o&&e.to===o&&(this._set(0,0,0,0),_.readSupported(u,this)&&(h=1))),h===o){var f=F.readNamed(u,"from"),d=_.peek(u),g=f.x,y=f.y,m,v;if(d&&d.x!==o||_.hasNamed(u,"to")){var S=F.readNamed(u,"to");m=S.x-g,v=S.y-y,m<0&&(g=S.x,m=-m),v<0&&(y=S.y,v=-v)}else{var E=te.read(u);m=E.width,v=E.height}this._set(g,y,m,v),h=u.__index}var I=u.__filtered;return I&&(this.__filtered=I),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(r,e,t,i){return this.x=r,this.y=e,this.width=t,this.height=i,this},clone:function(){return new Z(this.x,this.y,this.width,this.height)},equals:function(r){var e=_.isPlainValue(r)?Z.read(arguments):r;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var r=fe.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(r){var e=r?F:me;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var r=F.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){var e=r?te:Te;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=te.read(arguments),e=this._sx,t=this._sy,i=r.width,a=r.height;e&&(this.x+=(this.width-i)*e),t&&(this.y+=(this.height-a)*t),this.width=i,this.height=a,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var e=r-this.x;this.width-=this._sx===.5?e*2:e}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var e=r-this.y;this.height-=this._sy===.5?e*2:e}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var e=r-this.x;this.width=this._sx===.5?e*2:e}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var e=r-this.y;this.height=this._sy===.5?e*2:e}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||this._sx===.5?this.x=r-this.width/2:(this._sx&&(this.x+=(r-this.x)*2*this._sx),this.width=(r-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||this._sy===.5?this.y=r-this.height/2:(this._sy&&(this.y+=(r-this.y)*2*this._sy),this.height=(r-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(r){var e=r?F:me;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=F.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(r){return r&&r.width!==o||(Array.isArray(r)?r:arguments).length===4?this._containsRectangle(Z.read(arguments)):this._containsPoint(F.read(arguments))},_containsPoint:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e<=this.x+this.width&&t<=this.y+this.height},_containsRectangle:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e+r.width<=this.x+this.width&&t+r.height<=this.y+this.height},intersects:function(){var r=Z.read(arguments),e=_.read(arguments)||0;return r.x+r.width>this.x-e&&r.y+r.height>this.y-e&&r.x<this.x+this.width+e&&r.y<this.y+this.height+e},intersect:function(){var r=Z.read(arguments),e=Math.max(this.x,r.x),t=Math.max(this.y,r.y),i=Math.min(this.x+this.width,r.x+r.width),a=Math.min(this.y+this.height,r.y+r.height);return new Z(e,t,i-e,a-t)},unite:function(){var r=Z.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x+r.width),a=Math.max(this.y+this.height,r.y+r.height);return new Z(e,t,i-e,a-t)},include:function(){var r=F.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x),a=Math.max(this.y+this.height,r.y);return new Z(e,t,i-e,a-t)},expand:function(){var r=te.read(arguments),e=r.width,t=r.height;return new Z(this.x-e/2,this.y-t/2,this.width+e,this.height+t)},scale:function(r,e){return this.expand(this.width*r-this.width,this.height*(e===o?r:e)-this.height)}},_.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,e){var t=r.join(""),i=/^[RL]/.test(t);e>=4&&(r[1]+=i?"Y":"X");var a=r[i?0:1],u=r[i?1:0],l="get"+a,h="get"+u,f="set"+a,d="set"+u,g="get"+t,y="set"+t;this[g]=function(m){var v=m?F:me;return new v(this[l](),this[h](),this,y)},this[y]=function(){var m=F.read(arguments);this[f](m.x),this[d](m.y)}},{beans:!0})),ee=Z.extend({initialize:function(e,t,i,a,u,l){this._set(e,t,i,a,!0),this._owner=u,this._setter=l},_set:function(r,e,t,i,a){return this._x=r,this._y=e,this._width=t,this._height=i,a||this._owner[this._setter](this),this}},new function(){var r=Z.prototype;return _.each(["x","y","width","height"],function(e){var t=_.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._dontNotify||this._owner[this._setter](this)}},_.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var t="set"+e;this[t]=function(){this._dontNotify=!0,r[t].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),J=_.extend({_class:"Matrix",initialize:function r(e,t){var i=arguments,a=i.length,u=!0;if(a>=6?this._set.apply(this,i):a===1||a===2?e instanceof r?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):u=!1:a?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,e,t,i,a,u,l){return this._a=r,this._b=e,this._c=t,this._d=i,this._tx=a,this._ty=u,l||this._changed(),this},_serialize:function(r,e){return _.serialize(this.getValues(),r,!0,e)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new J(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=fe.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,e){var t=this._owner;return t?(t.transform(null,_.pick(r,!0),e),this.isIdentity()):!1},translate:function(){var r=F.read(arguments),e=r.x,t=r.y;return this._tx+=e*this._a+t*this._c,this._ty+=e*this._b+t*this._d,this._changed(),this},scale:function(){var r=arguments,e=F.read(r),t=F.read(r,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var e=F.read(arguments,1),t=e.x,i=e.y,a=Math.cos(r),u=Math.sin(r),l=t-t*a+i*u,h=i-t*u-i*a,f=this._a,d=this._b,g=this._c,y=this._d;return this._a=a*f+u*g,this._b=a*d+u*y,this._c=-u*f+a*g,this._d=-u*d+a*y,this._tx+=l*f+h*g,this._ty+=l*d+h*y,this._changed(),this},shear:function(){var r=arguments,e=F.read(r),t=F.read(r,0,{readNull:!0});t&&this.translate(t);var i=this._a,a=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*a,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var r=arguments,e=F.read(r),t=F.read(r,0,{readNull:!0}),i=Math.PI/180,a=new F(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(a,t)},append:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=r._a,h=r._c,f=r._b,d=r._d,g=r._tx,y=r._ty;this._a=l*t+f*a,this._c=h*t+d*a,this._b=l*i+f*u,this._d=h*i+d*u,this._tx+=g*t+y*a,this._ty+=g*i+y*u,e||this._changed()}return this},prepend:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=this._tx,h=this._ty,f=r._a,d=r._c,g=r._b,y=r._d,m=r._tx,v=r._ty;this._a=f*t+d*i,this._c=f*a+d*u,this._b=g*t+y*i,this._d=g*a+y*u,this._tx=f*l+d*h+m,this._ty=g*l+y*h+v,e||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=this._tx,u=this._ty,l=r*i-e*t,h=null;return l&&!isNaN(l)&&isFinite(a)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-t/l,this._d=r/l,this._tx=(t*u-i*a)/l,this._ty=(e*a-r*u)/l,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new J(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,e,t){return arguments.length<3?this._transformPoint(F.read(arguments)):this._transformCoordinates(r,e,t)},_transformPoint:function(r,e,t){var i=r.x,a=r.y;return e||(e=new F),e._set(i*this._a+a*this._c+this._tx,i*this._b+a*this._d+this._ty,t)},_transformCoordinates:function(r,e,t){for(var i=0,a=2*t;i<a;i+=2){var u=r[i],l=r[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(r){var e=r.x,t=r.y,i=e+r.width,a=t+r.height,u=[e,t,i,t,i,a,e,a];return this._transformCoordinates(u,u,4)},_transformBounds:function(r,e,t){for(var i=this._transformCorners(r),a=i.slice(0,2),u=a.slice(),l=2;l<8;l++){var h=i[l],f=l&1;h<a[f]?a[f]=h:h>u[f]&&(u[f]=h)}return e||(e=new Z),e._set(a[0],a[1],u[0]-a[0],u[1]-a[1],t)},inverseTransform:function(){return this._inverseTransform(F.read(arguments))},_inverseTransform:function(r,e,t){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,d=i*l-a*u,g=null;if(d&&!isNaN(d)&&isFinite(h)&&isFinite(f)){var y=r.x-this._tx,m=r.y-this._ty;e||(e=new F),g=e._set((y*l-m*u)/d,(m*i-y*a)/d,t)}return g},decompose:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=r*i-e*t,u=Math.sqrt,l=Math.atan2,h=180/Math.PI,f,d,g;if(r!==0||e!==0){var y=u(r*r+e*e);f=Math.acos(r/y)*(e>0?1:-1),d=[y,a/y],g=[l(r*t+e*i,y*y),0]}else if(t!==0||i!==0){var m=u(t*t+i*i);f=Math.asin(t/m)*(i>0?1:-1),d=[a/m,m],g=[0,l(r*t+e*i,m*m)]}else f=0,g=d=[0,0];return{translation:this.getTranslation(),rotation:f*h,scaling:new F(d),skewing:new F(g[0]*h,g[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new F(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},_.each(["a","b","c","d","tx","ty"],function(r){var e=_.capitalize(r),t="_"+r;this["get"+e]=function(){return this[t]},this["set"+e]=function(i){this[t]=i,this._changed()}},{})),de=_.extend({_class:"Line",initialize:function(e,t,i,a,u){var l=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=i,this._vy=a,l=u):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new F(this._px,this._py)},getVector:function(){return new F(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,e){return de.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,e)},getSide:function(r,e){return de.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,e)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return de.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return F.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return F.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,e,t,i,a,u,l,h,f,d){f||(t-=r,i-=e,l-=a,h-=u);var g=t*h-i*l;if(!re.isMachineZero(g)){var y=r-a,m=e-u,v=(l*m-h*y)/g,S=(t*m-i*y)/g,E=1e-12,I=-E,P=1+E;if(d||I<v&&v<P&&I<S&&S<P)return d||(v=v<=0?0:v>=1?1:v),new F(r+v*t,e+v*i)}},getSide:function(r,e,t,i,a,u,l,h){l||(t-=r,i-=e);var f=a-r,d=u-e,g=f*i-d*t;return!h&&re.isMachineZero(g)&&(g=(f*t+f*t)/(t*t+i*i),g>=0&&g<=1&&(g=0)),g<0?-1:g>0?1:0},getSignedDistance:function(r,e,t,i,a,u,l){return l||(t-=r,i-=e),t===0?i>0?a-r:r-a:i===0?t<0?u-e:e-u:((a-r)*i-(u-e)*t)/(i>t?i*Math.sqrt(1+t*t/(i*i)):t*Math.sqrt(1+i*i/(t*t)))},getDistance:function(r,e,t,i,a,u,l){return Math.abs(de.getSignedDistance(r,e,t,i,a,u,l))}}}),ye=K.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){K.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new xn(null,null,this),this._view=Je.create(this,e||kt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,e){return _.serialize(this._children,r,!0,e)},_changed:function(r,e){if(r&1){var t=this._view;t&&(t._needsUpdate=!0,!t._requested&&t._autoUpdate&&t.requestUpdate())}var i=this._changes;if(i&&e){var a=this._changesById,u=e._id,l=a[u];l?l.flags|=r:i.push(a[u]={item:e,flags:r})}},clear:function(){for(var r=this._children,e=r.length-1;e>=0;e--)r[e].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return r.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Oe({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],e={};return this.getItems({class:it,match:function(t){var i=t._definition,a=i._id;return e[a]||(e[a]=!0,r.push(i)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,e=[];for(var t in r){var i=r[t],a=i._selection;a&1&&i.isInserted()?e.push(i):a||this._updateSelection(i)}return e},_updateSelection:function(r){var e=r._id,t=this._selectionItems;r._selection?t[e]!==r&&(this._selectionCount++,t[e]=r):t[e]===r&&(this._selectionCount--,delete t[e])},selectAll:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)r[e].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var e in r)r[e].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(o,r)},insertLayer:function(r,e){if(e instanceof Oe){e._remove(!1,!0),_.splice(this._children,[e],r,0),e._setProject(this,!0);var t=e._name;t&&e.setName(t),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(r,e,t){return e=this.insertLayer(r,e)||(this._activeLayer||this._insertItem(o,new Oe(z.NO_INSERT),!0)).insertChild(r,e),t&&e.activate&&e.activate(),e},getItems:function(r){return z._getItems(this,r)},getItem:function(r){return z._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var e=this._activeLayer;return _.importJSON(r,e&&e.isEmpty()&&e)},removeOn:function(r){var e=this._removeSets;if(e){r==="mouseup"&&(e.mousedrag=null);var t=e[r];if(t){for(var i in t){var a=t[i];for(var u in e){var l=e[u];l&&l!=t&&delete l[a._id]}a.remove()}e[r]=null}}},draw:function(r,e,t){this._updateVersion++,r.save(),e.applyToContext(r);for(var i=this._children,a=new _({offset:new F(0,0),pixelRatio:t,viewMatrix:e.isIdentity()?null:e,matrices:[new J],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(r,a);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var h=this._selectionItems,f=this._scope.settings.handleSize,d=this._updateVersion;for(var g in h)h[g]._drawSelection(r,e,f,h,d);r.restore()}}}),z=_.extend(V,{statics:{extend:function r(e){return e._serializeFields&&(e._serializeFields=_.set({},this.prototype._serializeFields,e._serializeFields)),r.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new J,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return _.each(r,function(e){this._events[e]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,e){var t=r&&_.isPlainObject(r),i=t&&r.internal===!0,a=this._matrix=new J,u=t&&r.project||tt.project,l=tt.settings;return this._id=i?null:ue.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&a.translate(e),a._owner=this,this._style=new xn(u._currentStyle,this,u),i||t&&r.insert==!1||!l.insertItems&&!(t&&r.insert===!0)?this._setProject(u):(t&&r.parent||u)._insertItem(o,this,!0),t&&r!==z.NO_INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),t},_serialize:function(r,e){var t={},i=this;function a(u){for(var l in u){var h=i[l];_.equals(h,l==="leading"?u.fontSize*1.2:u[l])||(t[l]=_.serialize(h,r,l!=="data",e))}}return a(this._serializeFields),this instanceof Pe||a(this._style._defaults),[this._class,t]},_changed:function(r){var e=this._symbol,t=this._parent||e,i=this._project;r&8&&(this._bounds=this._position=this._decomposed=o),r&16&&(this._globalMatrix=o),t&&r&72&&z._clearBoundsCache(t),r&2&&z._clearBoundsCache(this),i&&i._changed(r,this),e&&e._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(r&&e){var t=e._children,i=e._namedChildren;(i[r]=i[r]||[]).push(this),r in t||(t[r]=this)}this._name=r||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},_.each(["locked","visible","blendMode","opacity","guide"],function(r){var e=_.capitalize(r),t="_"+r,i={locked:256,visible:265};this["get"+e]=function(){return this[t]},this["set"+e]=function(a){a!=this[t]&&(this[t]=a,this._changed(i[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){if(this._selectChildren){for(var r=this._children,e=0,t=r.length;e<t;e++)if(r[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(r){if(this._selectChildren)for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,e=!!(this._selection&1);if(r&&e){for(var t=0,i=r.length;t<i;t++)if(!r[t].isFullySelected())return!1;return!0}return e},setFullySelected:function(r){var e=this._children;if(e)for(var t=0,i=e.length;t<i;t++)e[t].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var e=r?F:me,t=this._position||(this._position=this._getPositionFromBounds());return new e(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(F.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new me(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=F.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},_.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,e){this[e]=function(t){return this.getBounds(t,r)}},{beans:!0,getBounds:function(r,e){var t=e||r instanceof J,i=_.set({},t?e:r,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var a=this._getCachedBounds(t&&r,i).rect;return arguments.length?a:new ee(a.x,a.y,a.width,a.height,this,"setBounds")},setBounds:function(){var r=Z.read(arguments),e=this.getBounds(),t=this._matrix,i=new J,a=r.getCenter();i.translate(a),(r.width!=e.width||r.height!=e.height)&&(t.isInvertible()||(t.set(t._backup||new J().translate(t.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?r.width/e.width:0,e.height!==0?r.height/e.height:0)),a=e.getCenter(),i.translate(-a.x,-a.y),this.transform(i)},_getBounds:function(r,e){var t=this._children;return!t||!t.length?new Z:(z._updateBoundsCache(this,e.cacheItem),z._getBounds(t,r,e))},_getBoundsCacheKey:function(r,e){return[r.stroke?1:0,r.handle?1:0,e?1:0].join("")},_getCachedBounds:function(r,e,t){r=r&&r._orNullIfIdentity();var i=e.internal&&!t,a=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=a&&(!r||r.equals(u))&&this._getBoundsCacheKey(e,i),h=this._bounds;if(z._updateBoundsCache(this._parent||this._symbol,a),l&&h&&l in h){var f=h[l];return{rect:f.rect.clone(),nonscaling:f.nonscaling}}var d=this._getBounds(r||u,e),g=d.rect||d,y=this._style,m=d.nonscaling||y.hasStroke()&&!y.getStrokeScaling();if(l){h||(this._bounds=h={});var f=h[l]={rect:g.clone(),nonscaling:m,internal:i}}return{rect:g,nonscaling:m}},_getStrokeMatrix:function(r,e){var t=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=t?t.getViewMatrix().invert():r;return i&&i._shiftless()},statics:{_updateBoundsCache:function(r,e){if(r&&e){var t=e._id,i=r._boundsCache=r._boundsCache||{ids:{},list:[]};i.ids[t]||(i.list.push(e),i.ids[t]=e)}},_clearBoundsCache:function(r){var e=r._boundsCache;if(e){r._bounds=r._position=r._boundsCache=o;for(var t=0,i=e.list,a=i.length;t<a;t++){var u=i[t];u!==r&&(u._bounds=u._position=o,u._boundsCache&&z._clearBoundsCache(u))}}},_getBounds:function(r,e,t){var i=1/0,a=-i,u=i,l=a,h=!1;t=t||{};for(var f=0,d=r.length;f<d;f++){var g=r[f];if(g._visible&&!g.isEmpty(!0)){var y=g._getCachedBounds(e&&e.appended(g._matrix),t,!0),m=y.rect;i=Math.min(m.x,i),u=Math.min(m.y,u),a=Math.max(m.x+m.width,a),l=Math.max(m.y+m.height,l),y.nonscaling&&(h=!0)}}return{rect:isFinite(i)?new Z(i,u,a-i,l-u):new Z,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var e=this.getRotation();if(e!=null&&r!=null){var t=this._decomposed;this.rotate(r-e),t&&(t.rotation=r,this._decomposed=t)}},getScaling:function(){var r=this._decompose(),e=r&&r.scaling;return new me(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=F.read(arguments,0,{clone:!0,readNull:!0});if(r&&e&&!r.equals(e)){var t=this.getRotation(),i=this._decomposed,a=new J,u=re.isZero;if(u(r.x)||u(r.y))a.translate(i.translation),t&&a.rotate(t),a.scale(e.x,e.y),this._matrix.set(a);else{var l=this.getPosition(!0);a.translate(l),t&&a.rotate(t),a.scale(e.x/r.x,e.y/r.y),t&&a.rotate(-t),a.translate(l.negate()),this.transform(a)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var e=this._globalMatrix;if(e)for(var t=this._parent,i=[];t;){if(!t._globalMatrix){e=null;for(var a=0,u=i.length;a<u;a++)i[a]._globalMatrix=null;break}i.push(t),t=t._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var t=this._parent;t&&e.prepend(t.getGlobalMatrix(!0))}return r?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,e){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._setProject(r);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(e){r.base.call(this,e);for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._installEvents(e)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof Oe)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return _.equals(this._children,r._children)},clone:function(r){var e=new this.constructor(z.NO_INSERT),t=this._children,i=_.pick(r?r.insert:o,r===o||r===!0),a=_.pick(r?r.deep:o,!0);t&&e.copyAttributes(this),(!t||a)&&e.copyContent(this),t||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var t=l._children,h=u,f=1;t[u];)u=h+" "+f++;u!==h&&e.setName(u)}return e},copyContent:function(r){for(var e=r._children,t=0,i=e&&e.length;t<i;t++)this.addChild(e[t].clone(!1),!0)},copyAttributes:function(r,e){this.setStyle(r._style);for(var t=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=t.length;i<a;i++){var u=t[i];r.hasOwnProperty(u)&&(this[u]=r[u])}e||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var l=r._data,h=r._name;this._data=l?_.clone(l):null,h&&this.setName(h)},rasterize:function(r,e){var t,i,a;_.isPlainObject(r)?(t=r.resolution,i=r.insert,a=r.raster):(t=r,i=e),a?a.matrix.reset(!0):a=new De(z.NO_INSERT);var u=this.getStrokeBounds(),l=(t||this.getView().getResolution())/72,h=u.getTopLeft().floor(),f=u.getBottomRight().ceil(),d=new te(f.subtract(h)),g=d.multiply(l);if(a.setSize(g,!0),!g.isZero()){var y=a.getContext(!0),m=new J().scale(l).translate(h.negate());y.save(),m.applyToContext(y),this.draw(y,new _({matrices:[m]})),y.restore()}return a.transform(new J().translate(h.add(d.divide(2))).scale(1/l)),(i===o||i)&&a.insertAbove(this),a},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(F.read(arguments)))},_contains:function(r){var e=this._children;if(e){for(var t=e.length-1;t>=0;t--)if(e[t].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return Z.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new be.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,e){return r instanceof z?this._asPathItem().getIntersections(r._asPathItem(),null,e,!0).length>0:!1}},new function(){function r(){var i=arguments;return this._hitTest(F.read(i),at.getOptions(i))}function e(){var i=arguments,a=F.read(i),u=at.getOptions(i),l=[];return this._hitTest(a,new _({all:l},u)),l}function t(i,a,u,l){var h=this._children;if(h)for(var f=h.length-1;f>=0;f--){var d=h[f],g=d!==l&&d._hitTest(i,a,u);if(g&&!a.all)return g}return null}return ye.inject({hitTest:r,hitTestAll:e,_hitTest:t}),{hitTest:r,hitTestAll:e,_hitTestChildren:t}},{_hitTest:function(r,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,a=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new te(be._getStrokePadding(u,i._shiftless().invert()));if(r=i._inverseTransform(r),!r||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(r))return null;var h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==_.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,d=this,g,y;function m(x){return x&&f&&!f(x)&&(x=null),x&&e.all&&e.all.push(x),x}function v(x,w){var k=w?g["get"+w]():d.getPosition();if(r.subtract(k).divide(l).length<=1)return new at(x,d,{name:w?_.hyphenate(w):x,point:k})}var S=e.position,E=e.center,I=e.bounds;if(h&&this._parent&&(S||E||I)){if((E||I)&&(g=this.getInternalBounds()),y=S&&v("position")||E&&v("center","Center"),!y&&I)for(var P=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!y;C++)y=v("bounds",P[C]);y=m(y)}return y||(y=this._hitTestChildren(r,e,a)||h&&m(this._hitTestSelf(r,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),y&&y.point&&(y.point=i.transform(y.point)),y},_hitTestSelf:function(r,e){if(e.fill&&this.hasFill()&&this._contains(r))return new at("fill",this)},matches:function(r,e){function t(l,h){for(var f in l)if(l.hasOwnProperty(f)){var d=l[f],g=h[f];if(_.isPlainObject(d)&&_.isPlainObject(g)){if(!t(d,g))return!1}else if(!_.equals(d,g))return!1}return!0}var i=typeof r;if(i==="object"){for(var a in r)if(r.hasOwnProperty(a)&&!this.matches(a,r[a]))return!1;return!0}else{if(i==="function")return r(this);if(r==="match")return e(this);var u=/^(empty|editable)$/.test(r)?this["is"+_.capitalize(r)]():r==="type"?_.hyphenate(this._class):this[r];if(r==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(_.isPlainObject(e))return t(e,u)}return _.equals(u,e)}},getItems:function(r){return z._getItems(this,r,this._matrix)},getItem:function(r){return z._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(e,t,i,a,u){if(!a){var l=typeof t=="object"&&t,h=l&&l.overlapping,f=l&&l.inside,d=h||f,m=d&&Z.read([d]);a={items:[],recursive:l&&l.recursive!==!1,inside:!!f,overlapping:!!h,rect:m,path:h&&new be.Rectangle({rectangle:m,insert:!1})},l&&(t=_.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var g=e._children,y=a.items,m=a.rect;i=m&&(i||new J);for(var v=0,S=g&&g.length;v<S;v++){var E=g[v],I=i&&i.appended(E._matrix),P=!0;if(m){var d=E.getBounds(I);if(!m.intersects(d))continue;m.contains(d)||a.overlapping&&(d.contains(m)||a.path.intersects(E,I))||(P=!1)}if(P&&E.matches(t)&&(y.push(E),u)||(a.recursive!==!1&&r(E,t,I,a,u),u&&y.length>0))break}return y}}},{importJSON:function(r){var e=_.importJSON(r,this);return e!==this?this.addChild(e):e},addChild:function(r){return this.insertChild(o,r)},insertChild:function(r,e){var t=e?this.insertChildren(r,[e]):null;return t&&t[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,e){var t=this._children;if(t&&e&&e.length>0){e=_.slice(e);for(var i={},a=e.length-1;a>=0;a--){var u=e[a],l=u&&u._id;!u||i[l]?e.splice(a,1):(u._remove(!1,!0),i[l]=!0)}_.splice(t,e,r,0);for(var h=this._project,f=h._changes,a=0,d=e.length;a<d;a++){var u=e[a],g=u._name;u._parent=this,u._setProject(h,!0),g&&u.setName(g),f&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(r,e){var t=r&&r._getOwner(),i=r!==this&&t?this:null;return i&&(i._remove(!1,!0),t._insertItem(r._index+e,i)),i},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(o,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var e=this._children;if(e&&e.length===1){var t=e[0].reduce(r);return this._parent?(t.insertAbove(this),this.remove()):t.remove(),t}return this},_removeNamed:function(){var r=this._getOwner();if(r){var e=r._children,t=r._namedChildren,i=this._name,a=t[i],u=a?a.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],a.splice(u,1),a.length?e[i]=a[0]:delete t[i])}},_remove:function(r,e){var t=this._getOwner(),i=this._project,a=this._index;return this._style&&this._style._dispose(),t?(this._name&&this._removeNamed(),a!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),_.splice(t._children,null,a,1)),this._installEvents(!1),r&&i._changes&&this._changed(5),e&&t._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var e=r&&r.insertBelow(this);return e&&this.remove(),e},removeChildren:function(r,e){if(!this._children)return null;r=r||0,e=_.pick(e,this._children.length);for(var t=_.splice(this._children,null,r,e-r),i=t.length-1;i>=0;i--)t[i]._remove(!0,!1);return t.length>0&&this._changed(11),t},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,e=this._children.length;r<e;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var e=this._children,t=e?e.length:0;if(r){for(var i=0;i<t;i++)if(!e[i].isEmpty(r))return!1;return!0}return!t},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function e(l){var h=[];do h.unshift(l);while(l=l._parent);return h}for(var t=e(this),i=e(r),a=0,u=Math.min(t.length,i.length);a<u;a++)if(t[a]!=i[a])return t[a]._index<i[a]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(r){return this._getOrder(r)===-1},isBelow:function(r){return this._getOrder(r)===1},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var e=this;e=e._parent;)if(e===r)return!0;return!1},isAncestor:function(r){return r?r.isDescendant(this):!1},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&r.isDescendant(e))return!0;e=e._parent}return!1}},_.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?_:F).read(t),a=F.read(t,0,{readNull:!0});return this.transform(new J()[r](i,a||this.getPosition(!0)))}},{translate:function(){var r=new J;return this.transform(r.translate.apply(r,arguments))},transform:function(r,e,t){var i=this._matrix,a=r&&!r.isIdentity(),u=t&&this._canApplyMatrix||this._applyMatrix&&(a||!i.isIdentity()||e&&this._children);if(!a&&!u)return this;if(a){!r.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(r,!0);var l=this._style,h=l.getFillColor(!0),f=l.getStrokeColor(!0);h&&h.transform(r),f&&f.transform(r)}if(u&&(u=this._transformContent(i,e,t))){var d=this._pivot;d&&i._transformPoint(d,d,!0),i.reset(!0),t&&this._canApplyMatrix&&(this._applyMatrix=!0)}var g=this._bounds,y=this._position;(a||u)&&this._changed(25);var m=a&&g&&r.decompose();if(m&&m.skewing.isZero()&&m.rotation%90===0){for(var v in g){var S=g[v];if(S.nonscaling)delete g[v];else if(u||!S.internal){var E=S.rect;r._transformBounds(E,E)}}this._bounds=g;var I=g[this._getBoundsCacheKey(this._boundsOptions||{})];I&&(this._position=this._getPositionFromBounds(I.rect))}else a&&y&&this._pivot&&(this._position=r._transformPoint(y,y));return this},_transformContent:function(r,e,t){var i=this._children;if(i){for(var a=0,u=i.length;a<u;a++)i[a].transform(r,e,t);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(F.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(F.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(F.read(arguments))},localToParent:function(){return this._matrix._transformPoint(F.read(arguments))},fitBounds:function(r,e){r=Z.read(arguments);var t=this.getBounds(),i=t.height/t.width,a=r.height/r.width,u=(e?i>a:i<a)?r.width/t.width:r.height/t.height,l=new Z(new F,new te(t.width*u,t.height*u));l.setCenter(r.getCenter()),this.setBounds(l)}}),{_setStyles:function(r,e,t){var i=this._style,a=this._matrix;if(i.hasFill()&&(r.fillStyle=i.getFillColor().toCanvasStyle(r,a)),i.hasStroke()){r.strokeStyle=i.getStrokeColor().toCanvasStyle(r,a),r.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),h=i.getMiterLimit();if(u&&(r.lineJoin=u),l&&(r.lineCap=l),h&&(r.miterLimit=h),tt.support.nativeDash){var f=i.getDashArray(),d=i.getDashOffset();f&&f.length&&("setLineDash"in r?(r.setLineDash(f),r.lineDashOffset=d):(r.mozDash=f,r.mozDashOffset=d))}}if(i.hasShadow()){var g=e.pixelRatio||1,y=t._shiftless().prepend(new J().scale(g,g)),m=y.transform(new F(i.getShadowBlur(),0)),v=y.transform(this.getShadowOffset());r.shadowColor=i.getShadowColor().toCanvasStyle(r),r.shadowBlur=m.getLength(),r.shadowOffsetX=v.x,r.shadowOffsetY=v.y}},draw:function(r,e,t){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,a=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(!!l.isInvertible()){a=a?a.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var h=this._blendMode,f=re.clamp(this._opacity,0,1),d=h==="normal",g=dt.nativeModes[h],y=d&&f===1||e.dontStart||e.clip||(g||d&&f<1)&&this._canComposite(),m=e.pixelRatio||1,v,S,E;if(!y){var I=this.getStrokeBounds(a);if(!I.width||!I.height){i.pop();return}E=e.offset,S=e.offset=I.getTopLeft().floor(),v=r,r=kt.getContext(I.getSize().ceil().add(1).multiply(m)),m!==1&&r.scale(m,m)}r.save();var P=t?t.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&a,C=!y&&e.clipItem,x=!P||C;if(y?(r.globalAlpha=f,g&&(r.globalCompositeOperation=h)):x&&r.translate(-S.x,-S.y),x&&(y?u:a).applyToContext(r),C&&e.clipItem.draw(r,e.extend({clip:!0})),P){r.setTransform(m,0,0,m,0,0);var w=e.offset;w&&r.translate(-w.x,-w.y)}this._draw(r,e,a,P),r.restore(),i.pop(),e.clip&&!e.dontFinish&&r.clip(this.getFillRule()),y||(dt.process(h,r,v,f,S.subtract(E).multiply(m)),kt.release(r),e.offset=E)}}},_isUpdated:function(r){var e=this._parent;if(e instanceof Ue)return e._isUpdated(r);var t=this._updateVersion===r;return!t&&e&&e._visible&&e._isUpdated(r)&&(this._updateVersion=r,t=!0),t},_drawSelection:function(r,e,t,i,a){var u=this._selection,l=u&1,h=u&2||l&&this._selectBounds,f=u&4;if(this._drawSelected||(l=!1),(l||h||f)&&this._isUpdated(a)){var d,g=this.getSelectedColor(!0)||(d=this.getLayer())&&d.getSelectedColor(!0),y=e.appended(this.getGlobalMatrix(!0)),m=t/2;if(r.strokeStyle=r.fillStyle=g?g.toCanvasStyle(r):"#009dec",l&&this._drawSelected(r,y,i),f){var v=this.getPosition(!0),S=this._parent,E=S?S.localToGlobal(v):v,I=E.x,P=E.y;r.beginPath(),r.arc(I,P,m,0,Math.PI*2,!0),r.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],x=m,w=t+1,k=0;k<4;k++){var T=C[k],M=T[0],N=T[1];r.moveTo(I+M*x,P+N*x),r.lineTo(I+M*w,P+N*w),r.stroke()}}if(h){var L=y._transformCorners(this.getInternalBounds());r.beginPath();for(var k=0;k<8;k++)r[k?"lineTo":"moveTo"](L[k],L[++k]);r.closePath(),r.stroke();for(var k=0;k<8;k++)r.fillRect(L[k]-m,L[++k]-m,t,t)}}},_canComposite:function(){return!1}},_.each(["down","drag","up","move"],function(r){this["removeOn"+_.capitalize(r)]=function(){var e={};return e[r]=!0,this.removeOn(e)}},{removeOn:function(r){for(var e in r)if(r[e]){var t="mouse"+e,i=this._project,a=i._removeSets=i._removeSets||{};a[t]=a[t]||{},a[t][this._id]=this}return this}}),{tween:function(r,e,t){t||(t=e,e=r,r=null,t||(t=e,e=null));var i=t&&t.easing,a=t&&t.start,u=t!=null&&(typeof t=="number"?t:t.duration),l=new Ui(this,r,e,u,i,a);function h(f){l._handleFrame(f.time*1e3),l.running||this.off("frame",h)}return u&&this.on("frame",h),l},tweenTo:function(r,e){return this.tween(null,r,e)},tweenFrom:function(r,e){return this.tween(r,null,e)}}),Pe=z.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function r(e){r.base.call(this,e),e&2050&&(this._clipItem=o)},_getClipItem:function(){var r=this._clipItem;if(r===o){r=null;for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t]._clipMask){r=e[t];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var e=this.getFirstChild();e&&e.setClipMask(r)},_getBounds:function r(e,t){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),_.set({},t,{stroke:!1})):r.base.call(this,e,t)},_hitTestChildren:function r(e,t,i){var a=this._getClipItem();return(!a||a.contains(e))&&r.base.call(this,e,t,i,a)},_draw:function(r,e){var t=e.clip,i=!t&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),t?(r.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(r,e.extend({clip:!0}));for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u];h!==i&&h.draw(r,e)}}}),Oe=Pe.extend({_class:"Layer",initialize:function(){Pe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function r(){return this._parent?r.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Fe=z.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&_.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Te(r.width,r.height,this,"setSize")},setSize:function(){var r=te.read(arguments);if(!this._size)this._size=r.clone();else if(!this._size.equals(r)){var e=this._type,t=r.width,i=r.height;e==="rectangle"?this._radius.set(te.min(this._radius,r.divide(2).abs())):e==="circle"?(t=i=(t+i)/2,this._radius=t/2):e==="ellipse"&&this._radius._set(t/2,i/2),this._size._set(t,i),this._changed(9)}},getRadius:function(){var r=this._radius;return this._type==="circle"?r:new Te(r.width,r.height,this,"setRadius")},setRadius:function(r){var e=this._type;if(e==="circle"){if(r===this._radius)return;var t=r*2;this._radius=r,this._size._set(t,t)}else if(r=te.read(arguments),!this._radius)this._radius=r.clone();else{if(this._radius.equals(r))return;if(this._radius.set(r),e==="rectangle"){var t=te.max(this._size,r.multiply(2));this._size.set(t)}else e==="ellipse"&&this._size._set(r.width*2,r.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var e=new be[_.capitalize(this._type)]({center:new F,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),tt.settings.applyMatrix&&e.setApplyMatrix(!0),(r===o||r)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,e,t,i){var a=this._style,u=a.hasFill(),l=a.hasStroke(),h=e.dontFinish||e.clip,f=!i;if(u||l||h){var d=this._type,g=this._radius,y=d==="circle";if(e.dontStart||r.beginPath(),f&&y)r.arc(0,0,g,0,Math.PI*2,!0);else{var m=y?g:g.width,v=y?g:g.height,S=this._size,E=S.width,I=S.height;if(f&&d==="rectangle"&&m===0&&v===0)r.rect(-E/2,-I/2,E,I);else{var P=E/2,C=I/2,x=1-.5522847498307936,w=m*x,k=v*x,T=[-P,-C+v,-P,-C+k,-P+w,-C,-P+m,-C,P-m,-C,P-w,-C,P,-C+k,P,-C+v,P,C-v,P,C-k,P-w,C,P-m,C,-P+m,C,-P+w,C,-P,C-k,-P,C-v];i&&i.transform(T,T,32),r.moveTo(T[0],T[1]),r.bezierCurveTo(T[2],T[3],T[4],T[5],T[6],T[7]),P!==m&&r.lineTo(T[8],T[9]),r.bezierCurveTo(T[10],T[11],T[12],T[13],T[14],T[15]),C!==v&&r.lineTo(T[16],T[17]),r.bezierCurveTo(T[18],T[19],T[20],T[21],T[22],T[23]),P!==m&&r.lineTo(T[24],T[25]),r.bezierCurveTo(T[26],T[27],T[28],T[29],T[30],T[31])}}r.closePath()}!h&&(u||l)&&(this._setStyles(r,e,t),u&&(r.fill(a.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),l&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,e){var t=new Z(this._size).setCenter(0,0),i=this._style,a=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return r&&(t=r._transformBounds(t)),a?t.expand(be._getStrokePadding(a,this._getStrokeMatrix(r,e))):t}},new function(){function r(t,i,a){var u=t._radius;if(!u.isZero())for(var l=t._size.divide(2),h=1;h<=4;h++){var f=new F(h>1&&h<4?-1:1,h>2?-1:1),d=f.multiply(l),g=d.subtract(f.multiply(u)),y=new Z(a?d.add(f.multiply(a)):d,g);if(y.contains(i))return{point:g,quadrant:h}}}function e(t,i,a,u){var l=t.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(a).length<=1}return{_contains:function t(i){if(this._type==="rectangle"){var a=r(this,i);return a?i.subtract(a.point).divide(this._radius).getLength()<=1:t.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function t(i,a,u,l){var h=!1,f=this._style,d=a.stroke&&f.hasStroke(),g=a.fill&&f.hasFill();if(d||g){var y=this._type,m=this._radius,v=d?f.getStrokeWidth()/2:0,S=a._tolerancePadding.add(be._getStrokePadding(v,!f.getStrokeScaling()&&l));if(y==="rectangle"){var E=S.multiply(2),I=r(this,i,E);if(I)h=e(i.subtract(I.point),m,S,I.quadrant);else{var P=new Z(this._size).setCenter(0,0),C=P.expand(E),x=P.expand(E.negate());h=C._containsPoint(i)&&!x._containsPoint(i)}}else h=e(i,m,S)}return h?new at(d?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function r(e,t,i,a,u){var l=_.create(Fe.prototype);return l._type=e,l._size=i,l._radius=a,l._initialize(_.getNamed(u),t),l}return{Circle:function(){var e=arguments,t=F.readNamed(e,"center"),i=_.readNamed(e,"radius");return r("circle",t,new te(i*2),i,e)},Rectangle:function(){var e=arguments,t=Z.readNamed(e,"rectangle"),i=te.min(te.readNamed(e,"radius"),t.getSize(!0).divide(2));return r("rectangle",t.getCenter(!0),t.getSize(!0),i,e)},Ellipse:function(){var e=arguments,t=Fe._readEllipse(e),i=t.radius;return r("ellipse",t.center,i.multiply(2),i,e)},_readEllipse:function(e){var t,i;if(_.hasNamed(e,"radius"))t=F.readNamed(e,"center"),i=te.readNamed(e,"radius");else{var a=Z.readNamed(e,"rectangle");t=a.getCenter(!0),i=a.getSize(!0).divide(2)}return{center:t,radius:i}}}}}),De=z.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==o&&F.read(arguments))){var i,a=typeof e,u=a==="string"?b.getElementById(e):a==="object"?e:null;if(u&&u!==z.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=te.read(arguments);l.isZero()||(i=kt.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new te,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var e=r._image,t=r._canvas;if(e)this._setImage(e);else if(t){var i=kt.getCanvas(r._size);i.getContext("2d").drawImage(t,0,0),this._setImage(i)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Te(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,e){var t=te.read(arguments);if(t.equals(this._size))e&&this.clear();else if(t.width>0&&t.height>0){var i=!e&&this.getElement();this._setImage(kt.getCanvas(t)),i&&this.getContext(!0).drawImage(i,0,0,t.width,t.height)}else this._canvas&&kt.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||r.width===0&&r.height===0},getResolution:function(){var r=this._matrix,e=new F(0,0).transform(r),t=new F(1,0).transform(r).subtract(e),i=new F(0,1).transform(r).subtract(e);return new te(72/t.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var e=this;function t(i){var a=e.getView(),u=i&&i.type||"load";a&&e.responds(u)&&(tt=a._scope,e.emit(u,new En(i)))}this._setImage(r),this._loaded?setTimeout(t,0):r&&et.add(r,{load:function(i){e._setImage(r),t(i)},error:t})},_setImage:function(r){this._canvas&&kt.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new te(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=kt.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch(e){kt.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var e=new s.Image,t=this._crossOrigin;t&&(e.crossOrigin=t),r&&(e.src=r),this.setImage(e)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var e=this._image;e&&(e.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing=typeof r=="string"?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=Z.read(arguments),e=kt.getContext(r.getSize());return e.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.canvas},getSubRaster:function(){var r=Z.read(arguments),e=new De(z.NO_INSERT);return e._setImage(this.getSubCanvas(r)),e.translate(r.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var r=this._image,e=r&&r.src;if(/^data:/.test(e))return e;var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(r){var e=F.read(arguments,1);this.getContext(!0).drawImage(r,e.x,e.y)},getAverageColor:function(r){var e,t;if(r?r instanceof Le?(t=r,e=r.getBounds()):typeof r=="object"&&("width"in r?e=new Z(r):"x"in r&&(e=new Z(r.x-.5,r.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,a=Math.min(e.width,i),u=Math.min(e.height,i),l=De._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=De._sampleContext=kt.getContext(new te(i)),l.save();var h=new J().scale(a/e.width,u/e.height).translate(-e.x,-e.y);h.applyToContext(l),t&&t.draw(l,new _({clip:!0,matrices:[h]})),this._matrix.applyToContext(l);var f=this.getElement(),d=this._size;f&&l.drawImage(f,-d.width/2,-d.height/2),l.restore();for(var g=l.getImageData(.5,.5,Math.ceil(a),Math.ceil(u)).data,y=[0,0,0],m=0,v=0,S=g.length;v<S;v+=4){var E=g[v+3];m+=E,E/=255,y[0]+=g[v]*E,y[1]+=g[v+1]*E,y[2]+=g[v+2]*E}for(var v=0;v<3;v++)y[v]/=m;return m?Ye.read(y):null},getPixel:function(){var r=F.read(arguments),e=this.getContext().getImageData(r.x,r.y,1,1).data;return new Ye("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var r=arguments,e=F.read(r),t=Ye.read(r),i=t._convert("rgb"),a=t._alpha,u=this.getContext(!0),l=u.createImageData(1,1),h=l.data;h[0]=i[0]*255,h[1]=i[1]*255,h[2]=i[2]*255,h[3]=a!=null?a*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=te.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=Z.read(arguments);return r.isEmpty()&&(r=new Z(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},setImageData:function(r){var e=F.read(arguments,1);this.getContext(!0).putImageData(r,e.x,e.y)},_getBounds:function(r,e){var t=new Z(this._size).setCenter(0,0);return r?r._transformBounds(t):t},_hitTestSelf:function(r){if(this._contains(r)){var e=this;return new at("pixel",e,{offset:r.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(r,e,t){var i=this.getElement();if(i&&i.width>0&&i.height>0){r.globalAlpha=re.clamp(this._opacity,0,1),this._setStyles(r,e,t);var a=this._smoothing,u=a==="off";We.setPrefixed(r,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:a),r.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),it=z.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==o&&F.read(arguments,1))||this.setDefinition(e instanceof Qe?e:new Qe(e))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,e){var t=this._definition._item;return t._getCachedBounds(t._matrix.prepended(r),e)},_hitTestSelf:function(r,e,t){var i=e.extend({all:!1}),a=this._definition._item._hitTest(r,i,t);return a&&(a.item=this),a},_draw:function(r,e){this._definition._item.draw(r,e)}}),Qe=_.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=ue.get(),this.project=tt.project,e&&this.setItem(e,t)},_serialize:function(r,e){return e.add(this,function(){return _.serialize([this._class,this._item],r,!1,e)})},_changed:function(r){r&8&&z._clearBoundsCache(this),r&1&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,e){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),e||r.setPosition(new F),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new it(this,r)},clone:function(){return new Qe(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),at=_.extend({_class:"HitResult",initialize:function(e,t,i){this.type=e,this.item=t,i&&this.inject(i)},statics:{getOptions:function(r){var e=r&&_.read(r);return new _({type:null,tolerance:tt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),Ce=_.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,i,a,u,l){var h=arguments.length,f,d,g,y;h>0&&(e==null||typeof e=="object"?h===1&&e&&"point"in e?(f=e.point,d=e.handleIn,g=e.handleOut,y=e.selection):(f=e,d=t,g=i,y=a):(f=[e,t],d=i!==o?[i,a]:null,g=u!==o?[u,l]:null)),new xt(f,this,"_point"),new xt(d,this,"_handleIn"),new xt(g,this,"_handleOut"),y&&this.setSelection(y)},_serialize:function(r,e){var t=this._point,i=this._selection,a=i||this.hasHandles()?[t,this._handleIn,this._handleOut]:t;return i&&a.push(i),_.serialize(a,r,!0,e)},_changed:function(r){var e=this._path;if(!!e){var t=e._curves,i=this._index,a;t&&((!r||r===this._point||r===this._handleIn)&&(a=i>0?t[i-1]:e._closed?t[t.length-1]:null)&&a._changed(),(!r||r===this._point||r===this._handleOut)&&(a=t[i])&&a._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(F.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(F.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(F.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,e=this._handleOut;return!r.isZero()&&!e.isZero()&&r.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var e=this._selection,t=this._path;this._selection=r=r||0,t&&r!==e&&(t._updateSelection(this,e,r),t._changed(257))},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){return!!(this._selection&7)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,e=this._index;return r?(e>0&&!r._closed&&e===r._segments.length-1&&e--,r.getCurves()[e]||null):null},getLocation:function(){var r=this.getCurve();return r?new _t(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,e,t){var i=r||{},a=i.type,u=i.factor,l=this.getPrevious(),h=this.getNext(),f=(l||this)._point,d=this._point,g=(h||this)._point,y=f.getDistance(d),m=d.getDistance(g);if(!a||a==="catmull-rom"){var v=u===o?.5:u,S=Math.pow(y,v),E=S*S,I=Math.pow(m,v),P=I*I;if(!e&&l){var C=2*P+3*I*S+E,x=3*I*(I+S);this.setHandleIn(x!==0?new F((P*f._x+C*d._x-E*g._x)/x-d._x,(P*f._y+C*d._y-E*g._y)/x-d._y):new F)}if(!t&&h){var C=2*E+3*S*I+P,x=3*S*(S+I);this.setHandleOut(x!==0?new F((E*g._x+C*d._x-P*f._x)/x-d._x,(E*g._y+C*d._y-P*f._y)/x-d._y):new F)}}else if(a==="geometric"){if(l&&h){var w=f.subtract(g),k=u===o?.4:u,T=k*y/(y+m);e||this.setHandleIn(w.multiply(T)),t||this.setHandleOut(w.multiply(T-k))}}else throw new Error("Smoothing method '"+a+"' not supported.")},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,e=this._handleOut,t=r.clone();r.set(e),e.set(t)},reversed:function(){return new Ce(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Ce(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,e,t){var i=1-t,a=t,u=r._point,l=e._point,h=r._handleIn,f=e._handleIn,d=e._handleOut,g=r._handleOut;this._point._set(i*u._x+a*l._x,i*u._y+a*l._y,!0),this._handleIn._set(i*h._x+a*f._x,i*h._y+a*f._y,!0),this._handleOut._set(i*g._x+a*d._x,i*g._y+a*d._y,!0),this._changed()},_transformCoordinates:function(r,e,t){var i=this._point,a=!t||!this._handleIn.isZero()?this._handleIn:null,u=!t||!this._handleOut.isZero()?this._handleOut:null,l=i._x,h=i._y,f=2;return e[0]=l,e[1]=h,a&&(e[f++]=a._x+l,e[f++]=a._y+h),u&&(e[f++]=u._x+l,e[f++]=u._y+h),r&&(r._transformCoordinates(e,e,f/2),l=e[0],h=e[1],t?(i._x=l,i._y=h,f=2,a&&(a._x=e[f++]-l,a._y=e[f++]-h),u&&(u._x=e[f++]-l,u._y=e[f++]-h)):(a||(e[f++]=l,e[f++]=h),u||(e[f++]=l,e[f++]=h))),e}}),xt=F.extend({initialize:function(e,t,i){var a,u,l;if(!e)a=u=0;else if((a=e[0])!==o)u=e[1];else{var h=e;(a=h.x)===o&&(h=F.read(arguments),a=h.x),u=h.y,l=h.selected}this._x=a,this._y=u,this._owner=t,t[i]=this,l&&this.setSelected(!0)},_set:function(r,e){return this._x=r,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=re.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),le=_.extend({_class:"Curve",beans:!0,initialize:function(e,t,i,a,u,l,h,f){var d=arguments.length,g,y,m,v,S,E;d===3?(this._path=e,g=t,y=i):d?d===1?"segment1"in e?(g=new Ce(e.segment1),y=new Ce(e.segment2)):"point1"in e?(m=e.point1,S=e.handle1,E=e.handle2,v=e.point2):Array.isArray(e)&&(m=[e[0],e[1]],v=[e[6],e[7]],S=[e[2]-e[0],e[3]-e[1]],E=[e[4]-e[6],e[5]-e[7]]):d===2?(g=new Ce(e),y=new Ce(t)):d===4?(m=e,S=t,E=i,v=a):d===8&&(m=[e,t],v=[h,f],S=[i-e,a-t],E=[u-h,l-f]):(g=new Ce,y=new Ce),this._segment1=g||new Ce(m,null,S),this._segment2=y||new Ce(v,E,null)},_serialize:function(r,e){return _.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new le(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return le.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var e=this._segment2,t=e._handleOut;r=e.remove(),r&&this._segment1._handleOut.set(t)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(F.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(F.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(F.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(F.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return le.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),e=[],t=0;t<8;t+=2)e.push(new F(r[t],r[t+1]));return e}},{getLength:function(){return this._length==null&&(this._length=le.getLength(this.getValues(),0,1)),this._length},getArea:function(){return le.getArea(this.getValues())},getLine:function(){return new de(this._segment1._point,this._segment2._point)},getPart:function(r,e){return new le(le.getPart(this.getValues(),r,e))},getPartLength:function(r,e){return le.getLength(this.getValues(),r,e)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,e){var t=1e-8,i=1-t,a=null;if(r>=t&&r<=i){var u=le.subdivide(this.getValues(),r),l=u[0],h=u[1],f=e||this.hasHandles(),d=this._segment1,g=this._segment2,y=this._path;f&&(d._handleOut._set(l[2]-l[0],l[3]-l[1]),g._handleIn._set(h[4]-h[6],h[5]-h[7]));var m=l[6],v=l[7],S=new Ce(new F(m,v),f&&new F(l[4]-m,l[5]-v),f&&new F(h[2]-m,h[3]-v));y?(y.insert(d._index+1,S),a=this.getNext()):(this._segment2=S,this._changed(),a=new le(S,g))}return a},splitAt:function(r){var e=this._path;return e?e.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,e){return this.divideAtTime(r===o?.5:e?r:this.getTimeAt(r))},split:function(r,e){return this.splitAtTime(r===o?.5:e?r:this.getTimeAt(r))},reversed:function(){return new le(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,e,t,i){var a=r._point,u=r._handleOut,l=e._handleIn,h=e._point,f=a.x,d=a.y,g=h.x,y=h.y,m=i?[f,d,f,d,g,y,g,y]:[f,d,f+u._x,d+u._y,g+l._x,y+l._y,g,y];return t&&t._transformCoordinates(m,m,4),m},subdivide:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],d=r[7];e===o&&(e=.5);var g=1-e,y=g*t+e*a,m=g*i+e*u,v=g*a+e*l,S=g*u+e*h,E=g*l+e*f,I=g*h+e*d,P=g*y+e*v,C=g*m+e*S,x=g*v+e*E,w=g*S+e*I,k=g*P+e*x,T=g*C+e*w;return[[t,i,y,m,P,C,k,T],[k,T,x,w,E,I,f,d]]},getMonoCurves:function(r,e){var t=[],i=e?0:1,a=r[i+0],u=r[i+2],l=r[i+4],h=r[i+6];if(a>=u==u>=l&&u>=l==l>=h||le.isStraight(r))t.push(r);else{var f=3*(u-l)-a+h,d=2*(a+l)-4*u,g=u-a,y=1e-8,m=1-y,v=[],S=re.solveQuadratic(f,d,g,v,y,m);if(!S)t.push(r);else{v.sort();var E=v[0],I=le.subdivide(r,E);t.push(I[0]),S>1&&(E=(v[1]-E)/(1-E),I=le.subdivide(I[1],E),t.push(I[0])),t.push(I[1])}}return t},solveCubic:function(r,e,t,i,a,u){var l=r[e],h=r[e+2],f=r[e+4],d=r[e+6],g=0;if(!(l<t&&d<t&&h<t&&f<t||l>t&&d>t&&h>t&&f>t)){var y=3*(h-l),m=3*(f-h)-y,v=d-l-y-m;g=re.solveCubic(v,m,y,l-t,i,a,u)}return g},getTimeOf:function(r,e){var t=new F(r[0],r[1]),i=new F(r[6],r[7]),a=1e-12,u=1e-7,l=e.isClose(t,a)?0:e.isClose(i,a)?1:null;if(l===null)for(var h=[e.x,e.y],f=[],d=0;d<2;d++)for(var g=le.solveCubic(r,d,h[d],f,0,1),y=0;y<g;y++){var m=f[y];if(e.isClose(le.getPoint(r,m),u))return m}return e.isClose(t,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(r,e){if(le.isStraight(r)){var t=r[0],i=r[1],a=r[6],u=r[7],l=a-t,h=u-i,f=l*l+h*h;if(f===0)return 0;var d=((e.x-t)*l+(e.y-i)*h)/f;return d<1e-12?0:d>.999999999999?1:le.getTimeOf(r,new F(t+d*l,i+d*h))}var g=100,y=1/0,m=0;function v(I){if(I>=0&&I<=1){var P=e.getDistance(le.getPoint(r,I),!0);if(P<y)return y=P,m=I,!0}}for(var S=0;S<=g;S++)v(S/g);for(var E=1/(g*2);E>1e-8;)!v(m-E)&&!v(m+E)&&(E/=2);return m},getPart:function(r,e,t){var i=e>t;if(i){var a=e;e=t,t=a}return e>0&&(r=le.subdivide(r,e)[1]),t<1&&(r=le.subdivide(r,(t-e)/(1-e))[0]),i?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],d=r[7],g=3*a-2*t-f,y=3*u-2*i-d,m=3*l-2*f-t,v=3*h-2*d-i;return Math.max(g*g,m*m)+Math.max(y*y,v*v)<=16*e*e},getArea:function(r){var e=r[0],t=r[1],i=r[2],a=r[3],u=r[4],l=r[5],h=r[6],f=r[7];return 3*((f-t)*(i+u)-(h-e)*(a+l)+a*(e-u)-i*(t-l)+f*(u+e/3)-h*(l+t/3))/20},getBounds:function(r){for(var e=r.slice(0,2),t=e.slice(),i=[0,0],a=0;a<2;a++)le._addBounds(r[a],r[a+2],r[a+4],r[a+6],a,0,e,t,i);return new Z(e[0],e[1],t[0]-e[0],t[1]-e[1])},_addBounds:function(r,e,t,i,a,u,l,h,f){function d(k,T){var M=k-T,N=k+T;M<l[a]&&(l[a]=M),N>h[a]&&(h[a]=N)}u/=2;var g=l[a]+u,y=h[a]-u;if(r<g||e<g||t<g||i<g||r>y||e>y||t>y||i>y)if(e<r!=e<i&&t<r!=t<i)d(r,0),d(i,0);else{var m=3*(e-t)-r+i,v=2*(r+t)-4*e,S=e-r,E=re.solveQuadratic(m,v,S,f),I=1e-8,P=1-I;d(i,0);for(var C=0;C<E;C++){var x=f[C],w=1-x;I<=x&&x<=P&&d(w*w*w*r+3*w*w*x*e+3*w*x*x*t+x*x*x*i,u)}}}}},_.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var e=this._bounds[r];return e||(e=this._bounds[r]=be[r]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),_.each({isStraight:function(r,e,t,i){if(e.isZero()&&t.isZero())return!0;var a=i.subtract(r);if(a.isZero())return!1;if(a.isCollinear(e)&&a.isCollinear(t)){var u=new de(r,i),l=1e-7;if(u.getDistance(r.add(e))<l&&u.getDistance(i.add(t))<l){var h=a.dot(a),f=a.dot(e)/h,d=a.dot(t)/h;return f>=0&&f<=1&&d<=0&&d>=-1}}return!1},isLinear:function(r,e,t,i){var a=i.subtract(r).divide(3);return e.equals(a)&&t.negate().equals(a)}},function(r,e){this[e]=function(t){var i=this._segment1,a=this._segment2;return r(i._point,i._handleOut,a._handleIn,a._point,t)},this.statics[e]=function(t,i){var a=t[0],u=t[1],l=t[6],h=t[7];return r(new F(a,u),new F(t[2]-a,t[3]-u),new F(t[4]-l,t[5]-h),new F(l,h),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,e){return this.getLocationAtTime(e?r:this.getTimeAt(r))},getLocationAtTime:function(r){return r!=null&&r>=0&&r<=1?new _t(this,r):null},getTimeAt:function(r,e){return le.getTimeAt(this.getValues(),r,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=F.read(arguments);return r.isZero()?[]:le.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(F.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return le.getTimeOf(this.getValues(),F.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=F.read(arguments),e=this.getValues(),t=le.getNearestTime(e,r),i=le.getPoint(e,t);return new _t(this,t,i,null,r.getDistance(i))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return _.each(r,function(e){this[e+"At"]=function(t,i){var a=this.getValues();return le[e](a,i?t:le.getTimeAt(a,t))},this[e+"AtTime"]=function(t){return le[e](this.getValues(),t)}},{statics:{_evaluateMethods:r}})},new function(){function r(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],d=i[5],g=i[6],y=i[7],m=9*(l-f)+3*(g-a),v=6*(a+f)-12*l,S=3*(l-a),E=9*(h-d)+3*(y-u),I=6*(u+d)-12*h,P=3*(h-u);return function(C){var x=(m*C+v)*C+S,w=(E*C+I)*C+P;return Math.sqrt(x*x+w*w)}}function e(i,a){return Math.max(2,Math.min(16,Math.ceil(Math.abs(a-i)*32)))}function t(i,a,u,l){if(a==null||a<0||a>1)return null;var h=i[0],f=i[1],d=i[2],g=i[3],y=i[4],m=i[5],v=i[6],S=i[7],E=re.isZero;E(d-h)&&E(g-f)&&(d=h,g=f),E(y-v)&&E(m-S)&&(y=v,m=S);var I=3*(d-h),P=3*(y-d)-I,C=v-h-I-P,x=3*(g-f),w=3*(m-g)-x,k=S-f-x-w,T,M;if(u===0)T=a===0?h:a===1?v:((C*a+P)*a+I)*a+h,M=a===0?f:a===1?S:((k*a+w)*a+x)*a+f;else{var N=1e-8,L=1-N;if(a<N?(T=I,M=x):a>L?(T=3*(v-y),M=3*(S-m)):(T=(3*C*a+2*P)*a+I,M=(3*k*a+2*w)*a+x),l){T===0&&M===0&&(a<N||a>L)&&(T=y-d,M=m-g);var O=Math.sqrt(T*T+M*M);O&&(T/=O,M/=O)}if(u===3){var y=6*C*a+2*P,m=6*k*a+2*w,D=Math.pow(T*T+M*M,3/2);T=D!==0?(T*m-M*y)/D:0,M=0}}return u===2?new F(M,-T):new F(T,M)}return{statics:{classify:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],d=i[5],g=i[6],y=i[7],m=a*(y-d)+u*(f-g)+g*d-y*f,v=l*(u-y)+h*(g-a)+a*y-u*g,S=f*(h-u)+d*(a-l)+l*u-h*a,E=3*S,I=E-v,P=I-v+m,C=Math.sqrt(P*P+I*I+E*E),x=C!==0?1/C:0,w=re.isZero,k="serpentine";P*=x,I*=x,E*=x;function T(O,D,U){var R=D!==o,H=R&&D>0&&D<1,q=R&&U>0&&U<1;return R&&(!(H||q)||O==="loop"&&!(H&&q))&&(O="arch",H=q=!1),{type:O,roots:H||q?H&&q?D<U?[D,U]:[U,D]:[H?D:U]:null}}if(w(P))return w(I)?T(w(E)?"line":"quadratic"):T(k,E/(3*I));var M=3*I*I-4*P*E;if(w(M))return T("cusp",I/(2*P));var N=M>0?Math.sqrt(M/3):Math.sqrt(-M),L=2*P;return T(M>0?k:"loop",(I+N)/L,(I-N)/L)},getLength:function(i,a,u,l){if(a===o&&(a=0),u===o&&(u=1),le.isStraight(i)){var h=i;u<1&&(h=le.subdivide(h,u)[0],a/=u),a>0&&(h=le.subdivide(h,a)[1]);var f=h[6]-h[0],d=h[7]-h[1];return Math.sqrt(f*f+d*d)}return re.integrate(l||r(i),a,u,e(a,u))},getTimeAt:function(i,a,u){if(u===o&&(u=a<0?1:0),a===0)return u;var l=Math.abs,h=1e-12,f=a>0,d=f?u:0,g=f?1:u,y=r(i),m=le.getLength(i,d,g,y),v=l(a)-m;if(l(v)<h)return f?g:d;if(v>h)return null;var S=a/m,E=0;function I(P){return E+=re.integrate(y,u,P,e(u,P)),u=P,E-a}return re.findRoot(I,y,u+S,d,g,32,1e-12)},getPoint:function(i,a){return t(i,a,0,!1)},getTangent:function(i,a){return t(i,a,1,!0)},getWeightedTangent:function(i,a){return t(i,a,1,!1)},getNormal:function(i,a){return t(i,a,2,!0)},getWeightedNormal:function(i,a){return t(i,a,2,!1)},getCurvature:function(i,a){return t(i,a,3,!1).x},getPeaks:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],d=i[5],g=i[6],y=i[7],m=-a+3*l-3*f+g,v=3*a-6*l+3*f,S=-3*a+3*l,E=-u+3*h-3*d+y,I=3*u-6*h+3*d,P=-3*u+3*h,C=1e-8,x=1-C,w=[];return re.solveCubic(9*(m*m+E*E),9*(m*v+I*E),2*(v*v+I*I)+3*(S*m+P*E),S*v+I*P,w,C,x),w.sort()}}}},new function(){function r(v,S,E,I,P,C,x){var w=!x&&E.getPrevious()===P,k=!x&&E!==P&&E.getNext()===P,T=1e-8,M=1-T;if(I!==null&&I>=(w?T:0)&&I<=(k?M:1)&&C!==null&&C>=(k?T:0)&&C<=(w?M:1)){var N=new _t(E,I,null,x),L=new _t(P,C,null,x);N._intersection=L,L._intersection=N,(!S||S(N))&&_t.insert(v,N,!0)}}function e(v,S,E,I,P,C,x,w,k,T,M,N,L){if(++k>=4096||++w>=40)return k;var O=1e-9,D=S[0],U=S[1],R=S[6],H=S[7],q=de.getSignedDistance,W=q(D,U,R,H,S[2],S[3]),G=q(D,U,R,H,S[4],S[5]),Y=W*G>0?3/4:4/9,se=Y*Math.min(0,W,G),he=Y*Math.max(0,W,G),ve=q(D,U,R,H,v[0],v[1]),we=q(D,U,R,H,v[2],v[3]),ae=q(D,U,R,H,v[4],v[5]),oe=q(D,U,R,H,v[6],v[7]),xe=t(ve,we,ae,oe),Se=xe[0],Ie=xe[1],Ne,ge;if(W===0&&G===0&&ve===0&&we===0&&ae===0&&oe===0||(Ne=i(Se,Ie,se,he))==null||(ge=i(Se.reverse(),Ie.reverse(),se,he))==null)return k;var Me=T+(M-T)*Ne,Re=T+(M-T)*ge;if(Math.max(L-N,Re-Me)<O){var Be=(Me+Re)/2,rt=(N+L)/2;r(P,C,x?I:E,x?rt:Be,x?E:I,x?Be:rt)}else{v=le.getPart(v,Ne,ge);var ot=L-N;if(ge-Ne>.8)if(Re-Me>ot){var st=le.subdivide(v,.5),Be=(Me+Re)/2;k=e(S,st[0],I,E,P,C,!x,w,k,N,L,Me,Be),k=e(S,st[1],I,E,P,C,!x,w,k,N,L,Be,Re)}else{var st=le.subdivide(S,.5),rt=(N+L)/2;k=e(st[0],v,I,E,P,C,!x,w,k,N,rt,Me,Re),k=e(st[1],v,I,E,P,C,!x,w,k,rt,L,Me,Re)}else ot===0||ot>=O?k=e(S,v,I,E,P,C,!x,w,k,N,L,Me,Re):k=e(v,S,E,I,P,C,x,w,k,Me,Re,N,L)}return k}function t(v,S,E,I){var P=[0,v],C=[1/3,S],x=[2/3,E],w=[1,I],k=S-(2*v+I)/3,T=E-(v+2*I)/3,M;if(k*T<0)M=[[P,C,w],[P,x,w]];else{var N=k/T;M=[N>=2?[P,C,w]:N<=.5?[P,x,w]:[P,C,x,w],[P,w]]}return(k||T)<0?M.reverse():M}function i(v,S,E,I){return v[0][1]<E?a(v,!0,E):S[0][1]>I?a(S,!1,I):v[0][0]}function a(v,S,E){for(var I=v[0][0],P=v[0][1],C=1,x=v.length;C<x;C++){var w=v[C][0],k=v[C][1];if(S?k>=E:k<=E)return k===E?w:I+(E-P)*(w-I)/(k-P);I=w,P=k}return null}function u(v,S,E,I,P){var C=re.isZero;if(C(I)&&C(P)){var x=le.getTimeOf(v,new F(S,E));return x===null?[]:[x]}for(var w=Math.atan2(-P,I),k=Math.sin(w),T=Math.cos(w),M=[],N=[],L=0;L<8;L+=2){var O=v[L]-S,D=v[L+1]-E;M.push(O*T-D*k,O*k+D*T)}return le.solveCubic(M,1,0,N,0,1),N}function l(v,S,E,I,P,C,x){for(var w=S[0],k=S[1],T=S[6],M=S[7],N=u(v,w,k,T-w,M-k),L=0,O=N.length;L<O;L++){var D=N[L],U=le.getPoint(v,D),R=le.getTimeOf(S,U);R!==null&&r(P,C,x?I:E,x?R:D,x?E:I,x?D:R)}}function h(v,S,E,I,P,C){var x=de.intersect(v[0],v[1],v[6],v[7],S[0],S[1],S[6],S[7]);x&&r(P,C,E,le.getTimeOf(v,x),I,le.getTimeOf(S,x))}function f(v,S,E,I,P,C){var x=1e-12,w=Math.min,k=Math.max;if(k(v[0],v[2],v[4],v[6])+x>w(S[0],S[2],S[4],S[6])&&w(v[0],v[2],v[4],v[6])-x<k(S[0],S[2],S[4],S[6])&&k(v[1],v[3],v[5],v[7])+x>w(S[1],S[3],S[5],S[7])&&w(v[1],v[3],v[5],v[7])-x<k(S[1],S[3],S[5],S[7])){var T=y(v,S);if(T)for(var M=0;M<2;M++){var N=T[M];r(P,C,E,N[0],I,N[1],!0)}else{var L=le.isStraight(v),O=le.isStraight(S),D=L&&O,U=L&&!O,R=P.length;if((D?h:L||O?l:e)(U?S:v,U?v:S,U?I:E,U?E:I,P,C,U,0,0,0,1,0,1),!D||P.length===R)for(var M=0;M<4;M++){var H=M>>1,q=M&1,W=H*6,G=q*6,Y=new F(v[W],v[W+1]),se=new F(S[G],S[G+1]);Y.isClose(se,x)&&r(P,C,E,H,I,q)}}}return P}function d(v,S,E,I){var P=le.classify(v);if(P.type==="loop"){var C=P.roots;r(E,I,S,C[0],S,C[1])}return E}function g(v,S,E,I,P,C){var x=1e-7,w=!S;w&&(S=v);for(var k=v.length,T=S.length,M=new Array(k),N=w?M:new Array(T),L=[],O=0;O<k;O++)M[O]=v[O].getValues(I);if(!w)for(var O=0;O<T;O++)N[O]=S[O].getValues(P);for(var D=ne.findCurveBoundsCollisions(M,N,x),U=0;U<k;U++){var R=v[U],H=M[U];w&&d(H,R,L,E);var q=D[U];if(q)for(var W=0;W<q.length;W++){if(C&&L.length)return L;var G=q[W];if(!w||G>U){var Y=S[G],se=N[G];f(H,se,R,Y,L,E)}}}return L}function y(v,S){function E(oe){var xe=oe[6]-oe[0],Se=oe[7]-oe[1];return xe*xe+Se*Se}var I=Math.abs,P=de.getDistance,C=1e-8,x=1e-7,w=le.isStraight(v),k=le.isStraight(S),T=w&&k,M=E(v)<E(S),N=M?S:v,L=M?v:S,O=N[0],D=N[1],U=N[6]-O,R=N[7]-D;if(P(O,D,U,R,L[0],L[1],!0)<x&&P(O,D,U,R,L[6],L[7],!0)<x)!T&&P(O,D,U,R,N[2],N[3],!0)<x&&P(O,D,U,R,N[4],N[5],!0)<x&&P(O,D,U,R,L[2],L[3],!0)<x&&P(O,D,U,R,L[4],L[5],!0)<x&&(w=k=T=!0);else if(T)return null;if(w^k)return null;for(var H=[v,S],q=[],W=0;W<4&&q.length<2;W++){var G=W&1,Y=G^1,se=W>>1,he=le.getTimeOf(H[G],new F(H[Y][se?6:0],H[Y][se?7:1]));if(he!=null){var ve=G?[se,he]:[he,se];(!q.length||I(ve[0]-q[0][0])>C&&I(ve[1]-q[0][1])>C)&&q.push(ve)}if(W>2&&!q.length)break}if(q.length!==2)q=null;else if(!T){var we=le.getPart(v,q[0][0],q[1][0]),ae=le.getPart(S,q[0][1],q[1][1]);(I(ae[2]-we[2])>x||I(ae[3]-we[3])>x||I(ae[4]-we[4])>x||I(ae[5]-we[5])>x)&&(q=null)}return q}function m(v,S){var E=v[0],I=v[1],P=v[2],C=v[3],x=v[4],w=v[5],k=v[6],T=v[7],M=S.normalize(),N=M.x,L=M.y,O=3*k-9*x+9*P-3*E,D=3*T-9*w+9*C-3*I,U=6*x-12*P+6*E,R=6*w-12*C+6*I,H=3*P-3*E,q=3*C-3*I,W=2*O*L-2*D*N,G=[];if(Math.abs(W)<re.CURVETIME_EPSILON){var Y=O*q-D*H,W=O*R-D*U;if(W!=0){var se=-Y/W;se>=0&&se<=1&&G.push(se)}}else{var he=(U*U-4*O*H)*L*L+(-2*U*R+4*D*H+4*O*q)*N*L+(R*R-4*D*q)*N*N,ve=U*L-R*N;if(he>=0&&W!=0){var we=Math.sqrt(he),ae=-(ve+we)/W,oe=(-ve+we)/W;ae>=0&&ae<=1&&G.push(ae),oe>=0&&oe<=1&&G.push(oe)}}return G}return{getIntersections:function(v){var S=this.getValues(),E=v&&v!==this&&v.getValues();return E?f(S,E,this,v,[]):d(S,this,[])},statics:{getOverlaps:y,getIntersections:g,getCurveLineIntersections:u,getTimesWithTangent:m}}}),_t=_.extend({_class:"CurveLocation",initialize:function(e,t,i,a,u){if(t>=.99999999){var l=e.getNext();l&&(t=0,e=l)}this._setCurve(e),this._time=t,this._point=i||e.getPointAtTime(t),this._overlap=a,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var e=r.getCurve();e?this._setCurve(e):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var e=this.getCurve(),t=this.getTime();t===0?r=e._segment1:t===1?r=e._segment2:t!=null&&(r=e.getPartLength(0,t)<e.getPartLength(t,1)?e._segment1:e._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,e=this;r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function t(i){var a=i&&i.getCurve();if(a&&(e._time=a.getTimeOf(e._point))!=null)return e._setCurve(a),a}return this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),e=this._time;return r&&e==null?this._time=r.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(r==null){r=0;var e=this.getPath(),t=this.getIndex();if(e&&t!=null)for(var i=e.getCurves(),a=0;a<t;a++)r+=i[a].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(r==null){var e=this.getCurve(),t=this.getTime();this._curveOffset=r=t!=null&&e&&e.getPartLength(0,t)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),e=r&&r.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var r=this.getCurve(),e=r._path,t=r&&r.splitAtTime(this.getTime());return t&&this._setSegment(e.getLastSegment()),t},equals:function(r,e){var t=this===r;if(!t&&r instanceof _t){var i=this.getCurve(),a=r.getCurve(),u=i._path,l=a._path;if(u===l){var h=Math.abs,f=1e-7,d=h(this.getOffset()-r.getOffset()),g=!e&&this._intersection,y=!e&&r._intersection;t=(d<f||u&&h(u.getLength()-d)<f)&&(!g&&!y||g&&y&&g.equals(y,!0))}}return t},toString:function(){var r=[],e=this.getPoint(),t=fe.instance;e&&r.push("point: "+e);var i=this.getIndex();i!=null&&r.push("index: "+i);var a=this.getTime();return a!=null&&r.push("time: "+t.number(a)),this._distance!=null&&r.push("distance: "+t.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var e=this.getCurve(),t=r.getCurve();return!(e.isStraight()&&t.isStraight()&&e.getLine().intersect(t.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var e=this.getTime(),t=r.getTime(),i=1e-8,a=1-i,u=e>=i&&e<=a,l=t>=i&&t<=a;if(u&&l)return!this.isTouching();var h=this.getCurve(),f=h&&e<i?h.getPrevious():h,d=r.getCurve(),g=d&&t<i?d.getPrevious():d;if(e>a&&(h=h.getNext()),t>a&&(d=d.getNext()),!f||!h||!g||!d)return!1;var y=[];function m(N,L){var O=N.getValues(),D=le.classify(O).roots||le.getPeaks(O),U=D.length,R=le.getLength(O,L&&U?D[U-1]:0,!L&&U?D[0]:1);y.push(U?R:R/32)}function v(N,L,O){return L<O?N>L&&N<O:N>L||N<O}u||(m(f,!0),m(h,!1)),l||(m(g,!0),m(d,!1));var S=this.getPoint(),E=Math.min.apply(Math,y),I=u?h.getTangentAtTime(e):h.getPointAt(E).subtract(S),P=u?I.negate():f.getPointAt(-E).subtract(S),C=l?d.getTangentAtTime(t):d.getPointAt(E).subtract(S),x=l?C.negate():g.getPointAt(-E).subtract(S),w=P.getAngle(),k=I.getAngle(),T=x.getAngle(),M=C.getAngle();return!!(u?v(w,T,M)^v(k,T,M)&&v(w,M,T)^v(k,M,T):v(T,w,k)^v(M,w,k)&&v(T,k,w)^v(M,k,w))},hasOverlap:function(){return!!this._overlap}},_.each(le._evaluateMethods,function(r){var e=r+"At";this[r]=function(){var t=this.getCurve(),i=this.getTime();return i!=null&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function r(e,t,i){var a=e.length,u=0,l=a-1;function h(S,E){for(var I=S+E;I>=-1&&I<=a;I+=E){var P=e[(I%a+a)%a];if(!t.getPoint().isClose(P.getPoint(),1e-7))break;if(t.equals(P))return P}return null}for(;u<=l;){var f=u+l>>>1,d=e[f],g;if(i&&(g=t.equals(d)?d:h(f,-1)||h(f,1)))return t._overlap&&(g._overlap=g._intersection._overlap=!0),g;var y=t.getPath(),m=d.getPath(),v=y!==m?y._id-m._id:t.getIndex()+t.getTime()-(d.getIndex()+d.getTime());v<0?l=f-1:u=f+1}return e.splice(u,0,t),t}return{statics:{insert:r,expand:function(e){for(var t=e.slice(),i=e.length-1;i>=0;i--)r(t,e[i]._intersection,!1);return t}}}}),Le=z.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var e,t,i;if(_.isPlainObject(r)?(t=r.segments,e=r.pathData):Array.isArray(r)?t=r:typeof r=="string"&&(e=r),t){var a=t[0];i=a&&Array.isArray(a[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?Ue:be;return new u(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var e=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),t,i=!1,a,u,l=new F,h=new F;function f(x,w){var k=+t[x];return i&&(k+=l[w]),k}function d(x){return new F(f(x,"x"),f(x+1,"y"))}this.clear();for(var g=0,y=e&&e.length;g<y;g++){var m=e[g],v=m[0],S=v.toLowerCase();t=m.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var E=t&&t.length;switch(i=v===S,a==="z"&&!/[mz]/.test(S)&&this.moveTo(l),S){case"m":case"l":for(var I=S==="m",P=0;P<E;P+=2)this[I?"moveTo":"lineTo"](l=d(P)),I&&(h=l,I=!1);u=l;break;case"h":case"v":var C=S==="h"?"x":"y";l=l.clone();for(var P=0;P<E;P++)l[C]=f(P,C),this.lineTo(l);u=l;break;case"c":for(var P=0;P<E;P+=6)this.cubicCurveTo(d(P),u=d(P+2),l=d(P+4));break;case"s":for(var P=0;P<E;P+=4)this.cubicCurveTo(/[cs]/.test(a)?l.multiply(2).subtract(u):l,u=d(P),l=d(P+2)),a=S;break;case"q":for(var P=0;P<E;P+=4)this.quadraticCurveTo(u=d(P),l=d(P+2));break;case"t":for(var P=0;P<E;P+=2)this.quadraticCurveTo(u=/[qt]/.test(a)?l.multiply(2).subtract(u):l,l=d(P)),a=S;break;case"a":for(var P=0;P<E;P+=7)this.arcTo(l=d(P+5),new te(+t[P],+t[P+1]),+t[P+2],+t[P+4],+t[P+3]);break;case"z":this.closePath(1e-12),l=h;break}a=S}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var e=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(r,e,t,i){var a=this===r||!r,u=this._matrix._orNullIfIdentity(),l=a?u:(t||r._matrix)._orNullIfIdentity();return a||this.getBounds(u).intersects(r.getBounds(l),1e-12)?le.getIntersections(this.getCurves(),!a&&r.getCurves(),e,u,l,i):[]},getCrossings:function(r){return this.getIntersections(r,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var r=F.read(arguments),e=this.getCurves(),t=1/0,i=null,a=0,u=e.length;a<u;a++){var l=e[a].getNearestLocation(r);l._distance<t&&(t=l._distance,i=l)}return i},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,e,t){var i=!this._children,a=i?"_segments":"_children",u=r[a],l=e[a],h=this[a];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+e);var f=h.length,d=l.length;if(f<d)for(var g=i?Ce:be,y=f;y<d;y++)this.add(new g);else f>d&&this[i?"removeSegments":"removeChildren"](d,f);for(var y=0;y<d;y++)h[y].interpolate(u[y],l[y],t);i&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var e=!1;if(r){var t=this._children||[this],i=r._children?r._children.slice():[r],a=t.length,u=i.length,l=[],h=0;e=!0;for(var f=ne.findItemBoundsCollisions(t,i,re.GEOMETRIC_EPSILON),d=a-1;d>=0&&e;d--){var g=t[d];e=!1;var y=f[d];if(y)for(var m=y.length-1;m>=0&&!e;m--)g.compare(i[y[m]])&&(l[y[m]]||(l[y[m]]=!0,h++),e=!0)}e=e&&h===u}return e}}),be=Le.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:t:e&&e.size===o&&(e.x!==o||e.point!==o)?t:null;i&&i.length>0?this.setSegments(i):(this._curves=o,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(r){return this._closed===r._closed&&_.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(e){if(r.base.call(this,e),e&8){if(this._length=this._area=o,e&32)this._version++;else if(this._curves)for(var t=0,i=this._curves.length;t<i;t++)this._curves[t]._changed()}else e&64&&(this._bounds=o)},getStyle:function(){var r=this._parent;return(r instanceof Ue?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var e=this.isFullySelected(),t=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,t){var i=r[t-1];typeof i=="boolean"&&(this.setClosed(i),t--),this._add(Ce.readList(r,0,{},t))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,e=this._segments;if(!r){var t=this._countCurves();r=this._curves=new Array(t);for(var i=0;i<t;i++)r[i]=new le(this,e[i],e[i+1]||e[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var e=this._curves.length=this._countCurves();r&&(this._curves[e-1]=new le(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,e){var t=this._segments,i=t.length,a=new fe(e),u=new Array(6),l=!0,h,f,d,g,y,m,v,S,E=[];function I(C,x){if(C._transformCoordinates(r,u),h=u[0],f=u[1],l)E.push("M"+a.pair(h,f)),l=!1;else if(y=u[2],m=u[3],y===h&&m===f&&v===d&&S===g){if(!x){var w=h-d,k=f-g;E.push(w===0?"v"+a.number(k):k===0?"h"+a.number(w):"l"+a.pair(w,k))}}else E.push("c"+a.pair(v-d,S-g)+" "+a.pair(y-d,m-g)+" "+a.pair(h-d,f-g));d=h,g=f,v=u[4],S=u[5]}if(!i)return"";for(var P=0;P<i;P++)I(t[P]);return this._closed&&i>0&&(I(t[0],!0),E.push("z")),E.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var e=this._segments,t=new Array(6),i=0,a=e.length;i<a;i++)e[i]._transformCoordinates(r,t,!0);return!0},_add:function(r,l){for(var t=this._segments,i=this._curves,a=r.length,u=l==null,l=u?t.length:l,h=0;h<a;h++){var f=r[h];f._path&&(f=r[h]=f.clone()),f._path=this,f._index=l+h,f._selection&&this._updateSelection(f,0,f._selection)}if(u)_.push(t,r);else{t.splice.apply(t,[l,0].concat(r));for(var h=l+a,d=t.length;h<d;h++)t[h]._index=h}if(i){var g=this._countCurves(),y=l>0&&l+a-1===g?l-1:l,m=y,v=Math.min(y+a,g);r._curves&&(i.splice.apply(i,[y,0].concat(r._curves)),m+=r._curves.length);for(var h=m;h<v;h++)i.splice(h,0,new le(this,null,null));this._adjustCurves(y,v)}return this._changed(41),r},_adjustCurves:function(r,e){for(var t=this._segments,i=this._curves,a,u=r;u<e;u++)a=i[u],a._path=this,a._segment1=t[u],a._segment2=t[u+1]||t[0],a._changed();(a=i[this._closed&&!r?t.length-1:r-1])&&(a._segment2=t[r]||t[0],a._changed()),(a=i[e])&&(a._segment1=t[e],a._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var e=arguments;return e.length>1&&typeof r!="number"?this._add(Ce.readList(e)):this._add([Ce.read(e)])[0]},insert:function(r,e){var t=arguments;return t.length>2&&typeof e!="number"?this._add(Ce.readList(t,1),r):this._add([Ce.read(t,1)],r)[0]},addSegment:function(){return this._add([Ce.read(arguments)])[0]},insertSegment:function(r){return this._add([Ce.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(Ce.readList(r))},insertSegments:function(r,e){return this._add(Ce.readList(e),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,e,t){r=r||0,e=_.pick(e,this._segments.length);var i=this._segments,a=this._curves,u=i.length,l=i.splice(r,e-r),h=l.length;if(!h)return l;for(var f=0;f<h;f++){var d=l[f];d._selection&&this._updateSelection(d,d._selection,0),d._index=d._path=null}for(var f=r,g=i.length;f<g;f++)i[f]._index=f;if(a){for(var y=r>0&&e===u+(this._closed?1:0)?r-1:r,a=a.splice(y,h),f=a.length-1;f>=0;f--)a[f]._path=null;t&&(l._curves=a.slice(1)),this._adjustCurves(y,y)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)if(r[e].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)r[e].clearHandles()},getLength:function(){if(this._length==null){for(var r=this.getCurves(),e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();this._length=e}return this._length},getArea:function(){var r=this._area;if(r==null){var e=this._segments,t=this._closed;r=0;for(var i=0,a=e.length;i<a;i++){var u=i+1===a;r+=le.getArea(le.getValues(e[i],e[u?0:i+1],null,u&&!t))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===r*7},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(e){e&1||this._selectSegments(!1),r.base.call(this,e)},_selectSegments:function(r){var e=this._segments,t=e.length,i=r?7:0;this._segmentSelection=i*t;for(var a=0;a<t;a++)e[a]._selection=i},_updateSelection:function(r,e,t){r._selection=t;var i=this._segmentSelection+=t-e;i>0&&this.setSelected(!0)},divideAt:function(r){var e=this.getLocationAt(r),t;return e&&(t=e.getCurve().divideAt(e.getCurveOffset()))?t._segment1:null},splitAt:function(r){var e=this.getLocationAt(r),t=e&&e.index,i=e&&e.time,a=1e-8,u=1-a;i>u&&(t++,i=0);var l=this.getCurves();if(t>=0&&t<l.length){i>=a&&l[t++].divideAtTime(i);var h=this.removeSegments(t,this._segments.length,!0),f;return this._closed?(this.setClosed(!1),f=this):(f=new be(z.NO_INSERT),f.insertAbove(this),f.copyAttributes(this)),f._add(h,0),this.addSegment(h[0]),f}return null},split:function(r,e){var t,i=e===o?r:(t=this.getCurves()[r])&&t.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(r,e){var t=e||0;if(r&&r!==this){var i=r._segments,a=this.getLastSegment(),u=r.getLastSegment();if(!u)return this;a&&a._point.isClose(u._point,t)&&r.reverse();var l=r.getFirstSegment();if(a&&a._point.isClose(l._point,t))a.setHandleOut(l._handleOut),this._add(i.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(l._point,t)&&r.reverse(),u=r.getLastSegment(),h&&h._point.isClose(u._point,t)?(h.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}r._closed&&this._add([i[0]]),r.remove()}var f=this.getFirstSegment(),d=this.getLastSegment();return f!==d&&f._point.isClose(d._point,t)&&(f.setHandleIn(d._handleIn),d.remove(),this.setClosed(!0)),this},reduce:function(r){for(var e=this.getCurves(),t=r&&r.simplify,i=t?1e-7:0,a=e.length-1;a>=0;a--){var u=e[a];!u.hasHandles()&&(!u.hasLength(i)||t&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,e=this._segments.length;r<e;r++){var t=this._segments[r],i=t._handleIn;t._handleIn=t._handleOut,t._handleOut=i,t._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var e=new ut(this,r||.25,256,!0),t=e.parts,i=t.length,a=[],u=0;u<i;u++)a.push(new Ce(t[u].curve.slice(0,2)));!this._closed&&i>0&&a.push(new Ce(t[i-1].curve.slice(6))),this.setSegments(a)},simplify:function(r){var e=new vt(this).fit(r||2.5);return e&&this.setSegments(e),!!e},smooth:function(r){var e=this,t=r||{},i=t.type||"asymmetric",a=this._segments,u=a.length,l=this._closed;function h(Se,Ie){var Ne=Se&&Se.index;if(Ne!=null){var ge=Se.path;if(ge&&ge!==e)throw new Error(Se._class+" "+Ne+" of "+ge+" is not part of "+e);Ie&&Se instanceof le&&Ne++}else Ne=typeof Se=="number"?Se:Ie;return Math.min(Ne<0&&l?Ne%u:Ne<0?Ne+u:Ne,u-1)}var f=l&&t.from===o&&t.to===o,d=h(t.from,0),g=h(t.to,u-1);if(d>g)if(l)d-=u;else{var y=d;d=g,g=y}if(/^(?:asymmetric|continuous)$/.test(i)){var m=i==="asymmetric",v=Math.min,S=g-d+1,E=S-1,I=f?v(S,4):1,P=I,C=I,x=[];if(l||(P=v(1,d),C=v(1,u-g-1)),E+=P+C,E<=1)return;for(var w=0,k=d-P;w<=E;w++,k++)x[w]=a[(k<0?k+u:k)%u]._point;for(var T=x[0]._x+2*x[1]._x,M=x[0]._y+2*x[1]._y,N=2,L=E-1,O=[T],D=[M],U=[N],R=[],H=[],w=1;w<E;w++){var q=w<L,W=q||m?1:2,G=q?4:m?2:7,Y=q?4:m?3:8,se=q?2:m?0:1,he=W/N;N=U[w]=G-he,T=O[w]=Y*x[w]._x+se*x[w+1]._x-he*T,M=D[w]=Y*x[w]._y+se*x[w+1]._y-he*M}R[L]=O[L]/U[L],H[L]=D[L]/U[L];for(var w=E-2;w>=0;w--)R[w]=(O[w]-R[w+1])/U[w],H[w]=(D[w]-H[w+1])/U[w];R[E]=(3*x[E]._x-R[L])/2,H[E]=(3*x[E]._y-H[L])/2;for(var w=P,ve=E-C,k=d;w<=ve;w++,k++){var we=a[k<0?k+u:k],ae=we._point,oe=R[w]-ae._x,xe=H[w]-ae._y;(f||w<ve)&&we.setHandleOut(oe,xe),(f||w>P)&&we.setHandleIn(-oe,-xe)}}else for(var w=d;w<=g;w++)a[w<0?w+u:w].smooth(t,!f&&w===d,!f&&w===g)},toShape:function(r){if(!this._closed)return null;var e=this._segments,t,i,a,u;function l(m,v){var S=e[m],E=S.getNext(),I=e[v],P=I.getNext();return S._handleOut.isZero()&&E._handleIn.isZero()&&I._handleOut.isZero()&&P._handleIn.isZero()&&E._point.subtract(S._point).isCollinear(P._point.subtract(I._point))}function h(m){var v=e[m],S=v.getPrevious(),E=v.getNext();return S._handleOut.isZero()&&v._handleIn.isZero()&&v._handleOut.isZero()&&E._handleIn.isZero()&&v._point.subtract(S._point).isOrthogonal(E._point.subtract(v._point))}function f(m){var v=e[m],S=v.getNext(),E=v._handleOut,I=S._handleIn,P=.5522847498307936;if(E.isOrthogonal(I)){var C=v._point,x=S._point,w=new de(C,E,!0).intersect(new de(x,I,!0),!0);return w&&re.isZero(E.getLength()/w.subtract(C).getLength()-P)&&re.isZero(I.getLength()/w.subtract(x).getLength()-P)}return!1}function d(m,v){return e[m]._point.getDistance(e[v]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&h(1)?(t=Fe.Rectangle,i=new te(d(0,3),d(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&f(0)&&f(2)&&f(4)&&f(6)&&l(1,5)&&l(3,7)?(t=Fe.Rectangle,i=new te(d(1,6),d(0,3)),a=i.subtract(new te(d(0,7),d(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&f(0)&&f(1)&&f(2)&&f(3)&&(re.isZero(d(0,2)-d(1,3))?(t=Fe.Circle,a=d(0,2)/2):(t=Fe.Ellipse,a=new te(d(2,0)/2,d(3,1)/2)),u=e[1]._point),t){var g=this.getPosition(!0),y=new t({center:g,size:i,radius:a,insert:!1});return y.copyAttributes(this,!0),y._matrix.prepend(this._matrix),y.rotate(u.subtract(g).getAngle()+90),(r===o||r)&&y.insertAbove(this),y}return null},toPath:"#clone",compare:function r(e){if(!e||e instanceof Ue)return r.base.call(this,e);var t=this.getCurves(),i=e.getCurves(),a=t.length,u=i.length;if(!a||!u)return a==u;for(var l=t[0].getValues(),h=[],f=0,d,g=0,y,m=0;m<u;m++){var I=i[m].getValues();h.push(I);var v=le.getOverlaps(l,I);if(v){d=!m&&v[0][0]>0?u-1:m,y=v[0][1];break}}for(var S=Math.abs,E=1e-8,I=h[d],P;l&&I;){var v=le.getOverlaps(l,I);if(v){var C=v[0][0];if(S(C-g)<E){g=v[1][0],g===1&&(l=++f<a?t[f].getValues():null,g=0);var x=v[0][1];if(S(x-y)<E){if(P||(P=[d,x]),y=v[1][1],y===1&&(++d>=u&&(d=0),I=h[d]||i[d].getValues(),y=0),!l)return P[0]===d&&P[1]===y;continue}}}break}return!1},_hitTestSelf:function(r,e,t,i){var a=this,u=this.getStyle(),l=this._segments,h=l.length,f=this._closed,d=e._tolerancePadding,g=d,y,m,v,S,E,I,P=e.stroke&&u.hasStroke(),C=e.fill&&u.hasFill(),x=e.curves,w=P?u.getStrokeWidth()/2:C&&e.tolerance>0||x?0:null;w!==null&&(w>0?(y=u.getStrokeJoin(),m=u.getStrokeCap(),v=u.getMiterLimit(),g=g.add(be._getStrokePadding(w,i))):y=m="round");function k(R,H){return r.subtract(R).divide(H).length<=1}function T(R,H,q){if(!e.selected||H.isSelected()){var W=R._point;if(H!==W&&(H=H.add(W)),k(H,g))return new at(q,a,{segment:R,point:H})}}function M(R,H){return(H||e.segments)&&T(R,R._point,"segment")||!H&&e.handles&&(T(R,R._handleIn,"handle-in")||T(R,R._handleOut,"handle-out"))}function N(R){S.add(R)}function L(R){var H=f||R._index>0&&R._index<h-1;if((H?y:m)==="round")return k(R._point,g);if(S=new be({internal:!0,closed:!0}),H?R.isSmooth()||be._addBevelJoin(R,y,w,v,null,i,N,!0):m==="square"&&be._addSquareCap(R,m,w,null,i,N,!0),!S.isEmpty()){var q;return S.contains(r)||(q=S.getNearestLocation(r))&&k(q.getPoint(),d)}}if(e.ends&&!e.segments&&!f){if(I=M(l[0],!0)||M(l[h-1],!0))return I}else if(e.segments||e.handles){for(var O=0;O<h;O++)if(I=M(l[O]))return I}if(w!==null){if(E=this.getNearestLocation(r),E){var D=E.getTime();D===0||D===1&&h>1?L(E.getSegment())||(E=null):k(E.getPoint(),g)||(E=null)}if(!E&&y==="miter"&&h>1)for(var O=0;O<h;O++){var U=l[O];if(r.getDistance(U._point)<=v*w&&L(U)){E=U.getLocation();break}}}return!E&&C&&this._contains(r)||E&&!P&&!x?new at("fill",this):E?new at(P?"stroke":"curve",this,{location:E,point:E.getPoint()}):null}},_.each(le._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this.getLocationAt(e);return t&&t[r]()}},{beans:!1,getLocationOf:function(){for(var r=F.read(arguments),e=this.getCurves(),t=0,i=e.length;t<i;t++){var a=e[t].getLocationOf(r);if(a)return a}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if(typeof r=="number"){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++){var u=t,l=e[i];if(t+=l.getLength(),t>r)return l.getLocationAt(r-u)}if(e.length>0&&r<=this.getLength())return new _t(e[e.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=F.read(arguments);if(r.isZero())return[];for(var e=[],t=0,i=this.getCurves(),a=0,u=i.length;a<u;a++){for(var l=i[a],h=l.getTimesWithTangent(r),f=0,d=h.length;f<d;f++){var g=t+l.getOffsetAtTime(h[f]);e.indexOf(g)<0&&e.push(g)}t+=l.length}return e}}),new function(){function r(t,i,a,u){if(u<=0)return;var l=u/2,h=u-2,f=l-1,d=new Array(6),g,y;function m(C){var x=d[C],w=d[C+1];(g!=x||y!=w)&&(t.beginPath(),t.moveTo(g,y),t.lineTo(x,w),t.stroke(),t.beginPath(),t.arc(x,w,l,0,Math.PI*2,!0),t.fill())}for(var v=0,S=i.length;v<S;v++){var E=i[v],I=E._selection;if(E._transformCoordinates(a,d),g=d[0],y=d[1],I&2&&m(2),I&4&&m(4),t.fillRect(g-l,y-l,u,u),h>0&&!(I&1)){var P=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(g-f,y-f,h,h),t.fillStyle=P}}}function e(t,i,a){var u=i._segments,l=u.length,h=new Array(6),f=!0,d,g,y,m,v,S,E,I;function P(x){if(a)x._transformCoordinates(a,h),d=h[0],g=h[1];else{var w=x._point;d=w._x,g=w._y}if(f)t.moveTo(d,g),f=!1;else{if(a)v=h[2],S=h[3];else{var k=x._handleIn;v=d+k._x,S=g+k._y}v===d&&S===g&&E===y&&I===m?t.lineTo(d,g):t.bezierCurveTo(E,I,v,S,d,g)}if(y=d,m=g,a)E=h[4],I=h[5];else{var k=x._handleOut;E=y+k._x,I=m+k._y}}for(var C=0;C<l;C++)P(u[C]);i._closed&&l>0&&P(u[0])}return{_draw:function(t,i,a,u){var l=i.dontStart,h=i.dontFinish||i.clip,f=this.getStyle(),d=f.hasFill(),g=f.hasStroke(),y=f.getDashArray(),m=!tt.support.nativeDash&&g&&y&&y.length;l||t.beginPath(),(d||g&&!m||h)&&(e(t,this,u),this._closed&&t.closePath());function v(x){return y[(x%m+m)%m]}if(!h&&(d||g)&&(this._setStyles(t,i,a),d&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),g)){if(m){l||t.beginPath();for(var S=new ut(this,.25,32,!1,u),E=S.length,I=-f.getDashOffset(),P,C=0;I>0;)I-=v(C--)+v(C--);for(;I<E;)P=I+v(C++),(I>0||P>0)&&S.drawPart(t,Math.max(I,0),Math.max(P,0)),I=P+v(C++)}t.stroke()}},_drawSelected:function(t,i){t.beginPath(),e(t,this,i),t.stroke(),r(t,this._segments,i,tt.settings.handleSize)}}},new function(){function r(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new Ce(F.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ce(F.read(arguments))])},cubicCurveTo:function(){var e=arguments,t=F.read(e),i=F.read(e),a=F.read(e),u=r(this);u.setHandleOut(t.subtract(u._point)),this._add([new Ce(a,i.subtract(a))])},quadraticCurveTo:function(){var e=arguments,t=F.read(e),i=F.read(e),a=r(this)._point;this.cubicCurveTo(t.add(a.subtract(t).multiply(1/3)),t.add(i.subtract(t).multiply(1/3)),i)},curveTo:function(){var e=arguments,t=F.read(e),i=F.read(e),a=_.pick(_.read(e),.5),u=1-a,l=r(this)._point,h=t.subtract(l.multiply(u*u)).subtract(i.multiply(a*a)).divide(2*a*u);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+a);this.quadraticCurveTo(h,i)},arcTo:function(){var e=arguments,t=Math.abs,i=Math.sqrt,a=r(this),u=a._point,l=F.read(e),h,f=_.peek(e),d=_.pick(f,!0),g,y,m,v;if(typeof d=="boolean")var S=u.add(l).divide(2),h=S.add(S.subtract(u).rotate(d?-90:90));else if(_.remain(e)<=2)h=l,l=F.read(e);else if(!u.equals(l)){var E=te.read(e),I=re.isZero;if(I(E.width)||I(E.height))return this.lineTo(l);var P=_.read(e),d=!!_.read(e),C=!!_.read(e),S=u.add(l).divide(2),x=u.subtract(S).rotate(-P),w=x.x,k=x.y,T=t(E.width),M=t(E.height),N=T*T,L=M*M,O=w*w,D=k*k,U=i(O/N+D/L);if(U>1&&(T*=U,M*=U,N=T*T,L=M*M),U=(N*L-N*D-L*O)/(N*D+L*O),t(U)<1e-12&&(U=0),U<0)throw new Error("Cannot create an arc with the given arguments");g=new F(T*k/M,-M*w/T).multiply((C===d?-1:1)*i(U)).rotate(P).add(S),v=new J().translate(g).rotate(P).scale(T,M),m=v._inverseTransform(u),y=m.getDirectedAngle(v._inverseTransform(l)),!d&&y>0?y-=360:d&&y<0&&(y+=360)}if(h){var R=new de(u.add(h).divide(2),h.subtract(u).rotate(90),!0),H=new de(h.add(l).divide(2),l.subtract(h).rotate(90),!0),q=new de(u,l),W=q.getSide(h);if(g=R.intersect(H,!0),!g){if(!W)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}m=u.subtract(g),y=m.getDirectedAngle(l.subtract(g));var G=q.getSide(g,!0);G===0?y=W*t(y):W===G&&(y+=y<0?360:-360)}if(y){for(var Y=1e-7,se=t(y),he=se>=360?4:Math.ceil((se-Y)/90),ve=y/he,we=ve*Math.PI/360,ae=4/3*Math.sin(we)/(1+Math.cos(we)),oe=[],xe=0;xe<=he;xe++){var x=l,Se=null;if(xe<he&&(Se=m.rotate(90).multiply(ae),v?(x=v._transformPoint(m),Se=v._transformPoint(m.add(Se)).subtract(x)):x=g.add(m)),!xe)a.setHandleOut(Se);else{var Ie=m.rotate(-90).multiply(ae);v&&(Ie=v._transformPoint(m.add(Ie)).subtract(x)),oe.push(new Ce(x,Ie,Se))}m=m.rotate(ve)}this._add(oe)}},lineBy:function(){var e=F.read(arguments),t=r(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=arguments,t=F.read(e),i=F.read(e),a=_.read(e),u=r(this)._point;this.curveTo(u.add(t),u.add(i),a)},cubicCurveBy:function(){var e=arguments,t=F.read(e),i=F.read(e),a=F.read(e),u=r(this)._point;this.cubicCurveTo(u.add(t),u.add(i),u.add(a))},quadraticCurveBy:function(){var e=arguments,t=F.read(e),i=F.read(e),a=r(this)._point;this.quadraticCurveTo(a.add(t),a.add(i))},arcBy:function(){var e=arguments,t=r(this)._point,i=t.add(F.read(e)),a=_.pick(_.peek(e),!0);typeof a=="boolean"?this.arcTo(i,a):this.arcTo(i,t.add(F.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(r,e){var t=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return be[t](this._segments,this._closed,this,r,e)},statics:{getBounds:function(r,e,t,i,a,u){var l=r[0];if(!l)return new Z;var h=new Array(6),f=l._transformCoordinates(i,new Array(6)),d=f.slice(0,2),g=d.slice(),y=new Array(2);function m(E){E._transformCoordinates(i,h);for(var I=0;I<2;I++)le._addBounds(f[I],f[I+4],h[I+2],h[I],I,u?u[I]:0,d,g,y);var P=f;f=h,h=P}for(var v=1,S=r.length;v<S;v++)m(r[v]);return e&&m(l),new Z(d[0],d[1],g[0]-d[0],g[1]-d[1])},getStrokeBounds:function(r,e,t,i,a){var u=t.getStyle(),l=u.hasStroke(),h=u.getStrokeWidth(),f=l&&t._getStrokeMatrix(i,a),d=l&&be._getStrokePadding(h,f),g=be.getBounds(r,e,t,i,a,d);if(!l)return g;var y=h/2,m=u.getStrokeJoin(),v=u.getStrokeCap(),S=u.getMiterLimit(),E=new Z(new te(d));function I(T){g=g.include(T)}function P(T){g=g.unite(E.setCenter(T._point.transform(i)))}function C(T,M){M==="round"||T.isSmooth()?P(T):be._addBevelJoin(T,M,y,S,i,f,I)}function x(T,M){M==="round"?P(T):be._addSquareCap(T,M,y,i,f,I)}var w=r.length-(e?0:1);if(w>0){for(var k=1;k<w;k++)C(r[k],m);e?C(r[0],m):(x(r[0],v),x(r[r.length-1],v))}return g},_getStrokePadding:function(r,e){if(!e)return[r,r];var t=new F(r,0).transform(e),i=new F(0,r).transform(e),a=t.getAngleInRadians(),u=t.getLength(),l=i.getLength(),h=Math.sin(a),f=Math.cos(a),d=Math.tan(a),g=Math.atan2(l*d,u),y=Math.atan2(l,d*u);return[Math.abs(u*Math.cos(g)*f+l*Math.sin(g)*h),Math.abs(l*Math.sin(y)*f+u*Math.cos(y)*h)]},_addBevelJoin:function(r,e,t,i,a,u,l,h){var f=r.getCurve(),d=f.getPrevious(),g=f.getPoint1().transform(a),y=d.getNormalAtTime(1).multiply(t).transform(u),m=f.getNormalAtTime(0).multiply(t).transform(u),v=y.getDirectedAngle(m);if((v<0||v>=180)&&(y=y.negate(),m=m.negate()),h&&l(g),l(g.add(y)),e==="miter"){var S=new de(g.add(y),new F(-y.y,y.x),!0).intersect(new de(g.add(m),new F(-m.y,m.x),!0),!0);S&&g.getDistance(S)<=i*t&&l(S)}l(g.add(m))},_addSquareCap:function(r,e,t,i,a,u,l){var h=r._point.transform(i),f=r.getLocation(),d=f.getNormal().multiply(f.getTime()===0?t:-t).transform(a);e==="square"&&(l&&(u(h.subtract(d)),u(h.add(d))),h=h.add(d.rotate(-90))),u(h.add(d)),u(h.subtract(d))},getHandleBounds:function(r,e,t,i,a){var u=t.getStyle(),l=a.stroke&&u.hasStroke(),h,f;if(l){var d=t._getStrokeMatrix(i,a),g=u.getStrokeWidth()/2,y=g;u.getStrokeJoin()==="miter"&&(y=g*u.getMiterLimit()),u.getStrokeCap()==="square"&&(y=Math.max(y,g*Math.SQRT2)),h=be._getStrokePadding(g,d),f=be._getStrokePadding(y,d)}for(var m=new Array(6),v=1/0,S=-v,E=v,I=S,P=0,C=r.length;P<C;P++){var x=r[P];x._transformCoordinates(i,m);for(var w=0;w<6;w+=2){var k=w?h:f,T=k?k[0]:0,M=k?k[1]:0,N=m[w],L=m[w+1],O=N-T,D=N+T,U=L-M,R=L+M;O<v&&(v=O),D>S&&(S=D),U<E&&(E=U),R>I&&(I=R)}}return new Z(v,E,S-v,I-E)}}});be.inject({statics:new function(){var r=.5522847498307936,e=[new Ce([-1,0],[0,r],[0,-r]),new Ce([0,-1],[-r,0],[r,0]),new Ce([1,0],[0,-r],[0,r]),new Ce([0,1],[r,0],[-r,0])];function t(a,u,l){var h=_.getNamed(l),f=new be(h&&h.insert==!1&&z.NO_INSERT);return f._add(a),f._closed=u,f.set(h,{insert:!0})}function i(a,u,l){for(var h=new Array(4),f=0;f<4;f++){var d=e[f];h[f]=new Ce(d._point.multiply(u).add(a),d._handleIn.multiply(u),d._handleOut.multiply(u))}return t(h,!0,l)}return{Line:function(){var a=arguments;return t([new Ce(F.readNamed(a,"from")),new Ce(F.readNamed(a,"to"))],!1,a)},Circle:function(){var a=arguments,u=F.readNamed(a,"center"),l=_.readNamed(a,"radius");return i(u,new te(l),a)},Rectangle:function(){var a=arguments,u=Z.readNamed(a,"rectangle"),l=te.readNamed(a,"radius",0,{readNull:!0}),h=u.getBottomLeft(!0),f=u.getTopLeft(!0),d=u.getTopRight(!0),g=u.getBottomRight(!0),y;if(!l||l.isZero())y=[new Ce(h),new Ce(f),new Ce(d),new Ce(g)];else{l=te.min(l,u.getSize(!0).divide(2));var m=l.width,v=l.height,S=m*r,E=v*r;y=[new Ce(h.add(m,0),null,[-S,0]),new Ce(h.subtract(0,v),[0,E]),new Ce(f.add(0,v),null,[0,-E]),new Ce(f.add(m,0),[-S,0],null),new Ce(d.subtract(m,0),null,[S,0]),new Ce(d.add(0,v),[0,-E],null),new Ce(g.subtract(0,v),null,[0,E]),new Ce(g.subtract(m,0),[S,0])]}return t(y,!0,a)},RoundRectangle:"#Rectangle",Ellipse:function(){var a=arguments,u=Fe._readEllipse(a);return i(u.center,u.radius,a)},Oval:"#Ellipse",Arc:function(){var a=arguments,u=F.readNamed(a,"from"),l=F.readNamed(a,"through"),h=F.readNamed(a,"to"),f=_.getNamed(a),d=new be(f&&f.insert==!1&&z.NO_INSERT);return d.moveTo(u),d.arcTo(l,h),d.set(f)},RegularPolygon:function(){for(var a=arguments,u=F.readNamed(a,"center"),l=_.readNamed(a,"sides"),h=_.readNamed(a,"radius"),f=360/l,d=l%3===0,g=new F(0,d?-h:h),y=d?-1:.5,m=new Array(l),v=0;v<l;v++)m[v]=new Ce(u.add(g.rotate((v+y)*f)));return t(m,!0,a)},Star:function(){for(var a=arguments,u=F.readNamed(a,"center"),l=_.readNamed(a,"points")*2,h=_.readNamed(a,"radius1"),f=_.readNamed(a,"radius2"),d=360/l,g=new F(0,-1),y=new Array(l),m=0;m<l;m++)y[m]=new Ce(u.add(g.rotate(d*m).multiply(m%2?f:h)));return t(y,!0,a)}}}});var Ue=Le.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function r(e,t){var i=t,a=i[0];a&&typeof a[0]=="number"&&(i=[i]);for(var u=t.length-1;u>=0;u--){var l=i[u];i===t&&!(l instanceof be)&&(i=_.slice(i)),Array.isArray(l)?i[u]=new be({segments:l,insert:!1}):l instanceof Ue&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return r.base.call(this,e,i)},reduce:function r(e){for(var t=this._children,i=t.length-1;i>=0;i--){var a=t[i].reduce(e);a.isEmpty()&&a.remove()}if(!t.length){var a=new be(z.NO_INSERT);return a.copyAttributes(this),a.insertAbove(this),this.remove(),a}return r.base.call(this)},isClosed:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)if(!r[e]._closed)return!1;return!0},setClosed:function(r){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,e=[],t=0,i=r.length;t<i;t++)_.push(e,r[t].getCurves());return e},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getArea();return e},getLength:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();return e},getPathData:function(r,e){for(var t=this._children,i=[],a=0,u=t.length;a<u;a++){var l=t[a],h=l._matrix;i.push(l.getPathData(r&&!h.isIdentity()?r.appended(h):r,e))}return i.join("")},_hitTestChildren:function r(e,t,i){return r.base.call(this,e,t.class===be||t.type==="path"?t:_.set({},t,{fill:!1}),i)},_draw:function(r,e,t,i){var a=this._children;if(!!a.length){e=e.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var u=0,l=a.length;u<l;u++)a[u].draw(r,e,i);if(!e.clip){this._setStyles(r,e,t);var h=this._style;h.hasFill()&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&r.stroke()}}},_drawSelected:function(r,e,t){for(var i=this._children,a=0,u=i.length;a<u;a++){var l=i[a],h=l._matrix;t[l._id]||l._drawSelected(r,h.isIdentity()?e:e.appended(h))}}},new function(){function r(e,t){var i=e._children;if(t&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return _.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=r(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var e=r(this),t=e&&e.isEmpty()?e:new be(z.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=r(this,!0),t=e&&e.getLastSegment(),i=F.read(arguments);this.moveTo(t?i.add(t._point):i)},closePath:function(e){r(this,!0).closePath(e)}})},_.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(e){for(var t=this._children,i,a=0,u=t.length;a<u;a++)i=t[a][r](e)||i;return i}},{}));Le.inject(new function(){var r=Math.min,e=Math.max,t=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function a(P){return P._children||[P]}function u(P,C){var x=P.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var w=a(x),k=0,T=w.length;k<T;k++){var P=w[k];!P._closed&&!P.isEmpty()&&(P.closePath(1e-12),P.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0))}x=x.resolveCrossings().reorient(x.getFillRule()==="nonzero",!0)}return x}function l(P,C,x,w,k){var T=new Ue(z.NO_INSERT);return T.addChildren(P,!0),T=T.reduce({simplify:C}),k&&k.insert==!1||T.insertAbove(w&&x.isSibling(w)&&x.getIndex()<w.getIndex()?w:x),T.copyAttributes(x,!0),T}function h(P){return P.hasOverlap()||P.isCrossing()}function f(P,C,x,w){if(w&&(w.trace==!1||w.stroke)&&/^(subtract|intersect)$/.test(x))return d(P,C,x);var k=u(P,!0),T=C&&P!==C&&u(C,!0),M=i[x];M[x]=!0,T&&(M.subtract||M.exclude)^(T.isClockwise()^k.isClockwise())&&T.reverse();var N=v(_t.expand(k.getIntersections(T,h))),L=a(k),O=T&&a(T),D=[],U=[],R;function H(Se){for(var Ie=0,Ne=Se.length;Ie<Ne;Ie++){var ge=Se[Ie];_.push(D,ge._segments),_.push(U,ge.getCurves()),ge._overlapsOnly=!0}}function q(Se){for(var Ie=[],Ne=0,ge=Se&&Se.length;Ne<ge;Ne++)Ie.push(U[Se[Ne]]);return Ie}if(N.length){H(L),O&&H(O);for(var W=new Array(U.length),G=0,Y=U.length;G<Y;G++)W[G]=U[G].getValues();for(var se=ne.findCurveBoundsCollisions(W,W,0,!0),he={},G=0;G<U.length;G++){var ve=U[G],we=ve._path._id,ae=he[we]=he[we]||{};ae[ve.getIndex()]={hor:q(se[G].hor),ver:q(se[G].ver)}}for(var G=0,Y=N.length;G<Y;G++)E(N[G]._segment,k,T,he,M);for(var G=0,Y=D.length;G<Y;G++){var oe=D[G],xe=oe._intersection;oe._winding||E(oe,k,T,he,M),xe&&xe._overlap||(oe._path._overlapsOnly=!1)}R=I(D,M)}else R=m(O?L.concat(O):L.slice(),function(Se){return!!M[Se]});return l(R,!0,P,C,w)}function d(P,C,x){var w=u(P),k=u(C),T=w.getIntersections(k,h),M=x==="subtract",N=x==="divide",L={},O=[];function D(H){if(!L[H._id]&&(N||k.contains(H.getPointAt(H.getLength()/2))^M))return O.unshift(H),L[H._id]=!0}for(var U=T.length-1;U>=0;U--){var R=T[U].split();R&&(D(R)&&R.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}return D(w),l(O,!1,P,C)}function g(P,C){for(var x=P;x;){if(x===C)return;x=x._previous}for(;P._next&&P._next!==C;)P=P._next;if(!P._next){for(;C._previous;)C=C._previous;P._next=C,C._previous=P}}function y(P){for(var C=P.length-1;C>=0;C--)P[C].clearHandles()}function m(P,C,x){var w=P&&P.length;if(w){var k=_.each(P,function(se,he){this[se._id]={container:null,winding:se.isClockwise()?1:-1,index:he}},{}),T=P.slice().sort(function(se,he){return t(he.getArea())-t(se.getArea())}),M=T[0],N=ne.findItemBoundsCollisions(T,null,re.GEOMETRIC_EPSILON);x==null&&(x=M.isClockwise());for(var L=0;L<w;L++){var O=T[L],D=k[O._id],U=0,R=N[L];if(R){for(var H=null,q=R.length-1;q>=0;q--)if(R[q]<L){H=H||O.getInteriorPoint();var W=T[R[q]];if(W.contains(H)){var G=k[W._id];U=G.winding,D.winding+=U,D.container=G.exclude?G.container:W;break}}}if(C(D.winding)===C(U))D.exclude=!0,P[D.index]=null;else{var Y=D.container;O.setClockwise(Y?!Y.isClockwise():x)}}}return P}function v(P,C,x){var w=C&&[],k=1e-8,T=1-k,M=!1,N=x||[],L=x&&{},O,D,U;function R(Ie){return Ie._path._id+"."+Ie._segment1._index}for(var H=(x&&x.length)-1;H>=0;H--){var q=x[H];q._path&&(L[R(q)]=!0)}for(var H=P.length-1;H>=0;H--){var W=P[H],G=W._time,Y=G,se=C&&!C(W),q=W._curve,he;if(q&&(q!==D?(M=!q.hasHandles()||L&&L[R(q)],O=[],U=null,D=q):U>=k&&(G/=U)),se){O&&O.push(W);continue}else C&&w.unshift(W);if(U=Y,G<k)he=q._segment1;else if(G>T)he=q._segment2;else{var ve=q.divideAtTime(G,!0);M&&N.push(q,ve),he=ve._segment1;for(var we=O.length-1;we>=0;we--){var ae=O[we];ae._time=(ae._time-G)/(1-G)}}W._setSegment(he);var oe=he._intersection,xe=W._intersection;if(oe){g(oe,xe);for(var Se=oe;Se;)g(Se._intersection,oe),Se=Se._next}else he._intersection=xe}return x||y(N),w||P}function S(P,C,x,w,k){var T=Array.isArray(C)?C:C[x?"hor":"ver"],M=x?1:0,N=M^1,L=[P.x,P.y],O=L[M],D=L[N],U=1e-9,R=1e-6,H=O-U,q=O+U,W=0,G=0,Y=0,se=0,he=!1,ve=!1,we=1,ae=[],oe,xe;function Se(Ge){var je=Ge[N+0],ct=Ge[N+6];if(!(D<r(je,ct)||D>e(je,ct))){var ht=Ge[M+0],mt=Ge[M+2],Bt=Ge[M+4],Ht=Ge[M+6];if(je===ct){(ht<q&&Ht>H||Ht<q&&ht>H)&&(he=!0);return}var At=D===je?0:D===ct||H>e(ht,mt,Bt,Ht)||q<r(ht,mt,Bt,Ht)?1:le.solveCubic(Ge,N,D,ae,0,1)>0?ae[0]:1,He=At===0?ht:At===1?Ht:le.getPoint(Ge,At)[x?"y":"x"],bt=je>ct?1:-1,Vt=oe[N]>oe[N+6]?1:-1,Gt=oe[M+6];return D!==je?(He<H?Y+=bt:He>q?se+=bt:he=!0,He>O-R&&He<O+R&&(we/=2)):(bt!==Vt?ht<H?Y+=bt:ht>q&&(se+=bt):ht!=Gt&&(Gt<q&&He>q?(se+=bt,he=!0):Gt>H&&He<H&&(Y+=bt,he=!0)),we/=4),oe=Ge,!k&&He>H&&He<q&&le.getTangent(Ge,At)[x?"x":"y"]===0&&S(P,C,!x,w,!0)}}function Ie(Ge){var je=Ge[N+0],ct=Ge[N+2],ht=Ge[N+4],mt=Ge[N+6];if(D<=e(je,ct,ht,mt)&&D>=r(je,ct,ht,mt)){for(var Bt=Ge[M+0],Ht=Ge[M+2],At=Ge[M+4],He=Ge[M+6],bt=H>e(Bt,Ht,At,He)||q<r(Bt,Ht,At,He)?[Ge]:le.getMonoCurves(Ge,x),Vt,Gt=0,sn=bt.length;Gt<sn;Gt++)if(Vt=Se(bt[Gt]))return Vt}}for(var Ne=0,ge=T.length;Ne<ge;Ne++){var Me=T[Ne],Re=Me._path,Be=Me.getValues(),rt;if((!Ne||T[Ne-1]._path!==Re)&&(oe=null,Re._closed||(xe=le.getValues(Re.getLastCurve().getSegment2(),Me.getSegment1(),null,!w),xe[N]!==xe[N+6]&&(oe=xe)),!oe)){oe=Be;for(var ot=Re.getLastCurve();ot&&ot!==Me;){var st=ot.getValues();if(st[N]!==st[N+6]){oe=st;break}ot=ot.getPrevious()}}if(rt=Ie(Be))return rt;if(Ne+1===ge||T[Ne+1]._path!==Re){if(xe&&(rt=Ie(xe)))return rt;he&&!Y&&!se&&(Y=se=Re.isClockwise(w)^x?1:-1),W+=Y,G+=se,Y=se=0,he&&(ve=!0,he=!1),xe=null}}return W=t(W),G=t(G),{winding:e(W,G),windingL:W,windingR:G,quality:we,onPath:ve}}function E(P,C,x,w,k){var T=[],M=P,N=0,U;do{var L=P.getCurve();if(L){var O=L.getLength();T.push({segment:P,curve:L,length:O}),N+=O}P=P.getNext()}while(P&&!P._intersection&&P!==M);for(var D=[.5,.25,.75],U={winding:0,quality:-1},R=.001,H=1-R,q=0;q<D.length&&U.quality<.5;q++)for(var O=N*D[q],W=0,G=T.length;W<G;W++){var Y=T[W],se=Y.length;if(O<=se){var L=Y.curve,he=L._path,ve=he._parent,we=ve instanceof Ue?ve:he,ae=re.clamp(L.getTimeAt(O),R,H),oe=L.getPointAtTime(ae),xe=t(L.getTangentAtTime(ae).y)<Math.SQRT1_2,Se=null;if(k.subtract&&x){var Ie=we===C?x:C,Ne=Ie._getWinding(oe,xe,!0);if(we===C&&Ne.winding||we===x&&!Ne.winding){if(Ne.quality<1)continue;Se={winding:0,quality:1}}}Se=Se||S(oe,w[he._id][L.getIndex()],xe,!0),Se.quality>U.quality&&(U=Se);break}O-=se}for(var W=T.length-1;W>=0;W--)T[W].segment._winding=U}function I(P,C){var x=[],w;function k(ge){var Me;return!!(ge&&!ge._visited&&(!C||C[(Me=ge._winding||{}).winding]&&!(C.unite&&Me.winding===2&&Me.windingL&&Me.windingR)))}function T(ge){if(ge){for(var Me=0,Re=w.length;Me<Re;Me++)if(ge===w[Me])return!0}return!1}function M(ge){for(var Me=ge._segments,Re=0,Be=Me.length;Re<Be;Re++)Me[Re]._visited=!0}function N(ge,Me){var Re=ge._intersection,Be=Re,rt=[];Me&&(w=[ge]);function ot(st,Ge){for(;st&&st!==Ge;){var je=st._segment,ct=je&&je._path;if(ct){var ht=je.getNext()||ct.getFirstSegment(),mt=ht._intersection;je!==ge&&(T(je)||T(ht)||ht&&k(je)&&(k(ht)||mt&&k(mt._segment)))&&rt.push(je),Me&&w.push(je)}st=st._next}}if(Re){for(ot(Re);Re&&Re._previous;)Re=Re._previous;ot(Re,Be)}return rt}P.sort(function(ge,Me){var Re=ge._intersection,Be=Me._intersection,rt=!!(Re&&Re._overlap),ot=!!(Be&&Be._overlap),st=ge._path,Ge=Me._path;return rt^ot?rt?1:-1:!Re^!Be?Re?1:-1:st!==Ge?st._id-Ge._id:ge._index-Me._index});for(var L=0,O=P.length;L<O;L++){var D=P[L],U=k(D),R=null,H=!1,q=!0,W=[],G,Y,se;if(U&&D._path._overlapsOnly){var he=D._path,ve=D._intersection._segment._path;he.compare(ve)&&(he.getArea()&&x.push(he.clone(!1)),M(he),M(ve),U=!1)}for(;U;){var we=!R,ae=N(D,we),oe=ae.shift(),H=!we&&(T(D)||T(oe)),xe=!H&&oe;if(we&&(R=new be(z.NO_INSERT),G=null),H){(D.isFirst()||D.isLast())&&(q=D._path._closed),D._visited=!0;break}if(xe&&G&&(W.push(G),G=null),G||(xe&&ae.push(D),G={start:R._segments.length,crossings:ae,visited:Y=[],handleIn:se}),xe&&(D=oe),!k(D)){R.removeSegments(G.start);for(var Se=0,Ie=Y.length;Se<Ie;Se++)Y[Se]._visited=!1;Y.length=0;do D=G&&G.crossings.shift(),(!D||!D._path)&&(D=null,G=W.pop(),G&&(Y=G.visited,se=G.handleIn));while(G&&!k(D));if(!D)break}var Ne=D.getNext();R.add(new Ce(D._point,se,Ne&&D._handleOut)),D._visited=!0,Y.push(D),D=Ne||D._path.getFirstSegment(),se=Ne&&Ne._handleIn}H&&(q&&(R.getFirstSegment().setHandleIn(se),R.setClosed(q)),R.getArea()!==0&&x.push(R))}return x}return{_getWinding:function(P,C,x){return S(P,this.getCurves(),C,x)},unite:function(P,C){return f(this,P,"unite",C)},intersect:function(P,C){return f(this,P,"intersect",C)},subtract:function(P,C){return f(this,P,"subtract",C)},exclude:function(P,C){return f(this,P,"exclude",C)},divide:function(P,C){return C&&(C.trace==!1||C.stroke)?d(this,P,"divide"):l([this.subtract(P,C),this.intersect(P,C)],!0,this,P,C)},resolveCrossings:function(){var P=this._children,C=P||[this];function x(G,Y){var se=G&&G._intersection;return se&&se._overlap&&se._path===Y}var w=!1,k=!1,T=this.getIntersections(null,function(G){return G.hasOverlap()&&(w=!0)||G.isCrossing()&&(k=!0)}),M=w&&k&&[];if(T=_t.expand(T),w)for(var N=v(T,function(G){return G.hasOverlap()},M),L=N.length-1;L>=0;L--){var O=N[L],D=O._path,U=O._segment,R=U.getPrevious(),H=U.getNext();x(R,D)&&x(H,D)&&(U.remove(),R._handleOut._set(0,0),H._handleIn._set(0,0),R!==U&&!R.getCurve().hasLength()&&(H._handleIn.set(R._handleIn),R.remove()))}k&&(v(T,w&&function(G){var Y=G.getCurve(),se=G.getSegment(),he=G._intersection,ve=he._curve,we=he._segment;if(Y&&ve&&Y._path&&ve._path)return!0;se&&(se._intersection=null),we&&(we._intersection=null)},M),M&&y(M),C=I(_.each(C,function(G){_.push(this,G._segments)},[])));var q=C.length,W;return q>1&&P?(C!==P&&this.setChildren(C),W=this):q===1&&!P&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),W=this),W||(W=new Ue(z.NO_INSERT),W.addChildren(C),W=W.reduce(),W.copyAttributes(this),this.replaceWith(W)),W},reorient:function(P,C){var x=this._children;return x&&x.length?this.setChildren(m(this.removeChildren(),function(w){return!!(P?w:w&1)},C)):C!==o&&this.setClockwise(C),this},getInteriorPoint:function(){var P=this.getBounds(),C=P.getCenter(!0);if(!this.contains(C)){for(var x=this.getCurves(),w=C.y,k=[],T=[],M=0,N=x.length;M<N;M++){var L=x[M].getValues(),O=L[1],D=L[3],U=L[5],R=L[7];if(w>=r(O,D,U,R)&&w<=e(O,D,U,R))for(var H=le.getMonoCurves(L),q=0,W=H.length;q<W;q++){var G=H[q],Y=G[1],se=G[7];if(Y!==se&&(w>=Y&&w<=se||w>=se&&w<=Y)){var he=w===Y?G[0]:w===se?G[6]:le.solveCubic(G,1,w,T,0,1)===1?le.getPoint(G,T[0]).x:(G[0]+G[6])/2;k.push(he)}}}k.length>1&&(k.sort(function(ve,we){return ve-we}),C.x=(k[0]+k[1])/2)}return C}}});var ut=_.extend({_class:"PathFlattener",initialize:function(r,e,t,i,a){var u=[],l=[],h=0,f=1/(t||32),d=r._segments,g=d[0],y;function m(I,P){var C=le.getValues(I,P,a);u.push(C),v(C,I._index,0,1)}function v(I,P,C,x){if(x-C>f&&!(i&&le.isStraight(I))&&!le.isFlatEnough(I,e||.25)){var w=le.subdivide(I,.5),k=(C+x)/2;v(w[0],P,C,k),v(w[1],P,k,x)}else{var T=I[6]-I[0],M=I[7]-I[1],N=Math.sqrt(T*T+M*M);N>0&&(h+=N,l.push({offset:h,curve:I,index:P,time:x}))}}for(var S=1,E=d.length;S<E;S++)y=d[S],m(g,y),g=y;r._closed&&m(y||g,d[0]),this.curves=u,this.parts=l,this.length=h,this.index=0},_get:function(r){for(var e=this.parts,t=e.length,i,a=this.index;i=a,!(!a||e[--a].offset<r););for(;i<t;i++){var u=e[i];if(u.offset>=r){this.index=i;var l=e[i-1],h=l&&l.index===u.index?l.time:0,f=l?l.offset:0;return{index:u.index,time:h+(u.time-h)*(r-f)/(u.offset-f)}}}return{index:e[t-1].index,time:1}},drawPart:function(r,e,t){for(var i=this._get(e),a=this._get(t),u=i.index,l=a.index;u<=l;u++){var h=le.getPart(this.curves[u],u===i.index?i.time:0,u===a.index?a.time:1);u===i.index&&r.moveTo(h[0],h[1]),r.bezierCurveTo.apply(r,h.slice(2))}}},_.each(le._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this._get(e);return le[r](this.curves[t.index],t.time)}},{})),vt=_.extend({initialize:function(r){for(var e=this.points=[],t=r._segments,i=r._closed,a=0,u,l=t.length;a<l;a++){var h=t[a].point;(!u||!u.equals(h))&&e.push(u=h.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(r){var e=this.points,t=e.length,i=null;return t>0&&(i=[new Ce(e[0])],t>1&&(this.fitCubic(i,r,0,t-1,e[1].subtract(e[0]),e[t-2].subtract(e[t-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(r,e,t,i,a,u){var l=this.points;if(i-t===1){var h=l[t],f=l[i],d=h.getDistance(f)/3;this.addCurve(r,[h,h.add(a.normalize(d)),f.add(u.normalize(d)),f]);return}for(var g=this.chordLengthParameterize(t,i),y=Math.max(e,e*e),m,v=!0,S=0;S<=4;S++){var E=this.generateBezier(t,i,g,a,u),I=this.findMaxError(t,i,E,g);if(I.error<e&&v){this.addCurve(r,E);return}if(m=I.index,I.error>=y)break;v=this.reparameterize(t,i,g,E),y=I.error}var P=l[m-1].subtract(l[m+1]);this.fitCubic(r,e,t,m,a,P),this.fitCubic(r,e,m,i,P.negate(),u)},addCurve:function(r,e){var t=r[r.length-1];t.setHandleOut(e[1].subtract(e[0])),r.push(new Ce(e[3],e[2].subtract(e[3])))},generateBezier:function(r,e,t,i,a){for(var u=1e-12,l=Math.abs,h=this.points,f=h[r],d=h[e],g=[[0,0],[0,0]],y=[0,0],m=0,v=e-r+1;m<v;m++){var S=t[m],E=1-S,I=3*S*E,P=E*E*E,C=I*E,x=I*S,w=S*S*S,k=i.normalize(C),T=a.normalize(x),M=h[r+m].subtract(f.multiply(P+C)).subtract(d.multiply(x+w));g[0][0]+=k.dot(k),g[0][1]+=k.dot(T),g[1][0]=g[0][1],g[1][1]+=T.dot(T),y[0]+=k.dot(M),y[1]+=T.dot(M)}var N=g[0][0]*g[1][1]-g[1][0]*g[0][1],L,O;if(l(N)>u){var D=g[0][0]*y[1]-g[1][0]*y[0],U=y[0]*g[1][1]-y[1]*g[0][1];L=U/N,O=D/N}else{var R=g[0][0]+g[0][1],H=g[1][0]+g[1][1];L=O=l(R)>u?y[0]/R:l(H)>u?y[1]/H:0}var q=d.getDistance(f),W=u*q,G,Y;if(L<W||O<W)L=O=q/3;else{var se=d.subtract(f);G=i.normalize(L),Y=a.normalize(O),G.dot(se)-Y.dot(se)>q*q&&(L=O=q/3,G=Y=null)}return[f,f.add(G||i.normalize(L)),d.add(Y||a.normalize(O)),d]},reparameterize:function(r,e,t,i){for(var a=r;a<=e;a++)t[a-r]=this.findRoot(i,this.points[a],t[a-r]);for(var a=1,u=t.length;a<u;a++)if(t[a]<=t[a-1])return!1;return!0},findRoot:function(r,e,t){for(var i=[],a=[],u=0;u<=2;u++)i[u]=r[u+1].subtract(r[u]).multiply(3);for(var u=0;u<=1;u++)a[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,r,t),h=this.evaluate(2,i,t),f=this.evaluate(1,a,t),d=l.subtract(e),g=h.dot(h)+d.dot(f);return re.isMachineZero(g)?t:t-d.dot(h)/g},evaluate:function(r,e,t){for(var i=e.slice(),a=1;a<=r;a++)for(var u=0;u<=r-a;u++)i[u]=i[u].multiply(1-t).add(i[u+1].multiply(t));return i[0]},chordLengthParameterize:function(r,e){for(var t=[0],i=r+1;i<=e;i++)t[i-r]=t[i-r-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,a=e-r;i<=a;i++)t[i]/=t[a];return t},findMaxError:function(r,e,t,i){for(var a=Math.floor((e-r+1)/2),u=0,l=r+1;l<e;l++){var h=this.evaluate(3,t,i[l-r]),f=h.subtract(this.points[l]),d=f.x*f.x+f.y*f.y;d>=u&&(u=d,a=l)}return{error:u,index:a}}}),Dt=z.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&_.isPlainObject(e)&&e.x===o&&e.y===o;this._initialize(t&&e,!t&&F.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Wt=Dt.extend({_class:"PointText",initialize:function(){Dt.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new me(r.x,r.y,this,"setPoint")},setPoint:function(){var r=F.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,e,t){if(!!this._content){this._setStyles(r,e,t);var i=this._lines,a=this._style,u=a.hasFill(),l=a.hasStroke(),h=a.getLeading(),f=r.shadowColor;r.font=a.getFontStyle(),r.textAlign=a.getJustification();for(var d=0,g=i.length;d<g;d++){r.shadowColor=f;var y=i[d];u&&(r.fillText(y,0,0),r.shadowColor="rgba(0,0,0,0)"),l&&r.strokeText(y,0,0),r.translate(0,h)}}},_getBounds:function(r,e){var t=this._style,i=this._lines,a=i.length,u=t.getJustification(),l=t.getLeading(),h=this.getView().getTextWidth(t.getFontStyle(),i),f=0;u!=="left"&&(f-=h/(u==="center"?2:1));var d=new Z(f,a?-.75*l:0,h,a*l);return r?r._transformBounds(d,d):d}}),Ye=_.extend(new function(){var r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},t={transparent:[0,0,0,0]},i;function a(h){var f=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),d="rgb",g;if(f){var y=f[4]?4:3;g=new Array(y);for(var m=0;m<y;m++){var v=f[m+1];g[m]=parseInt(v.length==1?v+v:v,16)/255}}else if(f=h.match(/^(rgb|hsl)a?\((.*)\)$/)){d=f[1],g=f[2].trim().split(/[,\s]+/g);for(var S=d==="hsl",m=0,E=Math.min(g.length,4);m<E;m++){var I=g[m],v=parseFloat(I);if(S)if(m===0){var P=I.match(/([a-z]*)$/)[1];v*={turn:360,rad:180/Math.PI,grad:.9}[P]||1}else m<3&&(v/=100);else m<3&&(v/=/%$/.test(I)?100:255);g[m]=v}}else{var C=t[h];if(!C)if(p){i||(i=kt.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=h,i.fillRect(0,0,1,1);var x=i.getImageData(0,0,1,1).data;C=t[h]=[x[0]/255,x[1]/255,x[2]/255]}else C=[0,0,0];g=C.slice()}return[d,g]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(h,f,d){var g=Math.max(h,f,d),y=Math.min(h,f,d),m=g-y,v=m===0?0:(g==h?(f-d)/m+(f<d?6:0):g==f?(d-h)/m+2:(h-f)/m+4)*60;return[v,g===0?0:m/g,g]},"hsb-rgb":function(h,f,d){h=(h/60%6+6)%6;var y=Math.floor(h),g=h-y,y=u[y],m=[d,d*(1-f),d*(1-f*g),d*(1-f*(1-g))];return[m[y[0]],m[y[1]],m[y[2]]]},"rgb-hsl":function(h,f,d){var g=Math.max(h,f,d),y=Math.min(h,f,d),m=g-y,v=m===0,S=v?0:(g==h?(f-d)/m+(f<d?6:0):g==f?(d-h)/m+2:(h-f)/m+4)*60,E=(g+y)/2,I=v?0:E<.5?m/(g+y):m/(2-g-y);return[S,I,E]},"hsl-rgb":function(h,f,d){if(h=(h/360%1+1)%1,f===0)return[d,d,d];for(var g=[h+1/3,h,h-1/3],y=d<.5?d*(1+f):d+f-d*f,m=2*d-y,v=[],S=0;S<3;S++){var E=g[S];E<0&&(E+=1),E>1&&(E-=1),v[S]=6*E<1?m+(y-m)*6*E:2*E<1?y:3*E<2?m+(y-m)*(2/3-E)*6:m}return v},"rgb-gray":function(h,f,d){return[h*.2989+f*.587+d*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return _.each(r,function(h,f){e[f]=[],_.each(h,function(d,g){var y=_.capitalize(d),m=/^(hue|saturation)$/.test(d),v=e[f][g]=f==="gradient"?d==="gradient"?function(S){var E=this._components[0];return S=Rt.read(Array.isArray(S)?S:arguments,0,{readNull:!0}),E!==S&&(E&&E._removeOwner(this),S&&S._addOwner(this)),S}:function(){return F.read(arguments,0,{readNull:d==="highlight",clone:!0})}:function(S){return S==null||isNaN(S)?0:+S};this["get"+y]=function(){return this._type===f||m&&/^hs[bl]$/.test(this._type)?this._components[g]:this._convert(f)[g]},this["set"+y]=function(S){this._type!==f&&!(m&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(f),this._properties=r[f],this._type=f),this._components[g]=v.call(this,S),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(f){var d=arguments,g=this.__read,y=0,m,v,S,E;Array.isArray(f)&&(d=f,f=d[0]);var I=f!=null&&typeof f;if(I==="string"&&f in r&&(m=f,f=d[1],Array.isArray(f)?(v=f,S=d[2]):(g&&(y=1),d=_.slice(d,1),I=typeof f)),!v){if(E=I==="number"?d:I==="object"&&f.length!=null?f:null,E){m||(m=E.length>=3?"rgb":"gray");var P=r[m].length;S=E[P],g&&(y+=E===arguments?P+(S!=null?1:0):1),E.length>P&&(E=_.slice(E,0,P))}else if(I==="string"){var C=a(f);m=C[0],v=C[1],v.length===4&&(S=v[3],v.length--)}else if(I==="object")if(f.constructor===h){if(m=f._type,v=f._components.slice(),S=f._alpha,m==="gradient")for(var x=1,w=v.length;x<w;x++){var k=v[x];k&&(v[x]=k.clone())}}else if(f.constructor===Rt)m="gradient",E=d;else{m="hue"in f?"lightness"in f?"hsl":"hsb":"gradient"in f||"stops"in f||"radial"in f?"gradient":"gray"in f?"gray":"rgb";var T=r[m],M=e[m];this._components=v=[];for(var x=0,w=T.length;x<w;x++){var N=f[T[x]];N==null&&!x&&m==="gradient"&&"stops"in f&&(N={stops:f.stops,radial:f.radial}),N=M[x].call(this,N),N!=null&&(v[x]=N)}S=f.alpha}g&&m&&(y=1)}if(this._type=m||"rgb",!v){this._components=v=[];for(var M=e[this._type],x=0,w=M.length;x<w;x++){var N=M[x].call(this,E&&E[x]);N!=null&&(v[x]=N)}}return this._components=v,this._properties=r[this._type],this._alpha=S,g&&(this.__read=y),this},set:"#initialize",_serialize:function(h,f){var d=this.getComponents();return _.serialize(/^(gray|rgb)$/.test(this._type)?d:[this._type].concat(d),h,!0,f)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var f;return this._type===h?this._components.slice():(f=l[this._type+"-"+h])?f.apply(this,this._components):l["rgb-"+h].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new Ye(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=r[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var f=_.isPlainValue(h,!0)?Ye.read(arguments):h;return f===this||f&&this._class===f._class&&this._type===f._type&&this.getAlpha()===f.getAlpha()&&_.equals(this._components,f._components)||!1},toString:function(){for(var h=this._properties,f=[],d=this._type==="gradient",g=fe.instance,y=0,m=h.length;y<m;y++){var v=this._components[y];v!=null&&f.push(h[y]+": "+(d?v:g.number(v)))}return this._alpha!=null&&f.push("alpha: "+g.number(this._alpha)),"{ "+f.join(", ")+" }"},toCSS:function(h){var f=this._convert("rgb"),d=h||this._alpha==null?1:this._alpha;function g(y){return Math.round((y<0?0:y>1?1:y)*255)}return f=[g(f[0]),g(f[1]),g(f[2])],d<1&&f.push(d<0?0:d),h?"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1):(f.length==4?"rgba(":"rgb(")+f.join(",")+")"},toCanvasStyle:function(h,f){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var d=this._components,g=d[0],y=g._stops,m=d[1],v=d[2],S=d[3],E=f&&f.inverted(),I;if(E&&(m=E._transformPoint(m),v=E._transformPoint(v),S&&(S=E._transformPoint(S))),g._radial){var P=v.getDistance(m);if(S){var C=S.subtract(m);C.getLength()>P&&(S=m.add(C.normalize(P-.1)))}var x=S||m;I=h.createRadialGradient(x.x,x.y,0,m.x,m.y,P)}else I=h.createLinearGradient(m.x,m.y,v.x,v.y);for(var w=0,k=y.length;w<k;w++){var T=y[w],M=T._offset;I.addColorStop(M==null?w/(k-1):M,T._color.toCanvasStyle())}return this._canvasStyle=I},transform:function(h){if(this._type==="gradient"){for(var f=this._components,d=1,g=f.length;d<g;d++){var y=f[d];h._transformPoint(y,y,!0)}this._changed()}},statics:{_types:r,random:function(){var h=Math.random;return new Ye(h(),h(),h())},_setOwner:function(h,f,d){return h&&(h._owner&&f&&h._owner!==f&&(h=h.clone()),!h._owner^!f&&(h._owner=f||null,h._setter=d||null)),h}}})},new function(){var r={add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}};return _.each(r,function(e,t){this[t]=function(i){i=Ye.read(arguments);for(var a=this._type,u=this._components,l=i._convert(a),h=0,f=u.length;h<f;h++)l[h]=e(u[h],l[h]);return new Ye(a,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),Rt=_.extend({_class:"Gradient",initialize:function(e,t){this._id=ue.get(),e&&_.isPlainObject(e)&&(this.set(e),e=t=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof t=="string"&&t==="radial"||t||!1)},_serialize:function(r,e){return e.add(this,function(){return _.serialize([this._stops,this._radial],r,!0,e)})},_changed:function(){for(var r=0,e=this._owners&&this._owners.length;r<e;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var e=this._owners?this._owners.indexOf(r):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var r=[],e=0,t=this._stops.length;e<t;e++)r[e]=this._stops[e].clone();return new Rt(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var t=0,i=e.length;t<i;t++)e[t]._owner=o;e=this._stops=gn.readList(r,0,{clone:!0});for(var t=0,i=e.length;t<i;t++)e[t]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var e=this._stops,t=r._stops,i=e.length;if(i===t.length){for(var a=0;a<i;a++)if(!e[a].equals(t[a]))return!1;return!0}}return!1}}),gn=_.extend({_class:"GradientStop",initialize:function(e,t){var i=e,a=t;typeof e=="object"&&t===o&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],a=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,a=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(a)},clone:function(){return new gn(this._color.clone(),this._offset)},_serialize:function(r,e){var t=this._color,i=this._offset;return _.serialize(i==null?[t]:[t,i],r,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ye._setOwner(this._color,null),this._color=Ye._setOwner(Ye.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),xn=_.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new F,selectedColor:null},e=_.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),t=_.set({},e,{fillColor:new Ye}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},u={_class:"Style",beans:!0,initialize:function(h,f,d){this._values={},this._owner=f,this._project=f&&f._project||d||tt.project,this._defaults=!f||f instanceof Pe?e:f instanceof Dt?t:r,h&&this.set(h)}};return _.each(e,function(l,h){var f=/Color$/.test(h),d=h==="shadowOffset",g=_.capitalize(h),y=i[h],m="set"+g,v="get"+g;u[m]=function(S){var E=this._owner,I=E&&E._children,P=I&&I.length>0&&!(E instanceof Ue);if(P)for(var C=0,x=I.length;C<x;C++)I[C]._style[m](S);if((h==="selectedColor"||!P)&&h in this._defaults){var w=this._values[h];w!==S&&(f&&(w&&(Ye._setOwner(w,null),w._canvasStyle=null),S&&S.constructor===Ye&&(S=Ye._setOwner(S,E,P&&m))),this._values[h]=S,E&&E._changed(y||129))}},u[v]=function(S){var E=this._owner,I=E&&E._children,P=I&&I.length>0&&!(E instanceof Ue),C;if(P&&!S)for(var x=0,w=I.length;x<w;x++){var k=I[x]._style[v]();if(!x)C=k;else if(!_.equals(C,k))return o}else if(h in this._defaults){var C=this._values[h];if(C===o)C=this._defaults[h],C&&C.clone&&(C=C.clone());else{var T=f?Ye:d?F:null;T&&!(C&&C.constructor===T)&&(this._values[h]=C=T.read([C],0,{readNull:!0,clone:!0}))}}return C&&f&&(C=Ye._setOwner(C,E,P&&m)),C},a[v]=function(S){return this._style[v](S)},a[m]=function(S){this._style[m](S)}}),_.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,h){var f="get"+h,d="set"+h;u[f]=a[f]="#get"+l,u[d]=a[d]="#set"+l}),z.inject(a),u},{set:function(r){var e=r instanceof xn,t=e?r._values:r;if(t){for(var i in t)if(i in this._defaults){var a=t[i];this[i]=a&&e&&a.clone?a.clone():a}}},equals:function(r){function e(t,i,a){var u=t._values,l=i._values,h=i._defaults;for(var f in u){var d=u[f],g=l[f];if(!(a&&f in l)&&!_.equals(d,g===o?h[f]:g))return!1}return!0}return r===this||r&&this._class===r._class&&e(this,r)&&e(r,this,!0)||!1},_dispose:function(){var r;r=this.getFillColor(),r&&(r._canvasStyle=null),r=this.getStrokeColor(),r&&(r._canvasStyle=null),r=this.getShadowColor(),r&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var e=r.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),e!=null?e:t*1.2}}),We=new function(){function r(e,t,i,a){for(var u=["","webkit","moz","Moz","ms","o"],l=t[0].toUpperCase()+t.substring(1),h=0;h<6;h++){var f=u[h],d=f?f+l:t;if(d in e){if(i)e[d]=a;else return e[d];break}}}return{getStyles:function(e){var t=e&&e.nodeType!==9?e.ownerDocument:e,i=t&&t.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,t){var i=e.ownerDocument,a=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch(g){l={left:0,top:0,width:0,height:0}}var h=l.left-(u.clientLeft||a.clientLeft||0),f=l.top-(u.clientTop||a.clientTop||0);if(!t){var d=i.defaultView;h+=d.pageXOffset||u.scrollLeft||a.scrollLeft,f+=d.pageYOffset||u.scrollTop||a.scrollTop}return new Z(h,f,l.width,l.height)},getViewportBounds:function(e){var t=e.ownerDocument,i=t.defaultView,a=t.documentElement;return new Z(0,0,i.innerWidth||a.clientWidth,i.innerHeight||a.clientHeight)},getOffset:function(e,t){return We.getBounds(e,t).getPoint()},getSize:function(e){return We.getBounds(e,!0).getSize()},isInvisible:function(e){return We.getSize(e).equals(new te(0,0))},isInView:function(e){return!We.isInvisible(e)&&We.getViewportBounds(e).intersects(We.getBounds(e,!0))},isInserted:function(e){return b.body.contains(e)},getPrefixed:function(e,t){return e&&r(e,t)},setPrefixed:function(e,t,i){if(typeof t=="object")for(var a in t)r(e,a,!0,t[a]);else r(e,t,!0,i)}}},et={add:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++){var h=a[u],f=r===b&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;r.addEventListener(h,i,f)}},remove:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++)r.removeEventListener(a[u],i,!1)},getPoint:function(r){var e=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new F(e.pageX||e.clientX+b.documentElement.scrollLeft,e.pageY||e.clientY+b.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,e){return et.getPoint(r).subtract(We.getOffset(e||et.getTarget(r)))}};et.requestAnimationFrame=new function(){var r=We.getPrefixed(p,"requestAnimationFrame"),e=!1,t=[],i;function a(){var u=t;t=[];for(var l=0,h=u.length;l<h;l++)u[l]();e=r&&t.length,e&&r(a)}return function(u){t.push(u),r?e||(r(a),e=!0):i||(i=setInterval(a,1e3/60))}};var Je=_.extend(V,{_class:"View",initialize:function r(e,t){function i(y){return t[y]||parseInt(t.getAttribute(y),10)}function a(){var y=We.getSize(t);return y.isNaN()||y.isZero()?new te(i("width"),i("height")):y}var u;if(p&&t){this._id=t.getAttribute("id"),this._id==null&&t.setAttribute("id",this._id="paper-view-"+r._id++),et.add(t,this._viewEvents);var l="none";if(We.setPrefixed(t.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),Q.hasAttribute(t,"resize")){var h=this;et.add(p,this._windowEvents={resize:function(){h.setViewSize(a())}})}if(u=a(),Q.hasAttribute(t,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var f=this._stats.domElement,d=f.style,g=We.getOffset(t);d.position="absolute",d.left=g.x+"px",d.top=g.y+"px",b.body.appendChild(f)}}else u=new te(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=p&&p.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new J)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!tt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Je._focused===this&&(Je._focused=null),Je._views.splice(Je._views.indexOf(this),1),delete Je._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),et.remove(this._element,this._viewEvents),et.remove(p,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:_.each(z._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;et.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var e=r._element;(!We.getPrefixed(b,"hidden")||Q.getAttribute(e,"keepalive")==="true")&&We.isInView(e)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){tt=this._scope;var r=Date.now()/1e3,e=this._last?r-this._last:0;this._last=r,this.emit("frame",new _({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,e){var t=this._frameItems;e?(t[r._id]={item:r,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete t[r._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var e in this._frameItems){var t=this._frameItems[e];t.item.emit("frame",new _(r,{time:t.time+=r.delta,count:t.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var r=this._viewSize;return new Te(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=te.read(arguments),e=r.subtract(this._viewSize);e.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(r,e){var t=this._element;t&&(t.width!==r&&(t.width=r),t.height!==e&&(t.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Z(new F,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return We.isInView(this._element)},isInserted:function(){return We.isInserted(this._element)},getPixelSize:function(r){var e=this._element,t;if(e){var i=e.parentNode,a=b.createElement("div");a.style.fontSize=r,i.appendChild(a),t=parseFloat(We.getStyles(a).fontSize),i.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(r,e){return 0}},_.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?_:F).read(t),a=F.read(t,0,{readNull:!0});return this.transform(new J()[r](i,a||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new J;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=F.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform(new J().scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var e=this.getRotation();e!=null&&r!=null&&this.rotate(r-e)},getScaling:function(){var r=this._decompose().scaling;return new me(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=F.read(arguments,0,{clone:!0,readNull:!0});r&&e&&this.scale(e.x/r.x,e.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(F.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(F.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(F.read(arguments))},getEventPoint:function(r){return this.viewToProject(et.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,e){b&&typeof e=="string"&&(e=b.getElementById(e));var t=p?ur:Je;return new t(r,e)}}},new function(){if(!p)return;var r,e,t=!1,i=!1;function a(U){var R=et.getTarget(U);return R.getAttribute&&Je._viewsById[R.getAttribute("id")]}function u(){var U=Je._focused;if(!U||!U.isVisible()){for(var R=0,H=Je._views.length;R<H;R++)if((U=Je._views[R]).isVisible()){Je._focused=e=U;break}}}function l(U,R,H){U._handleMouseEvent("mousemove",R,H)}var h=p.navigator,f,d,g;h.pointerEnabled||h.msPointerEnabled?(f="pointerdown MSPointerDown",d="pointermove MSPointerMove",g="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",d="touchmove",g="touchend touchcancel","ontouchstart"in p&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",d+=" mousemove",g+=" mouseup"));var y={},m={mouseout:function(U){var R=Je._focused,H=et.getRelatedTarget(U);if(R&&(!H||H.nodeName==="HTML")){var q=et.getOffset(U,R._element),W=q.x,G=Math.abs,Y=G(W),se=1<<25,he=Y-se;q.x=G(he)<Y?he*(W<0?-1:1):W,l(R,U,R.viewToProject(q))}},scroll:u};y[f]=function(U){var R=Je._focused=a(U);t||(t=!0,R._handleMouseEvent("mousedown",U))},m[d]=function(U){var R=Je._focused;if(!i){var H=a(U);H?R!==H&&(R&&l(R,U),r||(r=R),R=Je._focused=e=H):e&&e===R&&(r&&!r.isInserted()&&(r=null),R=Je._focused=r,r=null,u())}R&&l(R,U)},m[f]=function(){i=!0},m[g]=function(U){var R=Je._focused;R&&t&&R._handleMouseEvent("mouseup",U),i=t=!1},et.add(b,m),et.add(p,{load:u});var v=!1,S=!1,E={doubleclick:"click",mousedrag:"mousemove"},I=!1,P,C,x,w,k,T,M,N;function L(U,R,H,q,W,G,Y){var se=!1,he;function ve(we,ae){if(we.responds(ae)){if(he||(he=new $n(ae,q,W,R||we,G?W.subtract(G):null)),we.emit(ae,he)&&(v=!0,he.prevented&&(S=!0),he.stopped))return se=!0}else{var oe=E[ae];if(oe)return ve(we,oe)}}for(;U&&U!==Y&&!ve(U,H);)U=U._parent;return se}function O(U,R,H,q,W,G){return U._project.removeOn(H),S=v=!1,k&&L(k,null,H,q,W,G)||R&&R!==k&&!R.isDescendant(k)&&L(R,null,H==="mousedrag"?"mousemove":H,q,W,G,k)||L(U,k||R||U,H,q,W,G)}var D={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:y,_handleMouseEvent:function(U,R,H){var q=this._itemEvents,W=q.native[U],G=U==="mousemove",Y=this._scope.tool,se=this;function he(Ie){return q.virtual[Ie]||se.responds(Ie)||Y&&Y.responds(Ie)}G&&t&&he("mousedrag")&&(U="mousedrag"),H||(H=this.getEventPoint(R));var ve=this.getBounds().contains(H),we=W&&ve&&se._project.hitTest(H,{tolerance:0,fill:!0,stroke:!0}),ae=we&&we.item||null,oe=!1,xe={};if(xe[U.substr(5)]=!0,W&&ae!==w&&(w&&L(w,null,"mouseleave",R,H),ae&&L(ae,null,"mouseenter",R,H),w=ae),I^ve&&(L(this,null,ve?"mouseenter":"mouseleave",R,H),oe=!0),(ve||xe.drag)&&!H.equals(C)&&(O(this,ae,G?U:"mousemove",R,H,C),oe=!0),I=ve,xe.down&&ve||xe.up&&P){if(O(this,ae,U,R,H,P),xe.down){if(N=ae===T&&Date.now()-M<300,x=T=ae,!S&&ae){for(var Se=ae;Se&&!Se.responds("mousedrag");)Se=Se._parent;Se&&(k=ae)}P=H}else xe.up&&(!S&&ae===x&&(M=Date.now(),O(this,ae,N?"doubleclick":"click",R,H,P),N=!1),x=k=null);I=!1,oe=!0}C=H,oe&&Y&&(v=Y._handleMouseEvent(U,R,H,xe)||v),R.cancelable!==!1&&(v&&!xe.move||xe.down&&he("mouseup"))&&R.preventDefault()},_handleKeyEvent:function(U,R,H,q){var W=this._scope,G=W.tool,Y;function se(he){he.responds(U)&&(tt=W,he.emit(U,Y=Y||new Bi(U,R,H,q)))}this.isVisible()&&(se(this),G&&G.responds(U)&&se(G))},_countItemEvent:function(U,R){var H=this._itemEvents,q=H.native,W=H.virtual;for(var G in D)q[G]=(q[G]||0)+(D[G][U]||0)*R;W[U]=(W[U]||0)+R},statics:{updateFocus:u,_resetState:function(){t=i=v=I=!1,r=e=P=C=x=w=k=T=M=N=null}}}}),ur=Je.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof p.HTMLCanvasElement)){var i=te.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+_.slice(arguments,1));t=kt.getCanvas(i)}var a=this._context=t.getContext("2d");if(a.save(),this._pixelRatio=1,!/^off|false$/.test(Q.getAttribute(t,"hidpi"))){var u=p.devicePixelRatio||1,l=We.getPrefixed(a,"backingStorePixelRatio")||1;this._pixelRatio=u/l}Je.call(this,e,t),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(e,t){var i=this._pixelRatio;if(r.base.call(this,e*i,t*i),i!==1){var a=this._element,u=this._context;if(!Q.hasAttribute(a,"resize")){var l=a.style;l.width=e+"px",l.height=t+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function r(e){var t=tt.agent,i;if(t&&t.firefox)i=r.base.call(this,e);else{var a=this._context,u=a.font;a.font=e+" serif",i=parseFloat(a.font),a.font=u}return i},getTextWidth:function(r,e){var t=this._context,i=t.font,a=0;t.font=r;for(var u=0,l=e.length;u<l;u++)a=Math.max(a,t.measureText(e[u]).width);return t.font=i,a},update:function(){if(!this._needsUpdate)return!1;var r=this._project,e=this._context,t=this._viewSize;return e.clearRect(0,0,t.width+1,t.height+1),r&&r.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),En=_.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return fi.modifiers}}),Bi=En.extend({_class:"KeyEvent",initialize:function(e,t,i,a){this.type=e,this.event=t,this.key=i,this.character=a},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),fi=new function(){var r={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},t={},i={},a,u,l=new _({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var d=tt&&tt.agent;return d&&d.mac?this.meta:this.control}}});function h(d){var g=d.key||d.keyIdentifier;return g=/^U\+/.test(g)?String.fromCharCode(parseInt(g.substr(2),16)):/^Arrow[A-Z]/.test(g)?g.substr(5):g==="Unidentified"||g===o?String.fromCharCode(d.keyCode):g,r[g]||(g.length>1?_.hyphenate(g):g.toLowerCase())}function f(d,g,y,m){var v=Je._focused,S;if(t[g]=d,d?i[g]=y:delete i[g],g.length>1&&(S=_.camelize(g))in l){l[S]=d;var E=tt&&tt.agent;if(S==="meta"&&E&&E.mac)if(d)a={};else{for(var I in a)I in i&&f(!1,I,a[I],m);a=null}}else d&&a&&(a[g]=y);v&&v._handleKeyEvent(d?"keydown":"keyup",m,g,y)}return et.add(b,{keydown:function(d){var g=h(d),y=tt&&tt.agent;g.length>1||y&&y.chrome&&(d.altKey||y.mac&&d.metaKey||!y.mac&&d.ctrlKey)?f(!0,g,e[g]||(g.length>1?"":g),d):u=g},keypress:function(d){if(u){var g=h(d),y=d.charCode,m=y>=32?String.fromCharCode(y):g.length>1?"":g;g!==u&&(g=m.toLowerCase()),f(!0,g,m,d),u=null}},keyup:function(d){var g=h(d);g in i&&f(!1,g,i[g],d)}}),et.add(p,{blur:function(d){for(var g in i)f(!1,g,i[g],d)}}),{modifiers:l,isDown:function(d){return!!t[d]}}},$n=En.extend({_class:"MouseEvent",initialize:function(e,t,i,a,u){this.type=e,this.event=t,this.point=i,this.target=a,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Vi=En.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,i){this.tool=e,this.type=t,this.event=i},_choosePoint:function(r,e){return r||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var e=r.item,t=e._parent;/^(Group|CompoundPath)$/.test(t._class);)e=t,t=t._parent;this._item=e}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});K.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){K.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,r!=null&&this._maxDistance!=null&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,this._minDistance!=null&&r!=null&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,e,t,i){tt=this._scope,i.drag&&!this.responds(r)&&(r="mousemove");var a=i.move||i.drag,u=this.responds(r),l=this.minDistance,h=this.maxDistance,f=!1,d=this;function g(m,v){var S=t,E=a?d._point:d._downPoint||S;if(a){if(d._moveCount>=0&&S.equals(E))return!1;if(E&&(m!=null||v!=null)){var I=S.subtract(E),P=I.getLength();if(P<(m||0))return!1;v&&(S=E.add(I.normalize(Math.min(P,v))))}d._moveCount++}return d._point=S,d._lastPoint=E||S,i.down&&(d._moveCount=-1,d._downPoint=S,d._downCount++),!0}function y(){u&&(f=d.emit(r,new Vi(d,r,e))||f)}if(i.down)g(),y();else if(i.up)g(null,h),y();else if(u)for(;g(l,h);)y();return f}});var Ui=_.extend(V,{_class:"Tween",statics:{easings:new _({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+2*(2-r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(e,t,i,a,u,l){this.object=e;var h=typeof u,f=h==="function";this.type=f?h:h==="string"?u:"linear",this.easing=f?u:r.easings[this.type],this.duration=a,this.running=!1,this._then=null,this._startTime=null;var d=t||i;this._keys=d?Object.keys(d):[],this._parsedKeys=this._parseKeys(this._keys),this._from=d&&this._getState(t),this._to=d&&this._getState(i),l!==!1&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var e=this.easing(r),t=this._keys,i=function(g){return typeof g=="function"?g(e,r):g},a=0,u=t&&t.length;a<u;a++){var l=t[a],h=i(this._from[l]),f=i(this._to[l]),d=h&&f&&h.__add&&f.__add?f.__subtract(h).__multiply(e).__add(h):(f-h)*e+h;this._setProperty(this._parsedKeys[l],d)}this.responds("update")&&this.emit("update",new _({progress:r,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var e=this._startTime,t=e?(r-e)/this.duration:0;e||(this._startTime=r),this.update(t)},_getState:function(r){for(var e=this._keys,t={},i=0,a=e.length;i<a;i++){var u=e[i],l=this._parsedKeys[u],h=this._getProperty(l),f;if(r){var d=this._resolveValue(h,r[u]);this._setProperty(l,d),f=this._getProperty(l),f=f&&f.clone?f.clone():f,this._setProperty(l,h)}else f=h&&h.clone?h.clone():h;t[u]=f}return t},_resolveValue:function(r,e){if(e){if(Array.isArray(e)&&e.length===2){var t=e[0];return t&&t.match&&t.match(/^[+\-\*\/]=/)?this._calculate(r,t[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var a=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,e[0],a)}}}return e},_calculate:function(r,e,t){return tt.PaperScript.calculateBinary(r,e,t)},_parseKeys:function(r){for(var e={},t=0,i=r.length;t<i;t++){var a=r[t],u=a.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[a]=u.split("/")}return e},_getProperty:function(r,e){for(var t=this.object,i=0,a=r.length-(e||0);i<a&&t;i++)t=t[r[i]];return t},_setProperty:function(r,e){var t=this._getProperty(r,1);t&&(t[r[r.length-1]]=e)}}),ci={request:function(r){var e=new s.XMLHttpRequest;return e.open((r.method||"get").toUpperCase(),r.url,_.pick(r.async,!0)),r.mimeType&&e.overrideMimeType(r.mimeType),e.onload=function(){var t=e.status;t===0||t===200?r.onLoad&&r.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var t=e.status,i='Could not load "'+r.url+'" (Status: '+t+")";if(r.onError)r.onError(i,t);else throw new Error(i)},e.send(null)}},kt=_.exports.CanvasProvider={canvases:[],getCanvas:function(r,e){if(!p)return null;var t,i=!0;typeof r=="object"&&(e=r.height,r=r.width),this.canvases.length?t=this.canvases.pop():(t=b.createElement("canvas"),i=!1);var a=t.getContext("2d");if(!a)throw new Error("Canvas "+t+" is unable to provide a 2D context.");return t.width===r&&t.height===e?i&&a.clearRect(0,0,r+1,e+1):(t.width=r,t.height=e),a.save(),t},getContext:function(r,e){var t=this.getCanvas(r,e);return t?t.getContext("2d"):null},release:function(r){var e=r&&r.canvas?r.canvas:r;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},dt=new function(){var r=Math.min,e=Math.max,t=Math.abs,i,a,u,l,h,f,d,g,y,m,v;function S(k,T,M){return .2989*k+.587*T+.114*M}function E(k,T,M,O){var L=O-S(k,T,M);y=k+L,m=T+L,v=M+L;var O=S(y,m,v),D=r(y,m,v),U=e(y,m,v);if(D<0){var R=O-D;y=O+(y-O)*O/R,m=O+(m-O)*O/R,v=O+(v-O)*O/R}if(U>255){var H=255-O,q=U-O;y=O+(y-O)*H/q,m=O+(m-O)*H/q,v=O+(v-O)*H/q}}function I(k,T,M){return e(k,T,M)-r(k,T,M)}function P(k,T,M,N){var L=[k,T,M],O=e(k,T,M),D=r(k,T,M),U;D=D===k?0:D===T?1:2,O=O===k?0:O===T?1:2,U=r(D,O)===0?e(D,O)===1?2:1:0,L[O]>L[D]?(L[U]=(L[U]-L[D])*N/(L[O]-L[D]),L[O]=N):L[U]=L[O]=0,L[D]=0,y=L[0],m=L[1],v=L[2]}var C={multiply:function(){y=h*i/255,m=f*a/255,v=d*u/255},screen:function(){y=h+i-h*i/255,m=f+a-f*a/255,v=d+u-d*u/255},overlay:function(){y=h<128?2*h*i/255:255-2*(255-h)*(255-i)/255,m=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=d<128?2*d*u/255:255-2*(255-d)*(255-u)/255},"soft-light":function(){var k=i*h/255;y=k+h*(255-(255-h)*(255-i)/255-k)/255,k=a*f/255,m=k+f*(255-(255-f)*(255-a)/255-k)/255,k=u*d/255,v=k+d*(255-(255-d)*(255-u)/255-k)/255},"hard-light":function(){y=i<128?2*i*h/255:255-2*(255-i)*(255-h)/255,m=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*d/255:255-2*(255-u)*(255-d)/255},"color-dodge":function(){y=h===0?0:i===255?255:r(255,255*h/(255-i)),m=f===0?0:a===255?255:r(255,255*f/(255-a)),v=d===0?0:u===255?255:r(255,255*d/(255-u))},"color-burn":function(){y=h===255?255:i===0?0:e(0,255-(255-h)*255/i),m=f===255?255:a===0?0:e(0,255-(255-f)*255/a),v=d===255?255:u===0?0:e(0,255-(255-d)*255/u)},darken:function(){y=h<i?h:i,m=f<a?f:a,v=d<u?d:u},lighten:function(){y=h>i?h:i,m=f>a?f:a,v=d>u?d:u},difference:function(){y=h-i,y<0&&(y=-y),m=f-a,m<0&&(m=-m),v=d-u,v<0&&(v=-v)},exclusion:function(){y=h+i*(255-h-h)/255,m=f+a*(255-f-f)/255,v=d+u*(255-d-d)/255},hue:function(){P(i,a,u,I(h,f,d)),E(y,m,v,S(h,f,d))},saturation:function(){P(h,f,d,I(i,a,u)),E(y,m,v,S(h,f,d))},luminosity:function(){E(h,f,d,S(i,a,u))},color:function(){E(i,a,u,S(h,f,d))},add:function(){y=r(h+i,255),m=r(f+a,255),v=r(d+u,255)},subtract:function(){y=e(h-i,0),m=e(f-a,0),v=e(d-u,0)},average:function(){y=(h+i)/2,m=(f+a)/2,v=(d+u)/2},negation:function(){y=255-t(255-i-h),m=255-t(255-a-f),v=255-t(255-u-d)}},x=this.nativeModes=_.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(k){this[k]=!0},{}),w=kt.getContext(1,1);w&&(_.each(C,function(k,T){var M=T==="darken",N=!1;w.save();try{w.fillStyle=M?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=T,w.globalCompositeOperation===T&&(w.fillStyle=M?"#a00":"#300",w.fillRect(0,0,1,1),N=w.getImageData(0,0,1,1).data[0]!==M?170:51)}catch(L){}w.restore(),x[T]=N}),kt.release(w)),this.process=function(k,T,M,N,L){var O=T.canvas,D=k==="normal";if(D||x[k])M.save(),M.setTransform(1,0,0,1,0,0),M.globalAlpha=N,D||(M.globalCompositeOperation=k),M.drawImage(O,L.x,L.y),M.restore();else{var U=C[k];if(!U)return;for(var R=M.getImageData(L.x,L.y,O.width,O.height),H=R.data,q=T.getImageData(0,0,O.width,O.height).data,W=0,G=H.length;W<G;W+=4){i=q[W],h=H[W],a=q[W+1],f=H[W+1],u=q[W+2],d=H[W+2],l=q[W+3],g=H[W+3],U();var Y=l*N/255,se=1-Y;H[W]=Y*y+se*h,H[W+1]=Y*m+se*f,H[W+2]=Y*v+se*d,H[W+3]=l*N+se*g}M.putImageData(R,L.x,L.y)}}},St=new function(){var r="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",t="http://www.w3.org/1999/xlink",i={href:t,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function a(h,f,d){return l(b.createElementNS(r,h),f,d)}function u(h,f){var d=i[f],g=d?h.getAttributeNS(d,f):h.getAttribute(f);return g==="null"?null:g}function l(h,f,d){for(var g in f){var y=f[g],m=i[g];typeof y=="number"&&d&&(y=d.number(y)),m?h.setAttributeNS(m,g,y):h.setAttribute(g,y)}return h}return{svg:r,xmlns:e,xlink:t,create:a,get:u,set:l}},Ct=_.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,e){return!e&&(r instanceof Le||r instanceof Fe||r instanceof Dt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,e){var t=_.capitalize(e),i=r[2];this[e]={type:r[1],property:e,attribute:r[0],toSVG:i,fromSVG:i&&_.each(i,function(a,u){this[a]=u},{}),exportFilter:r[3],get:"get"+t,set:"set"+t}},{});new function(){var r;function e(C,x,w){var k=new _,T=C.getTranslation();if(x){var M;C.isInvertible()?(C=C._shiftless(),M=C._inverseTransform(T),T=null):M=new F,k[w?"cx":"x"]=M.x,k[w?"cy":"y"]=M.y}if(!C.isIdentity()){var N=C.decompose();if(N){var L=[],O=N.rotation,D=N.scaling,U=N.skewing;T&&!T.isZero()&&L.push("translate("+r.point(T)+")"),O&&L.push("rotate("+r.number(O)+")"),(!re.isZero(D.x-1)||!re.isZero(D.y-1))&&L.push("scale("+r.point(D)+")"),U.x&&L.push("skewX("+r.number(U.x)+")"),U.y&&L.push("skewY("+r.number(U.y)+")"),k.transform=L.join(" ")}else k.transform="matrix("+C.getValues().join(",")+")"}return k}function t(C,x){for(var w=e(C._matrix),k=C._children,T=St.create("g",w,r),M=0,N=k.length;M<N;M++){var L=k[M],O=I(L,x);if(O)if(L.isClipMask()){var D=St.create("clipPath");D.appendChild(O),S(L,D,"clip"),St.set(T,{"clip-path":"url(#"+D.id+")"})}else T.appendChild(O)}return T}function i(C,x){var w=e(C._matrix,!0),k=C.getSize(),T=C.getImage();return w.x-=k.width/2,w.y-=k.height/2,w.width=k.width,w.height=k.height,w.href=x.embedImages==!1&&T&&T.src||C.toDataURL(),St.create("image",w,r)}function a(C,x){var w=x.matchShapes;if(w){var k=C.toShape(!1);if(k)return u(k)}var T=C._segments,M=T.length,N,L=e(C._matrix);if(w&&M>=2&&!C.hasHandles())if(M>2){N=C._closed?"polygon":"polyline";for(var O=[],D=0;D<M;D++)O.push(r.point(T[D]._point));L.points=O.join(" ")}else{N="line";var U=T[0]._point,R=T[1]._point;L.set({x1:U.x,y1:U.y,x2:R.x,y2:R.y})}else N="path",L.d=C.getPathData(null,x.precision);return St.create(N,L,r)}function u(C){var x=C._type,w=C._radius,k=e(C._matrix,!0,x!=="rectangle");if(x==="rectangle"){x="rect";var T=C._size,M=T.width,N=T.height;k.x-=M/2,k.y-=N/2,k.width=M,k.height=N,w.isZero()&&(w=null)}return w&&(x==="circle"?k.r=w:(k.rx=w.width,k.ry=w.height)),St.create(x,k,r)}function l(C,x){var w=e(C._matrix),k=C.getPathData(null,x.precision);return k&&(w.d=k),St.create("path",w,r)}function h(C,x){var w=e(C._matrix,!0),k=C._definition,T=v(k,"symbol"),M=k._item,N=M.getStrokeBounds();return T||(T=St.create("symbol",{viewBox:r.rectangle(N)}),T.appendChild(I(M,x)),S(k,T,"symbol")),w.href="#"+T.id,w.x+=N.x,w.y+=N.y,w.width=N.width,w.height=N.height,w.overflow="visible",St.create("use",w,r)}function f(C){var x=v(C,"color");if(!x){var w=C.getGradient(),k=w._radial,T=C.getOrigin(),M=C.getDestination(),N;if(k){N={cx:T.x,cy:T.y,r:T.getDistance(M)};var L=C.getHighlight();L&&(N.fx=L.x,N.fy=L.y)}else N={x1:T.x,y1:T.y,x2:M.x,y2:M.y};N.gradientUnits="userSpaceOnUse",x=St.create((k?"radial":"linear")+"Gradient",N,r);for(var O=w._stops,D=0,U=O.length;D<U;D++){var R=O[D],H=R._color,q=H.getAlpha(),W=R._offset;N={offset:W==null?D/(U-1):W},H&&(N["stop-color"]=H.toCSS(!0)),q<1&&(N["stop-opacity"]=q),x.appendChild(St.create("stop",N,r))}S(C,x,"color")}return"url(#"+x.id+")"}function d(C){var x=St.create("text",e(C._matrix,!0),r);return x.textContent=C._content,x}var g={Group:t,Layer:t,Raster:i,Path:a,Shape:u,CompoundPath:l,SymbolItem:h,PointText:d};function y(C,x,w){var k={},T=!w&&C.getParent(),M=[];return C._name!=null&&(k.id=C._name),_.each(Ct,function(N){var L=N.get,O=N.type,D=C[L]();if(N.exportFilter?N.exportFilter(C,D):!T||!_.equals(T[L](),D)){if(O==="color"&&D!=null){var U=D.getAlpha();U<1&&(k[N.attribute+"-opacity"]=U)}O==="style"?M.push(N.attribute+": "+D):k[N.attribute]=D==null?"none":O==="color"?D.gradient?f(D):D.toCSS(!0):O==="array"?D.join(","):O==="lookup"?N.toSVG[D]:D}}),M.length&&(k.style=M.join(";")),k.opacity===1&&delete k.opacity,C._visible||(k.visibility="hidden"),St.set(x,k,r)}var m;function v(C,x){return m||(m={ids:{},svgs:{}}),C&&m.svgs[x+"-"+(C._id||C.__id||(C.__id=ue.get("svg")))]}function S(C,x,w){m||v();var k=m.ids[w]=(m.ids[w]||0)+1;x.id=w+"-"+k,m.svgs[w+"-"+(C._id||C.__id)]=x}function E(C,x){var w=C,k=null;if(m){w=C.nodeName.toLowerCase()==="svg"&&C;for(var T in m.svgs)k||(w||(w=St.create("svg"),w.appendChild(C)),k=w.insertBefore(St.create("defs"),w.firstChild)),k.appendChild(m.svgs[T]);m=null}return x.asString?new s.XMLSerializer().serializeToString(w):w}function I(C,x,w){var k=g[C._class],T=k&&k(C,x);if(T){var M=x.onExport;M&&(T=M(C,T,x)||T);var N=JSON.stringify(C._data);N&&N!=="{}"&&N!=="null"&&T.setAttribute("data-paper-data",N)}return T&&y(C,T,w)}function P(C){return C||(C={}),r=new fe(C.precision),C}z.inject({exportSVG:function(C){return C=P(C),E(I(this,C,!0),C)}}),ye.inject({exportSVG:function(C){C=P(C);var x=this._children,w=this.getView(),k=_.pick(C.bounds,"view"),T=C.matrix||k==="view"&&w._matrix,M=T&&J.read([T]),N=k==="view"?new Z([0,0],w.getViewSize()):k==="content"?z._getBounds(x,M,{stroke:!0}).rect:Z.read([k],0,{readNull:!0}),L={version:"1.1",xmlns:St.svg,"xmlns:xlink":St.xlink};N&&(L.width=N.width,L.height=N.height,(N.x||N.x===0||N.y||N.y===0)&&(L.viewBox=r.rectangle(N)));var O=St.create("svg",L,r),D=O;M&&!M.isIdentity()&&(D=O.appendChild(St.create("g",e(M),r)));for(var U=0,R=x.length;U<R;U++)D.appendChild(I(x[U],C,!0));return E(O,C)}})},new function(){var r={},e;function t(x,w,k,T,M,N){var L=St.get(x,w)||N,O=L==null?T?null:k?"":0:k?L:parseFloat(L);return/%\s*$/.test(L)?O/100*(M?1:e[/x|^width/.test(w)?"width":"height"]):O}function i(x,w,k,T,M,N,L){return w=t(x,w||"x",!1,T,M,N),k=t(x,k||"y",!1,T,M,L),T&&(w==null||k==null)?null:new F(w,k)}function a(x,w,k,T,M){return w=t(x,w||"width",!1,T,M),k=t(x,k||"height",!1,T,M),T&&(w==null||k==null)?null:new te(w,k)}function u(x,w,k){return x==="none"?null:w==="number"?parseFloat(x):w==="array"?x?x.split(/[\s,]+/g).map(parseFloat):[]:w==="color"?I(x)||x:w==="lookup"?k[x]:x}function l(x,w,k,T){var M=x.childNodes,N=w==="clippath",L=w==="defs",O=new Pe,D=O._project,U=D._currentStyle,R=[];if(!N&&!L&&(O=E(O,x,T),D._currentStyle=O._style.clone()),T)for(var H=x.querySelectorAll("defs"),q=0,W=H.length;q<W;q++)P(H[q],k,!1);for(var q=0,W=M.length;q<W;q++){var G=M[q],Y;G.nodeType===1&&!/^defs$/i.test(G.nodeName)&&(Y=P(G,k,!1))&&!(Y instanceof Qe)&&R.push(Y)}return O.addChildren(R),N&&(O=E(O.reduce(),x,T)),D._currentStyle=U,(N||L)&&(O.remove(),O=null),O}function h(x,w){for(var k=x.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),T=[],M=0,N=k.length;M<N;M+=2)T.push(new F(parseFloat(k[M]),parseFloat(k[M+1])));var L=new be(T);return w==="polygon"&&L.closePath(),L}function f(x){return Le.create(x.getAttribute("d"))}function d(x,w){var k=(t(x,"href",!0)||"").substring(1),T=w==="radialgradient",M;if(k)M=r[k].getGradient(),M._radial^T&&(M=M.clone(),M._radial=T);else{for(var N=x.childNodes,L=[],O=0,D=N.length;O<D;O++){var U=N[O];U.nodeType===1&&L.push(E(new gn,U))}M=new Rt(L,T)}var R,H,q,W=t(x,"gradientUnits",!0)!=="userSpaceOnUse";T?(R=i(x,"cx","cy",!1,W,"50%","50%"),H=R.add(t(x,"r",!1,!1,W,"50%"),0),q=i(x,"fx","fy",!0,W)):(R=i(x,"x1","y1",!1,W,"0%","0%"),H=i(x,"x2","y2",!1,W,"100%","0%"));var G=E(new Ye(M,R,H,q),x);return G._scaleToBounds=W,null}var g={"#document":function(x,w,k,T){for(var M=x.childNodes,N=0,L=M.length;N<L;N++){var O=M[N];if(O.nodeType===1)return P(O,k,T)}},g:l,svg:l,clippath:l,polygon:h,polyline:h,path:f,lineargradient:d,radialgradient:d,image:function(x){var w=new De(t(x,"href",!0));return w.on("load",function(){var k=a(x);this.setSize(k);var T=i(x).add(k.divide(2));this._matrix.append(new J().translate(T))}),w},symbol:function(x,w,k,T){return new Qe(l(x,w,k,T),!0)},defs:l,use:function(x){var w=(t(x,"href",!0)||"").substring(1),k=r[w],T=i(x);return k?k instanceof Qe?k.place(T):k.clone().translate(T):null},circle:function(x){return new Fe.Circle(i(x,"cx","cy"),t(x,"r"))},ellipse:function(x){return new Fe.Ellipse({center:i(x,"cx","cy"),radius:a(x,"rx","ry")})},rect:function(x){return new Fe.Rectangle(new Z(i(x),a(x)),a(x,"rx","ry"))},line:function(x){return new be.Line(i(x,"x1","y1"),i(x,"x2","y2"))},text:function(x){var w=new Wt(i(x).add(i(x,"dx","dy")));return w.setContent(x.textContent.trim()||""),w},switch:l};function y(x,w,k,T){if(x.transform){for(var M=(T.getAttribute(k)||"").split(/\)\s*/g),N=new J,L=0,O=M.length;L<O;L++){var D=M[L];if(!D)break;for(var U=D.split(/\(\s*/),R=U[0],H=U[1].split(/[\s,]+/g),q=0,W=H.length;q<W;q++)H[q]=parseFloat(H[q]);switch(R){case"matrix":N.append(new J(H[0],H[1],H[2],H[3],H[4],H[5]));break;case"rotate":N.rotate(H[0],H[1]||0,H[2]||0);break;case"translate":N.translate(H[0],H[1]||0);break;case"scale":N.scale(H);break;case"skewX":N.skew(H[0],0);break;case"skewY":N.skew(0,H[0]);break}}x.transform(N)}}function m(x,w,k){var T=k==="fill-opacity"?"getFillColor":"getStrokeColor",M=x[T]&&x[T]();M&&M.setAlpha(parseFloat(w))}var v=_.set(_.each(Ct,function(x){this[x.attribute]=function(w,k){if(w[x.set]&&(w[x.set](u(k,x.type,x.fromSVG)),x.type==="color")){var T=w[x.get]();if(T&&T._scaleToBounds){var M=w.getBounds();T.transform(new J().translate(M.getPoint()).scale(M.getSize()))}}}},{}),{id:function(x,w){r[w]=x,x.setName&&x.setName(w)},"clip-path":function(x,w){var k=I(w);if(k)if(k=k.clone(),k.setClipMask(!0),x instanceof Pe)x.insertChild(0,k);else return new Pe(k,x)},gradientTransform:y,transform:y,"fill-opacity":m,"stroke-opacity":m,visibility:function(x,w){x.setVisible&&x.setVisible(w==="visible")},display:function(x,w){x.setVisible&&x.setVisible(w!==null)},"stop-color":function(x,w){x.setColor&&x.setColor(w)},"stop-opacity":function(x,w){x._color&&x._color.setAlpha(parseFloat(w))},offset:function(x,w){if(x.setOffset){var k=w.match(/(.*)%$/);x.setOffset(k?k[1]/100:parseFloat(w))}},viewBox:function(x,w,k,T,M){var N=new Z(u(w,"array")),L=a(T,null,null,!0),O,D;if(x instanceof Pe){var U=L?L.divide(N.getSize()):1,D=new J().scale(U).translate(N.getPoint().negate());O=x}else x instanceof Qe&&(L&&N.setSize(L),O=x._item);if(O){if(S(T,"overflow",M)!=="visible"){var R=new Fe.Rectangle(N);R.setClipMask(!0),O.addChild(R)}D&&O.transform(D)}}});function S(x,w,k){var T=x.attributes[w],M=T&&T.value;if(!M&&x.style){var N=_.camelize(w);M=x.style[N],!M&&k.node[N]!==k.parent[N]&&(M=k.node[N])}return M?M==="none"?null:M:o}function E(x,w,k){var T=w.parentNode,M={node:We.getStyles(w)||{},parent:!k&&!/^defs$/i.test(T.tagName)&&We.getStyles(T)||{}};return _.each(v,function(N,L){var O=S(w,L,M);x=O!==o&&N(x,O,L,w,M)||x}),x}function I(x){var w=x&&x.match(/\((?:["'#]*)([^"')]+)/),k=w&&w[1],T=k&&r[p?k.replace(p.location.href.split("#")[0]+"#",""):k];return T&&T._scaleToBounds&&(T=T.clone(),T._scaleToBounds=!0),T}function P(x,w,k){var T=x.nodeName.toLowerCase(),M=T!=="#document",N=b.body,L,O,D;k&&M&&(e=tt.getView().getSize(),e=a(x,null,null,!0)||e,L=St.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),O=x.parentNode,D=x.nextSibling,L.appendChild(x),N.appendChild(L));var U=tt.settings,R=U.applyMatrix,H=U.insertItems;U.applyMatrix=!1,U.insertItems=!1;var q=g[T],W=q&&q(x,T,w,k)||null;if(U.insertItems=H,U.applyMatrix=R,W){M&&!(W instanceof Pe)&&(W=E(W,x,k));var G=w.onImport,Y=M&&x.getAttribute("data-paper-data");G&&(W=G(x,W,w)||W),w.expandShapes&&W instanceof Fe&&(W.remove(),W=W.toPath()),Y&&(W._data=JSON.parse(Y))}return L&&(N.removeChild(L),O&&(D?O.insertBefore(x,D):O.appendChild(x))),k&&(r={},W&&_.pick(w.applyMatrix,R)&&W.matrix.apply(!0,!0)),W}function C(x,w,k){if(!x)return null;w=typeof w=="function"?{onLoad:w}:w||{};var T=tt,M=null;function N(U){try{var R=typeof U=="object"?U:new s.DOMParser().parseFromString(U.trim(),"image/svg+xml");if(!R.nodeName)throw R=null,new Error("Unsupported SVG source: "+x);tt=T,M=P(R,w,!0),(!w||w.insert!==!1)&&k._insertItem(o,M);var H=w.onLoad;H&&H(M,U)}catch(q){L(q)}}function L(U,R){var H=w.onError;if(H)H(U,R);else throw new Error(U)}if(typeof x=="string"&&!/^[\s\S]*</.test(x)){var O=b.getElementById(x);O?N(O):ci.request({url:x,async:!0,onLoad:N,onError:L})}else if(typeof File!="undefined"&&x instanceof File){var D=new FileReader;return D.onload=function(){N(D.result)},D.onerror=function(){L(D.error)},D.readAsText(x)}else N(x);return M}z.inject({importSVG:function(x,w){return C(x,w,this)}}),ye.inject({importSVG:function(x,w){return this.activate(),C(x,w,this)}})};var tt=new(Q.inject(_.exports,{Base:_,Numerical:re,Key:fi,DomEvent:et,DomElement:We,document:b,window:p,Symbol:Qe,PlacedSymbol:it}));return tt.agent.node&&Ca(tt),typeof o=="function"&&o.amd?o("paper",tt):n&&(n.exports=tt),tt}).call(Ho,typeof self=="object"?self:null)})(Zo);function Li(n,s,o,p,b=0,_=0,V,Q){var K;if((K=n==null?void 0:n.Extent)!=null&&K.length){const ne=n.Extent[0].Max[0].x.valueAsNumber,fe=n.Extent[0].Min[0].x.valueAsNumber,re=(ne-fe)*s<1?1:(ne-fe)*s,ue=n.Extent[0].Max[0].y.valueAsNumber,F=n.Extent[0].Min[0].y.valueAsNumber,me=(ue-F)*s<1?1:(ue-F)*s,te=b*s+fe*s,Te=p*s-(ue+_)*s;if(V){const Z=lt().Shape,ee=lt().Size,J=lt().Color,de=new ee(re,me),ye=new Z.Rectangle(new Zo.exports.Point(te,Te),de);ye.fillColor=new J(Q),ye.onClick=()=>{console.log(n)},ye.bringToFront()}return[te,Te,re,me]}else return[0,0,0,0]}function Bp(n,s,o,p,b=0,_=0,V,Q){var F,me,te;const K=lt().Point,ne=lt().Path,fe=lt().Color,re=[];if(!Array.isArray(n.Coordinate)||n.Coordinate.length===0){((F=n.numPoints)==null?void 0:F.valueAsNumber)!==0&&console.warn("line element without coordinate");return}n.Coordinate.forEach(Te=>{const Z=Te.x.valueAsNumber+b,ee=Te.y.valueAsNumber+_,J=new K(Z*s,p*s-ee*s);re.push(J)});const ue=new ne(re);switch(ue.strokeColor=new fe({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),(me=n.Presentation[0].lineType)==null?void 0:me.valueAsString){case"0":break;case"Solid":break;case"1":ue.dashArray=[.3,.3];case"Dotted":ue.dashArray=[.3,.3];break;case"2":ue.dashArray=[2,.5];case"Dashed":ue.dashArray=[2,.5];break;case"3":ue.dashArray=[4,.5];case"Long Dash":ue.dashArray=[4,.5];break;case"4":ue.dashArray=[4,.5,1,.5];break;case"Long Dash + Short Dash, CenterLine":ue.dashArray=[15,1,.5,1,.5,1];break;case"5":ue.dashArray=[1,.5];break;case"Short Dash":ue.dashArray=[1,.5];break;case"6":ue.dashArray=[4,.5,1,.5,1,.5];break;case"Long Dash + Short Dash + Short Dash":ue.dashArray=[4,1,1,1,1,1];break;case"7":ue.dashArray=[2,.5,1,.5];break;case"Dash + Short Dash":ue.dashArray=[2,.5,1,.5];break;default:((te=n.Presentation[0].lineType)==null?void 0:te.valueAsString)!==void 0&&console.error("unknown linetype",n)}ue.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,V?V.addChild(ue):ue.onClick=function(){console.log(n)},Li(n,s,o,p,b,_,Ni.line,Mi.line)}function Vp(n,s,o,p,b=0,_=0,V,Q){const K=lt().Point,ne=lt().Path,fe=lt().Color,re=[];n.Coordinate.forEach(F=>{const me=F.x.valueAsNumber+b,te=F.y.valueAsNumber+_,Te=new K(me*s,p*s-te*s);re.push(Te)});const ue=new ne(re);V?V.addChild(ue):ue.onClick=function(){console.log(n)},ue.strokeColor=new fe({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),ue.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,n.filled&&(ue.fillColor=new fe({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value})),Li(n,s,o,p,b,_,Ni.shape,Mi.shape)}function Up(n,s,o,p,b=0,_=0,V,Q){var te;const K=lt().Point,ne=lt().Path,fe=lt().Color,re=n.Position[0].Location[0].x.valueAsNumber+b,ue=n.Position[0].Location[0].y.valueAsNumber+_,F=new K(re*s,p*s-ue*s),me=new ne.Circle(F,n.radius.valueAsNumber*s);V?V.addChild(me):me.onClick=function(){console.log(n)},me.strokeColor=new fe({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),me.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(te=n.filled)!=null&&te.value&&(me.fillColor=new fe("black")),Li(n,s,o,p,b,_,Ni.circle,Mi.circleArc)}function Hp(n,s,o,p,b=0,_=0,V,Q){var Fe,De,it,Qe,at,Ce,xt,le,_t,Le,be,Ue,ut,vt,Dt;const K=lt().PointText,ne=lt().Point,fe=lt().Color,re=lt().Shape,ue=lt().Size;if(!((Fe=n.Position[0])!=null&&Fe.Location)){console.warn("unexpected missing location element on text, skipping text",(De=n==null?void 0:n.string)==null?void 0:De.valueAsString,n);return}if(!((it=n.Extent[0])!=null&&it.Max)){console.warn("unexpected missing Extent element on text, skipping text",(Qe=n==null?void 0:n.string)==null?void 0:Qe.valueAsString,n);return}if(!n.Presentation[0]){console.warn("unexpected missing Presentation element on text, skipping text",(at=n==null?void 0:n.string)==null?void 0:at.valueAsString,n);return}if((Ce=n.Presentation[0].layer)!=null&&Ce.valueAsString.toUpperCase().includes("HIDDEN"))return;const[F,me,te,Te]=Li(n,s,o,p,b,_,Ni.text,Mi.text),Z=(n.Position[0].Location[0].x.valueAsNumber+b)*s,ee=p*s-(n.Position[0].Location[0].y.valueAsNumber+_)*s,J=new ne(Z,ee),de=new ue(te,Te),ye=new re.Rectangle(new ne(F,me),de),z=new K(new ne(Z,ee));if(z.content=(xt=n.string)==null?void 0:xt.valueAsString,z.content==="undefined"&&n.attributes.DependantAttribute&&n.attributes.ItemID){const Wt=Ap(n.attributes.ItemID);Wt&&Wt.GenericAttributes.forEach(Ye=>{Ye.GenericAttribute.forEach(Rt=>{`[${Rt.attributes.Name}]`===n.attributes.DependantAttribute&&(z.content=Rt.attributes.Value)})}),z.content==="undefined"&&console.warn("dependable attribute:",n.attributes.DependantAttribute,"not found in ",n)}z.fontSize=n.height.valueAsNumber*s,z.fontFamily=n.font.valueAsString,((le=n.textAngle)==null?void 0:le.valueAsNumber)>0&&z.rotate(-n.textAngle.valueAsNumber,new ne(Z,ee)),((_t=n.slantAngle)==null?void 0:_t.valueAsNumber)>0&&console.warn("Text slantAngle not implemented",n);const Pe=(Ue=(be=(Le=n.Position[0])==null?void 0:Le.Reference[0])==null?void 0:be.x)==null?void 0:Ue.valueAsNumber;Pe&&Pe!==1&&z.rotate(-(Pe/(Math.PI/180))*Math.PI,J);const Oe=(Dt=(vt=(ut=n.Position[0])==null?void 0:ut.Reference[0])==null?void 0:vt.y)==null?void 0:Dt.valueAsNumber;Oe&&Oe!==0&&z.rotate(-(Oe/(Math.PI/90))*Math.PI,J),z.bounds.y=ye.bounds.y,z.bounds.x=ye.bounds.x,z.fitBounds(ye.bounds),z.fillColor=new fe({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),V?V.addChild(z):z.onClick=function(){console.log(n)}}function qp(n,s,o,p,b=0,_=0,V,Q){bf(n).forEach(ne=>{var fe,re,ue,F;if(ne.element.tagName==="Circle"){const me=lt().Point,te=lt().Path,Te=lt().Color,Z=ne,ee=Z.Position[0].Location[0].x.valueAsNumber+b,J=Z.Position[0].Location[0].y.valueAsNumber+_,de=Z.Position[0].Reference[0].x.valueAsNumber,ye=Z.Position[0].Reference[0].y.valueAsNumber,z=Z.Position[0].Axis[0].y.valueAsNumber===-1,Pe=new me(ee*s,p*s-J*s),Oe=Z.radius.valueAsNumber*s,Fe=-((fe=n.startAngle)==null?void 0:fe.valueAsNumber)||0,De=-((re=n.endAngle)==null?void 0:re.valueAsNumber)||0,it=new me(Oe,0);it.angle=Fe;const Qe=new me(Oe,0);Qe.angle=De;const at=new me(Oe,0),Ce=De-Fe;at.angle=Fe+Ce/2;const xt=new te.Arc(it,at,Qe);xt.strokeColor=new Te({red:Z.Presentation[0].r.value,green:Z.Presentation[0].g.value,blue:Z.Presentation[0].b.value}),xt.strokeWidth=Z.Presentation[0].lineWeight.valueAsNumber*s,xt.translate(Pe),de<0&&xt.rotate(de/(Math.PI/180)*Math.PI,Pe),ye&&ye!==0&&xt.rotate(-(ye/(Math.PI/90))*Math.PI,Pe),z&&console.log("not implented flipY",n,de,ye,z),V?V.addChild(xt):xt.onClick=function(){console.log(n)},Li(Z,s,o,p,b,_,Ni.circleArc,Mi.circleArc)}if(ne.element.tagName==="Ellipse"){const me=lt().Point,te=lt().Path,Te=lt().Color,Z=ne,ee=Z.Position[0].Location[0].x.valueAsNumber+b,J=Z.Position[0].Location[0].y.valueAsNumber+_,de=Z.Position[0].Reference[0].x.valueAsNumber,ye=Z.Position[0].Reference[0].y.valueAsNumber,z=new me(ee*s,p*s-J*s),Pe=Z.primaryAxis.valueAsNumber*s,Oe=-((ue=n.startAngle)==null?void 0:ue.valueAsNumber)||0,Fe=-((F=n.endAngle)==null?void 0:F.valueAsNumber)||0,De=new me(Pe,0);De.angle=Oe;const it=new me(Pe,0);it.angle=Fe;const Qe=new me(Pe,0),at=Fe-Oe;Qe.angle=Oe+at/2;const Ce=new te.Arc(De,Qe,it);Ce.strokeColor=new Te({red:Z.Presentation[0].r.value,green:Z.Presentation[0].g.value,blue:Z.Presentation[0].b.value}),Ce.strokeWidth=Z.Presentation[0].lineWeight.valueAsNumber*s,Ce.translate(z),Ce.scale(1,Z.secondaryAxis.valueAsNumber*s/Pe,z),de<0&&Ce.rotate(de/(Math.PI/180)*Math.PI,z),ye&&ye!==0&&Ce.rotate(-(ye/(Math.PI/90))*Math.PI,z);const xt=Z.Position[0].Axis[0].z.valueAsNumber===-1;xt&&console.log("not implented flipY",n,de,ye,xt),V?V.addChild(Ce):Ce.onClick=function(){console.log(n)},Li(Z,s,o,p,b,_,Ni.ellipseArc,Mi.ellipseArc)}})}function jp(n,s,o,p,b=0,_=0,V,Q){var ye,z,Pe,Oe,Fe,De,it;const K=lt().Point,ne=lt().Path,fe=lt().Color,re=lt().Size,ue=lt().Rectangle,F=n.Position[0].Location[0].x.valueAsNumber+b,me=n.Position[0].Location[0].y.valueAsNumber+_,te=new K(F*s,p*s-me*s),Te=new ue(te,new re(n.primaryAxis.valueAsNumber*s,n.secondaryAxis.valueAsNumber*s)),Z=new ne.Ellipse(Te),ee=(Pe=(z=(ye=n.Position[0])==null?void 0:ye.Reference[0])==null?void 0:z.x)==null?void 0:Pe.valueAsNumber;ee&&ee!==1&&Z.rotate(-(ee/(Math.PI/180))*Math.PI,te);const J=(De=(Fe=(Oe=n.Position[0])==null?void 0:Oe.Reference[0])==null?void 0:Fe.y)==null?void 0:De.valueAsNumber;J&&J!==0&&Z.rotate(-(J/(Math.PI/90))*Math.PI,te);const de=n.Position[0].Axis[0].z.valueAsNumber===-1;de&&console.log("not implented flipY",n,ee,J,de),V?V.addChild(Z):Z.onClick=function(){console.log(n)},Z.strokeColor=new fe({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),Z.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(it=n.filled)!=null&&it.value&&(Z.fillColor=new fe("black")),Li(n,s,o,p,b,_,Ni.circle,Mi.circleArc)}class Qo{constructor(s,o,p){var _,V,Q;this.element=s,this.isShapeCatalogChild=o,this.parent=p,this.isChild=!0,this.attributes={},this.GenericAttributes=[],this.GenericAttribute=[],this.Position=[],this.Extent=[],this.Presentation=[],this.Scale=[],this.elementTagName=this.element.tagName,this.elementTagName==="ShapeCatalogue"&&(this.isShapeCatalogChild=!0);for(let K=0;K<this.element.children.length;K++){const ne=this.element.children[K],fe=ne.tagName,re=this;re[fe]||(re[fe]=[]);const ue=new Qo(ne,this.isShapeCatalogChild,this);re[fe].push(ue)}s.getAttributeNames().forEach(K=>{const ne=this,fe=K[0].toLowerCase()+K.substring(1,K.length);ne[fe]=new Np(s,K,this)}),this.GenericAttributes&&(this.genericAttributes={},this.GenericAttributes.forEach(K=>{K.GenericAttribute.forEach(ne=>{this.genericAttributes[ne.attributes.Name]=ne.attributes.Value})})),this.elementTagName!=="ShapeCatalogue"&&this.isShapeCatalogChild&&(_=this.componentName)!=null&&_.value&&Mp((V=this.componentName)==null?void 0:V.value,this),(Q=this.iD)!=null&&Q.valueAsString&&Tp(this.iD.valueAsString,this)}draw(s,o,p,b=0,_=0,V,Q){var ne,fe,re,ue,F,me,te,Te,Z,ee,J;if(this.elementTagName==="ShapeCatalogue")return;if(this.elementTagName==="TrimmedCurve"){qp(this,s,o,p,b,_,V);return}if(bf(this).forEach(de=>{de.draw(s,o,p,b,_,V,this)}),((ne=this.componentName)==null?void 0:ne.value)&&((fe=this.Position)==null?void 0:fe.length)){const de=Lp(this.componentName.value);if(de&&de!==this){const ye=lt().Group,z=new ye;this.shapeCatalogItem=de;const Pe=this;z.onClick=function(){console.log(Pe)};const Oe=this.Position[0].Location[0].x.valueAsNumber+b,Fe=this.Position[0].Location[0].y.valueAsNumber+_,De=new Zo.exports.Point(Oe*s,p*s-Fe*s);if(typeof de.draw=="function"&&de.draw(s,o,p,Oe+b,Fe+_,z),this.Scale.length){const Ce=parseFloat(this.Scale[0].attributes.X),xt=parseFloat(this.Scale[0].attributes.Y);(Ce!==1||xt!==1)&&z.scale(Ce,xt,De)}const it=(F=(ue=(re=this.Position[0])==null?void 0:re.Reference[0])==null?void 0:ue.x)==null?void 0:F.valueAsNumber;it&&it!==1&&z.rotate(-(it/(Math.PI/180))*Math.PI,De);const Qe=(Te=(te=(me=this.Position[0])==null?void 0:me.Reference[0])==null?void 0:te.y)==null?void 0:Te.valueAsNumber;Qe&&Qe!==0&&z.rotate(-(Qe/(Math.PI/90))*Math.PI,De),((J=(ee=(Z=this.Position[0])==null?void 0:Z.Axis[0])==null?void 0:ee.z)==null?void 0:J.valueAsNumber)===-1&&z.scale(1,-1,De),Li(this,s,o,p,b,_,Ni.component,Mi.component)}}(this.elementTagName==="Line"||this.elementTagName==="PolyLine"||this.elementTagName==="CenterLine")&&Bp(this,s,o,p,b,_,V),this.elementTagName==="BsplineCurve"&&console.warn("BsplineCurve not implemented",this),this.elementTagName==="CompositeCurve"&&console.warn("CompositeCurve not implemented",this),this.elementTagName==="Circle"&&Up(this,s,o,p,b,_,V),this.elementTagName==="Ellipse"&&jp(this,s,o,p,b,_,V),this.elementTagName==="Shape"&&Vp(this,s,o,p,b,_,V),this.elementTagName==="Text"&&Hp(this,s,o,p,b,_,V)}}class Wp{constructor(s,o){this.root=!0,this.xml=new window.DOMParser().parseFromString(s,"text/xml"),this.canvas=document.getElementById(o),Ep(),Dp(o);const p=this.xml.getElementsByTagName("PlantModel")[0];if(!p){alert("missing plantmodel");return}this.PlantModel=new Qo(p,!1)}draw(){var K,ne,fe,re,ue,F,me;lt().project.activeLayer.removeChildren(),lt().view.requestUpdate();const s=["Metre","mm","Millimetre"],o=this.PlantModel.PlantInformation[0].units.value;s.includes(o)||console.warn("I need to add more here",this.PlantModel.PlantInformation[0].units.value);let p=1;switch(!0){case o==="Metre":p=1e3;break}if(!Array.isArray(this.PlantModel.Drawing)||this.PlantModel.Drawing[0].length===0){const te=(ne=(K=this.PlantModel.Extent[0])==null?void 0:K.Max[0])==null?void 0:ne.x.valueAsNumber,Te=(re=(fe=this.PlantModel.Extent[0])==null?void 0:fe.Max[0])==null?void 0:re.y.valueAsNumber;p===1?(console.warn(`No drawing element, using x:${te|841}, y:${Te|594}`,this.PlantModel),this.PlantModel.draw(p,te||841,Te||594,0,0)):(console.warn(`No drawing element, using x:${te|.841}, y:${Te|.594}`,this.PlantModel),this.PlantModel.draw(p,te||.841,Te||.594,0,0));return}const b=(ue=this.PlantModel.Drawing[0])==null?void 0:ue.Presentation[0];(F=b==null?void 0:b.attributes)!=null&&F.Color&&(this.canvas.style.backgroundColor=(me=b==null?void 0:b.attributes)==null?void 0:me.Color);const _=this.PlantModel.Drawing[0].Extent[0].Max[0].x.valueAsNumber,V=this.PlantModel.Drawing[0].Extent[0].Max[0].y.valueAsNumber;this.PlantModel.draw(p,_,V,0,0);const Q=lt().Point;lt().project.activeLayer.scale(2,new Q(lt().view.bounds.x,lt().view.bounds.y)),lt().view.requestUpdate()}}var Ko={exports:{}},Ka={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=Qa.exports,Zp=Symbol.for("react.element"),Qp=Symbol.for("react.fragment"),Kp=Object.prototype.hasOwnProperty,Xp=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yp={key:!0,ref:!0,__self:!0,__source:!0};function If(n,s,o){var p,b={},_=null,V=null;o!==void 0&&(_=""+o),s.key!==void 0&&(_=""+s.key),s.ref!==void 0&&(V=s.ref);for(p in s)Kp.call(s,p)&&!Yp.hasOwnProperty(p)&&(b[p]=s[p]);if(n&&n.defaultProps)for(p in s=n.defaultProps,s)b[p]===void 0&&(b[p]=s[p]);return{$$typeof:Zp,type:n,key:_,ref:V,props:b,_owner:Xp.current}}Ka.Fragment=Qp;Ka.jsx=If;Ka.jsxs=If;(function(n){n.exports=Ka})(Ko);const dr=Ko.exports.jsx,oh=Ko.exports.jsxs;function Jp(){return Qa.exports.useEffect(()=>{},[]),oh("div",{className:"m-2",children:[dr("input",{className:"",type:"file",onChange:n=>{const s=new FileReader;s.onload=()=>{new Wp(s.result,"pidCanvas").draw()},s.onerror=()=>{},n!=null&&n.target.files&&s.readAsText(n.target.files[0])}}),oh("div",{className:"",children:["Version: ","1.2.11"]}),dr("div",{className:"text-indigo-600",children:dr("a",{href:"https://github.com/vegarringdal/ProteusXMLDrawing",children:"Github Repo link"})}),dr("div",{className:"italic",children:"Check console.log for errors/info (F12) in Chrome/Edge if you do not get expected result"}),dr("div",{className:"italic",children:"Use mousebuttons to pan and mousewheel to zoom"})]})}var Ef={exports:{}},Pn={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function s(Le,be){var Ue=Le.length;Le.push(be);e:for(;0<Ue;){var ut=Ue-1>>>1,vt=Le[ut];if(0<b(vt,be))Le[ut]=be,Le[Ue]=vt,Ue=ut;else break e}}function o(Le){return Le.length===0?null:Le[0]}function p(Le){if(Le.length===0)return null;var be=Le[0],Ue=Le.pop();if(Ue!==be){Le[0]=Ue;e:for(var ut=0,vt=Le.length,Dt=vt>>>1;ut<Dt;){var Wt=2*(ut+1)-1,Ye=Le[Wt],Rt=Wt+1,gn=Le[Rt];if(0>b(Ye,Ue))Rt<vt&&0>b(gn,Ye)?(Le[ut]=gn,Le[Rt]=Ue,ut=Rt):(Le[ut]=Ye,Le[Wt]=Ue,ut=Wt);else if(Rt<vt&&0>b(gn,Ue))Le[ut]=gn,Le[Rt]=Ue,ut=Rt;else break e}}return be}function b(Le,be){var Ue=Le.sortIndex-be.sortIndex;return Ue!==0?Ue:Le.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;n.unstable_now=function(){return _.now()}}else{var V=Date,Q=V.now();n.unstable_now=function(){return V.now()-Q}}var K=[],ne=[],fe=1,re=null,ue=3,F=!1,me=!1,te=!1,Te=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(Le){for(var be=o(ne);be!==null;){if(be.callback===null)p(ne);else if(be.startTime<=Le)p(ne),be.sortIndex=be.expirationTime,s(K,be);else break;be=o(ne)}}function de(Le){if(te=!1,J(Le),!me)if(o(K)!==null)me=!0,le(ye);else{var be=o(ne);be!==null&&_t(de,be.startTime-Le)}}function ye(Le,be){me=!1,te&&(te=!1,Z(Oe),Oe=-1),F=!0;var Ue=ue;try{for(J(be),re=o(K);re!==null&&(!(re.expirationTime>be)||Le&&!it());){var ut=re.callback;if(typeof ut=="function"){re.callback=null,ue=re.priorityLevel;var vt=ut(re.expirationTime<=be);be=n.unstable_now(),typeof vt=="function"?re.callback=vt:re===o(K)&&p(K),J(be)}else p(K);re=o(K)}if(re!==null)var Dt=!0;else{var Wt=o(ne);Wt!==null&&_t(de,Wt.startTime-be),Dt=!1}return Dt}finally{re=null,ue=Ue,F=!1}}var z=!1,Pe=null,Oe=-1,Fe=5,De=-1;function it(){return!(n.unstable_now()-De<Fe)}function Qe(){if(Pe!==null){var Le=n.unstable_now();De=Le;var be=!0;try{be=Pe(!0,Le)}finally{be?at():(z=!1,Pe=null)}}else z=!1}var at;if(typeof ee=="function")at=function(){ee(Qe)};else if(typeof MessageChannel!="undefined"){var Ce=new MessageChannel,xt=Ce.port2;Ce.port1.onmessage=Qe,at=function(){xt.postMessage(null)}}else at=function(){Te(Qe,0)};function le(Le){Pe=Le,z||(z=!0,at())}function _t(Le,be){Oe=Te(function(){Le(n.unstable_now())},be)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Le){Le.callback=null},n.unstable_continueExecution=function(){me||F||(me=!0,le(ye))},n.unstable_forceFrameRate=function(Le){0>Le||125<Le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<Le?Math.floor(1e3/Le):5},n.unstable_getCurrentPriorityLevel=function(){return ue},n.unstable_getFirstCallbackNode=function(){return o(K)},n.unstable_next=function(Le){switch(ue){case 1:case 2:case 3:var be=3;break;default:be=ue}var Ue=ue;ue=be;try{return Le()}finally{ue=Ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Le,be){switch(Le){case 1:case 2:case 3:case 4:case 5:break;default:Le=3}var Ue=ue;ue=Le;try{return be()}finally{ue=Ue}},n.unstable_scheduleCallback=function(Le,be,Ue){var ut=n.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?ut+Ue:ut):Ue=ut,Le){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=Ue+vt,Le={id:fe++,callback:be,priorityLevel:Le,startTime:Ue,expirationTime:vt,sortIndex:-1},Ue>ut?(Le.sortIndex=Ue,s(ne,Le),o(K)===null&&Le===o(ne)&&(te?(Z(Oe),Oe=-1):te=!0,_t(de,Ue-ut))):(Le.sortIndex=vt,s(K,Le),me||F||(me=!0,le(ye))),Le},n.unstable_shouldYield=it,n.unstable_wrapCallback=function(Le){var be=ue;return function(){var Ue=ue;ue=be;try{return Le.apply(this,arguments)}finally{ue=Ue}}}})(Af);(function(n){n.exports=Af})(Tf);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=Qa.exports,kn=Tf.exports;function Ae(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,_s={};function sr(n,s){Mr(n,s),Mr(n+"Capture",s)}function Mr(n,s){for(_s[n]=s,n=0;n<s.length;n++)Mf.add(s[n])}var ai=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ku=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lh={},hh={};function e0(n){return Ku.call(hh,n)?!0:Ku.call(lh,n)?!1:$p.test(n)?hh[n]=!0:(lh[n]=!0,!1)}function t0(n,s,o,p){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function n0(n,s,o,p){if(s===null||typeof s=="undefined"||t0(n,s,o,p))return!0;if(p)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function pn(n,s,o,p,b,_,V){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=b,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=V}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){rn[n]=new pn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];rn[s]=new pn(s,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){rn[n]=new pn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){rn[n]=new pn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){rn[n]=new pn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){rn[n]=new pn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){rn[n]=new pn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){rn[n]=new pn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){rn[n]=new pn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Xo=/[\-:]([a-z])/g;function Yo(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(Xo,Yo);rn[s]=new pn(s,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(Xo,Yo);rn[s]=new pn(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(Xo,Yo);rn[s]=new pn(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){rn[n]=new pn(n,1,!1,n.toLowerCase(),null,!1,!1)});rn.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){rn[n]=new pn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Jo(n,s,o,p){var b=rn.hasOwnProperty(s)?rn[s]:null;(b!==null?b.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(n0(s,o,b,p)&&(o=null),p||b===null?e0(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):b.mustUseProperty?n[b.propertyName]=o===null?b.type===3?!1:"":o:(s=b.attributeName,p=b.attributeNamespace,o===null?n.removeAttribute(s):(b=b.type,o=b===3||b===4&&o===!0?"":""+o,p?n.setAttributeNS(p,s,o):n.setAttribute(s,o))))}var hi=Nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),pr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),$o=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Of=Symbol.for("react.context"),el=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Ju=Symbol.for("react.suspense_list"),tl=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),zf=Symbol.for("react.offscreen"),fh=Symbol.iterator;function Zr(n){return n===null||typeof n!="object"?null:(n=fh&&n[fh]||n["@@iterator"],typeof n=="function"?n:null)}var zt=Object.assign,bu;function ns(n){if(bu===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);bu=s&&s[1]||""}return`
`+bu+n}var ku=!1;function Pu(n,s){if(!n||ku)return"";ku=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ne){var p=ne}Reflect.construct(n,[],s)}else{try{s.call()}catch(ne){p=ne}n.call(s.prototype)}else{try{throw Error()}catch(ne){p=ne}n()}}catch(ne){if(ne&&p&&typeof ne.stack=="string"){for(var b=ne.stack.split(`
`),_=p.stack.split(`
`),V=b.length-1,Q=_.length-1;1<=V&&0<=Q&&b[V]!==_[Q];)Q--;for(;1<=V&&0<=Q;V--,Q--)if(b[V]!==_[Q]){if(V!==1||Q!==1)do if(V--,Q--,0>Q||b[V]!==_[Q]){var K=`
`+b[V].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=V&&0<=Q);break}}}finally{ku=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?ns(n):""}function i0(n){switch(n.tag){case 5:return ns(n.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return n=Pu(n.type,!1),n;case 11:return n=Pu(n.type.render,!1),n;case 1:return n=Pu(n.type,!0),n;default:return""}}function $u(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case gr:return"Fragment";case pr:return"Portal";case Xu:return"Profiler";case $o:return"StrictMode";case Yu:return"Suspense";case Ju:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Of:return(n.displayName||"Context")+".Consumer";case Lf:return(n._context.displayName||"Context")+".Provider";case el:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tl:return s=n.displayName||null,s!==null?s:$u(n.type)||"Memo";case vi:s=n._payload,n=n._init;try{return $u(n(s))}catch(o){}}return null}function r0(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $u(s);case 8:return s===$o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function s0(n){var s=Rf(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),p=""+n[s];if(!n.hasOwnProperty(s)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var b=o.get,_=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return b.call(this)},set:function(V){p=""+V,_.call(this,V)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Xs(n){n._valueTracker||(n._valueTracker=s0(n))}function Ff(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),p="";return n&&(p=Rf(n)?n.checked?"true":"false":n.value),n=p,n!==o?(s.setValue(n),!0):!1}function ba(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(s){return n.body}}function eo(n,s){var o=s.checked;return zt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:n._wrapperState.initialChecked})}function ch(n,s){var o=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;o=Oi(s.value!=null?s.value:o),n._wrapperState={initialChecked:p,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Df(n,s){s=s.checked,s!=null&&Jo(n,"checked",s,!1)}function to(n,s){Df(n,s);var o=Oi(s.value),p=s.type;if(o!=null)p==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?no(n,s.type,o):s.hasOwnProperty("defaultValue")&&no(n,s.type,Oi(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function dh(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function no(n,s,o){(s!=="number"||ba(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var is=Array.isArray;function Pr(n,s,o,p){if(n=n.options,s){s={};for(var b=0;b<o.length;b++)s["$"+o[b]]=!0;for(o=0;o<n.length;o++)b=s.hasOwnProperty("$"+n[o].value),n[o].selected!==b&&(n[o].selected=b),b&&p&&(n[o].defaultSelected=!0)}else{for(o=""+Oi(o),s=null,b=0;b<n.length;b++){if(n[b].value===o){n[b].selected=!0,p&&(n[b].defaultSelected=!0);return}s!==null||n[b].disabled||(s=n[b])}s!==null&&(s.selected=!0)}}function io(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return zt({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ph(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(Ae(92));if(is(o)){if(1<o.length)throw Error(Ae(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:Oi(o)}}function Bf(n,s){var o=Oi(s.value),p=Oi(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),p!=null&&(n.defaultValue=""+p)}function gh(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Vf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ro(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Vf(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ys,Uf=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,o,p,b){MSApp.execUnsafeLocalFunction(function(){return n(s,o,p,b)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ys.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function vs(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(n){a0.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),us[s]=us[n]})});function Hf(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||us.hasOwnProperty(n)&&us[n]?(""+s).trim():s+"px"}function qf(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var p=o.indexOf("--")===0,b=Hf(o,s[o],p);o==="float"&&(o="cssFloat"),p?n.setProperty(o,b):n[o]=b}}var u0=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(n,s){if(s){if(u0[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Ae(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Ae(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Ae(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Ae(62))}}function ao(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function nl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var oo=null,Ir=null,Er=null;function _h(n){if(n=Rs(n)){if(typeof oo!="function")throw Error(Ae(280));var s=n.stateNode;s&&(s=eu(s),oo(n.stateNode,n.type,s))}}function jf(n){Ir?Er?Er.push(n):Er=[n]:Ir=n}function Wf(){if(Ir){var n=Ir,s=Er;if(Er=Ir=null,_h(n),s)for(n=0;n<s.length;n++)_h(s[n])}}function Gf(n,s){return n(s)}function Zf(){}var Iu=!1;function Qf(n,s,o){if(Iu)return n(s,o);Iu=!0;try{return Gf(n,s,o)}finally{Iu=!1,(Ir!==null||Er!==null)&&(Zf(),Wf())}}function ms(n,s){var o=n.stateNode;if(o===null)return null;var p=eu(o);if(p===null)return null;o=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(Ae(231,s,typeof o));return o}var lo=!1;if(ai)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch(n){lo=!1}function o0(n,s,o,p,b,_,V,Q,K){var ne=Array.prototype.slice.call(arguments,3);try{s.apply(o,ne)}catch(fe){this.onError(fe)}}var os=!1,ka=null,Pa=!1,ho=null,l0={onError:function(n){os=!0,ka=n}};function h0(n,s,o,p,b,_,V,Q,K){os=!1,ka=null,o0.apply(l0,arguments)}function f0(n,s,o,p,b,_,V,Q,K){if(h0.apply(this,arguments),os){if(os){var ne=ka;os=!1,ka=null}else throw Error(Ae(198));Pa||(Pa=!0,ho=ne)}}function ar(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Kf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function vh(n){if(ar(n)!==n)throw Error(Ae(188))}function c0(n){var s=n.alternate;if(!s){if(s=ar(n),s===null)throw Error(Ae(188));return s!==n?null:n}for(var o=n,p=s;;){var b=o.return;if(b===null)break;var _=b.alternate;if(_===null){if(p=b.return,p!==null){o=p;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===o)return vh(b),n;if(_===p)return vh(b),s;_=_.sibling}throw Error(Ae(188))}if(o.return!==p.return)o=b,p=_;else{for(var V=!1,Q=b.child;Q;){if(Q===o){V=!0,o=b,p=_;break}if(Q===p){V=!0,p=b,o=_;break}Q=Q.sibling}if(!V){for(Q=_.child;Q;){if(Q===o){V=!0,o=_,p=b;break}if(Q===p){V=!0,p=_,o=b;break}Q=Q.sibling}if(!V)throw Error(Ae(189))}}if(o.alternate!==p)throw Error(Ae(190))}if(o.tag!==3)throw Error(Ae(188));return o.stateNode.current===o?n:s}function Xf(n){return n=c0(n),n!==null?Yf(n):null}function Yf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Yf(n);if(s!==null)return s;n=n.sibling}return null}var Jf=kn.unstable_scheduleCallback,mh=kn.unstable_cancelCallback,d0=kn.unstable_shouldYield,p0=kn.unstable_requestPaint,Ut=kn.unstable_now,g0=kn.unstable_getCurrentPriorityLevel,il=kn.unstable_ImmediatePriority,$f=kn.unstable_UserBlockingPriority,Ia=kn.unstable_NormalPriority,_0=kn.unstable_LowPriority,ec=kn.unstable_IdlePriority,Xa=null,Yn=null;function v0(n){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Xa,n,void 0,(n.current.flags&128)===128)}catch(s){}}var Hn=Math.clz32?Math.clz32:w0,m0=Math.log,y0=Math.LN2;function w0(n){return n>>>=0,n===0?32:31-(m0(n)/y0|0)|0}var Js=64,$s=4194304;function rs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ea(n,s){var o=n.pendingLanes;if(o===0)return 0;var p=0,b=n.suspendedLanes,_=n.pingedLanes,V=o&268435455;if(V!==0){var Q=V&~b;Q!==0?p=rs(Q):(_&=V,_!==0&&(p=rs(_)))}else V=o&~b,V!==0?p=rs(V):_!==0&&(p=rs(_));if(p===0)return 0;if(s!==0&&s!==p&&(s&b)===0&&(b=p&-p,_=s&-s,b>=_||b===16&&(_&4194240)!==0))return s;if((p&4)!==0&&(p|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=p;0<s;)o=31-Hn(s),b=1<<o,p|=n[o],s&=~b;return p}function x0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S0(n,s){for(var o=n.suspendedLanes,p=n.pingedLanes,b=n.expirationTimes,_=n.pendingLanes;0<_;){var V=31-Hn(_),Q=1<<V,K=b[V];K===-1?((Q&o)===0||(Q&p)!==0)&&(b[V]=x0(Q,s)):K<=s&&(n.expiredLanes|=Q),_&=~Q}}function fo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tc(){var n=Js;return Js<<=1,(Js&4194240)===0&&(Js=64),n}function Eu(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Os(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Hn(s),n[s]=o}function C0(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<o;){var b=31-Hn(o),_=1<<b;s[b]=0,p[b]=-1,n[b]=-1,o&=~_}}function rl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var p=31-Hn(o),b=1<<p;b&s|n[p]&s&&(n[p]|=s),o&=~b}}var wt=0;function nc(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ic,sl,rc,sc,ac,co=!1,ea=[],Ci=null,bi=null,ki=null,ys=new Map,ws=new Map,yi=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(n,s){switch(n){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":ys.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(s.pointerId)}}function Kr(n,s,o,p,b,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:o,eventSystemFlags:p,nativeEvent:_,targetContainers:[b]},s!==null&&(s=Rs(s),s!==null&&sl(s)),n):(n.eventSystemFlags|=p,s=n.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),n)}function k0(n,s,o,p,b){switch(s){case"focusin":return Ci=Kr(Ci,n,s,o,p,b),!0;case"dragenter":return bi=Kr(bi,n,s,o,p,b),!0;case"mouseover":return ki=Kr(ki,n,s,o,p,b),!0;case"pointerover":var _=b.pointerId;return ys.set(_,Kr(ys.get(_)||null,n,s,o,p,b)),!0;case"gotpointercapture":return _=b.pointerId,ws.set(_,Kr(ws.get(_)||null,n,s,o,p,b)),!0}return!1}function uc(n){var s=Ki(n.target);if(s!==null){var o=ar(s);if(o!==null){if(s=o.tag,s===13){if(s=Kf(o),s!==null){n.blockedOn=s,ac(n.priority,function(){rc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function da(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=po(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var p=new o.constructor(o.type,o);uo=p,o.target.dispatchEvent(p),uo=null}else return s=Rs(o),s!==null&&sl(s),n.blockedOn=o,!1;s.shift()}return!0}function wh(n,s,o){da(n)&&o.delete(s)}function P0(){co=!1,Ci!==null&&da(Ci)&&(Ci=null),bi!==null&&da(bi)&&(bi=null),ki!==null&&da(ki)&&(ki=null),ys.forEach(wh),ws.forEach(wh)}function Xr(n,s){n.blockedOn===s&&(n.blockedOn=null,co||(co=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,P0)))}function xs(n){function s(b){return Xr(b,n)}if(0<ea.length){Xr(ea[0],n);for(var o=1;o<ea.length;o++){var p=ea[o];p.blockedOn===n&&(p.blockedOn=null)}}for(Ci!==null&&Xr(Ci,n),bi!==null&&Xr(bi,n),ki!==null&&Xr(ki,n),ys.forEach(s),ws.forEach(s),o=0;o<yi.length;o++)p=yi[o],p.blockedOn===n&&(p.blockedOn=null);for(;0<yi.length&&(o=yi[0],o.blockedOn===null);)uc(o),o.blockedOn===null&&yi.shift()}var Tr=hi.ReactCurrentBatchConfig,Ta=!0;function I0(n,s,o,p){var b=wt,_=Tr.transition;Tr.transition=null;try{wt=1,al(n,s,o,p)}finally{wt=b,Tr.transition=_}}function E0(n,s,o,p){var b=wt,_=Tr.transition;Tr.transition=null;try{wt=4,al(n,s,o,p)}finally{wt=b,Tr.transition=_}}function al(n,s,o,p){if(Ta){var b=po(n,s,o,p);if(b===null)Du(n,s,p,Aa,o),yh(n,p);else if(k0(b,n,s,o,p))p.stopPropagation();else if(yh(n,p),s&4&&-1<b0.indexOf(n)){for(;b!==null;){var _=Rs(b);if(_!==null&&ic(_),_=po(n,s,o,p),_===null&&Du(n,s,p,Aa,o),_===b)break;b=_}b!==null&&p.stopPropagation()}else Du(n,s,p,null,o)}}var Aa=null;function po(n,s,o,p){if(Aa=null,n=nl(p),n=Ki(n),n!==null)if(s=ar(n),s===null)n=null;else if(o=s.tag,o===13){if(n=Kf(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Aa=n,null}function oc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case il:return 1;case $f:return 4;case Ia:case _0:return 16;case ec:return 536870912;default:return 16}default:return 16}}var xi=null,ul=null,pa=null;function lc(){if(pa)return pa;var n,s=ul,o=s.length,p,b="value"in xi?xi.value:xi.textContent,_=b.length;for(n=0;n<o&&s[n]===b[n];n++);var V=o-n;for(p=1;p<=V&&s[o-p]===b[_-p];p++);return pa=b.slice(n,1<p?1-p:void 0)}function ga(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ta(){return!0}function xh(){return!1}function In(n){function s(o,p,b,_,V){this._reactName=o,this._targetInst=b,this.type=p,this.nativeEvent=_,this.target=V,this.currentTarget=null;for(var Q in n)n.hasOwnProperty(Q)&&(o=n[Q],this[Q]=o?o(_):_[Q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ta:xh,this.isPropagationStopped=xh,this}return zt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),s}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=In(Vr),zs=zt({},Vr,{view:0,detail:0}),T0=In(zs),Tu,Au,Yr,Ya=zt({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yr&&(Yr&&n.type==="mousemove"?(Tu=n.screenX-Yr.screenX,Au=n.screenY-Yr.screenY):Au=Tu=0,Yr=n),Tu)},movementY:function(n){return"movementY"in n?n.movementY:Au}}),Sh=In(Ya),A0=zt({},Ya,{dataTransfer:0}),N0=In(A0),M0=zt({},zs,{relatedTarget:0}),Nu=In(M0),L0=zt({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),O0=In(L0),z0=zt({},Vr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),R0=In(z0),F0=zt({},Vr,{data:0}),Ch=In(F0),D0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=V0[n])?!!s[n]:!1}function ll(){return U0}var H0=zt({},zs,{key:function(n){if(n.key){var s=D0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ga(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?B0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(n){return n.type==="keypress"?ga(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ga(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),q0=In(H0),j0=zt({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=In(j0),W0=zt({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),G0=In(W0),Z0=zt({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=In(Z0),K0=zt({},Ya,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X0=In(K0),Y0=[9,13,27,32],hl=ai&&"CompositionEvent"in window,ls=null;ai&&"documentMode"in document&&(ls=document.documentMode);var J0=ai&&"TextEvent"in window&&!ls,hc=ai&&(!hl||ls&&8<ls&&11>=ls),kh=String.fromCharCode(32),Ph=!1;function fc(n,s){switch(n){case"keyup":return Y0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _r=!1;function $0(n,s){switch(n){case"compositionend":return cc(s);case"keypress":return s.which!==32?null:(Ph=!0,kh);case"textInput":return n=s.data,n===kh&&Ph?null:n;default:return null}}function eg(n,s){if(_r)return n==="compositionend"||!hl&&fc(n,s)?(n=lc(),pa=ul=xi=null,_r=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hc&&s.locale!=="ko"?null:s.data;default:return null}}var tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!tg[n.type]:s==="textarea"}function dc(n,s,o,p){jf(p),s=Na(s,"onChange"),0<s.length&&(o=new ol("onChange","change",null,o,p),n.push({event:o,listeners:s}))}var hs=null,Ss=null;function ng(n){bc(n,0)}function Ja(n){var s=yr(n);if(Ff(s))return n}function ig(n,s){if(n==="change")return s}var pc=!1;if(ai){var Mu;if(ai){var Lu="oninput"in document;if(!Lu){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),Lu=typeof Eh.oninput=="function"}Mu=Lu}else Mu=!1;pc=Mu&&(!document.documentMode||9<document.documentMode)}function Th(){hs&&(hs.detachEvent("onpropertychange",gc),Ss=hs=null)}function gc(n){if(n.propertyName==="value"&&Ja(Ss)){var s=[];dc(s,Ss,n,nl(n)),Qf(ng,s)}}function rg(n,s,o){n==="focusin"?(Th(),hs=s,Ss=o,hs.attachEvent("onpropertychange",gc)):n==="focusout"&&Th()}function sg(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ja(Ss)}function ag(n,s){if(n==="click")return Ja(s)}function ug(n,s){if(n==="input"||n==="change")return Ja(s)}function og(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var jn=typeof Object.is=="function"?Object.is:og;function Cs(n,s){if(jn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),p=Object.keys(s);if(o.length!==p.length)return!1;for(p=0;p<o.length;p++){var b=o[p];if(!Ku.call(s,b)||!jn(n[b],s[b]))return!1}return!0}function Ah(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Nh(n,s){var o=Ah(n);n=0;for(var p;o;){if(o.nodeType===3){if(p=n+o.textContent.length,n<=s&&p>=s)return{node:o,offset:s-n};n=p}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ah(o)}}function _c(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?_c(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vc(){for(var n=window,s=ba();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch(p){o=!1}if(o)n=s.contentWindow;else break;s=ba(n.document)}return s}function fl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function lg(n){var s=vc(),o=n.focusedElem,p=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&_c(o.ownerDocument.documentElement,o)){if(p!==null&&fl(o)){if(s=p.start,n=p.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var b=o.textContent.length,_=Math.min(p.start,b);p=p.end===void 0?_:Math.min(p.end,b),!n.extend&&_>p&&(b=p,p=_,_=b),b=Nh(o,_);var V=Nh(o,p);b&&V&&(n.rangeCount!==1||n.anchorNode!==b.node||n.anchorOffset!==b.offset||n.focusNode!==V.node||n.focusOffset!==V.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),n.removeAllRanges(),_>p?(n.addRange(s),n.extend(V.node,V.offset)):(s.setEnd(V.node,V.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hg=ai&&"documentMode"in document&&11>=document.documentMode,vr=null,go=null,fs=null,_o=!1;function Mh(n,s,o){var p=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_o||vr==null||vr!==ba(p)||(p=vr,"selectionStart"in p&&fl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),fs&&Cs(fs,p)||(fs=p,p=Na(go,"onSelect"),0<p.length&&(s=new ol("onSelect","select",null,s,o),n.push({event:s,listeners:p}),s.target=vr)))}function na(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var mr={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},Ou={},mc={};ai&&(mc=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function $a(n){if(Ou[n])return Ou[n];if(!mr[n])return n;var s=mr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in mc)return Ou[n]=s[o];return n}var yc=$a("animationend"),wc=$a("animationiteration"),xc=$a("animationstart"),Sc=$a("transitionend"),Cc=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(n,s){Cc.set(n,s),sr(s,[n])}for(var zu=0;zu<Lh.length;zu++){var Ru=Lh[zu],fg=Ru.toLowerCase(),cg=Ru[0].toUpperCase()+Ru.slice(1);Ri(fg,"on"+cg)}Ri(yc,"onAnimationEnd");Ri(wc,"onAnimationIteration");Ri(xc,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(Sc,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Oh(n,s,o){var p=n.type||"unknown-event";n.currentTarget=o,f0(p,s,void 0,n),n.currentTarget=null}function bc(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var p=n[o],b=p.event;p=p.listeners;e:{var _=void 0;if(s)for(var V=p.length-1;0<=V;V--){var Q=p[V],K=Q.instance,ne=Q.currentTarget;if(Q=Q.listener,K!==_&&b.isPropagationStopped())break e;Oh(b,Q,ne),_=K}else for(V=0;V<p.length;V++){if(Q=p[V],K=Q.instance,ne=Q.currentTarget,Q=Q.listener,K!==_&&b.isPropagationStopped())break e;Oh(b,Q,ne),_=K}}}if(Pa)throw n=ho,Pa=!1,ho=null,n}function Et(n,s){var o=s[xo];o===void 0&&(o=s[xo]=new Set);var p=n+"__bubble";o.has(p)||(kc(s,n,2,!1),o.add(p))}function Fu(n,s,o){var p=0;s&&(p|=4),kc(o,n,p,s)}var ia="_reactListening"+Math.random().toString(36).slice(2);function bs(n){if(!n[ia]){n[ia]=!0,Mf.forEach(function(o){o!=="selectionchange"&&(dg.has(o)||Fu(o,!1,n),Fu(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ia]||(s[ia]=!0,Fu("selectionchange",!1,s))}}function kc(n,s,o,p){switch(oc(s)){case 1:var b=I0;break;case 4:b=E0;break;default:b=al}o=b.bind(null,s,o,n),b=void 0,!lo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?n.addEventListener(s,o,{capture:!0,passive:b}):n.addEventListener(s,o,!0):b!==void 0?n.addEventListener(s,o,{passive:b}):n.addEventListener(s,o,!1)}function Du(n,s,o,p,b){var _=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var V=p.tag;if(V===3||V===4){var Q=p.stateNode.containerInfo;if(Q===b||Q.nodeType===8&&Q.parentNode===b)break;if(V===4)for(V=p.return;V!==null;){var K=V.tag;if((K===3||K===4)&&(K=V.stateNode.containerInfo,K===b||K.nodeType===8&&K.parentNode===b))return;V=V.return}for(;Q!==null;){if(V=Ki(Q),V===null)return;if(K=V.tag,K===5||K===6){p=_=V;continue e}Q=Q.parentNode}}p=p.return}Qf(function(){var ne=_,fe=nl(o),re=[];e:{var ue=Cc.get(n);if(ue!==void 0){var F=ol,me=n;switch(n){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":F=q0;break;case"focusin":me="focus",F=Nu;break;case"focusout":me="blur",F=Nu;break;case"beforeblur":case"afterblur":F=Nu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=N0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=G0;break;case yc:case wc:case xc:F=O0;break;case Sc:F=Q0;break;case"scroll":F=T0;break;case"wheel":F=X0;break;case"copy":case"cut":case"paste":F=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=bh}var te=(s&4)!==0,Te=!te&&n==="scroll",Z=te?ue!==null?ue+"Capture":null:ue;te=[];for(var ee=ne,J;ee!==null;){J=ee;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,Z!==null&&(de=ms(ee,Z),de!=null&&te.push(ks(ee,de,J)))),Te)break;ee=ee.return}0<te.length&&(ue=new F(ue,me,null,o,fe),re.push({event:ue,listeners:te}))}}if((s&7)===0){e:{if(ue=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",ue&&o!==uo&&(me=o.relatedTarget||o.fromElement)&&(Ki(me)||me[ui]))break e;if((F||ue)&&(ue=fe.window===fe?fe:(ue=fe.ownerDocument)?ue.defaultView||ue.parentWindow:window,F?(me=o.relatedTarget||o.toElement,F=ne,me=me?Ki(me):null,me!==null&&(Te=ar(me),me!==Te||me.tag!==5&&me.tag!==6)&&(me=null)):(F=null,me=ne),F!==me)){if(te=Sh,de="onMouseLeave",Z="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(te=bh,de="onPointerLeave",Z="onPointerEnter",ee="pointer"),Te=F==null?ue:yr(F),J=me==null?ue:yr(me),ue=new te(de,ee+"leave",F,o,fe),ue.target=Te,ue.relatedTarget=J,de=null,Ki(fe)===ne&&(te=new te(Z,ee+"enter",me,o,fe),te.target=J,te.relatedTarget=Te,de=te),Te=de,F&&me)t:{for(te=F,Z=me,ee=0,J=te;J;J=cr(J))ee++;for(J=0,de=Z;de;de=cr(de))J++;for(;0<ee-J;)te=cr(te),ee--;for(;0<J-ee;)Z=cr(Z),J--;for(;ee--;){if(te===Z||Z!==null&&te===Z.alternate)break t;te=cr(te),Z=cr(Z)}te=null}else te=null;F!==null&&zh(re,ue,F,te,!1),me!==null&&Te!==null&&zh(re,Te,me,te,!0)}}e:{if(ue=ne?yr(ne):window,F=ue.nodeName&&ue.nodeName.toLowerCase(),F==="select"||F==="input"&&ue.type==="file")var ye=ig;else if(Ih(ue))if(pc)ye=ug;else{ye=sg;var z=rg}else(F=ue.nodeName)&&F.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(ye=ag);if(ye&&(ye=ye(n,ne))){dc(re,ye,o,fe);break e}z&&z(n,ue,ne),n==="focusout"&&(z=ue._wrapperState)&&z.controlled&&ue.type==="number"&&no(ue,"number",ue.value)}switch(z=ne?yr(ne):window,n){case"focusin":(Ih(z)||z.contentEditable==="true")&&(vr=z,go=ne,fs=null);break;case"focusout":fs=go=vr=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Mh(re,o,fe);break;case"selectionchange":if(hg)break;case"keydown":case"keyup":Mh(re,o,fe)}var Pe;if(hl)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _r?fc(n,o)&&(Oe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(hc&&o.locale!=="ko"&&(_r||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_r&&(Pe=lc()):(xi=fe,ul="value"in xi?xi.value:xi.textContent,_r=!0)),z=Na(ne,Oe),0<z.length&&(Oe=new Ch(Oe,n,null,o,fe),re.push({event:Oe,listeners:z}),Pe?Oe.data=Pe:(Pe=cc(o),Pe!==null&&(Oe.data=Pe)))),(Pe=J0?$0(n,o):eg(n,o))&&(ne=Na(ne,"onBeforeInput"),0<ne.length&&(fe=new Ch("onBeforeInput","beforeinput",null,o,fe),re.push({event:fe,listeners:ne}),fe.data=Pe))}bc(re,s)})}function ks(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Na(n,s){for(var o=s+"Capture",p=[];n!==null;){var b=n,_=b.stateNode;b.tag===5&&_!==null&&(b=_,_=ms(n,o),_!=null&&p.unshift(ks(n,_,b)),_=ms(n,s),_!=null&&p.push(ks(n,_,b))),n=n.return}return p}function cr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zh(n,s,o,p,b){for(var _=s._reactName,V=[];o!==null&&o!==p;){var Q=o,K=Q.alternate,ne=Q.stateNode;if(K!==null&&K===p)break;Q.tag===5&&ne!==null&&(Q=ne,b?(K=ms(o,_),K!=null&&V.unshift(ks(o,K,Q))):b||(K=ms(o,_),K!=null&&V.push(ks(o,K,Q)))),o=o.return}V.length!==0&&n.push({event:s,listeners:V})}var pg=/\r\n?/g,gg=/\u0000|\uFFFD/g;function Rh(n){return(typeof n=="string"?n:""+n).replace(pg,`
`).replace(gg,"")}function ra(n,s,o){if(s=Rh(s),Rh(n)!==s&&o)throw Error(Ae(425))}function Ma(){}var vo=null,mo=null;function yo(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,vg=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh!="undefined"?function(n){return Fh.resolve(null).then(n).catch(mg)}:wo;function mg(n){setTimeout(function(){throw n})}function Bu(n,s){var o=s,p=0;do{var b=o.nextSibling;if(n.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"){if(p===0){n.removeChild(b),xs(s);return}p--}else o!=="$"&&o!=="$?"&&o!=="$!"||p++;o=b}while(o);xs(s)}function Pi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Dh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ur,Ps="__reactProps$"+Ur,ui="__reactContainer$"+Ur,xo="__reactEvents$"+Ur,yg="__reactListeners$"+Ur,wg="__reactHandles$"+Ur;function Ki(n){var s=n[Xn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[ui]||o[Xn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Dh(n);n!==null;){if(o=n[Xn])return o;n=Dh(n)}return s}n=o,o=n.parentNode}return null}function Rs(n){return n=n[Xn]||n[ui],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function yr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ae(33))}function eu(n){return n[Ps]||null}var So=[],wr=-1;function Fi(n){return{current:n}}function Tt(n){0>wr||(n.current=So[wr],So[wr]=null,wr--)}function It(n,s){wr++,So[wr]=n.current,n.current=s}var zi={},hn=Fi(zi),mn=Fi(!1),er=zi;function Lr(n,s){var o=n.type.contextTypes;if(!o)return zi;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var b={},_;for(_ in o)b[_]=s[_];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=b),b}function yn(n){return n=n.childContextTypes,n!=null}function La(){Tt(mn),Tt(hn)}function Bh(n,s,o){if(hn.current!==zi)throw Error(Ae(168));It(hn,s),It(mn,o)}function Pc(n,s,o){var p=n.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return o;p=p.getChildContext();for(var b in p)if(!(b in s))throw Error(Ae(108,r0(n)||"Unknown",b));return zt({},o,p)}function Oa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||zi,er=hn.current,It(hn,n),It(mn,mn.current),!0}function Vh(n,s,o){var p=n.stateNode;if(!p)throw Error(Ae(169));o?(n=Pc(n,s,er),p.__reactInternalMemoizedMergedChildContext=n,Tt(mn),Tt(hn),It(hn,n)):Tt(mn),It(mn,o)}var ni=null,tu=!1,Vu=!1;function Ic(n){ni===null?ni=[n]:ni.push(n)}function xg(n){tu=!0,Ic(n)}function Di(){if(!Vu&&ni!==null){Vu=!0;var n=0,s=wt;try{var o=ni;for(wt=1;n<o.length;n++){var p=o[n];do p=p(!0);while(p!==null)}ni=null,tu=!1}catch(b){throw ni!==null&&(ni=ni.slice(n+1)),Jf(il,Di),b}finally{wt=s,Vu=!1}}return null}var xr=[],Sr=0,za=null,Ra=0,An=[],Nn=0,tr=null,ii=1,ri="";function Zi(n,s){xr[Sr++]=Ra,xr[Sr++]=za,za=n,Ra=s}function Ec(n,s,o){An[Nn++]=ii,An[Nn++]=ri,An[Nn++]=tr,tr=n;var p=ii;n=ri;var b=32-Hn(p)-1;p&=~(1<<b),o+=1;var _=32-Hn(s)+b;if(30<_){var V=b-b%5;_=(p&(1<<V)-1).toString(32),p>>=V,b-=V,ii=1<<32-Hn(s)+b|o<<b|p,ri=_+n}else ii=1<<_|o<<b|p,ri=n}function cl(n){n.return!==null&&(Zi(n,1),Ec(n,1,0))}function dl(n){for(;n===za;)za=xr[--Sr],xr[Sr]=null,Ra=xr[--Sr],xr[Sr]=null;for(;n===tr;)tr=An[--Nn],An[Nn]=null,ri=An[--Nn],An[Nn]=null,ii=An[--Nn],An[Nn]=null}var bn=null,Cn=null,Nt=!1,Un=null;function Tc(n,s){var o=Mn(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function Uh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,bn=n,Cn=Pi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,bn=n,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=tr!==null?{id:ii,overflow:ri}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Mn(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,bn=n,Cn=null,!0):!1;default:return!1}}function Co(n){return(n.mode&1)!==0&&(n.flags&128)===0}function bo(n){if(Nt){var s=Cn;if(s){var o=s;if(!Uh(n,s)){if(Co(n))throw Error(Ae(418));s=Pi(o.nextSibling);var p=bn;s&&Uh(n,s)?Tc(p,o):(n.flags=n.flags&-4097|2,Nt=!1,bn=n)}}else{if(Co(n))throw Error(Ae(418));n.flags=n.flags&-4097|2,Nt=!1,bn=n}}}function Hh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;bn=n}function sa(n){if(n!==bn)return!1;if(!Nt)return Hh(n),Nt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!yo(n.type,n.memoizedProps)),s&&(s=Cn)){if(Co(n))throw Ac(),Error(Ae(418));for(;s;)Tc(n,s),s=Pi(s.nextSibling)}if(Hh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ae(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){Cn=Pi(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}Cn=null}}else Cn=bn?Pi(n.stateNode.nextSibling):null;return!0}function Ac(){for(var n=Cn;n;)n=Pi(n.nextSibling)}function Or(){Cn=bn=null,Nt=!1}function pl(n){Un===null?Un=[n]:Un.push(n)}var Sg=hi.ReactCurrentBatchConfig;function Bn(n,s){if(n&&n.defaultProps){s=zt({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}var Fa=Fi(null),Da=null,Cr=null,gl=null;function _l(){gl=Cr=Da=null}function vl(n){var s=Fa.current;Tt(Fa),n._currentValue=s}function ko(n,s,o){for(;n!==null;){var p=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),n===o)break;n=n.return}}function Ar(n,s){Da=n,gl=Cr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(vn=!0),n.firstContext=null)}function On(n){var s=n._currentValue;if(gl!==n)if(n={context:n,memoizedValue:s,next:null},Cr===null){if(Da===null)throw Error(Ae(308));Cr=n,Da.dependencies={lanes:0,firstContext:n}}else Cr=Cr.next=n;return s}var Xi=null;function ml(n){Xi===null?Xi=[n]:Xi.push(n)}function Nc(n,s,o,p){var b=s.interleaved;return b===null?(o.next=o,ml(s)):(o.next=b.next,b.next=o),s.interleaved=o,oi(n,p)}function oi(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var mi=!1;function yl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function si(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(n,s,o){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(gt&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,oi(n,o)}return b=p.interleaved,b===null?(s.next=s,ml(p)):(s.next=b.next,b.next=s),p.interleaved=s,oi(n,o)}function _a(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var p=s.lanes;p&=n.pendingLanes,o|=p,s.lanes=o,rl(n,o)}}function qh(n,s){var o=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,o===p)){var b=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var V={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};_===null?b=_=V:_=_.next=V,o=o.next}while(o!==null);_===null?b=_=s:_=_.next=s}else b=_=s;o={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:p.shared,effects:p.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function Ba(n,s,o,p){var b=n.updateQueue;mi=!1;var _=b.firstBaseUpdate,V=b.lastBaseUpdate,Q=b.shared.pending;if(Q!==null){b.shared.pending=null;var K=Q,ne=K.next;K.next=null,V===null?_=ne:V.next=ne,V=K;var fe=n.alternate;fe!==null&&(fe=fe.updateQueue,Q=fe.lastBaseUpdate,Q!==V&&(Q===null?fe.firstBaseUpdate=ne:Q.next=ne,fe.lastBaseUpdate=K))}if(_!==null){var re=b.baseState;V=0,fe=ne=K=null,Q=_;do{var ue=Q.lane,F=Q.eventTime;if((p&ue)===ue){fe!==null&&(fe=fe.next={eventTime:F,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var me=n,te=Q;switch(ue=s,F=o,te.tag){case 1:if(me=te.payload,typeof me=="function"){re=me.call(F,re,ue);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=te.payload,ue=typeof me=="function"?me.call(F,re,ue):me,ue==null)break e;re=zt({},re,ue);break e;case 2:mi=!0}}Q.callback!==null&&Q.lane!==0&&(n.flags|=64,ue=b.effects,ue===null?b.effects=[Q]:ue.push(Q))}else F={eventTime:F,lane:ue,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},fe===null?(ne=fe=F,K=re):fe=fe.next=F,V|=ue;if(Q=Q.next,Q===null){if(Q=b.shared.pending,Q===null)break;ue=Q,Q=ue.next,ue.next=null,b.lastBaseUpdate=ue,b.shared.pending=null}}while(1);if(fe===null&&(K=re),b.baseState=K,b.firstBaseUpdate=ne,b.lastBaseUpdate=fe,s=b.shared.interleaved,s!==null){b=s;do V|=b.lane,b=b.next;while(b!==s)}else _===null&&(b.shared.lanes=0);ir|=V,n.lanes=V,n.memoizedState=re}}function jh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var p=n[s],b=p.callback;if(b!==null){if(p.callback=null,p=o,typeof b!="function")throw Error(Ae(191,b));b.call(p)}}}var Lc=new Nf.Component().refs;function Po(n,s,o,p){s=n.memoizedState,o=o(p,s),o=o==null?s:zt({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var nu={isMounted:function(n){return(n=n._reactInternals)?ar(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var p=cn(),b=Ti(n),_=si(p,b);_.payload=s,o!=null&&(_.callback=o),s=Ii(n,_,b),s!==null&&(qn(s,n,b,p),_a(s,n,b))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var p=cn(),b=Ti(n),_=si(p,b);_.tag=1,_.payload=s,o!=null&&(_.callback=o),s=Ii(n,_,b),s!==null&&(qn(s,n,b,p),_a(s,n,b))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=cn(),p=Ti(n),b=si(o,p);b.tag=2,s!=null&&(b.callback=s),s=Ii(n,b,p),s!==null&&(qn(s,n,p,o),_a(s,n,p))}};function Wh(n,s,o,p,b,_,V){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,_,V):s.prototype&&s.prototype.isPureReactComponent?!Cs(o,p)||!Cs(b,_):!0}function Oc(n,s,o){var p=!1,b=zi,_=s.contextType;return typeof _=="object"&&_!==null?_=On(_):(b=yn(s)?er:hn.current,p=s.contextTypes,_=(p=p!=null)?Lr(n,b):zi),s=new s(o,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nu,n.stateNode=s,s._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=b,n.__reactInternalMemoizedMaskedChildContext=_),s}function Gh(n,s,o,p){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,p),s.state!==n&&nu.enqueueReplaceState(s,s.state,null)}function Io(n,s,o,p){var b=n.stateNode;b.props=o,b.state=n.memoizedState,b.refs=Lc,yl(n);var _=s.contextType;typeof _=="object"&&_!==null?b.context=On(_):(_=yn(s)?er:hn.current,b.context=Lr(n,_)),b.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Po(n,s,_,o),b.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&nu.enqueueReplaceState(b,b.state,null),Ba(n,o,b,p),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308)}function Jr(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(Ae(309));var p=o.stateNode}if(!p)throw Error(Ae(147,n));var b=p,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(V){var Q=b.refs;Q===Lc&&(Q=b.refs={}),V===null?delete Q[_]:Q[_]=V},s._stringRef=_,s)}if(typeof n!="string")throw Error(Ae(284));if(!o._owner)throw Error(Ae(290,n))}return n}function aa(n,s){throw n=Object.prototype.toString.call(s),Error(Ae(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Zh(n){var s=n._init;return s(n._payload)}function zc(n){function s(Z,ee){if(n){var J=Z.deletions;J===null?(Z.deletions=[ee],Z.flags|=16):J.push(ee)}}function o(Z,ee){if(!n)return null;for(;ee!==null;)s(Z,ee),ee=ee.sibling;return null}function p(Z,ee){for(Z=new Map;ee!==null;)ee.key!==null?Z.set(ee.key,ee):Z.set(ee.index,ee),ee=ee.sibling;return Z}function b(Z,ee){return Z=Ai(Z,ee),Z.index=0,Z.sibling=null,Z}function _(Z,ee,J){return Z.index=J,n?(J=Z.alternate,J!==null?(J=J.index,J<ee?(Z.flags|=2,ee):J):(Z.flags|=2,ee)):(Z.flags|=1048576,ee)}function V(Z){return n&&Z.alternate===null&&(Z.flags|=2),Z}function Q(Z,ee,J,de){return ee===null||ee.tag!==6?(ee=Zu(J,Z.mode,de),ee.return=Z,ee):(ee=b(ee,J),ee.return=Z,ee)}function K(Z,ee,J,de){var ye=J.type;return ye===gr?fe(Z,ee,J.props.children,de,J.key):ee!==null&&(ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===vi&&Zh(ye)===ee.type)?(de=b(ee,J.props),de.ref=Jr(Z,ee,J),de.return=Z,de):(de=Sa(J.type,J.key,J.props,null,Z.mode,de),de.ref=Jr(Z,ee,J),de.return=Z,de)}function ne(Z,ee,J,de){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==J.containerInfo||ee.stateNode.implementation!==J.implementation?(ee=Qu(J,Z.mode,de),ee.return=Z,ee):(ee=b(ee,J.children||[]),ee.return=Z,ee)}function fe(Z,ee,J,de,ye){return ee===null||ee.tag!==7?(ee=$i(J,Z.mode,de,ye),ee.return=Z,ee):(ee=b(ee,J),ee.return=Z,ee)}function re(Z,ee,J){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Zu(""+ee,Z.mode,J),ee.return=Z,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ks:return J=Sa(ee.type,ee.key,ee.props,null,Z.mode,J),J.ref=Jr(Z,null,ee),J.return=Z,J;case pr:return ee=Qu(ee,Z.mode,J),ee.return=Z,ee;case vi:var de=ee._init;return re(Z,de(ee._payload),J)}if(is(ee)||Zr(ee))return ee=$i(ee,Z.mode,J,null),ee.return=Z,ee;aa(Z,ee)}return null}function ue(Z,ee,J,de){var ye=ee!==null?ee.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return ye!==null?null:Q(Z,ee,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Ks:return J.key===ye?K(Z,ee,J,de):null;case pr:return J.key===ye?ne(Z,ee,J,de):null;case vi:return ye=J._init,ue(Z,ee,ye(J._payload),de)}if(is(J)||Zr(J))return ye!==null?null:fe(Z,ee,J,de,null);aa(Z,J)}return null}function F(Z,ee,J,de,ye){if(typeof de=="string"&&de!==""||typeof de=="number")return Z=Z.get(J)||null,Q(ee,Z,""+de,ye);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case Ks:return Z=Z.get(de.key===null?J:de.key)||null,K(ee,Z,de,ye);case pr:return Z=Z.get(de.key===null?J:de.key)||null,ne(ee,Z,de,ye);case vi:var z=de._init;return F(Z,ee,J,z(de._payload),ye)}if(is(de)||Zr(de))return Z=Z.get(J)||null,fe(ee,Z,de,ye,null);aa(ee,de)}return null}function me(Z,ee,J,de){for(var ye=null,z=null,Pe=ee,Oe=ee=0,Fe=null;Pe!==null&&Oe<J.length;Oe++){Pe.index>Oe?(Fe=Pe,Pe=null):Fe=Pe.sibling;var De=ue(Z,Pe,J[Oe],de);if(De===null){Pe===null&&(Pe=Fe);break}n&&Pe&&De.alternate===null&&s(Z,Pe),ee=_(De,ee,Oe),z===null?ye=De:z.sibling=De,z=De,Pe=Fe}if(Oe===J.length)return o(Z,Pe),Nt&&Zi(Z,Oe),ye;if(Pe===null){for(;Oe<J.length;Oe++)Pe=re(Z,J[Oe],de),Pe!==null&&(ee=_(Pe,ee,Oe),z===null?ye=Pe:z.sibling=Pe,z=Pe);return Nt&&Zi(Z,Oe),ye}for(Pe=p(Z,Pe);Oe<J.length;Oe++)Fe=F(Pe,Z,Oe,J[Oe],de),Fe!==null&&(n&&Fe.alternate!==null&&Pe.delete(Fe.key===null?Oe:Fe.key),ee=_(Fe,ee,Oe),z===null?ye=Fe:z.sibling=Fe,z=Fe);return n&&Pe.forEach(function(it){return s(Z,it)}),Nt&&Zi(Z,Oe),ye}function te(Z,ee,J,de){var ye=Zr(J);if(typeof ye!="function")throw Error(Ae(150));if(J=ye.call(J),J==null)throw Error(Ae(151));for(var z=ye=null,Pe=ee,Oe=ee=0,Fe=null,De=J.next();Pe!==null&&!De.done;Oe++,De=J.next()){Pe.index>Oe?(Fe=Pe,Pe=null):Fe=Pe.sibling;var it=ue(Z,Pe,De.value,de);if(it===null){Pe===null&&(Pe=Fe);break}n&&Pe&&it.alternate===null&&s(Z,Pe),ee=_(it,ee,Oe),z===null?ye=it:z.sibling=it,z=it,Pe=Fe}if(De.done)return o(Z,Pe),Nt&&Zi(Z,Oe),ye;if(Pe===null){for(;!De.done;Oe++,De=J.next())De=re(Z,De.value,de),De!==null&&(ee=_(De,ee,Oe),z===null?ye=De:z.sibling=De,z=De);return Nt&&Zi(Z,Oe),ye}for(Pe=p(Z,Pe);!De.done;Oe++,De=J.next())De=F(Pe,Z,Oe,De.value,de),De!==null&&(n&&De.alternate!==null&&Pe.delete(De.key===null?Oe:De.key),ee=_(De,ee,Oe),z===null?ye=De:z.sibling=De,z=De);return n&&Pe.forEach(function(Qe){return s(Z,Qe)}),Nt&&Zi(Z,Oe),ye}function Te(Z,ee,J,de){if(typeof J=="object"&&J!==null&&J.type===gr&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case Ks:e:{for(var ye=J.key,z=ee;z!==null;){if(z.key===ye){if(ye=J.type,ye===gr){if(z.tag===7){o(Z,z.sibling),ee=b(z,J.props.children),ee.return=Z,Z=ee;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===vi&&Zh(ye)===z.type){o(Z,z.sibling),ee=b(z,J.props),ee.ref=Jr(Z,z,J),ee.return=Z,Z=ee;break e}o(Z,z);break}else s(Z,z);z=z.sibling}J.type===gr?(ee=$i(J.props.children,Z.mode,de,J.key),ee.return=Z,Z=ee):(de=Sa(J.type,J.key,J.props,null,Z.mode,de),de.ref=Jr(Z,ee,J),de.return=Z,Z=de)}return V(Z);case pr:e:{for(z=J.key;ee!==null;){if(ee.key===z)if(ee.tag===4&&ee.stateNode.containerInfo===J.containerInfo&&ee.stateNode.implementation===J.implementation){o(Z,ee.sibling),ee=b(ee,J.children||[]),ee.return=Z,Z=ee;break e}else{o(Z,ee);break}else s(Z,ee);ee=ee.sibling}ee=Qu(J,Z.mode,de),ee.return=Z,Z=ee}return V(Z);case vi:return z=J._init,Te(Z,ee,z(J._payload),de)}if(is(J))return me(Z,ee,J,de);if(Zr(J))return te(Z,ee,J,de);aa(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,ee!==null&&ee.tag===6?(o(Z,ee.sibling),ee=b(ee,J),ee.return=Z,Z=ee):(o(Z,ee),ee=Zu(J,Z.mode,de),ee.return=Z,Z=ee),V(Z)):o(Z,ee)}return Te}var zr=zc(!0),Rc=zc(!1),Fs={},Jn=Fi(Fs),Is=Fi(Fs),Es=Fi(Fs);function Yi(n){if(n===Fs)throw Error(Ae(174));return n}function wl(n,s){switch(It(Es,s),It(Is,n),It(Jn,Fs),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ro(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ro(s,n)}Tt(Jn),It(Jn,s)}function Rr(){Tt(Jn),Tt(Is),Tt(Es)}function Fc(n){Yi(Es.current);var s=Yi(Jn.current),o=ro(s,n.type);s!==o&&(It(Is,n),It(Jn,o))}function xl(n){Is.current===n&&(Tt(Jn),Tt(Is))}var Lt=Fi(0);function Va(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Uu=[];function Sl(){for(var n=0;n<Uu.length;n++)Uu[n]._workInProgressVersionPrimary=null;Uu.length=0}var va=hi.ReactCurrentDispatcher,Hu=hi.ReactCurrentBatchConfig,nr=0,Ot=null,Zt=null,Jt=null,Ua=!1,cs=!1,Ts=0,Cg=0;function un(){throw Error(Ae(321))}function Cl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!jn(n[o],s[o]))return!1;return!0}function bl(n,s,o,p,b,_){if(nr=_,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,va.current=n===null||n.memoizedState===null?Ig:Eg,n=o(p,b),cs){_=0;do{if(cs=!1,Ts=0,25<=_)throw Error(Ae(301));_+=1,Jt=Zt=null,s.updateQueue=null,va.current=Tg,n=o(p,b)}while(cs)}if(va.current=Ha,s=Zt!==null&&Zt.next!==null,nr=0,Jt=Zt=Ot=null,Ua=!1,s)throw Error(Ae(300));return n}function kl(){var n=Ts!==0;return Ts=0,n}function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ot.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function zn(){if(Zt===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var s=Jt===null?Ot.memoizedState:Jt.next;if(s!==null)Jt=s,Zt=n;else{if(n===null)throw Error(Ae(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Jt===null?Ot.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}function As(n,s){return typeof s=="function"?s(n):s}function qu(n){var s=zn(),o=s.queue;if(o===null)throw Error(Ae(311));o.lastRenderedReducer=n;var p=Zt,b=p.baseQueue,_=o.pending;if(_!==null){if(b!==null){var V=b.next;b.next=_.next,_.next=V}p.baseQueue=b=_,o.pending=null}if(b!==null){_=b.next,p=p.baseState;var Q=V=null,K=null,ne=_;do{var fe=ne.lane;if((nr&fe)===fe)K!==null&&(K=K.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),p=ne.hasEagerState?ne.eagerState:n(p,ne.action);else{var re={lane:fe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};K===null?(Q=K=re,V=p):K=K.next=re,Ot.lanes|=fe,ir|=fe}ne=ne.next}while(ne!==null&&ne!==_);K===null?V=p:K.next=Q,jn(p,s.memoizedState)||(vn=!0),s.memoizedState=p,s.baseState=V,s.baseQueue=K,o.lastRenderedState=p}if(n=o.interleaved,n!==null){b=n;do _=b.lane,Ot.lanes|=_,ir|=_,b=b.next;while(b!==n)}else b===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function ju(n){var s=zn(),o=s.queue;if(o===null)throw Error(Ae(311));o.lastRenderedReducer=n;var p=o.dispatch,b=o.pending,_=s.memoizedState;if(b!==null){o.pending=null;var V=b=b.next;do _=n(_,V.action),V=V.next;while(V!==b);jn(_,s.memoizedState)||(vn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,p]}function Dc(){}function Bc(n,s){var o=Ot,p=zn(),b=s(),_=!jn(p.memoizedState,b);if(_&&(p.memoizedState=b,vn=!0),p=p.queue,Pl(Hc.bind(null,o,p,n),[n]),p.getSnapshot!==s||_||Jt!==null&&Jt.memoizedState.tag&1){if(o.flags|=2048,Ns(9,Uc.bind(null,o,p,b,s),void 0,null),$t===null)throw Error(Ae(349));(nr&30)!==0||Vc(o,s,b)}return b}function Vc(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ot.updateQueue,s===null?(s={lastEffect:null,stores:null},Ot.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Uc(n,s,o,p){s.value=o,s.getSnapshot=p,qc(s)&&jc(n)}function Hc(n,s,o){return o(function(){qc(s)&&jc(n)})}function qc(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!jn(n,o)}catch(p){return!0}}function jc(n){var s=oi(n,1);s!==null&&qn(s,n,1,-1)}function Qh(n){var s=Kn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:n},s.queue=n,n=n.dispatch=Pg.bind(null,Ot,n),[s.memoizedState,n]}function Ns(n,s,o,p){return n={tag:n,create:s,destroy:o,deps:p,next:null},s=Ot.updateQueue,s===null?(s={lastEffect:null,stores:null},Ot.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(p=o.next,o.next=n,n.next=p,s.lastEffect=n)),n}function Wc(){return zn().memoizedState}function ma(n,s,o,p){var b=Kn();Ot.flags|=n,b.memoizedState=Ns(1|s,o,void 0,p===void 0?null:p)}function iu(n,s,o,p){var b=zn();p=p===void 0?null:p;var _=void 0;if(Zt!==null){var V=Zt.memoizedState;if(_=V.destroy,p!==null&&Cl(p,V.deps)){b.memoizedState=Ns(s,o,_,p);return}}Ot.flags|=n,b.memoizedState=Ns(1|s,o,_,p)}function Kh(n,s){return ma(8390656,8,n,s)}function Pl(n,s){return iu(2048,8,n,s)}function Gc(n,s){return iu(4,2,n,s)}function Zc(n,s){return iu(4,4,n,s)}function Qc(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Kc(n,s,o){return o=o!=null?o.concat([n]):null,iu(4,4,Qc.bind(null,s,n),o)}function Il(){}function Xc(n,s){var o=zn();s=s===void 0?null:s;var p=o.memoizedState;return p!==null&&s!==null&&Cl(s,p[1])?p[0]:(o.memoizedState=[n,s],n)}function Yc(n,s){var o=zn();s=s===void 0?null:s;var p=o.memoizedState;return p!==null&&s!==null&&Cl(s,p[1])?p[0]:(n=n(),o.memoizedState=[n,s],n)}function Jc(n,s,o){return(nr&21)===0?(n.baseState&&(n.baseState=!1,vn=!0),n.memoizedState=o):(jn(o,s)||(o=tc(),Ot.lanes|=o,ir|=o,n.baseState=!0),s)}function bg(n,s){var o=wt;wt=o!==0&&4>o?o:4,n(!0);var p=Hu.transition;Hu.transition={};try{n(!1),s()}finally{wt=o,Hu.transition=p}}function $c(){return zn().memoizedState}function kg(n,s,o){var p=Ti(n);if(o={lane:p,action:o,hasEagerState:!1,eagerState:null,next:null},ed(n))td(s,o);else if(o=Nc(n,s,o,p),o!==null){var b=cn();qn(o,n,p,b),nd(o,s,p)}}function Pg(n,s,o){var p=Ti(n),b={lane:p,action:o,hasEagerState:!1,eagerState:null,next:null};if(ed(n))td(s,b);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var V=s.lastRenderedState,Q=_(V,o);if(b.hasEagerState=!0,b.eagerState=Q,jn(Q,V)){var K=s.interleaved;K===null?(b.next=b,ml(s)):(b.next=K.next,K.next=b),s.interleaved=b;return}}catch(ne){}finally{}o=Nc(n,s,b,p),o!==null&&(b=cn(),qn(o,n,p,b),nd(o,s,p))}}function ed(n){var s=n.alternate;return n===Ot||s!==null&&s===Ot}function td(n,s){cs=Ua=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function nd(n,s,o){if((o&4194240)!==0){var p=s.lanes;p&=n.pendingLanes,o|=p,s.lanes=o,rl(n,o)}}var Ha={readContext:On,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},Ig={readContext:On,useCallback:function(n,s){return Kn().memoizedState=[n,s===void 0?null:s],n},useContext:On,useEffect:Kh,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,ma(4194308,4,Qc.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ma(4194308,4,n,s)},useInsertionEffect:function(n,s){return ma(4,2,n,s)},useMemo:function(n,s){var o=Kn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var p=Kn();return s=o!==void 0?o(s):s,p.memoizedState=p.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},p.queue=n,n=n.dispatch=kg.bind(null,Ot,n),[p.memoizedState,n]},useRef:function(n){var s=Kn();return n={current:n},s.memoizedState=n},useState:Qh,useDebugValue:Il,useDeferredValue:function(n){return Kn().memoizedState=n},useTransition:function(){var n=Qh(!1),s=n[0];return n=bg.bind(null,n[1]),Kn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var p=Ot,b=Kn();if(Nt){if(o===void 0)throw Error(Ae(407));o=o()}else{if(o=s(),$t===null)throw Error(Ae(349));(nr&30)!==0||Vc(p,s,o)}b.memoizedState=o;var _={value:o,getSnapshot:s};return b.queue=_,Kh(Hc.bind(null,p,_,n),[n]),p.flags|=2048,Ns(9,Uc.bind(null,p,_,o,s),void 0,null),o},useId:function(){var n=Kn(),s=$t.identifierPrefix;if(Nt){var o=ri,p=ii;o=(p&~(1<<32-Hn(p)-1)).toString(32)+o,s=":"+s+"R"+o,o=Ts++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Cg++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Eg={readContext:On,useCallback:Xc,useContext:On,useEffect:Pl,useImperativeHandle:Kc,useInsertionEffect:Gc,useLayoutEffect:Zc,useMemo:Yc,useReducer:qu,useRef:Wc,useState:function(){return qu(As)},useDebugValue:Il,useDeferredValue:function(n){var s=zn();return Jc(s,Zt.memoizedState,n)},useTransition:function(){var n=qu(As)[0],s=zn().memoizedState;return[n,s]},useMutableSource:Dc,useSyncExternalStore:Bc,useId:$c,unstable_isNewReconciler:!1},Tg={readContext:On,useCallback:Xc,useContext:On,useEffect:Pl,useImperativeHandle:Kc,useInsertionEffect:Gc,useLayoutEffect:Zc,useMemo:Yc,useReducer:ju,useRef:Wc,useState:function(){return ju(As)},useDebugValue:Il,useDeferredValue:function(n){var s=zn();return Zt===null?s.memoizedState=n:Jc(s,Zt.memoizedState,n)},useTransition:function(){var n=ju(As)[0],s=zn().memoizedState;return[n,s]},useMutableSource:Dc,useSyncExternalStore:Bc,useId:$c,unstable_isNewReconciler:!1};function Fr(n,s){try{var o="",p=s;do o+=i0(p),p=p.return;while(p);var b=o}catch(_){b=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:b,digest:null}}function Wu(n,s,o){return{value:n,source:null,stack:o!=null?o:null,digest:s!=null?s:null}}function Eo(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Ag=typeof WeakMap=="function"?WeakMap:Map;function id(n,s,o){o=si(-1,o),o.tag=3,o.payload={element:null};var p=s.value;return o.callback=function(){ja||(ja=!0,Do=p),Eo(n,s)},o}function rd(n,s,o){o=si(-1,o),o.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var b=s.value;o.payload=function(){return p(b)},o.callback=function(){Eo(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){Eo(n,s),typeof p!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var V=s.stack;this.componentDidCatch(s.value,{componentStack:V!==null?V:""})}),o}function Xh(n,s,o){var p=n.pingCache;if(p===null){p=n.pingCache=new Ag;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(o)||(b.add(o),n=jg.bind(null,n,s,o),s.then(n,n))}function Yh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Jh(n,s,o,p,b){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=si(-1,1),s.tag=2,Ii(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=b,n)}var Ng=hi.ReactCurrentOwner,vn=!1;function fn(n,s,o,p){s.child=n===null?Rc(s,null,o,p):zr(s,n.child,o,p)}function $h(n,s,o,p,b){o=o.render;var _=s.ref;return Ar(s,b),p=bl(n,s,o,p,_,b),o=kl(),n!==null&&!vn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~b,li(n,s,b)):(Nt&&o&&cl(s),s.flags|=1,fn(n,s,p,b),s.child)}function ef(n,s,o,p,b){if(n===null){var _=o.type;return typeof _=="function"&&!zl(_)&&_.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=_,sd(n,s,_,p,b)):(n=Sa(o.type,null,p,s,s.mode,b),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&b)===0){var V=_.memoizedProps;if(o=o.compare,o=o!==null?o:Cs,o(V,p)&&n.ref===s.ref)return li(n,s,b)}return s.flags|=1,n=Ai(_,p),n.ref=s.ref,n.return=s,s.child=n}function sd(n,s,o,p,b){if(n!==null){var _=n.memoizedProps;if(Cs(_,p)&&n.ref===s.ref)if(vn=!1,s.pendingProps=p=_,(n.lanes&b)!==0)(n.flags&131072)!==0&&(vn=!0);else return s.lanes=n.lanes,li(n,s,b)}return To(n,s,o,p,b)}function ad(n,s,o){var p=s.pendingProps,b=p.children,_=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(kr,Sn),Sn|=o;else{if((o&1073741824)===0)return n=_!==null?_.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,It(kr,Sn),Sn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:o,It(kr,Sn),Sn|=p}else _!==null?(p=_.baseLanes|o,s.memoizedState=null):p=o,It(kr,Sn),Sn|=p;return fn(n,s,b,o),s.child}function ud(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function To(n,s,o,p,b){var _=yn(o)?er:hn.current;return _=Lr(s,_),Ar(s,b),o=bl(n,s,o,p,_,b),p=kl(),n!==null&&!vn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~b,li(n,s,b)):(Nt&&p&&cl(s),s.flags|=1,fn(n,s,o,b),s.child)}function tf(n,s,o,p,b){if(yn(o)){var _=!0;Oa(s)}else _=!1;if(Ar(s,b),s.stateNode===null)ya(n,s),Oc(s,o,p),Io(s,o,p,b),p=!0;else if(n===null){var V=s.stateNode,Q=s.memoizedProps;V.props=Q;var K=V.context,ne=o.contextType;typeof ne=="object"&&ne!==null?ne=On(ne):(ne=yn(o)?er:hn.current,ne=Lr(s,ne));var fe=o.getDerivedStateFromProps,re=typeof fe=="function"||typeof V.getSnapshotBeforeUpdate=="function";re||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==p||K!==ne)&&Gh(s,V,p,ne),mi=!1;var ue=s.memoizedState;V.state=ue,Ba(s,p,V,b),K=s.memoizedState,Q!==p||ue!==K||mn.current||mi?(typeof fe=="function"&&(Po(s,o,fe,p),K=s.memoizedState),(Q=mi||Wh(s,o,Q,p,ue,K,ne))?(re||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(s.flags|=4194308)):(typeof V.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=K),V.props=p,V.state=K,V.context=ne,p=Q):(typeof V.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{V=s.stateNode,Mc(n,s),Q=s.memoizedProps,ne=s.type===s.elementType?Q:Bn(s.type,Q),V.props=ne,re=s.pendingProps,ue=V.context,K=o.contextType,typeof K=="object"&&K!==null?K=On(K):(K=yn(o)?er:hn.current,K=Lr(s,K));var F=o.getDerivedStateFromProps;(fe=typeof F=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==re||ue!==K)&&Gh(s,V,p,K),mi=!1,ue=s.memoizedState,V.state=ue,Ba(s,p,V,b);var me=s.memoizedState;Q!==re||ue!==me||mn.current||mi?(typeof F=="function"&&(Po(s,o,F,p),me=s.memoizedState),(ne=mi||Wh(s,o,ne,p,ue,me,K)||!1)?(fe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(p,me,K),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(p,me,K)),typeof V.componentDidUpdate=="function"&&(s.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof V.componentDidUpdate!="function"||Q===n.memoizedProps&&ue===n.memoizedState||(s.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===n.memoizedProps&&ue===n.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=me),V.props=p,V.state=me,V.context=K,p=ne):(typeof V.componentDidUpdate!="function"||Q===n.memoizedProps&&ue===n.memoizedState||(s.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===n.memoizedProps&&ue===n.memoizedState||(s.flags|=1024),p=!1)}return Ao(n,s,o,p,_,b)}function Ao(n,s,o,p,b,_){ud(n,s);var V=(s.flags&128)!==0;if(!p&&!V)return b&&Vh(s,o,!1),li(n,s,_);p=s.stateNode,Ng.current=s;var Q=V&&typeof o.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,n!==null&&V?(s.child=zr(s,n.child,null,_),s.child=zr(s,null,Q,_)):fn(n,s,Q,_),s.memoizedState=p.state,b&&Vh(s,o,!0),s.child}function od(n){var s=n.stateNode;s.pendingContext?Bh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Bh(n,s.context,!1),wl(n,s.containerInfo)}function nf(n,s,o,p,b){return Or(),pl(b),s.flags|=256,fn(n,s,o,p),s.child}var No={dehydrated:null,treeContext:null,retryLane:0};function Mo(n){return{baseLanes:n,cachePool:null,transitions:null}}function ld(n,s,o){var p=s.pendingProps,b=Lt.current,_=!1,V=(s.flags&128)!==0,Q;if((Q=V)||(Q=n!==null&&n.memoizedState===null?!1:(b&2)!==0),Q?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(b|=1),It(Lt,b&1),n===null)return bo(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(V=p.children,n=p.fallback,_?(p=s.mode,_=s.child,V={mode:"hidden",children:V},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=V):_=au(V,p,0,null),n=$i(n,p,o,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=Mo(o),s.memoizedState=No,n):El(s,V));if(b=n.memoizedState,b!==null&&(Q=b.dehydrated,Q!==null))return Mg(n,s,V,p,Q,b,o);if(_){_=p.fallback,V=s.mode,b=n.child,Q=b.sibling;var K={mode:"hidden",children:p.children};return(V&1)===0&&s.child!==b?(p=s.child,p.childLanes=0,p.pendingProps=K,s.deletions=null):(p=Ai(b,K),p.subtreeFlags=b.subtreeFlags&14680064),Q!==null?_=Ai(Q,_):(_=$i(_,V,o,null),_.flags|=2),_.return=s,p.return=s,p.sibling=_,s.child=p,p=_,_=s.child,V=n.child.memoizedState,V=V===null?Mo(o):{baseLanes:V.baseLanes|o,cachePool:null,transitions:V.transitions},_.memoizedState=V,_.childLanes=n.childLanes&~o,s.memoizedState=No,p}return _=n.child,n=_.sibling,p=Ai(_,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=o),p.return=s,p.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=p,s.memoizedState=null,p}function El(n,s){return s=au({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function ua(n,s,o,p){return p!==null&&pl(p),zr(s,n.child,null,o),n=El(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Mg(n,s,o,p,b,_,V){if(o)return s.flags&256?(s.flags&=-257,p=Wu(Error(Ae(422))),ua(n,s,V,p)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=p.fallback,b=s.mode,p=au({mode:"visible",children:p.children},b,0,null),_=$i(_,b,V,null),_.flags|=2,p.return=s,_.return=s,p.sibling=_,s.child=p,(s.mode&1)!==0&&zr(s,n.child,null,V),s.child.memoizedState=Mo(V),s.memoizedState=No,_);if((s.mode&1)===0)return ua(n,s,V,null);if(b.data==="$!"){if(p=b.nextSibling&&b.nextSibling.dataset,p)var Q=p.dgst;return p=Q,_=Error(Ae(419)),p=Wu(_,p,void 0),ua(n,s,V,p)}if(Q=(V&n.childLanes)!==0,vn||Q){if(p=$t,p!==null){switch(V&-V){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(p.suspendedLanes|V))!==0?0:b,b!==0&&b!==_.retryLane&&(_.retryLane=b,oi(n,b),qn(p,n,b,-1))}return Ol(),p=Wu(Error(Ae(421))),ua(n,s,V,p)}return b.data==="$?"?(s.flags|=128,s.child=n.child,s=Wg.bind(null,n),b._reactRetry=s,null):(n=_.treeContext,Cn=Pi(b.nextSibling),bn=s,Nt=!0,Un=null,n!==null&&(An[Nn++]=ii,An[Nn++]=ri,An[Nn++]=tr,ii=n.id,ri=n.overflow,tr=s),s=El(s,p.children),s.flags|=4096,s)}function rf(n,s,o){n.lanes|=s;var p=n.alternate;p!==null&&(p.lanes|=s),ko(n.return,s,o)}function Gu(n,s,o,p,b){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:o,tailMode:b}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=o,_.tailMode=b)}function hd(n,s,o){var p=s.pendingProps,b=p.revealOrder,_=p.tail;if(fn(n,s,p.children,o),p=Lt.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rf(n,o,s);else if(n.tag===19)rf(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(It(Lt,p),(s.mode&1)===0)s.memoizedState=null;else switch(b){case"forwards":for(o=s.child,b=null;o!==null;)n=o.alternate,n!==null&&Va(n)===null&&(b=o),o=o.sibling;o=b,o===null?(b=s.child,s.child=null):(b=o.sibling,o.sibling=null),Gu(s,!1,b,o,_);break;case"backwards":for(o=null,b=s.child,s.child=null;b!==null;){if(n=b.alternate,n!==null&&Va(n)===null){s.child=b;break}n=b.sibling,b.sibling=o,o=b,b=n}Gu(s,!0,o,null,_);break;case"together":Gu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ya(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function li(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ir|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(Ae(153));if(s.child!==null){for(n=s.child,o=Ai(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Ai(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Lg(n,s,o){switch(s.tag){case 3:od(s),Or();break;case 5:Fc(s);break;case 1:yn(s.type)&&Oa(s);break;case 4:wl(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,b=s.memoizedProps.value;It(Fa,p._currentValue),p._currentValue=b;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(It(Lt,Lt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?ld(n,s,o):(It(Lt,Lt.current&1),n=li(n,s,o),n!==null?n.sibling:null);It(Lt,Lt.current&1);break;case 19:if(p=(o&s.childLanes)!==0,(n.flags&128)!==0){if(p)return hd(n,s,o);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),It(Lt,Lt.current),p)break;return null;case 22:case 23:return s.lanes=0,ad(n,s,o)}return li(n,s,o)}var fd,Lo,cd,dd;fd=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Lo=function(){};cd=function(n,s,o,p){var b=n.memoizedProps;if(b!==p){n=s.stateNode,Yi(Jn.current);var _=null;switch(o){case"input":b=eo(n,b),p=eo(n,p),_=[];break;case"select":b=zt({},b,{value:void 0}),p=zt({},p,{value:void 0}),_=[];break;case"textarea":b=io(n,b),p=io(n,p),_=[];break;default:typeof b.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=Ma)}so(o,p);var V;o=null;for(ne in b)if(!p.hasOwnProperty(ne)&&b.hasOwnProperty(ne)&&b[ne]!=null)if(ne==="style"){var Q=b[ne];for(V in Q)Q.hasOwnProperty(V)&&(o||(o={}),o[V]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(_s.hasOwnProperty(ne)?_||(_=[]):(_=_||[]).push(ne,null));for(ne in p){var K=p[ne];if(Q=b!=null?b[ne]:void 0,p.hasOwnProperty(ne)&&K!==Q&&(K!=null||Q!=null))if(ne==="style")if(Q){for(V in Q)!Q.hasOwnProperty(V)||K&&K.hasOwnProperty(V)||(o||(o={}),o[V]="");for(V in K)K.hasOwnProperty(V)&&Q[V]!==K[V]&&(o||(o={}),o[V]=K[V])}else o||(_||(_=[]),_.push(ne,o)),o=K;else ne==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,Q=Q?Q.__html:void 0,K!=null&&Q!==K&&(_=_||[]).push(ne,K)):ne==="children"?typeof K!="string"&&typeof K!="number"||(_=_||[]).push(ne,""+K):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(_s.hasOwnProperty(ne)?(K!=null&&ne==="onScroll"&&Et("scroll",n),_||Q===K||(_=[])):(_=_||[]).push(ne,K))}o&&(_=_||[]).push("style",o);var ne=_;(s.updateQueue=ne)&&(s.flags|=4)}};dd=function(n,s,o,p){o!==p&&(s.flags|=4)};function $r(n,s){if(!Nt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var p=null;o!==null;)o.alternate!==null&&(p=o),o=o.sibling;p===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function on(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,p=0;if(s)for(var b=n.child;b!==null;)o|=b.lanes|b.childLanes,p|=b.subtreeFlags&14680064,p|=b.flags&14680064,b.return=n,b=b.sibling;else for(b=n.child;b!==null;)o|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=n,b=b.sibling;return n.subtreeFlags|=p,n.childLanes=o,s}function Og(n,s,o){var p=s.pendingProps;switch(dl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(s),null;case 1:return yn(s.type)&&La(),on(s),null;case 3:return p=s.stateNode,Rr(),Tt(mn),Tt(hn),Sl(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(sa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Un!==null&&(Uo(Un),Un=null))),Lo(n,s),on(s),null;case 5:xl(s);var b=Yi(Es.current);if(o=s.type,n!==null&&s.stateNode!=null)cd(n,s,o,p,b),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(Ae(166));return on(s),null}if(n=Yi(Jn.current),sa(s)){p=s.stateNode,o=s.type;var _=s.memoizedProps;switch(p[Xn]=s,p[Ps]=_,n=(s.mode&1)!==0,o){case"dialog":Et("cancel",p),Et("close",p);break;case"iframe":case"object":case"embed":Et("load",p);break;case"video":case"audio":for(b=0;b<ss.length;b++)Et(ss[b],p);break;case"source":Et("error",p);break;case"img":case"image":case"link":Et("error",p),Et("load",p);break;case"details":Et("toggle",p);break;case"input":ch(p,_),Et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},Et("invalid",p);break;case"textarea":ph(p,_),Et("invalid",p)}so(o,_),b=null;for(var V in _)if(_.hasOwnProperty(V)){var Q=_[V];V==="children"?typeof Q=="string"?p.textContent!==Q&&(_.suppressHydrationWarning!==!0&&ra(p.textContent,Q,n),b=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(_.suppressHydrationWarning!==!0&&ra(p.textContent,Q,n),b=["children",""+Q]):_s.hasOwnProperty(V)&&Q!=null&&V==="onScroll"&&Et("scroll",p)}switch(o){case"input":Xs(p),dh(p,_,!0);break;case"textarea":Xs(p),gh(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=Ma)}p=b,s.updateQueue=p,p!==null&&(s.flags|=4)}else{V=b.nodeType===9?b:b.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Vf(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=V.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=V.createElement(o,{is:p.is}):(n=V.createElement(o),o==="select"&&(V=n,p.multiple?V.multiple=!0:p.size&&(V.size=p.size))):n=V.createElementNS(n,o),n[Xn]=s,n[Ps]=p,fd(n,s,!1,!1),s.stateNode=n;e:{switch(V=ao(o,p),o){case"dialog":Et("cancel",n),Et("close",n),b=p;break;case"iframe":case"object":case"embed":Et("load",n),b=p;break;case"video":case"audio":for(b=0;b<ss.length;b++)Et(ss[b],n);b=p;break;case"source":Et("error",n),b=p;break;case"img":case"image":case"link":Et("error",n),Et("load",n),b=p;break;case"details":Et("toggle",n),b=p;break;case"input":ch(n,p),b=eo(n,p),Et("invalid",n);break;case"option":b=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},b=zt({},p,{value:void 0}),Et("invalid",n);break;case"textarea":ph(n,p),b=io(n,p),Et("invalid",n);break;default:b=p}so(o,b),Q=b;for(_ in Q)if(Q.hasOwnProperty(_)){var K=Q[_];_==="style"?qf(n,K):_==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Uf(n,K)):_==="children"?typeof K=="string"?(o!=="textarea"||K!=="")&&vs(n,K):typeof K=="number"&&vs(n,""+K):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(_s.hasOwnProperty(_)?K!=null&&_==="onScroll"&&Et("scroll",n):K!=null&&Jo(n,_,K,V))}switch(o){case"input":Xs(n),dh(n,p,!1);break;case"textarea":Xs(n),gh(n);break;case"option":p.value!=null&&n.setAttribute("value",""+Oi(p.value));break;case"select":n.multiple=!!p.multiple,_=p.value,_!=null?Pr(n,!!p.multiple,_,!1):p.defaultValue!=null&&Pr(n,!!p.multiple,p.defaultValue,!0);break;default:typeof b.onClick=="function"&&(n.onclick=Ma)}switch(o){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return on(s),null;case 6:if(n&&s.stateNode!=null)dd(n,s,n.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(Ae(166));if(o=Yi(Es.current),Yi(Jn.current),sa(s)){if(p=s.stateNode,o=s.memoizedProps,p[Xn]=s,(_=p.nodeValue!==o)&&(n=bn,n!==null))switch(n.tag){case 3:ra(p.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ra(p.nodeValue,o,(n.mode&1)!==0)}_&&(s.flags|=4)}else p=(o.nodeType===9?o:o.ownerDocument).createTextNode(p),p[Xn]=s,s.stateNode=p}return on(s),null;case 13:if(Tt(Lt),p=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Nt&&Cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ac(),Or(),s.flags|=98560,_=!1;else if(_=sa(s),p!==null&&p.dehydrated!==null){if(n===null){if(!_)throw Error(Ae(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(Ae(317));_[Xn]=s}else Or(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),_=!1}else Un!==null&&(Uo(Un),Un=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Lt.current&1)!==0?Qt===0&&(Qt=3):Ol())),s.updateQueue!==null&&(s.flags|=4),on(s),null);case 4:return Rr(),Lo(n,s),n===null&&bs(s.stateNode.containerInfo),on(s),null;case 10:return vl(s.type._context),on(s),null;case 17:return yn(s.type)&&La(),on(s),null;case 19:if(Tt(Lt),_=s.memoizedState,_===null)return on(s),null;if(p=(s.flags&128)!==0,V=_.rendering,V===null)if(p)$r(_,!1);else{if(Qt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(V=Va(n),V!==null){for(s.flags|=128,$r(_,!1),p=V.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=o,o=s.child;o!==null;)_=o,n=p,_.flags&=14680066,V=_.alternate,V===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=V.childLanes,_.lanes=V.lanes,_.child=V.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=V.memoizedProps,_.memoizedState=V.memoizedState,_.updateQueue=V.updateQueue,_.type=V.type,n=V.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return It(Lt,Lt.current&1|2),s.child}n=n.sibling}_.tail!==null&&Ut()>Dr&&(s.flags|=128,p=!0,$r(_,!1),s.lanes=4194304)}else{if(!p)if(n=Va(V),n!==null){if(s.flags|=128,p=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),$r(_,!0),_.tail===null&&_.tailMode==="hidden"&&!V.alternate&&!Nt)return on(s),null}else 2*Ut()-_.renderingStartTime>Dr&&o!==1073741824&&(s.flags|=128,p=!0,$r(_,!1),s.lanes=4194304);_.isBackwards?(V.sibling=s.child,s.child=V):(o=_.last,o!==null?o.sibling=V:s.child=V,_.last=V)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=Ut(),s.sibling=null,o=Lt.current,It(Lt,p?o&1|2:o&1),s):(on(s),null);case 22:case 23:return Ll(),p=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(Sn&1073741824)!==0&&(on(s),s.subtreeFlags&6&&(s.flags|=8192)):on(s),null;case 24:return null;case 25:return null}throw Error(Ae(156,s.tag))}function zg(n,s){switch(dl(s),s.tag){case 1:return yn(s.type)&&La(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Rr(),Tt(mn),Tt(hn),Sl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return xl(s),null;case 13:if(Tt(Lt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(Ae(340));Or()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Tt(Lt),null;case 4:return Rr(),null;case 10:return vl(s.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var oa=!1,ln=!1,Rg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function br(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(p){Ft(n,s,p)}else o.current=null}function Oo(n,s,o){try{o()}catch(p){Ft(n,s,p)}}var sf=!1;function Fg(n,s){if(vo=Ta,n=vc(),fl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var p=o.getSelection&&o.getSelection();if(p&&p.rangeCount!==0){o=p.anchorNode;var b=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{o.nodeType,_.nodeType}catch(de){o=null;break e}var V=0,Q=-1,K=-1,ne=0,fe=0,re=n,ue=null;t:for(;;){for(var F;re!==o||b!==0&&re.nodeType!==3||(Q=V+b),re!==_||p!==0&&re.nodeType!==3||(K=V+p),re.nodeType===3&&(V+=re.nodeValue.length),(F=re.firstChild)!==null;)ue=re,re=F;for(;;){if(re===n)break t;if(ue===o&&++ne===b&&(Q=V),ue===_&&++fe===p&&(K=V),(F=re.nextSibling)!==null)break;re=ue,ue=re.parentNode}re=F}o=Q===-1||K===-1?null:{start:Q,end:K}}else o=null}o=o||{start:0,end:0}}else o=null;for(mo={focusedElem:n,selectionRange:o},Ta=!1,Ve=s;Ve!==null;)if(s=Ve,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ve=n;else for(;Ve!==null;){s=Ve;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var te=me.memoizedProps,Te=me.memoizedState,Z=s.stateNode,ee=Z.getSnapshotBeforeUpdate(s.elementType===s.type?te:Bn(s.type,te),Te);Z.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var J=s.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(de){Ft(s,s.return,de)}if(n=s.sibling,n!==null){n.return=s.return,Ve=n;break}Ve=s.return}return me=sf,sf=!1,me}function ds(n,s,o){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&n)===n){var _=b.destroy;b.destroy=void 0,_!==void 0&&Oo(s,o,_)}b=b.next}while(b!==p)}}function ru(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var p=o.create;o.destroy=p()}o=o.next}while(o!==s)}}function zo(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function pd(n){var s=n.alternate;s!==null&&(n.alternate=null,pd(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Xn],delete s[Ps],delete s[xo],delete s[yg],delete s[wg])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gd(n){return n.tag===5||n.tag===3||n.tag===4}function af(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ro(n,s,o){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ma));else if(p!==4&&(n=n.child,n!==null))for(Ro(n,s,o),n=n.sibling;n!==null;)Ro(n,s,o),n=n.sibling}function Fo(n,s,o){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(Fo(n,s,o),n=n.sibling;n!==null;)Fo(n,s,o),n=n.sibling}var tn=null,Vn=!1;function _i(n,s,o){for(o=o.child;o!==null;)_d(n,s,o),o=o.sibling}function _d(n,s,o){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Xa,o)}catch(Q){}switch(o.tag){case 5:ln||br(o,s);case 6:var p=tn,b=Vn;tn=null,_i(n,s,o),tn=p,Vn=b,tn!==null&&(Vn?(n=tn,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):tn.removeChild(o.stateNode));break;case 18:tn!==null&&(Vn?(n=tn,o=o.stateNode,n.nodeType===8?Bu(n.parentNode,o):n.nodeType===1&&Bu(n,o),xs(n)):Bu(tn,o.stateNode));break;case 4:p=tn,b=Vn,tn=o.stateNode.containerInfo,Vn=!0,_i(n,s,o),tn=p,Vn=b;break;case 0:case 11:case 14:case 15:if(!ln&&(p=o.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){b=p=p.next;do{var _=b,V=_.destroy;_=_.tag,V!==void 0&&((_&2)!==0||(_&4)!==0)&&Oo(o,s,V),b=b.next}while(b!==p)}_i(n,s,o);break;case 1:if(!ln&&(br(o,s),p=o.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=o.memoizedProps,p.state=o.memoizedState,p.componentWillUnmount()}catch(Q){Ft(o,s,Q)}_i(n,s,o);break;case 21:_i(n,s,o);break;case 22:o.mode&1?(ln=(p=ln)||o.memoizedState!==null,_i(n,s,o),ln=p):_i(n,s,o);break;default:_i(n,s,o)}}function uf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new Rg),s.forEach(function(p){var b=Gg.bind(null,n,p);o.has(p)||(o.add(p),p.then(b,b))})}}function Dn(n,s){var o=s.deletions;if(o!==null)for(var p=0;p<o.length;p++){var b=o[p];try{var _=n,V=s,Q=V;e:for(;Q!==null;){switch(Q.tag){case 5:tn=Q.stateNode,Vn=!1;break e;case 3:tn=Q.stateNode.containerInfo,Vn=!0;break e;case 4:tn=Q.stateNode.containerInfo,Vn=!0;break e}Q=Q.return}if(tn===null)throw Error(Ae(160));_d(_,V,b),tn=null,Vn=!1;var K=b.alternate;K!==null&&(K.return=null),b.return=null}catch(ne){Ft(b,s,ne)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)vd(s,n),s=s.sibling}function vd(n,s){var o=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dn(s,n),Qn(n),p&4){try{ds(3,n,n.return),ru(3,n)}catch(te){Ft(n,n.return,te)}try{ds(5,n,n.return)}catch(te){Ft(n,n.return,te)}}break;case 1:Dn(s,n),Qn(n),p&512&&o!==null&&br(o,o.return);break;case 5:if(Dn(s,n),Qn(n),p&512&&o!==null&&br(o,o.return),n.flags&32){var b=n.stateNode;try{vs(b,"")}catch(te){Ft(n,n.return,te)}}if(p&4&&(b=n.stateNode,b!=null)){var _=n.memoizedProps,V=o!==null?o.memoizedProps:_,Q=n.type,K=n.updateQueue;if(n.updateQueue=null,K!==null)try{Q==="input"&&_.type==="radio"&&_.name!=null&&Df(b,_),ao(Q,V);var ne=ao(Q,_);for(V=0;V<K.length;V+=2){var fe=K[V],re=K[V+1];fe==="style"?qf(b,re):fe==="dangerouslySetInnerHTML"?Uf(b,re):fe==="children"?vs(b,re):Jo(b,fe,re,ne)}switch(Q){case"input":to(b,_);break;case"textarea":Bf(b,_);break;case"select":var ue=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_.multiple;var F=_.value;F!=null?Pr(b,!!_.multiple,F,!1):ue!==!!_.multiple&&(_.defaultValue!=null?Pr(b,!!_.multiple,_.defaultValue,!0):Pr(b,!!_.multiple,_.multiple?[]:"",!1))}b[Ps]=_}catch(te){Ft(n,n.return,te)}}break;case 6:if(Dn(s,n),Qn(n),p&4){if(n.stateNode===null)throw Error(Ae(162));b=n.stateNode,_=n.memoizedProps;try{b.nodeValue=_}catch(te){Ft(n,n.return,te)}}break;case 3:if(Dn(s,n),Qn(n),p&4&&o!==null&&o.memoizedState.isDehydrated)try{xs(s.containerInfo)}catch(te){Ft(n,n.return,te)}break;case 4:Dn(s,n),Qn(n);break;case 13:Dn(s,n),Qn(n),b=n.child,b.flags&8192&&(_=b.memoizedState!==null,b.stateNode.isHidden=_,!_||b.alternate!==null&&b.alternate.memoizedState!==null||(Nl=Ut())),p&4&&uf(n);break;case 22:if(fe=o!==null&&o.memoizedState!==null,n.mode&1?(ln=(ne=ln)||fe,Dn(s,n),ln=ne):Dn(s,n),Qn(n),p&8192){if(ne=n.memoizedState!==null,(n.stateNode.isHidden=ne)&&!fe&&(n.mode&1)!==0)for(Ve=n,fe=n.child;fe!==null;){for(re=Ve=fe;Ve!==null;){switch(ue=Ve,F=ue.child,ue.tag){case 0:case 11:case 14:case 15:ds(4,ue,ue.return);break;case 1:br(ue,ue.return);var me=ue.stateNode;if(typeof me.componentWillUnmount=="function"){p=ue,o=ue.return;try{s=p,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(te){Ft(p,o,te)}}break;case 5:br(ue,ue.return);break;case 22:if(ue.memoizedState!==null){lf(re);continue}}F!==null?(F.return=ue,Ve=F):lf(re)}fe=fe.sibling}e:for(fe=null,re=n;;){if(re.tag===5){if(fe===null){fe=re;try{b=re.stateNode,ne?(_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(Q=re.stateNode,K=re.memoizedProps.style,V=K!=null&&K.hasOwnProperty("display")?K.display:null,Q.style.display=Hf("display",V))}catch(te){Ft(n,n.return,te)}}}else if(re.tag===6){if(fe===null)try{re.stateNode.nodeValue=ne?"":re.memoizedProps}catch(te){Ft(n,n.return,te)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===n)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===n)break e;for(;re.sibling===null;){if(re.return===null||re.return===n)break e;fe===re&&(fe=null),re=re.return}fe===re&&(fe=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Dn(s,n),Qn(n),p&4&&uf(n);break;case 21:break;default:Dn(s,n),Qn(n)}}function Qn(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(gd(o)){var p=o;break e}o=o.return}throw Error(Ae(160))}switch(p.tag){case 5:var b=p.stateNode;p.flags&32&&(vs(b,""),p.flags&=-33);var _=af(n);Fo(n,_,b);break;case 3:case 4:var V=p.stateNode.containerInfo,Q=af(n);Ro(n,Q,V);break;default:throw Error(Ae(161))}}catch(K){Ft(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Dg(n,s,o){Ve=n,md(n)}function md(n,s,o){for(var p=(n.mode&1)!==0;Ve!==null;){var b=Ve,_=b.child;if(b.tag===22&&p){var V=b.memoizedState!==null||oa;if(!V){var Q=b.alternate,K=Q!==null&&Q.memoizedState!==null||ln;Q=oa;var ne=ln;if(oa=V,(ln=K)&&!ne)for(Ve=b;Ve!==null;)V=Ve,K=V.child,V.tag===22&&V.memoizedState!==null?hf(b):K!==null?(K.return=V,Ve=K):hf(b);for(;_!==null;)Ve=_,md(_),_=_.sibling;Ve=b,oa=Q,ln=ne}of(n)}else(b.subtreeFlags&8772)!==0&&_!==null?(_.return=b,Ve=_):of(n)}}function of(n){for(;Ve!==null;){var s=Ve;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||ru(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!ln)if(o===null)p.componentDidMount();else{var b=s.elementType===s.type?o.memoizedProps:Bn(s.type,o.memoizedProps);p.componentDidUpdate(b,o.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&jh(s,_,p);break;case 3:var V=s.updateQueue;if(V!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}jh(s,V,o)}break;case 5:var Q=s.stateNode;if(o===null&&s.flags&4){o=Q;var K=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&o.focus();break;case"img":K.src&&(o.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ne=s.alternate;if(ne!==null){var fe=ne.memoizedState;if(fe!==null){var re=fe.dehydrated;re!==null&&xs(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}ln||s.flags&512&&zo(s)}catch(ue){Ft(s,s.return,ue)}}if(s===n){Ve=null;break}if(o=s.sibling,o!==null){o.return=s.return,Ve=o;break}Ve=s.return}}function lf(n){for(;Ve!==null;){var s=Ve;if(s===n){Ve=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ve=o;break}Ve=s.return}}function hf(n){for(;Ve!==null;){var s=Ve;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{ru(4,s)}catch(K){Ft(s,o,K)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var b=s.return;try{p.componentDidMount()}catch(K){Ft(s,b,K)}}var _=s.return;try{zo(s)}catch(K){Ft(s,_,K)}break;case 5:var V=s.return;try{zo(s)}catch(K){Ft(s,V,K)}}}catch(K){Ft(s,s.return,K)}if(s===n){Ve=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ve=Q;break}Ve=s.return}}var Bg=Math.ceil,qa=hi.ReactCurrentDispatcher,Tl=hi.ReactCurrentOwner,Ln=hi.ReactCurrentBatchConfig,gt=0,$t=null,jt=null,nn=0,Sn=0,kr=Fi(0),Qt=0,Ms=null,ir=0,su=0,Al=0,ps=null,_n=null,Nl=0,Dr=1/0,ti=null,ja=!1,Do=null,Ei=null,la=!1,Si=null,Wa=0,gs=0,Bo=null,wa=-1,xa=0;function cn(){return(gt&6)!==0?Ut():wa!==-1?wa:wa=Ut()}function Ti(n){return(n.mode&1)===0?1:(gt&2)!==0&&nn!==0?nn&-nn:Sg.transition!==null?(xa===0&&(xa=tc()),xa):(n=wt,n!==0||(n=window.event,n=n===void 0?16:oc(n.type)),n)}function qn(n,s,o,p){if(50<gs)throw gs=0,Bo=null,Error(Ae(185));Os(n,o,p),((gt&2)===0||n!==$t)&&(n===$t&&((gt&2)===0&&(su|=o),Qt===4&&wi(n,nn)),wn(n,p),o===1&&gt===0&&(s.mode&1)===0&&(Dr=Ut()+500,tu&&Di()))}function wn(n,s){var o=n.callbackNode;S0(n,s);var p=Ea(n,n===$t?nn:0);if(p===0)o!==null&&mh(o),n.callbackNode=null,n.callbackPriority=0;else if(s=p&-p,n.callbackPriority!==s){if(o!=null&&mh(o),s===1)n.tag===0?xg(ff.bind(null,n)):Ic(ff.bind(null,n)),vg(function(){(gt&6)===0&&Di()}),o=null;else{switch(nc(p)){case 1:o=il;break;case 4:o=$f;break;case 16:o=Ia;break;case 536870912:o=ec;break;default:o=Ia}o=Pd(o,yd.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function yd(n,s){if(wa=-1,xa=0,(gt&6)!==0)throw Error(Ae(327));var o=n.callbackNode;if(Nr()&&n.callbackNode!==o)return null;var p=Ea(n,n===$t?nn:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||s)s=Ga(n,p);else{s=p;var b=gt;gt|=2;var _=xd();($t!==n||nn!==s)&&(ti=null,Dr=Ut()+500,Ji(n,s));do try{Hg();break}catch(Q){wd(n,Q)}while(1);_l(),qa.current=_,gt=b,jt!==null?s=0:($t=null,nn=0,s=Qt)}if(s!==0){if(s===2&&(b=fo(n),b!==0&&(p=b,s=Vo(n,b))),s===1)throw o=Ms,Ji(n,0),wi(n,p),wn(n,Ut()),o;if(s===6)wi(n,p);else{if(b=n.current.alternate,(p&30)===0&&!Vg(b)&&(s=Ga(n,p),s===2&&(_=fo(n),_!==0&&(p=_,s=Vo(n,_))),s===1))throw o=Ms,Ji(n,0),wi(n,p),wn(n,Ut()),o;switch(n.finishedWork=b,n.finishedLanes=p,s){case 0:case 1:throw Error(Ae(345));case 2:Qi(n,_n,ti);break;case 3:if(wi(n,p),(p&130023424)===p&&(s=Nl+500-Ut(),10<s)){if(Ea(n,0)!==0)break;if(b=n.suspendedLanes,(b&p)!==p){cn(),n.pingedLanes|=n.suspendedLanes&b;break}n.timeoutHandle=wo(Qi.bind(null,n,_n,ti),s);break}Qi(n,_n,ti);break;case 4:if(wi(n,p),(p&4194240)===p)break;for(s=n.eventTimes,b=-1;0<p;){var V=31-Hn(p);_=1<<V,V=s[V],V>b&&(b=V),p&=~_}if(p=b,p=Ut()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Bg(p/1960))-p,10<p){n.timeoutHandle=wo(Qi.bind(null,n,_n,ti),p);break}Qi(n,_n,ti);break;case 5:Qi(n,_n,ti);break;default:throw Error(Ae(329))}}}return wn(n,Ut()),n.callbackNode===o?yd.bind(null,n):null}function Vo(n,s){var o=ps;return n.current.memoizedState.isDehydrated&&(Ji(n,s).flags|=256),n=Ga(n,s),n!==2&&(s=_n,_n=o,s!==null&&Uo(s)),n}function Uo(n){_n===null?_n=n:_n.push.apply(_n,n)}function Vg(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var p=0;p<o.length;p++){var b=o[p],_=b.getSnapshot;b=b.value;try{if(!jn(_(),b))return!1}catch(V){return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wi(n,s){for(s&=~Al,s&=~su,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-Hn(s),p=1<<o;n[o]=-1,s&=~p}}function ff(n){if((gt&6)!==0)throw Error(Ae(327));Nr();var s=Ea(n,0);if((s&1)===0)return wn(n,Ut()),null;var o=Ga(n,s);if(n.tag!==0&&o===2){var p=fo(n);p!==0&&(s=p,o=Vo(n,p))}if(o===1)throw o=Ms,Ji(n,0),wi(n,s),wn(n,Ut()),o;if(o===6)throw Error(Ae(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Qi(n,_n,ti),wn(n,Ut()),null}function Ml(n,s){var o=gt;gt|=1;try{return n(s)}finally{gt=o,gt===0&&(Dr=Ut()+500,tu&&Di())}}function rr(n){Si!==null&&Si.tag===0&&(gt&6)===0&&Nr();var s=gt;gt|=1;var o=Ln.transition,p=wt;try{if(Ln.transition=null,wt=1,n)return n()}finally{wt=p,Ln.transition=o,gt=s,(gt&6)===0&&Di()}}function Ll(){Sn=kr.current,Tt(kr)}function Ji(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,_g(o)),jt!==null)for(o=jt.return;o!==null;){var p=o;switch(dl(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&La();break;case 3:Rr(),Tt(mn),Tt(hn),Sl();break;case 5:xl(p);break;case 4:Rr();break;case 13:Tt(Lt);break;case 19:Tt(Lt);break;case 10:vl(p.type._context);break;case 22:case 23:Ll()}o=o.return}if($t=n,jt=n=Ai(n.current,null),nn=Sn=s,Qt=0,Ms=null,Al=su=ir=0,_n=ps=null,Xi!==null){for(s=0;s<Xi.length;s++)if(o=Xi[s],p=o.interleaved,p!==null){o.interleaved=null;var b=p.next,_=o.pending;if(_!==null){var V=_.next;_.next=b,p.next=V}o.pending=p}Xi=null}return n}function wd(n,s){do{var o=jt;try{if(_l(),va.current=Ha,Ua){for(var p=Ot.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}Ua=!1}if(nr=0,Jt=Zt=Ot=null,cs=!1,Ts=0,Tl.current=null,o===null||o.return===null){Qt=1,Ms=s,jt=null;break}e:{var _=n,V=o.return,Q=o,K=s;if(s=nn,Q.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ne=K,fe=Q,re=fe.tag;if((fe.mode&1)===0&&(re===0||re===11||re===15)){var ue=fe.alternate;ue?(fe.updateQueue=ue.updateQueue,fe.memoizedState=ue.memoizedState,fe.lanes=ue.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var F=Yh(V);if(F!==null){F.flags&=-257,Jh(F,V,Q,_,s),F.mode&1&&Xh(_,ne,s),s=F,K=ne;var me=s.updateQueue;if(me===null){var te=new Set;te.add(K),s.updateQueue=te}else me.add(K);break e}else{if((s&1)===0){Xh(_,ne,s),Ol();break e}K=Error(Ae(426))}}else if(Nt&&Q.mode&1){var Te=Yh(V);if(Te!==null){(Te.flags&65536)===0&&(Te.flags|=256),Jh(Te,V,Q,_,s),pl(Fr(K,Q));break e}}_=K=Fr(K,Q),Qt!==4&&(Qt=2),ps===null?ps=[_]:ps.push(_),_=V;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var Z=id(_,K,s);qh(_,Z);break e;case 1:Q=K;var ee=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ei===null||!Ei.has(J)))){_.flags|=65536,s&=-s,_.lanes|=s;var de=rd(_,Q,s);qh(_,de);break e}}_=_.return}while(_!==null)}Cd(o)}catch(ye){s=ye,jt===o&&o!==null&&(jt=o=o.return);continue}break}while(1)}function xd(){var n=qa.current;return qa.current=Ha,n===null?Ha:n}function Ol(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),$t===null||(ir&268435455)===0&&(su&268435455)===0||wi($t,nn)}function Ga(n,s){var o=gt;gt|=2;var p=xd();($t!==n||nn!==s)&&(ti=null,Ji(n,s));do try{Ug();break}catch(b){wd(n,b)}while(1);if(_l(),gt=o,qa.current=p,jt!==null)throw Error(Ae(261));return $t=null,nn=0,Qt}function Ug(){for(;jt!==null;)Sd(jt)}function Hg(){for(;jt!==null&&!d0();)Sd(jt)}function Sd(n){var s=kd(n.alternate,n,Sn);n.memoizedProps=n.pendingProps,s===null?Cd(n):jt=s,Tl.current=null}function Cd(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=Og(o,s,Sn),o!==null){jt=o;return}}else{if(o=zg(o,s),o!==null){o.flags&=32767,jt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Qt=6,jt=null;return}}if(s=s.sibling,s!==null){jt=s;return}jt=s=n}while(s!==null);Qt===0&&(Qt=5)}function Qi(n,s,o){var p=wt,b=Ln.transition;try{Ln.transition=null,wt=1,qg(n,s,o,p)}finally{Ln.transition=b,wt=p}return null}function qg(n,s,o,p){do Nr();while(Si!==null);if((gt&6)!==0)throw Error(Ae(327));o=n.finishedWork;var b=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(Ae(177));n.callbackNode=null,n.callbackPriority=0;var _=o.lanes|o.childLanes;if(C0(n,_),n===$t&&(jt=$t=null,nn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||la||(la=!0,Pd(Ia,function(){return Nr(),null})),_=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||_){_=Ln.transition,Ln.transition=null;var V=wt;wt=1;var Q=gt;gt|=4,Tl.current=null,Fg(n,o),vd(o,n),lg(mo),Ta=!!vo,mo=vo=null,n.current=o,Dg(o),p0(),gt=Q,wt=V,Ln.transition=_}else n.current=o;if(la&&(la=!1,Si=n,Wa=b),_=n.pendingLanes,_===0&&(Ei=null),v0(o.stateNode),wn(n,Ut()),s!==null)for(p=n.onRecoverableError,o=0;o<s.length;o++)b=s[o],p(b.value,{componentStack:b.stack,digest:b.digest});if(ja)throw ja=!1,n=Do,Do=null,n;return(Wa&1)!==0&&n.tag!==0&&Nr(),_=n.pendingLanes,(_&1)!==0?n===Bo?gs++:(gs=0,Bo=n):gs=0,Di(),null}function Nr(){if(Si!==null){var n=nc(Wa),s=Ln.transition,o=wt;try{if(Ln.transition=null,wt=16>n?16:n,Si===null)var p=!1;else{if(n=Si,Si=null,Wa=0,(gt&6)!==0)throw Error(Ae(331));var b=gt;for(gt|=4,Ve=n.current;Ve!==null;){var _=Ve,V=_.child;if((Ve.flags&16)!==0){var Q=_.deletions;if(Q!==null){for(var K=0;K<Q.length;K++){var ne=Q[K];for(Ve=ne;Ve!==null;){var fe=Ve;switch(fe.tag){case 0:case 11:case 15:ds(8,fe,_)}var re=fe.child;if(re!==null)re.return=fe,Ve=re;else for(;Ve!==null;){fe=Ve;var ue=fe.sibling,F=fe.return;if(pd(fe),fe===ne){Ve=null;break}if(ue!==null){ue.return=F,Ve=ue;break}Ve=F}}}var me=_.alternate;if(me!==null){var te=me.child;if(te!==null){me.child=null;do{var Te=te.sibling;te.sibling=null,te=Te}while(te!==null)}}Ve=_}}if((_.subtreeFlags&2064)!==0&&V!==null)V.return=_,Ve=V;else e:for(;Ve!==null;){if(_=Ve,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ds(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,Ve=Z;break e}Ve=_.return}}var ee=n.current;for(Ve=ee;Ve!==null;){V=Ve;var J=V.child;if((V.subtreeFlags&2064)!==0&&J!==null)J.return=V,Ve=J;else e:for(V=ee;Ve!==null;){if(Q=Ve,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:ru(9,Q)}}catch(ye){Ft(Q,Q.return,ye)}if(Q===V){Ve=null;break e}var de=Q.sibling;if(de!==null){de.return=Q.return,Ve=de;break e}Ve=Q.return}}if(gt=b,Di(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Xa,n)}catch(ye){}p=!0}return p}finally{wt=o,Ln.transition=s}}return!1}function cf(n,s,o){s=Fr(o,s),s=id(n,s,1),n=Ii(n,s,1),s=cn(),n!==null&&(Os(n,1,s),wn(n,s))}function Ft(n,s,o){if(n.tag===3)cf(n,n,o);else for(;s!==null;){if(s.tag===3){cf(s,n,o);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ei===null||!Ei.has(p))){n=Fr(o,n),n=rd(s,n,1),s=Ii(s,n,1),n=cn(),s!==null&&(Os(s,1,n),wn(s,n));break}}s=s.return}}function jg(n,s,o){var p=n.pingCache;p!==null&&p.delete(s),s=cn(),n.pingedLanes|=n.suspendedLanes&o,$t===n&&(nn&o)===o&&(Qt===4||Qt===3&&(nn&130023424)===nn&&500>Ut()-Nl?Ji(n,0):Al|=o),wn(n,s)}function bd(n,s){s===0&&((n.mode&1)===0?s=1:(s=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var o=cn();n=oi(n,s),n!==null&&(Os(n,s,o),wn(n,o))}function Wg(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),bd(n,o)}function Gg(n,s){var o=0;switch(n.tag){case 13:var p=n.stateNode,b=n.memoizedState;b!==null&&(o=b.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(Ae(314))}p!==null&&p.delete(s),bd(n,o)}var kd;kd=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||mn.current)vn=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return vn=!1,Lg(n,s,o);vn=(n.flags&131072)!==0}else vn=!1,Nt&&(s.flags&1048576)!==0&&Ec(s,Ra,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;ya(n,s),n=s.pendingProps;var b=Lr(s,hn.current);Ar(s,o),b=bl(null,s,p,n,b,o);var _=kl();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(p)?(_=!0,Oa(s)):_=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,yl(s),b.updater=nu,s.stateNode=b,b._reactInternals=s,Io(s,p,n,o),s=Ao(null,s,p,!0,_,o)):(s.tag=0,Nt&&_&&cl(s),fn(null,s,b,o),s=s.child),s;case 16:p=s.elementType;e:{switch(ya(n,s),n=s.pendingProps,b=p._init,p=b(p._payload),s.type=p,b=s.tag=Qg(p),n=Bn(p,n),b){case 0:s=To(null,s,p,n,o);break e;case 1:s=tf(null,s,p,n,o);break e;case 11:s=$h(null,s,p,n,o);break e;case 14:s=ef(null,s,p,Bn(p.type,n),o);break e}throw Error(Ae(306,p,""))}return s;case 0:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Bn(p,b),To(n,s,p,b,o);case 1:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Bn(p,b),tf(n,s,p,b,o);case 3:e:{if(od(s),n===null)throw Error(Ae(387));p=s.pendingProps,_=s.memoizedState,b=_.element,Mc(n,s),Ba(s,p,null,o);var V=s.memoizedState;if(p=V.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){b=Fr(Error(Ae(423)),s),s=nf(n,s,p,o,b);break e}else if(p!==b){b=Fr(Error(Ae(424)),s),s=nf(n,s,p,o,b);break e}else for(Cn=Pi(s.stateNode.containerInfo.firstChild),bn=s,Nt=!0,Un=null,o=Rc(s,null,p,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Or(),p===b){s=li(n,s,o);break e}fn(n,s,p,o)}s=s.child}return s;case 5:return Fc(s),n===null&&bo(s),p=s.type,b=s.pendingProps,_=n!==null?n.memoizedProps:null,V=b.children,yo(p,b)?V=null:_!==null&&yo(p,_)&&(s.flags|=32),ud(n,s),fn(n,s,V,o),s.child;case 6:return n===null&&bo(s),null;case 13:return ld(n,s,o);case 4:return wl(s,s.stateNode.containerInfo),p=s.pendingProps,n===null?s.child=zr(s,null,p,o):fn(n,s,p,o),s.child;case 11:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Bn(p,b),$h(n,s,p,b,o);case 7:return fn(n,s,s.pendingProps,o),s.child;case 8:return fn(n,s,s.pendingProps.children,o),s.child;case 12:return fn(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(p=s.type._context,b=s.pendingProps,_=s.memoizedProps,V=b.value,It(Fa,p._currentValue),p._currentValue=V,_!==null)if(jn(_.value,V)){if(_.children===b.children&&!mn.current){s=li(n,s,o);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var Q=_.dependencies;if(Q!==null){V=_.child;for(var K=Q.firstContext;K!==null;){if(K.context===p){if(_.tag===1){K=si(-1,o&-o),K.tag=2;var ne=_.updateQueue;if(ne!==null){ne=ne.shared;var fe=ne.pending;fe===null?K.next=K:(K.next=fe.next,fe.next=K),ne.pending=K}}_.lanes|=o,K=_.alternate,K!==null&&(K.lanes|=o),ko(_.return,o,s),Q.lanes|=o;break}K=K.next}}else if(_.tag===10)V=_.type===s.type?null:_.child;else if(_.tag===18){if(V=_.return,V===null)throw Error(Ae(341));V.lanes|=o,Q=V.alternate,Q!==null&&(Q.lanes|=o),ko(V,o,s),V=_.sibling}else V=_.child;if(V!==null)V.return=_;else for(V=_;V!==null;){if(V===s){V=null;break}if(_=V.sibling,_!==null){_.return=V.return,V=_;break}V=V.return}_=V}fn(n,s,b.children,o),s=s.child}return s;case 9:return b=s.type,p=s.pendingProps.children,Ar(s,o),b=On(b),p=p(b),s.flags|=1,fn(n,s,p,o),s.child;case 14:return p=s.type,b=Bn(p,s.pendingProps),b=Bn(p.type,b),ef(n,s,p,b,o);case 15:return sd(n,s,s.type,s.pendingProps,o);case 17:return p=s.type,b=s.pendingProps,b=s.elementType===p?b:Bn(p,b),ya(n,s),s.tag=1,yn(p)?(n=!0,Oa(s)):n=!1,Ar(s,o),Oc(s,p,b),Io(s,p,b,o),Ao(null,s,p,!0,n,o);case 19:return hd(n,s,o);case 22:return ad(n,s,o)}throw Error(Ae(156,s.tag))};function Pd(n,s){return Jf(n,s)}function Zg(n,s,o,p){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,s,o,p){return new Zg(n,s,o,p)}function zl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qg(n){if(typeof n=="function")return zl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===el)return 11;if(n===tl)return 14}return 2}function Ai(n,s){var o=n.alternate;return o===null?(o=Mn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Sa(n,s,o,p,b,_){var V=2;if(p=n,typeof n=="function")zl(n)&&(V=1);else if(typeof n=="string")V=5;else e:switch(n){case gr:return $i(o.children,b,_,s);case $o:V=8,b|=8;break;case Xu:return n=Mn(12,o,s,b|2),n.elementType=Xu,n.lanes=_,n;case Yu:return n=Mn(13,o,s,b),n.elementType=Yu,n.lanes=_,n;case Ju:return n=Mn(19,o,s,b),n.elementType=Ju,n.lanes=_,n;case zf:return au(o,b,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Lf:V=10;break e;case Of:V=9;break e;case el:V=11;break e;case tl:V=14;break e;case vi:V=16,p=null;break e}throw Error(Ae(130,n==null?n:typeof n,""))}return s=Mn(V,o,s,b),s.elementType=n,s.type=p,s.lanes=_,s}function $i(n,s,o,p){return n=Mn(7,n,p,s),n.lanes=o,n}function au(n,s,o,p){return n=Mn(22,n,p,s),n.elementType=zf,n.lanes=o,n.stateNode={isHidden:!1},n}function Zu(n,s,o){return n=Mn(6,n,null,s),n.lanes=o,n}function Qu(n,s,o){return s=Mn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Kg(n,s,o,p,b){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eu(0),this.expirationTimes=Eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.identifierPrefix=p,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Rl(n,s,o,p,b,_,V,Q,K){return n=new Kg(n,s,o,Q,K),s===1?(s=1,_===!0&&(s|=8)):s=0,_=Mn(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:p,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(_),n}function Xg(n,s,o){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:p==null?null:""+p,children:n,containerInfo:s,implementation:o}}function Id(n){if(!n)return zi;n=n._reactInternals;e:{if(ar(n)!==n||n.tag!==1)throw Error(Ae(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Ae(171))}if(n.tag===1){var o=n.type;if(yn(o))return Pc(n,o,s)}return s}function Ed(n,s,o,p,b,_,V,Q,K){return n=Rl(o,p,!0,n,b,_,V,Q,K),n.context=Id(null),o=n.current,p=cn(),b=Ti(o),_=si(p,b),_.callback=s!=null?s:null,Ii(o,_,b),n.current.lanes=b,Os(n,b,p),wn(n,p),n}function uu(n,s,o,p){var b=s.current,_=cn(),V=Ti(b);return o=Id(o),s.context===null?s.context=o:s.pendingContext=o,s=si(_,V),s.payload={element:n},p=p===void 0?null:p,p!==null&&(s.callback=p),n=Ii(b,s,V),n!==null&&(qn(n,b,V,_),_a(n,b,V)),V}function Za(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function df(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Fl(n,s){df(n,s),(n=n.alternate)&&df(n,s)}function Yg(){return null}var Td=typeof reportError=="function"?reportError:function(n){console.error(n)};function Dl(n){this._internalRoot=n}ou.prototype.render=Dl.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(Ae(409));uu(n,s,null,null)};ou.prototype.unmount=Dl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;rr(function(){uu(null,n,null,null)}),s[ui]=null}};function ou(n){this._internalRoot=n}ou.prototype.unstable_scheduleHydration=function(n){if(n){var s=sc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<yi.length&&s!==0&&s<yi[o].priority;o++);yi.splice(o,0,n),o===0&&uc(n)}};function Bl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function pf(){}function Jg(n,s,o,p,b){if(b){if(typeof p=="function"){var _=p;p=function(){var ne=Za(V);_.call(ne)}}var V=Ed(s,p,n,0,null,!1,!1,"",pf);return n._reactRootContainer=V,n[ui]=V.current,bs(n.nodeType===8?n.parentNode:n),rr(),V}for(;b=n.lastChild;)n.removeChild(b);if(typeof p=="function"){var Q=p;p=function(){var ne=Za(K);Q.call(ne)}}var K=Rl(n,0,!1,null,null,!1,!1,"",pf);return n._reactRootContainer=K,n[ui]=K.current,bs(n.nodeType===8?n.parentNode:n),rr(function(){uu(s,K,o,p)}),K}function hu(n,s,o,p,b){var _=o._reactRootContainer;if(_){var V=_;if(typeof b=="function"){var Q=b;b=function(){var K=Za(V);Q.call(K)}}uu(s,V,n,b)}else V=Jg(o,s,n,b,p);return Za(V)}ic=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=rs(s.pendingLanes);o!==0&&(rl(s,o|1),wn(s,Ut()),(gt&6)===0&&(Dr=Ut()+500,Di()))}break;case 13:rr(function(){var p=oi(n,1);if(p!==null){var b=cn();qn(p,n,1,b)}}),Fl(n,1)}};sl=function(n){if(n.tag===13){var s=oi(n,134217728);if(s!==null){var o=cn();qn(s,n,134217728,o)}Fl(n,134217728)}};rc=function(n){if(n.tag===13){var s=Ti(n),o=oi(n,s);if(o!==null){var p=cn();qn(o,n,s,p)}Fl(n,s)}};sc=function(){return wt};ac=function(n,s){var o=wt;try{return wt=n,s()}finally{wt=o}};oo=function(n,s,o){switch(s){case"input":if(to(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var p=o[s];if(p!==n&&p.form===n.form){var b=eu(p);if(!b)throw Error(Ae(90));Ff(p),to(p,b)}}}break;case"textarea":Bf(n,o);break;case"select":s=o.value,s!=null&&Pr(n,!!o.multiple,s,!1)}};Gf=Ml;Zf=rr;var $g={usingClientEntryPoint:!1,Events:[Rs,yr,eu,jf,Wf,Ml]},es={findFiberByHostInstance:Ki,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},e_={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Xf(n),n===null?null:n.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{Xa=ha.inject(e_),Yn=ha}catch(n){}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$g;Pn.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bl(s))throw Error(Ae(200));return Xg(n,s,null,o)};Pn.createRoot=function(n,s){if(!Bl(n))throw Error(Ae(299));var o=!1,p="",b=Td;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Rl(n,1,!1,null,null,o,!1,p,b),n[ui]=s.current,bs(n.nodeType===8?n.parentNode:n),new Dl(s)};Pn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(Ae(188)):(n=Object.keys(n).join(","),Error(Ae(268,n)));return n=Xf(s),n=n===null?null:n.stateNode,n};Pn.flushSync=function(n){return rr(n)};Pn.hydrate=function(n,s,o){if(!lu(s))throw Error(Ae(200));return hu(null,n,s,!0,o)};Pn.hydrateRoot=function(n,s,o){if(!Bl(n))throw Error(Ae(405));var p=o!=null&&o.hydratedSources||null,b=!1,_="",V=Td;if(o!=null&&(o.unstable_strictMode===!0&&(b=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&(V=o.onRecoverableError)),s=Ed(s,null,n,1,o!=null?o:null,b,!1,_,V),n[ui]=s.current,bs(n),p)for(n=0;n<p.length;n++)o=p[n],b=o._getVersion,b=b(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,b]:s.mutableSourceEagerHydrationData.push(o,b);return new ou(s)};Pn.render=function(n,s,o){if(!lu(s))throw Error(Ae(200));return hu(null,n,s,!1,o)};Pn.unmountComponentAtNode=function(n){if(!lu(n))throw Error(Ae(40));return n._reactRootContainer?(rr(function(){hu(null,null,n,!1,function(){n._reactRootContainer=null,n[ui]=null})}),!0):!1};Pn.unstable_batchedUpdates=Ml;Pn.unstable_renderSubtreeIntoContainer=function(n,s,o,p){if(!lu(o))throw Error(Ae(200));if(n==null||n._reactInternals===void 0)throw Error(Ae(38));return hu(n,s,o,!1,p)};Pn.version="18.2.0-next-9e3b772b8-20220608";(function(n){function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}s(),n.exports=Pn})(Ef);var Ad,gf=Ef.exports;Ad=gf.createRoot,gf.hydrateRoot;const _f=document.getElementById("root");_f?Ad(_f).render(dr(Jp,{})):console.error("unable to find root");
