const fg=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))d(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const F of g.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&d(F)}).observe(document,{childList:!0,subtree:!0});function o(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerpolicy&&(g.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?g.credentials="include":x.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(x){if(x.ep)return;x.ep=!0;const g=o(x);fetch(x.href,g)}};fg();var gf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function cg(n){if(n.__esModule)return n;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(o){var d=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,d.get?d:{enumerable:!0,get:function(){return n[o]}})}),s}function dg(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Aa={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),gg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),mg=Symbol.for("react.provider"),yg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Cg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),nh=Symbol.iterator;function Pg(n){return n===null||typeof n!="object"?null:(n=nh&&n[nh]||n["@@iterator"],typeof n=="function"?n:null)}var _f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vf=Object.assign,pf={};function wr(n,s,o){this.props=n,this.context=s,this.refs=pf,this.updater=o||_f}wr.prototype.isReactComponent={};wr.prototype.setState=function(n,s){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,s,"setState")};wr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function mf(){}mf.prototype=wr.prototype;function Ro(n,s,o){this.props=n,this.context=s,this.refs=pf,this.updater=o||_f}var Do=Ro.prototype=new mf;Do.constructor=Ro;vf(Do,wr.prototype);Do.isPureReactComponent=!0;var ih=Array.isArray,yf=Object.prototype.hasOwnProperty,Bo={current:null},wf={key:!0,ref:!0,__self:!0,__source:!0};function Sf(n,s,o){var d,x={},g=null,F=null;if(s!=null)for(d in s.ref!==void 0&&(F=s.ref),s.key!==void 0&&(g=""+s.key),s)yf.call(s,d)&&!wf.hasOwnProperty(d)&&(x[d]=s[d]);var H=arguments.length-2;if(H===1)x.children=o;else if(1<H){for(var j=Array(H),K=0;K<H;K++)j[K]=arguments[K+2];x.children=j}if(n&&n.defaultProps)for(d in H=n.defaultProps,H)x[d]===void 0&&(x[d]=H[d]);return{$$typeof:_s,type:n,key:g,ref:F,props:x,_owner:Bo.current}}function bg(n,s){return{$$typeof:_s,type:n.type,key:s,ref:n.ref,props:n.props,_owner:n._owner}}function Vo(n){return typeof n=="object"&&n!==null&&n.$$typeof===_s}function kg(n){var s={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return s[o]})}var rh=/\/+/g;function mu(n,s){return typeof n=="object"&&n!==null&&n.key!=null?kg(""+n.key):s.toString(36)}function Qs(n,s,o,d,x){var g=typeof n;(g==="undefined"||g==="boolean")&&(n=null);var F=!1;if(n===null)F=!0;else switch(g){case"string":case"number":F=!0;break;case"object":switch(n.$$typeof){case _s:case gg:F=!0}}if(F)return F=n,x=x(F),n=d===""?"."+mu(F,0):d,ih(x)?(o="",n!=null&&(o=n.replace(rh,"$&/")+"/"),Qs(x,s,o,"",function(K){return K})):x!=null&&(Vo(x)&&(x=bg(x,o+(!x.key||F&&F.key===x.key?"":(""+x.key).replace(rh,"$&/")+"/")+n)),s.push(x)),1;if(F=0,d=d===""?".":d+":",ih(n))for(var H=0;H<n.length;H++){g=n[H];var j=d+mu(g,H);F+=Qs(g,s,o,j,x)}else if(j=Pg(n),typeof j=="function")for(n=j.call(n),H=0;!(g=n.next()).done;)g=g.value,j=d+mu(g,H++),F+=Qs(g,s,o,j,x);else if(g==="object")throw s=String(n),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return F}function zs(n,s,o){if(n==null)return n;var d=[],x=0;return Qs(n,d,"","",function(g){return s.call(o,g,x++)}),d}function Ig(n){if(n._status===-1){var s=n._result;s=s(),s.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=s)}if(n._status===1)return n._result.default;throw n._result}var Yt={current:null},Ks={transition:null},Tg={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:Bo};Qe.Children={map:zs,forEach:function(n,s,o){zs(n,function(){s.apply(this,arguments)},o)},count:function(n){var s=0;return zs(n,function(){s++}),s},toArray:function(n){return zs(n,function(s){return s})||[]},only:function(n){if(!Vo(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Qe.Component=wr;Qe.Fragment=_g;Qe.Profiler=pg;Qe.PureComponent=Ro;Qe.StrictMode=vg;Qe.Suspense=Sg;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;Qe.cloneElement=function(n,s,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var d=vf({},n.props),x=n.key,g=n.ref,F=n._owner;if(s!=null){if(s.ref!==void 0&&(g=s.ref,F=Bo.current),s.key!==void 0&&(x=""+s.key),n.type&&n.type.defaultProps)var H=n.type.defaultProps;for(j in s)yf.call(s,j)&&!wf.hasOwnProperty(j)&&(d[j]=s[j]===void 0&&H!==void 0?H[j]:s[j])}var j=arguments.length-2;if(j===1)d.children=o;else if(1<j){H=Array(j);for(var K=0;K<j;K++)H[K]=arguments[K+2];d.children=H}return{$$typeof:_s,type:n.type,key:x,ref:g,props:d,_owner:F}};Qe.createContext=function(n){return n={$$typeof:yg,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:mg,_context:n},n.Consumer=n};Qe.createElement=Sf;Qe.createFactory=function(n){var s=Sf.bind(null,n);return s.type=n,s};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(n){return{$$typeof:wg,render:n}};Qe.isValidElement=Vo;Qe.lazy=function(n){return{$$typeof:xg,_payload:{_status:-1,_result:n},_init:Ig}};Qe.memo=function(n,s){return{$$typeof:Cg,type:n,compare:s===void 0?null:s}};Qe.startTransition=function(n){var s=Ks.transition;Ks.transition={};try{n()}finally{Ks.transition=s}};Qe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Qe.useCallback=function(n,s){return Yt.current.useCallback(n,s)};Qe.useContext=function(n){return Yt.current.useContext(n)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(n){return Yt.current.useDeferredValue(n)};Qe.useEffect=function(n,s){return Yt.current.useEffect(n,s)};Qe.useId=function(){return Yt.current.useId()};Qe.useImperativeHandle=function(n,s,o){return Yt.current.useImperativeHandle(n,s,o)};Qe.useInsertionEffect=function(n,s){return Yt.current.useInsertionEffect(n,s)};Qe.useLayoutEffect=function(n,s){return Yt.current.useLayoutEffect(n,s)};Qe.useMemo=function(n,s){return Yt.current.useMemo(n,s)};Qe.useReducer=function(n,s,o){return Yt.current.useReducer(n,s,o)};Qe.useRef=function(n){return Yt.current.useRef(n)};Qe.useState=function(n){return Yt.current.useState(n)};Qe.useSyncExternalStore=function(n,s,o){return Yt.current.useSyncExternalStore(n,s,o)};Qe.useTransition=function(){return Yt.current.useTransition()};Qe.version="18.2.0";Aa.exports=Qe;const di={text:!1,trimmedCurve:!1,circle:!1,circleArc:!1,ellipse:!1,ellipseArc:!1,shape:!1,component:!1,line:!1,printIdMap:!1,highlightIds:!1},gi={text:{red:0,green:0,blue:1,alpha:.5},trimmedCurve:{red:0,green:1,blue:0,alpha:.5},circle:{red:1,green:1,blue:0,alpha:.5},circleArc:{red:1,green:1,blue:0,alpha:.5},ellipse:{red:1,green:1,blue:0,alpha:.5},ellipseArc:{red:1,green:1,blue:0,alpha:.5},component:{red:.5,green:1,blue:1,alpha:.5},shape:{red:1,green:.5,blue:1,alpha:.5},line:{red:1,green:0,blue:0,alpha:.5}},Hr=new Map;function Eg(){Hr.clear()}function Mg(n,s){Hr.has(n)&&(console.warn("duplicate ID's in file",n),console.warn("prev",Hr.get(n)),console.warn("new",s)),Hr.set(n,s)}function zg(n){return Hr.get(n)||null}class Ag{constructor(s,o,d){this.element=s,this.attributeName=o,this.parent=d,this.value=s.getAttribute(o),this.valueAsString=this.value||"",this.valueAsNumber=parseFloat(this.value||""),d.attributes[o]=this.valueAsString,isNaN(this.valueAsNumber)&&(this.valueAsNumber=0)}}function Cf(n){const s=[];return Object.keys(n).forEach(d=>{Array.isArray(n[d])&&n[d].forEach(x=>{x&&typeof x.draw=="function"&&s.push(x)})}),s}const xf=new Map;function Og(n,s){xf.set(n,s)}function Ng(n){return xf.get(n)||null}var Pf={exports:{}},Lg={},Fg=Object.freeze(Object.defineProperty({__proto__:null,default:Lg},Symbol.toStringTag,{value:"Module"})),aa=cg(Fg);/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, JÃ¼rg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 JÃ¼rg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||aa;var d=s.window,x=s.document,g=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],i=t.slice,a=Object.create,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=t.forEach||function(v,S){for(var k=0,I=this.length;k<I;k++)v.call(S,this[k],k,this)},f=function(v,S){for(var k in this)this.hasOwnProperty(k)&&v.call(S,this[k],k,this)},c=Object.assign||function(v){for(var S=1,k=arguments.length;S<k;S++){var I=arguments[S];for(var b in I)I.hasOwnProperty(b)&&(v[b]=I[b])}return v},_=function(v,S,k){if(v){var I=u(v,"length");(I&&typeof I.value=="number"?h:f).call(v,S,k=k||v)}return k};function m(v,S,k,I,b){var C={};function w(E,z){z=z||(z=u(S,E))&&(z.get?z:z.value),typeof z=="string"&&z[0]==="#"&&(z=v[z.substring(1)]||z);var A=typeof z=="function",L=z,R=b||A&&!z.base?z&&z.get?E in v:v[E]:null,O;(!b||!R)&&(A&&R&&(z.base=R),A&&I!==!1&&(O=E.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[O[3].toLowerCase()+O[4]]=O[2]),(!L||A||!L.get||typeof L.get!="function"||!p.isPlainObject(L))&&(L={value:L,writable:!0}),(u(v,E)||{configurable:!0}).configurable&&(L.configurable=!0,L.enumerable=k!=null?k:!O),l(v,E,L))}if(S){for(var y in S)S.hasOwnProperty(y)&&!e.test(y)&&w(y);for(var y in C){var P=C[y],T=v["set"+P],M=v["get"+P]||T&&v["is"+P];M&&(I===!0||M.length===0)&&w(y,{get:M,set:T})}}return v}function p(){for(var v=0,S=arguments.length;v<S;v++){var k=arguments[v];k&&c(this,k)}return this}return m(p,{inject:function(v){if(v){var S=v.statics===!0?v:v.statics,k=v.beans,I=v.preserve;S!==v&&m(this.prototype,v,v.enumerable,k,I),m(this,S,null,k,I)}for(var b=1,C=arguments.length;b<C;b++)this.inject(arguments[b]);return this},extend:function(){for(var v=this,S,k,I=0,b,C=arguments.length;I<C&&!(S&&k);I++)b=arguments[I],S=S||b.initialize,k=k||b.prototype;return S=S||function(){v.apply(this,arguments)},k=S.prototype=k||a(this.prototype),l(k,"constructor",{value:S,writable:!0,configurable:!0}),m(S,this),arguments.length&&this.inject.apply(S,arguments),S.base=v,S}}).inject({enumerable:!1,initialize:p,set:p,inject:function(){for(var v=0,S=arguments.length;v<S;v++){var k=arguments[v];k&&m(this,k,k.enumerable,k.beans,k.preserve)}return this},extend:function(){var v=a(this);return v.inject.apply(v,arguments)},each:function(v,S){return _(this,v,S)},clone:function(){return new this.constructor(this)},statics:{set:c,each:_,create:a,define:l,describe:u,clone:function(v){return c(new v.constructor,v)},isPlainObject:function(v){var S=v!=null&&v.constructor;return S&&(S===Object||S===p||S.name==="Object")},pick:function(v,S){return v!==o?v:S},slice:function(v,S,k){return i.call(v,S,k)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(e,t){if(!/^_/.test(t)){var i=typeof e;this.push(t+": "+(i==="number"?ae.instance.number(e):i==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return g.importJSON(e,this)},exportJSON:function(e){return g.exportJSON(this,e)},toJSON:function(){return g.serialize(this)},set:function(e,t){return e&&g.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),i=t.prototype._class;return i&&!g.exports[i]&&(g.exports[i]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(;i--;)if(!g.equals(e[i],t[i]))return!1}else{var a=Object.keys(e),i=a.length;if(i!==Object.keys(t).length)return!1;for(;i--;){var u=a[i];if(!(t.hasOwnProperty(u)&&g.equals(e[u],t[u])))return!1}}return!0}return!1},read:function(e,t,i,a){if(this===g){var u=this.peek(e,t);return e.__index++,u}var l=this.prototype,h=l._readIndex,f=t||h&&e.__index||0,c=e.length,_=e[f];if(a=a||c-f,_ instanceof this||i&&i.readNull&&_==null&&a<=1)return h&&(e.__index=f+1),_&&i&&i.clone?_.clone():_;if(_=g.create(l),h&&(_.__read=!0),_=_.initialize.apply(_,f>0||f+a<c?g.slice(e,f,f+a):e)||_,h){e.__index=f+_.__read;var m=_.__filtered;m&&(e.__filtered=m,_.__filtered=o),_.__read=o}return _},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,i,a){for(var u=[],l,h=t||0,f=a?h+a:e.length,c=h;c<f;c++)u.push(Array.isArray(l=e[c])?this.read(l,0,i):this.read(e,c,i,1));return u},readNamed:function(e,t,i,a,u){var l=this.getNamed(e,t),h=l!==o;if(h){var f=e.__filtered;if(!f){var c=this.getSource(e);f=e.__filtered=g.create(c),f.__unfiltered=c}f[t]=o}return this.read(h?[l]:e,i,a,u)},readSupported:function(e,t){var i=this.getSource(e),a=this,u=!1;return i&&Object.keys(i).forEach(function(l){if(l in t){var h=a.readNamed(e,l);h!==o&&(t[l]=h),u=!0}}),u},getSource:function(e){var t=e.__source;if(t===o){var i=e.length===1&&e[0];t=e.__source=i&&g.isPlainObject(i)?i:null}return t},getNamed:function(e,t){var i=this.getSource(e);if(i)return t?i[t]:e.__filtered||i},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,i,a){var u;function l(m){if(!(i&&m in i)&&!(u&&m in u)){var p=t[m];p!==o&&(e[m]=p)}}if(a){for(var h={},f=0,c,_=a.length;f<_;f++)(c=a[f])in t&&(l(c),h[c]=!0);u=h}return Object.keys(t.__unfiltered||t).forEach(l),e},isPlainValue:function(e,t){return g.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,i,a){t=t||{};var u=!a,l;if(u&&(t.formatter=new ae(t.precision),a={length:0,definitions:{},references:{},add:function(p,v){var S="#"+p._id,k=this.references[S];if(!k){this.length++;var I=v.call(p),b=p._class;b&&I[0]!==b&&I.unshift(b),this.definitions[S]=I,k=this.references[S]=[S]}return k}}),e&&e._serialize){l=e._serialize(t,a);var h=e._class;h&&!e._compactSerialize&&(u||!i)&&l[0]!==h&&l.unshift(h)}else if(Array.isArray(e)){l=[];for(var f=0,c=e.length;f<c;f++)l[f]=g.serialize(e[f],t,i,a)}else if(g.isPlainObject(e)){l={};for(var _=Object.keys(e),f=0,c=_.length;f<c;f++){var m=_[f];l[m]=g.serialize(e[m],t,i,a)}}else typeof e=="number"?l=t.formatter.number(e,t.precision):l=e;return u&&a.length>0?[["dictionary",a.definitions],l]:l},deserialize:function(e,t,i,a,u){var l=e,h=!i,f=h&&e&&e.length&&e[0][0]==="dictionary";if(i=i||{},Array.isArray(e)){var c=e[0],_=c==="dictionary";if(e.length==1&&/^#/.test(c))return i.dictionary[c];c=g.exports[c],l=[];for(var m=c?1:0,p=e.length;m<p;m++)l.push(g.deserialize(e[m],t,i,_,f));if(c){var v=l;t?l=t(c,v,h||u):l=new c(v)}}else if(g.isPlainObject(e)){l={},a&&(i.dictionary=l);for(var S in e)l[S]=g.deserialize(e[S],t,i)}return f?l[1]:l},exportJSON:function(e,t){var i=g.serialize(e,t);return t&&t.asString==!1?i:JSON.stringify(i)},importJSON:function(e,t){return g.deserialize(typeof e=="string"?JSON.parse(e):e,function(i,a,u){var l=u&&t&&t.constructor===i,h=l?t:g.create(i.prototype);if(a.length===1&&h instanceof se&&(l||!(h instanceof Pe))){var f=a[0];g.isPlainObject(f)&&(f.insert=!1,l&&(a=a.concat([{insert:!0}])))}return(l?h.set:i).apply(h,a),l&&(t=null),h})},push:function(e,t){var i=t.length;if(i<4096)e.push.apply(e,t);else{var a=e.length;e.length+=i;for(var u=0;u<i;u++)e[a+u]=t[u]}return e},splice:function(e,t,i,a){var u=t&&t.length,l=i===o;i=l?e.length:i,i>e.length&&(i=e.length);for(var h=0;h<u;h++)t[h]._index=i+h;if(l)return g.push(e,t),[];var f=[i,a];t&&g.push(f,t);for(var c=e.splice.apply(e,f),h=0,_=c.length;h<_;h++)c[h]._index=o;for(var h=i+u,_=e.length;h<_;h++)e[h]._index=h;return c},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var F={on:function(e,t){if(typeof e!="string")g.each(e,function(l,h){this.on(h,l)},this);else{var i=this._eventTypes,a=i&&i[e],u=this._callbacks=this._callbacks||{};u=u[e]=u[e]||[],u.indexOf(t)===-1&&(u.push(t),a&&a.install&&u.length===1&&a.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){g.each(e,function(h,f){this.off(f,h)},this);return}var i=this._eventTypes,a=i&&i[e],u=this._callbacks&&this._callbacks[e],l;return u&&(!t||(l=u.indexOf(t))!==-1&&u.length===1?(a&&a.uninstall&&a.uninstall.call(this,e),delete this._callbacks[e]):l!==-1&&u.splice(l,1)),this},once:function(e,t){return this.on(e,function i(){t.apply(this,arguments),this.off(e,i)})},emit:function(e,t){var i=this._callbacks&&this._callbacks[e];if(!i)return!1;var a=g.slice(arguments,1),u=t&&t.target&&!t.currentTarget;i=i.slice(),u&&(t.currentTarget=this);for(var l=0,h=i.length;l<h;l++)if(i[l].apply(this,a)==!1){t&&t.stop&&t.stop();break}return u&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,i=this._callbacks,a=e?"install":"uninstall";if(t){for(var u in i)if(i[u].length>0){var l=t[u],h=l&&l[a];h&&h.call(this,u)}}},statics:{inject:function e(t){var i=t._events;if(i){var a={};g.each(i,function(u,l){var h=typeof u=="string",f=h?u:l,c=g.capitalize(f),_=f.substring(2).toLowerCase();a[_]=h?{}:u,f="_"+f,t["get"+c]=function(){return this[f]},t["set"+c]=function(m){var p=this[f];p&&this.off(_,p),m&&this.on(_,m),this[f]=m}}),t._eventTypes=a}return e.base.apply(this,arguments)}}},H=g.extend({_class:"PaperScope",initialize:function e(){r=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var i=vt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:ht.nativeModes},vt.release(i)}if(!this.agent){var a=s.navigator.userAgent.toLowerCase(),u=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],l=u==="darwin"?"mac":u,h=t.agent=t.browser={platform:l};l&&(h[l]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,c,_,m,p){if(!h.chrome){var v=c==="opera"?m:/^(node|trident)$/.test(c)?p:_;h.version=v,h.versionNumber=parseFloat(v),c={trident:"msie",jsdom:"node"}[c]||c,h.name=c,h[c]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var i=r.PaperScript.execute(e,this,t);return Be.updateFocus(),i},install:function(e){var t=this;g.each(["project","view","tool"],function(a){g.define(e,a,{configurable:!0,get:function(){return t[a]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(e[i]=this[i])},setup:function(e){return r=this,this.project=new me(e),this},createCanvas:function(e,t){return vt.getCanvas(e,t)},activate:function(){r=this},clear:function(){for(var e=this.projects,t=this.tools,i=e.length-1;i>=0;i--)e[i].remove();for(var i=t.length-1;i>=0;i--)t[i].remove()},remove:function(){this.clear(),delete H._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(i,a){return i[t](a)||i[t]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),j=g.extend(F,{initialize:function(e){this._scope=r,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),K={findItemBoundsCollisions:function(e,t,i){function a(h){for(var f=new Array(h.length),c=0;c<h.length;c++){var _=h[c].getBounds();f[c]=[_.left,_.top,_.right,_.bottom]}return f}var u=a(e),l=!t||t===e?u:a(t);return this.findBoundsCollisions(u,l,i||0)},findCurveBoundsCollisions:function(e,t,i,a){function u(v){for(var S=Math.min,k=Math.max,I=new Array(v.length),b=0;b<v.length;b++){var C=v[b];I[b]=[S(C[0],C[2],C[4],C[6]),S(C[1],C[3],C[5],C[7]),k(C[0],C[2],C[4],C[6]),k(C[1],C[3],C[5],C[7])]}return I}var l=u(e),h=!t||t===e?l:u(t);if(a){for(var f=this.findBoundsCollisions(l,h,i||0,!1,!0),c=this.findBoundsCollisions(l,h,i||0,!0,!0),_=[],m=0,p=f.length;m<p;m++)_[m]={hor:f[m],ver:c[m]};return _}return this.findBoundsCollisions(l,h,i||0)},findBoundsCollisions:function(e,t,i,a,u){var l=!t||e===t,h=l?e:e.concat(t),f=e.length,c=h.length;function _(re,le,he){for(var ee=0,ie=re.length;ee<ie;){var fe=ie+ee>>>1;h[re[fe]][le]<he?ee=fe+1:ie=fe}return ee-1}for(var m=a?1:0,p=m+2,v=a?0:1,S=v+2,k=new Array(c),I=0;I<c;I++)k[I]=I;k.sort(function(re,le){return h[re][m]-h[le][m]});for(var b=[],C=new Array(f),I=0;I<c;I++){var w=k[I],y=h[w],P=l?w:w-f,T=w<f,M=l||!T,E=T?[]:null;if(b.length){var z=_(b,p,y[m]-i)+1;if(b.splice(0,z),l&&u){E=E.concat(b);for(var A=0;A<b.length;A++){var L=b[A];C[L].push(P)}}else for(var R=y[S],O=y[v],A=0;A<b.length;A++){var L=b[A],D=h[L],B=L<f,V=l||L>=f;(u||(T&&V||M&&B)&&R>=D[v]-i&&O<=D[S]+i)&&(T&&V&&E.push(l?L:L-f),M&&B&&C[L].push(P))}}if(T&&(e===t&&E.push(w),C[w]=E),b.length){var U=y[p],W=_(b,p,U);b.splice(W+1,0,w)}else b.push(w)}for(var I=0;I<C.length;I++){var $=C[I];$&&$.sort(function(le,he){return le-he})}return C}},ae=g.extend({initialize:function(e){this.precision=g.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,i){return this.number(e)+(i||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});ae.instance=new ae;var Y=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,a=Math.sqrt,u=Math.pow,l=Math.log2||function(p){return Math.log(p)*Math.LOG2E},h=1e-12,f=112e-18;function c(p,v,S){return p<v?v:p>S?S:p}function _(p,v,S){function k(z){var A=z*134217729,L=z-A,R=L+A,O=z-R;return[R,O]}var I=v*v-p*S,b=v*v+p*S;if(i(I)*3<b){var C=k(p),w=k(v),y=k(S),P=v*v,T=w[0]*w[0]-P+2*w[0]*w[1]+w[1]*w[1],M=p*S,E=C[0]*y[0]-M+C[0]*y[1]+C[1]*y[0]+C[1]*y[1];I=P-M+(T-E)}return I}function m(){var p=Math.max.apply(Math,arguments);return p&&(p<1e-8||p>1e8)?u(2,-Math.round(l(p))):0}return{EPSILON:h,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(p){return p>=-h&&p<=h},isMachineZero:function(p){return p>=-f&&p<=f},clamp:c,integrate:function(p,v,S,k){for(var I=e[k-2],b=t[k-2],C=(S-v)*.5,w=C+v,y=0,P=k+1>>1,T=k&1?b[y++]*p(w):0;y<P;){var M=C*I[y];T+=b[y++]*(p(w+M)+p(w-M))}return C*T},findRoot:function(p,v,S,k,I,b,C){for(var w=0;w<b;w++){var y=p(S),P=y/v(S),T=S-P;if(i(P)<C){S=T;break}y>0?(I=S,S=T<=k?(k+I)*.5:T):(k=S,S=T>=I?(k+I)*.5:T)}return c(S,k,I)},solveQuadratic:function(p,v,S,k,I,b){var C,w=1/0;if(i(p)<h){if(i(v)<h)return i(S)<h?-1:0;C=-S/v}else{v*=-.5;var y=_(p,v,S);if(y&&i(y)<f){var P=m(i(p),i(v),i(S));P&&(p*=P,v*=P,S*=P,y=_(p,v,S))}if(y>=-f){var T=y<0?0:a(y),M=v+(v<0?-T:T);M===0?(C=S/p,w=-C):(C=M/p,w=S/M)}}var E=0,z=I==null,A=I-h,L=b+h;return isFinite(C)&&(z||C>A&&C<L)&&(k[E++]=z?C:c(C,I,b)),w!==C&&isFinite(w)&&(z||w>A&&w<L)&&(k[E++]=z?w:c(w,I,b)),E},solveCubic:function(p,v,S,k,I,b,C){var w=m(i(p),i(v),i(S),i(k)),y,P,T,M,E;w&&(p*=w,v*=w,S*=w,k*=w);function z(W){y=W;var $=p*y;P=$+v,T=P*y+S,M=($+P)*y+T,E=T*y+k}if(i(p)<h)p=v,P=S,T=k,y=1/0;else if(i(k)<h)P=v,T=S,y=0;else{z(-(v/p)/3);var A=E/p,L=u(i(A),1/3),R=A<0?-1:1,O=-M/p,D=O>0?1.324717957244746*Math.max(L,a(O)):L,B=y-R*D;if(B!==y){do z(B),B=M===0?y:y-E/M/(1+f);while(R*B>R*y);i(p)*y*y>i(k/y)&&(T=-k/y,P=(T-S)/y)}}var V=Y.solveQuadratic(p,P,T,I,b,C),U=b==null;return isFinite(y)&&(V===0||V>0&&y!==I[0]&&y!==I[1])&&(U||y>b-h&&y<C+h)&&(I[V++]=U?y:c(y,b,C)),V}}},te={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},N=g.extend({_class:"Point",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new N(this.x,this.y)},toString:function(){var e=ae.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var i=e/this.getLength();Y.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=N.read(arguments),t=this.getLength()*e.getLength();if(Y.isZero(t))return NaN;var i=this.dot(e)/t;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=N.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=N.read(e),i=t.x-this.x,a=t.y-this.y,u=i*i+a*a,l=g.read(e);return l?u:Math.sqrt(u)},normalize:function(e){e===o&&(e=1);var t=this.getLength(),i=t!==0?e/t:0,a=new N(this.x*i,this.y*i);return i>=0&&(a._angle=this._angle),a},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var i=t?this.subtract(t):this,a=Math.sin(e),u=Math.cos(e);return i=new N(i.x*u-i.y*a,i.x*a+i.y*u),t?i.add(t):i},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=N.read(arguments);return new N(this.x+e.x,this.y+e.y)},subtract:function(){var e=N.read(arguments);return new N(this.x-e.x,this.y-e.y)},multiply:function(){var e=N.read(arguments);return new N(this.x*e.x,this.y*e.y)},divide:function(){var e=N.read(arguments);return new N(this.x/e.x,this.y/e.y)},modulo:function(){var e=N.read(arguments);return new N(this.x%e.x,this.y%e.y)},negate:function(){return new N(-this.x,-this.y)},isInside:function(){return q.read(arguments).contains(this)},isClose:function(){var e=arguments,t=N.read(e),i=g.read(e);return this.getDistance(t)<=i},isCollinear:function(){var e=N.read(arguments);return N.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=N.read(arguments);return N.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=Y.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=N.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=N.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=N.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new N(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=N.read(e),i=N.read(e);return new N(Math.min(t.x,i.x),Math.min(t.y,i.y))},max:function(){var e=arguments,t=N.read(e),i=N.read(e);return new N(Math.max(t.x,i.x),Math.max(t.y,i.y))},random:function(){return new N(Math.random(),Math.random())},isCollinear:function(e,t,i,a){return Math.abs(e*a-t*i)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8},isOrthogonal:function(e,t,i,a){return Math.abs(e*i+t*a)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new N(t(this.x),t(this.y))}},{})),ce=N.extend({initialize:function(t,i,a,u){this._x=t,this._y=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._x=e,this._y=t,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),J=g.extend({_class:"Size",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new J(this.width,this.height)},toString:function(){var e=ae.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=J.read(arguments);return new J(this.width+e.width,this.height+e.height)},subtract:function(){var e=J.read(arguments);return new J(this.width-e.width,this.height-e.height)},multiply:function(){var e=J.read(arguments);return new J(this.width*e.width,this.height*e.height)},divide:function(){var e=J.read(arguments);return new J(this.width/e.width,this.height/e.height)},modulo:function(){var e=J.read(arguments);return new J(this.width%e.width,this.height%e.height)},negate:function(){return new J(-this.width,-this.height)},isZero:function(){var e=Y.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new J(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new J(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new J(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new J(t(this.width),t(this.height))}},{})),Ae=J.extend({initialize:function(t,i,a,u){this._width=t,this._height=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._width=e,this._height=t,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),q=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,a,u){var l=arguments,h=typeof t,f;if(h==="number"?(this._set(t,i,a,u),f=4):h==="undefined"||t===null?(this._set(0,0,0,0),f=t===null?1:0):l.length===1&&(Array.isArray(t)?(this._set.apply(this,t),f=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),f=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),g.readSupported(l,this)&&(f=1))),f===o){var c=N.readNamed(l,"from"),_=g.peek(l),m=c.x,p=c.y,v,S;if(_&&_.x!==o||g.hasNamed(l,"to")){var k=N.readNamed(l,"to");v=k.x-m,S=k.y-p,v<0&&(m=k.x,v=-v),S<0&&(p=k.y,S=-S)}else{var I=J.read(l);v=I.width,S=I.height}this._set(m,p,v,S),f=l.__index}var b=l.__filtered;return b&&(this.__filtered=b),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(e,t,i,a){return this.x=e,this.y=t,this.width=i,this.height=a,this},clone:function(){return new q(this.x,this.y,this.width,this.height)},equals:function(e){var t=g.isPlainValue(e)?q.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=ae.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?N:ce;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=N.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?J:Ae;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=J.read(arguments),t=this._sx,i=this._sy,a=e.width,u=e.height;t&&(this.x+=(this.width-a)*t),i&&(this.y+=(this.height-u)*i),this.width=a,this.height=u,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?N:ce;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=N.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==o||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(q.read(arguments)):this._containsPoint(N.read(arguments))},_containsPoint:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t+e.width<=this.x+this.width&&i+e.height<=this.y+this.height},intersects:function(){var e=q.read(arguments),t=g.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=q.read(arguments),t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),a=Math.min(this.x+this.width,e.x+e.width),u=Math.min(this.y+this.height,e.y+e.height);return new q(t,i,a-t,u-i)},unite:function(){var e=q.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width),u=Math.max(this.y+this.height,e.y+e.height);return new q(t,i,a-t,u-i)},include:function(){var e=N.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x),u=Math.max(this.y+this.height,e.y);return new q(t,i,a-t,u-i)},expand:function(){var e=J.read(arguments),t=e.width,i=e.height;return new q(this.x-t/2,this.y-i/2,this.width+t,this.height+i)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===o?e:t)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var i=e.join(""),a=/^[RL]/.test(i);t>=4&&(e[1]+=a?"Y":"X");var u=e[a?0:1],l=e[a?1:0],h="get"+u,f="get"+l,c="set"+u,_="set"+l,m="get"+i,p="set"+i;this[m]=function(v){var S=v?N:ce;return new S(this[h](),this[f](),this,p)},this[p]=function(){var v=N.read(arguments);this[c](v.x),this[_](v.y)}},{beans:!0})),Q=q.extend({initialize:function(t,i,a,u,l,h){this._set(t,i,a,u,!0),this._owner=l,this._setter=h},_set:function(e,t,i,a,u){return this._x=e,this._y=t,this._width=i,this._height=a,u||this._owner[this._setter](this),this}},new function(){var e=q.prototype;return g.each(["x","y","width","height"],function(t){var i=g.capitalize(t),a="_"+t;this["get"+i]=function(){return this[a]},this["set"+i]=function(u){this[a]=u,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var i="set"+t;this[i]=function(){this._dontNotify=!0,e[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var i=this._owner;i._changeSelection&&i._changeSelection(2,t)}}))}),G=g.extend({_class:"Matrix",initialize:function e(t,i){var a=arguments,u=a.length,l=!0;if(u>=6?this._set.apply(this,a):u===1||u===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,i):Array.isArray(t)?this._set.apply(this,i?t.concat([i]):t):l=!1:u?l=!1:this.reset(),!l)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,i,a,u,l,h){return this._a=e,this._b=t,this._c=i,this._d=a,this._tx=u,this._ty=l,h||this._changed(),this},_serialize:function(e,t){return g.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new G(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=ae.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var i=this._owner;return i?(i.transform(null,g.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=N.read(arguments),t=e.x,i=e.y;return this._tx+=t*this._a+i*this._c,this._ty+=t*this._b+i*this._d,this._changed(),this},scale:function(){var e=arguments,t=N.read(e),i=N.read(e,0,{readNull:!0});return i&&this.translate(i),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=N.read(arguments,1),i=t.x,a=t.y,u=Math.cos(e),l=Math.sin(e),h=i-i*u+a*l,f=a-i*l-a*u,c=this._a,_=this._b,m=this._c,p=this._d;return this._a=u*c+l*m,this._b=u*_+l*p,this._c=-l*c+u*m,this._d=-l*_+u*p,this._tx+=h*c+f*m,this._ty+=h*_+f*p,this._changed(),this},shear:function(){var e=arguments,t=N.read(e),i=N.read(e,0,{readNull:!0});i&&this.translate(i);var a=this._a,u=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*a,this._d+=t.x*u,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var e=arguments,t=N.read(e),i=N.read(e,0,{readNull:!0}),a=Math.PI/180,u=new N(Math.tan(t.x*a),Math.tan(t.y*a));return this.shear(u,i)},append:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=e._a,f=e._c,c=e._b,_=e._d,m=e._tx,p=e._ty;this._a=h*i+c*u,this._c=f*i+_*u,this._b=h*a+c*l,this._d=f*a+_*l,this._tx+=m*i+p*u,this._ty+=m*a+p*l,t||this._changed()}return this},prepend:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,c=e._a,_=e._c,m=e._b,p=e._d,v=e._tx,S=e._ty;this._a=c*i+_*a,this._c=c*u+_*l,this._b=m*i+p*a,this._d=m*u+p*l,this._tx=c*h+_*f+v,this._ty=m*h+p*f+S,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=this._tx,l=this._ty,h=e*a-t*i,f=null;return h&&!isNaN(h)&&isFinite(u)&&isFinite(l)&&(this._a=a/h,this._b=-t/h,this._c=-i/h,this._d=e/h,this._tx=(i*l-a*u)/h,this._ty=(t*u-e*l)/h,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new G(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,i){return arguments.length<3?this._transformPoint(N.read(arguments)):this._transformCoordinates(e,t,i)},_transformPoint:function(e,t,i){var a=e.x,u=e.y;return t||(t=new N),t._set(a*this._a+u*this._c+this._tx,a*this._b+u*this._d+this._ty,i)},_transformCoordinates:function(e,t,i){for(var a=0,u=2*i;a<u;a+=2){var l=e[a],h=e[a+1];t[a]=l*this._a+h*this._c+this._tx,t[a+1]=l*this._b+h*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,i=e.y,a=t+e.width,u=i+e.height,l=[t,i,a,i,a,u,t,u];return this._transformCoordinates(l,l,4)},_transformBounds:function(e,t,i){for(var a=this._transformCorners(e),u=a.slice(0,2),l=u.slice(),h=2;h<8;h++){var f=a[h],c=h&1;f<u[c]?u[c]=f:f>l[c]&&(l[c]=f)}return t||(t=new q),t._set(u[0],u[1],l[0]-u[0],l[1]-u[1],i)},inverseTransform:function(){return this._inverseTransform(N.read(arguments))},_inverseTransform:function(e,t,i){var a=this._a,u=this._b,l=this._c,h=this._d,f=this._tx,c=this._ty,_=a*h-u*l,m=null;if(_&&!isNaN(_)&&isFinite(f)&&isFinite(c)){var p=e.x-this._tx,v=e.y-this._ty;t||(t=new N),m=t._set((p*h-v*l)/_,(v*a-p*u)/_,i)}return m},decompose:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=e*a-t*i,l=Math.sqrt,h=Math.atan2,f=180/Math.PI,c,_,m;if(e!==0||t!==0){var p=l(e*e+t*t);c=Math.acos(e/p)*(t>0?1:-1),_=[p,u/p],m=[h(e*i+t*a,p*p),0]}else if(i!==0||a!==0){var v=l(i*i+a*a);c=Math.asin(i/v)*(a>0?1:-1),_=[u/v,v],m=[0,h(e*i+t*a,v*v)]}else c=0,m=_=[0,0];return{translation:this.getTranslation(),rotation:c*f,scaling:new N(_),skewing:new N(m[0]*f,m[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new N(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._changed()}},{})),ue=g.extend({_class:"Line",initialize:function(t,i,a,u,l){var h=!1;arguments.length>=4?(this._px=t,this._py=i,this._vx=a,this._vy=u,h=l):(this._px=t.x,this._py=t.y,this._vx=i.x,this._vy=i.y,h=a),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new N(this._px,this._py)},getVector:function(){return new N(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return ue.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return ue.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return ue.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return N.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return N.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,i,a,u,l,h,f,c,_){c||(i-=e,a-=t,h-=u,f-=l);var m=i*f-a*h;if(!Y.isMachineZero(m)){var p=e-u,v=t-l,S=(h*v-f*p)/m,k=(i*v-a*p)/m,I=1e-12,b=-I,C=1+I;if(_||b<S&&S<C&&b<k&&k<C)return _||(S=S<=0?0:S>=1?1:S),new N(e+S*i,t+S*a)}},getSide:function(e,t,i,a,u,l,h,f){h||(i-=e,a-=t);var c=u-e,_=l-t,m=c*a-_*i;return!f&&Y.isMachineZero(m)&&(m=(c*i+c*i)/(i*i+a*a),m>=0&&m<=1&&(m=0)),m<0?-1:m>0?1:0},getSignedDistance:function(e,t,i,a,u,l,h){return h||(i-=e,a-=t),i===0?a>0?u-e:e-u:a===0?i<0?l-t:t-l:((u-e)*a-(l-t)*i)/(a>i?a*Math.sqrt(1+i*i/(a*a)):i*Math.sqrt(1+a*a/(i*i)))},getDistance:function(e,t,i,a,u,l,h){return Math.abs(ue.getSignedDistance(e,t,i,a,u,l,h))}}}),me=j.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){j.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Si(null,null,this),this._view=Be.create(this,t||vt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return g.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var a=this._changes;if(a&&t){var u=this._changesById,l=t._id,h=u[l];h?h.flags|=e:a.push(u[l]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Pe({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:Je,match:function(i){var a=i._definition,u=a._id;return t[u]||(t[u]=!0,e.push(a)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var i in e){var a=e[i],u=a._selection;u&1&&a.isInserted()?t.push(a):u||this._updateSelection(a)}return t},_updateSelection:function(e){var t=e._id,i=this._selectionItems;e._selection?i[t]!==e&&(this._selectionCount++,i[t]=e):i[t]===e&&(this._selectionCount--,delete i[t])},selectAll:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(o,e)},insertLayer:function(e,t){if(t instanceof Pe){t._remove(!1,!0),g.splice(this._children,[t],e,0),t._setProject(this,!0);var i=t._name;i&&t.setName(i),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,i){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(o,new Pe(se.NO_INSERT),!0)).insertChild(e,t),i&&t.activate&&t.activate(),t},getItems:function(e){return se._getItems(this,e)},getItem:function(e){return se._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return g.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var i=t[e];if(i){for(var a in i){var u=i[a];for(var l in t){var h=t[l];h&&h!=i&&delete h[u._id]}u.remove()}t[e]=null}}},draw:function(e,t,i){this._updateVersion++,e.save(),t.applyToContext(e);for(var a=this._children,u=new g({offset:new N(0,0),pixelRatio:i,viewMatrix:t.isIdentity()?null:t,matrices:[new G],updateMatrix:!0}),l=0,h=a.length;l<h;l++)a[l].draw(e,u);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var f=this._selectionItems,c=this._scope.settings.handleSize,_=this._updateVersion;for(var m in f)f[m]._drawSelection(e,t,c,f,_);e.restore()}}}),se=g.extend(F,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=g.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new G,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(e,function(t){this._events[t]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var i=e&&g.isPlainObject(e),a=i&&e.internal===!0,u=this._matrix=new G,l=i&&e.project||r.project,h=r.settings;return this._id=a?null:te.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,t&&u.translate(t),u._owner=this,this._style=new Si(l._currentStyle,this,l),a||i&&e.insert==!1||!h.insertItems&&!(i&&e.insert===!0)?this._setProject(l):(i&&e.parent||l)._insertItem(o,this,!0),i&&e!==se.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(e,t){var i={},a=this;function u(l){for(var h in l){var f=a[h];g.equals(f,h==="leading"?l.fontSize*1.2:l[h])||(i[h]=g.serialize(f,e,h!=="data",t))}}return u(this._serializeFields),this instanceof ye||u(this._style._defaults),[this._class,i]},_changed:function(e){var t=this._symbol,i=this._parent||t,a=this._project;e&8&&(this._bounds=this._position=this._decomposed=o),e&16&&(this._globalMatrix=o),i&&e&72&&se._clearBoundsCache(i),e&2&&se._clearBoundsCache(this),a&&a._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var i=t._children,a=t._namedChildren;(a[e]=a[e]||[]).push(this),e in i||(i[e]=this)}this._name=e||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},g.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=g.capitalize(e),i="_"+e,a={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(u){u!=this[i]&&(this[i]=u,this._changed(a[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var i=0,a=e.length;i<a;i++)if(!e[i].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var i=0,a=t.length;i<a;i++)t[i].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?N:ce,i=this._position||(this._position=this._getPositionFromBounds());return new t(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(N.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new ce(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=N.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(i){return this.getBounds(i,e)}},{beans:!0,getBounds:function(e,t){var i=t||e instanceof G,a=g.set({},i?t:e,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var u=this._getCachedBounds(i&&e,a).rect;return arguments.length?u:new Q(u.x,u.y,u.width,u.height,this,"setBounds")},setBounds:function(){var e=q.read(arguments),t=this.getBounds(),i=this._matrix,a=new G,u=e.getCenter();a.translate(u),(e.width!=t.width||e.height!=t.height)&&(i.isInvertible()||(i.set(i._backup||new G().translate(i.getTranslation())),t=this.getBounds()),a.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),u=t.getCenter(),a.translate(-u.x,-u.y),this.transform(a)},_getBounds:function(e,t){var i=this._children;return!i||!i.length?new q:(se._updateBoundsCache(this,t.cacheItem),se._getBounds(i,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,i){e=e&&e._orNullIfIdentity();var a=t.internal&&!i,u=t.cacheItem,l=a?null:this._matrix._orNullIfIdentity(),h=u&&(!e||e.equals(l))&&this._getBoundsCacheKey(t,a),f=this._bounds;if(se._updateBoundsCache(this._parent||this._symbol,u),h&&f&&h in f){var c=f[h];return{rect:c.rect.clone(),nonscaling:c.nonscaling}}var _=this._getBounds(e||l,t),m=_.rect||_,p=this._style,v=_.nonscaling||p.hasStroke()&&!p.getStrokeScaling();if(h){f||(this._bounds=f={});var c=f[h]={rect:m.clone(),nonscaling:v,internal:a}}return{rect:m,nonscaling:v}},_getStrokeMatrix:function(e,t){var i=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,a=i?i.getViewMatrix().invert():e;return a&&a._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var i=t._id,a=e._boundsCache=e._boundsCache||{ids:{},list:[]};a.ids[i]||(a.list.push(t),a.ids[i]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=o;for(var i=0,a=t.list,u=a.length;i<u;i++){var l=a[i];l!==e&&(l._bounds=l._position=o,l._boundsCache&&se._clearBoundsCache(l))}}},_getBounds:function(e,t,i){var a=1/0,u=-a,l=a,h=u,f=!1;i=i||{};for(var c=0,_=e.length;c<_;c++){var m=e[c];if(m._visible&&!m.isEmpty(!0)){var p=m._getCachedBounds(t&&t.appended(m._matrix),i,!0),v=p.rect;a=Math.min(v.x,a),l=Math.min(v.y,l),u=Math.max(v.x+v.width,u),h=Math.max(v.y+v.height,h),p.nonscaling&&(f=!0)}}return{rect:isFinite(a)?new q(a,l,u-a,h-l):new q,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var i=this._decomposed;this.rotate(e-t),i&&(i.rotation=e,this._decomposed=i)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new ce(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=N.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var i=this.getRotation(),a=this._decomposed,u=new G,l=Y.isZero;if(l(e.x)||l(e.y))u.translate(a.translation),i&&u.rotate(i),u.scale(t.x,t.y),this._matrix.set(u);else{var h=this.getPosition(!0);u.translate(h),i&&u.rotate(i),u.scale(t.x/e.x,t.y/e.y),i&&u.rotate(-i),u.translate(h.negate()),this.transform(u)}a&&(a.scaling=t,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var i=this._parent,a=[];i;){if(!i._globalMatrix){t=null;for(var u=0,l=a.length;u<l;u++)a[u]._globalMatrix=null;break}a.push(i),i=i._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&t.prepend(i.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof Pe)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return g.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(se.NO_INSERT),i=this._children,a=g.pick(e?e.insert:o,e===o||e===!0),u=g.pick(e?e.deep:o,!0);i&&t.copyAttributes(this),(!i||u)&&t.copyContent(this),i||t.copyAttributes(this),a&&t.insertAbove(this);var l=this._name,h=this._parent;if(l&&h){for(var i=h._children,f=l,c=1;i[l];)l=f+" "+c++;l!==f&&t.setName(l)}return t},copyContent:function(e){for(var t=e._children,i=0,a=t&&t.length;i<a;i++)this.addChild(t[i].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,u=i.length;a<u;a++){var l=i[a];e.hasOwnProperty(l)&&(this[l]=e[l])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var h=e._data,f=e._name;this._data=h?g.clone(h):null,f&&this.setName(f)},rasterize:function(e,t){var i,a,u;g.isPlainObject(e)?(i=e.resolution,a=e.insert,u=e.raster):(i=e,a=t),u?u.matrix.reset(!0):u=new ze(se.NO_INSERT);var l=this.getStrokeBounds(),h=(i||this.getView().getResolution())/72,f=l.getTopLeft().floor(),c=l.getBottomRight().ceil(),_=new J(c.subtract(f)),m=_.multiply(h);if(u.setSize(m,!0),!m.isZero()){var p=u.getContext(!0),v=new G().scale(h).translate(f.negate());p.save(),v.applyToContext(p),this.draw(p,new g({matrices:[v]})),p.restore()}return u.transform(new G().translate(f.add(_.divide(2))).scale(1/h)),(a===o||a)&&u.insertAbove(this),u},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(N.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var i=t.length-1;i>=0;i--)if(t[i].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new ve.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof se?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var a=arguments;return this._hitTest(N.read(a),Ue.getOptions(a))}function t(){var a=arguments,u=N.read(a),l=Ue.getOptions(a),h=[];return this._hitTest(u,new g({all:h},l)),h}function i(a,u,l,h){var f=this._children;if(f)for(var c=f.length-1;c>=0;c--){var _=f[c],m=_!==h&&_._hitTest(a,u,l);if(m&&!u.all)return m}return null}return me.inject({hitTest:e,hitTestAll:t,_hitTest:i}),{hitTest:e,hitTestAll:t,_hitTestChildren:i}},{_hitTest:function(e,t,i){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var a=this._matrix,u=i?i.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),l=Math.max(t.tolerance,1e-12),h=t._tolerancePadding=new J(ve._getStrokePadding(l,a._shiftless().invert()));if(e=a._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(e))return null;var f=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==g.hyphenate(this._class)||t.class&&!(this instanceof t.class)),c=t.match,_=this,m,p;function v(y){return y&&c&&!c(y)&&(y=null),y&&t.all&&t.all.push(y),y}function S(y,P){var T=P?m["get"+P]():_.getPosition();if(e.subtract(T).divide(h).length<=1)return new Ue(y,_,{name:P?g.hyphenate(P):y,point:T})}var k=t.position,I=t.center,b=t.bounds;if(f&&this._parent&&(k||I||b)){if((I||b)&&(m=this.getInternalBounds()),p=k&&S("position")||I&&S("center","Center"),!p&&b)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!p;w++)p=S("bounds",C[w]);p=v(p)}return p||(p=this._hitTestChildren(e,t,u)||f&&v(this._hitTestSelf(e,t,u,this.getStrokeScaling()?null:u._shiftless().invert()))||null),p&&p.point&&(p.point=a.transform(p.point)),p},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new Ue("fill",this)},matches:function(e,t){function i(h,f){for(var c in h)if(h.hasOwnProperty(c)){var _=h[c],m=f[c];if(g.isPlainObject(_)&&g.isPlainObject(m)){if(!i(_,m))return!1}else if(!g.equals(_,m))return!1}return!0}var a=typeof e;if(a==="object"){for(var u in e)if(e.hasOwnProperty(u)&&!this.matches(u,e[u]))return!1;return!0}else{if(a==="function")return e(this);if(e==="match")return t(this);var l=/^(empty|editable)$/.test(e)?this["is"+g.capitalize(e)]():e==="type"?g.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;l=this._class}if(typeof t=="function")return!!t(l);if(t){if(t.test)return t.test(l);if(g.isPlainObject(t))return i(t,l)}return g.equals(l,t)}},getItems:function(e){return se._getItems(this,e,this._matrix)},getItem:function(e){return se._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,i,a,u,l){if(!u){var h=typeof i=="object"&&i,f=h&&h.overlapping,c=h&&h.inside,_=f||c,v=_&&q.read([_]);u={items:[],recursive:h&&h.recursive!==!1,inside:!!c,overlapping:!!f,rect:v,path:f&&new ve.Rectangle({rectangle:v,insert:!1})},h&&(i=g.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var m=t._children,p=u.items,v=u.rect;a=v&&(a||new G);for(var S=0,k=m&&m.length;S<k;S++){var I=m[S],b=a&&a.appended(I._matrix),C=!0;if(v){var _=I.getBounds(b);if(!v.intersects(_))continue;v.contains(_)||u.overlapping&&(_.contains(v)||u.path.intersects(I,b))||(C=!1)}if(C&&I.matches(i)&&(p.push(I),l)||(u.recursive!==!1&&e(I,i,b,u,l),l&&p.length>0))break}return p}}},{importJSON:function(e){var t=g.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(o,e)},insertChild:function(e,t){var i=t?this.insertChildren(e,[t]):null;return i&&i[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var i=this._children;if(i&&t&&t.length>0){t=g.slice(t);for(var a={},u=t.length-1;u>=0;u--){var l=t[u],h=l&&l._id;!l||a[h]?t.splice(u,1):(l._remove(!1,!0),a[h]=!0)}g.splice(i,t,e,0);for(var f=this._project,c=f._changes,u=0,_=t.length;u<_;u++){var l=t[u],m=l._name;l._parent=this,l._setProject(f,!0),m&&l.setName(m),c&&l._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var i=e&&e._getOwner(),a=e!==this&&i?this:null;return a&&(a._remove(!1,!0),i._insertItem(e._index+t,a)),a},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(o,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var i=t[0].reduce(e);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,i=e._namedChildren,a=this._name,u=i[a],l=u?u.indexOf(this):-1;l!==-1&&(t[a]==this&&delete t[a],u.splice(l,1),u.length?t[a]=u[0]:delete i[a])}},_remove:function(e,t){var i=this._getOwner(),a=this._project,u=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),u!=null&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(i._children,null,u,1)),this._installEvents(!1),e&&a._changes&&this._changed(5),t&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=g.pick(t,this._children.length);for(var i=g.splice(this._children,null,e,t-e),a=i.length-1;a>=0;a--)i[a]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,i=t?t.length:0;if(e){for(var a=0;a<i;a++)if(!t[a].isEmpty(e))return!1;return!0}return!i},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(h){var f=[];do f.unshift(h);while(h=h._parent);return f}for(var i=t(this),a=t(e),u=0,l=Math.min(i.length,a.length);u<l;u++)if(i[u]!=a[u])return i[u]._index<a[u]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:N).read(i),u=N.read(i,0,{readNull:!0});return this.transform(new G()[e](a,u||this.getPosition(!0)))}},{translate:function(){var e=new G;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,i){var a=this._matrix,u=e&&!e.isIdentity(),l=i&&this._canApplyMatrix||this._applyMatrix&&(u||!a.isIdentity()||t&&this._children);if(!u&&!l)return this;if(u){!e.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(e,!0);var h=this._style,f=h.getFillColor(!0),c=h.getStrokeColor(!0);f&&f.transform(e),c&&c.transform(e)}if(l&&(l=this._transformContent(a,t,i))){var _=this._pivot;_&&a._transformPoint(_,_,!0),a.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var m=this._bounds,p=this._position;(u||l)&&this._changed(25);var v=u&&m&&e.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var S in m){var k=m[S];if(k.nonscaling)delete m[S];else if(l||!k.internal){var I=k.rect;e._transformBounds(I,I)}}this._bounds=m;var b=m[this._getBoundsCacheKey(this._boundsOptions||{})];b&&(this._position=this._getPositionFromBounds(b.rect))}else u&&p&&this._pivot&&(this._position=e._transformPoint(p,p));return this},_transformContent:function(e,t,i){var a=this._children;if(a){for(var u=0,l=a.length;u<l;u++)a[u].transform(e,t,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(N.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(N.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(N.read(arguments))},localToParent:function(){return this._matrix._transformPoint(N.read(arguments))},fitBounds:function(e,t){e=q.read(arguments);var i=this.getBounds(),a=i.height/i.width,u=e.height/e.width,l=(t?a>u:a<u)?e.width/i.width:e.height/i.height,h=new q(new N,new J(i.width*l,i.height*l));h.setCenter(e.getCenter()),this.setBounds(h)}}),{_setStyles:function(e,t,i){var a=this._style,u=this._matrix;if(a.hasFill()&&(e.fillStyle=a.getFillColor().toCanvasStyle(e,u)),a.hasStroke()){e.strokeStyle=a.getStrokeColor().toCanvasStyle(e,u),e.lineWidth=a.getStrokeWidth();var l=a.getStrokeJoin(),h=a.getStrokeCap(),f=a.getMiterLimit();if(l&&(e.lineJoin=l),h&&(e.lineCap=h),f&&(e.miterLimit=f),r.support.nativeDash){var c=a.getDashArray(),_=a.getDashOffset();c&&c.length&&("setLineDash"in e?(e.setLineDash(c),e.lineDashOffset=_):(e.mozDash=c,e.mozDashOffset=_))}}if(a.hasShadow()){var m=t.pixelRatio||1,p=i._shiftless().prepend(new G().scale(m,m)),v=p.transform(new N(a.getShadowBlur(),0)),S=p.transform(this.getShadowOffset());e.shadowColor=a.getShadowColor().toCanvasStyle(e),e.shadowBlur=v.getLength(),e.shadowOffsetX=S.x,e.shadowOffsetY=S.y}},draw:function(e,t,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var a=t.matrices,u=t.viewMatrix,l=this._matrix,h=a[a.length-1].appended(l);if(!!h.isInvertible()){u=u?u.appended(h):h,a.push(h),t.updateMatrix&&(this._globalMatrix=h);var f=this._blendMode,c=Y.clamp(this._opacity,0,1),_=f==="normal",m=ht.nativeModes[f],p=_&&c===1||t.dontStart||t.clip||(m||_&&c<1)&&this._canComposite(),v=t.pixelRatio||1,S,k,I;if(!p){var b=this.getStrokeBounds(u);if(!b.width||!b.height){a.pop();return}I=t.offset,k=t.offset=b.getTopLeft().floor(),S=e,e=vt.getContext(b.getSize().ceil().add(1).multiply(v)),v!==1&&e.scale(v,v)}e.save();var C=i?i.appended(l):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,w=!p&&t.clipItem,y=!C||w;if(p?(e.globalAlpha=c,m&&(e.globalCompositeOperation=f)):y&&e.translate(-k.x,-k.y),y&&(p?l:u).applyToContext(e),w&&t.clipItem.draw(e,t.extend({clip:!0})),C){e.setTransform(v,0,0,v,0,0);var P=t.offset;P&&e.translate(-P.x,-P.y)}this._draw(e,t,u,C),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),p||(ht.process(f,e,S,c,k.subtract(I).multiply(v)),vt.release(e),t.offset=I)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Ie)return t._isUpdated(e);var i=this._updateVersion===e;return!i&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,i=!0),i},_drawSelection:function(e,t,i,a,u){var l=this._selection,h=l&1,f=l&2||h&&this._selectBounds,c=l&4;if(this._drawSelected||(h=!1),(h||f||c)&&this._isUpdated(u)){var _,m=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),p=t.appended(this.getGlobalMatrix(!0)),v=i/2;if(e.strokeStyle=e.fillStyle=m?m.toCanvasStyle(e):"#009dec",h&&this._drawSelected(e,p,a),c){var S=this.getPosition(!0),k=this._parent,I=k?k.localToGlobal(S):S,b=I.x,C=I.y;e.beginPath(),e.arc(b,C,v,0,Math.PI*2,!0),e.stroke();for(var w=[[0,-1],[1,0],[0,1],[-1,0]],y=v,P=i+1,T=0;T<4;T++){var M=w[T],E=M[0],z=M[1];e.moveTo(b+E*y,C+z*y),e.lineTo(b+E*P,C+z*P),e.stroke()}}if(f){var A=p._transformCorners(this.getInternalBounds());e.beginPath();for(var T=0;T<8;T++)e[T?"lineTo":"moveTo"](A[T],A[++T]);e.closePath(),e.stroke();for(var T=0;T<8;T++)e.fillRect(A[T]-v,A[++T]-v,i,i)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(e){this["removeOn"+g.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var i="mouse"+t,a=this._project,u=a._removeSets=a._removeSets||{};u[i]=u[i]||{},u[i][this._id]=this}return this}}),{tween:function(e,t,i){i||(i=t,t=e,e=null,i||(i=t,t=null));var a=i&&i.easing,u=i&&i.start,l=i!=null&&(typeof i=="number"?i:i.duration),h=new eu(this,e,t,l,a,u);function f(c){h._handleFrame(c.time*1e3),h.running||this.off("frame",f)}return l&&this.on("frame",f),h},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),ye=se.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=o)},_getClipItem:function(){var e=this._clipItem;if(e===o){e=null;for(var t=this._children,i=0,a=t.length;i<a;i++)if(t[i]._clipMask){e=t[i];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,i){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(t),g.set({},i,{stroke:!1})):e.base.call(this,t,i)},_hitTestChildren:function e(t,i,a){var u=this._getClipItem();return(!u||u.contains(t))&&e.base.call(this,t,i,a,u)},_draw:function(e,t){var i=t.clip,a=!i&&this._getClipItem();t=t.extend({clipItem:a,clip:!1}),i?(e.beginPath(),t.dontStart=t.dontFinish=!0):a&&a.draw(e,t.extend({clip:!0}));for(var u=this._children,l=0,h=u.length;l<h;l++){var f=u[l];f!==a&&f.draw(e,t)}}}),Pe=ye.extend({_class:"Layer",initialize:function(){ye.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Ee=se.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,i){this._initialize(t,i)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&g.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new Ae(e.width,e.height,this,"setSize")},setSize:function(){var e=J.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,i=e.width,a=e.height;t==="rectangle"?this._radius.set(J.min(this._radius,e.divide(2).abs())):t==="circle"?(i=a=(i+a)/2,this._radius=i/2):t==="ellipse"&&this._radius._set(i/2,a/2),this._size._set(i,a),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new Ae(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var i=e*2;this._radius=e,this._size._set(i,i)}else if(e=J.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var i=J.max(this._size,e.multiply(2));this._size.set(i)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new ve[g.capitalize(this._type)]({center:new N,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),r.settings.applyMatrix&&t.setApplyMatrix(!0),(e===o||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,i,a){var u=this._style,l=u.hasFill(),h=u.hasStroke(),f=t.dontFinish||t.clip,c=!a;if(l||h||f){var _=this._type,m=this._radius,p=_==="circle";if(t.dontStart||e.beginPath(),c&&p)e.arc(0,0,m,0,Math.PI*2,!0);else{var v=p?m:m.width,S=p?m:m.height,k=this._size,I=k.width,b=k.height;if(c&&_==="rectangle"&&v===0&&S===0)e.rect(-I/2,-b/2,I,b);else{var C=I/2,w=b/2,y=1-.5522847498307936,P=v*y,T=S*y,M=[-C,-w+S,-C,-w+T,-C+P,-w,-C+v,-w,C-v,-w,C-P,-w,C,-w+T,C,-w+S,C,w-S,C,w-T,C-P,w,C-v,w,-C+v,w,-C+P,w,-C,w-T,-C,w-S];a&&a.transform(M,M,32),e.moveTo(M[0],M[1]),e.bezierCurveTo(M[2],M[3],M[4],M[5],M[6],M[7]),C!==v&&e.lineTo(M[8],M[9]),e.bezierCurveTo(M[10],M[11],M[12],M[13],M[14],M[15]),w!==S&&e.lineTo(M[16],M[17]),e.bezierCurveTo(M[18],M[19],M[20],M[21],M[22],M[23]),C!==v&&e.lineTo(M[24],M[25]),e.bezierCurveTo(M[26],M[27],M[28],M[29],M[30],M[31])}}e.closePath()}!f&&(l||h)&&(this._setStyles(e,t,i),l&&(e.fill(u.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var i=new q(this._size).setCenter(0,0),a=this._style,u=t.stroke&&a.hasStroke()&&a.getStrokeWidth();return e&&(i=e._transformBounds(i)),u?i.expand(ve._getStrokePadding(u,this._getStrokeMatrix(e,t))):i}},new function(){function e(i,a,u){var l=i._radius;if(!l.isZero())for(var h=i._size.divide(2),f=1;f<=4;f++){var c=new N(f>1&&f<4?-1:1,f>2?-1:1),_=c.multiply(h),m=_.subtract(c.multiply(l)),p=new q(u?_.add(c.multiply(u)):_,m);if(p.contains(a))return{point:m,quadrant:f}}}function t(i,a,u,l){var h=i.divide(a);return(!l||h.isInQuadrant(l))&&h.subtract(h.normalize()).multiply(a).divide(u).length<=1}return{_contains:function i(a){if(this._type==="rectangle"){var u=e(this,a);return u?a.subtract(u.point).divide(this._radius).getLength()<=1:i.base.call(this,a)}else return a.divide(this.size).getLength()<=.5},_hitTestSelf:function i(a,u,l,h){var f=!1,c=this._style,_=u.stroke&&c.hasStroke(),m=u.fill&&c.hasFill();if(_||m){var p=this._type,v=this._radius,S=_?c.getStrokeWidth()/2:0,k=u._tolerancePadding.add(ve._getStrokePadding(S,!c.getStrokeScaling()&&h));if(p==="rectangle"){var I=k.multiply(2),b=e(this,a,I);if(b)f=t(a.subtract(b.point),v,k,b.quadrant);else{var C=new q(this._size).setCenter(0,0),w=C.expand(I),y=C.expand(I.negate());f=w._containsPoint(a)&&!y._containsPoint(a)}}else f=t(a,v,k)}return f?new Ue(_?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function e(t,i,a,u,l){var h=g.create(Ee.prototype);return h._type=t,h._size=a,h._radius=u,h._initialize(g.getNamed(l),i),h}return{Circle:function(){var t=arguments,i=N.readNamed(t,"center"),a=g.readNamed(t,"radius");return e("circle",i,new J(a*2),a,t)},Rectangle:function(){var t=arguments,i=q.readNamed(t,"rectangle"),a=J.min(J.readNamed(t,"radius"),i.getSize(!0).divide(2));return e("rectangle",i.getCenter(!0),i.getSize(!0),a,t)},Ellipse:function(){var t=arguments,i=Ee._readEllipse(t),a=i.radius;return e("ellipse",i.center,a.multiply(2),a,t)},_readEllipse:function(t){var i,a;if(g.hasNamed(t,"radius"))i=N.readNamed(t,"center"),a=J.readNamed(t,"radius");else{var u=q.readNamed(t,"rectangle");i=u.getCenter(!0),a=u.getSize(!0).divide(2)}return{center:i,radius:a}}}}}),ze=se.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,i){if(!this._initialize(t,i!==o&&N.read(arguments))){var a,u=typeof t,l=u==="string"?x.getElementById(t):u==="object"?t:null;if(l&&l!==se.NO_INSERT){if(l.getContext||l.naturalHeight!=null)a=l;else if(l){var h=J.read(arguments);h.isZero()||(a=vt.getCanvas(h))}}a?this.setImage(a):this.setSource(t)}this._size||(this._size=new J,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,i=e._canvas;if(t)this._setImage(t);else if(i){var a=vt.getCanvas(e._size);a.getContext("2d").drawImage(i,0,0),this._setImage(a)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new Ae(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var i=J.read(arguments);if(i.equals(this._size))t&&this.clear();else if(i.width>0&&i.height>0){var a=!t&&this.getElement();this._setImage(vt.getCanvas(i)),a&&this.getContext(!0).drawImage(a,0,0,i.width,i.height)}else this._canvas&&vt.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new N(0,0).transform(e),i=new N(1,0).transform(e).subtract(t),a=new N(0,1).transform(e).subtract(t);return new J(72/i.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function i(a){var u=t.getView(),l=a&&a.type||"load";u&&t.responds(l)&&(r=u._scope,t.emit(l,new Rn(a)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&qe.add(e,{load:function(a){t._setImage(e),i(a)},error:i})},_setImage:function(e){this._canvas&&vt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new J(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=vt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){vt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,i=this._crossOrigin;i&&(t.crossOrigin=i),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=q.read(arguments),t=vt.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=q.read(arguments),t=new ze(se.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(e){var t=N.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,i;if(e?e instanceof Ce?(i=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new q(e):"x"in e&&(t=new q(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var a=32,u=Math.min(t.width,a),l=Math.min(t.height,a),h=ze._sampleContext;h?h.clearRect(0,0,a+1,a+1):h=ze._sampleContext=vt.getContext(new J(a)),h.save();var f=new G().scale(u/t.width,l/t.height).translate(-t.x,-t.y);f.applyToContext(h),i&&i.draw(h,new g({clip:!0,matrices:[f]})),this._matrix.applyToContext(h);var c=this.getElement(),_=this._size;c&&h.drawImage(c,-_.width/2,-_.height/2),h.restore();for(var m=h.getImageData(.5,.5,Math.ceil(u),Math.ceil(l)).data,p=[0,0,0],v=0,S=0,k=m.length;S<k;S+=4){var I=m[S+3];v+=I,I/=255,p[0]+=m[S]*I,p[1]+=m[S+1]*I,p[2]+=m[S+2]*I}for(var S=0;S<3;S++)p[S]/=v;return v?De.read(p):null},getPixel:function(){var e=N.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new De("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=N.read(e),i=De.read(e),a=i._convert("rgb"),u=i._alpha,l=this.getContext(!0),h=l.createImageData(1,1),f=h.data;f[0]=a[0]*255,f[1]=a[1]*255,f[2]=a[2]*255,f[3]=u!=null?u*255:255,l.putImageData(h,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=J.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=q.read(arguments);return e.isEmpty()&&(e=new q(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=N.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var i=new q(this._size).setCenter(0,0);return e?e._transformBounds(i):i},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new Ue("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,i){var a=this.getElement();if(a&&a.width>0&&a.height>0){e.globalAlpha=Y.clamp(this._opacity,0,1),this._setStyles(e,t,i);var u=this._smoothing,l=u==="off";Ve.setPrefixed(e,l?"imageSmoothingEnabled":"imageSmoothingQuality",l?!1:u),e.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Je=se.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==o&&N.read(arguments,1))||this.setDefinition(t instanceof Ke?t:new Ke(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(e),t)},_hitTestSelf:function(e,t,i){var a=t.extend({all:!1}),u=this._definition._item._hitTest(e,a,i);return u&&(u.item=this),u},_draw:function(e,t){this._definition._item.draw(e,t)}}),Ke=g.extend({_class:"SymbolDefinition",initialize:function(t,i){this._id=te.get(),this.project=r.project,t&&this.setItem(t,i)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&se._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new N),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new Je(this,e)},clone:function(){return new Ke(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),Ue=g.extend({_class:"HitResult",initialize:function(t,i,a){this.type=t,this.item=i,a&&this.inject(a)},statics:{getOptions:function(e){var t=e&&g.read(e);return new g({type:null,tolerance:r.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),de=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,a,u,l,h){var f=arguments.length,c,_,m,p;f>0&&(t==null||typeof t=="object"?f===1&&t&&"point"in t?(c=t.point,_=t.handleIn,m=t.handleOut,p=t.selection):(c=t,_=i,m=a,p=u):(c=[t,i],_=a!==o?[a,u]:null,m=l!==o?[l,h]:null)),new nt(c,this,"_point"),new nt(_,this,"_handleIn"),new nt(m,this,"_handleOut"),p&&this.setSelection(p)},_serialize:function(e,t){var i=this._point,a=this._selection,u=a||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return a&&u.push(a),g.serialize(u,e,!0,t)},_changed:function(e){var t=this._path;if(!!t){var i=t._curves,a=this._index,u;i&&((!e||e===this._point||e===this._handleIn)&&(u=a>0?i[a-1]:t._closed?i[i.length-1]:null)&&u._changed(),(!e||e===this._point||e===this._handleOut)&&(u=i[a])&&u._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(N.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(N.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(N.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,i=this._path;this._selection=e=e||0,i&&e!==t&&(i._updateSelection(this,t,e),i._changed(257))},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new Xe(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,i){var a=e||{},u=a.type,l=a.factor,h=this.getPrevious(),f=this.getNext(),c=(h||this)._point,_=this._point,m=(f||this)._point,p=c.getDistance(_),v=_.getDistance(m);if(!u||u==="catmull-rom"){var S=l===o?.5:l,k=Math.pow(p,S),I=k*k,b=Math.pow(v,S),C=b*b;if(!t&&h){var w=2*C+3*b*k+I,y=3*b*(b+k);this.setHandleIn(y!==0?new N((C*c._x+w*_._x-I*m._x)/y-_._x,(C*c._y+w*_._y-I*m._y)/y-_._y):new N)}if(!i&&f){var w=2*I+3*k*b+C,y=3*k*(k+b);this.setHandleOut(y!==0?new N((I*m._x+w*_._x-C*c._x)/y-_._x,(I*m._y+w*_._y-C*c._y)/y-_._y):new N)}}else if(u==="geometric"){if(h&&f){var P=c.subtract(m),T=l===o?.4:l,M=T*p/(p+v);t||this.setHandleIn(P.multiply(M)),i||this.setHandleOut(P.multiply(M-T))}}else throw new Error("Smoothing method '"+u+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,i=e.clone();e.set(t),t.set(i)},reversed:function(){return new de(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new de(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,i){var a=1-i,u=i,l=e._point,h=t._point,f=e._handleIn,c=t._handleIn,_=t._handleOut,m=e._handleOut;this._point._set(a*l._x+u*h._x,a*l._y+u*h._y,!0),this._handleIn._set(a*f._x+u*c._x,a*f._y+u*c._y,!0),this._handleOut._set(a*m._x+u*_._x,a*m._y+u*_._y,!0),this._changed()},_transformCoordinates:function(e,t,i){var a=this._point,u=!i||!this._handleIn.isZero()?this._handleIn:null,l=!i||!this._handleOut.isZero()?this._handleOut:null,h=a._x,f=a._y,c=2;return t[0]=h,t[1]=f,u&&(t[c++]=u._x+h,t[c++]=u._y+f),l&&(t[c++]=l._x+h,t[c++]=l._y+f),e&&(e._transformCoordinates(t,t,c/2),h=t[0],f=t[1],i?(a._x=h,a._y=f,c=2,u&&(u._x=t[c++]-h,u._y=t[c++]-f),l&&(l._x=t[c++]-h,l._y=t[c++]-f)):(u||(t[c++]=h,t[c++]=f),l||(t[c++]=h,t[c++]=f))),t}}),nt=N.extend({initialize:function(t,i,a){var u,l,h;if(!t)u=l=0;else if((u=t[0])!==o)l=t[1];else{var f=t;(u=f.x)===o&&(f=N.read(arguments),u=f.x),l=f.y,h=f.selected}this._x=u,this._y=l,this._owner=i,i[a]=this,h&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=Y.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),ne=g.extend({_class:"Curve",beans:!0,initialize:function(t,i,a,u,l,h,f,c){var _=arguments.length,m,p,v,S,k,I;_===3?(this._path=t,m=i,p=a):_?_===1?"segment1"in t?(m=new de(t.segment1),p=new de(t.segment2)):"point1"in t?(v=t.point1,k=t.handle1,I=t.handle2,S=t.point2):Array.isArray(t)&&(v=[t[0],t[1]],S=[t[6],t[7]],k=[t[2]-t[0],t[3]-t[1]],I=[t[4]-t[6],t[5]-t[7]]):_===2?(m=new de(t),p=new de(i)):_===4?(v=t,k=i,I=a,S=u):_===8&&(v=[t,i],S=[f,c],k=[a-t,u-i],I=[l-f,h-c]):(m=new de,p=new de),this._segment1=m||new de(v,null,k),this._segment2=p||new de(S,I,null)},_serialize:function(e,t){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ne(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return ne.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,i=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(i)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(N.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(N.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(N.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(N.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return ne.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],i=0;i<8;i+=2)t.push(new N(e[i],e[i+1]));return t}},{getLength:function(){return this._length==null&&(this._length=ne.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ne.getArea(this.getValues())},getLine:function(){return new ue(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new ne(ne.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return ne.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var i=1e-8,a=1-i,u=null;if(e>=i&&e<=a){var l=ne.subdivide(this.getValues(),e),h=l[0],f=l[1],c=t||this.hasHandles(),_=this._segment1,m=this._segment2,p=this._path;c&&(_._handleOut._set(h[2]-h[0],h[3]-h[1]),m._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=h[6],S=h[7],k=new de(new N(v,S),c&&new N(h[4]-v,h[5]-S),c&&new N(f[2]-v,f[3]-S));p?(p.insert(_._index+1,k),u=this.getNext()):(this._segment2=k,this._changed(),u=new ne(k,m))}return u},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===o?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===o?.5:t?e:this.getTimeAt(e))},reversed:function(){return new ne(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,i,a){var u=e._point,l=e._handleOut,h=t._handleIn,f=t._point,c=u.x,_=u.y,m=f.x,p=f.y,v=a?[c,_,c,_,m,p,m,p]:[c,_,c+l._x,_+l._y,m+h._x,p+h._y,m,p];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],c=e[6],_=e[7];t===o&&(t=.5);var m=1-t,p=m*i+t*u,v=m*a+t*l,S=m*u+t*h,k=m*l+t*f,I=m*h+t*c,b=m*f+t*_,C=m*p+t*S,w=m*v+t*k,y=m*S+t*I,P=m*k+t*b,T=m*C+t*y,M=m*w+t*P;return[[i,a,p,v,C,w,T,M],[T,M,y,P,I,b,c,_]]},getMonoCurves:function(e,t){var i=[],a=t?0:1,u=e[a+0],l=e[a+2],h=e[a+4],f=e[a+6];if(u>=l==l>=h&&l>=h==h>=f||ne.isStraight(e))i.push(e);else{var c=3*(l-h)-u+f,_=2*(u+h)-4*l,m=l-u,p=1e-8,v=1-p,S=[],k=Y.solveQuadratic(c,_,m,S,p,v);if(!k)i.push(e);else{S.sort();var I=S[0],b=ne.subdivide(e,I);i.push(b[0]),k>1&&(I=(S[1]-I)/(1-I),b=ne.subdivide(b[1],I),i.push(b[0])),i.push(b[1])}}return i},solveCubic:function(e,t,i,a,u,l){var h=e[t],f=e[t+2],c=e[t+4],_=e[t+6],m=0;if(!(h<i&&_<i&&f<i&&c<i||h>i&&_>i&&f>i&&c>i)){var p=3*(f-h),v=3*(c-f)-p,S=_-h-p-v;m=Y.solveCubic(S,v,p,h-i,a,u,l)}return m},getTimeOf:function(e,t){var i=new N(e[0],e[1]),a=new N(e[6],e[7]),u=1e-12,l=1e-7,h=t.isClose(i,u)?0:t.isClose(a,u)?1:null;if(h===null)for(var f=[t.x,t.y],c=[],_=0;_<2;_++)for(var m=ne.solveCubic(e,_,f[_],c,0,1),p=0;p<m;p++){var v=c[p];if(t.isClose(ne.getPoint(e,v),l))return v}return t.isClose(i,l)?0:t.isClose(a,l)?1:null},getNearestTime:function(e,t){if(ne.isStraight(e)){var i=e[0],a=e[1],u=e[6],l=e[7],h=u-i,f=l-a,c=h*h+f*f;if(c===0)return 0;var _=((t.x-i)*h+(t.y-a)*f)/c;return _<1e-12?0:_>.999999999999?1:ne.getTimeOf(e,new N(i+_*h,a+_*f))}var m=100,p=1/0,v=0;function S(b){if(b>=0&&b<=1){var C=t.getDistance(ne.getPoint(e,b),!0);if(C<p)return p=C,v=b,!0}}for(var k=0;k<=m;k++)S(k/m);for(var I=1/(m*2);I>1e-8;)!S(v-I)&&!S(v+I)&&(I/=2);return v},getPart:function(e,t,i){var a=t>i;if(a){var u=t;t=i,i=u}return t>0&&(e=ne.subdivide(e,t)[1]),i<1&&(e=ne.subdivide(e,(i-t)/(1-t))[0]),a?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],c=e[6],_=e[7],m=3*u-2*i-c,p=3*l-2*a-_,v=3*h-2*c-i,S=3*f-2*_-a;return Math.max(m*m,v*v)+Math.max(p*p,S*S)<=16*t*t},getArea:function(e){var t=e[0],i=e[1],a=e[2],u=e[3],l=e[4],h=e[5],f=e[6],c=e[7];return 3*((c-i)*(a+l)-(f-t)*(u+h)+u*(t-l)-a*(i-h)+c*(l+t/3)-f*(h+i/3))/20},getBounds:function(e){for(var t=e.slice(0,2),i=t.slice(),a=[0,0],u=0;u<2;u++)ne._addBounds(e[u],e[u+2],e[u+4],e[u+6],u,0,t,i,a);return new q(t[0],t[1],i[0]-t[0],i[1]-t[1])},_addBounds:function(e,t,i,a,u,l,h,f,c){function _(T,M){var E=T-M,z=T+M;E<h[u]&&(h[u]=E),z>f[u]&&(f[u]=z)}l/=2;var m=h[u]+l,p=f[u]-l;if(e<m||t<m||i<m||a<m||e>p||t>p||i>p||a>p)if(t<e!=t<a&&i<e!=i<a)_(e,0),_(a,0);else{var v=3*(t-i)-e+a,S=2*(e+i)-4*t,k=t-e,I=Y.solveQuadratic(v,S,k,c),b=1e-8,C=1-b;_(a,0);for(var w=0;w<I;w++){var y=c[w],P=1-y;b<=y&&y<=C&&_(P*P*P*e+3*P*P*y*t+3*P*y*y*i+y*y*y*a,l)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=ve[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),g.each({isStraight:function(e,t,i,a){if(t.isZero()&&i.isZero())return!0;var u=a.subtract(e);if(u.isZero())return!1;if(u.isCollinear(t)&&u.isCollinear(i)){var l=new ue(e,a),h=1e-7;if(l.getDistance(e.add(t))<h&&l.getDistance(a.add(i))<h){var f=u.dot(u),c=u.dot(t)/f,_=u.dot(i)/f;return c>=0&&c<=1&&_<=0&&_>=-1}}return!1},isLinear:function(e,t,i,a){var u=a.subtract(e).divide(3);return t.equals(u)&&i.negate().equals(u)}},function(e,t){this[t]=function(i){var a=this._segment1,u=this._segment2;return e(a._point,a._handleOut,u._handleIn,u._point,i)},this.statics[t]=function(i,a){var u=i[0],l=i[1],h=i[6],f=i[7];return e(new N(u,l),new N(i[2]-u,i[3]-l),new N(i[4]-h,i[5]-f),new N(h,f),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new Xe(this,e):null},getTimeAt:function(e,t){return ne.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=N.read(arguments);return e.isZero()?[]:ne.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(N.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return ne.getTimeOf(this.getValues(),N.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=N.read(arguments),t=this.getValues(),i=ne.getNearestTime(t,e),a=ne.getPoint(t,i);return new Xe(this,i,a,null,e.getDistance(a))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(e,function(t){this[t+"At"]=function(i,a){var u=this.getValues();return ne[t](u,a?i:ne.getTimeAt(u,i))},this[t+"AtTime"]=function(i){return ne[t](this.getValues(),i)}},{statics:{_evaluateMethods:e}})},new function(){function e(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=9*(h-c)+3*(m-u),S=6*(u+c)-12*h,k=3*(h-u),I=9*(f-_)+3*(p-l),b=6*(l+_)-12*f,C=3*(f-l);return function(w){var y=(v*w+S)*w+k,P=(I*w+b)*w+C;return Math.sqrt(y*y+P*P)}}function t(a,u){return Math.max(2,Math.min(16,Math.ceil(Math.abs(u-a)*32)))}function i(a,u,l,h){if(u==null||u<0||u>1)return null;var f=a[0],c=a[1],_=a[2],m=a[3],p=a[4],v=a[5],S=a[6],k=a[7],I=Y.isZero;I(_-f)&&I(m-c)&&(_=f,m=c),I(p-S)&&I(v-k)&&(p=S,v=k);var b=3*(_-f),C=3*(p-_)-b,w=S-f-b-C,y=3*(m-c),P=3*(v-m)-y,T=k-c-y-P,M,E;if(l===0)M=u===0?f:u===1?S:((w*u+C)*u+b)*u+f,E=u===0?c:u===1?k:((T*u+P)*u+y)*u+c;else{var z=1e-8,A=1-z;if(u<z?(M=b,E=y):u>A?(M=3*(S-p),E=3*(k-v)):(M=(3*w*u+2*C)*u+b,E=(3*T*u+2*P)*u+y),h){M===0&&E===0&&(u<z||u>A)&&(M=p-_,E=v-m);var L=Math.sqrt(M*M+E*E);L&&(M/=L,E/=L)}if(l===3){var p=6*w*u+2*C,v=6*T*u+2*P,R=Math.pow(M*M+E*E,3/2);M=R!==0?(M*v-E*p)/R:0,E=0}}return l===2?new N(E,-M):new N(M,E)}return{statics:{classify:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=u*(p-_)+l*(c-m)+m*_-p*c,S=h*(l-p)+f*(m-u)+u*p-l*m,k=c*(f-l)+_*(u-h)+h*l-f*u,I=3*k,b=I-S,C=b-S+v,w=Math.sqrt(C*C+b*b+I*I),y=w!==0?1/w:0,P=Y.isZero,T="serpentine";C*=y,b*=y,I*=y;function M(L,R,O){var D=R!==o,B=D&&R>0&&R<1,V=D&&O>0&&O<1;return D&&(!(B||V)||L==="loop"&&!(B&&V))&&(L="arch",B=V=!1),{type:L,roots:B||V?B&&V?R<O?[R,O]:[O,R]:[B?R:O]:null}}if(P(C))return P(b)?M(P(I)?"line":"quadratic"):M(T,I/(3*b));var E=3*b*b-4*C*I;if(P(E))return M("cusp",b/(2*C));var z=E>0?Math.sqrt(E/3):Math.sqrt(-E),A=2*C;return M(E>0?T:"loop",(b+z)/A,(b-z)/A)},getLength:function(a,u,l,h){if(u===o&&(u=0),l===o&&(l=1),ne.isStraight(a)){var f=a;l<1&&(f=ne.subdivide(f,l)[0],u/=l),u>0&&(f=ne.subdivide(f,u)[1]);var c=f[6]-f[0],_=f[7]-f[1];return Math.sqrt(c*c+_*_)}return Y.integrate(h||e(a),u,l,t(u,l))},getTimeAt:function(a,u,l){if(l===o&&(l=u<0?1:0),u===0)return l;var h=Math.abs,f=1e-12,c=u>0,_=c?l:0,m=c?1:l,p=e(a),v=ne.getLength(a,_,m,p),S=h(u)-v;if(h(S)<f)return c?m:_;if(S>f)return null;var k=u/v,I=0;function b(C){return I+=Y.integrate(p,l,C,t(l,C)),l=C,I-u}return Y.findRoot(b,p,l+k,_,m,32,1e-12)},getPoint:function(a,u){return i(a,u,0,!1)},getTangent:function(a,u){return i(a,u,1,!0)},getWeightedTangent:function(a,u){return i(a,u,1,!1)},getNormal:function(a,u){return i(a,u,2,!0)},getWeightedNormal:function(a,u){return i(a,u,2,!1)},getCurvature:function(a,u){return i(a,u,3,!1).x},getPeaks:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=-u+3*h-3*c+m,S=3*u-6*h+3*c,k=-3*u+3*h,I=-l+3*f-3*_+p,b=3*l-6*f+3*_,C=-3*l+3*f,w=1e-8,y=1-w,P=[];return Y.solveCubic(9*(v*v+I*I),9*(v*S+b*I),2*(S*S+b*b)+3*(k*v+C*I),k*S+b*C,P,w,y),P.sort()}}}},new function(){function e(S,k,I,b,C,w,y){var P=!y&&I.getPrevious()===C,T=!y&&I!==C&&I.getNext()===C,M=1e-8,E=1-M;if(b!==null&&b>=(P?M:0)&&b<=(T?E:1)&&w!==null&&w>=(T?M:0)&&w<=(P?E:1)){var z=new Xe(I,b,null,y),A=new Xe(C,w,null,y);z._intersection=A,A._intersection=z,(!k||k(z))&&Xe.insert(S,z,!0)}}function t(S,k,I,b,C,w,y,P,T,M,E,z,A){if(++T>=4096||++P>=40)return T;var L=1e-9,R=k[0],O=k[1],D=k[6],B=k[7],V=ue.getSignedDistance,U=V(R,O,D,B,k[2],k[3]),W=V(R,O,D,B,k[4],k[5]),$=U*W>0?3/4:4/9,re=$*Math.min(0,U,W),le=$*Math.max(0,U,W),he=V(R,O,D,B,S[0],S[1]),ee=V(R,O,D,B,S[2],S[3]),ie=V(R,O,D,B,S[4],S[5]),fe=V(R,O,D,B,S[6],S[7]),ge=i(he,ee,ie,fe),pe=ge[0],Se=ge[1],xe,be;if(U===0&&W===0&&he===0&&ee===0&&ie===0&&fe===0||(xe=a(pe,Se,re,le))==null||(be=a(pe.reverse(),Se.reverse(),re,le))==null)return T;var ke=M+(E-M)*xe,Me=M+(E-M)*be;if(Math.max(A-z,Me-ke)<L){var Ze=(ke+Me)/2,Ye=(z+A)/2;e(C,w,y?b:I,y?Ye:Ze,y?I:b,y?Ze:Ye)}else{S=ne.getPart(S,xe,be);var Ge=A-z;if(be-xe>.8)if(Me-ke>Ge){var Ne=ne.subdivide(S,.5),Ze=(ke+Me)/2;T=t(k,Ne[0],b,I,C,w,!y,P,T,z,A,ke,Ze),T=t(k,Ne[1],b,I,C,w,!y,P,T,z,A,Ze,Me)}else{var Ne=ne.subdivide(k,.5),Ye=(z+A)/2;T=t(Ne[0],S,b,I,C,w,!y,P,T,z,Ye,ke,Me),T=t(Ne[1],S,b,I,C,w,!y,P,T,Ye,A,ke,Me)}else Ge===0||Ge>=L?T=t(k,S,b,I,C,w,!y,P,T,z,A,ke,Me):T=t(S,k,I,b,C,w,y,P,T,ke,Me,z,A)}return T}function i(S,k,I,b){var C=[0,S],w=[1/3,k],y=[2/3,I],P=[1,b],T=k-(2*S+b)/3,M=I-(S+2*b)/3,E;if(T*M<0)E=[[C,w,P],[C,y,P]];else{var z=T/M;E=[z>=2?[C,w,P]:z<=.5?[C,y,P]:[C,w,y,P],[C,P]]}return(T||M)<0?E.reverse():E}function a(S,k,I,b){return S[0][1]<I?u(S,!0,I):k[0][1]>b?u(k,!1,b):S[0][0]}function u(S,k,I){for(var b=S[0][0],C=S[0][1],w=1,y=S.length;w<y;w++){var P=S[w][0],T=S[w][1];if(k?T>=I:T<=I)return T===I?P:b+(I-C)*(P-b)/(T-C);b=P,C=T}return null}function l(S,k,I,b,C){var w=Y.isZero;if(w(b)&&w(C)){var y=ne.getTimeOf(S,new N(k,I));return y===null?[]:[y]}for(var P=Math.atan2(-C,b),T=Math.sin(P),M=Math.cos(P),E=[],z=[],A=0;A<8;A+=2){var L=S[A]-k,R=S[A+1]-I;E.push(L*M-R*T,L*T+R*M)}return ne.solveCubic(E,1,0,z,0,1),z}function h(S,k,I,b,C,w,y){for(var P=k[0],T=k[1],M=k[6],E=k[7],z=l(S,P,T,M-P,E-T),A=0,L=z.length;A<L;A++){var R=z[A],O=ne.getPoint(S,R),D=ne.getTimeOf(k,O);D!==null&&e(C,w,y?b:I,y?D:R,y?I:b,y?R:D)}}function f(S,k,I,b,C,w){var y=ue.intersect(S[0],S[1],S[6],S[7],k[0],k[1],k[6],k[7]);y&&e(C,w,I,ne.getTimeOf(S,y),b,ne.getTimeOf(k,y))}function c(S,k,I,b,C,w){var y=1e-12,P=Math.min,T=Math.max;if(T(S[0],S[2],S[4],S[6])+y>P(k[0],k[2],k[4],k[6])&&P(S[0],S[2],S[4],S[6])-y<T(k[0],k[2],k[4],k[6])&&T(S[1],S[3],S[5],S[7])+y>P(k[1],k[3],k[5],k[7])&&P(S[1],S[3],S[5],S[7])-y<T(k[1],k[3],k[5],k[7])){var M=p(S,k);if(M)for(var E=0;E<2;E++){var z=M[E];e(C,w,I,z[0],b,z[1],!0)}else{var A=ne.isStraight(S),L=ne.isStraight(k),R=A&&L,O=A&&!L,D=C.length;if((R?f:A||L?h:t)(O?k:S,O?S:k,O?b:I,O?I:b,C,w,O,0,0,0,1,0,1),!R||C.length===D)for(var E=0;E<4;E++){var B=E>>1,V=E&1,U=B*6,W=V*6,$=new N(S[U],S[U+1]),re=new N(k[W],k[W+1]);$.isClose(re,y)&&e(C,w,I,B,b,V)}}}return C}function _(S,k,I,b){var C=ne.classify(S);if(C.type==="loop"){var w=C.roots;e(I,b,k,w[0],k,w[1])}return I}function m(S,k,I,b,C,w){var y=1e-7,P=!k;P&&(k=S);for(var T=S.length,M=k.length,E=new Array(T),z=P?E:new Array(M),A=[],L=0;L<T;L++)E[L]=S[L].getValues(b);if(!P)for(var L=0;L<M;L++)z[L]=k[L].getValues(C);for(var R=K.findCurveBoundsCollisions(E,z,y),O=0;O<T;O++){var D=S[O],B=E[O];P&&_(B,D,A,I);var V=R[O];if(V)for(var U=0;U<V.length;U++){if(w&&A.length)return A;var W=V[U];if(!P||W>O){var $=k[W],re=z[W];c(B,re,D,$,A,I)}}}return A}function p(S,k){function I(fe){var ge=fe[6]-fe[0],pe=fe[7]-fe[1];return ge*ge+pe*pe}var b=Math.abs,C=ue.getDistance,w=1e-8,y=1e-7,P=ne.isStraight(S),T=ne.isStraight(k),M=P&&T,E=I(S)<I(k),z=E?k:S,A=E?S:k,L=z[0],R=z[1],O=z[6]-L,D=z[7]-R;if(C(L,R,O,D,A[0],A[1],!0)<y&&C(L,R,O,D,A[6],A[7],!0)<y)!M&&C(L,R,O,D,z[2],z[3],!0)<y&&C(L,R,O,D,z[4],z[5],!0)<y&&C(L,R,O,D,A[2],A[3],!0)<y&&C(L,R,O,D,A[4],A[5],!0)<y&&(P=T=M=!0);else if(M)return null;if(P^T)return null;for(var B=[S,k],V=[],U=0;U<4&&V.length<2;U++){var W=U&1,$=W^1,re=U>>1,le=ne.getTimeOf(B[W],new N(B[$][re?6:0],B[$][re?7:1]));if(le!=null){var he=W?[re,le]:[le,re];(!V.length||b(he[0]-V[0][0])>w&&b(he[1]-V[0][1])>w)&&V.push(he)}if(U>2&&!V.length)break}if(V.length!==2)V=null;else if(!M){var ee=ne.getPart(S,V[0][0],V[1][0]),ie=ne.getPart(k,V[0][1],V[1][1]);(b(ie[2]-ee[2])>y||b(ie[3]-ee[3])>y||b(ie[4]-ee[4])>y||b(ie[5]-ee[5])>y)&&(V=null)}return V}function v(S,k){var I=S[0],b=S[1],C=S[2],w=S[3],y=S[4],P=S[5],T=S[6],M=S[7],E=k.normalize(),z=E.x,A=E.y,L=3*T-9*y+9*C-3*I,R=3*M-9*P+9*w-3*b,O=6*y-12*C+6*I,D=6*P-12*w+6*b,B=3*C-3*I,V=3*w-3*b,U=2*L*A-2*R*z,W=[];if(Math.abs(U)<Y.CURVETIME_EPSILON){var $=L*V-R*B,U=L*D-R*O;if(U!=0){var re=-$/U;re>=0&&re<=1&&W.push(re)}}else{var le=(O*O-4*L*B)*A*A+(-2*O*D+4*R*B+4*L*V)*z*A+(D*D-4*R*V)*z*z,he=O*A-D*z;if(le>=0&&U!=0){var ee=Math.sqrt(le),ie=-(he+ee)/U,fe=(-he+ee)/U;ie>=0&&ie<=1&&W.push(ie),fe>=0&&fe<=1&&W.push(fe)}}return W}return{getIntersections:function(S){var k=this.getValues(),I=S&&S!==this&&S.getValues();return I?c(k,I,this,S,[]):_(k,this,[])},statics:{getOverlaps:p,getIntersections:m,getCurveLineIntersections:l,getTimesWithTangent:v}}}),Xe=g.extend({_class:"CurveLocation",initialize:function(t,i,a,u,l){if(i>=.99999999){var h=t.getNext();h&&(i=0,t=h)}this._setCurve(t),this._time=i,this._point=a||t.getPointAtTime(i),this._overlap=u,this._distance=l,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),i=this.getTime();i===0?e=t._segment1:i===1?e=t._segment2:i!=null&&(e=t.getPartLength(0,i)<t.getPartLength(i,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(a){var u=a&&a.getCurve();if(u&&(t._time=u.getTimeOf(t._point))!=null)return t._setCurve(u),u}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),i=this.getIndex();if(t&&i!=null)for(var a=t.getCurves(),u=0;u<i;u++)e+=a[u].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),i=this.getTime();this._curveOffset=e=i!=null&&t&&t.getPartLength(0,i)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,i=e&&e.splitAtTime(this.getTime());return i&&this._setSegment(t.getLastSegment()),i},equals:function(e,t){var i=this===e;if(!i&&e instanceof Xe){var a=this.getCurve(),u=e.getCurve(),l=a._path,h=u._path;if(l===h){var f=Math.abs,c=1e-7,_=f(this.getOffset()-e.getOffset()),m=!t&&this._intersection,p=!t&&e._intersection;i=(_<c||l&&f(l.getLength()-_)<c)&&(!m&&!p||m&&p&&m.equals(p,!0))}}return i},toString:function(){var e=[],t=this.getPoint(),i=ae.instance;t&&e.push("point: "+t);var a=this.getIndex();a!=null&&e.push("index: "+a);var u=this.getTime();return u!=null&&e.push("time: "+i.number(u)),this._distance!=null&&e.push("distance: "+i.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),i=e.getCurve();return!(t.isStraight()&&i.isStraight()&&t.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),i=e.getTime(),a=1e-8,u=1-a,l=t>=a&&t<=u,h=i>=a&&i<=u;if(l&&h)return!this.isTouching();var f=this.getCurve(),c=f&&t<a?f.getPrevious():f,_=e.getCurve(),m=_&&i<a?_.getPrevious():_;if(t>u&&(f=f.getNext()),i>u&&(_=_.getNext()),!c||!f||!m||!_)return!1;var p=[];function v(z,A){var L=z.getValues(),R=ne.classify(L).roots||ne.getPeaks(L),O=R.length,D=ne.getLength(L,A&&O?R[O-1]:0,!A&&O?R[0]:1);p.push(O?D:D/32)}function S(z,A,L){return A<L?z>A&&z<L:z>A||z<L}l||(v(c,!0),v(f,!1)),h||(v(m,!0),v(_,!1));var k=this.getPoint(),I=Math.min.apply(Math,p),b=l?f.getTangentAtTime(t):f.getPointAt(I).subtract(k),C=l?b.negate():c.getPointAt(-I).subtract(k),w=h?_.getTangentAtTime(i):_.getPointAt(I).subtract(k),y=h?w.negate():m.getPointAt(-I).subtract(k),P=C.getAngle(),T=b.getAngle(),M=y.getAngle(),E=w.getAngle();return!!(l?S(P,M,E)^S(T,M,E)&&S(P,E,M)^S(T,E,M):S(M,P,T)^S(E,P,T)&&S(M,T,P)^S(E,T,P))},hasOverlap:function(){return!!this._overlap}},g.each(ne._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var i=this.getCurve(),a=this.getTime();return a!=null&&i&&i[t](a,!0)}},{preserve:!0}),new function(){function e(t,i,a){var u=t.length,l=0,h=u-1;function f(k,I){for(var b=k+I;b>=-1&&b<=u;b+=I){var C=t[(b%u+u)%u];if(!i.getPoint().isClose(C.getPoint(),1e-7))break;if(i.equals(C))return C}return null}for(;l<=h;){var c=l+h>>>1,_=t[c],m;if(a&&(m=i.equals(_)?_:f(c,-1)||f(c,1)))return i._overlap&&(m._overlap=m._intersection._overlap=!0),m;var p=i.getPath(),v=_.getPath(),S=p!==v?p._id-v._id:i.getIndex()+i.getTime()-(_.getIndex()+_.getTime());S<0?h=c-1:l=c+1}return t.splice(l,0,i),i}return{statics:{insert:e,expand:function(t){for(var i=t.slice(),a=t.length-1;a>=0;a--)e(i,t[a]._intersection,!1);return i}}}}),Ce=se.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,i,a;if(g.isPlainObject(e)?(i=e.segments,t=e.pathData):Array.isArray(e)?i=e:typeof e=="string"&&(t=e),i){var u=i[0];a=u&&Array.isArray(u[0])}else t&&(a=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var l=a?Ie:ve;return new l(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,a=!1,u,l,h=new N,f=new N;function c(y,P){var T=+i[y];return a&&(T+=h[P]),T}function _(y){return new N(c(y,"x"),c(y+1,"y"))}this.clear();for(var m=0,p=t&&t.length;m<p;m++){var v=t[m],S=v[0],k=S.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var I=i&&i.length;switch(a=S===k,u==="z"&&!/[mz]/.test(k)&&this.moveTo(h),k){case"m":case"l":for(var b=k==="m",C=0;C<I;C+=2)this[b?"moveTo":"lineTo"](h=_(C)),b&&(f=h,b=!1);l=h;break;case"h":case"v":var w=k==="h"?"x":"y";h=h.clone();for(var C=0;C<I;C++)h[w]=c(C,w),this.lineTo(h);l=h;break;case"c":for(var C=0;C<I;C+=6)this.cubicCurveTo(_(C),l=_(C+2),h=_(C+4));break;case"s":for(var C=0;C<I;C+=4)this.cubicCurveTo(/[cs]/.test(u)?h.multiply(2).subtract(l):h,l=_(C),h=_(C+2)),u=k;break;case"q":for(var C=0;C<I;C+=4)this.quadraticCurveTo(l=_(C),h=_(C+2));break;case"t":for(var C=0;C<I;C+=2)this.quadraticCurveTo(l=/[qt]/.test(u)?h.multiply(2).subtract(l):h,h=_(C)),u=k;break;case"a":for(var C=0;C<I;C+=7)this.arcTo(h=_(C+5),new J(+i[C],+i[C+1]),+i[C+2],+i[C+4],+i[C+3]);break;case"z":this.closePath(1e-12),h=f;break}u=k}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,i,a){var u=this===e||!e,l=this._matrix._orNullIfIdentity(),h=u?l:(i||e._matrix)._orNullIfIdentity();return u||this.getBounds(l).intersects(e.getBounds(h),1e-12)?ne.getIntersections(this.getCurves(),!u&&e.getCurves(),t,l,h,a):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=N.read(arguments),t=this.getCurves(),i=1/0,a=null,u=0,l=t.length;u<l;u++){var h=t[u].getNearestLocation(e);h._distance<i&&(i=h._distance,a=h)}return a},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,i){var a=!this._children,u=a?"_segments":"_children",l=e[u],h=t[u],f=this[u];if(!l||!h||l.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var c=f.length,_=h.length;if(c<_)for(var m=a?de:ve,p=c;p<_;p++)this.add(new m);else c>_&&this[a?"removeSegments":"removeChildren"](_,c);for(var p=0;p<_;p++)f[p].interpolate(l[p],h[p],i);a&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var i=this._children||[this],a=e._children?e._children.slice():[e],u=i.length,l=a.length,h=[],f=0;t=!0;for(var c=K.findItemBoundsCollisions(i,a,Y.GEOMETRIC_EPSILON),_=u-1;_>=0&&t;_--){var m=i[_];t=!1;var p=c[_];if(p)for(var v=p.length-1;v>=0&&!t;v--)m.compare(a[p[v]])&&(h[p[v]]||(h[p[v]]=!0,f++),t=!0)}t=t&&f===l}return t}}),ve=Ce.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=arguments,a=Array.isArray(t)?typeof t[0]=="object"?t:i:t&&t.size===o&&(t.x!==o||t.point!==o)?i:null;a&&a.length>0?this.setSegments(a):(this._curves=o,this._segmentSelection=0,!a&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!a&&t)},_equals:function(e){return this._closed===e._closed&&g.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=o,t&32)this._version++;else if(this._curves)for(var i=0,a=this._curves.length;i<a;i++)this._curves[i]._changed()}else t&64&&(this._bounds=o)},getStyle:function(){var e=this._parent;return(e instanceof Ie?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),i=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,i){var a=e[i-1];typeof a=="boolean"&&(this.setClosed(a),i--),this._add(de.readList(e,0,{},i))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var i=this._countCurves();e=this._curves=new Array(i);for(var a=0;a<i;a++)e[a]=new ne(this,t[a],t[a+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new ne(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var i=this._segments,a=i.length,u=new ae(t),l=new Array(6),h=!0,f,c,_,m,p,v,S,k,I=[];function b(w,y){if(w._transformCoordinates(e,l),f=l[0],c=l[1],h)I.push("M"+u.pair(f,c)),h=!1;else if(p=l[2],v=l[3],p===f&&v===c&&S===_&&k===m){if(!y){var P=f-_,T=c-m;I.push(P===0?"v"+u.number(T):T===0?"h"+u.number(P):"l"+u.pair(P,T))}}else I.push("c"+u.pair(S-_,k-m)+" "+u.pair(p-_,v-m)+" "+u.pair(f-_,c-m));_=f,m=c,S=l[4],k=l[5]}if(!a)return"";for(var C=0;C<a;C++)b(i[C]);return this._closed&&a>0&&(b(i[0],!0),I.push("z")),I.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,i=new Array(6),a=0,u=t.length;a<u;a++)t[a]._transformCoordinates(e,i,!0);return!0},_add:function(e,h){for(var i=this._segments,a=this._curves,u=e.length,l=h==null,h=l?i.length:h,f=0;f<u;f++){var c=e[f];c._path&&(c=e[f]=c.clone()),c._path=this,c._index=h+f,c._selection&&this._updateSelection(c,0,c._selection)}if(l)g.push(i,e);else{i.splice.apply(i,[h,0].concat(e));for(var f=h+u,_=i.length;f<_;f++)i[f]._index=f}if(a){var m=this._countCurves(),p=h>0&&h+u-1===m?h-1:h,v=p,S=Math.min(p+u,m);e._curves&&(a.splice.apply(a,[p,0].concat(e._curves)),v+=e._curves.length);for(var f=v;f<S;f++)a.splice(f,0,new ne(this,null,null));this._adjustCurves(p,S)}return this._changed(41),e},_adjustCurves:function(e,t){for(var i=this._segments,a=this._curves,u,l=e;l<t;l++)u=a[l],u._path=this,u._segment1=i[l],u._segment2=i[l+1]||i[0],u._changed();(u=a[this._closed&&!e?i.length-1:e-1])&&(u._segment2=i[e]||i[0],u._changed()),(u=a[t])&&(u._segment1=i[t],u._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(de.readList(t)):this._add([de.read(t)])[0]},insert:function(e,t){var i=arguments;return i.length>2&&typeof t!="number"?this._add(de.readList(i,1),e):this._add([de.read(i,1)],e)[0]},addSegment:function(){return this._add([de.read(arguments)])[0]},insertSegment:function(e){return this._add([de.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(de.readList(e))},insertSegments:function(e,t){return this._add(de.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,i){e=e||0,t=g.pick(t,this._segments.length);var a=this._segments,u=this._curves,l=a.length,h=a.splice(e,t-e),f=h.length;if(!f)return h;for(var c=0;c<f;c++){var _=h[c];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var c=e,m=a.length;c<m;c++)a[c]._index=c;if(u){for(var p=e>0&&t===l+(this._closed?1:0)?e-1:e,u=u.splice(p,f),c=u.length-1;c>=0;c--)u[c]._path=null;i&&(h._curves=u.slice(1)),this._adjustCurves(p,p)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,i=this._closed;e=0;for(var a=0,u=t.length;a<u;a++){var l=a+1===u;e+=ne.getArea(ne.getValues(t[a],t[l?0:a+1],null,l&&!i))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,i=t.length,a=e?7:0;this._segmentSelection=a*i;for(var u=0;u<i;u++)t[u]._selection=a},_updateSelection:function(e,t,i){e._selection=i;var a=this._segmentSelection+=i-t;a>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),i;return t&&(i=t.getCurve().divideAt(t.getCurveOffset()))?i._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),i=t&&t.index,a=t&&t.time,u=1e-8,l=1-u;a>l&&(i++,a=0);var h=this.getCurves();if(i>=0&&i<h.length){a>=u&&h[i++].divideAtTime(a);var f=this.removeSegments(i,this._segments.length,!0),c;return this._closed?(this.setClosed(!1),c=this):(c=new ve(se.NO_INSERT),c.insertAbove(this),c.copyAttributes(this)),c._add(f,0),this.addSegment(f[0]),c}return null},split:function(e,t){var i,a=t===o?e:(i=this.getCurves()[e])&&i.getLocationAtTime(t);return a!=null?this.splitAt(a):null},join:function(e,t){var i=t||0;if(e&&e!==this){var a=e._segments,u=this.getLastSegment(),l=e.getLastSegment();if(!l)return this;u&&u._point.isClose(l._point,i)&&e.reverse();var h=e.getFirstSegment();if(u&&u._point.isClose(h._point,i))u.setHandleOut(h._handleOut),this._add(a.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(h._point,i)&&e.reverse(),l=e.getLastSegment(),f&&f._point.isClose(l._point,i)?(f.setHandleIn(l._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}e._closed&&this._add([a[0]]),e.remove()}var c=this.getFirstSegment(),_=this.getLastSegment();return c!==_&&c._point.isClose(_._point,i)&&(c.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),i=e&&e.simplify,a=i?1e-7:0,u=t.length-1;u>=0;u--){var l=t[u];!l.hasHandles()&&(!l.hasLength(a)||i&&l.isCollinear(l.getNext()))&&l.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var i=this._segments[e],a=i._handleIn;i._handleIn=i._handleOut,i._handleOut=a,i._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new We(this,e||.25,256,!0),i=t.parts,a=i.length,u=[],l=0;l<a;l++)u.push(new de(i[l].curve.slice(0,2)));!this._closed&&a>0&&u.push(new de(i[a-1].curve.slice(6))),this.setSegments(u)},simplify:function(e){var t=new ot(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,i=e||{},a=i.type||"asymmetric",u=this._segments,l=u.length,h=this._closed;function f(pe,Se){var xe=pe&&pe.index;if(xe!=null){var be=pe.path;if(be&&be!==t)throw new Error(pe._class+" "+xe+" of "+be+" is not part of "+t);Se&&pe instanceof ne&&xe++}else xe=typeof pe=="number"?pe:Se;return Math.min(xe<0&&h?xe%l:xe<0?xe+l:xe,l-1)}var c=h&&i.from===o&&i.to===o,_=f(i.from,0),m=f(i.to,l-1);if(_>m)if(h)_-=l;else{var p=_;_=m,m=p}if(/^(?:asymmetric|continuous)$/.test(a)){var v=a==="asymmetric",S=Math.min,k=m-_+1,I=k-1,b=c?S(k,4):1,C=b,w=b,y=[];if(h||(C=S(1,_),w=S(1,l-m-1)),I+=C+w,I<=1)return;for(var P=0,T=_-C;P<=I;P++,T++)y[P]=u[(T<0?T+l:T)%l]._point;for(var M=y[0]._x+2*y[1]._x,E=y[0]._y+2*y[1]._y,z=2,A=I-1,L=[M],R=[E],O=[z],D=[],B=[],P=1;P<I;P++){var V=P<A,U=V||v?1:2,W=V?4:v?2:7,$=V?4:v?3:8,re=V?2:v?0:1,le=U/z;z=O[P]=W-le,M=L[P]=$*y[P]._x+re*y[P+1]._x-le*M,E=R[P]=$*y[P]._y+re*y[P+1]._y-le*E}D[A]=L[A]/O[A],B[A]=R[A]/O[A];for(var P=I-2;P>=0;P--)D[P]=(L[P]-D[P+1])/O[P],B[P]=(R[P]-B[P+1])/O[P];D[I]=(3*y[I]._x-D[A])/2,B[I]=(3*y[I]._y-B[A])/2;for(var P=C,he=I-w,T=_;P<=he;P++,T++){var ee=u[T<0?T+l:T],ie=ee._point,fe=D[P]-ie._x,ge=B[P]-ie._y;(c||P<he)&&ee.setHandleOut(fe,ge),(c||P>C)&&ee.setHandleIn(-fe,-ge)}}else for(var P=_;P<=m;P++)u[P<0?P+l:P].smooth(i,!c&&P===_,!c&&P===m)},toShape:function(e){if(!this._closed)return null;var t=this._segments,i,a,u,l;function h(v,S){var k=t[v],I=k.getNext(),b=t[S],C=b.getNext();return k._handleOut.isZero()&&I._handleIn.isZero()&&b._handleOut.isZero()&&C._handleIn.isZero()&&I._point.subtract(k._point).isCollinear(C._point.subtract(b._point))}function f(v){var S=t[v],k=S.getPrevious(),I=S.getNext();return k._handleOut.isZero()&&S._handleIn.isZero()&&S._handleOut.isZero()&&I._handleIn.isZero()&&S._point.subtract(k._point).isOrthogonal(I._point.subtract(S._point))}function c(v){var S=t[v],k=S.getNext(),I=S._handleOut,b=k._handleIn,C=.5522847498307936;if(I.isOrthogonal(b)){var w=S._point,y=k._point,P=new ue(w,I,!0).intersect(new ue(y,b,!0),!0);return P&&Y.isZero(I.getLength()/P.subtract(w).getLength()-C)&&Y.isZero(b.getLength()/P.subtract(y).getLength()-C)}return!1}function _(v,S){return t[v]._point.getDistance(t[S]._point)}if(!this.hasHandles()&&t.length===4&&h(0,2)&&h(1,3)&&f(1)?(i=Ee.Rectangle,a=new J(_(0,3),_(0,1)),l=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&c(0)&&c(2)&&c(4)&&c(6)&&h(1,5)&&h(3,7)?(i=Ee.Rectangle,a=new J(_(1,6),_(0,3)),u=a.subtract(new J(_(0,7),_(1,2))).divide(2),l=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&c(0)&&c(1)&&c(2)&&c(3)&&(Y.isZero(_(0,2)-_(1,3))?(i=Ee.Circle,u=_(0,2)/2):(i=Ee.Ellipse,u=new J(_(2,0)/2,_(3,1)/2)),l=t[1]._point),i){var m=this.getPosition(!0),p=new i({center:m,size:a,radius:u,insert:!1});return p.copyAttributes(this,!0),p._matrix.prepend(this._matrix),p.rotate(l.subtract(m).getAngle()+90),(e===o||e)&&p.insertAbove(this),p}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Ie)return e.base.call(this,t);var i=this.getCurves(),a=t.getCurves(),u=i.length,l=a.length;if(!u||!l)return u==l;for(var h=i[0].getValues(),f=[],c=0,_,m=0,p,v=0;v<l;v++){var b=a[v].getValues();f.push(b);var S=ne.getOverlaps(h,b);if(S){_=!v&&S[0][0]>0?l-1:v,p=S[0][1];break}}for(var k=Math.abs,I=1e-8,b=f[_],C;h&&b;){var S=ne.getOverlaps(h,b);if(S){var w=S[0][0];if(k(w-m)<I){m=S[1][0],m===1&&(h=++c<u?i[c].getValues():null,m=0);var y=S[0][1];if(k(y-p)<I){if(C||(C=[_,y]),p=S[1][1],p===1&&(++_>=l&&(_=0),b=f[_]||a[_].getValues(),p=0),!h)return C[0]===_&&C[1]===p;continue}}}break}return!1},_hitTestSelf:function(e,t,i,a){var u=this,l=this.getStyle(),h=this._segments,f=h.length,c=this._closed,_=t._tolerancePadding,m=_,p,v,S,k,I,b,C=t.stroke&&l.hasStroke(),w=t.fill&&l.hasFill(),y=t.curves,P=C?l.getStrokeWidth()/2:w&&t.tolerance>0||y?0:null;P!==null&&(P>0?(p=l.getStrokeJoin(),v=l.getStrokeCap(),S=l.getMiterLimit(),m=m.add(ve._getStrokePadding(P,a))):p=v="round");function T(D,B){return e.subtract(D).divide(B).length<=1}function M(D,B,V){if(!t.selected||B.isSelected()){var U=D._point;if(B!==U&&(B=B.add(U)),T(B,m))return new Ue(V,u,{segment:D,point:B})}}function E(D,B){return(B||t.segments)&&M(D,D._point,"segment")||!B&&t.handles&&(M(D,D._handleIn,"handle-in")||M(D,D._handleOut,"handle-out"))}function z(D){k.add(D)}function A(D){var B=c||D._index>0&&D._index<f-1;if((B?p:v)==="round")return T(D._point,m);if(k=new ve({internal:!0,closed:!0}),B?D.isSmooth()||ve._addBevelJoin(D,p,P,S,null,a,z,!0):v==="square"&&ve._addSquareCap(D,v,P,null,a,z,!0),!k.isEmpty()){var V;return k.contains(e)||(V=k.getNearestLocation(e))&&T(V.getPoint(),_)}}if(t.ends&&!t.segments&&!c){if(b=E(h[0],!0)||E(h[f-1],!0))return b}else if(t.segments||t.handles){for(var L=0;L<f;L++)if(b=E(h[L]))return b}if(P!==null){if(I=this.getNearestLocation(e),I){var R=I.getTime();R===0||R===1&&f>1?A(I.getSegment())||(I=null):T(I.getPoint(),m)||(I=null)}if(!I&&p==="miter"&&f>1)for(var L=0;L<f;L++){var O=h[L];if(e.getDistance(O._point)<=S*P&&A(O)){I=O.getLocation();break}}}return!I&&w&&this._contains(e)||I&&!C&&!y?new Ue("fill",this):I?new Ue(C?"stroke":"curve",this,{location:I,point:I.getPoint()}):null}},g.each(ne._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this.getLocationAt(t);return i&&i[e]()}},{beans:!1,getLocationOf:function(){for(var e=N.read(arguments),t=this.getCurves(),i=0,a=t.length;i<a;i++){var u=t[i].getLocationOf(e);if(u)return u}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),i=0,a=0,u=t.length;a<u;a++){var l=i,h=t[a];if(i+=h.getLength(),i>e)return h.getLocationAt(e-l)}if(t.length>0&&e<=this.getLength())return new Xe(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=N.read(arguments);if(e.isZero())return[];for(var t=[],i=0,a=this.getCurves(),u=0,l=a.length;u<l;u++){for(var h=a[u],f=h.getTimesWithTangent(e),c=0,_=f.length;c<_;c++){var m=i+h.getOffsetAtTime(f[c]);t.indexOf(m)<0&&t.push(m)}i+=h.length}return t}}),new function(){function e(i,a,u,l){if(l<=0)return;var h=l/2,f=l-2,c=h-1,_=new Array(6),m,p;function v(w){var y=_[w],P=_[w+1];(m!=y||p!=P)&&(i.beginPath(),i.moveTo(m,p),i.lineTo(y,P),i.stroke(),i.beginPath(),i.arc(y,P,h,0,Math.PI*2,!0),i.fill())}for(var S=0,k=a.length;S<k;S++){var I=a[S],b=I._selection;if(I._transformCoordinates(u,_),m=_[0],p=_[1],b&2&&v(2),b&4&&v(4),i.fillRect(m-h,p-h,l,l),f>0&&!(b&1)){var C=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(m-c,p-c,f,f),i.fillStyle=C}}}function t(i,a,u){var l=a._segments,h=l.length,f=new Array(6),c=!0,_,m,p,v,S,k,I,b;function C(y){if(u)y._transformCoordinates(u,f),_=f[0],m=f[1];else{var P=y._point;_=P._x,m=P._y}if(c)i.moveTo(_,m),c=!1;else{if(u)S=f[2],k=f[3];else{var T=y._handleIn;S=_+T._x,k=m+T._y}S===_&&k===m&&I===p&&b===v?i.lineTo(_,m):i.bezierCurveTo(I,b,S,k,_,m)}if(p=_,v=m,u)I=f[4],b=f[5];else{var T=y._handleOut;I=p+T._x,b=v+T._y}}for(var w=0;w<h;w++)C(l[w]);a._closed&&h>0&&C(l[0])}return{_draw:function(i,a,u,l){var h=a.dontStart,f=a.dontFinish||a.clip,c=this.getStyle(),_=c.hasFill(),m=c.hasStroke(),p=c.getDashArray(),v=!r.support.nativeDash&&m&&p&&p.length;h||i.beginPath(),(_||m&&!v||f)&&(t(i,this,l),this._closed&&i.closePath());function S(y){return p[(y%v+v)%v]}if(!f&&(_||m)&&(this._setStyles(i,a,u),_&&(i.fill(c.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),m)){if(v){h||i.beginPath();for(var k=new We(this,.25,32,!1,l),I=k.length,b=-c.getDashOffset(),C,w=0;b>0;)b-=S(w--)+S(w--);for(;b<I;)C=b+S(w++),(b>0||C>0)&&k.drawPart(i,Math.max(b,0),Math.max(C,0)),b=C+S(w++)}i.stroke()}},_drawSelected:function(i,a){i.beginPath(),t(i,this,a),i.stroke(),e(i,this._segments,a,r.settings.handleSize)}}},new function(){function e(t){var i=t._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new de(N.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new de(N.read(arguments))])},cubicCurveTo:function(){var t=arguments,i=N.read(t),a=N.read(t),u=N.read(t),l=e(this);l.setHandleOut(i.subtract(l._point)),this._add([new de(u,a.subtract(u))])},quadraticCurveTo:function(){var t=arguments,i=N.read(t),a=N.read(t),u=e(this)._point;this.cubicCurveTo(i.add(u.subtract(i).multiply(1/3)),i.add(a.subtract(i).multiply(1/3)),a)},curveTo:function(){var t=arguments,i=N.read(t),a=N.read(t),u=g.pick(g.read(t),.5),l=1-u,h=e(this)._point,f=i.subtract(h.multiply(l*l)).subtract(a.multiply(u*u)).divide(2*u*l);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+u);this.quadraticCurveTo(f,a)},arcTo:function(){var t=arguments,i=Math.abs,a=Math.sqrt,u=e(this),l=u._point,h=N.read(t),f,c=g.peek(t),_=g.pick(c,!0),m,p,v,S;if(typeof _=="boolean")var k=l.add(h).divide(2),f=k.add(k.subtract(l).rotate(_?-90:90));else if(g.remain(t)<=2)f=h,h=N.read(t);else if(!l.equals(h)){var I=J.read(t),b=Y.isZero;if(b(I.width)||b(I.height))return this.lineTo(h);var C=g.read(t),_=!!g.read(t),w=!!g.read(t),k=l.add(h).divide(2),y=l.subtract(k).rotate(-C),P=y.x,T=y.y,M=i(I.width),E=i(I.height),z=M*M,A=E*E,L=P*P,R=T*T,O=a(L/z+R/A);if(O>1&&(M*=O,E*=O,z=M*M,A=E*E),O=(z*A-z*R-A*L)/(z*R+A*L),i(O)<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");m=new N(M*T/E,-E*P/M).multiply((w===_?-1:1)*a(O)).rotate(C).add(k),S=new G().translate(m).rotate(C).scale(M,E),v=S._inverseTransform(l),p=v.getDirectedAngle(S._inverseTransform(h)),!_&&p>0?p-=360:_&&p<0&&(p+=360)}if(f){var D=new ue(l.add(f).divide(2),f.subtract(l).rotate(90),!0),B=new ue(f.add(h).divide(2),h.subtract(f).rotate(90),!0),V=new ue(l,h),U=V.getSide(f);if(m=D.intersect(B,!0),!m){if(!U)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}v=l.subtract(m),p=v.getDirectedAngle(h.subtract(m));var W=V.getSide(m,!0);W===0?p=U*i(p):U===W&&(p+=p<0?360:-360)}if(p){for(var $=1e-7,re=i(p),le=re>=360?4:Math.ceil((re-$)/90),he=p/le,ee=he*Math.PI/360,ie=4/3*Math.sin(ee)/(1+Math.cos(ee)),fe=[],ge=0;ge<=le;ge++){var y=h,pe=null;if(ge<le&&(pe=v.rotate(90).multiply(ie),S?(y=S._transformPoint(v),pe=S._transformPoint(v.add(pe)).subtract(y)):y=m.add(v)),!ge)u.setHandleOut(pe);else{var Se=v.rotate(-90).multiply(ie);S&&(Se=S._transformPoint(v.add(Se)).subtract(y)),fe.push(new de(y,Se,pe))}v=v.rotate(he)}this._add(fe)}},lineBy:function(){var t=N.read(arguments),i=e(this)._point;this.lineTo(i.add(t))},curveBy:function(){var t=arguments,i=N.read(t),a=N.read(t),u=g.read(t),l=e(this)._point;this.curveTo(l.add(i),l.add(a),u)},cubicCurveBy:function(){var t=arguments,i=N.read(t),a=N.read(t),u=N.read(t),l=e(this)._point;this.cubicCurveTo(l.add(i),l.add(a),l.add(u))},quadraticCurveBy:function(){var t=arguments,i=N.read(t),a=N.read(t),u=e(this)._point;this.quadraticCurveTo(u.add(i),u.add(a))},arcBy:function(){var t=arguments,i=e(this)._point,a=i.add(N.read(t)),u=g.pick(g.peek(t),!0);typeof u=="boolean"?this.arcTo(a,u):this.arcTo(a,i.add(N.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var i=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return ve[i](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,i,a,u,l){var h=e[0];if(!h)return new q;var f=new Array(6),c=h._transformCoordinates(a,new Array(6)),_=c.slice(0,2),m=_.slice(),p=new Array(2);function v(I){I._transformCoordinates(a,f);for(var b=0;b<2;b++)ne._addBounds(c[b],c[b+4],f[b+2],f[b],b,l?l[b]:0,_,m,p);var C=c;c=f,f=C}for(var S=1,k=e.length;S<k;S++)v(e[S]);return t&&v(h),new q(_[0],_[1],m[0]-_[0],m[1]-_[1])},getStrokeBounds:function(e,t,i,a,u){var l=i.getStyle(),h=l.hasStroke(),f=l.getStrokeWidth(),c=h&&i._getStrokeMatrix(a,u),_=h&&ve._getStrokePadding(f,c),m=ve.getBounds(e,t,i,a,u,_);if(!h)return m;var p=f/2,v=l.getStrokeJoin(),S=l.getStrokeCap(),k=l.getMiterLimit(),I=new q(new J(_));function b(M){m=m.include(M)}function C(M){m=m.unite(I.setCenter(M._point.transform(a)))}function w(M,E){E==="round"||M.isSmooth()?C(M):ve._addBevelJoin(M,E,p,k,a,c,b)}function y(M,E){E==="round"?C(M):ve._addSquareCap(M,E,p,a,c,b)}var P=e.length-(t?0:1);if(P>0){for(var T=1;T<P;T++)w(e[T],v);t?w(e[0],v):(y(e[0],S),y(e[e.length-1],S))}return m},_getStrokePadding:function(e,t){if(!t)return[e,e];var i=new N(e,0).transform(t),a=new N(0,e).transform(t),u=i.getAngleInRadians(),l=i.getLength(),h=a.getLength(),f=Math.sin(u),c=Math.cos(u),_=Math.tan(u),m=Math.atan2(h*_,l),p=Math.atan2(h,_*l);return[Math.abs(l*Math.cos(m)*c+h*Math.sin(m)*f),Math.abs(h*Math.sin(p)*c+l*Math.cos(p)*f)]},_addBevelJoin:function(e,t,i,a,u,l,h,f){var c=e.getCurve(),_=c.getPrevious(),m=c.getPoint1().transform(u),p=_.getNormalAtTime(1).multiply(i).transform(l),v=c.getNormalAtTime(0).multiply(i).transform(l),S=p.getDirectedAngle(v);if((S<0||S>=180)&&(p=p.negate(),v=v.negate()),f&&h(m),h(m.add(p)),t==="miter"){var k=new ue(m.add(p),new N(-p.y,p.x),!0).intersect(new ue(m.add(v),new N(-v.y,v.x),!0),!0);k&&m.getDistance(k)<=a*i&&h(k)}h(m.add(v))},_addSquareCap:function(e,t,i,a,u,l,h){var f=e._point.transform(a),c=e.getLocation(),_=c.getNormal().multiply(c.getTime()===0?i:-i).transform(u);t==="square"&&(h&&(l(f.subtract(_)),l(f.add(_))),f=f.add(_.rotate(-90))),l(f.add(_)),l(f.subtract(_))},getHandleBounds:function(e,t,i,a,u){var l=i.getStyle(),h=u.stroke&&l.hasStroke(),f,c;if(h){var _=i._getStrokeMatrix(a,u),m=l.getStrokeWidth()/2,p=m;l.getStrokeJoin()==="miter"&&(p=m*l.getMiterLimit()),l.getStrokeCap()==="square"&&(p=Math.max(p,m*Math.SQRT2)),f=ve._getStrokePadding(m,_),c=ve._getStrokePadding(p,_)}for(var v=new Array(6),S=1/0,k=-S,I=S,b=k,C=0,w=e.length;C<w;C++){var y=e[C];y._transformCoordinates(a,v);for(var P=0;P<6;P+=2){var T=P?f:c,M=T?T[0]:0,E=T?T[1]:0,z=v[P],A=v[P+1],L=z-M,R=z+M,O=A-E,D=A+E;L<S&&(S=L),R>k&&(k=R),O<I&&(I=O),D>b&&(b=D)}}return new q(S,I,k-S,b-I)}}});ve.inject({statics:new function(){var e=.5522847498307936,t=[new de([-1,0],[0,e],[0,-e]),new de([0,-1],[-e,0],[e,0]),new de([1,0],[0,-e],[0,e]),new de([0,1],[e,0],[-e,0])];function i(u,l,h){var f=g.getNamed(h),c=new ve(f&&f.insert==!1&&se.NO_INSERT);return c._add(u),c._closed=l,c.set(f,{insert:!0})}function a(u,l,h){for(var f=new Array(4),c=0;c<4;c++){var _=t[c];f[c]=new de(_._point.multiply(l).add(u),_._handleIn.multiply(l),_._handleOut.multiply(l))}return i(f,!0,h)}return{Line:function(){var u=arguments;return i([new de(N.readNamed(u,"from")),new de(N.readNamed(u,"to"))],!1,u)},Circle:function(){var u=arguments,l=N.readNamed(u,"center"),h=g.readNamed(u,"radius");return a(l,new J(h),u)},Rectangle:function(){var u=arguments,l=q.readNamed(u,"rectangle"),h=J.readNamed(u,"radius",0,{readNull:!0}),f=l.getBottomLeft(!0),c=l.getTopLeft(!0),_=l.getTopRight(!0),m=l.getBottomRight(!0),p;if(!h||h.isZero())p=[new de(f),new de(c),new de(_),new de(m)];else{h=J.min(h,l.getSize(!0).divide(2));var v=h.width,S=h.height,k=v*e,I=S*e;p=[new de(f.add(v,0),null,[-k,0]),new de(f.subtract(0,S),[0,I]),new de(c.add(0,S),null,[0,-I]),new de(c.add(v,0),[-k,0],null),new de(_.subtract(v,0),null,[k,0]),new de(_.add(0,S),[0,-I],null),new de(m.subtract(0,S),null,[0,I]),new de(m.subtract(v,0),[k,0])]}return i(p,!0,u)},RoundRectangle:"#Rectangle",Ellipse:function(){var u=arguments,l=Ee._readEllipse(u);return a(l.center,l.radius,u)},Oval:"#Ellipse",Arc:function(){var u=arguments,l=N.readNamed(u,"from"),h=N.readNamed(u,"through"),f=N.readNamed(u,"to"),c=g.getNamed(u),_=new ve(c&&c.insert==!1&&se.NO_INSERT);return _.moveTo(l),_.arcTo(h,f),_.set(c)},RegularPolygon:function(){for(var u=arguments,l=N.readNamed(u,"center"),h=g.readNamed(u,"sides"),f=g.readNamed(u,"radius"),c=360/h,_=h%3===0,m=new N(0,_?-f:f),p=_?-1:.5,v=new Array(h),S=0;S<h;S++)v[S]=new de(l.add(m.rotate((S+p)*c)));return i(v,!0,u)},Star:function(){for(var u=arguments,l=N.readNamed(u,"center"),h=g.readNamed(u,"points")*2,f=g.readNamed(u,"radius1"),c=g.readNamed(u,"radius2"),_=360/h,m=new N(0,-1),p=new Array(h),v=0;v<h;v++)p[v]=new de(l.add(m.rotate(_*v).multiply(v%2?c:f)));return i(p,!0,u)}}}});var Ie=Ce.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,i){var a=i,u=a[0];u&&typeof u[0]=="number"&&(a=[a]);for(var l=i.length-1;l>=0;l--){var h=a[l];a===i&&!(h instanceof ve)&&(a=g.slice(a)),Array.isArray(h)?a[l]=new ve({segments:h,insert:!1}):h instanceof Ie&&(a.splice.apply(a,[l,1].concat(h.removeChildren())),h.remove())}return e.base.call(this,t,a)},reduce:function e(t){for(var i=this._children,a=i.length-1;a>=0;a--){var u=i[a].reduce(t);u.isEmpty()&&u.remove()}if(!i.length){var u=new ve(se.NO_INSERT);return u.copyAttributes(this),u.insertAbove(this),this.remove(),u}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],i=0,a=e.length;i<a;i++)g.push(t,e[i].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getArea();return t},getLength:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();return t},getPathData:function(e,t){for(var i=this._children,a=[],u=0,l=i.length;u<l;u++){var h=i[u],f=h._matrix;a.push(h.getPathData(e&&!f.isIdentity()?e.appended(f):e,t))}return a.join("")},_hitTestChildren:function e(t,i,a){return e.base.call(this,t,i.class===ve||i.type==="path"?i:g.set({},i,{fill:!1}),a)},_draw:function(e,t,i,a){var u=this._children;if(!!u.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var l=0,h=u.length;l<h;l++)u[l].draw(e,t,a);if(!t.clip){this._setStyles(e,t,i);var f=this._style;f.hasFill()&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,i){for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u],f=h._matrix;i[h._id]||h._drawSelected(e,f.isIdentity()?t:t.appended(f))}}},new function(){function e(t,i){var a=t._children;if(i&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var i=e(this,!0);i[t].apply(i,arguments)}},{moveTo:function(){var t=e(this),i=t&&t.isEmpty()?t:new ve(se.NO_INSERT);i!==t&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var t=e(this,!0),i=t&&t.getLastSegment(),a=N.read(arguments);this.moveTo(i?a.add(i._point):a)},closePath:function(t){e(this,!0).closePath(t)}})},g.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var i=this._children,a,u=0,l=i.length;u<l;u++)a=i[u][e](t)||a;return a}},{}));Ce.inject(new function(){var e=Math.min,t=Math.max,i=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function u(C){return C._children||[C]}function l(C,w){var y=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(w){for(var P=u(y),T=0,M=P.length;T<M;T++){var C=P[T];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}y=y.resolveCrossings().reorient(y.getFillRule()==="nonzero",!0)}return y}function h(C,w,y,P,T){var M=new Ie(se.NO_INSERT);return M.addChildren(C,!0),M=M.reduce({simplify:w}),T&&T.insert==!1||M.insertAbove(P&&y.isSibling(P)&&y.getIndex()<P.getIndex()?P:y),M.copyAttributes(y,!0),M}function f(C){return C.hasOverlap()||C.isCrossing()}function c(C,w,y,P){if(P&&(P.trace==!1||P.stroke)&&/^(subtract|intersect)$/.test(y))return _(C,w,y);var T=l(C,!0),M=w&&C!==w&&l(w,!0),E=a[y];E[y]=!0,M&&(E.subtract||E.exclude)^(M.isClockwise()^T.isClockwise())&&M.reverse();var z=S(Xe.expand(T.getIntersections(M,f))),A=u(T),L=M&&u(M),R=[],O=[],D;function B(pe){for(var Se=0,xe=pe.length;Se<xe;Se++){var be=pe[Se];g.push(R,be._segments),g.push(O,be.getCurves()),be._overlapsOnly=!0}}function V(pe){for(var Se=[],xe=0,be=pe&&pe.length;xe<be;xe++)Se.push(O[pe[xe]]);return Se}if(z.length){B(A),L&&B(L);for(var U=new Array(O.length),W=0,$=O.length;W<$;W++)U[W]=O[W].getValues();for(var re=K.findCurveBoundsCollisions(U,U,0,!0),le={},W=0;W<O.length;W++){var he=O[W],ee=he._path._id,ie=le[ee]=le[ee]||{};ie[he.getIndex()]={hor:V(re[W].hor),ver:V(re[W].ver)}}for(var W=0,$=z.length;W<$;W++)I(z[W]._segment,T,M,le,E);for(var W=0,$=R.length;W<$;W++){var fe=R[W],ge=fe._intersection;fe._winding||I(fe,T,M,le,E),ge&&ge._overlap||(fe._path._overlapsOnly=!1)}D=b(R,E)}else D=v(L?A.concat(L):A.slice(),function(pe){return!!E[pe]});return h(D,!0,C,w,P)}function _(C,w,y){var P=l(C),T=l(w),M=P.getIntersections(T,f),E=y==="subtract",z=y==="divide",A={},L=[];function R(B){if(!A[B._id]&&(z||T.contains(B.getPointAt(B.getLength()/2))^E))return L.unshift(B),A[B._id]=!0}for(var O=M.length-1;O>=0;O--){var D=M[O].split();D&&(R(D)&&D.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0))}return R(P),h(L,!1,C,w)}function m(C,w){for(var y=C;y;){if(y===w)return;y=y._previous}for(;C._next&&C._next!==w;)C=C._next;if(!C._next){for(;w._previous;)w=w._previous;C._next=w,w._previous=C}}function p(C){for(var w=C.length-1;w>=0;w--)C[w].clearHandles()}function v(C,w,y){var P=C&&C.length;if(P){var T=g.each(C,function(re,le){this[re._id]={container:null,winding:re.isClockwise()?1:-1,index:le}},{}),M=C.slice().sort(function(re,le){return i(le.getArea())-i(re.getArea())}),E=M[0],z=K.findItemBoundsCollisions(M,null,Y.GEOMETRIC_EPSILON);y==null&&(y=E.isClockwise());for(var A=0;A<P;A++){var L=M[A],R=T[L._id],O=0,D=z[A];if(D){for(var B=null,V=D.length-1;V>=0;V--)if(D[V]<A){B=B||L.getInteriorPoint();var U=M[D[V]];if(U.contains(B)){var W=T[U._id];O=W.winding,R.winding+=O,R.container=W.exclude?W.container:U;break}}}if(w(R.winding)===w(O))R.exclude=!0,C[R.index]=null;else{var $=R.container;L.setClockwise($?!$.isClockwise():y)}}}return C}function S(C,w,y){var P=w&&[],T=1e-8,M=1-T,E=!1,z=y||[],A=y&&{},L,R,O;function D(Se){return Se._path._id+"."+Se._segment1._index}for(var B=(y&&y.length)-1;B>=0;B--){var V=y[B];V._path&&(A[D(V)]=!0)}for(var B=C.length-1;B>=0;B--){var U=C[B],W=U._time,$=W,re=w&&!w(U),V=U._curve,le;if(V&&(V!==R?(E=!V.hasHandles()||A&&A[D(V)],L=[],O=null,R=V):O>=T&&(W/=O)),re){L&&L.push(U);continue}else w&&P.unshift(U);if(O=$,W<T)le=V._segment1;else if(W>M)le=V._segment2;else{var he=V.divideAtTime(W,!0);E&&z.push(V,he),le=he._segment1;for(var ee=L.length-1;ee>=0;ee--){var ie=L[ee];ie._time=(ie._time-W)/(1-W)}}U._setSegment(le);var fe=le._intersection,ge=U._intersection;if(fe){m(fe,ge);for(var pe=fe;pe;)m(pe._intersection,fe),pe=pe._next}else le._intersection=ge}return y||p(z),P||C}function k(C,w,y,P,T){var M=Array.isArray(w)?w:w[y?"hor":"ver"],E=y?1:0,z=E^1,A=[C.x,C.y],L=A[E],R=A[z],O=1e-9,D=1e-6,B=L-O,V=L+O,U=0,W=0,$=0,re=0,le=!1,he=!1,ee=1,ie=[],fe,ge;function pe(Le){var $e=Le[z+0],rt=Le[z+6];if(!(R<e($e,rt)||R>t($e,rt))){var ut=Le[E+0],At=Le[E+2],Bt=Le[E+4],Et=Le[E+6];if($e===rt){(ut<V&&Et>B||Et<V&&ut>B)&&(le=!0);return}var pt=R===$e?0:R===rt||B>t(ut,At,Bt,Et)||V<e(ut,At,Bt,Et)?1:ne.solveCubic(Le,z,R,ie,0,1)>0?ie[0]:1,ft=pt===0?ut:pt===1?Et:ne.getPoint(Le,pt)[y?"y":"x"],Ot=$e>rt?1:-1,jt=fe[z]>fe[z+6]?1:-1,an=fe[E+6];return R!==$e?(ft<B?$+=Ot:ft>V?re+=Ot:le=!0,ft>L-D&&ft<L+D&&(ee/=2)):(Ot!==jt?ut<B?$+=Ot:ut>V&&(re+=Ot):ut!=an&&(an<V&&ft>V?(re+=Ot,le=!0):an>B&&ft<B&&($+=Ot,le=!0)),ee/=4),fe=Le,!T&&ft>B&&ft<V&&ne.getTangent(Le,pt)[y?"x":"y"]===0&&k(C,w,!y,P,!0)}}function Se(Le){var $e=Le[z+0],rt=Le[z+2],ut=Le[z+4],At=Le[z+6];if(R<=t($e,rt,ut,At)&&R>=e($e,rt,ut,At)){for(var Bt=Le[E+0],Et=Le[E+2],pt=Le[E+4],ft=Le[E+6],Ot=B>t(Bt,Et,pt,ft)||V<e(Bt,Et,pt,ft)?[Le]:ne.getMonoCurves(Le,y),jt,an=0,ws=Ot.length;an<ws;an++)if(jt=pe(Ot[an]))return jt}}for(var xe=0,be=M.length;xe<be;xe++){var ke=M[xe],Me=ke._path,Ze=ke.getValues(),Ye;if((!xe||M[xe-1]._path!==Me)&&(fe=null,Me._closed||(ge=ne.getValues(Me.getLastCurve().getSegment2(),ke.getSegment1(),null,!P),ge[z]!==ge[z+6]&&(fe=ge)),!fe)){fe=Ze;for(var Ge=Me.getLastCurve();Ge&&Ge!==ke;){var Ne=Ge.getValues();if(Ne[z]!==Ne[z+6]){fe=Ne;break}Ge=Ge.getPrevious()}}if(Ye=Se(Ze))return Ye;if(xe+1===be||M[xe+1]._path!==Me){if(ge&&(Ye=Se(ge)))return Ye;le&&!$&&!re&&($=re=Me.isClockwise(P)^y?1:-1),U+=$,W+=re,$=re=0,le&&(he=!0,le=!1),ge=null}}return U=i(U),W=i(W),{winding:t(U,W),windingL:U,windingR:W,quality:ee,onPath:he}}function I(C,w,y,P,T){var M=[],E=C,z=0,O;do{var A=C.getCurve();if(A){var L=A.getLength();M.push({segment:C,curve:A,length:L}),z+=L}C=C.getNext()}while(C&&!C._intersection&&C!==E);for(var R=[.5,.25,.75],O={winding:0,quality:-1},D=.001,B=1-D,V=0;V<R.length&&O.quality<.5;V++)for(var L=z*R[V],U=0,W=M.length;U<W;U++){var $=M[U],re=$.length;if(L<=re){var A=$.curve,le=A._path,he=le._parent,ee=he instanceof Ie?he:le,ie=Y.clamp(A.getTimeAt(L),D,B),fe=A.getPointAtTime(ie),ge=i(A.getTangentAtTime(ie).y)<Math.SQRT1_2,pe=null;if(T.subtract&&y){var Se=ee===w?y:w,xe=Se._getWinding(fe,ge,!0);if(ee===w&&xe.winding||ee===y&&!xe.winding){if(xe.quality<1)continue;pe={winding:0,quality:1}}}pe=pe||k(fe,P[le._id][A.getIndex()],ge,!0),pe.quality>O.quality&&(O=pe);break}L-=re}for(var U=M.length-1;U>=0;U--)M[U].segment._winding=O}function b(C,w){var y=[],P;function T(be){var ke;return!!(be&&!be._visited&&(!w||w[(ke=be._winding||{}).winding]&&!(w.unite&&ke.winding===2&&ke.windingL&&ke.windingR)))}function M(be){if(be){for(var ke=0,Me=P.length;ke<Me;ke++)if(be===P[ke])return!0}return!1}function E(be){for(var ke=be._segments,Me=0,Ze=ke.length;Me<Ze;Me++)ke[Me]._visited=!0}function z(be,ke){var Me=be._intersection,Ze=Me,Ye=[];ke&&(P=[be]);function Ge(Ne,Le){for(;Ne&&Ne!==Le;){var $e=Ne._segment,rt=$e&&$e._path;if(rt){var ut=$e.getNext()||rt.getFirstSegment(),At=ut._intersection;$e!==be&&(M($e)||M(ut)||ut&&T($e)&&(T(ut)||At&&T(At._segment)))&&Ye.push($e),ke&&P.push($e)}Ne=Ne._next}}if(Me){for(Ge(Me);Me&&Me._previous;)Me=Me._previous;Ge(Me,Ze)}return Ye}C.sort(function(be,ke){var Me=be._intersection,Ze=ke._intersection,Ye=!!(Me&&Me._overlap),Ge=!!(Ze&&Ze._overlap),Ne=be._path,Le=ke._path;return Ye^Ge?Ye?1:-1:!Me^!Ze?Me?1:-1:Ne!==Le?Ne._id-Le._id:be._index-ke._index});for(var A=0,L=C.length;A<L;A++){var R=C[A],O=T(R),D=null,B=!1,V=!0,U=[],W,$,re;if(O&&R._path._overlapsOnly){var le=R._path,he=R._intersection._segment._path;le.compare(he)&&(le.getArea()&&y.push(le.clone(!1)),E(le),E(he),O=!1)}for(;O;){var ee=!D,ie=z(R,ee),fe=ie.shift(),B=!ee&&(M(R)||M(fe)),ge=!B&&fe;if(ee&&(D=new ve(se.NO_INSERT),W=null),B){(R.isFirst()||R.isLast())&&(V=R._path._closed),R._visited=!0;break}if(ge&&W&&(U.push(W),W=null),W||(ge&&ie.push(R),W={start:D._segments.length,crossings:ie,visited:$=[],handleIn:re}),ge&&(R=fe),!T(R)){D.removeSegments(W.start);for(var pe=0,Se=$.length;pe<Se;pe++)$[pe]._visited=!1;$.length=0;do R=W&&W.crossings.shift(),(!R||!R._path)&&(R=null,W=U.pop(),W&&($=W.visited,re=W.handleIn));while(W&&!T(R));if(!R)break}var xe=R.getNext();D.add(new de(R._point,re,xe&&R._handleOut)),R._visited=!0,$.push(R),R=xe||R._path.getFirstSegment(),re=xe&&xe._handleIn}B&&(V&&(D.getFirstSegment().setHandleIn(re),D.setClosed(V)),D.getArea()!==0&&y.push(D))}return y}return{_getWinding:function(C,w,y){return k(C,this.getCurves(),w,y)},unite:function(C,w){return c(this,C,"unite",w)},intersect:function(C,w){return c(this,C,"intersect",w)},subtract:function(C,w){return c(this,C,"subtract",w)},exclude:function(C,w){return c(this,C,"exclude",w)},divide:function(C,w){return w&&(w.trace==!1||w.stroke)?_(this,C,"divide"):h([this.subtract(C,w),this.intersect(C,w)],!0,this,C,w)},resolveCrossings:function(){var C=this._children,w=C||[this];function y(W,$){var re=W&&W._intersection;return re&&re._overlap&&re._path===$}var P=!1,T=!1,M=this.getIntersections(null,function(W){return W.hasOverlap()&&(P=!0)||W.isCrossing()&&(T=!0)}),E=P&&T&&[];if(M=Xe.expand(M),P)for(var z=S(M,function(W){return W.hasOverlap()},E),A=z.length-1;A>=0;A--){var L=z[A],R=L._path,O=L._segment,D=O.getPrevious(),B=O.getNext();y(D,R)&&y(B,R)&&(O.remove(),D._handleOut._set(0,0),B._handleIn._set(0,0),D!==O&&!D.getCurve().hasLength()&&(B._handleIn.set(D._handleIn),D.remove()))}T&&(S(M,P&&function(W){var $=W.getCurve(),re=W.getSegment(),le=W._intersection,he=le._curve,ee=le._segment;if($&&he&&$._path&&he._path)return!0;re&&(re._intersection=null),ee&&(ee._intersection=null)},E),E&&p(E),w=b(g.each(w,function(W){g.push(this,W._segments)},[])));var V=w.length,U;return V>1&&C?(w!==C&&this.setChildren(w),U=this):V===1&&!C&&(w[0]!==this&&this.setSegments(w[0].removeSegments()),U=this),U||(U=new Ie(se.NO_INSERT),U.addChildren(w),U=U.reduce(),U.copyAttributes(this),this.replaceWith(U)),U},reorient:function(C,w){var y=this._children;return y&&y.length?this.setChildren(v(this.removeChildren(),function(P){return!!(C?P:P&1)},w)):w!==o&&this.setClockwise(w),this},getInteriorPoint:function(){var C=this.getBounds(),w=C.getCenter(!0);if(!this.contains(w)){for(var y=this.getCurves(),P=w.y,T=[],M=[],E=0,z=y.length;E<z;E++){var A=y[E].getValues(),L=A[1],R=A[3],O=A[5],D=A[7];if(P>=e(L,R,O,D)&&P<=t(L,R,O,D))for(var B=ne.getMonoCurves(A),V=0,U=B.length;V<U;V++){var W=B[V],$=W[1],re=W[7];if($!==re&&(P>=$&&P<=re||P>=re&&P<=$)){var le=P===$?W[0]:P===re?W[6]:ne.solveCubic(W,1,P,M,0,1)===1?ne.getPoint(W,M[0]).x:(W[0]+W[6])/2;T.push(le)}}}T.length>1&&(T.sort(function(he,ee){return he-ee}),w.x=(T[0]+T[1])/2)}return w}}});var We=g.extend({_class:"PathFlattener",initialize:function(e,t,i,a,u){var l=[],h=[],f=0,c=1/(i||32),_=e._segments,m=_[0],p;function v(b,C){var w=ne.getValues(b,C,u);l.push(w),S(w,b._index,0,1)}function S(b,C,w,y){if(y-w>c&&!(a&&ne.isStraight(b))&&!ne.isFlatEnough(b,t||.25)){var P=ne.subdivide(b,.5),T=(w+y)/2;S(P[0],C,w,T),S(P[1],C,T,y)}else{var M=b[6]-b[0],E=b[7]-b[1],z=Math.sqrt(M*M+E*E);z>0&&(f+=z,h.push({offset:f,curve:b,index:C,time:y}))}}for(var k=1,I=_.length;k<I;k++)p=_[k],v(m,p),m=p;e._closed&&v(p||m,_[0]),this.curves=l,this.parts=h,this.length=f,this.index=0},_get:function(e){for(var t=this.parts,i=t.length,a,u=this.index;a=u,!(!u||t[--u].offset<e););for(;a<i;a++){var l=t[a];if(l.offset>=e){this.index=a;var h=t[a-1],f=h&&h.index===l.index?h.time:0,c=h?h.offset:0;return{index:l.index,time:f+(l.time-f)*(e-c)/(l.offset-c)}}}return{index:t[i-1].index,time:1}},drawPart:function(e,t,i){for(var a=this._get(t),u=this._get(i),l=a.index,h=u.index;l<=h;l++){var f=ne.getPart(this.curves[l],l===a.index?a.time:0,l===u.index?u.time:1);l===a.index&&e.moveTo(f[0],f[1]),e.bezierCurveTo.apply(e,f.slice(2))}}},g.each(ne._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this._get(t);return ne[e](this.curves[i.index],i.time)}},{})),ot=g.extend({initialize:function(e){for(var t=this.points=[],i=e._segments,a=e._closed,u=0,l,h=i.length;u<h;u++){var f=i[u].point;(!l||!l.equals(f))&&t.push(l=f.clone())}a&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=a},fit:function(e){var t=this.points,i=t.length,a=null;return i>0&&(a=[new de(t[0])],i>1&&(this.fitCubic(a,e,0,i-1,t[1].subtract(t[0]),t[i-2].subtract(t[i-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(e,t,i,a,u,l){var h=this.points;if(a-i===1){var f=h[i],c=h[a],_=f.getDistance(c)/3;this.addCurve(e,[f,f.add(u.normalize(_)),c.add(l.normalize(_)),c]);return}for(var m=this.chordLengthParameterize(i,a),p=Math.max(t,t*t),v,S=!0,k=0;k<=4;k++){var I=this.generateBezier(i,a,m,u,l),b=this.findMaxError(i,a,I,m);if(b.error<t&&S){this.addCurve(e,I);return}if(v=b.index,b.error>=p)break;S=this.reparameterize(i,a,m,I),p=b.error}var C=h[v-1].subtract(h[v+1]);this.fitCubic(e,t,i,v,u,C),this.fitCubic(e,t,v,a,C.negate(),l)},addCurve:function(e,t){var i=e[e.length-1];i.setHandleOut(t[1].subtract(t[0])),e.push(new de(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,i,a,u){for(var l=1e-12,h=Math.abs,f=this.points,c=f[e],_=f[t],m=[[0,0],[0,0]],p=[0,0],v=0,S=t-e+1;v<S;v++){var k=i[v],I=1-k,b=3*k*I,C=I*I*I,w=b*I,y=b*k,P=k*k*k,T=a.normalize(w),M=u.normalize(y),E=f[e+v].subtract(c.multiply(C+w)).subtract(_.multiply(y+P));m[0][0]+=T.dot(T),m[0][1]+=T.dot(M),m[1][0]=m[0][1],m[1][1]+=M.dot(M),p[0]+=T.dot(E),p[1]+=M.dot(E)}var z=m[0][0]*m[1][1]-m[1][0]*m[0][1],A,L;if(h(z)>l){var R=m[0][0]*p[1]-m[1][0]*p[0],O=p[0]*m[1][1]-p[1]*m[0][1];A=O/z,L=R/z}else{var D=m[0][0]+m[0][1],B=m[1][0]+m[1][1];A=L=h(D)>l?p[0]/D:h(B)>l?p[1]/B:0}var V=_.getDistance(c),U=l*V,W,$;if(A<U||L<U)A=L=V/3;else{var re=_.subtract(c);W=a.normalize(A),$=u.normalize(L),W.dot(re)-$.dot(re)>V*V&&(A=L=V/3,W=$=null)}return[c,c.add(W||a.normalize(A)),_.add($||u.normalize(L)),_]},reparameterize:function(e,t,i,a){for(var u=e;u<=t;u++)i[u-e]=this.findRoot(a,this.points[u],i[u-e]);for(var u=1,l=i.length;u<l;u++)if(i[u]<=i[u-1])return!1;return!0},findRoot:function(e,t,i){for(var a=[],u=[],l=0;l<=2;l++)a[l]=e[l+1].subtract(e[l]).multiply(3);for(var l=0;l<=1;l++)u[l]=a[l+1].subtract(a[l]).multiply(2);var h=this.evaluate(3,e,i),f=this.evaluate(2,a,i),c=this.evaluate(1,u,i),_=h.subtract(t),m=f.dot(f)+_.dot(c);return Y.isMachineZero(m)?i:i-_.dot(f)/m},evaluate:function(e,t,i){for(var a=t.slice(),u=1;u<=e;u++)for(var l=0;l<=e-u;l++)a[l]=a[l].multiply(1-i).add(a[l+1].multiply(i));return a[0]},chordLengthParameterize:function(e,t){for(var i=[0],a=e+1;a<=t;a++)i[a-e]=i[a-e-1]+this.points[a].getDistance(this.points[a-1]);for(var a=1,u=t-e;a<=u;a++)i[a]/=i[u];return i},findMaxError:function(e,t,i,a){for(var u=Math.floor((t-e+1)/2),l=0,h=e+1;h<t;h++){var f=this.evaluate(3,i,a[h-e]),c=f.subtract(this.points[h]),_=c.x*c.x+c.y*c.y;_>=l&&(l=_,u=h)}return{error:l,index:u}}}),bt=se.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&g.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(i&&t,!i&&N.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Dt=bt.extend({_class:"PointText",initialize:function(){bt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new ce(e.x,e.y,this,"setPoint")},setPoint:function(){var e=N.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,i){if(!!this._content){this._setStyles(e,t,i);var a=this._lines,u=this._style,l=u.hasFill(),h=u.hasStroke(),f=u.getLeading(),c=e.shadowColor;e.font=u.getFontStyle(),e.textAlign=u.getJustification();for(var _=0,m=a.length;_<m;_++){e.shadowColor=c;var p=a[_];l&&(e.fillText(p,0,0),e.shadowColor="rgba(0,0,0,0)"),h&&e.strokeText(p,0,0),e.translate(0,f)}}},_getBounds:function(e,t){var i=this._style,a=this._lines,u=a.length,l=i.getJustification(),h=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),a),c=0;l!=="left"&&(c-=f/(l==="center"?2:1));var _=new q(c,u?-.75*h:0,f,u*h);return e?e._transformBounds(_,_):_}}),De=g.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},i={transparent:[0,0,0,0]},a;function u(f){var c=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",m;if(c){var p=c[4]?4:3;m=new Array(p);for(var v=0;v<p;v++){var S=c[v+1];m[v]=parseInt(S.length==1?S+S:S,16)/255}}else if(c=f.match(/^(rgb|hsl)a?\((.*)\)$/)){_=c[1],m=c[2].trim().split(/[,\s]+/g);for(var k=_==="hsl",v=0,I=Math.min(m.length,4);v<I;v++){var b=m[v],S=parseFloat(b);if(k)if(v===0){var C=b.match(/([a-z]*)$/)[1];S*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else v<3&&(S/=100);else v<3&&(S/=/%$/.test(b)?100:255);m[v]=S}}else{var w=i[f];if(!w)if(d){a||(a=vt.getContext(1,1),a.globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=f,a.fillRect(0,0,1,1);var y=a.getImageData(0,0,1,1).data;w=i[f]=[y[0]/255,y[1]/255,y[2]/255]}else w=[0,0,0];m=w.slice()}return[_,m]}var l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(f,c,_){var m=Math.max(f,c,_),p=Math.min(f,c,_),v=m-p,S=v===0?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60;return[S,m===0?0:v/m,m]},"hsb-rgb":function(f,c,_){f=(f/60%6+6)%6;var p=Math.floor(f),m=f-p,p=l[p],v=[_,_*(1-c),_*(1-c*m),_*(1-c*(1-m))];return[v[p[0]],v[p[1]],v[p[2]]]},"rgb-hsl":function(f,c,_){var m=Math.max(f,c,_),p=Math.min(f,c,_),v=m-p,S=v===0,k=S?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60,I=(m+p)/2,b=S?0:I<.5?v/(m+p):v/(2-m-p);return[k,b,I]},"hsl-rgb":function(f,c,_){if(f=(f/360%1+1)%1,c===0)return[_,_,_];for(var m=[f+1/3,f,f-1/3],p=_<.5?_*(1+c):_+c-_*c,v=2*_-p,S=[],k=0;k<3;k++){var I=m[k];I<0&&(I+=1),I>1&&(I-=1),S[k]=6*I<1?v+(p-v)*6*I:2*I<1?p:3*I<2?v+(p-v)*(2/3-I)*6:v}return S},"rgb-gray":function(f,c,_){return[f*.2989+c*.587+_*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(e,function(f,c){t[c]=[],g.each(f,function(_,m){var p=g.capitalize(_),v=/^(hue|saturation)$/.test(_),S=t[c][m]=c==="gradient"?_==="gradient"?function(k){var I=this._components[0];return k=kt.read(Array.isArray(k)?k:arguments,0,{readNull:!0}),I!==k&&(I&&I._removeOwner(this),k&&k._addOwner(this)),k}:function(){return N.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(k){return k==null||isNaN(k)?0:+k};this["get"+p]=function(){return this._type===c||v&&/^hs[bl]$/.test(this._type)?this._components[m]:this._convert(c)[m]},this["set"+p]=function(k){this._type!==c&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(c),this._properties=e[c],this._type=c),this._components[m]=S.call(this,k),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(c){var _=arguments,m=this.__read,p=0,v,S,k,I;Array.isArray(c)&&(_=c,c=_[0]);var b=c!=null&&typeof c;if(b==="string"&&c in e&&(v=c,c=_[1],Array.isArray(c)?(S=c,k=_[2]):(m&&(p=1),_=g.slice(_,1),b=typeof c)),!S){if(I=b==="number"?_:b==="object"&&c.length!=null?c:null,I){v||(v=I.length>=3?"rgb":"gray");var C=e[v].length;k=I[C],m&&(p+=I===arguments?C+(k!=null?1:0):1),I.length>C&&(I=g.slice(I,0,C))}else if(b==="string"){var w=u(c);v=w[0],S=w[1],S.length===4&&(k=S[3],S.length--)}else if(b==="object")if(c.constructor===f){if(v=c._type,S=c._components.slice(),k=c._alpha,v==="gradient")for(var y=1,P=S.length;y<P;y++){var T=S[y];T&&(S[y]=T.clone())}}else if(c.constructor===kt)v="gradient",I=_;else{v="hue"in c?"lightness"in c?"hsl":"hsb":"gradient"in c||"stops"in c||"radial"in c?"gradient":"gray"in c?"gray":"rgb";var M=e[v],E=t[v];this._components=S=[];for(var y=0,P=M.length;y<P;y++){var z=c[M[y]];z==null&&!y&&v==="gradient"&&"stops"in c&&(z={stops:c.stops,radial:c.radial}),z=E[y].call(this,z),z!=null&&(S[y]=z)}k=c.alpha}m&&v&&(p=1)}if(this._type=v||"rgb",!S){this._components=S=[];for(var E=t[this._type],y=0,P=E.length;y<P;y++){var z=E[y].call(this,I&&I[y]);z!=null&&(S[y]=z)}}return this._components=S,this._properties=e[this._type],this._alpha=k,m&&(this.__read=p),this},set:"#initialize",_serialize:function(f,c){var _=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),f,!0,c)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var c;return this._type===f?this._components.slice():(c=h[this._type+"-"+f])?c.apply(this,this._components):h["rgb-"+f].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new De(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=e[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var c=g.isPlainValue(f,!0)?De.read(arguments):f;return c===this||c&&this._class===c._class&&this._type===c._type&&this.getAlpha()===c.getAlpha()&&g.equals(this._components,c._components)||!1},toString:function(){for(var f=this._properties,c=[],_=this._type==="gradient",m=ae.instance,p=0,v=f.length;p<v;p++){var S=this._components[p];S!=null&&c.push(f[p]+": "+(_?S:m.number(S)))}return this._alpha!=null&&c.push("alpha: "+m.number(this._alpha)),"{ "+c.join(", ")+" }"},toCSS:function(f){var c=this._convert("rgb"),_=f||this._alpha==null?1:this._alpha;function m(p){return Math.round((p<0?0:p>1?1:p)*255)}return c=[m(c[0]),m(c[1]),m(c[2])],_<1&&c.push(_<0?0:_),f?"#"+((1<<24)+(c[0]<<16)+(c[1]<<8)+c[2]).toString(16).slice(1):(c.length==4?"rgba(":"rgb(")+c.join(",")+")"},toCanvasStyle:function(f,c){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,m=_[0],p=m._stops,v=_[1],S=_[2],k=_[3],I=c&&c.inverted(),b;if(I&&(v=I._transformPoint(v),S=I._transformPoint(S),k&&(k=I._transformPoint(k))),m._radial){var C=S.getDistance(v);if(k){var w=k.subtract(v);w.getLength()>C&&(k=v.add(w.normalize(C-.1)))}var y=k||v;b=f.createRadialGradient(y.x,y.y,0,v.x,v.y,C)}else b=f.createLinearGradient(v.x,v.y,S.x,S.y);for(var P=0,T=p.length;P<T;P++){var M=p[P],E=M._offset;b.addColorStop(E==null?P/(T-1):E,M._color.toCanvasStyle())}return this._canvasStyle=b},transform:function(f){if(this._type==="gradient"){for(var c=this._components,_=1,m=c.length;_<m;_++){var p=c[_];f._transformPoint(p,p,!0)}this._changed()}},statics:{_types:e,random:function(){var f=Math.random;return new De(f(),f(),f())},_setOwner:function(f,c,_){return f&&(f._owner&&c&&f._owner!==c&&(f=f.clone()),!f._owner^!c&&(f._owner=c||null,f._setter=_||null)),f}}})},new function(){var e={add:function(t,i){return t+i},subtract:function(t,i){return t-i},multiply:function(t,i){return t*i},divide:function(t,i){return t/i}};return g.each(e,function(t,i){this[i]=function(a){a=De.read(arguments);for(var u=this._type,l=this._components,h=a._convert(u),f=0,c=l.length;f<c;f++)h[f]=t(l[f],h[f]);return new De(u,h,this._alpha!=null?t(this._alpha,a.getAlpha()):null)}},{})}),kt=g.extend({_class:"Gradient",initialize:function(t,i){this._id=te.get(),t&&g.isPlainObject(t)&&(this.set(t),t=i=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=o))},clone:function(){for(var e=[],t=0,i=this._stops.length;t<i;t++)e[t]=this._stops[t].clone();return new kt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var i=0,a=t.length;i<a;i++)t[i]._owner=o;t=this._stops=dn.readList(e,0,{clone:!0});for(var i=0,a=t.length;i<a;i++)t[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,i=e._stops,a=t.length;if(a===i.length){for(var u=0;u<a;u++)if(!t[u].equals(i[u]))return!1;return!0}}return!1}}),dn=g.extend({_class:"GradientStop",initialize:function(t,i){var a=t,u=i;typeof t=="object"&&i===o&&(Array.isArray(t)&&typeof t[0]!="number"?(a=t[0],u=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(a=t.color,u=t.offset||t.rampPoint||0)),this.setColor(a),this.setOffset(u)},clone:function(){return new dn(this._color.clone(),this._offset)},_serialize:function(e,t){var i=this._color,a=this._offset;return g.serialize(a==null?[i]:[i,a],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){De._setOwner(this._color,null),this._color=De._setOwner(De.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Si=g.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new N,selectedColor:null},t=g.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=g.set({},t,{fillColor:new De}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},u={beans:!0},l={_class:"Style",beans:!0,initialize:function(f,c,_){this._values={},this._owner=c,this._project=c&&c._project||_||r.project,this._defaults=!c||c instanceof ye?t:c instanceof bt?i:e,f&&this.set(f)}};return g.each(t,function(h,f){var c=/Color$/.test(f),_=f==="shadowOffset",m=g.capitalize(f),p=a[f],v="set"+m,S="get"+m;l[v]=function(k){var I=this._owner,b=I&&I._children,C=b&&b.length>0&&!(I instanceof Ie);if(C)for(var w=0,y=b.length;w<y;w++)b[w]._style[v](k);if((f==="selectedColor"||!C)&&f in this._defaults){var P=this._values[f];P!==k&&(c&&(P&&(De._setOwner(P,null),P._canvasStyle=null),k&&k.constructor===De&&(k=De._setOwner(k,I,C&&v))),this._values[f]=k,I&&I._changed(p||129))}},l[S]=function(k){var I=this._owner,b=I&&I._children,C=b&&b.length>0&&!(I instanceof Ie),w;if(C&&!k)for(var y=0,P=b.length;y<P;y++){var T=b[y]._style[S]();if(!y)w=T;else if(!g.equals(w,T))return o}else if(f in this._defaults){var w=this._values[f];if(w===o)w=this._defaults[f],w&&w.clone&&(w=w.clone());else{var M=c?De:_?N:null;M&&!(w&&w.constructor===M)&&(this._values[f]=w=M.read([w],0,{readNull:!0,clone:!0}))}}return w&&c&&(w=De._setOwner(w,I,C&&v)),w},u[S]=function(k){return this._style[S](k)},u[v]=function(k){this._style[v](k)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,f){var c="get"+f,_="set"+f;l[c]=u[c]="#get"+h,l[_]=u[_]="#set"+h}),se.inject(u),l},{set:function(e){var t=e instanceof Si,i=t?e._values:e;if(i){for(var a in i)if(a in this._defaults){var u=i[a];this[a]=u&&t&&u.clone?u.clone():u}}},equals:function(e){function t(i,a,u){var l=i._values,h=a._values,f=a._defaults;for(var c in l){var _=l[c],m=h[c];if(!(u&&c in h)&&!g.equals(_,m===o?f[c]:m))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),t!=null?t:i*1.2}}),Ve=new function(){function e(t,i,a,u){for(var l=["","webkit","moz","Moz","ms","o"],h=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var c=l[f],_=c?c+h:i;if(_ in t){if(a)t[_]=u;else return t[_];break}}}return{getStyles:function(t){var i=t&&t.nodeType!==9?t.ownerDocument:t,a=i&&i.defaultView;return a&&a.getComputedStyle(t,"")},getBounds:function(t,i){var a=t.ownerDocument,u=a.body,l=a.documentElement,h;try{h=t.getBoundingClientRect()}catch(m){h={left:0,top:0,width:0,height:0}}var f=h.left-(l.clientLeft||u.clientLeft||0),c=h.top-(l.clientTop||u.clientTop||0);if(!i){var _=a.defaultView;f+=_.pageXOffset||l.scrollLeft||u.scrollLeft,c+=_.pageYOffset||l.scrollTop||u.scrollTop}return new q(f,c,h.width,h.height)},getViewportBounds:function(t){var i=t.ownerDocument,a=i.defaultView,u=i.documentElement;return new q(0,0,a.innerWidth||u.clientWidth,a.innerHeight||u.clientHeight)},getOffset:function(t,i){return Ve.getBounds(t,i).getPoint()},getSize:function(t){return Ve.getBounds(t,!0).getSize()},isInvisible:function(t){return Ve.getSize(t).equals(new J(0,0))},isInView:function(t){return!Ve.isInvisible(t)&&Ve.getViewportBounds(t).intersects(Ve.getBounds(t,!0))},isInserted:function(t){return x.body.contains(t)},getPrefixed:function(t,i){return t&&e(t,i)},setPrefixed:function(t,i,a){if(typeof i=="object")for(var u in i)e(t,u,!0,i[u]);else e(t,i,!0,a)}}},qe={add:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++){var f=u[l],c=e===x&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;e.addEventListener(f,a,c)}},remove:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++)e.removeEventListener(u[l],a,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new N(t.pageX||t.clientX+x.documentElement.scrollLeft,t.pageY||t.clientY+x.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return qe.getPoint(e).subtract(Ve.getOffset(t||qe.getTarget(e)))}};qe.requestAnimationFrame=new function(){var e=Ve.getPrefixed(d,"requestAnimationFrame"),t=!1,i=[],a;function u(){var l=i;i=[];for(var h=0,f=l.length;h<f;h++)l[h]();t=e&&i.length,t&&e(u)}return function(l){i.push(l),e?t||(e(u),t=!0):a||(a=setInterval(u,1e3/60))}};var Be=g.extend(F,{_class:"View",initialize:function e(t,i){function a(p){return i[p]||parseInt(i.getAttribute(p),10)}function u(){var p=Ve.getSize(i);return p.isNaN()||p.isZero()?new J(a("width"),a("height")):p}var l;if(d&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+e._id++),qe.add(i,this._viewEvents);var h="none";if(Ve.setPrefixed(i.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),H.hasAttribute(i,"resize")){var f=this;qe.add(d,this._windowEvents={resize:function(){f.setViewSize(u())}})}if(l=u(),H.hasAttribute(i,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var c=this._stats.domElement,_=c.style,m=Ve.getOffset(i);_.position="absolute",_.left=m.x+"px",_.top=m.y+"px",x.body.appendChild(c)}}else l=new J(i),i=null;this._project=t,this._scope=t._scope,this._element=i,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new G)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Be._focused===this&&(Be._focused=null),Be._views.splice(Be._views.indexOf(this),1),delete Be._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),qe.remove(this._element,this._viewEvents),qe.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(se._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;qe.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!Ve.getPrefixed(x,"hidden")||H.getAttribute(t,"keepalive")==="true")&&Ve.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new g({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var i=this._frameItems;t?(i[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var i=this._frameItems[t];i.item.emit("frame",new g(e,{time:i.time+=e.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new Ae(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=J.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var i=this._element;i&&(i.width!==e&&(i.width=e),i.height!==t&&(i.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new q(new N,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ve.isInView(this._element)},isInserted:function(){return Ve.isInserted(this._element)},getPixelSize:function(e){var t=this._element,i;if(t){var a=t.parentNode,u=x.createElement("div");u.style.fontSize=e,a.appendChild(u),i=parseFloat(Ve.getStyles(u).fontSize),a.removeChild(u)}else i=parseFloat(i);return i},getTextWidth:function(e,t){return 0}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:N).read(i),u=N.read(i,0,{readNull:!0});return this.transform(new G()[e](a,u||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new G;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=N.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new G().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new ce(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=N.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(N.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(N.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(N.read(arguments))},getEventPoint:function(e){return this.viewToProject(qe.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){x&&typeof t=="string"&&(t=x.getElementById(t));var i=d?Ka:Be;return new i(e,t)}}},new function(){if(!d)return;var e,t,i=!1,a=!1;function u(O){var D=qe.getTarget(O);return D.getAttribute&&Be._viewsById[D.getAttribute("id")]}function l(){var O=Be._focused;if(!O||!O.isVisible()){for(var D=0,B=Be._views.length;D<B;D++)if((O=Be._views[D]).isVisible()){Be._focused=t=O;break}}}function h(O,D,B){O._handleMouseEvent("mousemove",D,B)}var f=d.navigator,c,_,m;f.pointerEnabled||f.msPointerEnabled?(c="pointerdown MSPointerDown",_="pointermove MSPointerMove",m="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",_="touchmove",m="touchend touchcancel","ontouchstart"in d&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",_+=" mousemove",m+=" mouseup"));var p={},v={mouseout:function(O){var D=Be._focused,B=qe.getRelatedTarget(O);if(D&&(!B||B.nodeName==="HTML")){var V=qe.getOffset(O,D._element),U=V.x,W=Math.abs,$=W(U),re=1<<25,le=$-re;V.x=W(le)<$?le*(U<0?-1:1):U,h(D,O,D.viewToProject(V))}},scroll:l};p[c]=function(O){var D=Be._focused=u(O);i||(i=!0,D._handleMouseEvent("mousedown",O))},v[_]=function(O){var D=Be._focused;if(!a){var B=u(O);B?D!==B&&(D&&h(D,O),e||(e=D),D=Be._focused=t=B):t&&t===D&&(e&&!e.isInserted()&&(e=null),D=Be._focused=e,e=null,l())}D&&h(D,O)},v[c]=function(){a=!0},v[m]=function(O){var D=Be._focused;D&&i&&D._handleMouseEvent("mouseup",O),a=i=!1},qe.add(x,v),qe.add(d,{load:l});var S=!1,k=!1,I={doubleclick:"click",mousedrag:"mousemove"},b=!1,C,w,y,P,T,M,E,z;function A(O,D,B,V,U,W,$){var re=!1,le;function he(ee,ie){if(ee.responds(ie)){if(le||(le=new Ja(ie,V,U,D||ee,W?U.subtract(W):null)),ee.emit(ie,le)&&(S=!0,le.prevented&&(k=!0),le.stopped))return re=!0}else{var fe=I[ie];if(fe)return he(ee,fe)}}for(;O&&O!==$&&!he(O,B);)O=O._parent;return re}function L(O,D,B,V,U,W){return O._project.removeOn(B),k=S=!1,T&&A(T,null,B,V,U,W)||D&&D!==T&&!D.isDescendant(T)&&A(D,null,B==="mousedrag"?"mousemove":B,V,U,W,T)||A(O,T||D||O,B,V,U,W)}var R={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:p,_handleMouseEvent:function(O,D,B){var V=this._itemEvents,U=V.native[O],W=O==="mousemove",$=this._scope.tool,re=this;function le(Se){return V.virtual[Se]||re.responds(Se)||$&&$.responds(Se)}W&&i&&le("mousedrag")&&(O="mousedrag"),B||(B=this.getEventPoint(D));var he=this.getBounds().contains(B),ee=U&&he&&re._project.hitTest(B,{tolerance:0,fill:!0,stroke:!0}),ie=ee&&ee.item||null,fe=!1,ge={};if(ge[O.substr(5)]=!0,U&&ie!==P&&(P&&A(P,null,"mouseleave",D,B),ie&&A(ie,null,"mouseenter",D,B),P=ie),b^he&&(A(this,null,he?"mouseenter":"mouseleave",D,B),fe=!0),(he||ge.drag)&&!B.equals(w)&&(L(this,ie,W?O:"mousemove",D,B,w),fe=!0),b=he,ge.down&&he||ge.up&&C){if(L(this,ie,O,D,B,C),ge.down){if(z=ie===M&&Date.now()-E<300,y=M=ie,!k&&ie){for(var pe=ie;pe&&!pe.responds("mousedrag");)pe=pe._parent;pe&&(T=ie)}C=B}else ge.up&&(!k&&ie===y&&(E=Date.now(),L(this,ie,z?"doubleclick":"click",D,B,C),z=!1),y=T=null);b=!1,fe=!0}w=B,fe&&$&&(S=$._handleMouseEvent(O,D,B,ge)||S),D.cancelable!==!1&&(S&&!ge.move||ge.down&&le("mouseup"))&&D.preventDefault()},_handleKeyEvent:function(O,D,B,V){var U=this._scope,W=U.tool,$;function re(le){le.responds(O)&&(r=U,le.emit(O,$=$||new Xa(O,D,B,V)))}this.isVisible()&&(re(this),W&&W.responds(O)&&re(W))},_countItemEvent:function(O,D){var B=this._itemEvents,V=B.native,U=B.virtual;for(var W in R)V[W]=(V[W]||0)+(R[W][O]||0)*D;U[O]=(U[O]||0)+D},statics:{updateFocus:l,_resetState:function(){i=a=S=b=!1,e=t=C=w=y=P=T=M=E=z=null}}}}),Ka=Be.extend({_class:"CanvasView",initialize:function(t,i){if(!(i instanceof d.HTMLCanvasElement)){var a=J.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));i=vt.getCanvas(a)}var u=this._context=i.getContext("2d");if(u.save(),this._pixelRatio=1,!/^off|false$/.test(H.getAttribute(i,"hidpi"))){var l=d.devicePixelRatio||1,h=Ve.getPrefixed(u,"backingStorePixelRatio")||1;this._pixelRatio=l/h}Be.call(this,t,i),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,i){var a=this._pixelRatio;if(e.base.call(this,t*a,i*a),a!==1){var u=this._element,l=this._context;if(!H.hasAttribute(u,"resize")){var h=u.style;h.width=t+"px",h.height=i+"px"}l.restore(),l.save(),l.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function e(t){var i=r.agent,a;if(i&&i.firefox)a=e.base.call(this,t);else{var u=this._context,l=u.font;u.font=t+" serif",a=parseFloat(u.font),u.font=l}return a},getTextWidth:function(e,t){var i=this._context,a=i.font,u=0;i.font=e;for(var l=0,h=t.length;l<h;l++)u=Math.max(u,i.measureText(t[l]).width);return i.font=a,u},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,i=this._viewSize;return t.clearRect(0,0,i.width+1,i.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Rn=g.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return xr.modifiers}}),Xa=Rn.extend({_class:"KeyEvent",initialize:function(t,i,a,u){this.type=t,this.event=i,this.key=a,this.character=u},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),xr=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},i={},a={},u,l,h=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=r&&r.agent;return _&&_.mac?this.meta:this.control}}});function f(_){var m=_.key||_.keyIdentifier;return m=/^U\+/.test(m)?String.fromCharCode(parseInt(m.substr(2),16)):/^Arrow[A-Z]/.test(m)?m.substr(5):m==="Unidentified"||m===o?String.fromCharCode(_.keyCode):m,e[m]||(m.length>1?g.hyphenate(m):m.toLowerCase())}function c(_,m,p,v){var S=Be._focused,k;if(i[m]=_,_?a[m]=p:delete a[m],m.length>1&&(k=g.camelize(m))in h){h[k]=_;var I=r&&r.agent;if(k==="meta"&&I&&I.mac)if(_)u={};else{for(var b in u)b in a&&c(!1,b,u[b],v);u=null}}else _&&u&&(u[m]=p);S&&S._handleKeyEvent(_?"keydown":"keyup",v,m,p)}return qe.add(x,{keydown:function(_){var m=f(_),p=r&&r.agent;m.length>1||p&&p.chrome&&(_.altKey||p.mac&&_.metaKey||!p.mac&&_.ctrlKey)?c(!0,m,t[m]||(m.length>1?"":m),_):l=m},keypress:function(_){if(l){var m=f(_),p=_.charCode,v=p>=32?String.fromCharCode(p):m.length>1?"":m;m!==l&&(m=v.toLowerCase()),c(!0,m,v,_),l=null}},keyup:function(_){var m=f(_);m in a&&c(!1,m,a[m],_)}}),qe.add(d,{blur:function(_){for(var m in a)c(!1,m,a[m],_)}}),{modifiers:h,isDown:function(_){return!!i[_]}}},Ja=Rn.extend({_class:"MouseEvent",initialize:function(t,i,a,u,l){this.type=t,this.event=i,this.point=a,this.target=u,this.delta=l},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ya=Rn.extend({_class:"ToolEvent",_item:null,initialize:function(t,i,a){this.tool=t,this.type=i,this.event=a},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,i=t._parent;/^(Group|CompoundPath)$/.test(i._class);)t=i,i=i._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),$a=j.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){j.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,i,a){r=this._scope,a.drag&&!this.responds(e)&&(e="mousemove");var u=a.move||a.drag,l=this.responds(e),h=this.minDistance,f=this.maxDistance,c=!1,_=this;function m(v,S){var k=i,I=u?_._point:_._downPoint||k;if(u){if(_._moveCount>=0&&k.equals(I))return!1;if(I&&(v!=null||S!=null)){var b=k.subtract(I),C=b.getLength();if(C<(v||0))return!1;S&&(k=I.add(b.normalize(Math.min(C,S))))}_._moveCount++}return _._point=k,_._lastPoint=I||k,a.down&&(_._moveCount=-1,_._downPoint=k,_._downCount++),!0}function p(){l&&(c=_.emit(e,new Ya(_,e,t))||c)}if(a.down)m(),p();else if(a.up)m(null,f),p();else if(l)for(;m(h,f);)p();return c}}),eu=g.extend(F,{_class:"Tween",statics:{easings:new g({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,i,a,u,l,h){this.object=t;var f=typeof l,c=f==="function";this.type=c?f:f==="string"?l:"linear",this.easing=c?l:e.easings[this.type],this.duration=u,this.running=!1,this._then=null,this._startTime=null;var _=i||a;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(i),this._to=_&&this._getState(a),h!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),i=this._keys,a=function(m){return typeof m=="function"?m(t,e):m},u=0,l=i&&i.length;u<l;u++){var h=i[u],f=a(this._from[h]),c=a(this._to[h]),_=f&&c&&f.__add&&c.__add?c.__subtract(f).__multiply(t).__add(f):(c-f)*t+f;this._setProperty(this._parsedKeys[h],_)}this.responds("update")&&this.emit("update",new g({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,i=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(i)},_getState:function(e){for(var t=this._keys,i={},a=0,u=t.length;a<u;a++){var l=t[a],h=this._parsedKeys[l],f=this._getProperty(h),c;if(e){var _=this._resolveValue(f,e[l]);this._setProperty(h,_),c=this._getProperty(h),c=c&&c.clone?c.clone():c,this._setProperty(h,f)}else c=f&&f.clone?f.clone():f;i[l]=c}return i},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var i=t[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(e,i[0],t[1]):t}else if(typeof t=="string"){var a=t.match(/^[+\-*/]=(.*)/);if(a){var u=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],u)}}}return t},_calculate:function(e,t,i){return r.PaperScript.calculateBinary(e,t,i)},_parseKeys:function(e){for(var t={},i=0,a=e.length;i<a;i++){var u=e[i],l=u.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[u]=l.split("/")}return t},_getProperty:function(e,t){for(var i=this.object,a=0,u=e.length-(t||0);a<u&&i;a++)i=i[e[a]];return i},_setProperty:function(e,t){var i=this._getProperty(e,1);i&&(i[e[e.length-1]]=t)}}),Ct={request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,g.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var i=t.status;i===0||i===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var i=t.status,a='Could not load "'+e.url+'" (Status: '+i+")";if(e.onError)e.onError(a,i);else throw new Error(a)},t.send(null)}},vt=g.exports.CanvasProvider={canvases:[],getCanvas:function(e,t){if(!d)return null;var i,a=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?i=this.canvases.pop():(i=x.createElement("canvas"),a=!1);var u=i.getContext("2d");if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===e&&i.height===t?a&&u.clearRect(0,0,e+1,t+1):(i.width=e,i.height=t),u.save(),i},getContext:function(e,t){var i=this.getCanvas(e,t);return i?i.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},ht=new function(){var e=Math.min,t=Math.max,i=Math.abs,a,u,l,h,f,c,_,m,p,v,S;function k(T,M,E){return .2989*T+.587*M+.114*E}function I(T,M,E,L){var A=L-k(T,M,E);p=T+A,v=M+A,S=E+A;var L=k(p,v,S),R=e(p,v,S),O=t(p,v,S);if(R<0){var D=L-R;p=L+(p-L)*L/D,v=L+(v-L)*L/D,S=L+(S-L)*L/D}if(O>255){var B=255-L,V=O-L;p=L+(p-L)*B/V,v=L+(v-L)*B/V,S=L+(S-L)*B/V}}function b(T,M,E){return t(T,M,E)-e(T,M,E)}function C(T,M,E,z){var A=[T,M,E],L=t(T,M,E),R=e(T,M,E),O;R=R===T?0:R===M?1:2,L=L===T?0:L===M?1:2,O=e(R,L)===0?t(R,L)===1?2:1:0,A[L]>A[R]?(A[O]=(A[O]-A[R])*z/(A[L]-A[R]),A[L]=z):A[O]=A[L]=0,A[R]=0,p=A[0],v=A[1],S=A[2]}var w={multiply:function(){p=f*a/255,v=c*u/255,S=_*l/255},screen:function(){p=f+a-f*a/255,v=c+u-c*u/255,S=_+l-_*l/255},overlay:function(){p=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255,S=_<128?2*_*l/255:255-2*(255-_)*(255-l)/255},"soft-light":function(){var T=a*f/255;p=T+f*(255-(255-f)*(255-a)/255-T)/255,T=u*c/255,v=T+c*(255-(255-c)*(255-u)/255-T)/255,T=l*_/255,S=T+_*(255-(255-_)*(255-l)/255-T)/255},"hard-light":function(){p=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255,S=l<128?2*l*_/255:255-2*(255-l)*(255-_)/255},"color-dodge":function(){p=f===0?0:a===255?255:e(255,255*f/(255-a)),v=c===0?0:u===255?255:e(255,255*c/(255-u)),S=_===0?0:l===255?255:e(255,255*_/(255-l))},"color-burn":function(){p=f===255?255:a===0?0:t(0,255-(255-f)*255/a),v=c===255?255:u===0?0:t(0,255-(255-c)*255/u),S=_===255?255:l===0?0:t(0,255-(255-_)*255/l)},darken:function(){p=f<a?f:a,v=c<u?c:u,S=_<l?_:l},lighten:function(){p=f>a?f:a,v=c>u?c:u,S=_>l?_:l},difference:function(){p=f-a,p<0&&(p=-p),v=c-u,v<0&&(v=-v),S=_-l,S<0&&(S=-S)},exclusion:function(){p=f+a*(255-f-f)/255,v=c+u*(255-c-c)/255,S=_+l*(255-_-_)/255},hue:function(){C(a,u,l,b(f,c,_)),I(p,v,S,k(f,c,_))},saturation:function(){C(f,c,_,b(a,u,l)),I(p,v,S,k(f,c,_))},luminosity:function(){I(f,c,_,k(a,u,l))},color:function(){I(a,u,l,k(f,c,_))},add:function(){p=e(f+a,255),v=e(c+u,255),S=e(_+l,255)},subtract:function(){p=t(f-a,0),v=t(c-u,0),S=t(_-l,0)},average:function(){p=(f+a)/2,v=(c+u)/2,S=(_+l)/2},negation:function(){p=255-i(255-a-f),v=255-i(255-u-c),S=255-i(255-l-_)}},y=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(T){this[T]=!0},{}),P=vt.getContext(1,1);P&&(g.each(w,function(T,M){var E=M==="darken",z=!1;P.save();try{P.fillStyle=E?"#300":"#a00",P.fillRect(0,0,1,1),P.globalCompositeOperation=M,P.globalCompositeOperation===M&&(P.fillStyle=E?"#a00":"#300",P.fillRect(0,0,1,1),z=P.getImageData(0,0,1,1).data[0]!==E?170:51)}catch(A){}P.restore(),y[M]=z}),vt.release(P)),this.process=function(T,M,E,z,A){var L=M.canvas,R=T==="normal";if(R||y[T])E.save(),E.setTransform(1,0,0,1,0,0),E.globalAlpha=z,R||(E.globalCompositeOperation=T),E.drawImage(L,A.x,A.y),E.restore();else{var O=w[T];if(!O)return;for(var D=E.getImageData(A.x,A.y,L.width,L.height),B=D.data,V=M.getImageData(0,0,L.width,L.height).data,U=0,W=B.length;U<W;U+=4){a=V[U],f=B[U],u=V[U+1],c=B[U+1],l=V[U+2],_=B[U+2],h=V[U+3],m=B[U+3],O();var $=h*z/255,re=1-$;B[U]=$*p+re*f,B[U+1]=$*v+re*c,B[U+2]=$*S+re*_,B[U+3]=h*z+re*m}E.putImageData(D,A.x,A.y)}}},gt=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",a={href:i,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function u(f,c,_){return h(x.createElementNS(e,f),c,_)}function l(f,c){var _=a[c],m=_?f.getAttributeNS(_,c):f.getAttribute(c);return m==="null"?null:m}function h(f,c,_){for(var m in c){var p=c[m],v=a[m];typeof p=="number"&&_&&(p=_.number(p)),v?f.setAttributeNS(v,m,p):f.setAttribute(m,p)}return f}return{svg:e,xmlns:t,xlink:i,create:u,get:l,set:h}},je=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Ce||e instanceof Ee||e instanceof bt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var i=g.capitalize(t),a=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:a,fromSVG:a&&g.each(a,function(u,l){this[u]=l},{}),exportFilter:e[3],get:"get"+i,set:"set"+i}},{});new function(){var e;function t(w,y,P){var T=new g,M=w.getTranslation();if(y){var E;w.isInvertible()?(w=w._shiftless(),E=w._inverseTransform(M),M=null):E=new N,T[P?"cx":"x"]=E.x,T[P?"cy":"y"]=E.y}if(!w.isIdentity()){var z=w.decompose();if(z){var A=[],L=z.rotation,R=z.scaling,O=z.skewing;M&&!M.isZero()&&A.push("translate("+e.point(M)+")"),L&&A.push("rotate("+e.number(L)+")"),(!Y.isZero(R.x-1)||!Y.isZero(R.y-1))&&A.push("scale("+e.point(R)+")"),O.x&&A.push("skewX("+e.number(O.x)+")"),O.y&&A.push("skewY("+e.number(O.y)+")"),T.transform=A.join(" ")}else T.transform="matrix("+w.getValues().join(",")+")"}return T}function i(w,y){for(var P=t(w._matrix),T=w._children,M=gt.create("g",P,e),E=0,z=T.length;E<z;E++){var A=T[E],L=b(A,y);if(L)if(A.isClipMask()){var R=gt.create("clipPath");R.appendChild(L),k(A,R,"clip"),gt.set(M,{"clip-path":"url(#"+R.id+")"})}else M.appendChild(L)}return M}function a(w,y){var P=t(w._matrix,!0),T=w.getSize(),M=w.getImage();return P.x-=T.width/2,P.y-=T.height/2,P.width=T.width,P.height=T.height,P.href=y.embedImages==!1&&M&&M.src||w.toDataURL(),gt.create("image",P,e)}function u(w,y){var P=y.matchShapes;if(P){var T=w.toShape(!1);if(T)return l(T)}var M=w._segments,E=M.length,z,A=t(w._matrix);if(P&&E>=2&&!w.hasHandles())if(E>2){z=w._closed?"polygon":"polyline";for(var L=[],R=0;R<E;R++)L.push(e.point(M[R]._point));A.points=L.join(" ")}else{z="line";var O=M[0]._point,D=M[1]._point;A.set({x1:O.x,y1:O.y,x2:D.x,y2:D.y})}else z="path",A.d=w.getPathData(null,y.precision);return gt.create(z,A,e)}function l(w){var y=w._type,P=w._radius,T=t(w._matrix,!0,y!=="rectangle");if(y==="rectangle"){y="rect";var M=w._size,E=M.width,z=M.height;T.x-=E/2,T.y-=z/2,T.width=E,T.height=z,P.isZero()&&(P=null)}return P&&(y==="circle"?T.r=P:(T.rx=P.width,T.ry=P.height)),gt.create(y,T,e)}function h(w,y){var P=t(w._matrix),T=w.getPathData(null,y.precision);return T&&(P.d=T),gt.create("path",P,e)}function f(w,y){var P=t(w._matrix,!0),T=w._definition,M=S(T,"symbol"),E=T._item,z=E.getStrokeBounds();return M||(M=gt.create("symbol",{viewBox:e.rectangle(z)}),M.appendChild(b(E,y)),k(T,M,"symbol")),P.href="#"+M.id,P.x+=z.x,P.y+=z.y,P.width=z.width,P.height=z.height,P.overflow="visible",gt.create("use",P,e)}function c(w){var y=S(w,"color");if(!y){var P=w.getGradient(),T=P._radial,M=w.getOrigin(),E=w.getDestination(),z;if(T){z={cx:M.x,cy:M.y,r:M.getDistance(E)};var A=w.getHighlight();A&&(z.fx=A.x,z.fy=A.y)}else z={x1:M.x,y1:M.y,x2:E.x,y2:E.y};z.gradientUnits="userSpaceOnUse",y=gt.create((T?"radial":"linear")+"Gradient",z,e);for(var L=P._stops,R=0,O=L.length;R<O;R++){var D=L[R],B=D._color,V=B.getAlpha(),U=D._offset;z={offset:U==null?R/(O-1):U},B&&(z["stop-color"]=B.toCSS(!0)),V<1&&(z["stop-opacity"]=V),y.appendChild(gt.create("stop",z,e))}k(w,y,"color")}return"url(#"+y.id+")"}function _(w){var y=gt.create("text",t(w._matrix,!0),e);return y.textContent=w._content,y}var m={Group:i,Layer:i,Raster:a,Path:u,Shape:l,CompoundPath:h,SymbolItem:f,PointText:_};function p(w,y,P){var T={},M=!P&&w.getParent(),E=[];return w._name!=null&&(T.id=w._name),g.each(je,function(z){var A=z.get,L=z.type,R=w[A]();if(z.exportFilter?z.exportFilter(w,R):!M||!g.equals(M[A](),R)){if(L==="color"&&R!=null){var O=R.getAlpha();O<1&&(T[z.attribute+"-opacity"]=O)}L==="style"?E.push(z.attribute+": "+R):T[z.attribute]=R==null?"none":L==="color"?R.gradient?c(R):R.toCSS(!0):L==="array"?R.join(","):L==="lookup"?z.toSVG[R]:R}}),E.length&&(T.style=E.join(";")),T.opacity===1&&delete T.opacity,w._visible||(T.visibility="hidden"),gt.set(y,T,e)}var v;function S(w,y){return v||(v={ids:{},svgs:{}}),w&&v.svgs[y+"-"+(w._id||w.__id||(w.__id=te.get("svg")))]}function k(w,y,P){v||S();var T=v.ids[P]=(v.ids[P]||0)+1;y.id=P+"-"+T,v.svgs[P+"-"+(w._id||w.__id)]=y}function I(w,y){var P=w,T=null;if(v){P=w.nodeName.toLowerCase()==="svg"&&w;for(var M in v.svgs)T||(P||(P=gt.create("svg"),P.appendChild(w)),T=P.insertBefore(gt.create("defs"),P.firstChild)),T.appendChild(v.svgs[M]);v=null}return y.asString?new s.XMLSerializer().serializeToString(P):P}function b(w,y,P){var T=m[w._class],M=T&&T(w,y);if(M){var E=y.onExport;E&&(M=E(w,M,y)||M);var z=JSON.stringify(w._data);z&&z!=="{}"&&z!=="null"&&M.setAttribute("data-paper-data",z)}return M&&p(w,M,P)}function C(w){return w||(w={}),e=new ae(w.precision),w}se.inject({exportSVG:function(w){return w=C(w),I(b(this,w,!0),w)}}),me.inject({exportSVG:function(w){w=C(w);var y=this._children,P=this.getView(),T=g.pick(w.bounds,"view"),M=w.matrix||T==="view"&&P._matrix,E=M&&G.read([M]),z=T==="view"?new q([0,0],P.getViewSize()):T==="content"?se._getBounds(y,E,{stroke:!0}).rect:q.read([T],0,{readNull:!0}),A={version:"1.1",xmlns:gt.svg,"xmlns:xlink":gt.xlink};z&&(A.width=z.width,A.height=z.height,(z.x||z.x===0||z.y||z.y===0)&&(A.viewBox=e.rectangle(z)));var L=gt.create("svg",A,e),R=L;E&&!E.isIdentity()&&(R=L.appendChild(gt.create("g",t(E),e)));for(var O=0,D=y.length;O<D;O++)R.appendChild(b(y[O],w,!0));return I(L,w)}})},new function(){var e={},t;function i(y,P,T,M,E,z){var A=gt.get(y,P)||z,L=A==null?M?null:T?"":0:T?A:parseFloat(A);return/%\s*$/.test(A)?L/100*(E?1:t[/x|^width/.test(P)?"width":"height"]):L}function a(y,P,T,M,E,z,A){return P=i(y,P||"x",!1,M,E,z),T=i(y,T||"y",!1,M,E,A),M&&(P==null||T==null)?null:new N(P,T)}function u(y,P,T,M,E){return P=i(y,P||"width",!1,M,E),T=i(y,T||"height",!1,M,E),M&&(P==null||T==null)?null:new J(P,T)}function l(y,P,T){return y==="none"?null:P==="number"?parseFloat(y):P==="array"?y?y.split(/[\s,]+/g).map(parseFloat):[]:P==="color"?b(y)||y:P==="lookup"?T[y]:y}function h(y,P,T,M){var E=y.childNodes,z=P==="clippath",A=P==="defs",L=new ye,R=L._project,O=R._currentStyle,D=[];if(!z&&!A&&(L=I(L,y,M),R._currentStyle=L._style.clone()),M)for(var B=y.querySelectorAll("defs"),V=0,U=B.length;V<U;V++)C(B[V],T,!1);for(var V=0,U=E.length;V<U;V++){var W=E[V],$;W.nodeType===1&&!/^defs$/i.test(W.nodeName)&&($=C(W,T,!1))&&!($ instanceof Ke)&&D.push($)}return L.addChildren(D),z&&(L=I(L.reduce(),y,M)),R._currentStyle=O,(z||A)&&(L.remove(),L=null),L}function f(y,P){for(var T=y.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),M=[],E=0,z=T.length;E<z;E+=2)M.push(new N(parseFloat(T[E]),parseFloat(T[E+1])));var A=new ve(M);return P==="polygon"&&A.closePath(),A}function c(y){return Ce.create(y.getAttribute("d"))}function _(y,P){var T=(i(y,"href",!0)||"").substring(1),M=P==="radialgradient",E;if(T)E=e[T].getGradient(),E._radial^M&&(E=E.clone(),E._radial=M);else{for(var z=y.childNodes,A=[],L=0,R=z.length;L<R;L++){var O=z[L];O.nodeType===1&&A.push(I(new dn,O))}E=new kt(A,M)}var D,B,V,U=i(y,"gradientUnits",!0)!=="userSpaceOnUse";M?(D=a(y,"cx","cy",!1,U,"50%","50%"),B=D.add(i(y,"r",!1,!1,U,"50%"),0),V=a(y,"fx","fy",!0,U)):(D=a(y,"x1","y1",!1,U,"0%","0%"),B=a(y,"x2","y2",!1,U,"100%","0%"));var W=I(new De(E,D,B,V),y);return W._scaleToBounds=U,null}var m={"#document":function(y,P,T,M){for(var E=y.childNodes,z=0,A=E.length;z<A;z++){var L=E[z];if(L.nodeType===1)return C(L,T,M)}},g:h,svg:h,clippath:h,polygon:f,polyline:f,path:c,lineargradient:_,radialgradient:_,image:function(y){var P=new ze(i(y,"href",!0));return P.on("load",function(){var T=u(y);this.setSize(T);var M=a(y).add(T.divide(2));this._matrix.append(new G().translate(M))}),P},symbol:function(y,P,T,M){return new Ke(h(y,P,T,M),!0)},defs:h,use:function(y){var P=(i(y,"href",!0)||"").substring(1),T=e[P],M=a(y);return T?T instanceof Ke?T.place(M):T.clone().translate(M):null},circle:function(y){return new Ee.Circle(a(y,"cx","cy"),i(y,"r"))},ellipse:function(y){return new Ee.Ellipse({center:a(y,"cx","cy"),radius:u(y,"rx","ry")})},rect:function(y){return new Ee.Rectangle(new q(a(y),u(y)),u(y,"rx","ry"))},line:function(y){return new ve.Line(a(y,"x1","y1"),a(y,"x2","y2"))},text:function(y){var P=new Dt(a(y).add(a(y,"dx","dy")));return P.setContent(y.textContent.trim()||""),P},switch:h};function p(y,P,T,M){if(y.transform){for(var E=(M.getAttribute(T)||"").split(/\)\s*/g),z=new G,A=0,L=E.length;A<L;A++){var R=E[A];if(!R)break;for(var O=R.split(/\(\s*/),D=O[0],B=O[1].split(/[\s,]+/g),V=0,U=B.length;V<U;V++)B[V]=parseFloat(B[V]);switch(D){case"matrix":z.append(new G(B[0],B[1],B[2],B[3],B[4],B[5]));break;case"rotate":z.rotate(B[0],B[1]||0,B[2]||0);break;case"translate":z.translate(B[0],B[1]||0);break;case"scale":z.scale(B);break;case"skewX":z.skew(B[0],0);break;case"skewY":z.skew(0,B[0]);break}}y.transform(z)}}function v(y,P,T){var M=T==="fill-opacity"?"getFillColor":"getStrokeColor",E=y[M]&&y[M]();E&&E.setAlpha(parseFloat(P))}var S=g.set(g.each(je,function(y){this[y.attribute]=function(P,T){if(P[y.set]&&(P[y.set](l(T,y.type,y.fromSVG)),y.type==="color")){var M=P[y.get]();if(M&&M._scaleToBounds){var E=P.getBounds();M.transform(new G().translate(E.getPoint()).scale(E.getSize()))}}}},{}),{id:function(y,P){e[P]=y,y.setName&&y.setName(P)},"clip-path":function(y,P){var T=b(P);if(T)if(T=T.clone(),T.setClipMask(!0),y instanceof ye)y.insertChild(0,T);else return new ye(T,y)},gradientTransform:p,transform:p,"fill-opacity":v,"stroke-opacity":v,visibility:function(y,P){y.setVisible&&y.setVisible(P==="visible")},display:function(y,P){y.setVisible&&y.setVisible(P!==null)},"stop-color":function(y,P){y.setColor&&y.setColor(P)},"stop-opacity":function(y,P){y._color&&y._color.setAlpha(parseFloat(P))},offset:function(y,P){if(y.setOffset){var T=P.match(/(.*)%$/);y.setOffset(T?T[1]/100:parseFloat(P))}},viewBox:function(y,P,T,M,E){var z=new q(l(P,"array")),A=u(M,null,null,!0),L,R;if(y instanceof ye){var O=A?A.divide(z.getSize()):1,R=new G().scale(O).translate(z.getPoint().negate());L=y}else y instanceof Ke&&(A&&z.setSize(A),L=y._item);if(L){if(k(M,"overflow",E)!=="visible"){var D=new Ee.Rectangle(z);D.setClipMask(!0),L.addChild(D)}R&&L.transform(R)}}});function k(y,P,T){var M=y.attributes[P],E=M&&M.value;if(!E&&y.style){var z=g.camelize(P);E=y.style[z],!E&&T.node[z]!==T.parent[z]&&(E=T.node[z])}return E?E==="none"?null:E:o}function I(y,P,T){var M=P.parentNode,E={node:Ve.getStyles(P)||{},parent:!T&&!/^defs$/i.test(M.tagName)&&Ve.getStyles(M)||{}};return g.each(S,function(z,A){var L=k(P,A,E);y=L!==o&&z(y,L,A,P,E)||y}),y}function b(y){var P=y&&y.match(/\((?:["'#]*)([^"')]+)/),T=P&&P[1],M=T&&e[d?T.replace(d.location.href.split("#")[0]+"#",""):T];return M&&M._scaleToBounds&&(M=M.clone(),M._scaleToBounds=!0),M}function C(y,P,T){var M=y.nodeName.toLowerCase(),E=M!=="#document",z=x.body,A,L,R;T&&E&&(t=r.getView().getSize(),t=u(y,null,null,!0)||t,A=gt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),L=y.parentNode,R=y.nextSibling,A.appendChild(y),z.appendChild(A));var O=r.settings,D=O.applyMatrix,B=O.insertItems;O.applyMatrix=!1,O.insertItems=!1;var V=m[M],U=V&&V(y,M,P,T)||null;if(O.insertItems=B,O.applyMatrix=D,U){E&&!(U instanceof ye)&&(U=I(U,y,T));var W=P.onImport,$=E&&y.getAttribute("data-paper-data");W&&(U=W(y,U,P)||U),P.expandShapes&&U instanceof Ee&&(U.remove(),U=U.toPath()),$&&(U._data=JSON.parse($))}return A&&(z.removeChild(A),L&&(R?L.insertBefore(y,R):L.appendChild(y))),T&&(e={},U&&g.pick(P.applyMatrix,D)&&U.matrix.apply(!0,!0)),U}function w(y,P,T){if(!y)return null;P=typeof P=="function"?{onLoad:P}:P||{};var M=r,E=null;function z(O){try{var D=typeof O=="object"?O:new s.DOMParser().parseFromString(O.trim(),"image/svg+xml");if(!D.nodeName)throw D=null,new Error("Unsupported SVG source: "+y);r=M,E=C(D,P,!0),(!P||P.insert!==!1)&&T._insertItem(o,E);var B=P.onLoad;B&&B(E,O)}catch(V){A(V)}}function A(O,D){var B=P.onError;if(B)B(O,D);else throw new Error(O)}if(typeof y=="string"&&!/^[\s\S]*</.test(y)){var L=x.getElementById(y);L?z(L):Ct.request({url:y,async:!0,onLoad:z,onError:A})}else if(typeof File!="undefined"&&y instanceof File){var R=new FileReader;return R.onload=function(){z(R.result)},R.onerror=function(){A(R.error)},R.readAsText(y)}else z(y);return E}se.inject({importSVG:function(y,P){return w(y,P,this)}}),me.inject({importSVG:function(y,P){return this.activate(),w(y,P,this)}})},g.exports.PaperScript=function(){var e=this,t=e.acorn;if(!t&&typeof dg!="undefined")try{t=require("acorn")}catch(I){}if(!t){var i,a;t=i=a={},function(I,b){if(typeof i=="object"&&typeof a=="object")return b(i);if(typeof o=="function"&&o.amd)return o(["exports"],b);b(I.acorn||(I.acorn={}))}(this,function(I){I.version="0.5.0";var b,C,w,y;I.parse=function(Z,X){return C=String(Z),w=C.length,T(X),Zl(),ig(b.program)};var P=I.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function T(Z){b=Z||{};for(var X in P)Object.prototype.hasOwnProperty.call(b,X)||(b[X]=P[X]);y=b.sourceFile||null}var M=I.getLineInfo=function(Z,X){for(var oe=1,_e=0;;){ji.lastIndex=_e;var Oe=ji.exec(Z);if(Oe&&Oe.index<X)++oe,_e=Oe.index+Oe[0].length;else break}return{line:oe,column:X-_e}};I.tokenize=function(Z,X){C=String(Z),w=C.length,T(X),Zl();var oe={};function _e(Oe){return $=A,bi(Oe),oe.start=z,oe.end=A,oe.startLoc=L,oe.endLoc=R,oe.type=O,oe.value=D,oe}return _e.jumpTo=function(Oe,Fe){if(E=Oe,b.locations){V=1,U=ji.lastIndex=0;for(var Re;(Re=ji.exec(C))&&Re.index<Oe;)++V,U=Re.index+Re[0].length}B=Fe,Wi()},_e};var E,z,A,L,R,O,D,B,V,U,W,$,re,le,he,ee;function ie(Z,X){var oe=M(C,Z);X+=" ("+oe.line+":"+oe.column+")";var _e=new SyntaxError(X);throw _e.pos=Z,_e.loc=oe,_e.raisedAt=E,_e}var fe=[],ge={type:"num"},pe={type:"regexp"},Se={type:"string"},xe={type:"name"},be={type:"eof"},ke={keyword:"break"},Me={keyword:"case",beforeExpr:!0},Ze={keyword:"catch"},Ye={keyword:"continue"},Ge={keyword:"debugger"},Ne={keyword:"default"},Le={keyword:"do",isLoop:!0},$e={keyword:"else",beforeExpr:!0},rt={keyword:"finally"},ut={keyword:"for",isLoop:!0},At={keyword:"function"},Bt={keyword:"if"},Et={keyword:"return",beforeExpr:!0},pt={keyword:"switch"},ft={keyword:"throw",beforeExpr:!0},Ot={keyword:"try"},jt={keyword:"var"},an={keyword:"while",isLoop:!0},ws={keyword:"with"},Ol={keyword:"new",beforeExpr:!0},Nl={keyword:"this"},Ll={keyword:"null",atomValue:null},Fl={keyword:"true",atomValue:!0},Rl={keyword:"false",atomValue:!1},Ss={keyword:"in",binop:7,beforeExpr:!0},tu={break:ke,case:Me,catch:Ze,continue:Ye,debugger:Ge,default:Ne,do:Le,else:$e,finally:rt,for:ut,function:At,if:Bt,return:Et,switch:pt,throw:ft,try:Ot,var:jt,while:an,with:ws,null:Ll,true:Fl,false:Rl,new:Ol,in:Ss,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Nl,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Cs={type:"[",beforeExpr:!0},xs={type:"]"},Hi={type:"{",beforeExpr:!0},Ci={type:"}"},Mn={type:"(",beforeExpr:!0},wn={type:")"},Dn={type:",",beforeExpr:!0},zn={type:";",beforeExpr:!0},qi={type:":",beforeExpr:!0},nu={type:"."},iu={type:"?",beforeExpr:!0},ru={binop:10,beforeExpr:!0},su={isAssign:!0,beforeExpr:!0},xi={isAssign:!0,beforeExpr:!0},Md={postfix:!0,prefix:!0,isUpdate:!0},Dl={prefix:!0,beforeExpr:!0},Bl={binop:1,beforeExpr:!0},Vl={binop:2,beforeExpr:!0},zd={binop:3,beforeExpr:!0},Ad={binop:4,beforeExpr:!0},Od={binop:5,beforeExpr:!0},Nd={binop:6,beforeExpr:!0},Ld={binop:7,beforeExpr:!0},Fd={binop:8,beforeExpr:!0},Rd={binop:9,prefix:!0,beforeExpr:!0},Dd={binop:10,beforeExpr:!0};I.tokTypes={bracketL:Cs,bracketR:xs,braceL:Hi,braceR:Ci,parenL:Mn,parenR:wn,comma:Dn,semi:zn,colon:qi,dot:nu,question:iu,slash:ru,eq:su,name:xe,eof:be,num:ge,regexp:pe,string:Se};for(var Ul in tu)I.tokTypes["_"+Ul]=tu[Ul];function Pr(Z){Z=Z.split(" ");var X="",oe=[];e:for(var _e=0;_e<Z.length;++_e){for(var Oe=0;Oe<oe.length;++Oe)if(oe[Oe][0].length==Z[_e].length){oe[Oe].push(Z[_e]);continue e}oe.push([Z[_e]])}function Fe(st){if(st.length==1)return X+="return str === "+JSON.stringify(st[0])+";";X+="switch(str){";for(var Cn=0;Cn<st.length;++Cn)X+="case "+JSON.stringify(st[Cn])+":";X+="return true}return false;"}if(oe.length>3){oe.sort(function(st,Cn){return Cn.length-st.length}),X+="switch(str.length){";for(var _e=0;_e<oe.length;++_e){var Re=oe[_e];X+="case "+Re[0].length+":",Fe(Re)}X+="}"}else Fe(Z);return new Function("str",X)}var Bd=Pr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Vd=Pr("class enum extends super const export import"),Hl=Pr("implements interface let package private protected public static yield"),Ps=Pr("eval arguments"),Ud=Pr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Hd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ql="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",qd="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",jl=new RegExp("["+ql+"]"),jd=new RegExp("["+ql+qd+"]"),bs=/[\n\r\u2028\u2029]/,ji=/\r\n|[\n\r\u2028\u2029]/g,ks=I.isIdentifierStart=function(Z){return Z<65?Z===36:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&jl.test(String.fromCharCode(Z))},Wl=I.isIdentifierChar=function(Z){return Z<48?Z===36:Z<58?!0:Z<65?!1:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&jd.test(String.fromCharCode(Z))};function Pi(){this.line=V,this.column=E-U}function Zl(){V=1,E=U=0,B=!0,Wi()}function Nt(Z,X){A=E,b.locations&&(R=new Pi),O=Z,Wi(),D=X,B=Z.beforeExpr}function Wd(){var Z=b.onComment&&b.locations&&new Pi,X=E,oe=C.indexOf("*/",E+=2);if(oe===-1&&ie(E-2,"Unterminated comment"),E=oe+2,b.locations){ji.lastIndex=X;for(var _e;(_e=ji.exec(C))&&_e.index<E;)++V,U=_e.index+_e[0].length}b.onComment&&b.onComment(!0,C.slice(X+2,oe),X,E,Z,b.locations&&new Pi)}function au(){for(var Z=E,X=b.onComment&&b.locations&&new Pi,oe=C.charCodeAt(E+=2);E<w&&oe!==10&&oe!==13&&oe!==8232&&oe!==8233;)++E,oe=C.charCodeAt(E);b.onComment&&b.onComment(!1,C.slice(Z+2,E),Z,E,X,b.locations&&new Pi)}function Wi(){for(;E<w;){var Z=C.charCodeAt(E);if(Z===32)++E;else if(Z===13){++E;var X=C.charCodeAt(E);X===10&&++E,b.locations&&(++V,U=E)}else if(Z===10||Z===8232||Z===8233)++E,b.locations&&(++V,U=E);else if(Z>8&&Z<14)++E;else if(Z===47){var X=C.charCodeAt(E+1);if(X===42)Wd();else if(X===47)au();else break}else if(Z===160)++E;else if(Z>=5760&&Hd.test(String.fromCharCode(Z)))++E;else break}}function Zd(){var Z=C.charCodeAt(E+1);return Z>=48&&Z<=57?Ql(!0):(++E,Nt(nu))}function Gd(){var Z=C.charCodeAt(E+1);return B?(++E,Gl()):Z===61?Lt(xi,2):Lt(ru,1)}function Qd(){var Z=C.charCodeAt(E+1);return Z===61?Lt(xi,2):Lt(Dd,1)}function Kd(Z){var X=C.charCodeAt(E+1);return X===Z?Lt(Z===124?Bl:Vl,2):X===61?Lt(xi,2):Lt(Z===124?zd:Od,1)}function Xd(){var Z=C.charCodeAt(E+1);return Z===61?Lt(xi,2):Lt(Ad,1)}function Jd(Z){var X=C.charCodeAt(E+1);return X===Z?X==45&&C.charCodeAt(E+2)==62&&bs.test(C.slice($,E))?(E+=3,au(),Wi(),bi()):Lt(Md,2):X===61?Lt(xi,2):Lt(Rd,1)}function Yd(Z){var X=C.charCodeAt(E+1),oe=1;return X===Z?(oe=Z===62&&C.charCodeAt(E+2)===62?3:2,C.charCodeAt(E+oe)===61?Lt(xi,oe+1):Lt(Fd,oe)):X==33&&Z==60&&C.charCodeAt(E+2)==45&&C.charCodeAt(E+3)==45?(E+=4,au(),Wi(),bi()):(X===61&&(oe=C.charCodeAt(E+2)===61?3:2),Lt(Ld,oe))}function $d(Z){var X=C.charCodeAt(E+1);return X===61?Lt(Nd,C.charCodeAt(E+2)===61?3:2):Lt(Z===61?su:Dl,1)}function eg(Z){switch(Z){case 46:return Zd();case 40:return++E,Nt(Mn);case 41:return++E,Nt(wn);case 59:return++E,Nt(zn);case 44:return++E,Nt(Dn);case 91:return++E,Nt(Cs);case 93:return++E,Nt(xs);case 123:return++E,Nt(Hi);case 125:return++E,Nt(Ci);case 58:return++E,Nt(qi);case 63:return++E,Nt(iu);case 48:var X=C.charCodeAt(E+1);if(X===120||X===88)return tg();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ql(!1);case 34:case 39:return ng(Z);case 47:return Gd();case 37:case 42:return Qd();case 124:case 38:return Kd(Z);case 94:return Xd();case 43:case 45:return Jd(Z);case 60:case 62:return Yd(Z);case 61:case 33:return $d(Z);case 126:return Lt(Dl,1)}return!1}function bi(Z){if(Z?E=z+1:z=E,b.locations&&(L=new Pi),Z)return Gl();if(E>=w)return Nt(be);var X=C.charCodeAt(E);if(ks(X)||X===92)return Xl();var oe=eg(X);if(oe===!1){var _e=String.fromCharCode(X);if(_e==="\\"||jl.test(_e))return Xl();ie(E,"Unexpected character '"+_e+"'")}return oe}function Lt(Z,X){var oe=C.slice(E,E+X);E+=X,Nt(Z,oe)}function Gl(){for(var Oe="",Z,X,oe=E;;){E>=w&&ie(oe,"Unterminated regular expression");var _e=C.charAt(E);if(bs.test(_e)&&ie(oe,"Unterminated regular expression"),Z)Z=!1;else{if(_e==="[")X=!0;else if(_e==="]"&&X)X=!1;else if(_e==="/"&&!X)break;Z=_e==="\\"}++E}var Oe=C.slice(oe,E);++E;var Fe=Kl();Fe&&!/^[gmsiy]*$/.test(Fe)&&ie(oe,"Invalid regexp flag");try{var Re=new RegExp(Oe,Fe)}catch(st){st instanceof SyntaxError&&ie(oe,st.message),ie(st)}return Nt(pe,Re)}function br(Z,X){for(var oe=E,_e=0,Oe=0,Fe=X==null?1/0:X;Oe<Fe;++Oe){var Re=C.charCodeAt(E),st;if(Re>=97?st=Re-97+10:Re>=65?st=Re-65+10:Re>=48&&Re<=57?st=Re-48:st=1/0,st>=Z)break;++E,_e=_e*Z+st}return E===oe||X!=null&&E-oe!==X?null:_e}function tg(){E+=2;var Z=br(16);return Z==null&&ie(z+2,"Expected hexadecimal number"),ks(C.charCodeAt(E))&&ie(E,"Identifier directly after number"),Nt(ge,Z)}function Ql(Z){var X=E,oe=!1,_e=C.charCodeAt(E)===48;!Z&&br(10)===null&&ie(X,"Invalid number"),C.charCodeAt(E)===46&&(++E,br(10),oe=!0);var Oe=C.charCodeAt(E);(Oe===69||Oe===101)&&(Oe=C.charCodeAt(++E),(Oe===43||Oe===45)&&++E,br(10)===null&&ie(X,"Invalid number"),oe=!0),ks(C.charCodeAt(E))&&ie(E,"Identifier directly after number");var Fe=C.slice(X,E),Re;return oe?Re=parseFloat(Fe):!_e||Fe.length===1?Re=parseInt(Fe,10):/[89]/.test(Fe)||ee?ie(X,"Invalid number"):Re=parseInt(Fe,8),Nt(ge,Re)}function ng(Z){E++;for(var X="";;){E>=w&&ie(z,"Unterminated string constant");var oe=C.charCodeAt(E);if(oe===Z)return++E,Nt(Se,X);if(oe===92){oe=C.charCodeAt(++E);var _e=/^[0-7]+/.exec(C.slice(E,E+3));for(_e&&(_e=_e[0]);_e&&parseInt(_e,8)>255;)_e=_e.slice(0,-1);if(_e==="0"&&(_e=null),++E,_e)ee&&ie(E-2,"Octal literal in strict mode"),X+=String.fromCharCode(parseInt(_e,8)),E+=_e.length-1;else switch(oe){case 110:X+=`
`;break;case 114:X+="\r";break;case 120:X+=String.fromCharCode(Is(2));break;case 117:X+=String.fromCharCode(Is(4));break;case 85:X+=String.fromCharCode(Is(8));break;case 116:X+="	";break;case 98:X+="\b";break;case 118:X+="\v";break;case 102:X+="\f";break;case 48:X+="\0";break;case 13:C.charCodeAt(E)===10&&++E;case 10:b.locations&&(U=E,++V);break;default:X+=String.fromCharCode(oe);break}}else(oe===13||oe===10||oe===8232||oe===8233)&&ie(z,"Unterminated string constant"),X+=String.fromCharCode(oe),++E}}function Is(Z){var X=br(16,Z);return X===null&&ie(z,"Bad character escape sequence"),X}var Zi;function Kl(){Zi=!1;for(var Z,X=!0,oe=E;;){var _e=C.charCodeAt(E);if(Wl(_e))Zi&&(Z+=C.charAt(E)),++E;else if(_e===92){Zi||(Z=C.slice(oe,E)),Zi=!0,C.charCodeAt(++E)!=117&&ie(E,"Expecting Unicode escape sequence \\uXXXX"),++E;var Oe=Is(4),Fe=String.fromCharCode(Oe);Fe||ie(E-1,"Invalid Unicode escape"),(X?ks(Oe):Wl(Oe))||ie(E-4,"Invalid Unicode escape"),Z+=Fe}else break;X=!1}return Zi?Z:C.slice(oe,E)}function Xl(){var Z=Kl(),X=xe;return!Zi&&Ud(Z)&&(X=tu[Z]),Nt(X,Z)}function et(){W=z,$=A,re=R,bi()}function uu(Z){if(ee=Z,E=z,b.locations)for(;E<U;)U=C.lastIndexOf(`
`,U-2)+1,--V;Wi(),bi()}function Jl(){this.type=null,this.start=z,this.end=null}function Yl(){this.start=L,this.end=null,y!==null&&(this.source=y)}function Vt(){var Z=new Jl;return b.locations&&(Z.loc=new Yl),b.directSourceFile&&(Z.sourceFile=b.directSourceFile),b.ranges&&(Z.range=[z,0]),Z}function Xn(Z){var X=new Jl;return X.start=Z.start,b.locations&&(X.loc=new Yl,X.loc.start=Z.loc.start),b.ranges&&(X.range=[Z.range[0],0]),X}function He(Z,X){return Z.type=X,Z.end=$,b.locations&&(Z.loc.end=re),b.ranges&&(Z.range[1]=$),Z}function ou(Z){return b.ecmaVersion>=5&&Z.type==="ExpressionStatement"&&Z.expression.type==="Literal"&&Z.expression.value==="use strict"}function mt(Z){if(O===Z)return et(),!0}function Ts(){return!b.strictSemicolons&&(O===be||O===Ci||bs.test(C.slice($,z)))}function ki(){!mt(zn)&&!Ts()&&Bn()}function It(Z){O===Z?et():Bn()}function Bn(){ie(z,"Unexpected token")}function Es(Z){Z.type!=="Identifier"&&Z.type!=="MemberExpression"&&ie(Z.start,"Assigning to rvalue"),ee&&Z.type==="Identifier"&&Ps(Z.name)&&ie(Z.start,"Assigning to "+Z.name+" in strict mode")}function ig(Z){W=$=E,b.locations&&(re=new Pi),le=ee=null,he=[],bi();var X=Z||Vt(),oe=!0;for(Z||(X.body=[]);O!==be;){var _e=Sn();X.body.push(_e),oe&&ou(_e)&&uu(!0),oe=!1}return He(X,"Program")}var lu={kind:"loop"},rg={kind:"switch"};function Sn(){(O===ru||O===xi&&D=="/=")&&bi(!0);var Z=O,X=Vt();switch(Z){case ke:case Ye:et();var oe=Z===ke;mt(zn)||Ts()?X.label=null:O!==xe?Bn():(X.label=Jn(),ki());for(var _e=0;_e<he.length;++_e){var Oe=he[_e];if((X.label==null||Oe.name===X.label.name)&&(Oe.kind!=null&&(oe||Oe.kind==="loop")||X.label&&oe))break}return _e===he.length&&ie(X.start,"Unsyntactic "+Z.keyword),He(X,oe?"BreakStatement":"ContinueStatement");case Ge:return et(),ki(),He(X,"DebuggerStatement");case Le:return et(),he.push(lu),X.body=Sn(),he.pop(),It(an),X.test=kr(),ki(),He(X,"DoWhileStatement");case ut:if(et(),he.push(lu),It(Mn),O===zn)return hu(X,null);if(O===jt){var Fe=Vt();return et(),eh(Fe,!0),He(Fe,"VariableDeclaration"),Fe.declarations.length===1&&mt(Ss)?$l(X,Fe):hu(X,Fe)}var Fe=Wt(!1,!0);return mt(Ss)?(Es(Fe),$l(X,Fe)):hu(X,Fe);case At:return et(),_u(X,!0);case Bt:return et(),X.test=kr(),X.consequent=Sn(),X.alternate=mt($e)?Sn():null,He(X,"IfStatement");case Et:return!le&&!b.allowReturnOutsideFunction&&ie(z,"'return' outside of function"),et(),mt(zn)||Ts()?X.argument=null:(X.argument=Wt(),ki()),He(X,"ReturnStatement");case pt:et(),X.discriminant=kr(),X.cases=[],It(Hi),he.push(rg);for(var Re,st;O!=Ci;)if(O===Me||O===Ne){var Cn=O===Me;Re&&He(Re,"SwitchCase"),X.cases.push(Re=Vt()),Re.consequent=[],et(),Cn?Re.test=Wt():(st&&ie(W,"Multiple default clauses"),st=!0,Re.test=null),It(qi)}else Re||Bn(),Re.consequent.push(Sn());return Re&&He(Re,"SwitchCase"),et(),he.pop(),He(X,"SwitchStatement");case ft:return et(),bs.test(C.slice($,z))&&ie($,"Illegal newline after throw"),X.argument=Wt(),ki(),He(X,"ThrowStatement");case Ot:if(et(),X.block=Ir(),X.handler=null,O===Ze){var Ii=Vt();et(),It(Mn),Ii.param=Jn(),ee&&Ps(Ii.param.name)&&ie(Ii.param.start,"Binding "+Ii.param.name+" in strict mode"),It(wn),Ii.guard=null,Ii.body=Ir(),X.handler=He(Ii,"CatchClause")}return X.guardedHandlers=fe,X.finalizer=mt(rt)?Ir():null,!X.handler&&!X.finalizer&&ie(X.start,"Missing catch or finally clause"),He(X,"TryStatement");case jt:return et(),eh(X),ki(),He(X,"VariableDeclaration");case an:return et(),X.test=kr(),he.push(lu),X.body=Sn(),he.pop(),He(X,"WhileStatement");case ws:return ee&&ie(z,"'with' in strict mode"),et(),X.object=kr(),X.body=Sn(),He(X,"WithStatement");case Hi:return Ir();case zn:return et(),He(X,"EmptyStatement");default:var pu=D,Ms=Wt();if(Z===xe&&Ms.type==="Identifier"&&mt(qi)){for(var _e=0;_e<he.length;++_e)he[_e].name===pu&&ie(Ms.start,"Label '"+pu+"' is already declared");var hg=O.isLoop?"loop":O===pt?"switch":null;return he.push({name:pu,kind:hg}),X.body=Sn(),he.pop(),X.label=Ms,He(X,"LabeledStatement")}else return X.expression=Ms,ki(),He(X,"ExpressionStatement")}}function kr(){It(Mn);var Z=Wt();return It(wn),Z}function Ir(Z){var X=Vt(),oe=!0,_e=!1,Oe;for(X.body=[],It(Hi);!mt(Ci);){var Fe=Sn();X.body.push(Fe),oe&&Z&&ou(Fe)&&(Oe=_e,uu(_e=!0)),oe=!1}return _e&&!Oe&&uu(!1),He(X,"BlockStatement")}function hu(Z,X){return Z.init=X,It(zn),Z.test=O===zn?null:Wt(),It(zn),Z.update=O===wn?null:Wt(),It(wn),Z.body=Sn(),he.pop(),He(Z,"ForStatement")}function $l(Z,X){return Z.left=X,Z.right=Wt(),It(wn),Z.body=Sn(),he.pop(),He(Z,"ForInStatement")}function eh(Z,X){for(Z.declarations=[],Z.kind="var";;){var oe=Vt();if(oe.id=Jn(),ee&&Ps(oe.id.name)&&ie(oe.id.start,"Binding "+oe.id.name+" in strict mode"),oe.init=mt(su)?Wt(!0,X):null,Z.declarations.push(He(oe,"VariableDeclarator")),!mt(Dn))break}return Z}function Wt(Z,X){var oe=fu(X);if(!Z&&O===Dn){var _e=Xn(oe);for(_e.expressions=[oe];mt(Dn);)_e.expressions.push(fu(X));return He(_e,"SequenceExpression")}return oe}function fu(Z){var X=sg(Z);if(O.isAssign){var oe=Xn(X);return oe.operator=D,oe.left=X,et(),oe.right=fu(Z),Es(X),He(oe,"AssignmentExpression")}return X}function sg(Z){var X=ag(Z);if(mt(iu)){var oe=Xn(X);return oe.test=X,oe.consequent=Wt(!0),It(qi),oe.alternate=Wt(!0,Z),He(oe,"ConditionalExpression")}return X}function ag(Z){return cu(du(),-1,Z)}function cu(Z,X,oe){var _e=O.binop;if(_e!=null&&(!oe||O!==Ss)&&_e>X){var Oe=Xn(Z);Oe.left=Z,Oe.operator=D;var Fe=O;et(),Oe.right=cu(du(),_e,oe);var Re=He(Oe,Fe===Bl||Fe===Vl?"LogicalExpression":"BinaryExpression");return cu(Re,X,oe)}return Z}function du(){if(O.prefix){var Z=Vt(),X=O.isUpdate;return Z.operator=D,Z.prefix=!0,B=!0,et(),Z.argument=du(),X?Es(Z.argument):ee&&Z.operator==="delete"&&Z.argument.type==="Identifier"&&ie(Z.start,"Deleting local variable in strict mode"),He(Z,X?"UpdateExpression":"UnaryExpression")}for(var oe=ug();O.postfix&&!Ts();){var Z=Xn(oe);Z.operator=D,Z.prefix=!1,Z.argument=oe,Es(oe),et(),oe=He(Z,"UpdateExpression")}return oe}function ug(){return Tr(gu())}function Tr(Z,X){if(mt(nu)){var oe=Xn(Z);return oe.object=Z,oe.property=Jn(!0),oe.computed=!1,Tr(He(oe,"MemberExpression"),X)}else if(mt(Cs)){var oe=Xn(Z);return oe.object=Z,oe.property=Wt(),oe.computed=!0,It(xs),Tr(He(oe,"MemberExpression"),X)}else if(!X&&mt(Mn)){var oe=Xn(Z);return oe.callee=Z,oe.arguments=vu(wn,!1),Tr(He(oe,"CallExpression"),X)}else return Z}function gu(){switch(O){case Nl:var _e=Vt();return et(),He(_e,"ThisExpression");case xe:return Jn();case ge:case Se:case pe:var _e=Vt();return _e.value=D,_e.raw=C.slice(z,A),et(),He(_e,"Literal");case Ll:case Fl:case Rl:var _e=Vt();return _e.value=O.atomValue,_e.raw=O.keyword,et(),He(_e,"Literal");case Mn:var Z=L,X=z;et();var oe=Wt();return oe.start=X,oe.end=A,b.locations&&(oe.loc.start=Z,oe.loc.end=R),b.ranges&&(oe.range=[X,A]),It(wn),oe;case Cs:var _e=Vt();return et(),_e.elements=vu(xs,!0,!0),He(_e,"ArrayExpression");case Hi:return lg();case At:var _e=Vt();return et(),_u(_e,!1);case Ol:return og();default:Bn()}}function og(){var Z=Vt();return et(),Z.callee=Tr(gu(),!0),mt(Mn)?Z.arguments=vu(wn,!1):Z.arguments=fe,He(Z,"NewExpression")}function lg(){var Z=Vt(),X=!0,oe=!1;for(Z.properties=[],et();!mt(Ci);){if(X)X=!1;else if(It(Dn),b.allowTrailingCommas&&mt(Ci))break;var _e={key:th()},Oe=!1,Fe;if(mt(qi)?(_e.value=Wt(!0),Fe=_e.kind="init"):b.ecmaVersion>=5&&_e.key.type==="Identifier"&&(_e.key.name==="get"||_e.key.name==="set")?(Oe=oe=!0,Fe=_e.kind=_e.key.name,_e.key=th(),O!==Mn&&Bn(),_e.value=_u(Vt(),!1)):Bn(),_e.key.type==="Identifier"&&(ee||oe))for(var Re=0;Re<Z.properties.length;++Re){var st=Z.properties[Re];if(st.key.name===_e.key.name){var Cn=Fe==st.kind||Oe&&st.kind==="init"||Fe==="init"&&(st.kind==="get"||st.kind==="set");Cn&&!ee&&Fe==="init"&&st.kind==="init"&&(Cn=!1),Cn&&ie(_e.key.start,"Redefinition of property")}}Z.properties.push(_e)}return He(Z,"ObjectExpression")}function th(){return O===ge||O===Se?gu():Jn(!0)}function _u(Z,X){O===xe?Z.id=Jn():X?Bn():Z.id=null,Z.params=[];var oe=!0;for(It(Mn);!mt(wn);)oe?oe=!1:It(Dn),Z.params.push(Jn());var _e=le,Oe=he;if(le=!0,he=[],Z.body=Ir(!0),le=_e,he=Oe,ee||Z.body.body.length&&ou(Z.body.body[0]))for(var Fe=Z.id?-1:0;Fe<Z.params.length;++Fe){var Re=Fe<0?Z.id:Z.params[Fe];if((Hl(Re.name)||Ps(Re.name))&&ie(Re.start,"Defining '"+Re.name+"' in strict mode"),Fe>=0)for(var st=0;st<Fe;++st)Re.name===Z.params[st].name&&ie(Re.start,"Argument name clash in strict mode")}return He(Z,X?"FunctionDeclaration":"FunctionExpression")}function vu(Z,X,oe){for(var _e=[],Oe=!0;!mt(Z);){if(Oe)Oe=!1;else if(It(Dn),X&&b.allowTrailingCommas&&mt(Z))break;oe&&O===Dn?_e.push(null):_e.push(Wt(!0))}return _e}function Jn(Z){var X=Vt();return Z&&b.forbidReserved=="everywhere"&&(Z=!1),O===xe?(!Z&&(b.forbidReserved&&(b.ecmaVersion===3?Bd:Vd)(D)||ee&&Hl(D))&&C.slice(z,A).indexOf("\\")==-1&&ie(z,"The keyword '"+D+"' is reserved"),X.name=D):Z&&O.keyword?X.name=O.keyword:Bn(),B=!1,et(),He(X,"Identifier")}}),t.version||(t=null)}function u(I,b){return(e.acorn||t).parse(I,b)}var l={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},f=g.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(I){this["__"+I]="#"+I},{__self:function(){return this}});N.inject(f),J.inject(f),De.inject(f);function c(I,b,C){var w=l[b];if(I&&I[w]){var y=I[w](C);return b==="!="?!y:y}switch(b){case"+":return I+C;case"-":return I-C;case"*":return I*C;case"/":return I/C;case"%":return I%C;case"==":return I==C;case"!=":return I!=C}}function _(I,b){var C=h[I];if(b&&b[C])return b[C]();switch(I){case"+":return+b;case"-":return-b}}function m(I,b){if(!I)return"";b=b||{};var C=[];function w(ee){for(var ie=0,fe=C.length;ie<fe;ie++){var ge=C[ie];if(ge[0]>=ee)break;ee+=ge[1]}return ee}function y(ee){return I.substring(w(ee.range[0]),w(ee.range[1]))}function P(ee,ie){return I.substring(w(ee.range[1]),w(ie.range[0]))}function T(ee,ie){for(var fe=w(ee.range[0]),ge=w(ee.range[1]),pe=0,Se=C.length-1;Se>=0;Se--)if(fe>C[Se][0]){pe=Se+1;break}C.splice(pe,0,[fe,ie.length-ge+fe]),I=I.substring(0,fe)+ie+I.substring(ge)}function M(ee,ie){switch(ee.type){case"UnaryExpression":if(ee.operator in h&&ee.argument.type!=="Literal"){var fe=y(ee.argument);T(ee,'$__("'+ee.operator+'", '+fe+")")}break;case"BinaryExpression":if(ee.operator in l&&ee.left.type!=="Literal"){var ge=y(ee.left),pe=y(ee.right),Se=P(ee.left,ee.right),xe=ee.operator;T(ee,"__$__("+ge+","+Se.replace(new RegExp("\\"+xe),'"'+xe+'"')+", "+pe+")")}break;case"UpdateExpression":case"AssignmentExpression":var be=ie&&ie.type;if(!(be==="ForStatement"||be==="BinaryExpression"&&/^[=!<>]/.test(ie.operator)||be==="MemberExpression"&&ie.computed)){if(ee.type==="UpdateExpression"){var fe=y(ee.argument),ke="__$__("+fe+', "'+ee.operator[0]+'", 1)',Me=fe+" = "+ke;ee.prefix?Me="("+Me+")":(be==="AssignmentExpression"||be==="VariableDeclarator"||be==="BinaryExpression")&&(y(ie.left||ie.id)===fe&&(Me=ke),Me=fe+"; "+Me),T(ee,Me)}else if(/^.=$/.test(ee.operator)&&ee.left.type!=="Literal"){var ge=y(ee.left),pe=y(ee.right),ke=ge+" = __$__("+ge+', "'+ee.operator[0]+'", '+pe+")";T(ee,/^\(.*\)$/.test(y(ee))?"("+ke+")":ke)}}break}}function E(ee){switch(ee.type){case"ExportDefaultDeclaration":T({range:[ee.start,ee.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ie=ee.declaration,fe=ee.specifiers;if(ie){var ge=ie.declarations;ge&&(ge.forEach(function(Se){T(Se,"module.exports."+y(Se))}),T({range:[ee.start,ie.start+ie.kind.length]},""))}else if(fe){var pe=fe.map(function(Se){var xe=y(Se);return"module.exports."+xe+" = "+xe+"; "}).join("");pe&&T(ee,pe)}break}}function z(ee,ie,fe){if(ee){for(var ge in ee)if(ge!=="range"&&ge!=="loc"){var pe=ee[ge];if(Array.isArray(pe))for(var Se=0,xe=pe.length;Se<xe;Se++)z(pe[Se],ee,fe);else pe&&typeof pe=="object"&&z(pe,ee,fe)}fe.operatorOverloading!==!1&&M(ee,ie),fe.moduleExports!==!1&&E(ee)}}function A(ee){var ie="",fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ee=(Math.abs(ee)<<1)+(ee<0?1:0);ee||!ie;){var ge=ee&31;ee>>=5,ee&&(ge|=32),ie+=fe[ge]}return ie}var L=b.url||"",R=b.sourceMaps,O=b.paperFeatures||{},D=b.source||I,B=b.offset||0,V=r.agent,U=V.versionNumber,W=!1,$=/\r\n|\n|\r/mg,re;if(R&&(V.chrome&&U>=30||V.webkit&&U>=537.76||V.firefox&&U>=23||V.node)){if(V.node)B-=2;else if(d&&L&&!d.location.href.indexOf(L)){var le=x.getElementsByTagName("html")[0].innerHTML;B=le.substr(0,le.indexOf(I)+1).match($).length+1}W=B>0&&!(V.chrome&&U>=36||V.safari&&U>=600||V.firefox&&U>=40||V.node);var he=["AA"+A(W?0:B)+"A"];he.length=(I.match($)||[]).length+1+(W?B:0),re={version:3,file:L,names:[],mappings:he.join(";AACA"),sourceRoot:"",sources:[L],sourcesContent:[D]}}return(O.operatorOverloading!==!1||O.moduleExports!==!1)&&z(u(I,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,O),re&&(W&&(I=new Array(B+1).join(`
`)+I),/^(inline|both)$/.test(R)&&(I+=`
//# sourceMappingURL=data:application/json;base64,`+s.btoa(unescape(encodeURIComponent(JSON.stringify(re))))),I+=`
//# sourceURL=`+(L||"paperscript")),{url:L,source:D,code:I,map:re}}function p(I,b,C){r=b;var w=b.getView(),y=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(I)&&!/\bnew\s+Tool\b/.test(I)?new $a:null,P=y?y._events:[],T=["onFrame","onResize"].concat(P),M=[],E=[],z,A=typeof I=="object"?I:m(I,C);I=A.code;function L(U,W){for(var $ in U)(W||!/^_/.test($))&&new RegExp("([\\b\\s\\W]|^)"+$.replace(/\$/g,"\\$")+"\\b").test(I)&&(M.push($),E.push(U[$]))}L({__$__:c,$__:_,paper:b,tool:y},!0),L(b),I="var module = { exports: {} }; "+I;var B=g.each(T,function(U){new RegExp("\\s+"+U+"\\b").test(I)&&(M.push(U),this.push("module.exports."+U+" = "+U+";"))},[]).join(`
`);B&&(I+=`
`+B),I+=`
return module.exports;`;var R=r.agent;if(x&&(R.chrome||R.firefox&&R.versionNumber<40)){var O=x.createElement("script"),D=x.head||x.getElementsByTagName("head")[0];R.firefox&&(I=`
`+I),O.appendChild(x.createTextNode("document.__paperscript__ = function("+M+") {"+I+`
}`)),D.appendChild(O),z=x.__paperscript__,delete x.__paperscript__,D.removeChild(O)}else z=Function(M,I);var B=z&&z.apply(b,E),V=B||{};return g.each(P,function(U){var W=V[U];W&&(y[U]=W)}),w&&(V.onResize&&w.setOnResize(V.onResize),w.emit("resize",{size:w.size,delta:new N}),V.onFrame&&w.setOnFrame(V.onFrame),w.requestUpdate()),B}function v(I){if(/^text\/(?:x-|)paperscript$/.test(I.type)&&H.getAttribute(I,"ignore")!=="true"){var b=H.getAttribute(I,"canvas"),C=x.getElementById(b),w=I.src||I.getAttribute("data-src"),y=H.hasAttribute(I,"async"),P="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+b+'"');var T=H.get(C.getAttribute(P))||new H().setup(C);return C.setAttribute(P,T._id),w?Ct.request({url:w,async:y,mimeType:"text/plain",onLoad:function(M){p(M,T,w)}}):p(I.innerHTML,T,I.baseURI),I.setAttribute("data-paper-ignore","true"),T}}function S(){g.each(x&&x.getElementsByTagName("script"),v)}function k(I){return I?v(I):S()}return d&&(x.readyState==="complete"?setTimeout(S):qe.add(d,{load:S})),{compile:m,execute:p,load:k,parse:u,calculateBinary:c,calculateUnary:_}}.call(this);var r=new(H.inject(g.exports,{Base:g,Numerical:Y,Key:xr,DomEvent:qe,DomElement:Ve,document:x,window:d,Symbol:Ke,PlacedSymbol:Je}));return r.agent.node&&aa(r),typeof o=="function"&&o.amd?o("paper",r):n&&(n.exports=r),r}).call(gf,typeof self=="object"?self:null)})(Pf);var Rr=Pf.exports;function it(){return Rr}function Rg(n){Rr.setup(n);const s=document.getElementById(n),o=new Rr.Tool;o.onMouseDown=function(){},o.onMouseDrag=function(d){const x=d.point.subtract(d.downPoint);Rr.view.center=Rr.view.center.subtract(x)},o.onMouseUp=function(){},s==null||s.addEventListener("mousewheel",function(d){const x=it();let g=x.view.zoom;const F=x.view.zoom;d.deltaY<0?g=x.view.zoom*1.05:g=x.view.zoom*.95;const H=F/g,j=new x.Point(d.offsetX,d.offsetY),ae=x.view.viewToProject(j),Y=x.view.center,te=ae.subtract(Y),N=ae.subtract(te.multiply(H)).subtract(Y);x.view.zoom=g,x.view.center=x.view.center.add(N),d.preventDefault(),x.view.update()})}var ua={exports:{}};/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, JÃ¼rg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 JÃ¼rg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||aa;var d=s.window,x=s.document,g=new function(){var r=/^(statics|enumerable|beans|preserve)$/,e=[],t=e.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(p,v){for(var S=0,k=this.length;S<k;S++)p.call(v,this[S],S,this)},h=function(p,v){for(var S in this)this.hasOwnProperty(S)&&p.call(v,this[S],S,this)},f=Object.assign||function(p){for(var v=1,S=arguments.length;v<S;v++){var k=arguments[v];for(var I in k)k.hasOwnProperty(I)&&(p[I]=k[I])}return p},c=function(p,v,S){if(p){var k=a(p,"length");(k&&typeof k.value=="number"?l:h).call(p,v,S=S||p)}return S};function _(p,v,S,k,I){var b={};function C(M,E){E=E||(E=a(v,M))&&(E.get?E:E.value),typeof E=="string"&&E[0]==="#"&&(E=p[E.substring(1)]||E);var z=typeof E=="function",A=E,L=I||z&&!E.base?E&&E.get?M in p:p[M]:null,R;(!I||!L)&&(z&&L&&(E.base=L),z&&k!==!1&&(R=M.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(b[R[3].toLowerCase()+R[4]]=R[2]),(!A||z||!A.get||typeof A.get!="function"||!m.isPlainObject(A))&&(A={value:A,writable:!0}),(a(p,M)||{configurable:!0}).configurable&&(A.configurable=!0,A.enumerable=S!=null?S:!R),u(p,M,A))}if(v){for(var w in v)v.hasOwnProperty(w)&&!r.test(w)&&C(w);for(var w in b){var y=b[w],P=p["set"+y],T=p["get"+y]||P&&p["is"+y];T&&(k===!0||T.length===0)&&C(w,{get:T,set:P})}}return p}function m(){for(var p=0,v=arguments.length;p<v;p++){var S=arguments[p];S&&f(this,S)}return this}return _(m,{inject:function(p){if(p){var v=p.statics===!0?p:p.statics,S=p.beans,k=p.preserve;v!==p&&_(this.prototype,p,p.enumerable,S,k),_(this,v,null,S,k)}for(var I=1,b=arguments.length;I<b;I++)this.inject(arguments[I]);return this},extend:function(){for(var p=this,v,S,k=0,I,b=arguments.length;k<b&&!(v&&S);k++)I=arguments[k],v=v||I.initialize,S=S||I.prototype;return v=v||function(){p.apply(this,arguments)},S=v.prototype=S||i(this.prototype),u(S,"constructor",{value:v,writable:!0,configurable:!0}),_(v,this),arguments.length&&this.inject.apply(v,arguments),v.base=p,v}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var p=0,v=arguments.length;p<v;p++){var S=arguments[p];S&&_(this,S,S.enumerable,S.beans,S.preserve)}return this},extend:function(){var p=i(this);return p.inject.apply(p,arguments)},each:function(p,v){return c(this,p,v)},clone:function(){return new this.constructor(this)},statics:{set:f,each:c,create:i,define:u,describe:a,clone:function(p){return f(new p.constructor,p)},isPlainObject:function(p){var v=p!=null&&p.constructor;return v&&(v===Object||v===m||v.name==="Object")},pick:function(p,v){return p!==o?p:v},slice:function(p,v,S){return t.call(p,v,S)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(r,e){if(!/^_/.test(e)){var t=typeof r;this.push(e+": "+(t==="number"?ae.instance.number(r):t==="string"?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return g.importJSON(r,this)},exportJSON:function(r){return g.exportJSON(this,r)},toJSON:function(){return g.serialize(this)},set:function(r,e){return r&&g.filter(this,r,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var e=r.base.apply(this,arguments),t=e.prototype._class;return t&&!g.exports[t]&&(g.exports[t]=e),e},equals:function(r,e){if(r===e)return!0;if(r&&r.equals)return r.equals(e);if(e&&e.equals)return e.equals(r);if(r&&e&&typeof r=="object"&&typeof e=="object"){if(Array.isArray(r)&&Array.isArray(e)){var t=r.length;if(t!==e.length)return!1;for(;t--;)if(!g.equals(r[t],e[t]))return!1}else{var i=Object.keys(r),t=i.length;if(t!==Object.keys(e).length)return!1;for(;t--;){var a=i[t];if(!(e.hasOwnProperty(a)&&g.equals(r[a],e[a])))return!1}}return!0}return!1},read:function(r,e,t,i){if(this===g){var a=this.peek(r,e);return r.__index++,a}var u=this.prototype,l=u._readIndex,h=e||l&&r.__index||0,f=r.length,c=r[h];if(i=i||f-h,c instanceof this||t&&t.readNull&&c==null&&i<=1)return l&&(r.__index=h+1),c&&t&&t.clone?c.clone():c;if(c=g.create(u),l&&(c.__read=!0),c=c.initialize.apply(c,h>0||h+i<f?g.slice(r,h,h+i):r)||c,l){r.__index=h+c.__read;var _=c.__filtered;_&&(r.__filtered=_,c.__filtered=o),c.__read=o}return c},peek:function(r,e){return r[r.__index=e||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,e,t,i){for(var a=[],u,l=e||0,h=i?l+i:r.length,f=l;f<h;f++)a.push(Array.isArray(u=r[f])?this.read(u,0,t):this.read(r,f,t,1));return a},readNamed:function(r,e,t,i,a){var u=this.getNamed(r,e),l=u!==o;if(l){var h=r.__filtered;if(!h){var f=this.getSource(r);h=r.__filtered=g.create(f),h.__unfiltered=f}h[e]=o}return this.read(l?[u]:r,t,i,a)},readSupported:function(r,e){var t=this.getSource(r),i=this,a=!1;return t&&Object.keys(t).forEach(function(u){if(u in e){var l=i.readNamed(r,u);l!==o&&(e[u]=l),a=!0}}),a},getSource:function(r){var e=r.__source;if(e===o){var t=r.length===1&&r[0];e=r.__source=t&&g.isPlainObject(t)?t:null}return e},getNamed:function(r,e){var t=this.getSource(r);if(t)return e?t[e]:r.__filtered||t},hasNamed:function(r,e){return!!this.getNamed(r,e)},filter:function(r,e,t,i){var a;function u(_){if(!(t&&_ in t)&&!(a&&_ in a)){var m=e[_];m!==o&&(r[_]=m)}}if(i){for(var l={},h=0,f,c=i.length;h<c;h++)(f=i[h])in e&&(u(f),l[f]=!0);a=l}return Object.keys(e.__unfiltered||e).forEach(u),r},isPlainValue:function(r,e){return g.isPlainObject(r)||Array.isArray(r)||e&&typeof r=="string"},serialize:function(r,e,t,i){e=e||{};var a=!i,u;if(a&&(e.formatter=new ae(e.precision),i={length:0,definitions:{},references:{},add:function(m,p){var v="#"+m._id,S=this.references[v];if(!S){this.length++;var k=p.call(m),I=m._class;I&&k[0]!==I&&k.unshift(I),this.definitions[v]=k,S=this.references[v]=[v]}return S}}),r&&r._serialize){u=r._serialize(e,i);var l=r._class;l&&!r._compactSerialize&&(a||!t)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(r)){u=[];for(var h=0,f=r.length;h<f;h++)u[h]=g.serialize(r[h],e,t,i)}else if(g.isPlainObject(r)){u={};for(var c=Object.keys(r),h=0,f=c.length;h<f;h++){var _=c[h];u[_]=g.serialize(r[_],e,t,i)}}else typeof r=="number"?u=e.formatter.number(r,e.precision):u=r;return a&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(r,e,t,i,a){var u=r,l=!t,h=l&&r&&r.length&&r[0][0]==="dictionary";if(t=t||{},Array.isArray(r)){var f=r[0],c=f==="dictionary";if(r.length==1&&/^#/.test(f))return t.dictionary[f];f=g.exports[f],u=[];for(var _=f?1:0,m=r.length;_<m;_++)u.push(g.deserialize(r[_],e,t,c,h));if(f){var p=u;e?u=e(f,p,l||a):u=new f(p)}}else if(g.isPlainObject(r)){u={},i&&(t.dictionary=u);for(var v in r)u[v]=g.deserialize(r[v],e,t)}return h?u[1]:u},exportJSON:function(r,e){var t=g.serialize(r,e);return e&&e.asString==!1?t:JSON.stringify(t)},importJSON:function(r,e){return g.deserialize(typeof r=="string"?JSON.parse(r):r,function(t,i,a){var u=a&&e&&e.constructor===t,l=u?e:g.create(t.prototype);if(i.length===1&&l instanceof se&&(u||!(l instanceof Pe))){var h=i[0];g.isPlainObject(h)&&(h.insert=!1,u&&(i=i.concat([{insert:!0}])))}return(u?l.set:t).apply(l,i),u&&(e=null),l})},push:function(r,e){var t=e.length;if(t<4096)r.push.apply(r,e);else{var i=r.length;r.length+=t;for(var a=0;a<t;a++)r[i+a]=e[a]}return r},splice:function(r,e,t,i){var a=e&&e.length,u=t===o;t=u?r.length:t,t>r.length&&(t=r.length);for(var l=0;l<a;l++)e[l]._index=t+l;if(u)return g.push(r,e),[];var h=[t,i];e&&g.push(h,e);for(var f=r.splice.apply(r,h),l=0,c=f.length;l<c;l++)f[l]._index=o;for(var l=t+a,c=r.length;l<c;l++)r[l]._index=l;return f},capitalize:function(r){return r.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var F={on:function(r,e){if(typeof r!="string")g.each(r,function(u,l){this.on(l,u)},this);else{var t=this._eventTypes,i=t&&t[r],a=this._callbacks=this._callbacks||{};a=a[r]=a[r]||[],a.indexOf(e)===-1&&(a.push(e),i&&i.install&&a.length===1&&i.install.call(this,r))}return this},off:function(r,e){if(typeof r!="string"){g.each(r,function(l,h){this.off(h,l)},this);return}var t=this._eventTypes,i=t&&t[r],a=this._callbacks&&this._callbacks[r],u;return a&&(!e||(u=a.indexOf(e))!==-1&&a.length===1?(i&&i.uninstall&&i.uninstall.call(this,r),delete this._callbacks[r]):u!==-1&&a.splice(u,1)),this},once:function(r,e){return this.on(r,function t(){e.apply(this,arguments),this.off(r,t)})},emit:function(r,e){var t=this._callbacks&&this._callbacks[r];if(!t)return!1;var i=g.slice(arguments,1),a=e&&e.target&&!e.currentTarget;t=t.slice(),a&&(e.currentTarget=this);for(var u=0,l=t.length;u<l;u++)if(t[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return a&&delete e.currentTarget,!0},responds:function(r){return!!(this._callbacks&&this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var e=this._eventTypes,t=this._callbacks,i=r?"install":"uninstall";if(e){for(var a in t)if(t[a].length>0){var u=e[a],l=u&&u[i];l&&l.call(this,a)}}},statics:{inject:function r(e){var t=e._events;if(t){var i={};g.each(t,function(a,u){var l=typeof a=="string",h=l?a:u,f=g.capitalize(h),c=h.substring(2).toLowerCase();i[c]=l?{}:a,h="_"+h,e["get"+f]=function(){return this[h]},e["set"+f]=function(_){var m=this[h];m&&this.off(c,m),_&&this.on(c,_),this[h]=_}}),e._eventTypes=i}return r.base.apply(this,arguments)}}},H=g.extend({_class:"PaperScope",initialize:function r(){je=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var e=r.prototype;if(!this.support){var t=Ct.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:vt.nativeModes},Ct.release(t)}if(!this.agent){var i=s.navigator.userAgent.toLowerCase(),a=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=a==="darwin"?"mac":a,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,f,c,_,m){if(!l.chrome){var p=f==="opera"?_:/^(node|trident)$/.test(f)?m:c;l.version=p,l.versionNumber=parseFloat(p),f={trident:"msie",jsdom:"node"}[f]||f,l.name=f,l[f]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.15",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,e){},install:function(r){var e=this;g.each(["project","view","tool"],function(i){g.define(r,i,{configurable:!0,get:function(){return e[i]}})});for(var t in this)!/^_/.test(t)&&this[t]&&(r[t]=this[t])},setup:function(r){return je=this,this.project=new me(r),this},createCanvas:function(r,e){return Ct.getCanvas(r,e)},activate:function(){je=this},clear:function(){for(var r=this.projects,e=this.tools,t=r.length-1;t>=0;t--)r[t].remove();for(var t=e.length-1;t>=0;t--)e[t].remove()},remove:function(){this.clear(),delete H._scopes[this._id]},statics:new function(){function r(e){return e+="Attribute",function(t,i){return t[e](i)||t[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),j=g.extend(F,{initialize:function(r){this._scope=je,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),K={findItemBoundsCollisions:function(r,e,t){function i(l){for(var h=new Array(l.length),f=0;f<l.length;f++){var c=l[f].getBounds();h[f]=[c.left,c.top,c.right,c.bottom]}return h}var a=i(r),u=!e||e===r?a:i(e);return this.findBoundsCollisions(a,u,t||0)},findCurveBoundsCollisions:function(r,e,t,i){function a(p){for(var v=Math.min,S=Math.max,k=new Array(p.length),I=0;I<p.length;I++){var b=p[I];k[I]=[v(b[0],b[2],b[4],b[6]),v(b[1],b[3],b[5],b[7]),S(b[0],b[2],b[4],b[6]),S(b[1],b[3],b[5],b[7])]}return k}var u=a(r),l=!e||e===r?u:a(e);if(i){for(var h=this.findBoundsCollisions(u,l,t||0,!1,!0),f=this.findBoundsCollisions(u,l,t||0,!0,!0),c=[],_=0,m=h.length;_<m;_++)c[_]={hor:h[_],ver:f[_]};return c}return this.findBoundsCollisions(u,l,t||0)},findBoundsCollisions:function(r,e,t,i,a){var u=!e||r===e,l=u?r:r.concat(e),h=r.length,f=l.length;function c($,re,le){for(var he=0,ee=$.length;he<ee;){var ie=ee+he>>>1;l[$[ie]][re]<le?he=ie+1:ee=ie}return he-1}for(var _=i?1:0,m=_+2,p=i?0:1,v=p+2,S=new Array(f),k=0;k<f;k++)S[k]=k;S.sort(function($,re){return l[$][_]-l[re][_]});for(var I=[],b=new Array(h),k=0;k<f;k++){var C=S[k],w=l[C],y=u?C:C-h,P=C<h,T=u||!P,M=P?[]:null;if(I.length){var E=c(I,m,w[_]-t)+1;if(I.splice(0,E),u&&a){M=M.concat(I);for(var z=0;z<I.length;z++){var A=I[z];b[A].push(y)}}else for(var L=w[v],R=w[p],z=0;z<I.length;z++){var A=I[z],O=l[A],D=A<h,B=u||A>=h;(a||(P&&B||T&&D)&&L>=O[p]-t&&R<=O[v]+t)&&(P&&B&&M.push(u?A:A-h),T&&D&&b[A].push(y))}}if(P&&(r===e&&M.push(C),b[C]=M),I.length){var V=w[m],U=c(I,m,V);I.splice(U+1,0,C)}else I.push(C)}for(var k=0;k<b.length;k++){var W=b[k];W&&W.sort(function(re,le){return re-le})}return b}},ae=g.extend({initialize:function(r){this.precision=g.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,e,t){return this.number(r)+(t||",")+this.number(e)},point:function(r,e){return this.number(r.x)+(e||",")+this.number(r.y)},size:function(r,e){return this.number(r.width)+(e||",")+this.number(r.height)},rectangle:function(r,e){return this.point(r,e)+(e||",")+this.size(r,e)}});ae.instance=new ae;var Y=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],t=Math.abs,i=Math.sqrt,a=Math.pow,u=Math.log2||function(m){return Math.log(m)*Math.LOG2E},l=1e-12,h=112e-18;function f(m,p,v){return m<p?p:m>v?v:m}function c(m,p,v){function S(E){var z=E*134217729,A=E-z,L=A+z,R=E-L;return[L,R]}var k=p*p-m*v,I=p*p+m*v;if(t(k)*3<I){var b=S(m),C=S(p),w=S(v),y=p*p,P=C[0]*C[0]-y+2*C[0]*C[1]+C[1]*C[1],T=m*v,M=b[0]*w[0]-T+b[0]*w[1]+b[1]*w[0]+b[1]*w[1];k=y-T+(P-M)}return k}function _(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?a(2,-Math.round(u(m))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(m){return m>=-l&&m<=l},isMachineZero:function(m){return m>=-h&&m<=h},clamp:f,integrate:function(m,p,v,S){for(var k=r[S-2],I=e[S-2],b=(v-p)*.5,C=b+p,w=0,y=S+1>>1,P=S&1?I[w++]*m(C):0;w<y;){var T=b*k[w];P+=I[w++]*(m(C+T)+m(C-T))}return b*P},findRoot:function(m,p,v,S,k,I,b){for(var C=0;C<I;C++){var w=m(v),y=w/p(v),P=v-y;if(t(y)<b){v=P;break}w>0?(k=v,v=P<=S?(S+k)*.5:P):(S=v,v=P>=k?(S+k)*.5:P)}return f(v,S,k)},solveQuadratic:function(m,p,v,S,k,I){var b,C=1/0;if(t(m)<l){if(t(p)<l)return t(v)<l?-1:0;b=-v/p}else{p*=-.5;var w=c(m,p,v);if(w&&t(w)<h){var y=_(t(m),t(p),t(v));y&&(m*=y,p*=y,v*=y,w=c(m,p,v))}if(w>=-h){var P=w<0?0:i(w),T=p+(p<0?-P:P);T===0?(b=v/m,C=-b):(b=T/m,C=v/T)}}var M=0,E=k==null,z=k-l,A=I+l;return isFinite(b)&&(E||b>z&&b<A)&&(S[M++]=E?b:f(b,k,I)),C!==b&&isFinite(C)&&(E||C>z&&C<A)&&(S[M++]=E?C:f(C,k,I)),M},solveCubic:function(m,p,v,S,k,I,b){var C=_(t(m),t(p),t(v),t(S)),w,y,P,T,M;C&&(m*=C,p*=C,v*=C,S*=C);function E(U){w=U;var W=m*w;y=W+p,P=y*w+v,T=(W+y)*w+P,M=P*w+S}if(t(m)<l)m=p,y=v,P=S,w=1/0;else if(t(S)<l)y=p,P=v,w=0;else{E(-(p/m)/3);var z=M/m,A=a(t(z),1/3),L=z<0?-1:1,R=-T/m,O=R>0?1.324717957244746*Math.max(A,i(R)):A,D=w-L*O;if(D!==w){do E(D),D=T===0?w:w-M/T/(1+h);while(L*D>L*w);t(m)*w*w>t(S/w)&&(P=-S/w,y=(P-v)/w)}}var B=Y.solveQuadratic(m,y,P,k,I,b),V=I==null;return isFinite(w)&&(B===0||B>0&&w!==k[0]&&w!==k[1])&&(V||w>I-l&&w<b+l)&&(k[B++]=V?w:f(w,I,b)),B}}},te={_id:1,_pools:{},get:function(r){if(r){var e=this._pools[r];return e||(e=this._pools[r]={_id:1}),e._id++}else return this._id++}},N=g.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.x=r,this.y=e,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new N(this.x,this.y)},toString:function(){var r=ae.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*r,Math.sin(e)*r)}else{var t=r/this.getLength();Y.isZero(t)&&this.getAngle(),this._set(this.x*t,this.y*t)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=N.read(arguments),e=this.getLength()*r.getLength();if(Y.isZero(e))return NaN;var t=this.dot(r)/e;return Math.acos(t<-1?-1:t>1?1:t)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var e=this.getLength();this._set(Math.cos(r)*e,Math.sin(r)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=N.read(arguments);return Math.atan2(this.cross(r),this.dot(r))*180/Math.PI},getDistance:function(){var r=arguments,e=N.read(r),t=e.x-this.x,i=e.y-this.y,a=t*t+i*i,u=g.read(r);return u?a:Math.sqrt(a)},normalize:function(r){r===o&&(r=1);var e=this.getLength(),t=e!==0?r/e:0,i=new N(this.x*t,this.y*t);return t>=0&&(i._angle=this._angle),i},rotate:function(r,e){if(r===0)return this.clone();r=r*Math.PI/180;var t=e?this.subtract(e):this,i=Math.sin(r),a=Math.cos(r);return t=new N(t.x*a-t.y*i,t.x*i+t.y*a),e?t.add(e):t},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=N.read(arguments);return new N(this.x+r.x,this.y+r.y)},subtract:function(){var r=N.read(arguments);return new N(this.x-r.x,this.y-r.y)},multiply:function(){var r=N.read(arguments);return new N(this.x*r.x,this.y*r.y)},divide:function(){var r=N.read(arguments);return new N(this.x/r.x,this.y/r.y)},modulo:function(){var r=N.read(arguments);return new N(this.x%r.x,this.y%r.y)},negate:function(){return new N(-this.x,-this.y)},isInside:function(){return q.read(arguments).contains(this)},isClose:function(){var r=arguments,e=N.read(r),t=g.read(r);return this.getDistance(e)<=t},isCollinear:function(){var r=N.read(arguments);return N.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=N.read(arguments);return N.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=Y.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=N.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=N.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=N.read(arguments),e=r.isZero()?0:this.dot(r)/r.dot(r);return new N(r.x*e,r.y*e)},statics:{min:function(){var r=arguments,e=N.read(r),t=N.read(r);return new N(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var r=arguments,e=N.read(r),t=N.read(r);return new N(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new N(Math.random(),Math.random())},isCollinear:function(r,e,t,i){return Math.abs(r*i-e*t)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8},isOrthogonal:function(r,e,t,i){return Math.abs(r*t+e*i)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new N(e(this.x),e(this.y))}},{})),ce=N.extend({initialize:function(e,t,i,a){this._x=e,this._y=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._x=r,this._y=e,t||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),J=g.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.width=r,this.height=e,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new J(this.width,this.height)},toString:function(){var r=ae.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var r=J.read(arguments);return new J(this.width+r.width,this.height+r.height)},subtract:function(){var r=J.read(arguments);return new J(this.width-r.width,this.height-r.height)},multiply:function(){var r=J.read(arguments);return new J(this.width*r.width,this.height*r.height)},divide:function(){var r=J.read(arguments);return new J(this.width/r.width,this.height/r.height)},modulo:function(){var r=J.read(arguments);return new J(this.width%r.width,this.height%r.height)},negate:function(){return new J(-this.width,-this.height)},isZero:function(){var r=Y.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,e){return new J(Math.min(r.width,e.width),Math.min(r.height,e.height))},max:function(r,e){return new J(Math.max(r.width,e.width),Math.max(r.height,e.height))},random:function(){return new J(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new J(e(this.width),e(this.height))}},{})),Ae=J.extend({initialize:function(e,t,i,a){this._width=e,this._height=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._width=r,this._height=e,t||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),q=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,i,a){var u=arguments,l=typeof e,h;if(l==="number"?(this._set(e,t,i,a),h=4):l==="undefined"||e===null?(this._set(0,0,0,0),h=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),h=1):e.x!==o||e.width!==o?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),h=1):e.from===o&&e.to===o&&(this._set(0,0,0,0),g.readSupported(u,this)&&(h=1))),h===o){var f=N.readNamed(u,"from"),c=g.peek(u),_=f.x,m=f.y,p,v;if(c&&c.x!==o||g.hasNamed(u,"to")){var S=N.readNamed(u,"to");p=S.x-_,v=S.y-m,p<0&&(_=S.x,p=-p),v<0&&(m=S.y,v=-v)}else{var k=J.read(u);p=k.width,v=k.height}this._set(_,m,p,v),h=u.__index}var I=u.__filtered;return I&&(this.__filtered=I),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(r,e,t,i){return this.x=r,this.y=e,this.width=t,this.height=i,this},clone:function(){return new q(this.x,this.y,this.width,this.height)},equals:function(r){var e=g.isPlainValue(r)?q.read(arguments):r;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var r=ae.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(r){var e=r?N:ce;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var r=N.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){var e=r?J:Ae;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=J.read(arguments),e=this._sx,t=this._sy,i=r.width,a=r.height;e&&(this.x+=(this.width-i)*e),t&&(this.y+=(this.height-a)*t),this.width=i,this.height=a,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var e=r-this.x;this.width-=this._sx===.5?e*2:e}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var e=r-this.y;this.height-=this._sy===.5?e*2:e}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var e=r-this.x;this.width=this._sx===.5?e*2:e}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var e=r-this.y;this.height=this._sy===.5?e*2:e}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||this._sx===.5?this.x=r-this.width/2:(this._sx&&(this.x+=(r-this.x)*2*this._sx),this.width=(r-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||this._sy===.5?this.y=r-this.height/2:(this._sy&&(this.y+=(r-this.y)*2*this._sy),this.height=(r-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(r){var e=r?N:ce;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=N.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(r){return r&&r.width!==o||(Array.isArray(r)?r:arguments).length===4?this._containsRectangle(q.read(arguments)):this._containsPoint(N.read(arguments))},_containsPoint:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e<=this.x+this.width&&t<=this.y+this.height},_containsRectangle:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e+r.width<=this.x+this.width&&t+r.height<=this.y+this.height},intersects:function(){var r=q.read(arguments),e=g.read(arguments)||0;return r.x+r.width>this.x-e&&r.y+r.height>this.y-e&&r.x<this.x+this.width+e&&r.y<this.y+this.height+e},intersect:function(){var r=q.read(arguments),e=Math.max(this.x,r.x),t=Math.max(this.y,r.y),i=Math.min(this.x+this.width,r.x+r.width),a=Math.min(this.y+this.height,r.y+r.height);return new q(e,t,i-e,a-t)},unite:function(){var r=q.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x+r.width),a=Math.max(this.y+this.height,r.y+r.height);return new q(e,t,i-e,a-t)},include:function(){var r=N.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x),a=Math.max(this.y+this.height,r.y);return new q(e,t,i-e,a-t)},expand:function(){var r=J.read(arguments),e=r.width,t=r.height;return new q(this.x-e/2,this.y-t/2,this.width+e,this.height+t)},scale:function(r,e){return this.expand(this.width*r-this.width,this.height*(e===o?r:e)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,e){var t=r.join(""),i=/^[RL]/.test(t);e>=4&&(r[1]+=i?"Y":"X");var a=r[i?0:1],u=r[i?1:0],l="get"+a,h="get"+u,f="set"+a,c="set"+u,_="get"+t,m="set"+t;this[_]=function(p){var v=p?N:ce;return new v(this[l](),this[h](),this,m)},this[m]=function(){var p=N.read(arguments);this[f](p.x),this[c](p.y)}},{beans:!0})),Q=q.extend({initialize:function(e,t,i,a,u,l){this._set(e,t,i,a,!0),this._owner=u,this._setter=l},_set:function(r,e,t,i,a){return this._x=r,this._y=e,this._width=t,this._height=i,a||this._owner[this._setter](this),this}},new function(){var r=q.prototype;return g.each(["x","y","width","height"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var t="set"+e;this[t]=function(){this._dontNotify=!0,r[t].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),G=g.extend({_class:"Matrix",initialize:function r(e,t){var i=arguments,a=i.length,u=!0;if(a>=6?this._set.apply(this,i):a===1||a===2?e instanceof r?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):u=!1:a?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,e,t,i,a,u,l){return this._a=r,this._b=e,this._c=t,this._d=i,this._tx=a,this._ty=u,l||this._changed(),this},_serialize:function(r,e){return g.serialize(this.getValues(),r,!0,e)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new G(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=ae.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,e){var t=this._owner;return t?(t.transform(null,g.pick(r,!0),e),this.isIdentity()):!1},translate:function(){var r=N.read(arguments),e=r.x,t=r.y;return this._tx+=e*this._a+t*this._c,this._ty+=e*this._b+t*this._d,this._changed(),this},scale:function(){var r=arguments,e=N.read(r),t=N.read(r,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var e=N.read(arguments,1),t=e.x,i=e.y,a=Math.cos(r),u=Math.sin(r),l=t-t*a+i*u,h=i-t*u-i*a,f=this._a,c=this._b,_=this._c,m=this._d;return this._a=a*f+u*_,this._b=a*c+u*m,this._c=-u*f+a*_,this._d=-u*c+a*m,this._tx+=l*f+h*_,this._ty+=l*c+h*m,this._changed(),this},shear:function(){var r=arguments,e=N.read(r),t=N.read(r,0,{readNull:!0});t&&this.translate(t);var i=this._a,a=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*a,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var r=arguments,e=N.read(r),t=N.read(r,0,{readNull:!0}),i=Math.PI/180,a=new N(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(a,t)},append:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=r._a,h=r._c,f=r._b,c=r._d,_=r._tx,m=r._ty;this._a=l*t+f*a,this._c=h*t+c*a,this._b=l*i+f*u,this._d=h*i+c*u,this._tx+=_*t+m*a,this._ty+=_*i+m*u,e||this._changed()}return this},prepend:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=this._tx,h=this._ty,f=r._a,c=r._c,_=r._b,m=r._d,p=r._tx,v=r._ty;this._a=f*t+c*i,this._c=f*a+c*u,this._b=_*t+m*i,this._d=_*a+m*u,this._tx=f*l+c*h+p,this._ty=_*l+m*h+v,e||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=this._tx,u=this._ty,l=r*i-e*t,h=null;return l&&!isNaN(l)&&isFinite(a)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-t/l,this._d=r/l,this._tx=(t*u-i*a)/l,this._ty=(e*a-r*u)/l,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new G(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,e,t){return arguments.length<3?this._transformPoint(N.read(arguments)):this._transformCoordinates(r,e,t)},_transformPoint:function(r,e,t){var i=r.x,a=r.y;return e||(e=new N),e._set(i*this._a+a*this._c+this._tx,i*this._b+a*this._d+this._ty,t)},_transformCoordinates:function(r,e,t){for(var i=0,a=2*t;i<a;i+=2){var u=r[i],l=r[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(r){var e=r.x,t=r.y,i=e+r.width,a=t+r.height,u=[e,t,i,t,i,a,e,a];return this._transformCoordinates(u,u,4)},_transformBounds:function(r,e,t){for(var i=this._transformCorners(r),a=i.slice(0,2),u=a.slice(),l=2;l<8;l++){var h=i[l],f=l&1;h<a[f]?a[f]=h:h>u[f]&&(u[f]=h)}return e||(e=new q),e._set(a[0],a[1],u[0]-a[0],u[1]-a[1],t)},inverseTransform:function(){return this._inverseTransform(N.read(arguments))},_inverseTransform:function(r,e,t){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,c=i*l-a*u,_=null;if(c&&!isNaN(c)&&isFinite(h)&&isFinite(f)){var m=r.x-this._tx,p=r.y-this._ty;e||(e=new N),_=e._set((m*l-p*u)/c,(p*i-m*a)/c,t)}return _},decompose:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=r*i-e*t,u=Math.sqrt,l=Math.atan2,h=180/Math.PI,f,c,_;if(r!==0||e!==0){var m=u(r*r+e*e);f=Math.acos(r/m)*(e>0?1:-1),c=[m,a/m],_=[l(r*t+e*i,m*m),0]}else if(t!==0||i!==0){var p=u(t*t+i*i);f=Math.asin(t/p)*(i>0?1:-1),c=[a/p,p],_=[0,l(r*t+e*i,p*p)]}else f=0,_=c=[0,0];return{translation:this.getTranslation(),rotation:f*h,scaling:new N(c),skewing:new N(_[0]*h,_[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new N(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(r){var e=g.capitalize(r),t="_"+r;this["get"+e]=function(){return this[t]},this["set"+e]=function(i){this[t]=i,this._changed()}},{})),ue=g.extend({_class:"Line",initialize:function(e,t,i,a,u){var l=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=i,this._vy=a,l=u):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new N(this._px,this._py)},getVector:function(){return new N(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,e){return ue.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,e)},getSide:function(r,e){return ue.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,e)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return ue.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return N.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return N.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,e,t,i,a,u,l,h,f,c){f||(t-=r,i-=e,l-=a,h-=u);var _=t*h-i*l;if(!Y.isMachineZero(_)){var m=r-a,p=e-u,v=(l*p-h*m)/_,S=(t*p-i*m)/_,k=1e-12,I=-k,b=1+k;if(c||I<v&&v<b&&I<S&&S<b)return c||(v=v<=0?0:v>=1?1:v),new N(r+v*t,e+v*i)}},getSide:function(r,e,t,i,a,u,l,h){l||(t-=r,i-=e);var f=a-r,c=u-e,_=f*i-c*t;return!h&&Y.isMachineZero(_)&&(_=(f*t+f*t)/(t*t+i*i),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(r,e,t,i,a,u,l){return l||(t-=r,i-=e),t===0?i>0?a-r:r-a:i===0?t<0?u-e:e-u:((a-r)*i-(u-e)*t)/(i>t?i*Math.sqrt(1+t*t/(i*i)):t*Math.sqrt(1+i*i/(t*t)))},getDistance:function(r,e,t,i,a,u,l){return Math.abs(ue.getSignedDistance(r,e,t,i,a,u,l))}}}),me=j.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){j.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Si(null,null,this),this._view=Be.create(this,e||Ct.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,e){return g.serialize(this._children,r,!0,e)},_changed:function(r,e){if(r&1){var t=this._view;t&&(t._needsUpdate=!0,!t._requested&&t._autoUpdate&&t.requestUpdate())}var i=this._changes;if(i&&e){var a=this._changesById,u=e._id,l=a[u];l?l.flags|=r:i.push(a[u]={item:e,flags:r})}},clear:function(){for(var r=this._children,e=r.length-1;e>=0;e--)r[e].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return r.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Pe({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],e={};return this.getItems({class:Je,match:function(t){var i=t._definition,a=i._id;return e[a]||(e[a]=!0,r.push(i)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,e=[];for(var t in r){var i=r[t],a=i._selection;a&1&&i.isInserted()?e.push(i):a||this._updateSelection(i)}return e},_updateSelection:function(r){var e=r._id,t=this._selectionItems;r._selection?t[e]!==r&&(this._selectionCount++,t[e]=r):t[e]===r&&(this._selectionCount--,delete t[e])},selectAll:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)r[e].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var e in r)r[e].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(o,r)},insertLayer:function(r,e){if(e instanceof Pe){e._remove(!1,!0),g.splice(this._children,[e],r,0),e._setProject(this,!0);var t=e._name;t&&e.setName(t),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(r,e,t){return e=this.insertLayer(r,e)||(this._activeLayer||this._insertItem(o,new Pe(se.NO_INSERT),!0)).insertChild(r,e),t&&e.activate&&e.activate(),e},getItems:function(r){return se._getItems(this,r)},getItem:function(r){return se._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var e=this._activeLayer;return g.importJSON(r,e&&e.isEmpty()&&e)},removeOn:function(r){var e=this._removeSets;if(e){r==="mouseup"&&(e.mousedrag=null);var t=e[r];if(t){for(var i in t){var a=t[i];for(var u in e){var l=e[u];l&&l!=t&&delete l[a._id]}a.remove()}e[r]=null}}},draw:function(r,e,t){this._updateVersion++,r.save(),e.applyToContext(r);for(var i=this._children,a=new g({offset:new N(0,0),pixelRatio:t,viewMatrix:e.isIdentity()?null:e,matrices:[new G],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(r,a);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var h=this._selectionItems,f=this._scope.settings.handleSize,c=this._updateVersion;for(var _ in h)h[_]._drawSelection(r,e,f,h,c);r.restore()}}}),se=g.extend(F,{statics:{extend:function r(e){return e._serializeFields&&(e._serializeFields=g.set({},this.prototype._serializeFields,e._serializeFields)),r.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new G,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(r,function(e){this._events[e]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,e){var t=r&&g.isPlainObject(r),i=t&&r.internal===!0,a=this._matrix=new G,u=t&&r.project||je.project,l=je.settings;return this._id=i?null:te.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&a.translate(e),a._owner=this,this._style=new Si(u._currentStyle,this,u),i||t&&r.insert==!1||!l.insertItems&&!(t&&r.insert===!0)?this._setProject(u):(t&&r.parent||u)._insertItem(o,this,!0),t&&r!==se.NO_INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),t},_serialize:function(r,e){var t={},i=this;function a(u){for(var l in u){var h=i[l];g.equals(h,l==="leading"?u.fontSize*1.2:u[l])||(t[l]=g.serialize(h,r,l!=="data",e))}}return a(this._serializeFields),this instanceof ye||a(this._style._defaults),[this._class,t]},_changed:function(r){var e=this._symbol,t=this._parent||e,i=this._project;r&8&&(this._bounds=this._position=this._decomposed=o),r&16&&(this._globalMatrix=o),t&&r&72&&se._clearBoundsCache(t),r&2&&se._clearBoundsCache(this),i&&i._changed(r,this),e&&e._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(r&&e){var t=e._children,i=e._namedChildren;(i[r]=i[r]||[]).push(this),r in t||(t[r]=this)}this._name=r||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},g.each(["locked","visible","blendMode","opacity","guide"],function(r){var e=g.capitalize(r),t="_"+r,i={locked:256,visible:265};this["get"+e]=function(){return this[t]},this["set"+e]=function(a){a!=this[t]&&(this[t]=a,this._changed(i[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){if(this._selectChildren){for(var r=this._children,e=0,t=r.length;e<t;e++)if(r[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(r){if(this._selectChildren)for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,e=!!(this._selection&1);if(r&&e){for(var t=0,i=r.length;t<i;t++)if(!r[t].isFullySelected())return!1;return!0}return e},setFullySelected:function(r){var e=this._children;if(e)for(var t=0,i=e.length;t<i;t++)e[t].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var e=r?N:ce,t=this._position||(this._position=this._getPositionFromBounds());return new e(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(N.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new ce(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=N.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,e){this[e]=function(t){return this.getBounds(t,r)}},{beans:!0,getBounds:function(r,e){var t=e||r instanceof G,i=g.set({},t?e:r,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var a=this._getCachedBounds(t&&r,i).rect;return arguments.length?a:new Q(a.x,a.y,a.width,a.height,this,"setBounds")},setBounds:function(){var r=q.read(arguments),e=this.getBounds(),t=this._matrix,i=new G,a=r.getCenter();i.translate(a),(r.width!=e.width||r.height!=e.height)&&(t.isInvertible()||(t.set(t._backup||new G().translate(t.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?r.width/e.width:0,e.height!==0?r.height/e.height:0)),a=e.getCenter(),i.translate(-a.x,-a.y),this.transform(i)},_getBounds:function(r,e){var t=this._children;return!t||!t.length?new q:(se._updateBoundsCache(this,e.cacheItem),se._getBounds(t,r,e))},_getBoundsCacheKey:function(r,e){return[r.stroke?1:0,r.handle?1:0,e?1:0].join("")},_getCachedBounds:function(r,e,t){r=r&&r._orNullIfIdentity();var i=e.internal&&!t,a=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=a&&(!r||r.equals(u))&&this._getBoundsCacheKey(e,i),h=this._bounds;if(se._updateBoundsCache(this._parent||this._symbol,a),l&&h&&l in h){var f=h[l];return{rect:f.rect.clone(),nonscaling:f.nonscaling}}var c=this._getBounds(r||u,e),_=c.rect||c,m=this._style,p=c.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(l){h||(this._bounds=h={});var f=h[l]={rect:_.clone(),nonscaling:p,internal:i}}return{rect:_,nonscaling:p}},_getStrokeMatrix:function(r,e){var t=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=t?t.getViewMatrix().invert():r;return i&&i._shiftless()},statics:{_updateBoundsCache:function(r,e){if(r&&e){var t=e._id,i=r._boundsCache=r._boundsCache||{ids:{},list:[]};i.ids[t]||(i.list.push(e),i.ids[t]=e)}},_clearBoundsCache:function(r){var e=r._boundsCache;if(e){r._bounds=r._position=r._boundsCache=o;for(var t=0,i=e.list,a=i.length;t<a;t++){var u=i[t];u!==r&&(u._bounds=u._position=o,u._boundsCache&&se._clearBoundsCache(u))}}},_getBounds:function(r,e,t){var i=1/0,a=-i,u=i,l=a,h=!1;t=t||{};for(var f=0,c=r.length;f<c;f++){var _=r[f];if(_._visible&&!_.isEmpty(!0)){var m=_._getCachedBounds(e&&e.appended(_._matrix),t,!0),p=m.rect;i=Math.min(p.x,i),u=Math.min(p.y,u),a=Math.max(p.x+p.width,a),l=Math.max(p.y+p.height,l),m.nonscaling&&(h=!0)}}return{rect:isFinite(i)?new q(i,u,a-i,l-u):new q,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var e=this.getRotation();if(e!=null&&r!=null){var t=this._decomposed;this.rotate(r-e),t&&(t.rotation=r,this._decomposed=t)}},getScaling:function(){var r=this._decompose(),e=r&&r.scaling;return new ce(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=N.read(arguments,0,{clone:!0,readNull:!0});if(r&&e&&!r.equals(e)){var t=this.getRotation(),i=this._decomposed,a=new G,u=Y.isZero;if(u(r.x)||u(r.y))a.translate(i.translation),t&&a.rotate(t),a.scale(e.x,e.y),this._matrix.set(a);else{var l=this.getPosition(!0);a.translate(l),t&&a.rotate(t),a.scale(e.x/r.x,e.y/r.y),t&&a.rotate(-t),a.translate(l.negate()),this.transform(a)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var e=this._globalMatrix;if(e)for(var t=this._parent,i=[];t;){if(!t._globalMatrix){e=null;for(var a=0,u=i.length;a<u;a++)i[a]._globalMatrix=null;break}i.push(t),t=t._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var t=this._parent;t&&e.prepend(t.getGlobalMatrix(!0))}return r?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,e){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._setProject(r);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(e){r.base.call(this,e);for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._installEvents(e)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof Pe)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return g.equals(this._children,r._children)},clone:function(r){var e=new this.constructor(se.NO_INSERT),t=this._children,i=g.pick(r?r.insert:o,r===o||r===!0),a=g.pick(r?r.deep:o,!0);t&&e.copyAttributes(this),(!t||a)&&e.copyContent(this),t||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var t=l._children,h=u,f=1;t[u];)u=h+" "+f++;u!==h&&e.setName(u)}return e},copyContent:function(r){for(var e=r._children,t=0,i=e&&e.length;t<i;t++)this.addChild(e[t].clone(!1),!0)},copyAttributes:function(r,e){this.setStyle(r._style);for(var t=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=t.length;i<a;i++){var u=t[i];r.hasOwnProperty(u)&&(this[u]=r[u])}e||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var l=r._data,h=r._name;this._data=l?g.clone(l):null,h&&this.setName(h)},rasterize:function(r,e){var t,i,a;g.isPlainObject(r)?(t=r.resolution,i=r.insert,a=r.raster):(t=r,i=e),a?a.matrix.reset(!0):a=new ze(se.NO_INSERT);var u=this.getStrokeBounds(),l=(t||this.getView().getResolution())/72,h=u.getTopLeft().floor(),f=u.getBottomRight().ceil(),c=new J(f.subtract(h)),_=c.multiply(l);if(a.setSize(_,!0),!_.isZero()){var m=a.getContext(!0),p=new G().scale(l).translate(h.negate());m.save(),p.applyToContext(m),this.draw(m,new g({matrices:[p]})),m.restore()}return a.transform(new G().translate(h.add(c.divide(2))).scale(1/l)),(i===o||i)&&a.insertAbove(this),a},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(N.read(arguments)))},_contains:function(r){var e=this._children;if(e){for(var t=e.length-1;t>=0;t--)if(e[t].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new ve.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,e){return r instanceof se?this._asPathItem().getIntersections(r._asPathItem(),null,e,!0).length>0:!1}},new function(){function r(){var i=arguments;return this._hitTest(N.read(i),Ue.getOptions(i))}function e(){var i=arguments,a=N.read(i),u=Ue.getOptions(i),l=[];return this._hitTest(a,new g({all:l},u)),l}function t(i,a,u,l){var h=this._children;if(h)for(var f=h.length-1;f>=0;f--){var c=h[f],_=c!==l&&c._hitTest(i,a,u);if(_&&!a.all)return _}return null}return me.inject({hitTest:r,hitTestAll:e,_hitTest:t}),{hitTest:r,hitTestAll:e,_hitTestChildren:t}},{_hitTest:function(r,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,a=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new J(ve._getStrokePadding(u,i._shiftless().invert()));if(r=i._inverseTransform(r),!r||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(r))return null;var h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==g.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,c=this,_,m;function p(w){return w&&f&&!f(w)&&(w=null),w&&e.all&&e.all.push(w),w}function v(w,y){var P=y?_["get"+y]():c.getPosition();if(r.subtract(P).divide(l).length<=1)return new Ue(w,c,{name:y?g.hyphenate(y):w,point:P})}var S=e.position,k=e.center,I=e.bounds;if(h&&this._parent&&(S||k||I)){if((k||I)&&(_=this.getInternalBounds()),m=S&&v("position")||k&&v("center","Center"),!m&&I)for(var b=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!m;C++)m=v("bounds",b[C]);m=p(m)}return m||(m=this._hitTestChildren(r,e,a)||h&&p(this._hitTestSelf(r,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),m&&m.point&&(m.point=i.transform(m.point)),m},_hitTestSelf:function(r,e){if(e.fill&&this.hasFill()&&this._contains(r))return new Ue("fill",this)},matches:function(r,e){function t(l,h){for(var f in l)if(l.hasOwnProperty(f)){var c=l[f],_=h[f];if(g.isPlainObject(c)&&g.isPlainObject(_)){if(!t(c,_))return!1}else if(!g.equals(c,_))return!1}return!0}var i=typeof r;if(i==="object"){for(var a in r)if(r.hasOwnProperty(a)&&!this.matches(a,r[a]))return!1;return!0}else{if(i==="function")return r(this);if(r==="match")return e(this);var u=/^(empty|editable)$/.test(r)?this["is"+g.capitalize(r)]():r==="type"?g.hyphenate(this._class):this[r];if(r==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(g.isPlainObject(e))return t(e,u)}return g.equals(u,e)}},getItems:function(r){return se._getItems(this,r,this._matrix)},getItem:function(r){return se._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(e,t,i,a,u){if(!a){var l=typeof t=="object"&&t,h=l&&l.overlapping,f=l&&l.inside,c=h||f,p=c&&q.read([c]);a={items:[],recursive:l&&l.recursive!==!1,inside:!!f,overlapping:!!h,rect:p,path:h&&new ve.Rectangle({rectangle:p,insert:!1})},l&&(t=g.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var _=e._children,m=a.items,p=a.rect;i=p&&(i||new G);for(var v=0,S=_&&_.length;v<S;v++){var k=_[v],I=i&&i.appended(k._matrix),b=!0;if(p){var c=k.getBounds(I);if(!p.intersects(c))continue;p.contains(c)||a.overlapping&&(c.contains(p)||a.path.intersects(k,I))||(b=!1)}if(b&&k.matches(t)&&(m.push(k),u)||(a.recursive!==!1&&r(k,t,I,a,u),u&&m.length>0))break}return m}}},{importJSON:function(r){var e=g.importJSON(r,this);return e!==this?this.addChild(e):e},addChild:function(r){return this.insertChild(o,r)},insertChild:function(r,e){var t=e?this.insertChildren(r,[e]):null;return t&&t[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,e){var t=this._children;if(t&&e&&e.length>0){e=g.slice(e);for(var i={},a=e.length-1;a>=0;a--){var u=e[a],l=u&&u._id;!u||i[l]?e.splice(a,1):(u._remove(!1,!0),i[l]=!0)}g.splice(t,e,r,0);for(var h=this._project,f=h._changes,a=0,c=e.length;a<c;a++){var u=e[a],_=u._name;u._parent=this,u._setProject(h,!0),_&&u.setName(_),f&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(r,e){var t=r&&r._getOwner(),i=r!==this&&t?this:null;return i&&(i._remove(!1,!0),t._insertItem(r._index+e,i)),i},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(o,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var e=this._children;if(e&&e.length===1){var t=e[0].reduce(r);return this._parent?(t.insertAbove(this),this.remove()):t.remove(),t}return this},_removeNamed:function(){var r=this._getOwner();if(r){var e=r._children,t=r._namedChildren,i=this._name,a=t[i],u=a?a.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],a.splice(u,1),a.length?e[i]=a[0]:delete t[i])}},_remove:function(r,e){var t=this._getOwner(),i=this._project,a=this._index;return this._style&&this._style._dispose(),t?(this._name&&this._removeNamed(),a!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(t._children,null,a,1)),this._installEvents(!1),r&&i._changes&&this._changed(5),e&&t._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var e=r&&r.insertBelow(this);return e&&this.remove(),e},removeChildren:function(r,e){if(!this._children)return null;r=r||0,e=g.pick(e,this._children.length);for(var t=g.splice(this._children,null,r,e-r),i=t.length-1;i>=0;i--)t[i]._remove(!0,!1);return t.length>0&&this._changed(11),t},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,e=this._children.length;r<e;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var e=this._children,t=e?e.length:0;if(r){for(var i=0;i<t;i++)if(!e[i].isEmpty(r))return!1;return!0}return!t},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function e(l){var h=[];do h.unshift(l);while(l=l._parent);return h}for(var t=e(this),i=e(r),a=0,u=Math.min(t.length,i.length);a<u;a++)if(t[a]!=i[a])return t[a]._index<i[a]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(r){return this._getOrder(r)===-1},isBelow:function(r){return this._getOrder(r)===1},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var e=this;e=e._parent;)if(e===r)return!0;return!1},isAncestor:function(r){return r?r.isDescendant(this):!1},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&r.isDescendant(e))return!0;e=e._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:N).read(t),a=N.read(t,0,{readNull:!0});return this.transform(new G()[r](i,a||this.getPosition(!0)))}},{translate:function(){var r=new G;return this.transform(r.translate.apply(r,arguments))},transform:function(r,e,t){var i=this._matrix,a=r&&!r.isIdentity(),u=t&&this._canApplyMatrix||this._applyMatrix&&(a||!i.isIdentity()||e&&this._children);if(!a&&!u)return this;if(a){!r.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(r,!0);var l=this._style,h=l.getFillColor(!0),f=l.getStrokeColor(!0);h&&h.transform(r),f&&f.transform(r)}if(u&&(u=this._transformContent(i,e,t))){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),t&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,m=this._position;(a||u)&&this._changed(25);var p=a&&_&&r.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var v in _){var S=_[v];if(S.nonscaling)delete _[v];else if(u||!S.internal){var k=S.rect;r._transformBounds(k,k)}}this._bounds=_;var I=_[this._getBoundsCacheKey(this._boundsOptions||{})];I&&(this._position=this._getPositionFromBounds(I.rect))}else a&&m&&this._pivot&&(this._position=r._transformPoint(m,m));return this},_transformContent:function(r,e,t){var i=this._children;if(i){for(var a=0,u=i.length;a<u;a++)i[a].transform(r,e,t);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(N.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(N.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(N.read(arguments))},localToParent:function(){return this._matrix._transformPoint(N.read(arguments))},fitBounds:function(r,e){r=q.read(arguments);var t=this.getBounds(),i=t.height/t.width,a=r.height/r.width,u=(e?i>a:i<a)?r.width/t.width:r.height/t.height,l=new q(new N,new J(t.width*u,t.height*u));l.setCenter(r.getCenter()),this.setBounds(l)}}),{_setStyles:function(r,e,t){var i=this._style,a=this._matrix;if(i.hasFill()&&(r.fillStyle=i.getFillColor().toCanvasStyle(r,a)),i.hasStroke()){r.strokeStyle=i.getStrokeColor().toCanvasStyle(r,a),r.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),h=i.getMiterLimit();if(u&&(r.lineJoin=u),l&&(r.lineCap=l),h&&(r.miterLimit=h),je.support.nativeDash){var f=i.getDashArray(),c=i.getDashOffset();f&&f.length&&("setLineDash"in r?(r.setLineDash(f),r.lineDashOffset=c):(r.mozDash=f,r.mozDashOffset=c))}}if(i.hasShadow()){var _=e.pixelRatio||1,m=t._shiftless().prepend(new G().scale(_,_)),p=m.transform(new N(i.getShadowBlur(),0)),v=m.transform(this.getShadowOffset());r.shadowColor=i.getShadowColor().toCanvasStyle(r),r.shadowBlur=p.getLength(),r.shadowOffsetX=v.x,r.shadowOffsetY=v.y}},draw:function(r,e,t){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,a=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(!!l.isInvertible()){a=a?a.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var h=this._blendMode,f=Y.clamp(this._opacity,0,1),c=h==="normal",_=vt.nativeModes[h],m=c&&f===1||e.dontStart||e.clip||(_||c&&f<1)&&this._canComposite(),p=e.pixelRatio||1,v,S,k;if(!m){var I=this.getStrokeBounds(a);if(!I.width||!I.height){i.pop();return}k=e.offset,S=e.offset=I.getTopLeft().floor(),v=r,r=Ct.getContext(I.getSize().ceil().add(1).multiply(p)),p!==1&&r.scale(p,p)}r.save();var b=t?t.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&a,C=!m&&e.clipItem,w=!b||C;if(m?(r.globalAlpha=f,_&&(r.globalCompositeOperation=h)):w&&r.translate(-S.x,-S.y),w&&(m?u:a).applyToContext(r),C&&e.clipItem.draw(r,e.extend({clip:!0})),b){r.setTransform(p,0,0,p,0,0);var y=e.offset;y&&r.translate(-y.x,-y.y)}this._draw(r,e,a,b),r.restore(),i.pop(),e.clip&&!e.dontFinish&&r.clip(this.getFillRule()),m||(vt.process(h,r,v,f,S.subtract(k).multiply(p)),Ct.release(r),e.offset=k)}}},_isUpdated:function(r){var e=this._parent;if(e instanceof Ie)return e._isUpdated(r);var t=this._updateVersion===r;return!t&&e&&e._visible&&e._isUpdated(r)&&(this._updateVersion=r,t=!0),t},_drawSelection:function(r,e,t,i,a){var u=this._selection,l=u&1,h=u&2||l&&this._selectBounds,f=u&4;if(this._drawSelected||(l=!1),(l||h||f)&&this._isUpdated(a)){var c,_=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),m=e.appended(this.getGlobalMatrix(!0)),p=t/2;if(r.strokeStyle=r.fillStyle=_?_.toCanvasStyle(r):"#009dec",l&&this._drawSelected(r,m,i),f){var v=this.getPosition(!0),S=this._parent,k=S?S.localToGlobal(v):v,I=k.x,b=k.y;r.beginPath(),r.arc(I,b,p,0,Math.PI*2,!0),r.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],w=p,y=t+1,P=0;P<4;P++){var T=C[P],M=T[0],E=T[1];r.moveTo(I+M*w,b+E*w),r.lineTo(I+M*y,b+E*y),r.stroke()}}if(h){var z=m._transformCorners(this.getInternalBounds());r.beginPath();for(var P=0;P<8;P++)r[P?"lineTo":"moveTo"](z[P],z[++P]);r.closePath(),r.stroke();for(var P=0;P<8;P++)r.fillRect(z[P]-p,z[++P]-p,t,t)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(r){this["removeOn"+g.capitalize(r)]=function(){var e={};return e[r]=!0,this.removeOn(e)}},{removeOn:function(r){for(var e in r)if(r[e]){var t="mouse"+e,i=this._project,a=i._removeSets=i._removeSets||{};a[t]=a[t]||{},a[t][this._id]=this}return this}}),{tween:function(r,e,t){t||(t=e,e=r,r=null,t||(t=e,e=null));var i=t&&t.easing,a=t&&t.start,u=t!=null&&(typeof t=="number"?t:t.duration),l=new $a(this,r,e,u,i,a);function h(f){l._handleFrame(f.time*1e3),l.running||this.off("frame",h)}return u&&this.on("frame",h),l},tweenTo:function(r,e){return this.tween(null,r,e)},tweenFrom:function(r,e){return this.tween(r,null,e)}}),ye=se.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function r(e){r.base.call(this,e),e&2050&&(this._clipItem=o)},_getClipItem:function(){var r=this._clipItem;if(r===o){r=null;for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t]._clipMask){r=e[t];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var e=this.getFirstChild();e&&e.setClipMask(r)},_getBounds:function r(e,t){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),g.set({},t,{stroke:!1})):r.base.call(this,e,t)},_hitTestChildren:function r(e,t,i){var a=this._getClipItem();return(!a||a.contains(e))&&r.base.call(this,e,t,i,a)},_draw:function(r,e){var t=e.clip,i=!t&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),t?(r.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(r,e.extend({clip:!0}));for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u];h!==i&&h.draw(r,e)}}}),Pe=ye.extend({_class:"Layer",initialize:function(){ye.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function r(){return this._parent?r.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Ee=se.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&g.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Ae(r.width,r.height,this,"setSize")},setSize:function(){var r=J.read(arguments);if(!this._size)this._size=r.clone();else if(!this._size.equals(r)){var e=this._type,t=r.width,i=r.height;e==="rectangle"?this._radius.set(J.min(this._radius,r.divide(2).abs())):e==="circle"?(t=i=(t+i)/2,this._radius=t/2):e==="ellipse"&&this._radius._set(t/2,i/2),this._size._set(t,i),this._changed(9)}},getRadius:function(){var r=this._radius;return this._type==="circle"?r:new Ae(r.width,r.height,this,"setRadius")},setRadius:function(r){var e=this._type;if(e==="circle"){if(r===this._radius)return;var t=r*2;this._radius=r,this._size._set(t,t)}else if(r=J.read(arguments),!this._radius)this._radius=r.clone();else{if(this._radius.equals(r))return;if(this._radius.set(r),e==="rectangle"){var t=J.max(this._size,r.multiply(2));this._size.set(t)}else e==="ellipse"&&this._size._set(r.width*2,r.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var e=new ve[g.capitalize(this._type)]({center:new N,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),je.settings.applyMatrix&&e.setApplyMatrix(!0),(r===o||r)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,e,t,i){var a=this._style,u=a.hasFill(),l=a.hasStroke(),h=e.dontFinish||e.clip,f=!i;if(u||l||h){var c=this._type,_=this._radius,m=c==="circle";if(e.dontStart||r.beginPath(),f&&m)r.arc(0,0,_,0,Math.PI*2,!0);else{var p=m?_:_.width,v=m?_:_.height,S=this._size,k=S.width,I=S.height;if(f&&c==="rectangle"&&p===0&&v===0)r.rect(-k/2,-I/2,k,I);else{var b=k/2,C=I/2,w=1-.5522847498307936,y=p*w,P=v*w,T=[-b,-C+v,-b,-C+P,-b+y,-C,-b+p,-C,b-p,-C,b-y,-C,b,-C+P,b,-C+v,b,C-v,b,C-P,b-y,C,b-p,C,-b+p,C,-b+y,C,-b,C-P,-b,C-v];i&&i.transform(T,T,32),r.moveTo(T[0],T[1]),r.bezierCurveTo(T[2],T[3],T[4],T[5],T[6],T[7]),b!==p&&r.lineTo(T[8],T[9]),r.bezierCurveTo(T[10],T[11],T[12],T[13],T[14],T[15]),C!==v&&r.lineTo(T[16],T[17]),r.bezierCurveTo(T[18],T[19],T[20],T[21],T[22],T[23]),b!==p&&r.lineTo(T[24],T[25]),r.bezierCurveTo(T[26],T[27],T[28],T[29],T[30],T[31])}}r.closePath()}!h&&(u||l)&&(this._setStyles(r,e,t),u&&(r.fill(a.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),l&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,e){var t=new q(this._size).setCenter(0,0),i=this._style,a=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return r&&(t=r._transformBounds(t)),a?t.expand(ve._getStrokePadding(a,this._getStrokeMatrix(r,e))):t}},new function(){function r(t,i,a){var u=t._radius;if(!u.isZero())for(var l=t._size.divide(2),h=1;h<=4;h++){var f=new N(h>1&&h<4?-1:1,h>2?-1:1),c=f.multiply(l),_=c.subtract(f.multiply(u)),m=new q(a?c.add(f.multiply(a)):c,_);if(m.contains(i))return{point:_,quadrant:h}}}function e(t,i,a,u){var l=t.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(a).length<=1}return{_contains:function t(i){if(this._type==="rectangle"){var a=r(this,i);return a?i.subtract(a.point).divide(this._radius).getLength()<=1:t.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function t(i,a,u,l){var h=!1,f=this._style,c=a.stroke&&f.hasStroke(),_=a.fill&&f.hasFill();if(c||_){var m=this._type,p=this._radius,v=c?f.getStrokeWidth()/2:0,S=a._tolerancePadding.add(ve._getStrokePadding(v,!f.getStrokeScaling()&&l));if(m==="rectangle"){var k=S.multiply(2),I=r(this,i,k);if(I)h=e(i.subtract(I.point),p,S,I.quadrant);else{var b=new q(this._size).setCenter(0,0),C=b.expand(k),w=b.expand(k.negate());h=C._containsPoint(i)&&!w._containsPoint(i)}}else h=e(i,p,S)}return h?new Ue(c?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function r(e,t,i,a,u){var l=g.create(Ee.prototype);return l._type=e,l._size=i,l._radius=a,l._initialize(g.getNamed(u),t),l}return{Circle:function(){var e=arguments,t=N.readNamed(e,"center"),i=g.readNamed(e,"radius");return r("circle",t,new J(i*2),i,e)},Rectangle:function(){var e=arguments,t=q.readNamed(e,"rectangle"),i=J.min(J.readNamed(e,"radius"),t.getSize(!0).divide(2));return r("rectangle",t.getCenter(!0),t.getSize(!0),i,e)},Ellipse:function(){var e=arguments,t=Ee._readEllipse(e),i=t.radius;return r("ellipse",t.center,i.multiply(2),i,e)},_readEllipse:function(e){var t,i;if(g.hasNamed(e,"radius"))t=N.readNamed(e,"center"),i=J.readNamed(e,"radius");else{var a=q.readNamed(e,"rectangle");t=a.getCenter(!0),i=a.getSize(!0).divide(2)}return{center:t,radius:i}}}}}),ze=se.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==o&&N.read(arguments))){var i,a=typeof e,u=a==="string"?x.getElementById(e):a==="object"?e:null;if(u&&u!==se.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=J.read(arguments);l.isZero()||(i=Ct.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new J,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var e=r._image,t=r._canvas;if(e)this._setImage(e);else if(t){var i=Ct.getCanvas(r._size);i.getContext("2d").drawImage(t,0,0),this._setImage(i)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Ae(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,e){var t=J.read(arguments);if(t.equals(this._size))e&&this.clear();else if(t.width>0&&t.height>0){var i=!e&&this.getElement();this._setImage(Ct.getCanvas(t)),i&&this.getContext(!0).drawImage(i,0,0,t.width,t.height)}else this._canvas&&Ct.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||r.width===0&&r.height===0},getResolution:function(){var r=this._matrix,e=new N(0,0).transform(r),t=new N(1,0).transform(r).subtract(e),i=new N(0,1).transform(r).subtract(e);return new J(72/t.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var e=this;function t(i){var a=e.getView(),u=i&&i.type||"load";a&&e.responds(u)&&(je=a._scope,e.emit(u,new Rn(i)))}this._setImage(r),this._loaded?setTimeout(t,0):r&&qe.add(r,{load:function(i){e._setImage(r),t(i)},error:t})},_setImage:function(r){this._canvas&&Ct.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new J(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=Ct.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch(e){Ct.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var e=new s.Image,t=this._crossOrigin;t&&(e.crossOrigin=t),r&&(e.src=r),this.setImage(e)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var e=this._image;e&&(e.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing=typeof r=="string"?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=q.read(arguments),e=Ct.getContext(r.getSize());return e.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.canvas},getSubRaster:function(){var r=q.read(arguments),e=new ze(se.NO_INSERT);return e._setImage(this.getSubCanvas(r)),e.translate(r.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var r=this._image,e=r&&r.src;if(/^data:/.test(e))return e;var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(r){var e=N.read(arguments,1);this.getContext(!0).drawImage(r,e.x,e.y)},getAverageColor:function(r){var e,t;if(r?r instanceof Ce?(t=r,e=r.getBounds()):typeof r=="object"&&("width"in r?e=new q(r):"x"in r&&(e=new q(r.x-.5,r.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,a=Math.min(e.width,i),u=Math.min(e.height,i),l=ze._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=ze._sampleContext=Ct.getContext(new J(i)),l.save();var h=new G().scale(a/e.width,u/e.height).translate(-e.x,-e.y);h.applyToContext(l),t&&t.draw(l,new g({clip:!0,matrices:[h]})),this._matrix.applyToContext(l);var f=this.getElement(),c=this._size;f&&l.drawImage(f,-c.width/2,-c.height/2),l.restore();for(var _=l.getImageData(.5,.5,Math.ceil(a),Math.ceil(u)).data,m=[0,0,0],p=0,v=0,S=_.length;v<S;v+=4){var k=_[v+3];p+=k,k/=255,m[0]+=_[v]*k,m[1]+=_[v+1]*k,m[2]+=_[v+2]*k}for(var v=0;v<3;v++)m[v]/=p;return p?De.read(m):null},getPixel:function(){var r=N.read(arguments),e=this.getContext().getImageData(r.x,r.y,1,1).data;return new De("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var r=arguments,e=N.read(r),t=De.read(r),i=t._convert("rgb"),a=t._alpha,u=this.getContext(!0),l=u.createImageData(1,1),h=l.data;h[0]=i[0]*255,h[1]=i[1]*255,h[2]=i[2]*255,h[3]=a!=null?a*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=J.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=q.read(arguments);return r.isEmpty()&&(r=new q(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},setImageData:function(r){var e=N.read(arguments,1);this.getContext(!0).putImageData(r,e.x,e.y)},_getBounds:function(r,e){var t=new q(this._size).setCenter(0,0);return r?r._transformBounds(t):t},_hitTestSelf:function(r){if(this._contains(r)){var e=this;return new Ue("pixel",e,{offset:r.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(r,e,t){var i=this.getElement();if(i&&i.width>0&&i.height>0){r.globalAlpha=Y.clamp(this._opacity,0,1),this._setStyles(r,e,t);var a=this._smoothing,u=a==="off";Ve.setPrefixed(r,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:a),r.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Je=se.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==o&&N.read(arguments,1))||this.setDefinition(e instanceof Ke?e:new Ke(e))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,e){var t=this._definition._item;return t._getCachedBounds(t._matrix.prepended(r),e)},_hitTestSelf:function(r,e,t){var i=e.extend({all:!1}),a=this._definition._item._hitTest(r,i,t);return a&&(a.item=this),a},_draw:function(r,e){this._definition._item.draw(r,e)}}),Ke=g.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=te.get(),this.project=je.project,e&&this.setItem(e,t)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._class,this._item],r,!1,e)})},_changed:function(r){r&8&&se._clearBoundsCache(this),r&1&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,e){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),e||r.setPosition(new N),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new Je(this,r)},clone:function(){return new Ke(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),Ue=g.extend({_class:"HitResult",initialize:function(e,t,i){this.type=e,this.item=t,i&&this.inject(i)},statics:{getOptions:function(r){var e=r&&g.read(r);return new g({type:null,tolerance:je.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),de=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,i,a,u,l){var h=arguments.length,f,c,_,m;h>0&&(e==null||typeof e=="object"?h===1&&e&&"point"in e?(f=e.point,c=e.handleIn,_=e.handleOut,m=e.selection):(f=e,c=t,_=i,m=a):(f=[e,t],c=i!==o?[i,a]:null,_=u!==o?[u,l]:null)),new nt(f,this,"_point"),new nt(c,this,"_handleIn"),new nt(_,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(r,e){var t=this._point,i=this._selection,a=i||this.hasHandles()?[t,this._handleIn,this._handleOut]:t;return i&&a.push(i),g.serialize(a,r,!0,e)},_changed:function(r){var e=this._path;if(!!e){var t=e._curves,i=this._index,a;t&&((!r||r===this._point||r===this._handleIn)&&(a=i>0?t[i-1]:e._closed?t[t.length-1]:null)&&a._changed(),(!r||r===this._point||r===this._handleOut)&&(a=t[i])&&a._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(N.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(N.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(N.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,e=this._handleOut;return!r.isZero()&&!e.isZero()&&r.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var e=this._selection,t=this._path;this._selection=r=r||0,t&&r!==e&&(t._updateSelection(this,e,r),t._changed(257))},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){return!!(this._selection&7)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,e=this._index;return r?(e>0&&!r._closed&&e===r._segments.length-1&&e--,r.getCurves()[e]||null):null},getLocation:function(){var r=this.getCurve();return r?new Xe(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,e,t){var i=r||{},a=i.type,u=i.factor,l=this.getPrevious(),h=this.getNext(),f=(l||this)._point,c=this._point,_=(h||this)._point,m=f.getDistance(c),p=c.getDistance(_);if(!a||a==="catmull-rom"){var v=u===o?.5:u,S=Math.pow(m,v),k=S*S,I=Math.pow(p,v),b=I*I;if(!e&&l){var C=2*b+3*I*S+k,w=3*I*(I+S);this.setHandleIn(w!==0?new N((b*f._x+C*c._x-k*_._x)/w-c._x,(b*f._y+C*c._y-k*_._y)/w-c._y):new N)}if(!t&&h){var C=2*k+3*S*I+b,w=3*S*(S+I);this.setHandleOut(w!==0?new N((k*_._x+C*c._x-b*f._x)/w-c._x,(k*_._y+C*c._y-b*f._y)/w-c._y):new N)}}else if(a==="geometric"){if(l&&h){var y=f.subtract(_),P=u===o?.4:u,T=P*m/(m+p);e||this.setHandleIn(y.multiply(T)),t||this.setHandleOut(y.multiply(T-P))}}else throw new Error("Smoothing method '"+a+"' not supported.")},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,e=this._handleOut,t=r.clone();r.set(e),e.set(t)},reversed:function(){return new de(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new de(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,e,t){var i=1-t,a=t,u=r._point,l=e._point,h=r._handleIn,f=e._handleIn,c=e._handleOut,_=r._handleOut;this._point._set(i*u._x+a*l._x,i*u._y+a*l._y,!0),this._handleIn._set(i*h._x+a*f._x,i*h._y+a*f._y,!0),this._handleOut._set(i*_._x+a*c._x,i*_._y+a*c._y,!0),this._changed()},_transformCoordinates:function(r,e,t){var i=this._point,a=!t||!this._handleIn.isZero()?this._handleIn:null,u=!t||!this._handleOut.isZero()?this._handleOut:null,l=i._x,h=i._y,f=2;return e[0]=l,e[1]=h,a&&(e[f++]=a._x+l,e[f++]=a._y+h),u&&(e[f++]=u._x+l,e[f++]=u._y+h),r&&(r._transformCoordinates(e,e,f/2),l=e[0],h=e[1],t?(i._x=l,i._y=h,f=2,a&&(a._x=e[f++]-l,a._y=e[f++]-h),u&&(u._x=e[f++]-l,u._y=e[f++]-h)):(a||(e[f++]=l,e[f++]=h),u||(e[f++]=l,e[f++]=h))),e}}),nt=N.extend({initialize:function(e,t,i){var a,u,l;if(!e)a=u=0;else if((a=e[0])!==o)u=e[1];else{var h=e;(a=h.x)===o&&(h=N.read(arguments),a=h.x),u=h.y,l=h.selected}this._x=a,this._y=u,this._owner=t,t[i]=this,l&&this.setSelected(!0)},_set:function(r,e){return this._x=r,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=Y.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),ne=g.extend({_class:"Curve",beans:!0,initialize:function(e,t,i,a,u,l,h,f){var c=arguments.length,_,m,p,v,S,k;c===3?(this._path=e,_=t,m=i):c?c===1?"segment1"in e?(_=new de(e.segment1),m=new de(e.segment2)):"point1"in e?(p=e.point1,S=e.handle1,k=e.handle2,v=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],v=[e[6],e[7]],S=[e[2]-e[0],e[3]-e[1]],k=[e[4]-e[6],e[5]-e[7]]):c===2?(_=new de(e),m=new de(t)):c===4?(p=e,S=t,k=i,v=a):c===8&&(p=[e,t],v=[h,f],S=[i-e,a-t],k=[u-h,l-f]):(_=new de,m=new de),this._segment1=_||new de(p,null,S),this._segment2=m||new de(v,k,null)},_serialize:function(r,e){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new ne(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return ne.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var e=this._segment2,t=e._handleOut;r=e.remove(),r&&this._segment1._handleOut.set(t)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(N.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(N.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(N.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(N.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return ne.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),e=[],t=0;t<8;t+=2)e.push(new N(r[t],r[t+1]));return e}},{getLength:function(){return this._length==null&&(this._length=ne.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ne.getArea(this.getValues())},getLine:function(){return new ue(this._segment1._point,this._segment2._point)},getPart:function(r,e){return new ne(ne.getPart(this.getValues(),r,e))},getPartLength:function(r,e){return ne.getLength(this.getValues(),r,e)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,e){var t=1e-8,i=1-t,a=null;if(r>=t&&r<=i){var u=ne.subdivide(this.getValues(),r),l=u[0],h=u[1],f=e||this.hasHandles(),c=this._segment1,_=this._segment2,m=this._path;f&&(c._handleOut._set(l[2]-l[0],l[3]-l[1]),_._handleIn._set(h[4]-h[6],h[5]-h[7]));var p=l[6],v=l[7],S=new de(new N(p,v),f&&new N(l[4]-p,l[5]-v),f&&new N(h[2]-p,h[3]-v));m?(m.insert(c._index+1,S),a=this.getNext()):(this._segment2=S,this._changed(),a=new ne(S,_))}return a},splitAt:function(r){var e=this._path;return e?e.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,e){return this.divideAtTime(r===o?.5:e?r:this.getTimeAt(r))},split:function(r,e){return this.splitAtTime(r===o?.5:e?r:this.getTimeAt(r))},reversed:function(){return new ne(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,e,t,i){var a=r._point,u=r._handleOut,l=e._handleIn,h=e._point,f=a.x,c=a.y,_=h.x,m=h.y,p=i?[f,c,f,c,_,m,_,m]:[f,c,f+u._x,c+u._y,_+l._x,m+l._y,_,m];return t&&t._transformCoordinates(p,p,4),p},subdivide:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],c=r[7];e===o&&(e=.5);var _=1-e,m=_*t+e*a,p=_*i+e*u,v=_*a+e*l,S=_*u+e*h,k=_*l+e*f,I=_*h+e*c,b=_*m+e*v,C=_*p+e*S,w=_*v+e*k,y=_*S+e*I,P=_*b+e*w,T=_*C+e*y;return[[t,i,m,p,b,C,P,T],[P,T,w,y,k,I,f,c]]},getMonoCurves:function(r,e){var t=[],i=e?0:1,a=r[i+0],u=r[i+2],l=r[i+4],h=r[i+6];if(a>=u==u>=l&&u>=l==l>=h||ne.isStraight(r))t.push(r);else{var f=3*(u-l)-a+h,c=2*(a+l)-4*u,_=u-a,m=1e-8,p=1-m,v=[],S=Y.solveQuadratic(f,c,_,v,m,p);if(!S)t.push(r);else{v.sort();var k=v[0],I=ne.subdivide(r,k);t.push(I[0]),S>1&&(k=(v[1]-k)/(1-k),I=ne.subdivide(I[1],k),t.push(I[0])),t.push(I[1])}}return t},solveCubic:function(r,e,t,i,a,u){var l=r[e],h=r[e+2],f=r[e+4],c=r[e+6],_=0;if(!(l<t&&c<t&&h<t&&f<t||l>t&&c>t&&h>t&&f>t)){var m=3*(h-l),p=3*(f-h)-m,v=c-l-m-p;_=Y.solveCubic(v,p,m,l-t,i,a,u)}return _},getTimeOf:function(r,e){var t=new N(r[0],r[1]),i=new N(r[6],r[7]),a=1e-12,u=1e-7,l=e.isClose(t,a)?0:e.isClose(i,a)?1:null;if(l===null)for(var h=[e.x,e.y],f=[],c=0;c<2;c++)for(var _=ne.solveCubic(r,c,h[c],f,0,1),m=0;m<_;m++){var p=f[m];if(e.isClose(ne.getPoint(r,p),u))return p}return e.isClose(t,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(r,e){if(ne.isStraight(r)){var t=r[0],i=r[1],a=r[6],u=r[7],l=a-t,h=u-i,f=l*l+h*h;if(f===0)return 0;var c=((e.x-t)*l+(e.y-i)*h)/f;return c<1e-12?0:c>.999999999999?1:ne.getTimeOf(r,new N(t+c*l,i+c*h))}var _=100,m=1/0,p=0;function v(I){if(I>=0&&I<=1){var b=e.getDistance(ne.getPoint(r,I),!0);if(b<m)return m=b,p=I,!0}}for(var S=0;S<=_;S++)v(S/_);for(var k=1/(_*2);k>1e-8;)!v(p-k)&&!v(p+k)&&(k/=2);return p},getPart:function(r,e,t){var i=e>t;if(i){var a=e;e=t,t=a}return e>0&&(r=ne.subdivide(r,e)[1]),t<1&&(r=ne.subdivide(r,(t-e)/(1-e))[0]),i?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],c=r[7],_=3*a-2*t-f,m=3*u-2*i-c,p=3*l-2*f-t,v=3*h-2*c-i;return Math.max(_*_,p*p)+Math.max(m*m,v*v)<=16*e*e},getArea:function(r){var e=r[0],t=r[1],i=r[2],a=r[3],u=r[4],l=r[5],h=r[6],f=r[7];return 3*((f-t)*(i+u)-(h-e)*(a+l)+a*(e-u)-i*(t-l)+f*(u+e/3)-h*(l+t/3))/20},getBounds:function(r){for(var e=r.slice(0,2),t=e.slice(),i=[0,0],a=0;a<2;a++)ne._addBounds(r[a],r[a+2],r[a+4],r[a+6],a,0,e,t,i);return new q(e[0],e[1],t[0]-e[0],t[1]-e[1])},_addBounds:function(r,e,t,i,a,u,l,h,f){function c(P,T){var M=P-T,E=P+T;M<l[a]&&(l[a]=M),E>h[a]&&(h[a]=E)}u/=2;var _=l[a]+u,m=h[a]-u;if(r<_||e<_||t<_||i<_||r>m||e>m||t>m||i>m)if(e<r!=e<i&&t<r!=t<i)c(r,0),c(i,0);else{var p=3*(e-t)-r+i,v=2*(r+t)-4*e,S=e-r,k=Y.solveQuadratic(p,v,S,f),I=1e-8,b=1-I;c(i,0);for(var C=0;C<k;C++){var w=f[C],y=1-w;I<=w&&w<=b&&c(y*y*y*r+3*y*y*w*e+3*y*w*w*t+w*w*w*i,u)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var e=this._bounds[r];return e||(e=this._bounds[r]=ve[r]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),g.each({isStraight:function(r,e,t,i){if(e.isZero()&&t.isZero())return!0;var a=i.subtract(r);if(a.isZero())return!1;if(a.isCollinear(e)&&a.isCollinear(t)){var u=new ue(r,i),l=1e-7;if(u.getDistance(r.add(e))<l&&u.getDistance(i.add(t))<l){var h=a.dot(a),f=a.dot(e)/h,c=a.dot(t)/h;return f>=0&&f<=1&&c<=0&&c>=-1}}return!1},isLinear:function(r,e,t,i){var a=i.subtract(r).divide(3);return e.equals(a)&&t.negate().equals(a)}},function(r,e){this[e]=function(t){var i=this._segment1,a=this._segment2;return r(i._point,i._handleOut,a._handleIn,a._point,t)},this.statics[e]=function(t,i){var a=t[0],u=t[1],l=t[6],h=t[7];return r(new N(a,u),new N(t[2]-a,t[3]-u),new N(t[4]-l,t[5]-h),new N(l,h),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,e){return this.getLocationAtTime(e?r:this.getTimeAt(r))},getLocationAtTime:function(r){return r!=null&&r>=0&&r<=1?new Xe(this,r):null},getTimeAt:function(r,e){return ne.getTimeAt(this.getValues(),r,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=N.read(arguments);return r.isZero()?[]:ne.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(N.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return ne.getTimeOf(this.getValues(),N.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=N.read(arguments),e=this.getValues(),t=ne.getNearestTime(e,r),i=ne.getPoint(e,t);return new Xe(this,t,i,null,r.getDistance(i))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(r,function(e){this[e+"At"]=function(t,i){var a=this.getValues();return ne[e](a,i?t:ne.getTimeAt(a,t))},this[e+"AtTime"]=function(t){return ne[e](this.getValues(),t)}},{statics:{_evaluateMethods:r}})},new function(){function r(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=9*(l-f)+3*(_-a),v=6*(a+f)-12*l,S=3*(l-a),k=9*(h-c)+3*(m-u),I=6*(u+c)-12*h,b=3*(h-u);return function(C){var w=(p*C+v)*C+S,y=(k*C+I)*C+b;return Math.sqrt(w*w+y*y)}}function e(i,a){return Math.max(2,Math.min(16,Math.ceil(Math.abs(a-i)*32)))}function t(i,a,u,l){if(a==null||a<0||a>1)return null;var h=i[0],f=i[1],c=i[2],_=i[3],m=i[4],p=i[5],v=i[6],S=i[7],k=Y.isZero;k(c-h)&&k(_-f)&&(c=h,_=f),k(m-v)&&k(p-S)&&(m=v,p=S);var I=3*(c-h),b=3*(m-c)-I,C=v-h-I-b,w=3*(_-f),y=3*(p-_)-w,P=S-f-w-y,T,M;if(u===0)T=a===0?h:a===1?v:((C*a+b)*a+I)*a+h,M=a===0?f:a===1?S:((P*a+y)*a+w)*a+f;else{var E=1e-8,z=1-E;if(a<E?(T=I,M=w):a>z?(T=3*(v-m),M=3*(S-p)):(T=(3*C*a+2*b)*a+I,M=(3*P*a+2*y)*a+w),l){T===0&&M===0&&(a<E||a>z)&&(T=m-c,M=p-_);var A=Math.sqrt(T*T+M*M);A&&(T/=A,M/=A)}if(u===3){var m=6*C*a+2*b,p=6*P*a+2*y,L=Math.pow(T*T+M*M,3/2);T=L!==0?(T*p-M*m)/L:0,M=0}}return u===2?new N(M,-T):new N(T,M)}return{statics:{classify:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=a*(m-c)+u*(f-_)+_*c-m*f,v=l*(u-m)+h*(_-a)+a*m-u*_,S=f*(h-u)+c*(a-l)+l*u-h*a,k=3*S,I=k-v,b=I-v+p,C=Math.sqrt(b*b+I*I+k*k),w=C!==0?1/C:0,y=Y.isZero,P="serpentine";b*=w,I*=w,k*=w;function T(A,L,R){var O=L!==o,D=O&&L>0&&L<1,B=O&&R>0&&R<1;return O&&(!(D||B)||A==="loop"&&!(D&&B))&&(A="arch",D=B=!1),{type:A,roots:D||B?D&&B?L<R?[L,R]:[R,L]:[D?L:R]:null}}if(y(b))return y(I)?T(y(k)?"line":"quadratic"):T(P,k/(3*I));var M=3*I*I-4*b*k;if(y(M))return T("cusp",I/(2*b));var E=M>0?Math.sqrt(M/3):Math.sqrt(-M),z=2*b;return T(M>0?P:"loop",(I+E)/z,(I-E)/z)},getLength:function(i,a,u,l){if(a===o&&(a=0),u===o&&(u=1),ne.isStraight(i)){var h=i;u<1&&(h=ne.subdivide(h,u)[0],a/=u),a>0&&(h=ne.subdivide(h,a)[1]);var f=h[6]-h[0],c=h[7]-h[1];return Math.sqrt(f*f+c*c)}return Y.integrate(l||r(i),a,u,e(a,u))},getTimeAt:function(i,a,u){if(u===o&&(u=a<0?1:0),a===0)return u;var l=Math.abs,h=1e-12,f=a>0,c=f?u:0,_=f?1:u,m=r(i),p=ne.getLength(i,c,_,m),v=l(a)-p;if(l(v)<h)return f?_:c;if(v>h)return null;var S=a/p,k=0;function I(b){return k+=Y.integrate(m,u,b,e(u,b)),u=b,k-a}return Y.findRoot(I,m,u+S,c,_,32,1e-12)},getPoint:function(i,a){return t(i,a,0,!1)},getTangent:function(i,a){return t(i,a,1,!0)},getWeightedTangent:function(i,a){return t(i,a,1,!1)},getNormal:function(i,a){return t(i,a,2,!0)},getWeightedNormal:function(i,a){return t(i,a,2,!1)},getCurvature:function(i,a){return t(i,a,3,!1).x},getPeaks:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=-a+3*l-3*f+_,v=3*a-6*l+3*f,S=-3*a+3*l,k=-u+3*h-3*c+m,I=3*u-6*h+3*c,b=-3*u+3*h,C=1e-8,w=1-C,y=[];return Y.solveCubic(9*(p*p+k*k),9*(p*v+I*k),2*(v*v+I*I)+3*(S*p+b*k),S*v+I*b,y,C,w),y.sort()}}}},new function(){function r(v,S,k,I,b,C,w){var y=!w&&k.getPrevious()===b,P=!w&&k!==b&&k.getNext()===b,T=1e-8,M=1-T;if(I!==null&&I>=(y?T:0)&&I<=(P?M:1)&&C!==null&&C>=(P?T:0)&&C<=(y?M:1)){var E=new Xe(k,I,null,w),z=new Xe(b,C,null,w);E._intersection=z,z._intersection=E,(!S||S(E))&&Xe.insert(v,E,!0)}}function e(v,S,k,I,b,C,w,y,P,T,M,E,z){if(++P>=4096||++y>=40)return P;var A=1e-9,L=S[0],R=S[1],O=S[6],D=S[7],B=ue.getSignedDistance,V=B(L,R,O,D,S[2],S[3]),U=B(L,R,O,D,S[4],S[5]),W=V*U>0?3/4:4/9,$=W*Math.min(0,V,U),re=W*Math.max(0,V,U),le=B(L,R,O,D,v[0],v[1]),he=B(L,R,O,D,v[2],v[3]),ee=B(L,R,O,D,v[4],v[5]),ie=B(L,R,O,D,v[6],v[7]),fe=t(le,he,ee,ie),ge=fe[0],pe=fe[1],Se,xe;if(V===0&&U===0&&le===0&&he===0&&ee===0&&ie===0||(Se=i(ge,pe,$,re))==null||(xe=i(ge.reverse(),pe.reverse(),$,re))==null)return P;var be=T+(M-T)*Se,ke=T+(M-T)*xe;if(Math.max(z-E,ke-be)<A){var Me=(be+ke)/2,Ze=(E+z)/2;r(b,C,w?I:k,w?Ze:Me,w?k:I,w?Me:Ze)}else{v=ne.getPart(v,Se,xe);var Ye=z-E;if(xe-Se>.8)if(ke-be>Ye){var Ge=ne.subdivide(v,.5),Me=(be+ke)/2;P=e(S,Ge[0],I,k,b,C,!w,y,P,E,z,be,Me),P=e(S,Ge[1],I,k,b,C,!w,y,P,E,z,Me,ke)}else{var Ge=ne.subdivide(S,.5),Ze=(E+z)/2;P=e(Ge[0],v,I,k,b,C,!w,y,P,E,Ze,be,ke),P=e(Ge[1],v,I,k,b,C,!w,y,P,Ze,z,be,ke)}else Ye===0||Ye>=A?P=e(S,v,I,k,b,C,!w,y,P,E,z,be,ke):P=e(v,S,k,I,b,C,w,y,P,be,ke,E,z)}return P}function t(v,S,k,I){var b=[0,v],C=[1/3,S],w=[2/3,k],y=[1,I],P=S-(2*v+I)/3,T=k-(v+2*I)/3,M;if(P*T<0)M=[[b,C,y],[b,w,y]];else{var E=P/T;M=[E>=2?[b,C,y]:E<=.5?[b,w,y]:[b,C,w,y],[b,y]]}return(P||T)<0?M.reverse():M}function i(v,S,k,I){return v[0][1]<k?a(v,!0,k):S[0][1]>I?a(S,!1,I):v[0][0]}function a(v,S,k){for(var I=v[0][0],b=v[0][1],C=1,w=v.length;C<w;C++){var y=v[C][0],P=v[C][1];if(S?P>=k:P<=k)return P===k?y:I+(k-b)*(y-I)/(P-b);I=y,b=P}return null}function u(v,S,k,I,b){var C=Y.isZero;if(C(I)&&C(b)){var w=ne.getTimeOf(v,new N(S,k));return w===null?[]:[w]}for(var y=Math.atan2(-b,I),P=Math.sin(y),T=Math.cos(y),M=[],E=[],z=0;z<8;z+=2){var A=v[z]-S,L=v[z+1]-k;M.push(A*T-L*P,A*P+L*T)}return ne.solveCubic(M,1,0,E,0,1),E}function l(v,S,k,I,b,C,w){for(var y=S[0],P=S[1],T=S[6],M=S[7],E=u(v,y,P,T-y,M-P),z=0,A=E.length;z<A;z++){var L=E[z],R=ne.getPoint(v,L),O=ne.getTimeOf(S,R);O!==null&&r(b,C,w?I:k,w?O:L,w?k:I,w?L:O)}}function h(v,S,k,I,b,C){var w=ue.intersect(v[0],v[1],v[6],v[7],S[0],S[1],S[6],S[7]);w&&r(b,C,k,ne.getTimeOf(v,w),I,ne.getTimeOf(S,w))}function f(v,S,k,I,b,C){var w=1e-12,y=Math.min,P=Math.max;if(P(v[0],v[2],v[4],v[6])+w>y(S[0],S[2],S[4],S[6])&&y(v[0],v[2],v[4],v[6])-w<P(S[0],S[2],S[4],S[6])&&P(v[1],v[3],v[5],v[7])+w>y(S[1],S[3],S[5],S[7])&&y(v[1],v[3],v[5],v[7])-w<P(S[1],S[3],S[5],S[7])){var T=m(v,S);if(T)for(var M=0;M<2;M++){var E=T[M];r(b,C,k,E[0],I,E[1],!0)}else{var z=ne.isStraight(v),A=ne.isStraight(S),L=z&&A,R=z&&!A,O=b.length;if((L?h:z||A?l:e)(R?S:v,R?v:S,R?I:k,R?k:I,b,C,R,0,0,0,1,0,1),!L||b.length===O)for(var M=0;M<4;M++){var D=M>>1,B=M&1,V=D*6,U=B*6,W=new N(v[V],v[V+1]),$=new N(S[U],S[U+1]);W.isClose($,w)&&r(b,C,k,D,I,B)}}}return b}function c(v,S,k,I){var b=ne.classify(v);if(b.type==="loop"){var C=b.roots;r(k,I,S,C[0],S,C[1])}return k}function _(v,S,k,I,b,C){var w=1e-7,y=!S;y&&(S=v);for(var P=v.length,T=S.length,M=new Array(P),E=y?M:new Array(T),z=[],A=0;A<P;A++)M[A]=v[A].getValues(I);if(!y)for(var A=0;A<T;A++)E[A]=S[A].getValues(b);for(var L=K.findCurveBoundsCollisions(M,E,w),R=0;R<P;R++){var O=v[R],D=M[R];y&&c(D,O,z,k);var B=L[R];if(B)for(var V=0;V<B.length;V++){if(C&&z.length)return z;var U=B[V];if(!y||U>R){var W=S[U],$=E[U];f(D,$,O,W,z,k)}}}return z}function m(v,S){function k(ie){var fe=ie[6]-ie[0],ge=ie[7]-ie[1];return fe*fe+ge*ge}var I=Math.abs,b=ue.getDistance,C=1e-8,w=1e-7,y=ne.isStraight(v),P=ne.isStraight(S),T=y&&P,M=k(v)<k(S),E=M?S:v,z=M?v:S,A=E[0],L=E[1],R=E[6]-A,O=E[7]-L;if(b(A,L,R,O,z[0],z[1],!0)<w&&b(A,L,R,O,z[6],z[7],!0)<w)!T&&b(A,L,R,O,E[2],E[3],!0)<w&&b(A,L,R,O,E[4],E[5],!0)<w&&b(A,L,R,O,z[2],z[3],!0)<w&&b(A,L,R,O,z[4],z[5],!0)<w&&(y=P=T=!0);else if(T)return null;if(y^P)return null;for(var D=[v,S],B=[],V=0;V<4&&B.length<2;V++){var U=V&1,W=U^1,$=V>>1,re=ne.getTimeOf(D[U],new N(D[W][$?6:0],D[W][$?7:1]));if(re!=null){var le=U?[$,re]:[re,$];(!B.length||I(le[0]-B[0][0])>C&&I(le[1]-B[0][1])>C)&&B.push(le)}if(V>2&&!B.length)break}if(B.length!==2)B=null;else if(!T){var he=ne.getPart(v,B[0][0],B[1][0]),ee=ne.getPart(S,B[0][1],B[1][1]);(I(ee[2]-he[2])>w||I(ee[3]-he[3])>w||I(ee[4]-he[4])>w||I(ee[5]-he[5])>w)&&(B=null)}return B}function p(v,S){var k=v[0],I=v[1],b=v[2],C=v[3],w=v[4],y=v[5],P=v[6],T=v[7],M=S.normalize(),E=M.x,z=M.y,A=3*P-9*w+9*b-3*k,L=3*T-9*y+9*C-3*I,R=6*w-12*b+6*k,O=6*y-12*C+6*I,D=3*b-3*k,B=3*C-3*I,V=2*A*z-2*L*E,U=[];if(Math.abs(V)<Y.CURVETIME_EPSILON){var W=A*B-L*D,V=A*O-L*R;if(V!=0){var $=-W/V;$>=0&&$<=1&&U.push($)}}else{var re=(R*R-4*A*D)*z*z+(-2*R*O+4*L*D+4*A*B)*E*z+(O*O-4*L*B)*E*E,le=R*z-O*E;if(re>=0&&V!=0){var he=Math.sqrt(re),ee=-(le+he)/V,ie=(-le+he)/V;ee>=0&&ee<=1&&U.push(ee),ie>=0&&ie<=1&&U.push(ie)}}return U}return{getIntersections:function(v){var S=this.getValues(),k=v&&v!==this&&v.getValues();return k?f(S,k,this,v,[]):c(S,this,[])},statics:{getOverlaps:m,getIntersections:_,getCurveLineIntersections:u,getTimesWithTangent:p}}}),Xe=g.extend({_class:"CurveLocation",initialize:function(e,t,i,a,u){if(t>=.99999999){var l=e.getNext();l&&(t=0,e=l)}this._setCurve(e),this._time=t,this._point=i||e.getPointAtTime(t),this._overlap=a,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var e=r.getCurve();e?this._setCurve(e):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var e=this.getCurve(),t=this.getTime();t===0?r=e._segment1:t===1?r=e._segment2:t!=null&&(r=e.getPartLength(0,t)<e.getPartLength(t,1)?e._segment1:e._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,e=this;r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function t(i){var a=i&&i.getCurve();if(a&&(e._time=a.getTimeOf(e._point))!=null)return e._setCurve(a),a}return this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),e=this._time;return r&&e==null?this._time=r.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(r==null){r=0;var e=this.getPath(),t=this.getIndex();if(e&&t!=null)for(var i=e.getCurves(),a=0;a<t;a++)r+=i[a].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(r==null){var e=this.getCurve(),t=this.getTime();this._curveOffset=r=t!=null&&e&&e.getPartLength(0,t)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),e=r&&r.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var r=this.getCurve(),e=r._path,t=r&&r.splitAtTime(this.getTime());return t&&this._setSegment(e.getLastSegment()),t},equals:function(r,e){var t=this===r;if(!t&&r instanceof Xe){var i=this.getCurve(),a=r.getCurve(),u=i._path,l=a._path;if(u===l){var h=Math.abs,f=1e-7,c=h(this.getOffset()-r.getOffset()),_=!e&&this._intersection,m=!e&&r._intersection;t=(c<f||u&&h(u.getLength()-c)<f)&&(!_&&!m||_&&m&&_.equals(m,!0))}}return t},toString:function(){var r=[],e=this.getPoint(),t=ae.instance;e&&r.push("point: "+e);var i=this.getIndex();i!=null&&r.push("index: "+i);var a=this.getTime();return a!=null&&r.push("time: "+t.number(a)),this._distance!=null&&r.push("distance: "+t.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var e=this.getCurve(),t=r.getCurve();return!(e.isStraight()&&t.isStraight()&&e.getLine().intersect(t.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var e=this.getTime(),t=r.getTime(),i=1e-8,a=1-i,u=e>=i&&e<=a,l=t>=i&&t<=a;if(u&&l)return!this.isTouching();var h=this.getCurve(),f=h&&e<i?h.getPrevious():h,c=r.getCurve(),_=c&&t<i?c.getPrevious():c;if(e>a&&(h=h.getNext()),t>a&&(c=c.getNext()),!f||!h||!_||!c)return!1;var m=[];function p(E,z){var A=E.getValues(),L=ne.classify(A).roots||ne.getPeaks(A),R=L.length,O=ne.getLength(A,z&&R?L[R-1]:0,!z&&R?L[0]:1);m.push(R?O:O/32)}function v(E,z,A){return z<A?E>z&&E<A:E>z||E<A}u||(p(f,!0),p(h,!1)),l||(p(_,!0),p(c,!1));var S=this.getPoint(),k=Math.min.apply(Math,m),I=u?h.getTangentAtTime(e):h.getPointAt(k).subtract(S),b=u?I.negate():f.getPointAt(-k).subtract(S),C=l?c.getTangentAtTime(t):c.getPointAt(k).subtract(S),w=l?C.negate():_.getPointAt(-k).subtract(S),y=b.getAngle(),P=I.getAngle(),T=w.getAngle(),M=C.getAngle();return!!(u?v(y,T,M)^v(P,T,M)&&v(y,M,T)^v(P,M,T):v(T,y,P)^v(M,y,P)&&v(T,P,y)^v(M,P,y))},hasOverlap:function(){return!!this._overlap}},g.each(ne._evaluateMethods,function(r){var e=r+"At";this[r]=function(){var t=this.getCurve(),i=this.getTime();return i!=null&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function r(e,t,i){var a=e.length,u=0,l=a-1;function h(S,k){for(var I=S+k;I>=-1&&I<=a;I+=k){var b=e[(I%a+a)%a];if(!t.getPoint().isClose(b.getPoint(),1e-7))break;if(t.equals(b))return b}return null}for(;u<=l;){var f=u+l>>>1,c=e[f],_;if(i&&(_=t.equals(c)?c:h(f,-1)||h(f,1)))return t._overlap&&(_._overlap=_._intersection._overlap=!0),_;var m=t.getPath(),p=c.getPath(),v=m!==p?m._id-p._id:t.getIndex()+t.getTime()-(c.getIndex()+c.getTime());v<0?l=f-1:u=f+1}return e.splice(u,0,t),t}return{statics:{insert:r,expand:function(e){for(var t=e.slice(),i=e.length-1;i>=0;i--)r(t,e[i]._intersection,!1);return t}}}}),Ce=se.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var e,t,i;if(g.isPlainObject(r)?(t=r.segments,e=r.pathData):Array.isArray(r)?t=r:typeof r=="string"&&(e=r),t){var a=t[0];i=a&&Array.isArray(a[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?Ie:ve;return new u(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var e=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),t,i=!1,a,u,l=new N,h=new N;function f(w,y){var P=+t[w];return i&&(P+=l[y]),P}function c(w){return new N(f(w,"x"),f(w+1,"y"))}this.clear();for(var _=0,m=e&&e.length;_<m;_++){var p=e[_],v=p[0],S=v.toLowerCase();t=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var k=t&&t.length;switch(i=v===S,a==="z"&&!/[mz]/.test(S)&&this.moveTo(l),S){case"m":case"l":for(var I=S==="m",b=0;b<k;b+=2)this[I?"moveTo":"lineTo"](l=c(b)),I&&(h=l,I=!1);u=l;break;case"h":case"v":var C=S==="h"?"x":"y";l=l.clone();for(var b=0;b<k;b++)l[C]=f(b,C),this.lineTo(l);u=l;break;case"c":for(var b=0;b<k;b+=6)this.cubicCurveTo(c(b),u=c(b+2),l=c(b+4));break;case"s":for(var b=0;b<k;b+=4)this.cubicCurveTo(/[cs]/.test(a)?l.multiply(2).subtract(u):l,u=c(b),l=c(b+2)),a=S;break;case"q":for(var b=0;b<k;b+=4)this.quadraticCurveTo(u=c(b),l=c(b+2));break;case"t":for(var b=0;b<k;b+=2)this.quadraticCurveTo(u=/[qt]/.test(a)?l.multiply(2).subtract(u):l,l=c(b)),a=S;break;case"a":for(var b=0;b<k;b+=7)this.arcTo(l=c(b+5),new J(+t[b],+t[b+1]),+t[b+2],+t[b+4],+t[b+3]);break;case"z":this.closePath(1e-12),l=h;break}a=S}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var e=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(r,e,t,i){var a=this===r||!r,u=this._matrix._orNullIfIdentity(),l=a?u:(t||r._matrix)._orNullIfIdentity();return a||this.getBounds(u).intersects(r.getBounds(l),1e-12)?ne.getIntersections(this.getCurves(),!a&&r.getCurves(),e,u,l,i):[]},getCrossings:function(r){return this.getIntersections(r,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var r=N.read(arguments),e=this.getCurves(),t=1/0,i=null,a=0,u=e.length;a<u;a++){var l=e[a].getNearestLocation(r);l._distance<t&&(t=l._distance,i=l)}return i},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,e,t){var i=!this._children,a=i?"_segments":"_children",u=r[a],l=e[a],h=this[a];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+e);var f=h.length,c=l.length;if(f<c)for(var _=i?de:ve,m=f;m<c;m++)this.add(new _);else f>c&&this[i?"removeSegments":"removeChildren"](c,f);for(var m=0;m<c;m++)h[m].interpolate(u[m],l[m],t);i&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var e=!1;if(r){var t=this._children||[this],i=r._children?r._children.slice():[r],a=t.length,u=i.length,l=[],h=0;e=!0;for(var f=K.findItemBoundsCollisions(t,i,Y.GEOMETRIC_EPSILON),c=a-1;c>=0&&e;c--){var _=t[c];e=!1;var m=f[c];if(m)for(var p=m.length-1;p>=0&&!e;p--)_.compare(i[m[p]])&&(l[m[p]]||(l[m[p]]=!0,h++),e=!0)}e=e&&h===u}return e}}),ve=Ce.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:t:e&&e.size===o&&(e.x!==o||e.point!==o)?t:null;i&&i.length>0?this.setSegments(i):(this._curves=o,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(r){return this._closed===r._closed&&g.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(e){if(r.base.call(this,e),e&8){if(this._length=this._area=o,e&32)this._version++;else if(this._curves)for(var t=0,i=this._curves.length;t<i;t++)this._curves[t]._changed()}else e&64&&(this._bounds=o)},getStyle:function(){var r=this._parent;return(r instanceof Ie?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var e=this.isFullySelected(),t=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,t){var i=r[t-1];typeof i=="boolean"&&(this.setClosed(i),t--),this._add(de.readList(r,0,{},t))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,e=this._segments;if(!r){var t=this._countCurves();r=this._curves=new Array(t);for(var i=0;i<t;i++)r[i]=new ne(this,e[i],e[i+1]||e[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var e=this._curves.length=this._countCurves();r&&(this._curves[e-1]=new ne(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,e){var t=this._segments,i=t.length,a=new ae(e),u=new Array(6),l=!0,h,f,c,_,m,p,v,S,k=[];function I(C,w){if(C._transformCoordinates(r,u),h=u[0],f=u[1],l)k.push("M"+a.pair(h,f)),l=!1;else if(m=u[2],p=u[3],m===h&&p===f&&v===c&&S===_){if(!w){var y=h-c,P=f-_;k.push(y===0?"v"+a.number(P):P===0?"h"+a.number(y):"l"+a.pair(y,P))}}else k.push("c"+a.pair(v-c,S-_)+" "+a.pair(m-c,p-_)+" "+a.pair(h-c,f-_));c=h,_=f,v=u[4],S=u[5]}if(!i)return"";for(var b=0;b<i;b++)I(t[b]);return this._closed&&i>0&&(I(t[0],!0),k.push("z")),k.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var e=this._segments,t=new Array(6),i=0,a=e.length;i<a;i++)e[i]._transformCoordinates(r,t,!0);return!0},_add:function(r,l){for(var t=this._segments,i=this._curves,a=r.length,u=l==null,l=u?t.length:l,h=0;h<a;h++){var f=r[h];f._path&&(f=r[h]=f.clone()),f._path=this,f._index=l+h,f._selection&&this._updateSelection(f,0,f._selection)}if(u)g.push(t,r);else{t.splice.apply(t,[l,0].concat(r));for(var h=l+a,c=t.length;h<c;h++)t[h]._index=h}if(i){var _=this._countCurves(),m=l>0&&l+a-1===_?l-1:l,p=m,v=Math.min(m+a,_);r._curves&&(i.splice.apply(i,[m,0].concat(r._curves)),p+=r._curves.length);for(var h=p;h<v;h++)i.splice(h,0,new ne(this,null,null));this._adjustCurves(m,v)}return this._changed(41),r},_adjustCurves:function(r,e){for(var t=this._segments,i=this._curves,a,u=r;u<e;u++)a=i[u],a._path=this,a._segment1=t[u],a._segment2=t[u+1]||t[0],a._changed();(a=i[this._closed&&!r?t.length-1:r-1])&&(a._segment2=t[r]||t[0],a._changed()),(a=i[e])&&(a._segment1=t[e],a._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var e=arguments;return e.length>1&&typeof r!="number"?this._add(de.readList(e)):this._add([de.read(e)])[0]},insert:function(r,e){var t=arguments;return t.length>2&&typeof e!="number"?this._add(de.readList(t,1),r):this._add([de.read(t,1)],r)[0]},addSegment:function(){return this._add([de.read(arguments)])[0]},insertSegment:function(r){return this._add([de.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(de.readList(r))},insertSegments:function(r,e){return this._add(de.readList(e),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,e,t){r=r||0,e=g.pick(e,this._segments.length);var i=this._segments,a=this._curves,u=i.length,l=i.splice(r,e-r),h=l.length;if(!h)return l;for(var f=0;f<h;f++){var c=l[f];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var f=r,_=i.length;f<_;f++)i[f]._index=f;if(a){for(var m=r>0&&e===u+(this._closed?1:0)?r-1:r,a=a.splice(m,h),f=a.length-1;f>=0;f--)a[f]._path=null;t&&(l._curves=a.slice(1)),this._adjustCurves(m,m)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)if(r[e].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)r[e].clearHandles()},getLength:function(){if(this._length==null){for(var r=this.getCurves(),e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();this._length=e}return this._length},getArea:function(){var r=this._area;if(r==null){var e=this._segments,t=this._closed;r=0;for(var i=0,a=e.length;i<a;i++){var u=i+1===a;r+=ne.getArea(ne.getValues(e[i],e[u?0:i+1],null,u&&!t))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===r*7},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(e){e&1||this._selectSegments(!1),r.base.call(this,e)},_selectSegments:function(r){var e=this._segments,t=e.length,i=r?7:0;this._segmentSelection=i*t;for(var a=0;a<t;a++)e[a]._selection=i},_updateSelection:function(r,e,t){r._selection=t;var i=this._segmentSelection+=t-e;i>0&&this.setSelected(!0)},divideAt:function(r){var e=this.getLocationAt(r),t;return e&&(t=e.getCurve().divideAt(e.getCurveOffset()))?t._segment1:null},splitAt:function(r){var e=this.getLocationAt(r),t=e&&e.index,i=e&&e.time,a=1e-8,u=1-a;i>u&&(t++,i=0);var l=this.getCurves();if(t>=0&&t<l.length){i>=a&&l[t++].divideAtTime(i);var h=this.removeSegments(t,this._segments.length,!0),f;return this._closed?(this.setClosed(!1),f=this):(f=new ve(se.NO_INSERT),f.insertAbove(this),f.copyAttributes(this)),f._add(h,0),this.addSegment(h[0]),f}return null},split:function(r,e){var t,i=e===o?r:(t=this.getCurves()[r])&&t.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(r,e){var t=e||0;if(r&&r!==this){var i=r._segments,a=this.getLastSegment(),u=r.getLastSegment();if(!u)return this;a&&a._point.isClose(u._point,t)&&r.reverse();var l=r.getFirstSegment();if(a&&a._point.isClose(l._point,t))a.setHandleOut(l._handleOut),this._add(i.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(l._point,t)&&r.reverse(),u=r.getLastSegment(),h&&h._point.isClose(u._point,t)?(h.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}r._closed&&this._add([i[0]]),r.remove()}var f=this.getFirstSegment(),c=this.getLastSegment();return f!==c&&f._point.isClose(c._point,t)&&(f.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(r){for(var e=this.getCurves(),t=r&&r.simplify,i=t?1e-7:0,a=e.length-1;a>=0;a--){var u=e[a];!u.hasHandles()&&(!u.hasLength(i)||t&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,e=this._segments.length;r<e;r++){var t=this._segments[r],i=t._handleIn;t._handleIn=t._handleOut,t._handleOut=i,t._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var e=new We(this,r||.25,256,!0),t=e.parts,i=t.length,a=[],u=0;u<i;u++)a.push(new de(t[u].curve.slice(0,2)));!this._closed&&i>0&&a.push(new de(t[i-1].curve.slice(6))),this.setSegments(a)},simplify:function(r){var e=new ot(this).fit(r||2.5);return e&&this.setSegments(e),!!e},smooth:function(r){var e=this,t=r||{},i=t.type||"asymmetric",a=this._segments,u=a.length,l=this._closed;function h(ge,pe){var Se=ge&&ge.index;if(Se!=null){var xe=ge.path;if(xe&&xe!==e)throw new Error(ge._class+" "+Se+" of "+xe+" is not part of "+e);pe&&ge instanceof ne&&Se++}else Se=typeof ge=="number"?ge:pe;return Math.min(Se<0&&l?Se%u:Se<0?Se+u:Se,u-1)}var f=l&&t.from===o&&t.to===o,c=h(t.from,0),_=h(t.to,u-1);if(c>_)if(l)c-=u;else{var m=c;c=_,_=m}if(/^(?:asymmetric|continuous)$/.test(i)){var p=i==="asymmetric",v=Math.min,S=_-c+1,k=S-1,I=f?v(S,4):1,b=I,C=I,w=[];if(l||(b=v(1,c),C=v(1,u-_-1)),k+=b+C,k<=1)return;for(var y=0,P=c-b;y<=k;y++,P++)w[y]=a[(P<0?P+u:P)%u]._point;for(var T=w[0]._x+2*w[1]._x,M=w[0]._y+2*w[1]._y,E=2,z=k-1,A=[T],L=[M],R=[E],O=[],D=[],y=1;y<k;y++){var B=y<z,V=B||p?1:2,U=B?4:p?2:7,W=B?4:p?3:8,$=B?2:p?0:1,re=V/E;E=R[y]=U-re,T=A[y]=W*w[y]._x+$*w[y+1]._x-re*T,M=L[y]=W*w[y]._y+$*w[y+1]._y-re*M}O[z]=A[z]/R[z],D[z]=L[z]/R[z];for(var y=k-2;y>=0;y--)O[y]=(A[y]-O[y+1])/R[y],D[y]=(L[y]-D[y+1])/R[y];O[k]=(3*w[k]._x-O[z])/2,D[k]=(3*w[k]._y-D[z])/2;for(var y=b,le=k-C,P=c;y<=le;y++,P++){var he=a[P<0?P+u:P],ee=he._point,ie=O[y]-ee._x,fe=D[y]-ee._y;(f||y<le)&&he.setHandleOut(ie,fe),(f||y>b)&&he.setHandleIn(-ie,-fe)}}else for(var y=c;y<=_;y++)a[y<0?y+u:y].smooth(t,!f&&y===c,!f&&y===_)},toShape:function(r){if(!this._closed)return null;var e=this._segments,t,i,a,u;function l(p,v){var S=e[p],k=S.getNext(),I=e[v],b=I.getNext();return S._handleOut.isZero()&&k._handleIn.isZero()&&I._handleOut.isZero()&&b._handleIn.isZero()&&k._point.subtract(S._point).isCollinear(b._point.subtract(I._point))}function h(p){var v=e[p],S=v.getPrevious(),k=v.getNext();return S._handleOut.isZero()&&v._handleIn.isZero()&&v._handleOut.isZero()&&k._handleIn.isZero()&&v._point.subtract(S._point).isOrthogonal(k._point.subtract(v._point))}function f(p){var v=e[p],S=v.getNext(),k=v._handleOut,I=S._handleIn,b=.5522847498307936;if(k.isOrthogonal(I)){var C=v._point,w=S._point,y=new ue(C,k,!0).intersect(new ue(w,I,!0),!0);return y&&Y.isZero(k.getLength()/y.subtract(C).getLength()-b)&&Y.isZero(I.getLength()/y.subtract(w).getLength()-b)}return!1}function c(p,v){return e[p]._point.getDistance(e[v]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&h(1)?(t=Ee.Rectangle,i=new J(c(0,3),c(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&f(0)&&f(2)&&f(4)&&f(6)&&l(1,5)&&l(3,7)?(t=Ee.Rectangle,i=new J(c(1,6),c(0,3)),a=i.subtract(new J(c(0,7),c(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&f(0)&&f(1)&&f(2)&&f(3)&&(Y.isZero(c(0,2)-c(1,3))?(t=Ee.Circle,a=c(0,2)/2):(t=Ee.Ellipse,a=new J(c(2,0)/2,c(3,1)/2)),u=e[1]._point),t){var _=this.getPosition(!0),m=new t({center:_,size:i,radius:a,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(u.subtract(_).getAngle()+90),(r===o||r)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function r(e){if(!e||e instanceof Ie)return r.base.call(this,e);var t=this.getCurves(),i=e.getCurves(),a=t.length,u=i.length;if(!a||!u)return a==u;for(var l=t[0].getValues(),h=[],f=0,c,_=0,m,p=0;p<u;p++){var I=i[p].getValues();h.push(I);var v=ne.getOverlaps(l,I);if(v){c=!p&&v[0][0]>0?u-1:p,m=v[0][1];break}}for(var S=Math.abs,k=1e-8,I=h[c],b;l&&I;){var v=ne.getOverlaps(l,I);if(v){var C=v[0][0];if(S(C-_)<k){_=v[1][0],_===1&&(l=++f<a?t[f].getValues():null,_=0);var w=v[0][1];if(S(w-m)<k){if(b||(b=[c,w]),m=v[1][1],m===1&&(++c>=u&&(c=0),I=h[c]||i[c].getValues(),m=0),!l)return b[0]===c&&b[1]===m;continue}}}break}return!1},_hitTestSelf:function(r,e,t,i){var a=this,u=this.getStyle(),l=this._segments,h=l.length,f=this._closed,c=e._tolerancePadding,_=c,m,p,v,S,k,I,b=e.stroke&&u.hasStroke(),C=e.fill&&u.hasFill(),w=e.curves,y=b?u.getStrokeWidth()/2:C&&e.tolerance>0||w?0:null;y!==null&&(y>0?(m=u.getStrokeJoin(),p=u.getStrokeCap(),v=u.getMiterLimit(),_=_.add(ve._getStrokePadding(y,i))):m=p="round");function P(O,D){return r.subtract(O).divide(D).length<=1}function T(O,D,B){if(!e.selected||D.isSelected()){var V=O._point;if(D!==V&&(D=D.add(V)),P(D,_))return new Ue(B,a,{segment:O,point:D})}}function M(O,D){return(D||e.segments)&&T(O,O._point,"segment")||!D&&e.handles&&(T(O,O._handleIn,"handle-in")||T(O,O._handleOut,"handle-out"))}function E(O){S.add(O)}function z(O){var D=f||O._index>0&&O._index<h-1;if((D?m:p)==="round")return P(O._point,_);if(S=new ve({internal:!0,closed:!0}),D?O.isSmooth()||ve._addBevelJoin(O,m,y,v,null,i,E,!0):p==="square"&&ve._addSquareCap(O,p,y,null,i,E,!0),!S.isEmpty()){var B;return S.contains(r)||(B=S.getNearestLocation(r))&&P(B.getPoint(),c)}}if(e.ends&&!e.segments&&!f){if(I=M(l[0],!0)||M(l[h-1],!0))return I}else if(e.segments||e.handles){for(var A=0;A<h;A++)if(I=M(l[A]))return I}if(y!==null){if(k=this.getNearestLocation(r),k){var L=k.getTime();L===0||L===1&&h>1?z(k.getSegment())||(k=null):P(k.getPoint(),_)||(k=null)}if(!k&&m==="miter"&&h>1)for(var A=0;A<h;A++){var R=l[A];if(r.getDistance(R._point)<=v*y&&z(R)){k=R.getLocation();break}}}return!k&&C&&this._contains(r)||k&&!b&&!w?new Ue("fill",this):k?new Ue(b?"stroke":"curve",this,{location:k,point:k.getPoint()}):null}},g.each(ne._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this.getLocationAt(e);return t&&t[r]()}},{beans:!1,getLocationOf:function(){for(var r=N.read(arguments),e=this.getCurves(),t=0,i=e.length;t<i;t++){var a=e[t].getLocationOf(r);if(a)return a}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if(typeof r=="number"){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++){var u=t,l=e[i];if(t+=l.getLength(),t>r)return l.getLocationAt(r-u)}if(e.length>0&&r<=this.getLength())return new Xe(e[e.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=N.read(arguments);if(r.isZero())return[];for(var e=[],t=0,i=this.getCurves(),a=0,u=i.length;a<u;a++){for(var l=i[a],h=l.getTimesWithTangent(r),f=0,c=h.length;f<c;f++){var _=t+l.getOffsetAtTime(h[f]);e.indexOf(_)<0&&e.push(_)}t+=l.length}return e}}),new function(){function r(t,i,a,u){if(u<=0)return;var l=u/2,h=u-2,f=l-1,c=new Array(6),_,m;function p(C){var w=c[C],y=c[C+1];(_!=w||m!=y)&&(t.beginPath(),t.moveTo(_,m),t.lineTo(w,y),t.stroke(),t.beginPath(),t.arc(w,y,l,0,Math.PI*2,!0),t.fill())}for(var v=0,S=i.length;v<S;v++){var k=i[v],I=k._selection;if(k._transformCoordinates(a,c),_=c[0],m=c[1],I&2&&p(2),I&4&&p(4),t.fillRect(_-l,m-l,u,u),h>0&&!(I&1)){var b=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(_-f,m-f,h,h),t.fillStyle=b}}}function e(t,i,a){var u=i._segments,l=u.length,h=new Array(6),f=!0,c,_,m,p,v,S,k,I;function b(w){if(a)w._transformCoordinates(a,h),c=h[0],_=h[1];else{var y=w._point;c=y._x,_=y._y}if(f)t.moveTo(c,_),f=!1;else{if(a)v=h[2],S=h[3];else{var P=w._handleIn;v=c+P._x,S=_+P._y}v===c&&S===_&&k===m&&I===p?t.lineTo(c,_):t.bezierCurveTo(k,I,v,S,c,_)}if(m=c,p=_,a)k=h[4],I=h[5];else{var P=w._handleOut;k=m+P._x,I=p+P._y}}for(var C=0;C<l;C++)b(u[C]);i._closed&&l>0&&b(u[0])}return{_draw:function(t,i,a,u){var l=i.dontStart,h=i.dontFinish||i.clip,f=this.getStyle(),c=f.hasFill(),_=f.hasStroke(),m=f.getDashArray(),p=!je.support.nativeDash&&_&&m&&m.length;l||t.beginPath(),(c||_&&!p||h)&&(e(t,this,u),this._closed&&t.closePath());function v(w){return m[(w%p+p)%p]}if(!h&&(c||_)&&(this._setStyles(t,i,a),c&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),_)){if(p){l||t.beginPath();for(var S=new We(this,.25,32,!1,u),k=S.length,I=-f.getDashOffset(),b,C=0;I>0;)I-=v(C--)+v(C--);for(;I<k;)b=I+v(C++),(I>0||b>0)&&S.drawPart(t,Math.max(I,0),Math.max(b,0)),I=b+v(C++)}t.stroke()}},_drawSelected:function(t,i){t.beginPath(),e(t,this,i),t.stroke(),r(t,this._segments,i,je.settings.handleSize)}}},new function(){function r(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new de(N.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new de(N.read(arguments))])},cubicCurveTo:function(){var e=arguments,t=N.read(e),i=N.read(e),a=N.read(e),u=r(this);u.setHandleOut(t.subtract(u._point)),this._add([new de(a,i.subtract(a))])},quadraticCurveTo:function(){var e=arguments,t=N.read(e),i=N.read(e),a=r(this)._point;this.cubicCurveTo(t.add(a.subtract(t).multiply(1/3)),t.add(i.subtract(t).multiply(1/3)),i)},curveTo:function(){var e=arguments,t=N.read(e),i=N.read(e),a=g.pick(g.read(e),.5),u=1-a,l=r(this)._point,h=t.subtract(l.multiply(u*u)).subtract(i.multiply(a*a)).divide(2*a*u);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+a);this.quadraticCurveTo(h,i)},arcTo:function(){var e=arguments,t=Math.abs,i=Math.sqrt,a=r(this),u=a._point,l=N.read(e),h,f=g.peek(e),c=g.pick(f,!0),_,m,p,v;if(typeof c=="boolean")var S=u.add(l).divide(2),h=S.add(S.subtract(u).rotate(c?-90:90));else if(g.remain(e)<=2)h=l,l=N.read(e);else if(!u.equals(l)){var k=J.read(e),I=Y.isZero;if(I(k.width)||I(k.height))return this.lineTo(l);var b=g.read(e),c=!!g.read(e),C=!!g.read(e),S=u.add(l).divide(2),w=u.subtract(S).rotate(-b),y=w.x,P=w.y,T=t(k.width),M=t(k.height),E=T*T,z=M*M,A=y*y,L=P*P,R=i(A/E+L/z);if(R>1&&(T*=R,M*=R,E=T*T,z=M*M),R=(E*z-E*L-z*A)/(E*L+z*A),t(R)<1e-12&&(R=0),R<0)throw new Error("Cannot create an arc with the given arguments");_=new N(T*P/M,-M*y/T).multiply((C===c?-1:1)*i(R)).rotate(b).add(S),v=new G().translate(_).rotate(b).scale(T,M),p=v._inverseTransform(u),m=p.getDirectedAngle(v._inverseTransform(l)),!c&&m>0?m-=360:c&&m<0&&(m+=360)}if(h){var O=new ue(u.add(h).divide(2),h.subtract(u).rotate(90),!0),D=new ue(h.add(l).divide(2),l.subtract(h).rotate(90),!0),B=new ue(u,l),V=B.getSide(h);if(_=O.intersect(D,!0),!_){if(!V)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(_),m=p.getDirectedAngle(l.subtract(_));var U=B.getSide(_,!0);U===0?m=V*t(m):V===U&&(m+=m<0?360:-360)}if(m){for(var W=1e-7,$=t(m),re=$>=360?4:Math.ceil(($-W)/90),le=m/re,he=le*Math.PI/360,ee=4/3*Math.sin(he)/(1+Math.cos(he)),ie=[],fe=0;fe<=re;fe++){var w=l,ge=null;if(fe<re&&(ge=p.rotate(90).multiply(ee),v?(w=v._transformPoint(p),ge=v._transformPoint(p.add(ge)).subtract(w)):w=_.add(p)),!fe)a.setHandleOut(ge);else{var pe=p.rotate(-90).multiply(ee);v&&(pe=v._transformPoint(p.add(pe)).subtract(w)),ie.push(new de(w,pe,ge))}p=p.rotate(le)}this._add(ie)}},lineBy:function(){var e=N.read(arguments),t=r(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=arguments,t=N.read(e),i=N.read(e),a=g.read(e),u=r(this)._point;this.curveTo(u.add(t),u.add(i),a)},cubicCurveBy:function(){var e=arguments,t=N.read(e),i=N.read(e),a=N.read(e),u=r(this)._point;this.cubicCurveTo(u.add(t),u.add(i),u.add(a))},quadraticCurveBy:function(){var e=arguments,t=N.read(e),i=N.read(e),a=r(this)._point;this.quadraticCurveTo(a.add(t),a.add(i))},arcBy:function(){var e=arguments,t=r(this)._point,i=t.add(N.read(e)),a=g.pick(g.peek(e),!0);typeof a=="boolean"?this.arcTo(i,a):this.arcTo(i,t.add(N.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(r,e){var t=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return ve[t](this._segments,this._closed,this,r,e)},statics:{getBounds:function(r,e,t,i,a,u){var l=r[0];if(!l)return new q;var h=new Array(6),f=l._transformCoordinates(i,new Array(6)),c=f.slice(0,2),_=c.slice(),m=new Array(2);function p(k){k._transformCoordinates(i,h);for(var I=0;I<2;I++)ne._addBounds(f[I],f[I+4],h[I+2],h[I],I,u?u[I]:0,c,_,m);var b=f;f=h,h=b}for(var v=1,S=r.length;v<S;v++)p(r[v]);return e&&p(l),new q(c[0],c[1],_[0]-c[0],_[1]-c[1])},getStrokeBounds:function(r,e,t,i,a){var u=t.getStyle(),l=u.hasStroke(),h=u.getStrokeWidth(),f=l&&t._getStrokeMatrix(i,a),c=l&&ve._getStrokePadding(h,f),_=ve.getBounds(r,e,t,i,a,c);if(!l)return _;var m=h/2,p=u.getStrokeJoin(),v=u.getStrokeCap(),S=u.getMiterLimit(),k=new q(new J(c));function I(T){_=_.include(T)}function b(T){_=_.unite(k.setCenter(T._point.transform(i)))}function C(T,M){M==="round"||T.isSmooth()?b(T):ve._addBevelJoin(T,M,m,S,i,f,I)}function w(T,M){M==="round"?b(T):ve._addSquareCap(T,M,m,i,f,I)}var y=r.length-(e?0:1);if(y>0){for(var P=1;P<y;P++)C(r[P],p);e?C(r[0],p):(w(r[0],v),w(r[r.length-1],v))}return _},_getStrokePadding:function(r,e){if(!e)return[r,r];var t=new N(r,0).transform(e),i=new N(0,r).transform(e),a=t.getAngleInRadians(),u=t.getLength(),l=i.getLength(),h=Math.sin(a),f=Math.cos(a),c=Math.tan(a),_=Math.atan2(l*c,u),m=Math.atan2(l,c*u);return[Math.abs(u*Math.cos(_)*f+l*Math.sin(_)*h),Math.abs(l*Math.sin(m)*f+u*Math.cos(m)*h)]},_addBevelJoin:function(r,e,t,i,a,u,l,h){var f=r.getCurve(),c=f.getPrevious(),_=f.getPoint1().transform(a),m=c.getNormalAtTime(1).multiply(t).transform(u),p=f.getNormalAtTime(0).multiply(t).transform(u),v=m.getDirectedAngle(p);if((v<0||v>=180)&&(m=m.negate(),p=p.negate()),h&&l(_),l(_.add(m)),e==="miter"){var S=new ue(_.add(m),new N(-m.y,m.x),!0).intersect(new ue(_.add(p),new N(-p.y,p.x),!0),!0);S&&_.getDistance(S)<=i*t&&l(S)}l(_.add(p))},_addSquareCap:function(r,e,t,i,a,u,l){var h=r._point.transform(i),f=r.getLocation(),c=f.getNormal().multiply(f.getTime()===0?t:-t).transform(a);e==="square"&&(l&&(u(h.subtract(c)),u(h.add(c))),h=h.add(c.rotate(-90))),u(h.add(c)),u(h.subtract(c))},getHandleBounds:function(r,e,t,i,a){var u=t.getStyle(),l=a.stroke&&u.hasStroke(),h,f;if(l){var c=t._getStrokeMatrix(i,a),_=u.getStrokeWidth()/2,m=_;u.getStrokeJoin()==="miter"&&(m=_*u.getMiterLimit()),u.getStrokeCap()==="square"&&(m=Math.max(m,_*Math.SQRT2)),h=ve._getStrokePadding(_,c),f=ve._getStrokePadding(m,c)}for(var p=new Array(6),v=1/0,S=-v,k=v,I=S,b=0,C=r.length;b<C;b++){var w=r[b];w._transformCoordinates(i,p);for(var y=0;y<6;y+=2){var P=y?h:f,T=P?P[0]:0,M=P?P[1]:0,E=p[y],z=p[y+1],A=E-T,L=E+T,R=z-M,O=z+M;A<v&&(v=A),L>S&&(S=L),R<k&&(k=R),O>I&&(I=O)}}return new q(v,k,S-v,I-k)}}});ve.inject({statics:new function(){var r=.5522847498307936,e=[new de([-1,0],[0,r],[0,-r]),new de([0,-1],[-r,0],[r,0]),new de([1,0],[0,-r],[0,r]),new de([0,1],[r,0],[-r,0])];function t(a,u,l){var h=g.getNamed(l),f=new ve(h&&h.insert==!1&&se.NO_INSERT);return f._add(a),f._closed=u,f.set(h,{insert:!0})}function i(a,u,l){for(var h=new Array(4),f=0;f<4;f++){var c=e[f];h[f]=new de(c._point.multiply(u).add(a),c._handleIn.multiply(u),c._handleOut.multiply(u))}return t(h,!0,l)}return{Line:function(){var a=arguments;return t([new de(N.readNamed(a,"from")),new de(N.readNamed(a,"to"))],!1,a)},Circle:function(){var a=arguments,u=N.readNamed(a,"center"),l=g.readNamed(a,"radius");return i(u,new J(l),a)},Rectangle:function(){var a=arguments,u=q.readNamed(a,"rectangle"),l=J.readNamed(a,"radius",0,{readNull:!0}),h=u.getBottomLeft(!0),f=u.getTopLeft(!0),c=u.getTopRight(!0),_=u.getBottomRight(!0),m;if(!l||l.isZero())m=[new de(h),new de(f),new de(c),new de(_)];else{l=J.min(l,u.getSize(!0).divide(2));var p=l.width,v=l.height,S=p*r,k=v*r;m=[new de(h.add(p,0),null,[-S,0]),new de(h.subtract(0,v),[0,k]),new de(f.add(0,v),null,[0,-k]),new de(f.add(p,0),[-S,0],null),new de(c.subtract(p,0),null,[S,0]),new de(c.add(0,v),[0,-k],null),new de(_.subtract(0,v),null,[0,k]),new de(_.subtract(p,0),[S,0])]}return t(m,!0,a)},RoundRectangle:"#Rectangle",Ellipse:function(){var a=arguments,u=Ee._readEllipse(a);return i(u.center,u.radius,a)},Oval:"#Ellipse",Arc:function(){var a=arguments,u=N.readNamed(a,"from"),l=N.readNamed(a,"through"),h=N.readNamed(a,"to"),f=g.getNamed(a),c=new ve(f&&f.insert==!1&&se.NO_INSERT);return c.moveTo(u),c.arcTo(l,h),c.set(f)},RegularPolygon:function(){for(var a=arguments,u=N.readNamed(a,"center"),l=g.readNamed(a,"sides"),h=g.readNamed(a,"radius"),f=360/l,c=l%3===0,_=new N(0,c?-h:h),m=c?-1:.5,p=new Array(l),v=0;v<l;v++)p[v]=new de(u.add(_.rotate((v+m)*f)));return t(p,!0,a)},Star:function(){for(var a=arguments,u=N.readNamed(a,"center"),l=g.readNamed(a,"points")*2,h=g.readNamed(a,"radius1"),f=g.readNamed(a,"radius2"),c=360/l,_=new N(0,-1),m=new Array(l),p=0;p<l;p++)m[p]=new de(u.add(_.rotate(c*p).multiply(p%2?f:h)));return t(m,!0,a)}}}});var Ie=Ce.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function r(e,t){var i=t,a=i[0];a&&typeof a[0]=="number"&&(i=[i]);for(var u=t.length-1;u>=0;u--){var l=i[u];i===t&&!(l instanceof ve)&&(i=g.slice(i)),Array.isArray(l)?i[u]=new ve({segments:l,insert:!1}):l instanceof Ie&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return r.base.call(this,e,i)},reduce:function r(e){for(var t=this._children,i=t.length-1;i>=0;i--){var a=t[i].reduce(e);a.isEmpty()&&a.remove()}if(!t.length){var a=new ve(se.NO_INSERT);return a.copyAttributes(this),a.insertAbove(this),this.remove(),a}return r.base.call(this)},isClosed:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)if(!r[e]._closed)return!1;return!0},setClosed:function(r){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,e=[],t=0,i=r.length;t<i;t++)g.push(e,r[t].getCurves());return e},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getArea();return e},getLength:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();return e},getPathData:function(r,e){for(var t=this._children,i=[],a=0,u=t.length;a<u;a++){var l=t[a],h=l._matrix;i.push(l.getPathData(r&&!h.isIdentity()?r.appended(h):r,e))}return i.join("")},_hitTestChildren:function r(e,t,i){return r.base.call(this,e,t.class===ve||t.type==="path"?t:g.set({},t,{fill:!1}),i)},_draw:function(r,e,t,i){var a=this._children;if(!!a.length){e=e.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var u=0,l=a.length;u<l;u++)a[u].draw(r,e,i);if(!e.clip){this._setStyles(r,e,t);var h=this._style;h.hasFill()&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&r.stroke()}}},_drawSelected:function(r,e,t){for(var i=this._children,a=0,u=i.length;a<u;a++){var l=i[a],h=l._matrix;t[l._id]||l._drawSelected(r,h.isIdentity()?e:e.appended(h))}}},new function(){function r(e,t){var i=e._children;if(t&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=r(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var e=r(this),t=e&&e.isEmpty()?e:new ve(se.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=r(this,!0),t=e&&e.getLastSegment(),i=N.read(arguments);this.moveTo(t?i.add(t._point):i)},closePath:function(e){r(this,!0).closePath(e)}})},g.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(e){for(var t=this._children,i,a=0,u=t.length;a<u;a++)i=t[a][r](e)||i;return i}},{}));Ce.inject(new function(){var r=Math.min,e=Math.max,t=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function a(b){return b._children||[b]}function u(b,C){var w=b.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var y=a(w),P=0,T=y.length;P<T;P++){var b=y[P];!b._closed&&!b.isEmpty()&&(b.closePath(1e-12),b.getFirstSegment().setHandleIn(0,0),b.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function l(b,C,w,y,P){var T=new Ie(se.NO_INSERT);return T.addChildren(b,!0),T=T.reduce({simplify:C}),P&&P.insert==!1||T.insertAbove(y&&w.isSibling(y)&&w.getIndex()<y.getIndex()?y:w),T.copyAttributes(w,!0),T}function h(b){return b.hasOverlap()||b.isCrossing()}function f(b,C,w,y){if(y&&(y.trace==!1||y.stroke)&&/^(subtract|intersect)$/.test(w))return c(b,C,w);var P=u(b,!0),T=C&&b!==C&&u(C,!0),M=i[w];M[w]=!0,T&&(M.subtract||M.exclude)^(T.isClockwise()^P.isClockwise())&&T.reverse();var E=v(Xe.expand(P.getIntersections(T,h))),z=a(P),A=T&&a(T),L=[],R=[],O;function D(ge){for(var pe=0,Se=ge.length;pe<Se;pe++){var xe=ge[pe];g.push(L,xe._segments),g.push(R,xe.getCurves()),xe._overlapsOnly=!0}}function B(ge){for(var pe=[],Se=0,xe=ge&&ge.length;Se<xe;Se++)pe.push(R[ge[Se]]);return pe}if(E.length){D(z),A&&D(A);for(var V=new Array(R.length),U=0,W=R.length;U<W;U++)V[U]=R[U].getValues();for(var $=K.findCurveBoundsCollisions(V,V,0,!0),re={},U=0;U<R.length;U++){var le=R[U],he=le._path._id,ee=re[he]=re[he]||{};ee[le.getIndex()]={hor:B($[U].hor),ver:B($[U].ver)}}for(var U=0,W=E.length;U<W;U++)k(E[U]._segment,P,T,re,M);for(var U=0,W=L.length;U<W;U++){var ie=L[U],fe=ie._intersection;ie._winding||k(ie,P,T,re,M),fe&&fe._overlap||(ie._path._overlapsOnly=!1)}O=I(L,M)}else O=p(A?z.concat(A):z.slice(),function(ge){return!!M[ge]});return l(O,!0,b,C,y)}function c(b,C,w){var y=u(b),P=u(C),T=y.getIntersections(P,h),M=w==="subtract",E=w==="divide",z={},A=[];function L(D){if(!z[D._id]&&(E||P.contains(D.getPointAt(D.getLength()/2))^M))return A.unshift(D),z[D._id]=!0}for(var R=T.length-1;R>=0;R--){var O=T[R].split();O&&(L(O)&&O.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return L(y),l(A,!1,b,C)}function _(b,C){for(var w=b;w;){if(w===C)return;w=w._previous}for(;b._next&&b._next!==C;)b=b._next;if(!b._next){for(;C._previous;)C=C._previous;b._next=C,C._previous=b}}function m(b){for(var C=b.length-1;C>=0;C--)b[C].clearHandles()}function p(b,C,w){var y=b&&b.length;if(y){var P=g.each(b,function($,re){this[$._id]={container:null,winding:$.isClockwise()?1:-1,index:re}},{}),T=b.slice().sort(function($,re){return t(re.getArea())-t($.getArea())}),M=T[0],E=K.findItemBoundsCollisions(T,null,Y.GEOMETRIC_EPSILON);w==null&&(w=M.isClockwise());for(var z=0;z<y;z++){var A=T[z],L=P[A._id],R=0,O=E[z];if(O){for(var D=null,B=O.length-1;B>=0;B--)if(O[B]<z){D=D||A.getInteriorPoint();var V=T[O[B]];if(V.contains(D)){var U=P[V._id];R=U.winding,L.winding+=R,L.container=U.exclude?U.container:V;break}}}if(C(L.winding)===C(R))L.exclude=!0,b[L.index]=null;else{var W=L.container;A.setClockwise(W?!W.isClockwise():w)}}}return b}function v(b,C,w){var y=C&&[],P=1e-8,T=1-P,M=!1,E=w||[],z=w&&{},A,L,R;function O(pe){return pe._path._id+"."+pe._segment1._index}for(var D=(w&&w.length)-1;D>=0;D--){var B=w[D];B._path&&(z[O(B)]=!0)}for(var D=b.length-1;D>=0;D--){var V=b[D],U=V._time,W=U,$=C&&!C(V),B=V._curve,re;if(B&&(B!==L?(M=!B.hasHandles()||z&&z[O(B)],A=[],R=null,L=B):R>=P&&(U/=R)),$){A&&A.push(V);continue}else C&&y.unshift(V);if(R=W,U<P)re=B._segment1;else if(U>T)re=B._segment2;else{var le=B.divideAtTime(U,!0);M&&E.push(B,le),re=le._segment1;for(var he=A.length-1;he>=0;he--){var ee=A[he];ee._time=(ee._time-U)/(1-U)}}V._setSegment(re);var ie=re._intersection,fe=V._intersection;if(ie){_(ie,fe);for(var ge=ie;ge;)_(ge._intersection,ie),ge=ge._next}else re._intersection=fe}return w||m(E),y||b}function S(b,C,w,y,P){var T=Array.isArray(C)?C:C[w?"hor":"ver"],M=w?1:0,E=M^1,z=[b.x,b.y],A=z[M],L=z[E],R=1e-9,O=1e-6,D=A-R,B=A+R,V=0,U=0,W=0,$=0,re=!1,le=!1,he=1,ee=[],ie,fe;function ge(Ne){var Le=Ne[E+0],$e=Ne[E+6];if(!(L<r(Le,$e)||L>e(Le,$e))){var rt=Ne[M+0],ut=Ne[M+2],At=Ne[M+4],Bt=Ne[M+6];if(Le===$e){(rt<B&&Bt>D||Bt<B&&rt>D)&&(re=!0);return}var Et=L===Le?0:L===$e||D>e(rt,ut,At,Bt)||B<r(rt,ut,At,Bt)?1:ne.solveCubic(Ne,E,L,ee,0,1)>0?ee[0]:1,pt=Et===0?rt:Et===1?Bt:ne.getPoint(Ne,Et)[w?"y":"x"],ft=Le>$e?1:-1,Ot=ie[E]>ie[E+6]?1:-1,jt=ie[M+6];return L!==Le?(pt<D?W+=ft:pt>B?$+=ft:re=!0,pt>A-O&&pt<A+O&&(he/=2)):(ft!==Ot?rt<D?W+=ft:rt>B&&($+=ft):rt!=jt&&(jt<B&&pt>B?($+=ft,re=!0):jt>D&&pt<D&&(W+=ft,re=!0)),he/=4),ie=Ne,!P&&pt>D&&pt<B&&ne.getTangent(Ne,Et)[w?"x":"y"]===0&&S(b,C,!w,y,!0)}}function pe(Ne){var Le=Ne[E+0],$e=Ne[E+2],rt=Ne[E+4],ut=Ne[E+6];if(L<=e(Le,$e,rt,ut)&&L>=r(Le,$e,rt,ut)){for(var At=Ne[M+0],Bt=Ne[M+2],Et=Ne[M+4],pt=Ne[M+6],ft=D>e(At,Bt,Et,pt)||B<r(At,Bt,Et,pt)?[Ne]:ne.getMonoCurves(Ne,w),Ot,jt=0,an=ft.length;jt<an;jt++)if(Ot=ge(ft[jt]))return Ot}}for(var Se=0,xe=T.length;Se<xe;Se++){var be=T[Se],ke=be._path,Me=be.getValues(),Ze;if((!Se||T[Se-1]._path!==ke)&&(ie=null,ke._closed||(fe=ne.getValues(ke.getLastCurve().getSegment2(),be.getSegment1(),null,!y),fe[E]!==fe[E+6]&&(ie=fe)),!ie)){ie=Me;for(var Ye=ke.getLastCurve();Ye&&Ye!==be;){var Ge=Ye.getValues();if(Ge[E]!==Ge[E+6]){ie=Ge;break}Ye=Ye.getPrevious()}}if(Ze=pe(Me))return Ze;if(Se+1===xe||T[Se+1]._path!==ke){if(fe&&(Ze=pe(fe)))return Ze;re&&!W&&!$&&(W=$=ke.isClockwise(y)^w?1:-1),V+=W,U+=$,W=$=0,re&&(le=!0,re=!1),fe=null}}return V=t(V),U=t(U),{winding:e(V,U),windingL:V,windingR:U,quality:he,onPath:le}}function k(b,C,w,y,P){var T=[],M=b,E=0,R;do{var z=b.getCurve();if(z){var A=z.getLength();T.push({segment:b,curve:z,length:A}),E+=A}b=b.getNext()}while(b&&!b._intersection&&b!==M);for(var L=[.5,.25,.75],R={winding:0,quality:-1},O=.001,D=1-O,B=0;B<L.length&&R.quality<.5;B++)for(var A=E*L[B],V=0,U=T.length;V<U;V++){var W=T[V],$=W.length;if(A<=$){var z=W.curve,re=z._path,le=re._parent,he=le instanceof Ie?le:re,ee=Y.clamp(z.getTimeAt(A),O,D),ie=z.getPointAtTime(ee),fe=t(z.getTangentAtTime(ee).y)<Math.SQRT1_2,ge=null;if(P.subtract&&w){var pe=he===C?w:C,Se=pe._getWinding(ie,fe,!0);if(he===C&&Se.winding||he===w&&!Se.winding){if(Se.quality<1)continue;ge={winding:0,quality:1}}}ge=ge||S(ie,y[re._id][z.getIndex()],fe,!0),ge.quality>R.quality&&(R=ge);break}A-=$}for(var V=T.length-1;V>=0;V--)T[V].segment._winding=R}function I(b,C){var w=[],y;function P(xe){var be;return!!(xe&&!xe._visited&&(!C||C[(be=xe._winding||{}).winding]&&!(C.unite&&be.winding===2&&be.windingL&&be.windingR)))}function T(xe){if(xe){for(var be=0,ke=y.length;be<ke;be++)if(xe===y[be])return!0}return!1}function M(xe){for(var be=xe._segments,ke=0,Me=be.length;ke<Me;ke++)be[ke]._visited=!0}function E(xe,be){var ke=xe._intersection,Me=ke,Ze=[];be&&(y=[xe]);function Ye(Ge,Ne){for(;Ge&&Ge!==Ne;){var Le=Ge._segment,$e=Le&&Le._path;if($e){var rt=Le.getNext()||$e.getFirstSegment(),ut=rt._intersection;Le!==xe&&(T(Le)||T(rt)||rt&&P(Le)&&(P(rt)||ut&&P(ut._segment)))&&Ze.push(Le),be&&y.push(Le)}Ge=Ge._next}}if(ke){for(Ye(ke);ke&&ke._previous;)ke=ke._previous;Ye(ke,Me)}return Ze}b.sort(function(xe,be){var ke=xe._intersection,Me=be._intersection,Ze=!!(ke&&ke._overlap),Ye=!!(Me&&Me._overlap),Ge=xe._path,Ne=be._path;return Ze^Ye?Ze?1:-1:!ke^!Me?ke?1:-1:Ge!==Ne?Ge._id-Ne._id:xe._index-be._index});for(var z=0,A=b.length;z<A;z++){var L=b[z],R=P(L),O=null,D=!1,B=!0,V=[],U,W,$;if(R&&L._path._overlapsOnly){var re=L._path,le=L._intersection._segment._path;re.compare(le)&&(re.getArea()&&w.push(re.clone(!1)),M(re),M(le),R=!1)}for(;R;){var he=!O,ee=E(L,he),ie=ee.shift(),D=!he&&(T(L)||T(ie)),fe=!D&&ie;if(he&&(O=new ve(se.NO_INSERT),U=null),D){(L.isFirst()||L.isLast())&&(B=L._path._closed),L._visited=!0;break}if(fe&&U&&(V.push(U),U=null),U||(fe&&ee.push(L),U={start:O._segments.length,crossings:ee,visited:W=[],handleIn:$}),fe&&(L=ie),!P(L)){O.removeSegments(U.start);for(var ge=0,pe=W.length;ge<pe;ge++)W[ge]._visited=!1;W.length=0;do L=U&&U.crossings.shift(),(!L||!L._path)&&(L=null,U=V.pop(),U&&(W=U.visited,$=U.handleIn));while(U&&!P(L));if(!L)break}var Se=L.getNext();O.add(new de(L._point,$,Se&&L._handleOut)),L._visited=!0,W.push(L),L=Se||L._path.getFirstSegment(),$=Se&&Se._handleIn}D&&(B&&(O.getFirstSegment().setHandleIn($),O.setClosed(B)),O.getArea()!==0&&w.push(O))}return w}return{_getWinding:function(b,C,w){return S(b,this.getCurves(),C,w)},unite:function(b,C){return f(this,b,"unite",C)},intersect:function(b,C){return f(this,b,"intersect",C)},subtract:function(b,C){return f(this,b,"subtract",C)},exclude:function(b,C){return f(this,b,"exclude",C)},divide:function(b,C){return C&&(C.trace==!1||C.stroke)?c(this,b,"divide"):l([this.subtract(b,C),this.intersect(b,C)],!0,this,b,C)},resolveCrossings:function(){var b=this._children,C=b||[this];function w(U,W){var $=U&&U._intersection;return $&&$._overlap&&$._path===W}var y=!1,P=!1,T=this.getIntersections(null,function(U){return U.hasOverlap()&&(y=!0)||U.isCrossing()&&(P=!0)}),M=y&&P&&[];if(T=Xe.expand(T),y)for(var E=v(T,function(U){return U.hasOverlap()},M),z=E.length-1;z>=0;z--){var A=E[z],L=A._path,R=A._segment,O=R.getPrevious(),D=R.getNext();w(O,L)&&w(D,L)&&(R.remove(),O._handleOut._set(0,0),D._handleIn._set(0,0),O!==R&&!O.getCurve().hasLength()&&(D._handleIn.set(O._handleIn),O.remove()))}P&&(v(T,y&&function(U){var W=U.getCurve(),$=U.getSegment(),re=U._intersection,le=re._curve,he=re._segment;if(W&&le&&W._path&&le._path)return!0;$&&($._intersection=null),he&&(he._intersection=null)},M),M&&m(M),C=I(g.each(C,function(U){g.push(this,U._segments)},[])));var B=C.length,V;return B>1&&b?(C!==b&&this.setChildren(C),V=this):B===1&&!b&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),V=this),V||(V=new Ie(se.NO_INSERT),V.addChildren(C),V=V.reduce(),V.copyAttributes(this),this.replaceWith(V)),V},reorient:function(b,C){var w=this._children;return w&&w.length?this.setChildren(p(this.removeChildren(),function(y){return!!(b?y:y&1)},C)):C!==o&&this.setClockwise(C),this},getInteriorPoint:function(){var b=this.getBounds(),C=b.getCenter(!0);if(!this.contains(C)){for(var w=this.getCurves(),y=C.y,P=[],T=[],M=0,E=w.length;M<E;M++){var z=w[M].getValues(),A=z[1],L=z[3],R=z[5],O=z[7];if(y>=r(A,L,R,O)&&y<=e(A,L,R,O))for(var D=ne.getMonoCurves(z),B=0,V=D.length;B<V;B++){var U=D[B],W=U[1],$=U[7];if(W!==$&&(y>=W&&y<=$||y>=$&&y<=W)){var re=y===W?U[0]:y===$?U[6]:ne.solveCubic(U,1,y,T,0,1)===1?ne.getPoint(U,T[0]).x:(U[0]+U[6])/2;P.push(re)}}}P.length>1&&(P.sort(function(le,he){return le-he}),C.x=(P[0]+P[1])/2)}return C}}});var We=g.extend({_class:"PathFlattener",initialize:function(r,e,t,i,a){var u=[],l=[],h=0,f=1/(t||32),c=r._segments,_=c[0],m;function p(I,b){var C=ne.getValues(I,b,a);u.push(C),v(C,I._index,0,1)}function v(I,b,C,w){if(w-C>f&&!(i&&ne.isStraight(I))&&!ne.isFlatEnough(I,e||.25)){var y=ne.subdivide(I,.5),P=(C+w)/2;v(y[0],b,C,P),v(y[1],b,P,w)}else{var T=I[6]-I[0],M=I[7]-I[1],E=Math.sqrt(T*T+M*M);E>0&&(h+=E,l.push({offset:h,curve:I,index:b,time:w}))}}for(var S=1,k=c.length;S<k;S++)m=c[S],p(_,m),_=m;r._closed&&p(m||_,c[0]),this.curves=u,this.parts=l,this.length=h,this.index=0},_get:function(r){for(var e=this.parts,t=e.length,i,a=this.index;i=a,!(!a||e[--a].offset<r););for(;i<t;i++){var u=e[i];if(u.offset>=r){this.index=i;var l=e[i-1],h=l&&l.index===u.index?l.time:0,f=l?l.offset:0;return{index:u.index,time:h+(u.time-h)*(r-f)/(u.offset-f)}}}return{index:e[t-1].index,time:1}},drawPart:function(r,e,t){for(var i=this._get(e),a=this._get(t),u=i.index,l=a.index;u<=l;u++){var h=ne.getPart(this.curves[u],u===i.index?i.time:0,u===a.index?a.time:1);u===i.index&&r.moveTo(h[0],h[1]),r.bezierCurveTo.apply(r,h.slice(2))}}},g.each(ne._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this._get(e);return ne[r](this.curves[t.index],t.time)}},{})),ot=g.extend({initialize:function(r){for(var e=this.points=[],t=r._segments,i=r._closed,a=0,u,l=t.length;a<l;a++){var h=t[a].point;(!u||!u.equals(h))&&e.push(u=h.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(r){var e=this.points,t=e.length,i=null;return t>0&&(i=[new de(e[0])],t>1&&(this.fitCubic(i,r,0,t-1,e[1].subtract(e[0]),e[t-2].subtract(e[t-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(r,e,t,i,a,u){var l=this.points;if(i-t===1){var h=l[t],f=l[i],c=h.getDistance(f)/3;this.addCurve(r,[h,h.add(a.normalize(c)),f.add(u.normalize(c)),f]);return}for(var _=this.chordLengthParameterize(t,i),m=Math.max(e,e*e),p,v=!0,S=0;S<=4;S++){var k=this.generateBezier(t,i,_,a,u),I=this.findMaxError(t,i,k,_);if(I.error<e&&v){this.addCurve(r,k);return}if(p=I.index,I.error>=m)break;v=this.reparameterize(t,i,_,k),m=I.error}var b=l[p-1].subtract(l[p+1]);this.fitCubic(r,e,t,p,a,b),this.fitCubic(r,e,p,i,b.negate(),u)},addCurve:function(r,e){var t=r[r.length-1];t.setHandleOut(e[1].subtract(e[0])),r.push(new de(e[3],e[2].subtract(e[3])))},generateBezier:function(r,e,t,i,a){for(var u=1e-12,l=Math.abs,h=this.points,f=h[r],c=h[e],_=[[0,0],[0,0]],m=[0,0],p=0,v=e-r+1;p<v;p++){var S=t[p],k=1-S,I=3*S*k,b=k*k*k,C=I*k,w=I*S,y=S*S*S,P=i.normalize(C),T=a.normalize(w),M=h[r+p].subtract(f.multiply(b+C)).subtract(c.multiply(w+y));_[0][0]+=P.dot(P),_[0][1]+=P.dot(T),_[1][0]=_[0][1],_[1][1]+=T.dot(T),m[0]+=P.dot(M),m[1]+=T.dot(M)}var E=_[0][0]*_[1][1]-_[1][0]*_[0][1],z,A;if(l(E)>u){var L=_[0][0]*m[1]-_[1][0]*m[0],R=m[0]*_[1][1]-m[1]*_[0][1];z=R/E,A=L/E}else{var O=_[0][0]+_[0][1],D=_[1][0]+_[1][1];z=A=l(O)>u?m[0]/O:l(D)>u?m[1]/D:0}var B=c.getDistance(f),V=u*B,U,W;if(z<V||A<V)z=A=B/3;else{var $=c.subtract(f);U=i.normalize(z),W=a.normalize(A),U.dot($)-W.dot($)>B*B&&(z=A=B/3,U=W=null)}return[f,f.add(U||i.normalize(z)),c.add(W||a.normalize(A)),c]},reparameterize:function(r,e,t,i){for(var a=r;a<=e;a++)t[a-r]=this.findRoot(i,this.points[a],t[a-r]);for(var a=1,u=t.length;a<u;a++)if(t[a]<=t[a-1])return!1;return!0},findRoot:function(r,e,t){for(var i=[],a=[],u=0;u<=2;u++)i[u]=r[u+1].subtract(r[u]).multiply(3);for(var u=0;u<=1;u++)a[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,r,t),h=this.evaluate(2,i,t),f=this.evaluate(1,a,t),c=l.subtract(e),_=h.dot(h)+c.dot(f);return Y.isMachineZero(_)?t:t-c.dot(h)/_},evaluate:function(r,e,t){for(var i=e.slice(),a=1;a<=r;a++)for(var u=0;u<=r-a;u++)i[u]=i[u].multiply(1-t).add(i[u+1].multiply(t));return i[0]},chordLengthParameterize:function(r,e){for(var t=[0],i=r+1;i<=e;i++)t[i-r]=t[i-r-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,a=e-r;i<=a;i++)t[i]/=t[a];return t},findMaxError:function(r,e,t,i){for(var a=Math.floor((e-r+1)/2),u=0,l=r+1;l<e;l++){var h=this.evaluate(3,t,i[l-r]),f=h.subtract(this.points[l]),c=f.x*f.x+f.y*f.y;c>=u&&(u=c,a=l)}return{error:u,index:a}}}),bt=se.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&g.isPlainObject(e)&&e.x===o&&e.y===o;this._initialize(t&&e,!t&&N.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Dt=bt.extend({_class:"PointText",initialize:function(){bt.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new ce(r.x,r.y,this,"setPoint")},setPoint:function(){var r=N.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,e,t){if(!!this._content){this._setStyles(r,e,t);var i=this._lines,a=this._style,u=a.hasFill(),l=a.hasStroke(),h=a.getLeading(),f=r.shadowColor;r.font=a.getFontStyle(),r.textAlign=a.getJustification();for(var c=0,_=i.length;c<_;c++){r.shadowColor=f;var m=i[c];u&&(r.fillText(m,0,0),r.shadowColor="rgba(0,0,0,0)"),l&&r.strokeText(m,0,0),r.translate(0,h)}}},_getBounds:function(r,e){var t=this._style,i=this._lines,a=i.length,u=t.getJustification(),l=t.getLeading(),h=this.getView().getTextWidth(t.getFontStyle(),i),f=0;u!=="left"&&(f-=h/(u==="center"?2:1));var c=new q(f,a?-.75*l:0,h,a*l);return r?r._transformBounds(c,c):c}}),De=g.extend(new function(){var r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},t={transparent:[0,0,0,0]},i;function a(h){var f=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",_;if(f){var m=f[4]?4:3;_=new Array(m);for(var p=0;p<m;p++){var v=f[p+1];_[p]=parseInt(v.length==1?v+v:v,16)/255}}else if(f=h.match(/^(rgb|hsl)a?\((.*)\)$/)){c=f[1],_=f[2].trim().split(/[,\s]+/g);for(var S=c==="hsl",p=0,k=Math.min(_.length,4);p<k;p++){var I=_[p],v=parseFloat(I);if(S)if(p===0){var b=I.match(/([a-z]*)$/)[1];v*={turn:360,rad:180/Math.PI,grad:.9}[b]||1}else p<3&&(v/=100);else p<3&&(v/=/%$/.test(I)?100:255);_[p]=v}}else{var C=t[h];if(!C)if(d){i||(i=Ct.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=h,i.fillRect(0,0,1,1);var w=i.getImageData(0,0,1,1).data;C=t[h]=[w[0]/255,w[1]/255,w[2]/255]}else C=[0,0,0];_=C.slice()}return[c,_]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(h,f,c){var _=Math.max(h,f,c),m=Math.min(h,f,c),p=_-m,v=p===0?0:(_==h?(f-c)/p+(f<c?6:0):_==f?(c-h)/p+2:(h-f)/p+4)*60;return[v,_===0?0:p/_,_]},"hsb-rgb":function(h,f,c){h=(h/60%6+6)%6;var m=Math.floor(h),_=h-m,m=u[m],p=[c,c*(1-f),c*(1-f*_),c*(1-f*(1-_))];return[p[m[0]],p[m[1]],p[m[2]]]},"rgb-hsl":function(h,f,c){var _=Math.max(h,f,c),m=Math.min(h,f,c),p=_-m,v=p===0,S=v?0:(_==h?(f-c)/p+(f<c?6:0):_==f?(c-h)/p+2:(h-f)/p+4)*60,k=(_+m)/2,I=v?0:k<.5?p/(_+m):p/(2-_-m);return[S,I,k]},"hsl-rgb":function(h,f,c){if(h=(h/360%1+1)%1,f===0)return[c,c,c];for(var _=[h+1/3,h,h-1/3],m=c<.5?c*(1+f):c+f-c*f,p=2*c-m,v=[],S=0;S<3;S++){var k=_[S];k<0&&(k+=1),k>1&&(k-=1),v[S]=6*k<1?p+(m-p)*6*k:2*k<1?m:3*k<2?p+(m-p)*(2/3-k)*6:p}return v},"rgb-gray":function(h,f,c){return[h*.2989+f*.587+c*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(r,function(h,f){e[f]=[],g.each(h,function(c,_){var m=g.capitalize(c),p=/^(hue|saturation)$/.test(c),v=e[f][_]=f==="gradient"?c==="gradient"?function(S){var k=this._components[0];return S=kt.read(Array.isArray(S)?S:arguments,0,{readNull:!0}),k!==S&&(k&&k._removeOwner(this),S&&S._addOwner(this)),S}:function(){return N.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(S){return S==null||isNaN(S)?0:+S};this["get"+m]=function(){return this._type===f||p&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(f)[_]},this["set"+m]=function(S){this._type!==f&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(f),this._properties=r[f],this._type=f),this._components[_]=v.call(this,S),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(f){var c=arguments,_=this.__read,m=0,p,v,S,k;Array.isArray(f)&&(c=f,f=c[0]);var I=f!=null&&typeof f;if(I==="string"&&f in r&&(p=f,f=c[1],Array.isArray(f)?(v=f,S=c[2]):(_&&(m=1),c=g.slice(c,1),I=typeof f)),!v){if(k=I==="number"?c:I==="object"&&f.length!=null?f:null,k){p||(p=k.length>=3?"rgb":"gray");var b=r[p].length;S=k[b],_&&(m+=k===arguments?b+(S!=null?1:0):1),k.length>b&&(k=g.slice(k,0,b))}else if(I==="string"){var C=a(f);p=C[0],v=C[1],v.length===4&&(S=v[3],v.length--)}else if(I==="object")if(f.constructor===h){if(p=f._type,v=f._components.slice(),S=f._alpha,p==="gradient")for(var w=1,y=v.length;w<y;w++){var P=v[w];P&&(v[w]=P.clone())}}else if(f.constructor===kt)p="gradient",k=c;else{p="hue"in f?"lightness"in f?"hsl":"hsb":"gradient"in f||"stops"in f||"radial"in f?"gradient":"gray"in f?"gray":"rgb";var T=r[p],M=e[p];this._components=v=[];for(var w=0,y=T.length;w<y;w++){var E=f[T[w]];E==null&&!w&&p==="gradient"&&"stops"in f&&(E={stops:f.stops,radial:f.radial}),E=M[w].call(this,E),E!=null&&(v[w]=E)}S=f.alpha}_&&p&&(m=1)}if(this._type=p||"rgb",!v){this._components=v=[];for(var M=e[this._type],w=0,y=M.length;w<y;w++){var E=M[w].call(this,k&&k[w]);E!=null&&(v[w]=E)}}return this._components=v,this._properties=r[this._type],this._alpha=S,_&&(this.__read=m),this},set:"#initialize",_serialize:function(h,f){var c=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),h,!0,f)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var f;return this._type===h?this._components.slice():(f=l[this._type+"-"+h])?f.apply(this,this._components):l["rgb-"+h].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new De(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=r[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var f=g.isPlainValue(h,!0)?De.read(arguments):h;return f===this||f&&this._class===f._class&&this._type===f._type&&this.getAlpha()===f.getAlpha()&&g.equals(this._components,f._components)||!1},toString:function(){for(var h=this._properties,f=[],c=this._type==="gradient",_=ae.instance,m=0,p=h.length;m<p;m++){var v=this._components[m];v!=null&&f.push(h[m]+": "+(c?v:_.number(v)))}return this._alpha!=null&&f.push("alpha: "+_.number(this._alpha)),"{ "+f.join(", ")+" }"},toCSS:function(h){var f=this._convert("rgb"),c=h||this._alpha==null?1:this._alpha;function _(m){return Math.round((m<0?0:m>1?1:m)*255)}return f=[_(f[0]),_(f[1]),_(f[2])],c<1&&f.push(c<0?0:c),h?"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1):(f.length==4?"rgba(":"rgb(")+f.join(",")+")"},toCanvasStyle:function(h,f){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,_=c[0],m=_._stops,p=c[1],v=c[2],S=c[3],k=f&&f.inverted(),I;if(k&&(p=k._transformPoint(p),v=k._transformPoint(v),S&&(S=k._transformPoint(S))),_._radial){var b=v.getDistance(p);if(S){var C=S.subtract(p);C.getLength()>b&&(S=p.add(C.normalize(b-.1)))}var w=S||p;I=h.createRadialGradient(w.x,w.y,0,p.x,p.y,b)}else I=h.createLinearGradient(p.x,p.y,v.x,v.y);for(var y=0,P=m.length;y<P;y++){var T=m[y],M=T._offset;I.addColorStop(M==null?y/(P-1):M,T._color.toCanvasStyle())}return this._canvasStyle=I},transform:function(h){if(this._type==="gradient"){for(var f=this._components,c=1,_=f.length;c<_;c++){var m=f[c];h._transformPoint(m,m,!0)}this._changed()}},statics:{_types:r,random:function(){var h=Math.random;return new De(h(),h(),h())},_setOwner:function(h,f,c){return h&&(h._owner&&f&&h._owner!==f&&(h=h.clone()),!h._owner^!f&&(h._owner=f||null,h._setter=c||null)),h}}})},new function(){var r={add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}};return g.each(r,function(e,t){this[t]=function(i){i=De.read(arguments);for(var a=this._type,u=this._components,l=i._convert(a),h=0,f=u.length;h<f;h++)l[h]=e(u[h],l[h]);return new De(a,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),kt=g.extend({_class:"Gradient",initialize:function(e,t){this._id=te.get(),e&&g.isPlainObject(e)&&(this.set(e),e=t=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof t=="string"&&t==="radial"||t||!1)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._stops,this._radial],r,!0,e)})},_changed:function(){for(var r=0,e=this._owners&&this._owners.length;r<e;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var e=this._owners?this._owners.indexOf(r):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var r=[],e=0,t=this._stops.length;e<t;e++)r[e]=this._stops[e].clone();return new kt(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var t=0,i=e.length;t<i;t++)e[t]._owner=o;e=this._stops=dn.readList(r,0,{clone:!0});for(var t=0,i=e.length;t<i;t++)e[t]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var e=this._stops,t=r._stops,i=e.length;if(i===t.length){for(var a=0;a<i;a++)if(!e[a].equals(t[a]))return!1;return!0}}return!1}}),dn=g.extend({_class:"GradientStop",initialize:function(e,t){var i=e,a=t;typeof e=="object"&&t===o&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],a=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,a=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(a)},clone:function(){return new dn(this._color.clone(),this._offset)},_serialize:function(r,e){var t=this._color,i=this._offset;return g.serialize(i==null?[t]:[t,i],r,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){De._setOwner(this._color,null),this._color=De._setOwner(De.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),Si=g.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new N,selectedColor:null},e=g.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),t=g.set({},e,{fillColor:new De}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},u={_class:"Style",beans:!0,initialize:function(h,f,c){this._values={},this._owner=f,this._project=f&&f._project||c||je.project,this._defaults=!f||f instanceof ye?e:f instanceof bt?t:r,h&&this.set(h)}};return g.each(e,function(l,h){var f=/Color$/.test(h),c=h==="shadowOffset",_=g.capitalize(h),m=i[h],p="set"+_,v="get"+_;u[p]=function(S){var k=this._owner,I=k&&k._children,b=I&&I.length>0&&!(k instanceof Ie);if(b)for(var C=0,w=I.length;C<w;C++)I[C]._style[p](S);if((h==="selectedColor"||!b)&&h in this._defaults){var y=this._values[h];y!==S&&(f&&(y&&(De._setOwner(y,null),y._canvasStyle=null),S&&S.constructor===De&&(S=De._setOwner(S,k,b&&p))),this._values[h]=S,k&&k._changed(m||129))}},u[v]=function(S){var k=this._owner,I=k&&k._children,b=I&&I.length>0&&!(k instanceof Ie),C;if(b&&!S)for(var w=0,y=I.length;w<y;w++){var P=I[w]._style[v]();if(!w)C=P;else if(!g.equals(C,P))return o}else if(h in this._defaults){var C=this._values[h];if(C===o)C=this._defaults[h],C&&C.clone&&(C=C.clone());else{var T=f?De:c?N:null;T&&!(C&&C.constructor===T)&&(this._values[h]=C=T.read([C],0,{readNull:!0,clone:!0}))}}return C&&f&&(C=De._setOwner(C,k,b&&p)),C},a[v]=function(S){return this._style[v](S)},a[p]=function(S){this._style[p](S)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,h){var f="get"+h,c="set"+h;u[f]=a[f]="#get"+l,u[c]=a[c]="#set"+l}),se.inject(a),u},{set:function(r){var e=r instanceof Si,t=e?r._values:r;if(t){for(var i in t)if(i in this._defaults){var a=t[i];this[i]=a&&e&&a.clone?a.clone():a}}},equals:function(r){function e(t,i,a){var u=t._values,l=i._values,h=i._defaults;for(var f in u){var c=u[f],_=l[f];if(!(a&&f in l)&&!g.equals(c,_===o?h[f]:_))return!1}return!0}return r===this||r&&this._class===r._class&&e(this,r)&&e(r,this,!0)||!1},_dispose:function(){var r;r=this.getFillColor(),r&&(r._canvasStyle=null),r=this.getStrokeColor(),r&&(r._canvasStyle=null),r=this.getShadowColor(),r&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var e=r.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),e!=null?e:t*1.2}}),Ve=new function(){function r(e,t,i,a){for(var u=["","webkit","moz","Moz","ms","o"],l=t[0].toUpperCase()+t.substring(1),h=0;h<6;h++){var f=u[h],c=f?f+l:t;if(c in e){if(i)e[c]=a;else return e[c];break}}}return{getStyles:function(e){var t=e&&e.nodeType!==9?e.ownerDocument:e,i=t&&t.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,t){var i=e.ownerDocument,a=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch(_){l={left:0,top:0,width:0,height:0}}var h=l.left-(u.clientLeft||a.clientLeft||0),f=l.top-(u.clientTop||a.clientTop||0);if(!t){var c=i.defaultView;h+=c.pageXOffset||u.scrollLeft||a.scrollLeft,f+=c.pageYOffset||u.scrollTop||a.scrollTop}return new q(h,f,l.width,l.height)},getViewportBounds:function(e){var t=e.ownerDocument,i=t.defaultView,a=t.documentElement;return new q(0,0,i.innerWidth||a.clientWidth,i.innerHeight||a.clientHeight)},getOffset:function(e,t){return Ve.getBounds(e,t).getPoint()},getSize:function(e){return Ve.getBounds(e,!0).getSize()},isInvisible:function(e){return Ve.getSize(e).equals(new J(0,0))},isInView:function(e){return!Ve.isInvisible(e)&&Ve.getViewportBounds(e).intersects(Ve.getBounds(e,!0))},isInserted:function(e){return x.body.contains(e)},getPrefixed:function(e,t){return e&&r(e,t)},setPrefixed:function(e,t,i){if(typeof t=="object")for(var a in t)r(e,a,!0,t[a]);else r(e,t,!0,i)}}},qe={add:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++){var h=a[u],f=r===x&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;r.addEventListener(h,i,f)}},remove:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++)r.removeEventListener(a[u],i,!1)},getPoint:function(r){var e=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new N(e.pageX||e.clientX+x.documentElement.scrollLeft,e.pageY||e.clientY+x.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,e){return qe.getPoint(r).subtract(Ve.getOffset(e||qe.getTarget(r)))}};qe.requestAnimationFrame=new function(){var r=Ve.getPrefixed(d,"requestAnimationFrame"),e=!1,t=[],i;function a(){var u=t;t=[];for(var l=0,h=u.length;l<h;l++)u[l]();e=r&&t.length,e&&r(a)}return function(u){t.push(u),r?e||(r(a),e=!0):i||(i=setInterval(a,1e3/60))}};var Be=g.extend(F,{_class:"View",initialize:function r(e,t){function i(m){return t[m]||parseInt(t.getAttribute(m),10)}function a(){var m=Ve.getSize(t);return m.isNaN()||m.isZero()?new J(i("width"),i("height")):m}var u;if(d&&t){this._id=t.getAttribute("id"),this._id==null&&t.setAttribute("id",this._id="paper-view-"+r._id++),qe.add(t,this._viewEvents);var l="none";if(Ve.setPrefixed(t.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),H.hasAttribute(t,"resize")){var h=this;qe.add(d,this._windowEvents={resize:function(){h.setViewSize(a())}})}if(u=a(),H.hasAttribute(t,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var f=this._stats.domElement,c=f.style,_=Ve.getOffset(t);c.position="absolute",c.left=_.x+"px",c.top=_.y+"px",x.body.appendChild(f)}}else u=new J(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new G)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!je.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Be._focused===this&&(Be._focused=null),Be._views.splice(Be._views.indexOf(this),1),delete Be._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),qe.remove(this._element,this._viewEvents),qe.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(se._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;qe.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var e=r._element;(!Ve.getPrefixed(x,"hidden")||H.getAttribute(e,"keepalive")==="true")&&Ve.isInView(e)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){je=this._scope;var r=Date.now()/1e3,e=this._last?r-this._last:0;this._last=r,this.emit("frame",new g({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,e){var t=this._frameItems;e?(t[r._id]={item:r,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete t[r._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var e in this._frameItems){var t=this._frameItems[e];t.item.emit("frame",new g(r,{time:t.time+=r.delta,count:t.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var r=this._viewSize;return new Ae(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=J.read(arguments),e=r.subtract(this._viewSize);e.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(r,e){var t=this._element;t&&(t.width!==r&&(t.width=r),t.height!==e&&(t.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new q(new N,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ve.isInView(this._element)},isInserted:function(){return Ve.isInserted(this._element)},getPixelSize:function(r){var e=this._element,t;if(e){var i=e.parentNode,a=x.createElement("div");a.style.fontSize=r,i.appendChild(a),t=parseFloat(Ve.getStyles(a).fontSize),i.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(r,e){return 0}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:N).read(t),a=N.read(t,0,{readNull:!0});return this.transform(new G()[r](i,a||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new G;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=N.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform(new G().scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var e=this.getRotation();e!=null&&r!=null&&this.rotate(r-e)},getScaling:function(){var r=this._decompose().scaling;return new ce(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=N.read(arguments,0,{clone:!0,readNull:!0});r&&e&&this.scale(e.x/r.x,e.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(N.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(N.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(N.read(arguments))},getEventPoint:function(r){return this.viewToProject(qe.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,e){x&&typeof e=="string"&&(e=x.getElementById(e));var t=d?Ka:Be;return new t(r,e)}}},new function(){if(!d)return;var r,e,t=!1,i=!1;function a(R){var O=qe.getTarget(R);return O.getAttribute&&Be._viewsById[O.getAttribute("id")]}function u(){var R=Be._focused;if(!R||!R.isVisible()){for(var O=0,D=Be._views.length;O<D;O++)if((R=Be._views[O]).isVisible()){Be._focused=e=R;break}}}function l(R,O,D){R._handleMouseEvent("mousemove",O,D)}var h=d.navigator,f,c,_;h.pointerEnabled||h.msPointerEnabled?(f="pointerdown MSPointerDown",c="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",c="touchmove",_="touchend touchcancel","ontouchstart"in d&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",c+=" mousemove",_+=" mouseup"));var m={},p={mouseout:function(R){var O=Be._focused,D=qe.getRelatedTarget(R);if(O&&(!D||D.nodeName==="HTML")){var B=qe.getOffset(R,O._element),V=B.x,U=Math.abs,W=U(V),$=1<<25,re=W-$;B.x=U(re)<W?re*(V<0?-1:1):V,l(O,R,O.viewToProject(B))}},scroll:u};m[f]=function(R){var O=Be._focused=a(R);t||(t=!0,O._handleMouseEvent("mousedown",R))},p[c]=function(R){var O=Be._focused;if(!i){var D=a(R);D?O!==D&&(O&&l(O,R),r||(r=O),O=Be._focused=e=D):e&&e===O&&(r&&!r.isInserted()&&(r=null),O=Be._focused=r,r=null,u())}O&&l(O,R)},p[f]=function(){i=!0},p[_]=function(R){var O=Be._focused;O&&t&&O._handleMouseEvent("mouseup",R),i=t=!1},qe.add(x,p),qe.add(d,{load:u});var v=!1,S=!1,k={doubleclick:"click",mousedrag:"mousemove"},I=!1,b,C,w,y,P,T,M,E;function z(R,O,D,B,V,U,W){var $=!1,re;function le(he,ee){if(he.responds(ee)){if(re||(re=new Ja(ee,B,V,O||he,U?V.subtract(U):null)),he.emit(ee,re)&&(v=!0,re.prevented&&(S=!0),re.stopped))return $=!0}else{var ie=k[ee];if(ie)return le(he,ie)}}for(;R&&R!==W&&!le(R,D);)R=R._parent;return $}function A(R,O,D,B,V,U){return R._project.removeOn(D),S=v=!1,P&&z(P,null,D,B,V,U)||O&&O!==P&&!O.isDescendant(P)&&z(O,null,D==="mousedrag"?"mousemove":D,B,V,U,P)||z(R,P||O||R,D,B,V,U)}var L={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(R,O,D){var B=this._itemEvents,V=B.native[R],U=R==="mousemove",W=this._scope.tool,$=this;function re(pe){return B.virtual[pe]||$.responds(pe)||W&&W.responds(pe)}U&&t&&re("mousedrag")&&(R="mousedrag"),D||(D=this.getEventPoint(O));var le=this.getBounds().contains(D),he=V&&le&&$._project.hitTest(D,{tolerance:0,fill:!0,stroke:!0}),ee=he&&he.item||null,ie=!1,fe={};if(fe[R.substr(5)]=!0,V&&ee!==y&&(y&&z(y,null,"mouseleave",O,D),ee&&z(ee,null,"mouseenter",O,D),y=ee),I^le&&(z(this,null,le?"mouseenter":"mouseleave",O,D),ie=!0),(le||fe.drag)&&!D.equals(C)&&(A(this,ee,U?R:"mousemove",O,D,C),ie=!0),I=le,fe.down&&le||fe.up&&b){if(A(this,ee,R,O,D,b),fe.down){if(E=ee===T&&Date.now()-M<300,w=T=ee,!S&&ee){for(var ge=ee;ge&&!ge.responds("mousedrag");)ge=ge._parent;ge&&(P=ee)}b=D}else fe.up&&(!S&&ee===w&&(M=Date.now(),A(this,ee,E?"doubleclick":"click",O,D,b),E=!1),w=P=null);I=!1,ie=!0}C=D,ie&&W&&(v=W._handleMouseEvent(R,O,D,fe)||v),O.cancelable!==!1&&(v&&!fe.move||fe.down&&re("mouseup"))&&O.preventDefault()},_handleKeyEvent:function(R,O,D,B){var V=this._scope,U=V.tool,W;function $(re){re.responds(R)&&(je=V,re.emit(R,W=W||new Xa(R,O,D,B)))}this.isVisible()&&($(this),U&&U.responds(R)&&$(U))},_countItemEvent:function(R,O){var D=this._itemEvents,B=D.native,V=D.virtual;for(var U in L)B[U]=(B[U]||0)+(L[U][R]||0)*O;V[R]=(V[R]||0)+O},statics:{updateFocus:u,_resetState:function(){t=i=v=I=!1,r=e=b=C=w=y=P=T=M=E=null}}}}),Ka=Be.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof d.HTMLCanvasElement)){var i=J.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));t=Ct.getCanvas(i)}var a=this._context=t.getContext("2d");if(a.save(),this._pixelRatio=1,!/^off|false$/.test(H.getAttribute(t,"hidpi"))){var u=d.devicePixelRatio||1,l=Ve.getPrefixed(a,"backingStorePixelRatio")||1;this._pixelRatio=u/l}Be.call(this,e,t),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(e,t){var i=this._pixelRatio;if(r.base.call(this,e*i,t*i),i!==1){var a=this._element,u=this._context;if(!H.hasAttribute(a,"resize")){var l=a.style;l.width=e+"px",l.height=t+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function r(e){var t=je.agent,i;if(t&&t.firefox)i=r.base.call(this,e);else{var a=this._context,u=a.font;a.font=e+" serif",i=parseFloat(a.font),a.font=u}return i},getTextWidth:function(r,e){var t=this._context,i=t.font,a=0;t.font=r;for(var u=0,l=e.length;u<l;u++)a=Math.max(a,t.measureText(e[u]).width);return t.font=i,a},update:function(){if(!this._needsUpdate)return!1;var r=this._project,e=this._context,t=this._viewSize;return e.clearRect(0,0,t.width+1,t.height+1),r&&r.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Rn=g.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return xr.modifiers}}),Xa=Rn.extend({_class:"KeyEvent",initialize:function(e,t,i,a){this.type=e,this.event=t,this.key=i,this.character=a},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),xr=new function(){var r={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},t={},i={},a,u,l=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=je&&je.agent;return c&&c.mac?this.meta:this.control}}});function h(c){var _=c.key||c.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===o?String.fromCharCode(c.keyCode):_,r[_]||(_.length>1?g.hyphenate(_):_.toLowerCase())}function f(c,_,m,p){var v=Be._focused,S;if(t[_]=c,c?i[_]=m:delete i[_],_.length>1&&(S=g.camelize(_))in l){l[S]=c;var k=je&&je.agent;if(S==="meta"&&k&&k.mac)if(c)a={};else{for(var I in a)I in i&&f(!1,I,a[I],p);a=null}}else c&&a&&(a[_]=m);v&&v._handleKeyEvent(c?"keydown":"keyup",p,_,m)}return qe.add(x,{keydown:function(c){var _=h(c),m=je&&je.agent;_.length>1||m&&m.chrome&&(c.altKey||m.mac&&c.metaKey||!m.mac&&c.ctrlKey)?f(!0,_,e[_]||(_.length>1?"":_),c):u=_},keypress:function(c){if(u){var _=h(c),m=c.charCode,p=m>=32?String.fromCharCode(m):_.length>1?"":_;_!==u&&(_=p.toLowerCase()),f(!0,_,p,c),u=null}},keyup:function(c){var _=h(c);_ in i&&f(!1,_,i[_],c)}}),qe.add(d,{blur:function(c){for(var _ in i)f(!1,_,i[_],c)}}),{modifiers:l,isDown:function(c){return!!t[c]}}},Ja=Rn.extend({_class:"MouseEvent",initialize:function(e,t,i,a,u){this.type=e,this.event=t,this.point=i,this.target=a,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ya=Rn.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,i){this.tool=e,this.type=t,this.event=i},_choosePoint:function(r,e){return r||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var e=r.item,t=e._parent;/^(Group|CompoundPath)$/.test(t._class);)e=t,t=t._parent;this._item=e}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});j.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){j.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,r!=null&&this._maxDistance!=null&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,this._minDistance!=null&&r!=null&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,e,t,i){je=this._scope,i.drag&&!this.responds(r)&&(r="mousemove");var a=i.move||i.drag,u=this.responds(r),l=this.minDistance,h=this.maxDistance,f=!1,c=this;function _(p,v){var S=t,k=a?c._point:c._downPoint||S;if(a){if(c._moveCount>=0&&S.equals(k))return!1;if(k&&(p!=null||v!=null)){var I=S.subtract(k),b=I.getLength();if(b<(p||0))return!1;v&&(S=k.add(I.normalize(Math.min(b,v))))}c._moveCount++}return c._point=S,c._lastPoint=k||S,i.down&&(c._moveCount=-1,c._downPoint=S,c._downCount++),!0}function m(){u&&(f=c.emit(r,new Ya(c,r,e))||f)}if(i.down)_(),m();else if(i.up)_(null,h),m();else if(u)for(;_(l,h);)m();return f}});var $a=g.extend(F,{_class:"Tween",statics:{easings:new g({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+2*(2-r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(e,t,i,a,u,l){this.object=e;var h=typeof u,f=h==="function";this.type=f?h:h==="string"?u:"linear",this.easing=f?u:r.easings[this.type],this.duration=a,this.running=!1,this._then=null,this._startTime=null;var c=t||i;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(t),this._to=c&&this._getState(i),l!==!1&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var e=this.easing(r),t=this._keys,i=function(_){return typeof _=="function"?_(e,r):_},a=0,u=t&&t.length;a<u;a++){var l=t[a],h=i(this._from[l]),f=i(this._to[l]),c=h&&f&&h.__add&&f.__add?f.__subtract(h).__multiply(e).__add(h):(f-h)*e+h;this._setProperty(this._parsedKeys[l],c)}this.responds("update")&&this.emit("update",new g({progress:r,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var e=this._startTime,t=e?(r-e)/this.duration:0;e||(this._startTime=r),this.update(t)},_getState:function(r){for(var e=this._keys,t={},i=0,a=e.length;i<a;i++){var u=e[i],l=this._parsedKeys[u],h=this._getProperty(l),f;if(r){var c=this._resolveValue(h,r[u]);this._setProperty(l,c),f=this._getProperty(l),f=f&&f.clone?f.clone():f,this._setProperty(l,h)}else f=h&&h.clone?h.clone():h;t[u]=f}return t},_resolveValue:function(r,e){if(e){if(Array.isArray(e)&&e.length===2){var t=e[0];return t&&t.match&&t.match(/^[+\-\*\/]=/)?this._calculate(r,t[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var a=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,e[0],a)}}}return e},_calculate:function(r,e,t){return je.PaperScript.calculateBinary(r,e,t)},_parseKeys:function(r){for(var e={},t=0,i=r.length;t<i;t++){var a=r[t],u=a.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[a]=u.split("/")}return e},_getProperty:function(r,e){for(var t=this.object,i=0,a=r.length-(e||0);i<a&&t;i++)t=t[r[i]];return t},_setProperty:function(r,e){var t=this._getProperty(r,1);t&&(t[r[r.length-1]]=e)}}),eu={request:function(r){var e=new s.XMLHttpRequest;return e.open((r.method||"get").toUpperCase(),r.url,g.pick(r.async,!0)),r.mimeType&&e.overrideMimeType(r.mimeType),e.onload=function(){var t=e.status;t===0||t===200?r.onLoad&&r.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var t=e.status,i='Could not load "'+r.url+'" (Status: '+t+")";if(r.onError)r.onError(i,t);else throw new Error(i)},e.send(null)}},Ct=g.exports.CanvasProvider={canvases:[],getCanvas:function(r,e){if(!d)return null;var t,i=!0;typeof r=="object"&&(e=r.height,r=r.width),this.canvases.length?t=this.canvases.pop():(t=x.createElement("canvas"),i=!1);var a=t.getContext("2d");if(!a)throw new Error("Canvas "+t+" is unable to provide a 2D context.");return t.width===r&&t.height===e?i&&a.clearRect(0,0,r+1,e+1):(t.width=r,t.height=e),a.save(),t},getContext:function(r,e){var t=this.getCanvas(r,e);return t?t.getContext("2d"):null},release:function(r){var e=r&&r.canvas?r.canvas:r;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},vt=new function(){var r=Math.min,e=Math.max,t=Math.abs,i,a,u,l,h,f,c,_,m,p,v;function S(P,T,M){return .2989*P+.587*T+.114*M}function k(P,T,M,A){var z=A-S(P,T,M);m=P+z,p=T+z,v=M+z;var A=S(m,p,v),L=r(m,p,v),R=e(m,p,v);if(L<0){var O=A-L;m=A+(m-A)*A/O,p=A+(p-A)*A/O,v=A+(v-A)*A/O}if(R>255){var D=255-A,B=R-A;m=A+(m-A)*D/B,p=A+(p-A)*D/B,v=A+(v-A)*D/B}}function I(P,T,M){return e(P,T,M)-r(P,T,M)}function b(P,T,M,E){var z=[P,T,M],A=e(P,T,M),L=r(P,T,M),R;L=L===P?0:L===T?1:2,A=A===P?0:A===T?1:2,R=r(L,A)===0?e(L,A)===1?2:1:0,z[A]>z[L]?(z[R]=(z[R]-z[L])*E/(z[A]-z[L]),z[A]=E):z[R]=z[A]=0,z[L]=0,m=z[0],p=z[1],v=z[2]}var C={multiply:function(){m=h*i/255,p=f*a/255,v=c*u/255},screen:function(){m=h+i-h*i/255,p=f+a-f*a/255,v=c+u-c*u/255},overlay:function(){m=h<128?2*h*i/255:255-2*(255-h)*(255-i)/255,p=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255},"soft-light":function(){var P=i*h/255;m=P+h*(255-(255-h)*(255-i)/255-P)/255,P=a*f/255,p=P+f*(255-(255-f)*(255-a)/255-P)/255,P=u*c/255,v=P+c*(255-(255-c)*(255-u)/255-P)/255},"hard-light":function(){m=i<128?2*i*h/255:255-2*(255-i)*(255-h)/255,p=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255},"color-dodge":function(){m=h===0?0:i===255?255:r(255,255*h/(255-i)),p=f===0?0:a===255?255:r(255,255*f/(255-a)),v=c===0?0:u===255?255:r(255,255*c/(255-u))},"color-burn":function(){m=h===255?255:i===0?0:e(0,255-(255-h)*255/i),p=f===255?255:a===0?0:e(0,255-(255-f)*255/a),v=c===255?255:u===0?0:e(0,255-(255-c)*255/u)},darken:function(){m=h<i?h:i,p=f<a?f:a,v=c<u?c:u},lighten:function(){m=h>i?h:i,p=f>a?f:a,v=c>u?c:u},difference:function(){m=h-i,m<0&&(m=-m),p=f-a,p<0&&(p=-p),v=c-u,v<0&&(v=-v)},exclusion:function(){m=h+i*(255-h-h)/255,p=f+a*(255-f-f)/255,v=c+u*(255-c-c)/255},hue:function(){b(i,a,u,I(h,f,c)),k(m,p,v,S(h,f,c))},saturation:function(){b(h,f,c,I(i,a,u)),k(m,p,v,S(h,f,c))},luminosity:function(){k(h,f,c,S(i,a,u))},color:function(){k(i,a,u,S(h,f,c))},add:function(){m=r(h+i,255),p=r(f+a,255),v=r(c+u,255)},subtract:function(){m=e(h-i,0),p=e(f-a,0),v=e(c-u,0)},average:function(){m=(h+i)/2,p=(f+a)/2,v=(c+u)/2},negation:function(){m=255-t(255-i-h),p=255-t(255-a-f),v=255-t(255-u-c)}},w=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(P){this[P]=!0},{}),y=Ct.getContext(1,1);y&&(g.each(C,function(P,T){var M=T==="darken",E=!1;y.save();try{y.fillStyle=M?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=T,y.globalCompositeOperation===T&&(y.fillStyle=M?"#a00":"#300",y.fillRect(0,0,1,1),E=y.getImageData(0,0,1,1).data[0]!==M?170:51)}catch(z){}y.restore(),w[T]=E}),Ct.release(y)),this.process=function(P,T,M,E,z){var A=T.canvas,L=P==="normal";if(L||w[P])M.save(),M.setTransform(1,0,0,1,0,0),M.globalAlpha=E,L||(M.globalCompositeOperation=P),M.drawImage(A,z.x,z.y),M.restore();else{var R=C[P];if(!R)return;for(var O=M.getImageData(z.x,z.y,A.width,A.height),D=O.data,B=T.getImageData(0,0,A.width,A.height).data,V=0,U=D.length;V<U;V+=4){i=B[V],h=D[V],a=B[V+1],f=D[V+1],u=B[V+2],c=D[V+2],l=B[V+3],_=D[V+3],R();var W=l*E/255,$=1-W;D[V]=W*m+$*h,D[V+1]=W*p+$*f,D[V+2]=W*v+$*c,D[V+3]=l*E+$*_}M.putImageData(O,z.x,z.y)}}},ht=new function(){var r="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",t="http://www.w3.org/1999/xlink",i={href:t,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function a(h,f,c){return l(x.createElementNS(r,h),f,c)}function u(h,f){var c=i[f],_=c?h.getAttributeNS(c,f):h.getAttribute(f);return _==="null"?null:_}function l(h,f,c){for(var _ in f){var m=f[_],p=i[_];typeof m=="number"&&c&&(m=c.number(m)),p?h.setAttributeNS(p,_,m):h.setAttribute(_,m)}return h}return{svg:r,xmlns:e,xlink:t,create:a,get:u,set:l}},gt=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,e){return!e&&(r instanceof Ce||r instanceof Ee||r instanceof bt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,e){var t=g.capitalize(e),i=r[2];this[e]={type:r[1],property:e,attribute:r[0],toSVG:i,fromSVG:i&&g.each(i,function(a,u){this[a]=u},{}),exportFilter:r[3],get:"get"+t,set:"set"+t}},{});new function(){var r;function e(C,w,y){var P=new g,T=C.getTranslation();if(w){var M;C.isInvertible()?(C=C._shiftless(),M=C._inverseTransform(T),T=null):M=new N,P[y?"cx":"x"]=M.x,P[y?"cy":"y"]=M.y}if(!C.isIdentity()){var E=C.decompose();if(E){var z=[],A=E.rotation,L=E.scaling,R=E.skewing;T&&!T.isZero()&&z.push("translate("+r.point(T)+")"),A&&z.push("rotate("+r.number(A)+")"),(!Y.isZero(L.x-1)||!Y.isZero(L.y-1))&&z.push("scale("+r.point(L)+")"),R.x&&z.push("skewX("+r.number(R.x)+")"),R.y&&z.push("skewY("+r.number(R.y)+")"),P.transform=z.join(" ")}else P.transform="matrix("+C.getValues().join(",")+")"}return P}function t(C,w){for(var y=e(C._matrix),P=C._children,T=ht.create("g",y,r),M=0,E=P.length;M<E;M++){var z=P[M],A=I(z,w);if(A)if(z.isClipMask()){var L=ht.create("clipPath");L.appendChild(A),S(z,L,"clip"),ht.set(T,{"clip-path":"url(#"+L.id+")"})}else T.appendChild(A)}return T}function i(C,w){var y=e(C._matrix,!0),P=C.getSize(),T=C.getImage();return y.x-=P.width/2,y.y-=P.height/2,y.width=P.width,y.height=P.height,y.href=w.embedImages==!1&&T&&T.src||C.toDataURL(),ht.create("image",y,r)}function a(C,w){var y=w.matchShapes;if(y){var P=C.toShape(!1);if(P)return u(P)}var T=C._segments,M=T.length,E,z=e(C._matrix);if(y&&M>=2&&!C.hasHandles())if(M>2){E=C._closed?"polygon":"polyline";for(var A=[],L=0;L<M;L++)A.push(r.point(T[L]._point));z.points=A.join(" ")}else{E="line";var R=T[0]._point,O=T[1]._point;z.set({x1:R.x,y1:R.y,x2:O.x,y2:O.y})}else E="path",z.d=C.getPathData(null,w.precision);return ht.create(E,z,r)}function u(C){var w=C._type,y=C._radius,P=e(C._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var T=C._size,M=T.width,E=T.height;P.x-=M/2,P.y-=E/2,P.width=M,P.height=E,y.isZero()&&(y=null)}return y&&(w==="circle"?P.r=y:(P.rx=y.width,P.ry=y.height)),ht.create(w,P,r)}function l(C,w){var y=e(C._matrix),P=C.getPathData(null,w.precision);return P&&(y.d=P),ht.create("path",y,r)}function h(C,w){var y=e(C._matrix,!0),P=C._definition,T=v(P,"symbol"),M=P._item,E=M.getStrokeBounds();return T||(T=ht.create("symbol",{viewBox:r.rectangle(E)}),T.appendChild(I(M,w)),S(P,T,"symbol")),y.href="#"+T.id,y.x+=E.x,y.y+=E.y,y.width=E.width,y.height=E.height,y.overflow="visible",ht.create("use",y,r)}function f(C){var w=v(C,"color");if(!w){var y=C.getGradient(),P=y._radial,T=C.getOrigin(),M=C.getDestination(),E;if(P){E={cx:T.x,cy:T.y,r:T.getDistance(M)};var z=C.getHighlight();z&&(E.fx=z.x,E.fy=z.y)}else E={x1:T.x,y1:T.y,x2:M.x,y2:M.y};E.gradientUnits="userSpaceOnUse",w=ht.create((P?"radial":"linear")+"Gradient",E,r);for(var A=y._stops,L=0,R=A.length;L<R;L++){var O=A[L],D=O._color,B=D.getAlpha(),V=O._offset;E={offset:V==null?L/(R-1):V},D&&(E["stop-color"]=D.toCSS(!0)),B<1&&(E["stop-opacity"]=B),w.appendChild(ht.create("stop",E,r))}S(C,w,"color")}return"url(#"+w.id+")"}function c(C){var w=ht.create("text",e(C._matrix,!0),r);return w.textContent=C._content,w}var _={Group:t,Layer:t,Raster:i,Path:a,Shape:u,CompoundPath:l,SymbolItem:h,PointText:c};function m(C,w,y){var P={},T=!y&&C.getParent(),M=[];return C._name!=null&&(P.id=C._name),g.each(gt,function(E){var z=E.get,A=E.type,L=C[z]();if(E.exportFilter?E.exportFilter(C,L):!T||!g.equals(T[z](),L)){if(A==="color"&&L!=null){var R=L.getAlpha();R<1&&(P[E.attribute+"-opacity"]=R)}A==="style"?M.push(E.attribute+": "+L):P[E.attribute]=L==null?"none":A==="color"?L.gradient?f(L):L.toCSS(!0):A==="array"?L.join(","):A==="lookup"?E.toSVG[L]:L}}),M.length&&(P.style=M.join(";")),P.opacity===1&&delete P.opacity,C._visible||(P.visibility="hidden"),ht.set(w,P,r)}var p;function v(C,w){return p||(p={ids:{},svgs:{}}),C&&p.svgs[w+"-"+(C._id||C.__id||(C.__id=te.get("svg")))]}function S(C,w,y){p||v();var P=p.ids[y]=(p.ids[y]||0)+1;w.id=y+"-"+P,p.svgs[y+"-"+(C._id||C.__id)]=w}function k(C,w){var y=C,P=null;if(p){y=C.nodeName.toLowerCase()==="svg"&&C;for(var T in p.svgs)P||(y||(y=ht.create("svg"),y.appendChild(C)),P=y.insertBefore(ht.create("defs"),y.firstChild)),P.appendChild(p.svgs[T]);p=null}return w.asString?new s.XMLSerializer().serializeToString(y):y}function I(C,w,y){var P=_[C._class],T=P&&P(C,w);if(T){var M=w.onExport;M&&(T=M(C,T,w)||T);var E=JSON.stringify(C._data);E&&E!=="{}"&&E!=="null"&&T.setAttribute("data-paper-data",E)}return T&&m(C,T,y)}function b(C){return C||(C={}),r=new ae(C.precision),C}se.inject({exportSVG:function(C){return C=b(C),k(I(this,C,!0),C)}}),me.inject({exportSVG:function(C){C=b(C);var w=this._children,y=this.getView(),P=g.pick(C.bounds,"view"),T=C.matrix||P==="view"&&y._matrix,M=T&&G.read([T]),E=P==="view"?new q([0,0],y.getViewSize()):P==="content"?se._getBounds(w,M,{stroke:!0}).rect:q.read([P],0,{readNull:!0}),z={version:"1.1",xmlns:ht.svg,"xmlns:xlink":ht.xlink};E&&(z.width=E.width,z.height=E.height,(E.x||E.x===0||E.y||E.y===0)&&(z.viewBox=r.rectangle(E)));var A=ht.create("svg",z,r),L=A;M&&!M.isIdentity()&&(L=A.appendChild(ht.create("g",e(M),r)));for(var R=0,O=w.length;R<O;R++)L.appendChild(I(w[R],C,!0));return k(A,C)}})},new function(){var r={},e;function t(w,y,P,T,M,E){var z=ht.get(w,y)||E,A=z==null?T?null:P?"":0:P?z:parseFloat(z);return/%\s*$/.test(z)?A/100*(M?1:e[/x|^width/.test(y)?"width":"height"]):A}function i(w,y,P,T,M,E,z){return y=t(w,y||"x",!1,T,M,E),P=t(w,P||"y",!1,T,M,z),T&&(y==null||P==null)?null:new N(y,P)}function a(w,y,P,T,M){return y=t(w,y||"width",!1,T,M),P=t(w,P||"height",!1,T,M),T&&(y==null||P==null)?null:new J(y,P)}function u(w,y,P){return w==="none"?null:y==="number"?parseFloat(w):y==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:y==="color"?I(w)||w:y==="lookup"?P[w]:w}function l(w,y,P,T){var M=w.childNodes,E=y==="clippath",z=y==="defs",A=new ye,L=A._project,R=L._currentStyle,O=[];if(!E&&!z&&(A=k(A,w,T),L._currentStyle=A._style.clone()),T)for(var D=w.querySelectorAll("defs"),B=0,V=D.length;B<V;B++)b(D[B],P,!1);for(var B=0,V=M.length;B<V;B++){var U=M[B],W;U.nodeType===1&&!/^defs$/i.test(U.nodeName)&&(W=b(U,P,!1))&&!(W instanceof Ke)&&O.push(W)}return A.addChildren(O),E&&(A=k(A.reduce(),w,T)),L._currentStyle=R,(E||z)&&(A.remove(),A=null),A}function h(w,y){for(var P=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),T=[],M=0,E=P.length;M<E;M+=2)T.push(new N(parseFloat(P[M]),parseFloat(P[M+1])));var z=new ve(T);return y==="polygon"&&z.closePath(),z}function f(w){return Ce.create(w.getAttribute("d"))}function c(w,y){var P=(t(w,"href",!0)||"").substring(1),T=y==="radialgradient",M;if(P)M=r[P].getGradient(),M._radial^T&&(M=M.clone(),M._radial=T);else{for(var E=w.childNodes,z=[],A=0,L=E.length;A<L;A++){var R=E[A];R.nodeType===1&&z.push(k(new dn,R))}M=new kt(z,T)}var O,D,B,V=t(w,"gradientUnits",!0)!=="userSpaceOnUse";T?(O=i(w,"cx","cy",!1,V,"50%","50%"),D=O.add(t(w,"r",!1,!1,V,"50%"),0),B=i(w,"fx","fy",!0,V)):(O=i(w,"x1","y1",!1,V,"0%","0%"),D=i(w,"x2","y2",!1,V,"100%","0%"));var U=k(new De(M,O,D,B),w);return U._scaleToBounds=V,null}var _={"#document":function(w,y,P,T){for(var M=w.childNodes,E=0,z=M.length;E<z;E++){var A=M[E];if(A.nodeType===1)return b(A,P,T)}},g:l,svg:l,clippath:l,polygon:h,polyline:h,path:f,lineargradient:c,radialgradient:c,image:function(w){var y=new ze(t(w,"href",!0));return y.on("load",function(){var P=a(w);this.setSize(P);var T=i(w).add(P.divide(2));this._matrix.append(new G().translate(T))}),y},symbol:function(w,y,P,T){return new Ke(l(w,y,P,T),!0)},defs:l,use:function(w){var y=(t(w,"href",!0)||"").substring(1),P=r[y],T=i(w);return P?P instanceof Ke?P.place(T):P.clone().translate(T):null},circle:function(w){return new Ee.Circle(i(w,"cx","cy"),t(w,"r"))},ellipse:function(w){return new Ee.Ellipse({center:i(w,"cx","cy"),radius:a(w,"rx","ry")})},rect:function(w){return new Ee.Rectangle(new q(i(w),a(w)),a(w,"rx","ry"))},line:function(w){return new ve.Line(i(w,"x1","y1"),i(w,"x2","y2"))},text:function(w){var y=new Dt(i(w).add(i(w,"dx","dy")));return y.setContent(w.textContent.trim()||""),y},switch:l};function m(w,y,P,T){if(w.transform){for(var M=(T.getAttribute(P)||"").split(/\)\s*/g),E=new G,z=0,A=M.length;z<A;z++){var L=M[z];if(!L)break;for(var R=L.split(/\(\s*/),O=R[0],D=R[1].split(/[\s,]+/g),B=0,V=D.length;B<V;B++)D[B]=parseFloat(D[B]);switch(O){case"matrix":E.append(new G(D[0],D[1],D[2],D[3],D[4],D[5]));break;case"rotate":E.rotate(D[0],D[1]||0,D[2]||0);break;case"translate":E.translate(D[0],D[1]||0);break;case"scale":E.scale(D);break;case"skewX":E.skew(D[0],0);break;case"skewY":E.skew(0,D[0]);break}}w.transform(E)}}function p(w,y,P){var T=P==="fill-opacity"?"getFillColor":"getStrokeColor",M=w[T]&&w[T]();M&&M.setAlpha(parseFloat(y))}var v=g.set(g.each(gt,function(w){this[w.attribute]=function(y,P){if(y[w.set]&&(y[w.set](u(P,w.type,w.fromSVG)),w.type==="color")){var T=y[w.get]();if(T&&T._scaleToBounds){var M=y.getBounds();T.transform(new G().translate(M.getPoint()).scale(M.getSize()))}}}},{}),{id:function(w,y){r[y]=w,w.setName&&w.setName(y)},"clip-path":function(w,y){var P=I(y);if(P)if(P=P.clone(),P.setClipMask(!0),w instanceof ye)w.insertChild(0,P);else return new ye(P,w)},gradientTransform:m,transform:m,"fill-opacity":p,"stroke-opacity":p,visibility:function(w,y){w.setVisible&&w.setVisible(y==="visible")},display:function(w,y){w.setVisible&&w.setVisible(y!==null)},"stop-color":function(w,y){w.setColor&&w.setColor(y)},"stop-opacity":function(w,y){w._color&&w._color.setAlpha(parseFloat(y))},offset:function(w,y){if(w.setOffset){var P=y.match(/(.*)%$/);w.setOffset(P?P[1]/100:parseFloat(y))}},viewBox:function(w,y,P,T,M){var E=new q(u(y,"array")),z=a(T,null,null,!0),A,L;if(w instanceof ye){var R=z?z.divide(E.getSize()):1,L=new G().scale(R).translate(E.getPoint().negate());A=w}else w instanceof Ke&&(z&&E.setSize(z),A=w._item);if(A){if(S(T,"overflow",M)!=="visible"){var O=new Ee.Rectangle(E);O.setClipMask(!0),A.addChild(O)}L&&A.transform(L)}}});function S(w,y,P){var T=w.attributes[y],M=T&&T.value;if(!M&&w.style){var E=g.camelize(y);M=w.style[E],!M&&P.node[E]!==P.parent[E]&&(M=P.node[E])}return M?M==="none"?null:M:o}function k(w,y,P){var T=y.parentNode,M={node:Ve.getStyles(y)||{},parent:!P&&!/^defs$/i.test(T.tagName)&&Ve.getStyles(T)||{}};return g.each(v,function(E,z){var A=S(y,z,M);w=A!==o&&E(w,A,z,y,M)||w}),w}function I(w){var y=w&&w.match(/\((?:["'#]*)([^"')]+)/),P=y&&y[1],T=P&&r[d?P.replace(d.location.href.split("#")[0]+"#",""):P];return T&&T._scaleToBounds&&(T=T.clone(),T._scaleToBounds=!0),T}function b(w,y,P){var T=w.nodeName.toLowerCase(),M=T!=="#document",E=x.body,z,A,L;P&&M&&(e=je.getView().getSize(),e=a(w,null,null,!0)||e,z=ht.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),A=w.parentNode,L=w.nextSibling,z.appendChild(w),E.appendChild(z));var R=je.settings,O=R.applyMatrix,D=R.insertItems;R.applyMatrix=!1,R.insertItems=!1;var B=_[T],V=B&&B(w,T,y,P)||null;if(R.insertItems=D,R.applyMatrix=O,V){M&&!(V instanceof ye)&&(V=k(V,w,P));var U=y.onImport,W=M&&w.getAttribute("data-paper-data");U&&(V=U(w,V,y)||V),y.expandShapes&&V instanceof Ee&&(V.remove(),V=V.toPath()),W&&(V._data=JSON.parse(W))}return z&&(E.removeChild(z),A&&(L?A.insertBefore(w,L):A.appendChild(w))),P&&(r={},V&&g.pick(y.applyMatrix,O)&&V.matrix.apply(!0,!0)),V}function C(w,y,P){if(!w)return null;y=typeof y=="function"?{onLoad:y}:y||{};var T=je,M=null;function E(R){try{var O=typeof R=="object"?R:new s.DOMParser().parseFromString(R.trim(),"image/svg+xml");if(!O.nodeName)throw O=null,new Error("Unsupported SVG source: "+w);je=T,M=b(O,y,!0),(!y||y.insert!==!1)&&P._insertItem(o,M);var D=y.onLoad;D&&D(M,R)}catch(B){z(B)}}function z(R,O){var D=y.onError;if(D)D(R,O);else throw new Error(R)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var A=x.getElementById(w);A?E(A):eu.request({url:w,async:!0,onLoad:E,onError:z})}else if(typeof File!="undefined"&&w instanceof File){var L=new FileReader;return L.onload=function(){E(L.result)},L.onerror=function(){z(L.error)},L.readAsText(w)}else E(w);return M}se.inject({importSVG:function(w,y){return C(w,y,this)}}),me.inject({importSVG:function(w,y){return this.activate(),C(w,y,this)}})};var je=new(H.inject(g.exports,{Base:g,Numerical:Y,Key:xr,DomEvent:qe,DomElement:Ve,document:x,window:d,Symbol:Ke,PlacedSymbol:Je}));return je.agent.node&&aa(je),typeof o=="function"&&o.amd?o("paper",je):n&&(n.exports=je),je}).call(gf,typeof self=="object"?self:null)})(ua);function _i(n,s,o,d,x=0,g=0,F,H){var j;if((j=n==null?void 0:n.Extent)!=null&&j.length){const K=n.Extent[0].Max[0].x.valueAsNumber,ae=n.Extent[0].Min[0].x.valueAsNumber,Y=(K-ae)*s<1?1:(K-ae)*s,te=n.Extent[0].Max[0].y.valueAsNumber,N=n.Extent[0].Min[0].y.valueAsNumber,ce=(te-N)*s<1?1:(te-N)*s,J=x*s+ae*s,Ae=d*s-(te+g)*s;if(F){const q=it().Shape,Q=it().Size,G=it().Color,ue=new Q(Y,ce),me=new q.Rectangle(new ua.exports.Point(J,Ae),ue);me.fillColor=new G(H),me.onClick=()=>{console.log(n)},me.bringToFront()}return[J,Ae,Y,ce]}else return[0,0,0,0]}function Dg(n,s,o,d,x=0,g=0,F,H){var N,ce,J;const j=it().Point,K=it().Path,ae=it().Color,Y=[];if(!Array.isArray(n.Coordinate)||n.Coordinate.length===0){((N=n.numPoints)==null?void 0:N.valueAsNumber)!==0&&console.warn("line element without coordinate");return}n.Coordinate.forEach(Ae=>{const q=Ae.x.valueAsNumber+x,Q=Ae.y.valueAsNumber+g,G=new j(q*s,d*s-Q*s);Y.push(G)});const te=new K(Y);switch(te.strokeColor=new ae({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),(ce=n.Presentation[0].lineType)==null?void 0:ce.valueAsString){case"0":break;case"Solid":break;case"1":te.dashArray=[.3,.3];case"Dotted":te.dashArray=[.3,.3];break;case"2":te.dashArray=[2,.5];case"Dashed":te.dashArray=[2,.5];break;case"3":te.dashArray=[4,.5];case"Long Dash":te.dashArray=[4,.5];break;case"4":te.dashArray=[4,.5,1,.5];break;case"Long Dash + Short Dash, CenterLine":te.dashArray=[15,1,.5,1,.5,1];break;case"5":te.dashArray=[1,.5];break;case"Short Dash":te.dashArray=[1,.5];break;case"6":te.dashArray=[4,.5,1,.5,1,.5];break;case"Long Dash + Short Dash + Short Dash":te.dashArray=[4,1,1,1,1,1];break;case"7":te.dashArray=[2,.5,1,.5];break;case"Dash + Short Dash":te.dashArray=[2,.5,1,.5];break;default:((J=n.Presentation[0].lineType)==null?void 0:J.valueAsString)!==void 0&&console.error("unknown linetype",n)}te.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,F?F.addChild(te):te.onClick=function(){console.log(n)},_i(n,s,o,d,x,g,di.line,gi.line)}function Bg(n,s,o,d,x=0,g=0,F,H){const j=it().Point,K=it().Path,ae=it().Color,Y=[];n.Coordinate.forEach(N=>{const ce=N.x.valueAsNumber+x,J=N.y.valueAsNumber+g,Ae=new j(ce*s,d*s-J*s);Y.push(Ae)});const te=new K(Y);F?F.addChild(te):te.onClick=function(){console.log(n)},te.strokeColor=new ae({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),te.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,n.filled&&(te.fillColor=new ae({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value})),_i(n,s,o,d,x,g,di.shape,gi.shape)}function Vg(n,s,o,d,x=0,g=0,F,H){var J;const j=it().Point,K=it().Path,ae=it().Color,Y=n.Position[0].Location[0].x.valueAsNumber+x,te=n.Position[0].Location[0].y.valueAsNumber+g,N=new j(Y*s,d*s-te*s),ce=new K.Circle(N,n.radius.valueAsNumber*s);F?F.addChild(ce):ce.onClick=function(){console.log(n)},ce.strokeColor=new ae({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),ce.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(J=n.filled)!=null&&J.value&&(ce.fillColor=new ae("black")),_i(n,s,o,d,x,g,di.circle,gi.circleArc)}function Ug(n,s,o,d,x=0,g=0,F,H){var Ee,ze,Je,Ke,Ue,de,nt,ne,Xe,Ce,ve,Ie,We,ot,bt;const j=it().PointText,K=it().Point,ae=it().Color,Y=it().Shape,te=it().Size;if(!((Ee=n.Position[0])!=null&&Ee.Location)){console.warn("unexpected missing location element on text, skipping text",(ze=n==null?void 0:n.string)==null?void 0:ze.valueAsString,n);return}if(!((Je=n.Extent[0])!=null&&Je.Max)){console.warn("unexpected missing Extent element on text, skipping text",(Ke=n==null?void 0:n.string)==null?void 0:Ke.valueAsString,n);return}if(!n.Presentation[0]){console.warn("unexpected missing Presentation element on text, skipping text",(Ue=n==null?void 0:n.string)==null?void 0:Ue.valueAsString,n);return}if((de=n.Presentation[0].layer)!=null&&de.valueAsString.toUpperCase().includes("HIDDEN"))return;const[N,ce,J,Ae]=_i(n,s,o,d,x,g,di.text,gi.text),q=(n.Position[0].Location[0].x.valueAsNumber+x)*s,Q=d*s-(n.Position[0].Location[0].y.valueAsNumber+g)*s,G=new K(q,Q),ue=new te(J,Ae),me=new Y.Rectangle(new K(N,ce),ue),se=new j(new K(q,Q));if(se.content=(nt=n.string)==null?void 0:nt.valueAsString,se.content==="undefined"&&n.attributes.DependantAttribute&&n.attributes.ItemID){const Dt=zg(n.attributes.ItemID);Dt&&Dt.GenericAttributes.forEach(De=>{De.GenericAttribute.forEach(kt=>{`[${kt.attributes.Name}]`===n.attributes.DependantAttribute&&(se.content=kt.attributes.Value)})}),se.content==="undefined"&&console.warn("dependable attribute:",n.attributes.DependantAttribute,"not found in ",n)}se.fontSize=n.height.valueAsNumber*s,se.fontFamily=n.font.valueAsString,((ne=n.textAngle)==null?void 0:ne.valueAsNumber)>0&&se.rotate(-n.textAngle.valueAsNumber,new K(q,Q)),((Xe=n.slantAngle)==null?void 0:Xe.valueAsNumber)>0&&console.warn("Text slantAngle not implemented",n);const ye=(Ie=(ve=(Ce=n.Position[0])==null?void 0:Ce.Reference[0])==null?void 0:ve.x)==null?void 0:Ie.valueAsNumber;ye&&ye!==1&&se.rotate(-(ye/(Math.PI/180))*Math.PI,G);const Pe=(bt=(ot=(We=n.Position[0])==null?void 0:We.Reference[0])==null?void 0:ot.y)==null?void 0:bt.valueAsNumber;Pe&&Pe!==0&&se.rotate(-(Pe/(Math.PI/90))*Math.PI,G),se.bounds.y=me.bounds.y,se.bounds.x=me.bounds.x,se.fitBounds(me.bounds),se.fillColor=new ae({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),F?F.addChild(se):se.onClick=function(){console.log(n)}}function Hg(n,s,o,d,x=0,g=0,F,H){Cf(n).forEach(K=>{var ae,Y,te,N;if(K.element.tagName==="Circle"){const ce=it().Point,J=it().Path,Ae=it().Color,q=K,Q=q.Position[0].Location[0].x.valueAsNumber+x,G=q.Position[0].Location[0].y.valueAsNumber+g,ue=q.Position[0].Reference[0].x.valueAsNumber,me=q.Position[0].Reference[0].y.valueAsNumber,se=q.Position[0].Axis[0].y.valueAsNumber===-1,ye=new ce(Q*s,d*s-G*s),Pe=q.radius.valueAsNumber*s,Ee=-((ae=n.startAngle)==null?void 0:ae.valueAsNumber)||0,ze=-((Y=n.endAngle)==null?void 0:Y.valueAsNumber)||0,Je=new ce(Pe,0);Je.angle=Ee;const Ke=new ce(Pe,0);Ke.angle=ze;const Ue=new ce(Pe,0),de=ze-Ee;Ue.angle=Ee+de/2;const nt=new J.Arc(Je,Ue,Ke);nt.strokeColor=new Ae({red:q.Presentation[0].r.value,green:q.Presentation[0].g.value,blue:q.Presentation[0].b.value}),nt.strokeWidth=q.Presentation[0].lineWeight.valueAsNumber*s,nt.translate(ye),ue<0&&nt.rotate(ue/(Math.PI/180)*Math.PI,ye),me&&me!==0&&nt.rotate(-(me/(Math.PI/90))*Math.PI,ye),se&&console.log("not implented flipY",n,ue,me,se),F?F.addChild(nt):nt.onClick=function(){console.log(n)},_i(q,s,o,d,x,g,di.circleArc,gi.circleArc)}if(K.element.tagName==="Ellipse"){const ce=it().Point,J=it().Path,Ae=it().Color,q=K,Q=q.Position[0].Location[0].x.valueAsNumber+x,G=q.Position[0].Location[0].y.valueAsNumber+g,ue=q.Position[0].Reference[0].x.valueAsNumber,me=q.Position[0].Reference[0].y.valueAsNumber,se=new ce(Q*s,d*s-G*s),ye=q.primaryAxis.valueAsNumber*s,Pe=-((te=n.startAngle)==null?void 0:te.valueAsNumber)||0,Ee=-((N=n.endAngle)==null?void 0:N.valueAsNumber)||0,ze=new ce(ye,0);ze.angle=Pe;const Je=new ce(ye,0);Je.angle=Ee;const Ke=new ce(ye,0),Ue=Ee-Pe;Ke.angle=Pe+Ue/2;const de=new J.Arc(ze,Ke,Je);de.strokeColor=new Ae({red:q.Presentation[0].r.value,green:q.Presentation[0].g.value,blue:q.Presentation[0].b.value}),de.strokeWidth=q.Presentation[0].lineWeight.valueAsNumber*s,de.translate(se),de.scale(1,q.secondaryAxis.valueAsNumber*s/ye,se),ue<0&&de.rotate(ue/(Math.PI/180)*Math.PI,se),me&&me!==0&&de.rotate(-(me/(Math.PI/90))*Math.PI,se);const nt=q.Position[0].Axis[0].z.valueAsNumber===-1;nt&&console.log("not implented flipY",n,ue,me,nt),F?F.addChild(de):de.onClick=function(){console.log(n)},_i(q,s,o,d,x,g,di.ellipseArc,gi.ellipseArc)}})}function qg(n,s,o,d,x=0,g=0,F,H){var me,se,ye,Pe,Ee,ze,Je;const j=it().Point,K=it().Path,ae=it().Color,Y=it().Size,te=it().Rectangle,N=n.Position[0].Location[0].x.valueAsNumber+x,ce=n.Position[0].Location[0].y.valueAsNumber+g,J=new j(N*s,d*s-ce*s),Ae=new te(J,new Y(n.primaryAxis.valueAsNumber*s,n.secondaryAxis.valueAsNumber*s)),q=new K.Ellipse(Ae),Q=(ye=(se=(me=n.Position[0])==null?void 0:me.Reference[0])==null?void 0:se.x)==null?void 0:ye.valueAsNumber;Q&&Q!==1&&q.rotate(-(Q/(Math.PI/180))*Math.PI,J);const G=(ze=(Ee=(Pe=n.Position[0])==null?void 0:Pe.Reference[0])==null?void 0:Ee.y)==null?void 0:ze.valueAsNumber;G&&G!==0&&q.rotate(-(G/(Math.PI/90))*Math.PI,J);const ue=n.Position[0].Axis[0].z.valueAsNumber===-1;ue&&console.log("not implented flipY",n,Q,G,ue),F?F.addChild(q):q.onClick=function(){console.log(n)},q.strokeColor=new ae({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),q.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(Je=n.filled)!=null&&Je.value&&(q.fillColor=new ae("black")),_i(n,s,o,d,x,g,di.circle,gi.circleArc)}class Uo{constructor(s,o,d){var g,F,H;this.element=s,this.isShapeCatalogChild=o,this.parent=d,this.isChild=!0,this.attributes={},this.GenericAttributes=[],this.GenericAttribute=[],this.Position=[],this.Extent=[],this.Presentation=[],this.Scale=[],this.elementTagName=this.element.tagName,this.elementTagName==="ShapeCatalogue"&&(this.isShapeCatalogChild=!0);for(let j=0;j<this.element.children.length;j++){const K=this.element.children[j],ae=K.tagName,Y=this;Y[ae]||(Y[ae]=[]);const te=new Uo(K,this.isShapeCatalogChild,this);Y[ae].push(te)}s.getAttributeNames().forEach(j=>{const K=this,ae=j[0].toLowerCase()+j.substring(1,j.length);K[ae]=new Ag(s,j,this)}),this.GenericAttributes&&(this.genericAttributes={},this.GenericAttributes.forEach(j=>{j.GenericAttribute.forEach(K=>{this.genericAttributes[K.attributes.Name]=K.attributes.Value})})),this.elementTagName!=="ShapeCatalogue"&&this.isShapeCatalogChild&&(g=this.componentName)!=null&&g.value&&Og((F=this.componentName)==null?void 0:F.value,this),(H=this.iD)!=null&&H.valueAsString&&Mg(this.iD.valueAsString,this)}draw(s,o,d,x=0,g=0,F,H){var K,ae,Y,te,N,ce,J,Ae,q,Q,G,ue,me,se,ye,Pe,Ee,ze,Je,Ke;if(this.elementTagName==="ShapeCatalogue")return;if(this.elementTagName==="TrimmedCurve"){Hg(this,s,o,d,x,g,F);return}if(Cf(this).forEach(Ue=>{Ue.draw(s,o,d,x,g,F,this)}),((K=this.componentName)==null?void 0:K.value)&&((ae=this.Position)==null?void 0:ae.length)){const Ue=Ng(this.componentName.value);if(Ue&&Ue!==this){const de=it().Group,nt=new de;this.shapeCatalogItem=Ue;const ne=this;nt.onClick=function(){console.log(ne)};const Xe=this.Position[0].Location[0].x.valueAsNumber+x,Ce=this.Position[0].Location[0].y.valueAsNumber+g,ve=new ua.exports.Point(Xe*s,d*s-Ce*s);if(typeof Ue.draw=="function"&&Ue.draw(s,o,d,Xe+x,Ce+g,nt),this.Scale.length){const bt=parseFloat(this.Scale[0].attributes.X),Dt=parseFloat(this.Scale[0].attributes.Y);(bt!==1||Dt!==1)&&nt.scale(bt,Dt,ve)}const Ie=(N=(te=(Y=this.Position[0])==null?void 0:Y.Reference[0])==null?void 0:te.x)==null?void 0:N.valueAsNumber;Ie&&Ie!==1&&nt.rotate(-(Ie/(Math.PI/180))*Math.PI,ve);const We=(Ae=(J=(ce=this.Position[0])==null?void 0:ce.Reference[0])==null?void 0:J.y)==null?void 0:Ae.valueAsNumber;We&&We!==0&&nt.rotate(-(We/(Math.PI/90))*Math.PI,ve),((G=(Q=(q=this.Position[0])==null?void 0:q.Axis[0])==null?void 0:Q.z)==null?void 0:G.valueAsNumber)===-1&&nt.scale(1,-1,ve),_i(this,s,o,d,x,g,di.component,gi.component)}else if(F){const de=this.Position[0].Location[0].x.valueAsNumber+x,nt=this.Position[0].Location[0].y.valueAsNumber+g,ne=new ua.exports.Point(de*s,d*s-nt*s);if(this.Scale.length){const Ie=parseFloat(this.Scale[0].attributes.X),We=parseFloat(this.Scale[0].attributes.Y);(Ie!==1||We!==1)&&F.scale(Ie,We,ne)}const Xe=(se=(me=(ue=this.Position[0])==null?void 0:ue.Reference[0])==null?void 0:me.x)==null?void 0:se.valueAsNumber;Xe&&Xe!==1&&F.rotate(-(Xe/(Math.PI/180))*Math.PI,ne);const Ce=(Ee=(Pe=(ye=this.Position[0])==null?void 0:ye.Reference[0])==null?void 0:Pe.y)==null?void 0:Ee.valueAsNumber;Ce&&Ce!==0&&F.rotate(-(Ce/(Math.PI/90))*Math.PI,ne),((Ke=(Je=(ze=this.Position[0])==null?void 0:ze.Axis[0])==null?void 0:Je.z)==null?void 0:Ke.valueAsNumber)===-1&&F.scale(1,-1,ne)}}(this.elementTagName==="Line"||this.elementTagName==="PolyLine"||this.elementTagName==="CenterLine")&&Dg(this,s,o,d,x,g,F),this.elementTagName==="BsplineCurve"&&console.warn("BsplineCurve not implemented",this),this.elementTagName==="CompositeCurve"&&console.warn("CompositeCurve not implemented",this),this.elementTagName==="Circle"&&Vg(this,s,o,d,x,g,F),this.elementTagName==="Ellipse"&&qg(this,s,o,d,x,g,F),this.elementTagName==="Shape"&&Bg(this,s,o,d,x,g,F),this.elementTagName==="Text"&&Ug(this,s,o,d,x,g,F)}}class jg{constructor(s,o){this.root=!0,this.xml=new window.DOMParser().parseFromString(s,"text/xml"),this.canvas=document.getElementById(o),Eg(),Rg(o);const d=this.xml.getElementsByTagName("PlantModel")[0];if(!d){alert("missing plantmodel");return}this.PlantModel=new Uo(d,!1)}draw(){var H,j,K,ae,Y,te,N;it().project.activeLayer.removeChildren(),it().view.requestUpdate();const s=["Metre","mm","Millimetre"],o=this.PlantModel.PlantInformation[0].units.value;s.includes(o)||console.warn("I need to add more here",this.PlantModel.PlantInformation[0].units.value);let d=1.5;switch(!0){case o==="Metre":d=1500;break}if(!Array.isArray(this.PlantModel.Drawing)||this.PlantModel.Drawing[0].length===0){const ce=(j=(H=this.PlantModel.Extent[0])==null?void 0:H.Max[0])==null?void 0:j.x.valueAsNumber,J=(ae=(K=this.PlantModel.Extent[0])==null?void 0:K.Max[0])==null?void 0:ae.y.valueAsNumber;d===1.5?(console.warn(`No drawing element, using x:${ce|1261.5}, y:${J|891}`,this.PlantModel),this.PlantModel.draw(d,ce||1261.5,J||891,0,0)):(console.warn(`No drawing element, using x:${ce|.12615}, y:${J|.891}`,this.PlantModel),this.PlantModel.draw(d,ce||.12615,J||.891,0,0));return}const x=(Y=this.PlantModel.Drawing[0])==null?void 0:Y.Presentation[0];(te=x==null?void 0:x.attributes)!=null&&te.Color&&(this.canvas.style.backgroundColor=(N=x==null?void 0:x.attributes)==null?void 0:N.Color);const g=this.PlantModel.Drawing[0].Extent[0].Max[0].x.valueAsNumber,F=this.PlantModel.Drawing[0].Extent[0].Max[0].y.valueAsNumber;this.PlantModel.draw(d,g,F,0,0)}}var Ho={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Aa.exports,Zg=Symbol.for("react.element"),Gg=Symbol.for("react.fragment"),Qg=Object.prototype.hasOwnProperty,Kg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function bf(n,s,o){var d,x={},g=null,F=null;o!==void 0&&(g=""+o),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(F=s.ref);for(d in s)Qg.call(s,d)&&!Xg.hasOwnProperty(d)&&(x[d]=s[d]);if(n&&n.defaultProps)for(d in s=n.defaultProps,s)x[d]===void 0&&(x[d]=s[d]);return{$$typeof:Zg,type:n,key:g,ref:F,props:x,_owner:Kg.current}}Oa.Fragment=Gg;Oa.jsx=bf;Oa.jsxs=bf;Ho.exports=Oa;const Qi=Ho.exports.jsx,sh=Ho.exports.jsxs;function Jg(){return Aa.exports.useEffect(()=>{},[]),sh("div",{className:"m-2",children:[Qi("input",{className:"",type:"file",onChange:n=>{const s=new FileReader;s.onload=()=>{new jg(s.result,"pidCanvas").draw()},s.onerror=()=>{},n!=null&&n.target.files&&s.readAsText(n.target.files[0])}}),sh("div",{className:"",children:["Version: ","1.2.13"]}),Qi("div",{className:"text-indigo-600",children:Qi("a",{href:"https://github.com/vegarringdal/ProteusXMLDrawing",children:"Github Repo link"})}),Qi("div",{className:"italic",children:"Check console.log for errors/info (F12) in Chrome/Edge if you do not get expected result"}),Qi("div",{className:"italic",children:"Use mousebuttons to pan and mousewheel to zoom"})]})}var kf={exports:{}},fn={},If={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function s(Ce,ve){var Ie=Ce.length;Ce.push(ve);e:for(;0<Ie;){var We=Ie-1>>>1,ot=Ce[We];if(0<x(ot,ve))Ce[We]=ve,Ce[Ie]=ot,Ie=We;else break e}}function o(Ce){return Ce.length===0?null:Ce[0]}function d(Ce){if(Ce.length===0)return null;var ve=Ce[0],Ie=Ce.pop();if(Ie!==ve){Ce[0]=Ie;e:for(var We=0,ot=Ce.length,bt=ot>>>1;We<bt;){var Dt=2*(We+1)-1,De=Ce[Dt],kt=Dt+1,dn=Ce[kt];if(0>x(De,Ie))kt<ot&&0>x(dn,De)?(Ce[We]=dn,Ce[kt]=Ie,We=kt):(Ce[We]=De,Ce[Dt]=Ie,We=Dt);else if(kt<ot&&0>x(dn,Ie))Ce[We]=dn,Ce[kt]=Ie,We=kt;else break e}}return ve}function x(Ce,ve){var Ie=Ce.sortIndex-ve.sortIndex;return Ie!==0?Ie:Ce.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;n.unstable_now=function(){return g.now()}}else{var F=Date,H=F.now();n.unstable_now=function(){return F.now()-H}}var j=[],K=[],ae=1,Y=null,te=3,N=!1,ce=!1,J=!1,Ae=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(Ce){for(var ve=o(K);ve!==null;){if(ve.callback===null)d(K);else if(ve.startTime<=Ce)d(K),ve.sortIndex=ve.expirationTime,s(j,ve);else break;ve=o(K)}}function ue(Ce){if(J=!1,G(Ce),!ce)if(o(j)!==null)ce=!0,ne(me);else{var ve=o(K);ve!==null&&Xe(ue,ve.startTime-Ce)}}function me(Ce,ve){ce=!1,J&&(J=!1,q(Pe),Pe=-1),N=!0;var Ie=te;try{for(G(ve),Y=o(j);Y!==null&&(!(Y.expirationTime>ve)||Ce&&!Je());){var We=Y.callback;if(typeof We=="function"){Y.callback=null,te=Y.priorityLevel;var ot=We(Y.expirationTime<=ve);ve=n.unstable_now(),typeof ot=="function"?Y.callback=ot:Y===o(j)&&d(j),G(ve)}else d(j);Y=o(j)}if(Y!==null)var bt=!0;else{var Dt=o(K);Dt!==null&&Xe(ue,Dt.startTime-ve),bt=!1}return bt}finally{Y=null,te=Ie,N=!1}}var se=!1,ye=null,Pe=-1,Ee=5,ze=-1;function Je(){return!(n.unstable_now()-ze<Ee)}function Ke(){if(ye!==null){var Ce=n.unstable_now();ze=Ce;var ve=!0;try{ve=ye(!0,Ce)}finally{ve?Ue():(se=!1,ye=null)}}else se=!1}var Ue;if(typeof Q=="function")Ue=function(){Q(Ke)};else if(typeof MessageChannel!="undefined"){var de=new MessageChannel,nt=de.port2;de.port1.onmessage=Ke,Ue=function(){nt.postMessage(null)}}else Ue=function(){Ae(Ke,0)};function ne(Ce){ye=Ce,se||(se=!0,Ue())}function Xe(Ce,ve){Pe=Ae(function(){Ce(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Ce){Ce.callback=null},n.unstable_continueExecution=function(){ce||N||(ce=!0,ne(me))},n.unstable_forceFrameRate=function(Ce){0>Ce||125<Ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<Ce?Math.floor(1e3/Ce):5},n.unstable_getCurrentPriorityLevel=function(){return te},n.unstable_getFirstCallbackNode=function(){return o(j)},n.unstable_next=function(Ce){switch(te){case 1:case 2:case 3:var ve=3;break;default:ve=te}var Ie=te;te=ve;try{return Ce()}finally{te=Ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Ce,ve){switch(Ce){case 1:case 2:case 3:case 4:case 5:break;default:Ce=3}var Ie=te;te=Ce;try{return ve()}finally{te=Ie}},n.unstable_scheduleCallback=function(Ce,ve,Ie){var We=n.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?We+Ie:We):Ie=We,Ce){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=Ie+ot,Ce={id:ae++,callback:ve,priorityLevel:Ce,startTime:Ie,expirationTime:ot,sortIndex:-1},Ie>We?(Ce.sortIndex=Ie,s(K,Ce),o(j)===null&&Ce===o(K)&&(J?(q(Pe),Pe=-1):J=!0,Xe(ue,Ie-We))):(Ce.sortIndex=ot,s(j,Ce),ce||N||(ce=!0,ne(me))),Ce},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function(Ce){var ve=te;return function(){var Ie=te;te=ve;try{return Ce.apply(this,arguments)}finally{te=Ie}}}})(Tf);If.exports=Tf;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=Aa.exports,hn=If.exports;function we(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,Yr={};function Vi(n,s){dr(n,s),dr(n+"Capture",s)}function dr(n,s){for(Yr[n]=s,n=0;n<s.length;n++)Mf.add(s[n])}var Wn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ju=Object.prototype.hasOwnProperty,Yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ah={},uh={};function $g(n){return ju.call(uh,n)?!0:ju.call(ah,n)?!1:Yg.test(n)?uh[n]=!0:(ah[n]=!0,!1)}function e_(n,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function t_(n,s,o,d){if(s===null||typeof s=="undefined"||e_(n,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $t(n,s,o,d,x,g,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=x,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=F}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qt[n]=new $t(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];qt[s]=new $t(s,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qt[n]=new $t(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qt[n]=new $t(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qt[n]=new $t(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qt[n]=new $t(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qt[n]=new $t(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qt[n]=new $t(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qt[n]=new $t(n,5,!1,n.toLowerCase(),null,!1,!1)});var qo=/[\-:]([a-z])/g;function jo(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(qo,jo);qt[s]=new $t(s,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(qo,jo);qt[s]=new $t(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(qo,jo);qt[s]=new $t(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qt[n]=new $t(n,1,!1,n.toLowerCase(),null,!1,!1)});qt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qt[n]=new $t(n,1,!1,n.toLowerCase(),null,!0,!0)});function Wo(n,s,o,d){var x=qt.hasOwnProperty(s)?qt[s]:null;(x!==null?x.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(t_(s,o,x,d)&&(o=null),d||x===null?$g(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):x.mustUseProperty?n[x.propertyName]=o===null?x.type===3?!1:"":o:(s=x.attributeName,d=x.attributeNamespace,o===null?n.removeAttribute(s):(x=x.type,o=x===3||x===4&&o===!0?"":""+o,d?n.setAttributeNS(d,s,o):n.setAttribute(s,o))))}var Kn=Ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Zo=Symbol.for("react.strict_mode"),Wu=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Af=Symbol.for("react.context"),Go=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),Gu=Symbol.for("react.suspense_list"),Qo=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Of=Symbol.for("react.offscreen"),oh=Symbol.iterator;function Er(n){return n===null||typeof n!="object"?null:(n=oh&&n[oh]||n["@@iterator"],typeof n=="function"?n:null)}var St=Object.assign,yu;function Dr(n){if(yu===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);yu=s&&s[1]||""}return`
`+yu+n}var wu=!1;function Su(n,s){if(!n||wu)return"";wu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(n,[],s)}else{try{s.call()}catch(K){d=K}n.call(s.prototype)}else{try{throw Error()}catch(K){d=K}n()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var x=K.stack.split(`
`),g=d.stack.split(`
`),F=x.length-1,H=g.length-1;1<=F&&0<=H&&x[F]!==g[H];)H--;for(;1<=F&&0<=H;F--,H--)if(x[F]!==g[H]){if(F!==1||H!==1)do if(F--,H--,0>H||x[F]!==g[H]){var j=`
`+x[F].replace(" at new "," at ");return n.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",n.displayName)),j}while(1<=F&&0<=H);break}}}finally{wu=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Dr(n):""}function n_(n){switch(n.tag){case 5:return Dr(n.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return n=Su(n.type,!1),n;case 11:return n=Su(n.type.render,!1),n;case 1:return n=Su(n.type,!0),n;default:return""}}function Qu(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Xi:return"Fragment";case Ki:return"Portal";case Wu:return"Profiler";case Zo:return"StrictMode";case Zu:return"Suspense";case Gu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Af:return(n.displayName||"Context")+".Consumer";case zf:return(n._context.displayName||"Context")+".Provider";case Go:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Qo:return s=n.displayName||null,s!==null?s:Qu(n.type)||"Memo";case $n:s=n._payload,n=n._init;try{return Qu(n(s))}catch(o){}}return null}function i_(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qu(s);case 8:return s===Zo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function vi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Nf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function r_(n){var s=Nf(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var x=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return x.call(this)},set:function(F){d=""+F,g.call(this,F)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(F){d=""+F},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Os(n){n._valueTracker||(n._valueTracker=r_(n))}function Lf(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return n&&(d=Nf(n)?n.checked?"true":"false":n.value),n=d,n!==o?(s.setValue(n),!0):!1}function oa(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(s){return n.body}}function Ku(n,s){var o=s.checked;return St({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:n._wrapperState.initialChecked})}function lh(n,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=vi(s.value!=null?s.value:o),n._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ff(n,s){s=s.checked,s!=null&&Wo(n,"checked",s,!1)}function Xu(n,s){Ff(n,s);var o=vi(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Ju(n,s.type,o):s.hasOwnProperty("defaultValue")&&Ju(n,s.type,vi(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function hh(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Ju(n,s,o){(s!=="number"||oa(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Br=Array.isArray;function ur(n,s,o,d){if(n=n.options,s){s={};for(var x=0;x<o.length;x++)s["$"+o[x]]=!0;for(o=0;o<n.length;o++)x=s.hasOwnProperty("$"+n[o].value),n[o].selected!==x&&(n[o].selected=x),x&&d&&(n[o].defaultSelected=!0)}else{for(o=""+vi(o),s=null,x=0;x<n.length;x++){if(n[x].value===o){n[x].selected=!0,d&&(n[x].defaultSelected=!0);return}s!==null||n[x].disabled||(s=n[x])}s!==null&&(s.selected=!0)}}function Yu(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(we(91));return St({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fh(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(we(92));if(Br(o)){if(1<o.length)throw Error(we(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:vi(o)}}function Rf(n,s){var o=vi(s.value),d=vi(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),d!=null&&(n.defaultValue=""+d)}function ch(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Df(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $u(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Df(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ns,Bf=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,o,d,x){MSApp.execUnsafeLocalFunction(function(){return n(s,o,d,x)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ns.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function $r(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s_=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(n){s_.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),qr[s]=qr[n]})});function Vf(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||qr.hasOwnProperty(n)&&qr[n]?(""+s).trim():s+"px"}function Uf(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,x=Vf(o,s[o],d);o==="float"&&(o="cssFloat"),d?n.setProperty(o,x):n[o]=x}}var a_=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(n,s){if(s){if(a_[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(we(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(we(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(we(61))}if(s.style!=null&&typeof s.style!="object")throw Error(we(62))}}function to(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function Ko(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var io=null,or=null,lr=null;function dh(n){if(n=ms(n)){if(typeof io!="function")throw Error(we(280));var s=n.stateNode;s&&(s=Da(s),io(n.stateNode,n.type,s))}}function Hf(n){or?lr?lr.push(n):lr=[n]:or=n}function qf(){if(or){var n=or,s=lr;if(lr=or=null,dh(n),s)for(n=0;n<s.length;n++)dh(s[n])}}function jf(n,s){return n(s)}function Wf(){}var Cu=!1;function Zf(n,s,o){if(Cu)return n(s,o);Cu=!0;try{return jf(n,s,o)}finally{Cu=!1,(or!==null||lr!==null)&&(Wf(),qf())}}function es(n,s){var o=n.stateNode;if(o===null)return null;var d=Da(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(we(231,s,typeof o));return o}var ro=!1;if(Wn)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch(n){ro=!1}function u_(n,s,o,d,x,g,F,H,j){var K=Array.prototype.slice.call(arguments,3);try{s.apply(o,K)}catch(ae){this.onError(ae)}}var jr=!1,la=null,ha=!1,so=null,o_={onError:function(n){jr=!0,la=n}};function l_(n,s,o,d,x,g,F,H,j){jr=!1,la=null,u_.apply(o_,arguments)}function h_(n,s,o,d,x,g,F,H,j){if(l_.apply(this,arguments),jr){if(jr){var K=la;jr=!1,la=null}else throw Error(we(198));ha||(ha=!0,so=K)}}function Ui(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Gf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function gh(n){if(Ui(n)!==n)throw Error(we(188))}function f_(n){var s=n.alternate;if(!s){if(s=Ui(n),s===null)throw Error(we(188));return s!==n?null:n}for(var o=n,d=s;;){var x=o.return;if(x===null)break;var g=x.alternate;if(g===null){if(d=x.return,d!==null){o=d;continue}break}if(x.child===g.child){for(g=x.child;g;){if(g===o)return gh(x),n;if(g===d)return gh(x),s;g=g.sibling}throw Error(we(188))}if(o.return!==d.return)o=x,d=g;else{for(var F=!1,H=x.child;H;){if(H===o){F=!0,o=x,d=g;break}if(H===d){F=!0,d=x,o=g;break}H=H.sibling}if(!F){for(H=g.child;H;){if(H===o){F=!0,o=g,d=x;break}if(H===d){F=!0,d=g,o=x;break}H=H.sibling}if(!F)throw Error(we(189))}}if(o.alternate!==d)throw Error(we(190))}if(o.tag!==3)throw Error(we(188));return o.stateNode.current===o?n:s}function Qf(n){return n=f_(n),n!==null?Kf(n):null}function Kf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Kf(n);if(s!==null)return s;n=n.sibling}return null}var Xf=hn.unstable_scheduleCallback,_h=hn.unstable_cancelCallback,c_=hn.unstable_shouldYield,d_=hn.unstable_requestPaint,Pt=hn.unstable_now,g_=hn.unstable_getCurrentPriorityLevel,Xo=hn.unstable_ImmediatePriority,Jf=hn.unstable_UserBlockingPriority,fa=hn.unstable_NormalPriority,__=hn.unstable_LowPriority,Yf=hn.unstable_IdlePriority,Na=null,Ln=null;function v_(n){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Na,n,void 0,(n.current.flags&128)===128)}catch(s){}}var In=Math.clz32?Math.clz32:y_,p_=Math.log,m_=Math.LN2;function y_(n){return n>>>=0,n===0?32:31-(p_(n)/m_|0)|0}var Ls=64,Fs=4194304;function Vr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ca(n,s){var o=n.pendingLanes;if(o===0)return 0;var d=0,x=n.suspendedLanes,g=n.pingedLanes,F=o&268435455;if(F!==0){var H=F&~x;H!==0?d=Vr(H):(g&=F,g!==0&&(d=Vr(g)))}else F=o&~x,F!==0?d=Vr(F):g!==0&&(d=Vr(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&x)===0&&(x=d&-d,g=s&-s,x>=g||x===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)o=31-In(s),x=1<<o,d|=n[o],s&=~x;return d}function w_(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(n,s){for(var o=n.suspendedLanes,d=n.pingedLanes,x=n.expirationTimes,g=n.pendingLanes;0<g;){var F=31-In(g),H=1<<F,j=x[F];j===-1?((H&o)===0||(H&d)!==0)&&(x[F]=w_(H,s)):j<=s&&(n.expiredLanes|=H),g&=~H}}function ao(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function $f(){var n=Ls;return Ls<<=1,(Ls&4194240)===0&&(Ls=64),n}function xu(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function vs(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-In(s),n[s]=o}function C_(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<o;){var x=31-In(o),g=1<<x;s[x]=0,d[x]=-1,n[x]=-1,o&=~g}}function Jo(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var d=31-In(o),x=1<<d;x&s|n[d]&s&&(n[d]|=s),o&=~x}}var at=0;function ec(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var tc,Yo,nc,ic,rc,uo=!1,Rs=[],si=null,ai=null,ui=null,ts=new Map,ns=new Map,ti=[],x_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(n,s){switch(n){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(s.pointerId)}}function zr(n,s,o,d,x,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[x]},s!==null&&(s=ms(s),s!==null&&Yo(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),n)}function P_(n,s,o,d,x){switch(s){case"focusin":return si=zr(si,n,s,o,d,x),!0;case"dragenter":return ai=zr(ai,n,s,o,d,x),!0;case"mouseover":return ui=zr(ui,n,s,o,d,x),!0;case"pointerover":var g=x.pointerId;return ts.set(g,zr(ts.get(g)||null,n,s,o,d,x)),!0;case"gotpointercapture":return g=x.pointerId,ns.set(g,zr(ns.get(g)||null,n,s,o,d,x)),!0}return!1}function sc(n){var s=Mi(n.target);if(s!==null){var o=Ui(s);if(o!==null){if(s=o.tag,s===13){if(s=Gf(o),s!==null){n.blockedOn=s,rc(n.priority,function(){nc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xs(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=oo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);no=d,o.target.dispatchEvent(d),no=null}else return s=ms(o),s!==null&&Yo(s),n.blockedOn=o,!1;s.shift()}return!0}function ph(n,s,o){Xs(n)&&o.delete(s)}function b_(){uo=!1,si!==null&&Xs(si)&&(si=null),ai!==null&&Xs(ai)&&(ai=null),ui!==null&&Xs(ui)&&(ui=null),ts.forEach(ph),ns.forEach(ph)}function Ar(n,s){n.blockedOn===s&&(n.blockedOn=null,uo||(uo=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,b_)))}function is(n){function s(x){return Ar(x,n)}if(0<Rs.length){Ar(Rs[0],n);for(var o=1;o<Rs.length;o++){var d=Rs[o];d.blockedOn===n&&(d.blockedOn=null)}}for(si!==null&&Ar(si,n),ai!==null&&Ar(ai,n),ui!==null&&Ar(ui,n),ts.forEach(s),ns.forEach(s),o=0;o<ti.length;o++)d=ti[o],d.blockedOn===n&&(d.blockedOn=null);for(;0<ti.length&&(o=ti[0],o.blockedOn===null);)sc(o),o.blockedOn===null&&ti.shift()}var hr=Kn.ReactCurrentBatchConfig,da=!0;function k_(n,s,o,d){var x=at,g=hr.transition;hr.transition=null;try{at=1,$o(n,s,o,d)}finally{at=x,hr.transition=g}}function I_(n,s,o,d){var x=at,g=hr.transition;hr.transition=null;try{at=4,$o(n,s,o,d)}finally{at=x,hr.transition=g}}function $o(n,s,o,d){if(da){var x=oo(n,s,o,d);if(x===null)Ou(n,s,d,ga,o),vh(n,d);else if(P_(x,n,s,o,d))d.stopPropagation();else if(vh(n,d),s&4&&-1<x_.indexOf(n)){for(;x!==null;){var g=ms(x);if(g!==null&&tc(g),g=oo(n,s,o,d),g===null&&Ou(n,s,d,ga,o),g===x)break;x=g}x!==null&&d.stopPropagation()}else Ou(n,s,d,null,o)}}var ga=null;function oo(n,s,o,d){if(ga=null,n=Ko(d),n=Mi(n),n!==null)if(s=Ui(n),s===null)n=null;else if(o=s.tag,o===13){if(n=Gf(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ga=n,null}function ac(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case Xo:return 1;case Jf:return 4;case fa:case __:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var ii=null,el=null,Js=null;function uc(){if(Js)return Js;var n,s=el,o=s.length,d,x="value"in ii?ii.value:ii.textContent,g=x.length;for(n=0;n<o&&s[n]===x[n];n++);var F=o-n;for(d=1;d<=F&&s[o-d]===x[g-d];d++);return Js=x.slice(n,1<d?1-d:void 0)}function Ys(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ds(){return!0}function mh(){return!1}function cn(n){function s(o,d,x,g,F){this._reactName=o,this._targetInst=x,this.type=d,this.nativeEvent=g,this.target=F,this.currentTarget=null;for(var H in n)n.hasOwnProperty(H)&&(o=n[H],this[H]=o?o(g):g[H]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ds:mh,this.isPropagationStopped=mh,this}return St(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=cn(Sr),ps=St({},Sr,{view:0,detail:0}),T_=cn(ps),Pu,bu,Or,La=St({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Or&&(Or&&n.type==="mousemove"?(Pu=n.screenX-Or.screenX,bu=n.screenY-Or.screenY):bu=Pu=0,Or=n),Pu)},movementY:function(n){return"movementY"in n?n.movementY:bu}}),yh=cn(La),E_=St({},La,{dataTransfer:0}),M_=cn(E_),z_=St({},ps,{relatedTarget:0}),ku=cn(z_),A_=St({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),O_=cn(A_),N_=St({},Sr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),L_=cn(N_),F_=St({},Sr,{data:0}),wh=cn(F_),R_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V_(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=B_[n])?!!s[n]:!1}function nl(){return V_}var U_=St({},ps,{key:function(n){if(n.key){var s=R_[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?D_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),H_=cn(U_),q_=St({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=cn(q_),j_=St({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),W_=cn(j_),Z_=St({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),G_=cn(Z_),Q_=St({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K_=cn(Q_),X_=[9,13,27,32],il=Wn&&"CompositionEvent"in window,Wr=null;Wn&&"documentMode"in document&&(Wr=document.documentMode);var J_=Wn&&"TextEvent"in window&&!Wr,oc=Wn&&(!il||Wr&&8<Wr&&11>=Wr),Ch=String.fromCharCode(32),xh=!1;function lc(n,s){switch(n){case"keyup":return X_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ji=!1;function Y_(n,s){switch(n){case"compositionend":return hc(s);case"keypress":return s.which!==32?null:(xh=!0,Ch);case"textInput":return n=s.data,n===Ch&&xh?null:n;default:return null}}function $_(n,s){if(Ji)return n==="compositionend"||!il&&lc(n,s)?(n=uc(),Js=el=ii=null,Ji=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return oc&&s.locale!=="ko"?null:s.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!e0[n.type]:s==="textarea"}function fc(n,s,o,d){Hf(d),s=_a(s,"onChange"),0<s.length&&(o=new tl("onChange","change",null,o,d),n.push({event:o,listeners:s}))}var Zr=null,rs=null;function t0(n){Cc(n,0)}function Fa(n){var s=er(n);if(Lf(s))return n}function n0(n,s){if(n==="change")return s}var cc=!1;if(Wn){var Iu;if(Wn){var Tu="oninput"in document;if(!Tu){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Tu=typeof bh.oninput=="function"}Iu=Tu}else Iu=!1;cc=Iu&&(!document.documentMode||9<document.documentMode)}function kh(){Zr&&(Zr.detachEvent("onpropertychange",dc),rs=Zr=null)}function dc(n){if(n.propertyName==="value"&&Fa(rs)){var s=[];fc(s,rs,n,Ko(n)),Zf(t0,s)}}function i0(n,s,o){n==="focusin"?(kh(),Zr=s,rs=o,Zr.attachEvent("onpropertychange",dc)):n==="focusout"&&kh()}function r0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fa(rs)}function s0(n,s){if(n==="click")return Fa(s)}function a0(n,s){if(n==="input"||n==="change")return Fa(s)}function u0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var En=typeof Object.is=="function"?Object.is:u0;function ss(n,s){if(En(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var x=o[d];if(!ju.call(s,x)||!En(n[x],s[x]))return!1}return!0}function Ih(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Th(n,s){var o=Ih(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=s&&d>=s)return{node:o,offset:s-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ih(o)}}function gc(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?gc(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function _c(){for(var n=window,s=oa();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch(d){o=!1}if(o)n=s.contentWindow;else break;s=oa(n.document)}return s}function rl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function o0(n){var s=_c(),o=n.focusedElem,d=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&gc(o.ownerDocument.documentElement,o)){if(d!==null&&rl(o)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var x=o.textContent.length,g=Math.min(d.start,x);d=d.end===void 0?g:Math.min(d.end,x),!n.extend&&g>d&&(x=d,d=g,g=x),x=Th(o,g);var F=Th(o,d);x&&F&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==F.node||n.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var l0=Wn&&"documentMode"in document&&11>=document.documentMode,Yi=null,lo=null,Gr=null,ho=!1;function Eh(n,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ho||Yi==null||Yi!==oa(d)||(d=Yi,"selectionStart"in d&&rl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Gr&&ss(Gr,d)||(Gr=d,d=_a(lo,"onSelect"),0<d.length&&(s=new tl("onSelect","select",null,s,o),n.push({event:s,listeners:d}),s.target=Yi)))}function Bs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var $i={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},Eu={},vc={};Wn&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Ra(n){if(Eu[n])return Eu[n];if(!$i[n])return n;var s=$i[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in vc)return Eu[n]=s[o];return n}var pc=Ra("animationend"),mc=Ra("animationiteration"),yc=Ra("animationstart"),wc=Ra("transitionend"),Sc=new Map,Mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(n,s){Sc.set(n,s),Vi(s,[n])}for(var Mu=0;Mu<Mh.length;Mu++){var zu=Mh[Mu],h0=zu.toLowerCase(),f0=zu[0].toUpperCase()+zu.slice(1);mi(h0,"on"+f0)}mi(pc,"onAnimationEnd");mi(mc,"onAnimationIteration");mi(yc,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(wc,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function zh(n,s,o){var d=n.type||"unknown-event";n.currentTarget=o,h_(d,s,void 0,n),n.currentTarget=null}function Cc(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],x=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var F=d.length-1;0<=F;F--){var H=d[F],j=H.instance,K=H.currentTarget;if(H=H.listener,j!==g&&x.isPropagationStopped())break e;zh(x,H,K),g=j}else for(F=0;F<d.length;F++){if(H=d[F],j=H.instance,K=H.currentTarget,H=H.listener,j!==g&&x.isPropagationStopped())break e;zh(x,H,K),g=j}}}if(ha)throw n=so,ha=!1,so=null,n}function ct(n,s){var o=s[vo];o===void 0&&(o=s[vo]=new Set);var d=n+"__bubble";o.has(d)||(xc(s,n,2,!1),o.add(d))}function Au(n,s,o){var d=0;s&&(d|=4),xc(o,n,d,s)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function as(n){if(!n[Vs]){n[Vs]=!0,Mf.forEach(function(o){o!=="selectionchange"&&(c0.has(o)||Au(o,!1,n),Au(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Vs]||(s[Vs]=!0,Au("selectionchange",!1,s))}}function xc(n,s,o,d){switch(ac(s)){case 1:var x=k_;break;case 4:x=I_;break;default:x=$o}o=x.bind(null,s,o,n),x=void 0,!ro||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),d?x!==void 0?n.addEventListener(s,o,{capture:!0,passive:x}):n.addEventListener(s,o,!0):x!==void 0?n.addEventListener(s,o,{passive:x}):n.addEventListener(s,o,!1)}function Ou(n,s,o,d,x){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var F=d.tag;if(F===3||F===4){var H=d.stateNode.containerInfo;if(H===x||H.nodeType===8&&H.parentNode===x)break;if(F===4)for(F=d.return;F!==null;){var j=F.tag;if((j===3||j===4)&&(j=F.stateNode.containerInfo,j===x||j.nodeType===8&&j.parentNode===x))return;F=F.return}for(;H!==null;){if(F=Mi(H),F===null)return;if(j=F.tag,j===5||j===6){d=g=F;continue e}H=H.parentNode}}d=d.return}Zf(function(){var K=g,ae=Ko(o),Y=[];e:{var te=Sc.get(n);if(te!==void 0){var N=tl,ce=n;switch(n){case"keypress":if(Ys(o)===0)break e;case"keydown":case"keyup":N=H_;break;case"focusin":ce="focus",N=ku;break;case"focusout":ce="blur",N=ku;break;case"beforeblur":case"afterblur":N=ku;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=M_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=W_;break;case pc:case mc:case yc:N=O_;break;case wc:N=G_;break;case"scroll":N=T_;break;case"wheel":N=K_;break;case"copy":case"cut":case"paste":N=L_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Sh}var J=(s&4)!==0,Ae=!J&&n==="scroll",q=J?te!==null?te+"Capture":null:te;J=[];for(var Q=K,G;Q!==null;){G=Q;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=es(Q,q),ue!=null&&J.push(us(Q,ue,G)))),Ae)break;Q=Q.return}0<J.length&&(te=new N(te,ce,null,o,ae),Y.push({event:te,listeners:J}))}}if((s&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",N=n==="mouseout"||n==="pointerout",te&&o!==no&&(ce=o.relatedTarget||o.fromElement)&&(Mi(ce)||ce[Zn]))break e;if((N||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,N?(ce=o.relatedTarget||o.toElement,N=K,ce=ce?Mi(ce):null,ce!==null&&(Ae=Ui(ce),ce!==Ae||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(N=null,ce=K),N!==ce)){if(J=yh,ue="onMouseLeave",q="onMouseEnter",Q="mouse",(n==="pointerout"||n==="pointerover")&&(J=Sh,ue="onPointerLeave",q="onPointerEnter",Q="pointer"),Ae=N==null?te:er(N),G=ce==null?te:er(ce),te=new J(ue,Q+"leave",N,o,ae),te.target=Ae,te.relatedTarget=G,ue=null,Mi(ae)===K&&(J=new J(q,Q+"enter",ce,o,ae),J.target=G,J.relatedTarget=Ae,ue=J),Ae=ue,N&&ce)t:{for(J=N,q=ce,Q=0,G=J;G;G=Gi(G))Q++;for(G=0,ue=q;ue;ue=Gi(ue))G++;for(;0<Q-G;)J=Gi(J),Q--;for(;0<G-Q;)q=Gi(q),G--;for(;Q--;){if(J===q||q!==null&&J===q.alternate)break t;J=Gi(J),q=Gi(q)}J=null}else J=null;N!==null&&Ah(Y,te,N,J,!1),ce!==null&&Ae!==null&&Ah(Y,Ae,ce,J,!0)}}e:{if(te=K?er(K):window,N=te.nodeName&&te.nodeName.toLowerCase(),N==="select"||N==="input"&&te.type==="file")var me=n0;else if(Ph(te))if(cc)me=a0;else{me=r0;var se=i0}else(N=te.nodeName)&&N.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(me=s0);if(me&&(me=me(n,K))){fc(Y,me,o,ae);break e}se&&se(n,te,K),n==="focusout"&&(se=te._wrapperState)&&se.controlled&&te.type==="number"&&Ju(te,"number",te.value)}switch(se=K?er(K):window,n){case"focusin":(Ph(se)||se.contentEditable==="true")&&(Yi=se,lo=K,Gr=null);break;case"focusout":Gr=lo=Yi=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,Eh(Y,o,ae);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Eh(Y,o,ae)}var ye;if(il)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ji?lc(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(oc&&o.locale!=="ko"&&(Ji||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ji&&(ye=uc()):(ii=ae,el="value"in ii?ii.value:ii.textContent,Ji=!0)),se=_a(K,Pe),0<se.length&&(Pe=new wh(Pe,n,null,o,ae),Y.push({event:Pe,listeners:se}),ye?Pe.data=ye:(ye=hc(o),ye!==null&&(Pe.data=ye)))),(ye=J_?Y_(n,o):$_(n,o))&&(K=_a(K,"onBeforeInput"),0<K.length&&(ae=new wh("onBeforeInput","beforeinput",null,o,ae),Y.push({event:ae,listeners:K}),ae.data=ye))}Cc(Y,s)})}function us(n,s,o){return{instance:n,listener:s,currentTarget:o}}function _a(n,s){for(var o=s+"Capture",d=[];n!==null;){var x=n,g=x.stateNode;x.tag===5&&g!==null&&(x=g,g=es(n,o),g!=null&&d.unshift(us(n,g,x)),g=es(n,s),g!=null&&d.push(us(n,g,x))),n=n.return}return d}function Gi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ah(n,s,o,d,x){for(var g=s._reactName,F=[];o!==null&&o!==d;){var H=o,j=H.alternate,K=H.stateNode;if(j!==null&&j===d)break;H.tag===5&&K!==null&&(H=K,x?(j=es(o,g),j!=null&&F.unshift(us(o,j,H))):x||(j=es(o,g),j!=null&&F.push(us(o,j,H)))),o=o.return}F.length!==0&&n.push({event:s,listeners:F})}var d0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Oh(n){return(typeof n=="string"?n:""+n).replace(d0,`
`).replace(g0,"")}function Us(n,s,o){if(s=Oh(s),Oh(n)!==s&&o)throw Error(we(425))}function va(){}var fo=null,co=null;function go(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _o=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Nh=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof Nh!="undefined"?function(n){return Nh.resolve(null).then(n).catch(p0)}:_o;function p0(n){setTimeout(function(){throw n})}function Nu(n,s){var o=s,d=0;do{var x=o.nextSibling;if(n.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(d===0){n.removeChild(x),is(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=x}while(o);is(s)}function oi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Lh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Cr,os="__reactProps$"+Cr,Zn="__reactContainer$"+Cr,vo="__reactEvents$"+Cr,m0="__reactListeners$"+Cr,y0="__reactHandles$"+Cr;function Mi(n){var s=n[Nn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Zn]||o[Nn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Lh(n);n!==null;){if(o=n[Nn])return o;n=Lh(n)}return s}n=o,o=n.parentNode}return null}function ms(n){return n=n[Nn]||n[Zn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function er(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(we(33))}function Da(n){return n[os]||null}var po=[],tr=-1;function yi(n){return{current:n}}function dt(n){0>tr||(n.current=po[tr],po[tr]=null,tr--)}function lt(n,s){tr++,po[tr]=n.current,n.current=s}var pi={},Kt=yi(pi),nn=yi(!1),Li=pi;function gr(n,s){var o=n.type.contextTypes;if(!o)return pi;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var x={},g;for(g in o)x[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=x),x}function rn(n){return n=n.childContextTypes,n!=null}function pa(){dt(nn),dt(Kt)}function Fh(n,s,o){if(Kt.current!==pi)throw Error(we(168));lt(Kt,s),lt(nn,o)}function Pc(n,s,o){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var x in d)if(!(x in s))throw Error(we(108,i_(n)||"Unknown",x));return St({},o,d)}function ma(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||pi,Li=Kt.current,lt(Kt,n),lt(nn,nn.current),!0}function Rh(n,s,o){var d=n.stateNode;if(!d)throw Error(we(169));o?(n=Pc(n,s,Li),d.__reactInternalMemoizedMergedChildContext=n,dt(nn),dt(Kt),lt(Kt,n)):dt(nn),lt(nn,o)}var Un=null,Ba=!1,Lu=!1;function bc(n){Un===null?Un=[n]:Un.push(n)}function w0(n){Ba=!0,bc(n)}function wi(){if(!Lu&&Un!==null){Lu=!0;var n=0,s=at;try{var o=Un;for(at=1;n<o.length;n++){var d=o[n];do d=d(!0);while(d!==null)}Un=null,Ba=!1}catch(x){throw Un!==null&&(Un=Un.slice(n+1)),Xf(Xo,wi),x}finally{at=s,Lu=!1}}return null}var nr=[],ir=0,ya=null,wa=0,gn=[],_n=0,Fi=null,Hn=1,qn="";function Ti(n,s){nr[ir++]=wa,nr[ir++]=ya,ya=n,wa=s}function kc(n,s,o){gn[_n++]=Hn,gn[_n++]=qn,gn[_n++]=Fi,Fi=n;var d=Hn;n=qn;var x=32-In(d)-1;d&=~(1<<x),o+=1;var g=32-In(s)+x;if(30<g){var F=x-x%5;g=(d&(1<<F)-1).toString(32),d>>=F,x-=F,Hn=1<<32-In(s)+x|o<<x|d,qn=g+n}else Hn=1<<g|o<<x|d,qn=n}function sl(n){n.return!==null&&(Ti(n,1),kc(n,1,0))}function al(n){for(;n===ya;)ya=nr[--ir],nr[ir]=null,wa=nr[--ir],nr[ir]=null;for(;n===Fi;)Fi=gn[--_n],gn[_n]=null,qn=gn[--_n],gn[_n]=null,Hn=gn[--_n],gn[_n]=null}var ln=null,on=null,_t=!1,kn=null;function Ic(n,s){var o=vn(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function Dh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,ln=n,on=oi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,ln=n,on=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Fi!==null?{id:Hn,overflow:qn}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=vn(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,ln=n,on=null,!0):!1;default:return!1}}function mo(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yo(n){if(_t){var s=on;if(s){var o=s;if(!Dh(n,s)){if(mo(n))throw Error(we(418));s=oi(o.nextSibling);var d=ln;s&&Dh(n,s)?Ic(d,o):(n.flags=n.flags&-4097|2,_t=!1,ln=n)}}else{if(mo(n))throw Error(we(418));n.flags=n.flags&-4097|2,_t=!1,ln=n}}}function Bh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function Hs(n){if(n!==ln)return!1;if(!_t)return Bh(n),_t=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!go(n.type,n.memoizedProps)),s&&(s=on)){if(mo(n))throw Tc(),Error(we(418));for(;s;)Ic(n,s),s=oi(s.nextSibling)}if(Bh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(we(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){on=oi(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}on=null}}else on=ln?oi(n.stateNode.nextSibling):null;return!0}function Tc(){for(var n=on;n;)n=oi(n.nextSibling)}function _r(){on=ln=null,_t=!1}function ul(n){kn===null?kn=[n]:kn.push(n)}var S0=Kn.ReactCurrentBatchConfig;function Pn(n,s){if(n&&n.defaultProps){s=St({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}var Sa=yi(null),Ca=null,rr=null,ol=null;function ll(){ol=rr=Ca=null}function hl(n){var s=Sa.current;dt(Sa),n._currentValue=s}function wo(n,s,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===o)break;n=n.return}}function fr(n,s){Ca=n,ol=rr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(tn=!0),n.firstContext=null)}function mn(n){var s=n._currentValue;if(ol!==n)if(n={context:n,memoizedValue:s,next:null},rr===null){if(Ca===null)throw Error(we(308));rr=n,Ca.dependencies={lanes:0,firstContext:n}}else rr=rr.next=n;return s}var zi=null;function fl(n){zi===null?zi=[n]:zi.push(n)}function Ec(n,s,o,d){var x=s.interleaved;return x===null?(o.next=o,fl(s)):(o.next=x.next,x.next=o),s.interleaved=o,Gn(n,d)}function Gn(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var ei=!1;function cl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function jn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function li(n,s,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(tt&2)!==0){var x=d.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),d.pending=s,Gn(n,o)}return x=d.interleaved,x===null?(s.next=s,fl(d)):(s.next=x.next,x.next=s),d.interleaved=s,Gn(n,o)}function $s(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,Jo(n,o)}}function Vh(n,s){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var x=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var F={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?x=g=F:g=g.next=F,o=o.next}while(o!==null);g===null?x=g=s:g=g.next=s}else x=g=s;o={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function xa(n,s,o,d){var x=n.updateQueue;ei=!1;var g=x.firstBaseUpdate,F=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var j=H,K=j.next;j.next=null,F===null?g=K:F.next=K,F=j;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,H=ae.lastBaseUpdate,H!==F&&(H===null?ae.firstBaseUpdate=K:H.next=K,ae.lastBaseUpdate=j))}if(g!==null){var Y=x.baseState;F=0,ae=K=j=null,H=g;do{var te=H.lane,N=H.eventTime;if((d&te)===te){ae!==null&&(ae=ae.next={eventTime:N,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ce=n,J=H;switch(te=s,N=o,J.tag){case 1:if(ce=J.payload,typeof ce=="function"){Y=ce.call(N,Y,te);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=J.payload,te=typeof ce=="function"?ce.call(N,Y,te):ce,te==null)break e;Y=St({},Y,te);break e;case 2:ei=!0}}H.callback!==null&&H.lane!==0&&(n.flags|=64,te=x.effects,te===null?x.effects=[H]:te.push(H))}else N={eventTime:N,lane:te,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ae===null?(K=ae=N,j=Y):ae=ae.next=N,F|=te;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;te=H,H=te.next,te.next=null,x.lastBaseUpdate=te,x.shared.pending=null}}while(1);if(ae===null&&(j=Y),x.baseState=j,x.firstBaseUpdate=K,x.lastBaseUpdate=ae,s=x.shared.interleaved,s!==null){x=s;do F|=x.lane,x=x.next;while(x!==s)}else g===null&&(x.shared.lanes=0);Di|=F,n.lanes=F,n.memoizedState=Y}}function Uh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],x=d.callback;if(x!==null){if(d.callback=null,d=o,typeof x!="function")throw Error(we(191,x));x.call(d)}}}var zc=new Ef.Component().refs;function So(n,s,o,d){s=n.memoizedState,o=o(d,s),o=o==null?s:St({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Va={isMounted:function(n){return(n=n._reactInternals)?Ui(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var d=Jt(),x=fi(n),g=jn(d,x);g.payload=s,o!=null&&(g.callback=o),s=li(n,g,x),s!==null&&(Tn(s,n,x,d),$s(s,n,x))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var d=Jt(),x=fi(n),g=jn(d,x);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=li(n,g,x),s!==null&&(Tn(s,n,x,d),$s(s,n,x))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Jt(),d=fi(n),x=jn(o,d);x.tag=2,s!=null&&(x.callback=s),s=li(n,x,d),s!==null&&(Tn(s,n,d,o),$s(s,n,d))}};function Hh(n,s,o,d,x,g,F){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,F):s.prototype&&s.prototype.isPureReactComponent?!ss(o,d)||!ss(x,g):!0}function Ac(n,s,o){var d=!1,x=pi,g=s.contextType;return typeof g=="object"&&g!==null?g=mn(g):(x=rn(s)?Li:Kt.current,d=s.contextTypes,g=(d=d!=null)?gr(n,x):pi),s=new s(o,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Va,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=g),s}function qh(n,s,o,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==n&&Va.enqueueReplaceState(s,s.state,null)}function Co(n,s,o,d){var x=n.stateNode;x.props=o,x.state=n.memoizedState,x.refs=zc,cl(n);var g=s.contextType;typeof g=="object"&&g!==null?x.context=mn(g):(g=rn(s)?Li:Kt.current,x.context=gr(n,g)),x.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(So(n,s,g,o),x.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&Va.enqueueReplaceState(x,x.state,null),xa(n,o,x,d),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function Nr(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(we(309));var d=o.stateNode}if(!d)throw Error(we(147,n));var x=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(F){var H=x.refs;H===zc&&(H=x.refs={}),F===null?delete H[g]:H[g]=F},s._stringRef=g,s)}if(typeof n!="string")throw Error(we(284));if(!o._owner)throw Error(we(290,n))}return n}function qs(n,s){throw n=Object.prototype.toString.call(s),Error(we(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function jh(n){var s=n._init;return s(n._payload)}function Oc(n){function s(q,Q){if(n){var G=q.deletions;G===null?(q.deletions=[Q],q.flags|=16):G.push(Q)}}function o(q,Q){if(!n)return null;for(;Q!==null;)s(q,Q),Q=Q.sibling;return null}function d(q,Q){for(q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function x(q,Q){return q=ci(q,Q),q.index=0,q.sibling=null,q}function g(q,Q,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<Q?(q.flags|=2,Q):G):(q.flags|=2,Q)):(q.flags|=1048576,Q)}function F(q){return n&&q.alternate===null&&(q.flags|=2),q}function H(q,Q,G,ue){return Q===null||Q.tag!==6?(Q=Hu(G,q.mode,ue),Q.return=q,Q):(Q=x(Q,G),Q.return=q,Q)}function j(q,Q,G,ue){var me=G.type;return me===Xi?ae(q,Q,G.props.children,ue,G.key):Q!==null&&(Q.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===$n&&jh(me)===Q.type)?(ue=x(Q,G.props),ue.ref=Nr(q,Q,G),ue.return=q,ue):(ue=sa(G.type,G.key,G.props,null,q.mode,ue),ue.ref=Nr(q,Q,G),ue.return=q,ue)}function K(q,Q,G,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==G.containerInfo||Q.stateNode.implementation!==G.implementation?(Q=qu(G,q.mode,ue),Q.return=q,Q):(Q=x(Q,G.children||[]),Q.return=q,Q)}function ae(q,Q,G,ue,me){return Q===null||Q.tag!==7?(Q=Ni(G,q.mode,ue,me),Q.return=q,Q):(Q=x(Q,G),Q.return=q,Q)}function Y(q,Q,G){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Hu(""+Q,q.mode,G),Q.return=q,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case As:return G=sa(Q.type,Q.key,Q.props,null,q.mode,G),G.ref=Nr(q,null,Q),G.return=q,G;case Ki:return Q=qu(Q,q.mode,G),Q.return=q,Q;case $n:var ue=Q._init;return Y(q,ue(Q._payload),G)}if(Br(Q)||Er(Q))return Q=Ni(Q,q.mode,G,null),Q.return=q,Q;qs(q,Q)}return null}function te(q,Q,G,ue){var me=Q!==null?Q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return me!==null?null:H(q,Q,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case As:return G.key===me?j(q,Q,G,ue):null;case Ki:return G.key===me?K(q,Q,G,ue):null;case $n:return me=G._init,te(q,Q,me(G._payload),ue)}if(Br(G)||Er(G))return me!==null?null:ae(q,Q,G,ue,null);qs(q,G)}return null}function N(q,Q,G,ue,me){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,H(Q,q,""+ue,me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case As:return q=q.get(ue.key===null?G:ue.key)||null,j(Q,q,ue,me);case Ki:return q=q.get(ue.key===null?G:ue.key)||null,K(Q,q,ue,me);case $n:var se=ue._init;return N(q,Q,G,se(ue._payload),me)}if(Br(ue)||Er(ue))return q=q.get(G)||null,ae(Q,q,ue,me,null);qs(Q,ue)}return null}function ce(q,Q,G,ue){for(var me=null,se=null,ye=Q,Pe=Q=0,Ee=null;ye!==null&&Pe<G.length;Pe++){ye.index>Pe?(Ee=ye,ye=null):Ee=ye.sibling;var ze=te(q,ye,G[Pe],ue);if(ze===null){ye===null&&(ye=Ee);break}n&&ye&&ze.alternate===null&&s(q,ye),Q=g(ze,Q,Pe),se===null?me=ze:se.sibling=ze,se=ze,ye=Ee}if(Pe===G.length)return o(q,ye),_t&&Ti(q,Pe),me;if(ye===null){for(;Pe<G.length;Pe++)ye=Y(q,G[Pe],ue),ye!==null&&(Q=g(ye,Q,Pe),se===null?me=ye:se.sibling=ye,se=ye);return _t&&Ti(q,Pe),me}for(ye=d(q,ye);Pe<G.length;Pe++)Ee=N(ye,q,Pe,G[Pe],ue),Ee!==null&&(n&&Ee.alternate!==null&&ye.delete(Ee.key===null?Pe:Ee.key),Q=g(Ee,Q,Pe),se===null?me=Ee:se.sibling=Ee,se=Ee);return n&&ye.forEach(function(Je){return s(q,Je)}),_t&&Ti(q,Pe),me}function J(q,Q,G,ue){var me=Er(G);if(typeof me!="function")throw Error(we(150));if(G=me.call(G),G==null)throw Error(we(151));for(var se=me=null,ye=Q,Pe=Q=0,Ee=null,ze=G.next();ye!==null&&!ze.done;Pe++,ze=G.next()){ye.index>Pe?(Ee=ye,ye=null):Ee=ye.sibling;var Je=te(q,ye,ze.value,ue);if(Je===null){ye===null&&(ye=Ee);break}n&&ye&&Je.alternate===null&&s(q,ye),Q=g(Je,Q,Pe),se===null?me=Je:se.sibling=Je,se=Je,ye=Ee}if(ze.done)return o(q,ye),_t&&Ti(q,Pe),me;if(ye===null){for(;!ze.done;Pe++,ze=G.next())ze=Y(q,ze.value,ue),ze!==null&&(Q=g(ze,Q,Pe),se===null?me=ze:se.sibling=ze,se=ze);return _t&&Ti(q,Pe),me}for(ye=d(q,ye);!ze.done;Pe++,ze=G.next())ze=N(ye,q,Pe,ze.value,ue),ze!==null&&(n&&ze.alternate!==null&&ye.delete(ze.key===null?Pe:ze.key),Q=g(ze,Q,Pe),se===null?me=ze:se.sibling=ze,se=ze);return n&&ye.forEach(function(Ke){return s(q,Ke)}),_t&&Ti(q,Pe),me}function Ae(q,Q,G,ue){if(typeof G=="object"&&G!==null&&G.type===Xi&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case As:e:{for(var me=G.key,se=Q;se!==null;){if(se.key===me){if(me=G.type,me===Xi){if(se.tag===7){o(q,se.sibling),Q=x(se,G.props.children),Q.return=q,q=Q;break e}}else if(se.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===$n&&jh(me)===se.type){o(q,se.sibling),Q=x(se,G.props),Q.ref=Nr(q,se,G),Q.return=q,q=Q;break e}o(q,se);break}else s(q,se);se=se.sibling}G.type===Xi?(Q=Ni(G.props.children,q.mode,ue,G.key),Q.return=q,q=Q):(ue=sa(G.type,G.key,G.props,null,q.mode,ue),ue.ref=Nr(q,Q,G),ue.return=q,q=ue)}return F(q);case Ki:e:{for(se=G.key;Q!==null;){if(Q.key===se)if(Q.tag===4&&Q.stateNode.containerInfo===G.containerInfo&&Q.stateNode.implementation===G.implementation){o(q,Q.sibling),Q=x(Q,G.children||[]),Q.return=q,q=Q;break e}else{o(q,Q);break}else s(q,Q);Q=Q.sibling}Q=qu(G,q.mode,ue),Q.return=q,q=Q}return F(q);case $n:return se=G._init,Ae(q,Q,se(G._payload),ue)}if(Br(G))return ce(q,Q,G,ue);if(Er(G))return J(q,Q,G,ue);qs(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,Q!==null&&Q.tag===6?(o(q,Q.sibling),Q=x(Q,G),Q.return=q,q=Q):(o(q,Q),Q=Hu(G,q.mode,ue),Q.return=q,q=Q),F(q)):o(q,Q)}return Ae}var vr=Oc(!0),Nc=Oc(!1),ys={},Fn=yi(ys),ls=yi(ys),hs=yi(ys);function Ai(n){if(n===ys)throw Error(we(174));return n}function dl(n,s){switch(lt(hs,s),lt(ls,n),lt(Fn,ys),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$u(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=$u(s,n)}dt(Fn),lt(Fn,s)}function pr(){dt(Fn),dt(ls),dt(hs)}function Lc(n){Ai(hs.current);var s=Ai(Fn.current),o=$u(s,n.type);s!==o&&(lt(ls,n),lt(Fn,o))}function gl(n){ls.current===n&&(dt(Fn),dt(ls))}var yt=yi(0);function Pa(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fu=[];function _l(){for(var n=0;n<Fu.length;n++)Fu[n]._workInProgressVersionPrimary=null;Fu.length=0}var ea=Kn.ReactCurrentDispatcher,Ru=Kn.ReactCurrentBatchConfig,Ri=0,wt=null,Mt=null,Ft=null,ba=!1,Qr=!1,fs=0,C0=0;function Zt(){throw Error(we(321))}function vl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!En(n[o],s[o]))return!1;return!0}function pl(n,s,o,d,x,g){if(Ri=g,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ea.current=n===null||n.memoizedState===null?k0:I0,n=o(d,x),Qr){g=0;do{if(Qr=!1,fs=0,25<=g)throw Error(we(301));g+=1,Ft=Mt=null,s.updateQueue=null,ea.current=T0,n=o(d,x)}while(Qr)}if(ea.current=ka,s=Mt!==null&&Mt.next!==null,Ri=0,Ft=Mt=wt=null,ba=!1,s)throw Error(we(300));return n}function ml(){var n=fs!==0;return fs=0,n}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?wt.memoizedState=Ft=n:Ft=Ft.next=n,Ft}function yn(){if(Mt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Mt.next;var s=Ft===null?wt.memoizedState:Ft.next;if(s!==null)Ft=s,Mt=n;else{if(n===null)throw Error(we(310));Mt=n,n={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ft===null?wt.memoizedState=Ft=n:Ft=Ft.next=n}return Ft}function cs(n,s){return typeof s=="function"?s(n):s}function Du(n){var s=yn(),o=s.queue;if(o===null)throw Error(we(311));o.lastRenderedReducer=n;var d=Mt,x=d.baseQueue,g=o.pending;if(g!==null){if(x!==null){var F=x.next;x.next=g.next,g.next=F}d.baseQueue=x=g,o.pending=null}if(x!==null){g=x.next,d=d.baseState;var H=F=null,j=null,K=g;do{var ae=K.lane;if((Ri&ae)===ae)j!==null&&(j=j.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:n(d,K.action);else{var Y={lane:ae,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};j===null?(H=j=Y,F=d):j=j.next=Y,wt.lanes|=ae,Di|=ae}K=K.next}while(K!==null&&K!==g);j===null?F=d:j.next=H,En(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=F,s.baseQueue=j,o.lastRenderedState=d}if(n=o.interleaved,n!==null){x=n;do g=x.lane,wt.lanes|=g,Di|=g,x=x.next;while(x!==n)}else x===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Bu(n){var s=yn(),o=s.queue;if(o===null)throw Error(we(311));o.lastRenderedReducer=n;var d=o.dispatch,x=o.pending,g=s.memoizedState;if(x!==null){o.pending=null;var F=x=x.next;do g=n(g,F.action),F=F.next;while(F!==x);En(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,d]}function Fc(){}function Rc(n,s){var o=wt,d=yn(),x=s(),g=!En(d.memoizedState,x);if(g&&(d.memoizedState=x,tn=!0),d=d.queue,yl(Vc.bind(null,o,d,n),[n]),d.getSnapshot!==s||g||Ft!==null&&Ft.memoizedState.tag&1){if(o.flags|=2048,ds(9,Bc.bind(null,o,d,x,s),void 0,null),Rt===null)throw Error(we(349));(Ri&30)!==0||Dc(o,s,x)}return x}function Dc(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Bc(n,s,o,d){s.value=o,s.getSnapshot=d,Uc(s)&&Hc(n)}function Vc(n,s,o){return o(function(){Uc(s)&&Hc(n)})}function Uc(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!En(n,o)}catch(d){return!0}}function Hc(n){var s=Gn(n,1);s!==null&&Tn(s,n,1,-1)}function Wh(n){var s=On();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},s.queue=n,n=n.dispatch=b0.bind(null,wt,n),[s.memoizedState,n]}function ds(n,s,o,d){return n={tag:n,create:s,destroy:o,deps:d,next:null},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,s.lastEffect=n)),n}function qc(){return yn().memoizedState}function ta(n,s,o,d){var x=On();wt.flags|=n,x.memoizedState=ds(1|s,o,void 0,d===void 0?null:d)}function Ua(n,s,o,d){var x=yn();d=d===void 0?null:d;var g=void 0;if(Mt!==null){var F=Mt.memoizedState;if(g=F.destroy,d!==null&&vl(d,F.deps)){x.memoizedState=ds(s,o,g,d);return}}wt.flags|=n,x.memoizedState=ds(1|s,o,g,d)}function Zh(n,s){return ta(8390656,8,n,s)}function yl(n,s){return Ua(2048,8,n,s)}function jc(n,s){return Ua(4,2,n,s)}function Wc(n,s){return Ua(4,4,n,s)}function Zc(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Gc(n,s,o){return o=o!=null?o.concat([n]):null,Ua(4,4,Zc.bind(null,s,n),o)}function wl(){}function Qc(n,s){var o=yn();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&vl(s,d[1])?d[0]:(o.memoizedState=[n,s],n)}function Kc(n,s){var o=yn();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&vl(s,d[1])?d[0]:(n=n(),o.memoizedState=[n,s],n)}function Xc(n,s,o){return(Ri&21)===0?(n.baseState&&(n.baseState=!1,tn=!0),n.memoizedState=o):(En(o,s)||(o=$f(),wt.lanes|=o,Di|=o,n.baseState=!0),s)}function x0(n,s){var o=at;at=o!==0&&4>o?o:4,n(!0);var d=Ru.transition;Ru.transition={};try{n(!1),s()}finally{at=o,Ru.transition=d}}function Jc(){return yn().memoizedState}function P0(n,s,o){var d=fi(n);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Yc(n))$c(s,o);else if(o=Ec(n,s,o,d),o!==null){var x=Jt();Tn(o,n,d,x),ed(o,s,d)}}function b0(n,s,o){var d=fi(n),x={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yc(n))$c(s,x);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var F=s.lastRenderedState,H=g(F,o);if(x.hasEagerState=!0,x.eagerState=H,En(H,F)){var j=s.interleaved;j===null?(x.next=x,fl(s)):(x.next=j.next,j.next=x),s.interleaved=x;return}}catch(K){}finally{}o=Ec(n,s,x,d),o!==null&&(x=Jt(),Tn(o,n,d,x),ed(o,s,d))}}function Yc(n){var s=n.alternate;return n===wt||s!==null&&s===wt}function $c(n,s){Qr=ba=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function ed(n,s,o){if((o&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,Jo(n,o)}}var ka={readContext:mn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},k0={readContext:mn,useCallback:function(n,s){return On().memoizedState=[n,s===void 0?null:s],n},useContext:mn,useEffect:Zh,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,ta(4194308,4,Zc.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ta(4194308,4,n,s)},useInsertionEffect:function(n,s){return ta(4,2,n,s)},useMemo:function(n,s){var o=On();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var d=On();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=P0.bind(null,wt,n),[d.memoizedState,n]},useRef:function(n){var s=On();return n={current:n},s.memoizedState=n},useState:Wh,useDebugValue:wl,useDeferredValue:function(n){return On().memoizedState=n},useTransition:function(){var n=Wh(!1),s=n[0];return n=x0.bind(null,n[1]),On().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var d=wt,x=On();if(_t){if(o===void 0)throw Error(we(407));o=o()}else{if(o=s(),Rt===null)throw Error(we(349));(Ri&30)!==0||Dc(d,s,o)}x.memoizedState=o;var g={value:o,getSnapshot:s};return x.queue=g,Zh(Vc.bind(null,d,g,n),[n]),d.flags|=2048,ds(9,Bc.bind(null,d,g,o,s),void 0,null),o},useId:function(){var n=On(),s=Rt.identifierPrefix;if(_t){var o=qn,d=Hn;o=(d&~(1<<32-In(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=fs++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=C0++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},I0={readContext:mn,useCallback:Qc,useContext:mn,useEffect:yl,useImperativeHandle:Gc,useInsertionEffect:jc,useLayoutEffect:Wc,useMemo:Kc,useReducer:Du,useRef:qc,useState:function(){return Du(cs)},useDebugValue:wl,useDeferredValue:function(n){var s=yn();return Xc(s,Mt.memoizedState,n)},useTransition:function(){var n=Du(cs)[0],s=yn().memoizedState;return[n,s]},useMutableSource:Fc,useSyncExternalStore:Rc,useId:Jc,unstable_isNewReconciler:!1},T0={readContext:mn,useCallback:Qc,useContext:mn,useEffect:yl,useImperativeHandle:Gc,useInsertionEffect:jc,useLayoutEffect:Wc,useMemo:Kc,useReducer:Bu,useRef:qc,useState:function(){return Bu(cs)},useDebugValue:wl,useDeferredValue:function(n){var s=yn();return Mt===null?s.memoizedState=n:Xc(s,Mt.memoizedState,n)},useTransition:function(){var n=Bu(cs)[0],s=yn().memoizedState;return[n,s]},useMutableSource:Fc,useSyncExternalStore:Rc,useId:Jc,unstable_isNewReconciler:!1};function mr(n,s){try{var o="",d=s;do o+=n_(d),d=d.return;while(d);var x=o}catch(g){x=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:x,digest:null}}function Vu(n,s,o){return{value:n,source:null,stack:o!=null?o:null,digest:s!=null?s:null}}function xo(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function td(n,s,o){o=jn(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){Ta||(Ta=!0,Oo=d),xo(n,s)},o}function nd(n,s,o){o=jn(-1,o),o.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var x=s.value;o.payload=function(){return d(x)},o.callback=function(){xo(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){xo(n,s),typeof d!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),o}function Gh(n,s,o){var d=n.pingCache;if(d===null){d=n.pingCache=new E0;var x=new Set;d.set(s,x)}else x=d.get(s),x===void 0&&(x=new Set,d.set(s,x));x.has(o)||(x.add(o),n=q0.bind(null,n,s,o),s.then(n,n))}function Qh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Kh(n,s,o,d,x){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=jn(-1,1),s.tag=2,li(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var M0=Kn.ReactCurrentOwner,tn=!1;function Xt(n,s,o,d){s.child=n===null?Nc(s,null,o,d):vr(s,n.child,o,d)}function Xh(n,s,o,d,x){o=o.render;var g=s.ref;return fr(s,x),d=pl(n,s,o,d,g,x),o=ml(),n!==null&&!tn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Qn(n,s,x)):(_t&&o&&sl(s),s.flags|=1,Xt(n,s,d,x),s.child)}function Jh(n,s,o,d,x){if(n===null){var g=o.type;return typeof g=="function"&&!Tl(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,id(n,s,g,d,x)):(n=sa(o.type,null,d,s,s.mode,x),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&x)===0){var F=g.memoizedProps;if(o=o.compare,o=o!==null?o:ss,o(F,d)&&n.ref===s.ref)return Qn(n,s,x)}return s.flags|=1,n=ci(g,d),n.ref=s.ref,n.return=s,s.child=n}function id(n,s,o,d,x){if(n!==null){var g=n.memoizedProps;if(ss(g,d)&&n.ref===s.ref)if(tn=!1,s.pendingProps=d=g,(n.lanes&x)!==0)(n.flags&131072)!==0&&(tn=!0);else return s.lanes=n.lanes,Qn(n,s,x)}return Po(n,s,o,d,x)}function rd(n,s,o){var d=s.pendingProps,x=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ar,un),un|=o;else{if((o&1073741824)===0)return n=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,lt(ar,un),un|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,lt(ar,un),un|=d}else g!==null?(d=g.baseLanes|o,s.memoizedState=null):d=o,lt(ar,un),un|=d;return Xt(n,s,x,o),s.child}function sd(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Po(n,s,o,d,x){var g=rn(o)?Li:Kt.current;return g=gr(s,g),fr(s,x),o=pl(n,s,o,d,g,x),d=ml(),n!==null&&!tn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Qn(n,s,x)):(_t&&d&&sl(s),s.flags|=1,Xt(n,s,o,x),s.child)}function Yh(n,s,o,d,x){if(rn(o)){var g=!0;ma(s)}else g=!1;if(fr(s,x),s.stateNode===null)na(n,s),Ac(s,o,d),Co(s,o,d,x),d=!0;else if(n===null){var F=s.stateNode,H=s.memoizedProps;F.props=H;var j=F.context,K=o.contextType;typeof K=="object"&&K!==null?K=mn(K):(K=rn(o)?Li:Kt.current,K=gr(s,K));var ae=o.getDerivedStateFromProps,Y=typeof ae=="function"||typeof F.getSnapshotBeforeUpdate=="function";Y||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(H!==d||j!==K)&&qh(s,F,d,K),ei=!1;var te=s.memoizedState;F.state=te,xa(s,d,F,x),j=s.memoizedState,H!==d||te!==j||nn.current||ei?(typeof ae=="function"&&(So(s,o,ae,d),j=s.memoizedState),(H=ei||Hh(s,o,H,d,te,j,K))?(Y||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),F.props=d,F.state=j,F.context=K,d=H):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{F=s.stateNode,Mc(n,s),H=s.memoizedProps,K=s.type===s.elementType?H:Pn(s.type,H),F.props=K,Y=s.pendingProps,te=F.context,j=o.contextType,typeof j=="object"&&j!==null?j=mn(j):(j=rn(o)?Li:Kt.current,j=gr(s,j));var N=o.getDerivedStateFromProps;(ae=typeof N=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(H!==Y||te!==j)&&qh(s,F,d,j),ei=!1,te=s.memoizedState,F.state=te,xa(s,d,F,x);var ce=s.memoizedState;H!==Y||te!==ce||nn.current||ei?(typeof N=="function"&&(So(s,o,N,d),ce=s.memoizedState),(K=ei||Hh(s,o,K,d,te,ce,j)||!1)?(ae||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(d,ce,j),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(d,ce,j)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||H===n.memoizedProps&&te===n.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&te===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ce),F.props=d,F.state=ce,F.context=j,d=K):(typeof F.componentDidUpdate!="function"||H===n.memoizedProps&&te===n.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&te===n.memoizedState||(s.flags|=1024),d=!1)}return bo(n,s,o,d,g,x)}function bo(n,s,o,d,x,g){sd(n,s);var F=(s.flags&128)!==0;if(!d&&!F)return x&&Rh(s,o,!1),Qn(n,s,g);d=s.stateNode,M0.current=s;var H=F&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&F?(s.child=vr(s,n.child,null,g),s.child=vr(s,null,H,g)):Xt(n,s,H,g),s.memoizedState=d.state,x&&Rh(s,o,!0),s.child}function ad(n){var s=n.stateNode;s.pendingContext?Fh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Fh(n,s.context,!1),dl(n,s.containerInfo)}function $h(n,s,o,d,x){return _r(),ul(x),s.flags|=256,Xt(n,s,o,d),s.child}var ko={dehydrated:null,treeContext:null,retryLane:0};function Io(n){return{baseLanes:n,cachePool:null,transitions:null}}function ud(n,s,o){var d=s.pendingProps,x=yt.current,g=!1,F=(s.flags&128)!==0,H;if((H=F)||(H=n!==null&&n.memoizedState===null?!1:(x&2)!==0),H?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),lt(yt,x&1),n===null)return yo(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(F=d.children,n=d.fallback,g?(d=s.mode,g=s.child,F={mode:"hidden",children:F},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=F):g=ja(F,d,0,null),n=Ni(n,d,o,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Io(o),s.memoizedState=ko,n):Sl(s,F));if(x=n.memoizedState,x!==null&&(H=x.dehydrated,H!==null))return z0(n,s,F,d,H,x,o);if(g){g=d.fallback,F=s.mode,x=n.child,H=x.sibling;var j={mode:"hidden",children:d.children};return(F&1)===0&&s.child!==x?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=ci(x,j),d.subtreeFlags=x.subtreeFlags&14680064),H!==null?g=ci(H,g):(g=Ni(g,F,o,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,F=n.child.memoizedState,F=F===null?Io(o):{baseLanes:F.baseLanes|o,cachePool:null,transitions:F.transitions},g.memoizedState=F,g.childLanes=n.childLanes&~o,s.memoizedState=ko,d}return g=n.child,n=g.sibling,d=ci(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=d,s.memoizedState=null,d}function Sl(n,s){return s=ja({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function js(n,s,o,d){return d!==null&&ul(d),vr(s,n.child,null,o),n=Sl(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function z0(n,s,o,d,x,g,F){if(o)return s.flags&256?(s.flags&=-257,d=Vu(Error(we(422))),js(n,s,F,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,x=s.mode,d=ja({mode:"visible",children:d.children},x,0,null),g=Ni(g,x,F,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&vr(s,n.child,null,F),s.child.memoizedState=Io(F),s.memoizedState=ko,g);if((s.mode&1)===0)return js(n,s,F,null);if(x.data==="$!"){if(d=x.nextSibling&&x.nextSibling.dataset,d)var H=d.dgst;return d=H,g=Error(we(419)),d=Vu(g,d,void 0),js(n,s,F,d)}if(H=(F&n.childLanes)!==0,tn||H){if(d=Rt,d!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(d.suspendedLanes|F))!==0?0:x,x!==0&&x!==g.retryLane&&(g.retryLane=x,Gn(n,x),Tn(d,n,x,-1))}return Il(),d=Vu(Error(we(421))),js(n,s,F,d)}return x.data==="$?"?(s.flags|=128,s.child=n.child,s=j0.bind(null,n),x._reactRetry=s,null):(n=g.treeContext,on=oi(x.nextSibling),ln=s,_t=!0,kn=null,n!==null&&(gn[_n++]=Hn,gn[_n++]=qn,gn[_n++]=Fi,Hn=n.id,qn=n.overflow,Fi=s),s=Sl(s,d.children),s.flags|=4096,s)}function ef(n,s,o){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),wo(n.return,s,o)}function Uu(n,s,o,d,x){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:x}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=x)}function od(n,s,o){var d=s.pendingProps,x=d.revealOrder,g=d.tail;if(Xt(n,s,d.children,o),d=yt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ef(n,o,s);else if(n.tag===19)ef(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(lt(yt,d),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(o=s.child,x=null;o!==null;)n=o.alternate,n!==null&&Pa(n)===null&&(x=o),o=o.sibling;o=x,o===null?(x=s.child,s.child=null):(x=o.sibling,o.sibling=null),Uu(s,!1,x,o,g);break;case"backwards":for(o=null,x=s.child,s.child=null;x!==null;){if(n=x.alternate,n!==null&&Pa(n)===null){s.child=x;break}n=x.sibling,x.sibling=o,o=x,x=n}Uu(s,!0,o,null,g);break;case"together":Uu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function na(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Qn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Di|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(we(153));if(s.child!==null){for(n=s.child,o=ci(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ci(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function A0(n,s,o){switch(s.tag){case 3:ad(s),_r();break;case 5:Lc(s);break;case 1:rn(s.type)&&ma(s);break;case 4:dl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,x=s.memoizedProps.value;lt(Sa,d._currentValue),d._currentValue=x;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(lt(yt,yt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?ud(n,s,o):(lt(yt,yt.current&1),n=Qn(n,s,o),n!==null?n.sibling:null);lt(yt,yt.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(n.flags&128)!==0){if(d)return od(n,s,o);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),lt(yt,yt.current),d)break;return null;case 22:case 23:return s.lanes=0,rd(n,s,o)}return Qn(n,s,o)}var ld,To,hd,fd;ld=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};To=function(){};hd=function(n,s,o,d){var x=n.memoizedProps;if(x!==d){n=s.stateNode,Ai(Fn.current);var g=null;switch(o){case"input":x=Ku(n,x),d=Ku(n,d),g=[];break;case"select":x=St({},x,{value:void 0}),d=St({},d,{value:void 0}),g=[];break;case"textarea":x=Yu(n,x),d=Yu(n,d),g=[];break;default:typeof x.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=va)}eo(o,d);var F;o=null;for(K in x)if(!d.hasOwnProperty(K)&&x.hasOwnProperty(K)&&x[K]!=null)if(K==="style"){var H=x[K];for(F in H)H.hasOwnProperty(F)&&(o||(o={}),o[F]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(Yr.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var j=d[K];if(H=x!=null?x[K]:void 0,d.hasOwnProperty(K)&&j!==H&&(j!=null||H!=null))if(K==="style")if(H){for(F in H)!H.hasOwnProperty(F)||j&&j.hasOwnProperty(F)||(o||(o={}),o[F]="");for(F in j)j.hasOwnProperty(F)&&H[F]!==j[F]&&(o||(o={}),o[F]=j[F])}else o||(g||(g=[]),g.push(K,o)),o=j;else K==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,H=H?H.__html:void 0,j!=null&&H!==j&&(g=g||[]).push(K,j)):K==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(K,""+j):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(K)?(j!=null&&K==="onScroll"&&ct("scroll",n),g||H===j||(g=[])):(g=g||[]).push(K,j))}o&&(g=g||[]).push("style",o);var K=g;(s.updateQueue=K)&&(s.flags|=4)}};fd=function(n,s,o,d){o!==d&&(s.flags|=4)};function Lr(n,s){if(!_t)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(s)for(var x=n.child;x!==null;)o|=x.lanes|x.childLanes,d|=x.subtreeFlags&14680064,d|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)o|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=d,n.childLanes=o,s}function O0(n,s,o){var d=s.pendingProps;switch(al(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return rn(s.type)&&pa(),Gt(s),null;case 3:return d=s.stateNode,pr(),dt(nn),dt(Kt),_l(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Hs(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kn!==null&&(Fo(kn),kn=null))),To(n,s),Gt(s),null;case 5:gl(s);var x=Ai(hs.current);if(o=s.type,n!==null&&s.stateNode!=null)hd(n,s,o,d,x),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(we(166));return Gt(s),null}if(n=Ai(Fn.current),Hs(s)){d=s.stateNode,o=s.type;var g=s.memoizedProps;switch(d[Nn]=s,d[os]=g,n=(s.mode&1)!==0,o){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(x=0;x<Ur.length;x++)ct(Ur[x],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":lh(d,g),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ct("invalid",d);break;case"textarea":fh(d,g),ct("invalid",d)}eo(o,g),x=null;for(var F in g)if(g.hasOwnProperty(F)){var H=g[F];F==="children"?typeof H=="string"?d.textContent!==H&&(g.suppressHydrationWarning!==!0&&Us(d.textContent,H,n),x=["children",H]):typeof H=="number"&&d.textContent!==""+H&&(g.suppressHydrationWarning!==!0&&Us(d.textContent,H,n),x=["children",""+H]):Yr.hasOwnProperty(F)&&H!=null&&F==="onScroll"&&ct("scroll",d)}switch(o){case"input":Os(d),hh(d,g,!0);break;case"textarea":Os(d),ch(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=va)}d=x,s.updateQueue=d,d!==null&&(s.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Df(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=F.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=F.createElement(o,{is:d.is}):(n=F.createElement(o),o==="select"&&(F=n,d.multiple?F.multiple=!0:d.size&&(F.size=d.size))):n=F.createElementNS(n,o),n[Nn]=s,n[os]=d,ld(n,s,!1,!1),s.stateNode=n;e:{switch(F=to(o,d),o){case"dialog":ct("cancel",n),ct("close",n),x=d;break;case"iframe":case"object":case"embed":ct("load",n),x=d;break;case"video":case"audio":for(x=0;x<Ur.length;x++)ct(Ur[x],n);x=d;break;case"source":ct("error",n),x=d;break;case"img":case"image":case"link":ct("error",n),ct("load",n),x=d;break;case"details":ct("toggle",n),x=d;break;case"input":lh(n,d),x=Ku(n,d),ct("invalid",n);break;case"option":x=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},x=St({},d,{value:void 0}),ct("invalid",n);break;case"textarea":fh(n,d),x=Yu(n,d),ct("invalid",n);break;default:x=d}eo(o,x),H=x;for(g in H)if(H.hasOwnProperty(g)){var j=H[g];g==="style"?Uf(n,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Bf(n,j)):g==="children"?typeof j=="string"?(o!=="textarea"||j!=="")&&$r(n,j):typeof j=="number"&&$r(n,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Yr.hasOwnProperty(g)?j!=null&&g==="onScroll"&&ct("scroll",n):j!=null&&Wo(n,g,j,F))}switch(o){case"input":Os(n),hh(n,d,!1);break;case"textarea":Os(n),ch(n);break;case"option":d.value!=null&&n.setAttribute("value",""+vi(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?ur(n,!!d.multiple,g,!1):d.defaultValue!=null&&ur(n,!!d.multiple,d.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=va)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(n&&s.stateNode!=null)fd(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(we(166));if(o=Ai(hs.current),Ai(Fn.current),Hs(s)){if(d=s.stateNode,o=s.memoizedProps,d[Nn]=s,(g=d.nodeValue!==o)&&(n=ln,n!==null))switch(n.tag){case 3:Us(d.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Us(d.nodeValue,o,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Nn]=s,s.stateNode=d}return Gt(s),null;case 13:if(dt(yt),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_t&&on!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Tc(),_r(),s.flags|=98560,g=!1;else if(g=Hs(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(we(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(we(317));g[Nn]=s}else _r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),g=!1}else kn!==null&&(Fo(kn),kn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(yt.current&1)!==0?zt===0&&(zt=3):Il())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return pr(),To(n,s),n===null&&as(s.stateNode.containerInfo),Gt(s),null;case 10:return hl(s.type._context),Gt(s),null;case 17:return rn(s.type)&&pa(),Gt(s),null;case 19:if(dt(yt),g=s.memoizedState,g===null)return Gt(s),null;if(d=(s.flags&128)!==0,F=g.rendering,F===null)if(d)Lr(g,!1);else{if(zt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(F=Pa(n),F!==null){for(s.flags|=128,Lr(g,!1),d=F.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)g=o,n=d,g.flags&=14680066,F=g.alternate,F===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=F.childLanes,g.lanes=F.lanes,g.child=F.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=F.memoizedProps,g.memoizedState=F.memoizedState,g.updateQueue=F.updateQueue,g.type=F.type,n=F.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return lt(yt,yt.current&1|2),s.child}n=n.sibling}g.tail!==null&&Pt()>yr&&(s.flags|=128,d=!0,Lr(g,!1),s.lanes=4194304)}else{if(!d)if(n=Pa(F),n!==null){if(s.flags|=128,d=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Lr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!F.alternate&&!_t)return Gt(s),null}else 2*Pt()-g.renderingStartTime>yr&&o!==1073741824&&(s.flags|=128,d=!0,Lr(g,!1),s.lanes=4194304);g.isBackwards?(F.sibling=s.child,s.child=F):(o=g.last,o!==null?o.sibling=F:s.child=F,g.last=F)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Pt(),s.sibling=null,o=yt.current,lt(yt,d?o&1|2:o&1),s):(Gt(s),null);case 22:case 23:return kl(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(un&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(we(156,s.tag))}function N0(n,s){switch(al(s),s.tag){case 1:return rn(s.type)&&pa(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return pr(),dt(nn),dt(Kt),_l(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return gl(s),null;case 13:if(dt(yt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(we(340));_r()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return dt(yt),null;case 4:return pr(),null;case 10:return hl(s.type._context),null;case 22:case 23:return kl(),null;case 24:return null;default:return null}}var Ws=!1,Qt=!1,L0=typeof WeakSet=="function"?WeakSet:Set,Te=null;function sr(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){xt(n,s,d)}else o.current=null}function Eo(n,s,o){try{o()}catch(d){xt(n,s,d)}}var tf=!1;function F0(n,s){if(fo=da,n=_c(),rl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var x=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch(ue){o=null;break e}var F=0,H=-1,j=-1,K=0,ae=0,Y=n,te=null;t:for(;;){for(var N;Y!==o||x!==0&&Y.nodeType!==3||(H=F+x),Y!==g||d!==0&&Y.nodeType!==3||(j=F+d),Y.nodeType===3&&(F+=Y.nodeValue.length),(N=Y.firstChild)!==null;)te=Y,Y=N;for(;;){if(Y===n)break t;if(te===o&&++K===x&&(H=F),te===g&&++ae===d&&(j=F),(N=Y.nextSibling)!==null)break;Y=te,te=Y.parentNode}Y=N}o=H===-1||j===-1?null:{start:H,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(co={focusedElem:n,selectionRange:o},da=!1,Te=s;Te!==null;)if(s=Te,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Te=n;else for(;Te!==null;){s=Te;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var J=ce.memoizedProps,Ae=ce.memoizedState,q=s.stateNode,Q=q.getSnapshotBeforeUpdate(s.elementType===s.type?J:Pn(s.type,J),Ae);q.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(ue){xt(s,s.return,ue)}if(n=s.sibling,n!==null){n.return=s.return,Te=n;break}Te=s.return}return ce=tf,tf=!1,ce}function Kr(n,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&n)===n){var g=x.destroy;x.destroy=void 0,g!==void 0&&Eo(s,o,g)}x=x.next}while(x!==d)}}function Ha(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function Mo(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function cd(n){var s=n.alternate;s!==null&&(n.alternate=null,cd(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Nn],delete s[os],delete s[vo],delete s[m0],delete s[y0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function dd(n){return n.tag===5||n.tag===3||n.tag===4}function nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zo(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=va));else if(d!==4&&(n=n.child,n!==null))for(zo(n,s,o),n=n.sibling;n!==null;)zo(n,s,o),n=n.sibling}function Ao(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Ao(n,s,o),n=n.sibling;n!==null;)Ao(n,s,o),n=n.sibling}var Ut=null,bn=!1;function Yn(n,s,o){for(o=o.child;o!==null;)gd(n,s,o),o=o.sibling}function gd(n,s,o){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Na,o)}catch(H){}switch(o.tag){case 5:Qt||sr(o,s);case 6:var d=Ut,x=bn;Ut=null,Yn(n,s,o),Ut=d,bn=x,Ut!==null&&(bn?(n=Ut,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Ut.removeChild(o.stateNode));break;case 18:Ut!==null&&(bn?(n=Ut,o=o.stateNode,n.nodeType===8?Nu(n.parentNode,o):n.nodeType===1&&Nu(n,o),is(n)):Nu(Ut,o.stateNode));break;case 4:d=Ut,x=bn,Ut=o.stateNode.containerInfo,bn=!0,Yn(n,s,o),Ut=d,bn=x;break;case 0:case 11:case 14:case 15:if(!Qt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){x=d=d.next;do{var g=x,F=g.destroy;g=g.tag,F!==void 0&&((g&2)!==0||(g&4)!==0)&&Eo(o,s,F),x=x.next}while(x!==d)}Yn(n,s,o);break;case 1:if(!Qt&&(sr(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(H){xt(o,s,H)}Yn(n,s,o);break;case 21:Yn(n,s,o);break;case 22:o.mode&1?(Qt=(d=Qt)||o.memoizedState!==null,Yn(n,s,o),Qt=d):Yn(n,s,o);break;default:Yn(n,s,o)}}function rf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new L0),s.forEach(function(d){var x=W0.bind(null,n,d);o.has(d)||(o.add(d),d.then(x,x))})}}function xn(n,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var x=o[d];try{var g=n,F=s,H=F;e:for(;H!==null;){switch(H.tag){case 5:Ut=H.stateNode,bn=!1;break e;case 3:Ut=H.stateNode.containerInfo,bn=!0;break e;case 4:Ut=H.stateNode.containerInfo,bn=!0;break e}H=H.return}if(Ut===null)throw Error(we(160));gd(g,F,x),Ut=null,bn=!1;var j=x.alternate;j!==null&&(j.return=null),x.return=null}catch(K){xt(x,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_d(s,n),s=s.sibling}function _d(n,s){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(xn(s,n),An(n),d&4){try{Kr(3,n,n.return),Ha(3,n)}catch(J){xt(n,n.return,J)}try{Kr(5,n,n.return)}catch(J){xt(n,n.return,J)}}break;case 1:xn(s,n),An(n),d&512&&o!==null&&sr(o,o.return);break;case 5:if(xn(s,n),An(n),d&512&&o!==null&&sr(o,o.return),n.flags&32){var x=n.stateNode;try{$r(x,"")}catch(J){xt(n,n.return,J)}}if(d&4&&(x=n.stateNode,x!=null)){var g=n.memoizedProps,F=o!==null?o.memoizedProps:g,H=n.type,j=n.updateQueue;if(n.updateQueue=null,j!==null)try{H==="input"&&g.type==="radio"&&g.name!=null&&Ff(x,g),to(H,F);var K=to(H,g);for(F=0;F<j.length;F+=2){var ae=j[F],Y=j[F+1];ae==="style"?Uf(x,Y):ae==="dangerouslySetInnerHTML"?Bf(x,Y):ae==="children"?$r(x,Y):Wo(x,ae,Y,K)}switch(H){case"input":Xu(x,g);break;case"textarea":Rf(x,g);break;case"select":var te=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!g.multiple;var N=g.value;N!=null?ur(x,!!g.multiple,N,!1):te!==!!g.multiple&&(g.defaultValue!=null?ur(x,!!g.multiple,g.defaultValue,!0):ur(x,!!g.multiple,g.multiple?[]:"",!1))}x[os]=g}catch(J){xt(n,n.return,J)}}break;case 6:if(xn(s,n),An(n),d&4){if(n.stateNode===null)throw Error(we(162));x=n.stateNode,g=n.memoizedProps;try{x.nodeValue=g}catch(J){xt(n,n.return,J)}}break;case 3:if(xn(s,n),An(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{is(s.containerInfo)}catch(J){xt(n,n.return,J)}break;case 4:xn(s,n),An(n);break;case 13:xn(s,n),An(n),x=n.child,x.flags&8192&&(g=x.memoizedState!==null,x.stateNode.isHidden=g,!g||x.alternate!==null&&x.alternate.memoizedState!==null||(Pl=Pt())),d&4&&rf(n);break;case 22:if(ae=o!==null&&o.memoizedState!==null,n.mode&1?(Qt=(K=Qt)||ae,xn(s,n),Qt=K):xn(s,n),An(n),d&8192){if(K=n.memoizedState!==null,(n.stateNode.isHidden=K)&&!ae&&(n.mode&1)!==0)for(Te=n,ae=n.child;ae!==null;){for(Y=Te=ae;Te!==null;){switch(te=Te,N=te.child,te.tag){case 0:case 11:case 14:case 15:Kr(4,te,te.return);break;case 1:sr(te,te.return);var ce=te.stateNode;if(typeof ce.componentWillUnmount=="function"){d=te,o=te.return;try{s=d,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(J){xt(d,o,J)}}break;case 5:sr(te,te.return);break;case 22:if(te.memoizedState!==null){af(Y);continue}}N!==null?(N.return=te,Te=N):af(Y)}ae=ae.sibling}e:for(ae=null,Y=n;;){if(Y.tag===5){if(ae===null){ae=Y;try{x=Y.stateNode,K?(g=x.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(H=Y.stateNode,j=Y.memoizedProps.style,F=j!=null&&j.hasOwnProperty("display")?j.display:null,H.style.display=Vf("display",F))}catch(J){xt(n,n.return,J)}}}else if(Y.tag===6){if(ae===null)try{Y.stateNode.nodeValue=K?"":Y.memoizedProps}catch(J){xt(n,n.return,J)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;ae===Y&&(ae=null),Y=Y.return}ae===Y&&(ae=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:xn(s,n),An(n),d&4&&rf(n);break;case 21:break;default:xn(s,n),An(n)}}function An(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(dd(o)){var d=o;break e}o=o.return}throw Error(we(160))}switch(d.tag){case 5:var x=d.stateNode;d.flags&32&&($r(x,""),d.flags&=-33);var g=nf(n);Ao(n,g,x);break;case 3:case 4:var F=d.stateNode.containerInfo,H=nf(n);zo(n,H,F);break;default:throw Error(we(161))}}catch(j){xt(n,n.return,j)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function R0(n,s,o){Te=n,vd(n)}function vd(n,s,o){for(var d=(n.mode&1)!==0;Te!==null;){var x=Te,g=x.child;if(x.tag===22&&d){var F=x.memoizedState!==null||Ws;if(!F){var H=x.alternate,j=H!==null&&H.memoizedState!==null||Qt;H=Ws;var K=Qt;if(Ws=F,(Qt=j)&&!K)for(Te=x;Te!==null;)F=Te,j=F.child,F.tag===22&&F.memoizedState!==null?uf(x):j!==null?(j.return=F,Te=j):uf(x);for(;g!==null;)Te=g,vd(g),g=g.sibling;Te=x,Ws=H,Qt=K}sf(n)}else(x.subtreeFlags&8772)!==0&&g!==null?(g.return=x,Te=g):sf(n)}}function sf(n){for(;Te!==null;){var s=Te;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Qt||Ha(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Qt)if(o===null)d.componentDidMount();else{var x=s.elementType===s.type?o.memoizedProps:Pn(s.type,o.memoizedProps);d.componentDidUpdate(x,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Uh(s,g,d);break;case 3:var F=s.updateQueue;if(F!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Uh(s,F,o)}break;case 5:var H=s.stateNode;if(o===null&&s.flags&4){o=H;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&o.focus();break;case"img":j.src&&(o.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ae=K.memoizedState;if(ae!==null){var Y=ae.dehydrated;Y!==null&&is(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Qt||s.flags&512&&Mo(s)}catch(te){xt(s,s.return,te)}}if(s===n){Te=null;break}if(o=s.sibling,o!==null){o.return=s.return,Te=o;break}Te=s.return}}function af(n){for(;Te!==null;){var s=Te;if(s===n){Te=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Te=o;break}Te=s.return}}function uf(n){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ha(4,s)}catch(j){xt(s,o,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var x=s.return;try{d.componentDidMount()}catch(j){xt(s,x,j)}}var g=s.return;try{Mo(s)}catch(j){xt(s,g,j)}break;case 5:var F=s.return;try{Mo(s)}catch(j){xt(s,F,j)}}}catch(j){xt(s,s.return,j)}if(s===n){Te=null;break}var H=s.sibling;if(H!==null){H.return=s.return,Te=H;break}Te=s.return}}var D0=Math.ceil,Ia=Kn.ReactCurrentDispatcher,Cl=Kn.ReactCurrentOwner,pn=Kn.ReactCurrentBatchConfig,tt=0,Rt=null,Tt=null,Ht=0,un=0,ar=yi(0),zt=0,gs=null,Di=0,qa=0,xl=0,Xr=null,en=null,Pl=0,yr=1/0,Vn=null,Ta=!1,Oo=null,hi=null,Zs=!1,ri=null,Ea=0,Jr=0,No=null,ia=-1,ra=0;function Jt(){return(tt&6)!==0?Pt():ia!==-1?ia:ia=Pt()}function fi(n){return(n.mode&1)===0?1:(tt&2)!==0&&Ht!==0?Ht&-Ht:S0.transition!==null?(ra===0&&(ra=$f()),ra):(n=at,n!==0||(n=window.event,n=n===void 0?16:ac(n.type)),n)}function Tn(n,s,o,d){if(50<Jr)throw Jr=0,No=null,Error(we(185));vs(n,o,d),((tt&2)===0||n!==Rt)&&(n===Rt&&((tt&2)===0&&(qa|=o),zt===4&&ni(n,Ht)),sn(n,d),o===1&&tt===0&&(s.mode&1)===0&&(yr=Pt()+500,Ba&&wi()))}function sn(n,s){var o=n.callbackNode;S_(n,s);var d=ca(n,n===Rt?Ht:0);if(d===0)o!==null&&_h(o),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(o!=null&&_h(o),s===1)n.tag===0?w0(of.bind(null,n)):bc(of.bind(null,n)),v0(function(){(tt&6)===0&&wi()}),o=null;else{switch(ec(d)){case 1:o=Xo;break;case 4:o=Jf;break;case 16:o=fa;break;case 536870912:o=Yf;break;default:o=fa}o=Pd(o,pd.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function pd(n,s){if(ia=-1,ra=0,(tt&6)!==0)throw Error(we(327));var o=n.callbackNode;if(cr()&&n.callbackNode!==o)return null;var d=ca(n,n===Rt?Ht:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=Ma(n,d);else{s=d;var x=tt;tt|=2;var g=yd();(Rt!==n||Ht!==s)&&(Vn=null,yr=Pt()+500,Oi(n,s));do try{U0();break}catch(H){md(n,H)}while(1);ll(),Ia.current=g,tt=x,Tt!==null?s=0:(Rt=null,Ht=0,s=zt)}if(s!==0){if(s===2&&(x=ao(n),x!==0&&(d=x,s=Lo(n,x))),s===1)throw o=gs,Oi(n,0),ni(n,d),sn(n,Pt()),o;if(s===6)ni(n,d);else{if(x=n.current.alternate,(d&30)===0&&!B0(x)&&(s=Ma(n,d),s===2&&(g=ao(n),g!==0&&(d=g,s=Lo(n,g))),s===1))throw o=gs,Oi(n,0),ni(n,d),sn(n,Pt()),o;switch(n.finishedWork=x,n.finishedLanes=d,s){case 0:case 1:throw Error(we(345));case 2:Ei(n,en,Vn);break;case 3:if(ni(n,d),(d&130023424)===d&&(s=Pl+500-Pt(),10<s)){if(ca(n,0)!==0)break;if(x=n.suspendedLanes,(x&d)!==d){Jt(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=_o(Ei.bind(null,n,en,Vn),s);break}Ei(n,en,Vn);break;case 4:if(ni(n,d),(d&4194240)===d)break;for(s=n.eventTimes,x=-1;0<d;){var F=31-In(d);g=1<<F,F=s[F],F>x&&(x=F),d&=~g}if(d=x,d=Pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*D0(d/1960))-d,10<d){n.timeoutHandle=_o(Ei.bind(null,n,en,Vn),d);break}Ei(n,en,Vn);break;case 5:Ei(n,en,Vn);break;default:throw Error(we(329))}}}return sn(n,Pt()),n.callbackNode===o?pd.bind(null,n):null}function Lo(n,s){var o=Xr;return n.current.memoizedState.isDehydrated&&(Oi(n,s).flags|=256),n=Ma(n,s),n!==2&&(s=en,en=o,s!==null&&Fo(s)),n}function Fo(n){en===null?en=n:en.push.apply(en,n)}function B0(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var x=o[d],g=x.getSnapshot;x=x.value;try{if(!En(g(),x))return!1}catch(F){return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ni(n,s){for(s&=~xl,s&=~qa,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-In(s),d=1<<o;n[o]=-1,s&=~d}}function of(n){if((tt&6)!==0)throw Error(we(327));cr();var s=ca(n,0);if((s&1)===0)return sn(n,Pt()),null;var o=Ma(n,s);if(n.tag!==0&&o===2){var d=ao(n);d!==0&&(s=d,o=Lo(n,d))}if(o===1)throw o=gs,Oi(n,0),ni(n,s),sn(n,Pt()),o;if(o===6)throw Error(we(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ei(n,en,Vn),sn(n,Pt()),null}function bl(n,s){var o=tt;tt|=1;try{return n(s)}finally{tt=o,tt===0&&(yr=Pt()+500,Ba&&wi())}}function Bi(n){ri!==null&&ri.tag===0&&(tt&6)===0&&cr();var s=tt;tt|=1;var o=pn.transition,d=at;try{if(pn.transition=null,at=1,n)return n()}finally{at=d,pn.transition=o,tt=s,(tt&6)===0&&wi()}}function kl(){un=ar.current,dt(ar)}function Oi(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,_0(o)),Tt!==null)for(o=Tt.return;o!==null;){var d=o;switch(al(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&pa();break;case 3:pr(),dt(nn),dt(Kt),_l();break;case 5:gl(d);break;case 4:pr();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:hl(d.type._context);break;case 22:case 23:kl()}o=o.return}if(Rt=n,Tt=n=ci(n.current,null),Ht=un=s,zt=0,gs=null,xl=qa=Di=0,en=Xr=null,zi!==null){for(s=0;s<zi.length;s++)if(o=zi[s],d=o.interleaved,d!==null){o.interleaved=null;var x=d.next,g=o.pending;if(g!==null){var F=g.next;g.next=x,d.next=F}o.pending=d}zi=null}return n}function md(n,s){do{var o=Tt;try{if(ll(),ea.current=ka,ba){for(var d=wt.memoizedState;d!==null;){var x=d.queue;x!==null&&(x.pending=null),d=d.next}ba=!1}if(Ri=0,Ft=Mt=wt=null,Qr=!1,fs=0,Cl.current=null,o===null||o.return===null){zt=1,gs=s,Tt=null;break}e:{var g=n,F=o.return,H=o,j=s;if(s=Ht,H.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=j,ae=H,Y=ae.tag;if((ae.mode&1)===0&&(Y===0||Y===11||Y===15)){var te=ae.alternate;te?(ae.updateQueue=te.updateQueue,ae.memoizedState=te.memoizedState,ae.lanes=te.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var N=Qh(F);if(N!==null){N.flags&=-257,Kh(N,F,H,g,s),N.mode&1&&Gh(g,K,s),s=N,j=K;var ce=s.updateQueue;if(ce===null){var J=new Set;J.add(j),s.updateQueue=J}else ce.add(j);break e}else{if((s&1)===0){Gh(g,K,s),Il();break e}j=Error(we(426))}}else if(_t&&H.mode&1){var Ae=Qh(F);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),Kh(Ae,F,H,g,s),ul(mr(j,H));break e}}g=j=mr(j,H),zt!==4&&(zt=2),Xr===null?Xr=[g]:Xr.push(g),g=F;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=td(g,j,s);Vh(g,q);break e;case 1:H=j;var Q=g.type,G=g.stateNode;if((g.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(hi===null||!hi.has(G)))){g.flags|=65536,s&=-s,g.lanes|=s;var ue=nd(g,H,s);Vh(g,ue);break e}}g=g.return}while(g!==null)}Sd(o)}catch(me){s=me,Tt===o&&o!==null&&(Tt=o=o.return);continue}break}while(1)}function yd(){var n=Ia.current;return Ia.current=ka,n===null?ka:n}function Il(){(zt===0||zt===3||zt===2)&&(zt=4),Rt===null||(Di&268435455)===0&&(qa&268435455)===0||ni(Rt,Ht)}function Ma(n,s){var o=tt;tt|=2;var d=yd();(Rt!==n||Ht!==s)&&(Vn=null,Oi(n,s));do try{V0();break}catch(x){md(n,x)}while(1);if(ll(),tt=o,Ia.current=d,Tt!==null)throw Error(we(261));return Rt=null,Ht=0,zt}function V0(){for(;Tt!==null;)wd(Tt)}function U0(){for(;Tt!==null&&!c_();)wd(Tt)}function wd(n){var s=xd(n.alternate,n,un);n.memoizedProps=n.pendingProps,s===null?Sd(n):Tt=s,Cl.current=null}function Sd(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=O0(o,s,un),o!==null){Tt=o;return}}else{if(o=N0(o,s),o!==null){o.flags&=32767,Tt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zt=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=n}while(s!==null);zt===0&&(zt=5)}function Ei(n,s,o){var d=at,x=pn.transition;try{pn.transition=null,at=1,H0(n,s,o,d)}finally{pn.transition=x,at=d}return null}function H0(n,s,o,d){do cr();while(ri!==null);if((tt&6)!==0)throw Error(we(327));o=n.finishedWork;var x=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(we(177));n.callbackNode=null,n.callbackPriority=0;var g=o.lanes|o.childLanes;if(C_(n,g),n===Rt&&(Tt=Rt=null,Ht=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Zs||(Zs=!0,Pd(fa,function(){return cr(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=pn.transition,pn.transition=null;var F=at;at=1;var H=tt;tt|=4,Cl.current=null,F0(n,o),_d(o,n),o0(co),da=!!fo,co=fo=null,n.current=o,R0(o),d_(),tt=H,at=F,pn.transition=g}else n.current=o;if(Zs&&(Zs=!1,ri=n,Ea=x),g=n.pendingLanes,g===0&&(hi=null),v_(o.stateNode),sn(n,Pt()),s!==null)for(d=n.onRecoverableError,o=0;o<s.length;o++)x=s[o],d(x.value,{componentStack:x.stack,digest:x.digest});if(Ta)throw Ta=!1,n=Oo,Oo=null,n;return(Ea&1)!==0&&n.tag!==0&&cr(),g=n.pendingLanes,(g&1)!==0?n===No?Jr++:(Jr=0,No=n):Jr=0,wi(),null}function cr(){if(ri!==null){var n=ec(Ea),s=pn.transition,o=at;try{if(pn.transition=null,at=16>n?16:n,ri===null)var d=!1;else{if(n=ri,ri=null,Ea=0,(tt&6)!==0)throw Error(we(331));var x=tt;for(tt|=4,Te=n.current;Te!==null;){var g=Te,F=g.child;if((Te.flags&16)!==0){var H=g.deletions;if(H!==null){for(var j=0;j<H.length;j++){var K=H[j];for(Te=K;Te!==null;){var ae=Te;switch(ae.tag){case 0:case 11:case 15:Kr(8,ae,g)}var Y=ae.child;if(Y!==null)Y.return=ae,Te=Y;else for(;Te!==null;){ae=Te;var te=ae.sibling,N=ae.return;if(cd(ae),ae===K){Te=null;break}if(te!==null){te.return=N,Te=te;break}Te=N}}}var ce=g.alternate;if(ce!==null){var J=ce.child;if(J!==null){ce.child=null;do{var Ae=J.sibling;J.sibling=null,J=Ae}while(J!==null)}}Te=g}}if((g.subtreeFlags&2064)!==0&&F!==null)F.return=g,Te=F;else e:for(;Te!==null;){if(g=Te,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Kr(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,Te=q;break e}Te=g.return}}var Q=n.current;for(Te=Q;Te!==null;){F=Te;var G=F.child;if((F.subtreeFlags&2064)!==0&&G!==null)G.return=F,Te=G;else e:for(F=Q;Te!==null;){if(H=Te,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Ha(9,H)}}catch(me){xt(H,H.return,me)}if(H===F){Te=null;break e}var ue=H.sibling;if(ue!==null){ue.return=H.return,Te=ue;break e}Te=H.return}}if(tt=x,wi(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Na,n)}catch(me){}d=!0}return d}finally{at=o,pn.transition=s}}return!1}function lf(n,s,o){s=mr(o,s),s=td(n,s,1),n=li(n,s,1),s=Jt(),n!==null&&(vs(n,1,s),sn(n,s))}function xt(n,s,o){if(n.tag===3)lf(n,n,o);else for(;s!==null;){if(s.tag===3){lf(s,n,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))){n=mr(o,n),n=nd(s,n,1),s=li(s,n,1),n=Jt(),s!==null&&(vs(s,1,n),sn(s,n));break}}s=s.return}}function q0(n,s,o){var d=n.pingCache;d!==null&&d.delete(s),s=Jt(),n.pingedLanes|=n.suspendedLanes&o,Rt===n&&(Ht&o)===o&&(zt===4||zt===3&&(Ht&130023424)===Ht&&500>Pt()-Pl?Oi(n,0):xl|=o),sn(n,s)}function Cd(n,s){s===0&&((n.mode&1)===0?s=1:(s=Fs,Fs<<=1,(Fs&130023424)===0&&(Fs=4194304)));var o=Jt();n=Gn(n,s),n!==null&&(vs(n,s,o),sn(n,o))}function j0(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Cd(n,o)}function W0(n,s){var o=0;switch(n.tag){case 13:var d=n.stateNode,x=n.memoizedState;x!==null&&(o=x.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(we(314))}d!==null&&d.delete(s),Cd(n,o)}var xd;xd=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||nn.current)tn=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return tn=!1,A0(n,s,o);tn=(n.flags&131072)!==0}else tn=!1,_t&&(s.flags&1048576)!==0&&kc(s,wa,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;na(n,s),n=s.pendingProps;var x=gr(s,Kt.current);fr(s,o),x=pl(null,s,d,n,x,o);var g=ml();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(d)?(g=!0,ma(s)):g=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,cl(s),x.updater=Va,s.stateNode=x,x._reactInternals=s,Co(s,d,n,o),s=bo(null,s,d,!0,g,o)):(s.tag=0,_t&&g&&sl(s),Xt(null,s,x,o),s=s.child),s;case 16:d=s.elementType;e:{switch(na(n,s),n=s.pendingProps,x=d._init,d=x(d._payload),s.type=d,x=s.tag=G0(d),n=Pn(d,n),x){case 0:s=Po(null,s,d,n,o);break e;case 1:s=Yh(null,s,d,n,o);break e;case 11:s=Xh(null,s,d,n,o);break e;case 14:s=Jh(null,s,d,Pn(d.type,n),o);break e}throw Error(we(306,d,""))}return s;case 0:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),Po(n,s,d,x,o);case 1:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),Yh(n,s,d,x,o);case 3:e:{if(ad(s),n===null)throw Error(we(387));d=s.pendingProps,g=s.memoizedState,x=g.element,Mc(n,s),xa(s,d,null,o);var F=s.memoizedState;if(d=F.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){x=mr(Error(we(423)),s),s=$h(n,s,d,o,x);break e}else if(d!==x){x=mr(Error(we(424)),s),s=$h(n,s,d,o,x);break e}else for(on=oi(s.stateNode.containerInfo.firstChild),ln=s,_t=!0,kn=null,o=Nc(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(_r(),d===x){s=Qn(n,s,o);break e}Xt(n,s,d,o)}s=s.child}return s;case 5:return Lc(s),n===null&&yo(s),d=s.type,x=s.pendingProps,g=n!==null?n.memoizedProps:null,F=x.children,go(d,x)?F=null:g!==null&&go(d,g)&&(s.flags|=32),sd(n,s),Xt(n,s,F,o),s.child;case 6:return n===null&&yo(s),null;case 13:return ud(n,s,o);case 4:return dl(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=vr(s,null,d,o):Xt(n,s,d,o),s.child;case 11:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),Xh(n,s,d,x,o);case 7:return Xt(n,s,s.pendingProps,o),s.child;case 8:return Xt(n,s,s.pendingProps.children,o),s.child;case 12:return Xt(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,x=s.pendingProps,g=s.memoizedProps,F=x.value,lt(Sa,d._currentValue),d._currentValue=F,g!==null)if(En(g.value,F)){if(g.children===x.children&&!nn.current){s=Qn(n,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var H=g.dependencies;if(H!==null){F=g.child;for(var j=H.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=jn(-1,o&-o),j.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ae=K.pending;ae===null?j.next=j:(j.next=ae.next,ae.next=j),K.pending=j}}g.lanes|=o,j=g.alternate,j!==null&&(j.lanes|=o),wo(g.return,o,s),H.lanes|=o;break}j=j.next}}else if(g.tag===10)F=g.type===s.type?null:g.child;else if(g.tag===18){if(F=g.return,F===null)throw Error(we(341));F.lanes|=o,H=F.alternate,H!==null&&(H.lanes|=o),wo(F,o,s),F=g.sibling}else F=g.child;if(F!==null)F.return=g;else for(F=g;F!==null;){if(F===s){F=null;break}if(g=F.sibling,g!==null){g.return=F.return,F=g;break}F=F.return}g=F}Xt(n,s,x.children,o),s=s.child}return s;case 9:return x=s.type,d=s.pendingProps.children,fr(s,o),x=mn(x),d=d(x),s.flags|=1,Xt(n,s,d,o),s.child;case 14:return d=s.type,x=Pn(d,s.pendingProps),x=Pn(d.type,x),Jh(n,s,d,x,o);case 15:return id(n,s,s.type,s.pendingProps,o);case 17:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),na(n,s),s.tag=1,rn(d)?(n=!0,ma(s)):n=!1,fr(s,o),Ac(s,d,x),Co(s,d,x,o),bo(null,s,d,!0,n,o);case 19:return od(n,s,o);case 22:return rd(n,s,o)}throw Error(we(156,s.tag))};function Pd(n,s){return Xf(n,s)}function Z0(n,s,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,s,o,d){return new Z0(n,s,o,d)}function Tl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function G0(n){if(typeof n=="function")return Tl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Go)return 11;if(n===Qo)return 14}return 2}function ci(n,s){var o=n.alternate;return o===null?(o=vn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function sa(n,s,o,d,x,g){var F=2;if(d=n,typeof n=="function")Tl(n)&&(F=1);else if(typeof n=="string")F=5;else e:switch(n){case Xi:return Ni(o.children,x,g,s);case Zo:F=8,x|=8;break;case Wu:return n=vn(12,o,s,x|2),n.elementType=Wu,n.lanes=g,n;case Zu:return n=vn(13,o,s,x),n.elementType=Zu,n.lanes=g,n;case Gu:return n=vn(19,o,s,x),n.elementType=Gu,n.lanes=g,n;case Of:return ja(o,x,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zf:F=10;break e;case Af:F=9;break e;case Go:F=11;break e;case Qo:F=14;break e;case $n:F=16,d=null;break e}throw Error(we(130,n==null?n:typeof n,""))}return s=vn(F,o,s,x),s.elementType=n,s.type=d,s.lanes=g,s}function Ni(n,s,o,d){return n=vn(7,n,d,s),n.lanes=o,n}function ja(n,s,o,d){return n=vn(22,n,d,s),n.elementType=Of,n.lanes=o,n.stateNode={isHidden:!1},n}function Hu(n,s,o){return n=vn(6,n,null,s),n.lanes=o,n}function qu(n,s,o){return s=vn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Q0(n,s,o,d,x){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=d,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function El(n,s,o,d,x,g,F,H,j){return n=new Q0(n,s,o,H,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=vn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},cl(g),n}function K0(n,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:d==null?null:""+d,children:n,containerInfo:s,implementation:o}}function bd(n){if(!n)return pi;n=n._reactInternals;e:{if(Ui(n)!==n||n.tag!==1)throw Error(we(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(we(171))}if(n.tag===1){var o=n.type;if(rn(o))return Pc(n,o,s)}return s}function kd(n,s,o,d,x,g,F,H,j){return n=El(o,d,!0,n,x,g,F,H,j),n.context=bd(null),o=n.current,d=Jt(),x=fi(o),g=jn(d,x),g.callback=s!=null?s:null,li(o,g,x),n.current.lanes=x,vs(n,x,d),sn(n,d),n}function Wa(n,s,o,d){var x=s.current,g=Jt(),F=fi(x);return o=bd(o),s.context===null?s.context=o:s.pendingContext=o,s=jn(g,F),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=li(x,s,F),n!==null&&(Tn(n,x,F,g),$s(n,x,F)),F}function za(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hf(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Ml(n,s){hf(n,s),(n=n.alternate)&&hf(n,s)}function X0(){return null}var Id=typeof reportError=="function"?reportError:function(n){console.error(n)};function zl(n){this._internalRoot=n}Za.prototype.render=zl.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(we(409));Wa(n,s,null,null)};Za.prototype.unmount=zl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Bi(function(){Wa(null,n,null,null)}),s[Zn]=null}};function Za(n){this._internalRoot=n}Za.prototype.unstable_scheduleHydration=function(n){if(n){var s=ic();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ti.length&&s!==0&&s<ti[o].priority;o++);ti.splice(o,0,n),o===0&&sc(n)}};function Al(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ga(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ff(){}function J0(n,s,o,d,x){if(x){if(typeof d=="function"){var g=d;d=function(){var K=za(F);g.call(K)}}var F=kd(s,d,n,0,null,!1,!1,"",ff);return n._reactRootContainer=F,n[Zn]=F.current,as(n.nodeType===8?n.parentNode:n),Bi(),F}for(;x=n.lastChild;)n.removeChild(x);if(typeof d=="function"){var H=d;d=function(){var K=za(j);H.call(K)}}var j=El(n,0,!1,null,null,!1,!1,"",ff);return n._reactRootContainer=j,n[Zn]=j.current,as(n.nodeType===8?n.parentNode:n),Bi(function(){Wa(s,j,o,d)}),j}function Qa(n,s,o,d,x){var g=o._reactRootContainer;if(g){var F=g;if(typeof x=="function"){var H=x;x=function(){var j=za(F);H.call(j)}}Wa(s,F,n,x)}else F=J0(o,s,n,x,d);return za(F)}tc=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Vr(s.pendingLanes);o!==0&&(Jo(s,o|1),sn(s,Pt()),(tt&6)===0&&(yr=Pt()+500,wi()))}break;case 13:Bi(function(){var d=Gn(n,1);if(d!==null){var x=Jt();Tn(d,n,1,x)}}),Ml(n,1)}};Yo=function(n){if(n.tag===13){var s=Gn(n,134217728);if(s!==null){var o=Jt();Tn(s,n,134217728,o)}Ml(n,134217728)}};nc=function(n){if(n.tag===13){var s=fi(n),o=Gn(n,s);if(o!==null){var d=Jt();Tn(o,n,s,d)}Ml(n,s)}};ic=function(){return at};rc=function(n,s){var o=at;try{return at=n,s()}finally{at=o}};io=function(n,s,o){switch(s){case"input":if(Xu(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==n&&d.form===n.form){var x=Da(d);if(!x)throw Error(we(90));Lf(d),Xu(d,x)}}}break;case"textarea":Rf(n,o);break;case"select":s=o.value,s!=null&&ur(n,!!o.multiple,s,!1)}};jf=bl;Wf=Bi;var Y0={usingClientEntryPoint:!1,Events:[ms,er,Da,Hf,qf,bl]},Fr={findFiberByHostInstance:Mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$0={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Qf(n),n===null?null:n.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||X0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Na=Gs.inject($0),Ln=Gs}catch(n){}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y0;fn.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(s))throw Error(we(200));return K0(n,s,null,o)};fn.createRoot=function(n,s){if(!Al(n))throw Error(we(299));var o=!1,d="",x=Id;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=El(n,1,!1,null,null,o,!1,d,x),n[Zn]=s.current,as(n.nodeType===8?n.parentNode:n),new zl(s)};fn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(we(188)):(n=Object.keys(n).join(","),Error(we(268,n)));return n=Qf(s),n=n===null?null:n.stateNode,n};fn.flushSync=function(n){return Bi(n)};fn.hydrate=function(n,s,o){if(!Ga(s))throw Error(we(200));return Qa(null,n,s,!0,o)};fn.hydrateRoot=function(n,s,o){if(!Al(n))throw Error(we(405));var d=o!=null&&o.hydratedSources||null,x=!1,g="",F=Id;if(o!=null&&(o.unstable_strictMode===!0&&(x=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(F=o.onRecoverableError)),s=kd(s,null,n,1,o!=null?o:null,x,!1,g,F),n[Zn]=s.current,as(n),d)for(n=0;n<d.length;n++)o=d[n],x=o._getVersion,x=x(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,x]:s.mutableSourceEagerHydrationData.push(o,x);return new Za(s)};fn.render=function(n,s,o){if(!Ga(s))throw Error(we(200));return Qa(null,n,s,!1,o)};fn.unmountComponentAtNode=function(n){if(!Ga(n))throw Error(we(40));return n._reactRootContainer?(Bi(function(){Qa(null,null,n,!1,function(){n._reactRootContainer=null,n[Zn]=null})}),!0):!1};fn.unstable_batchedUpdates=bl;fn.unstable_renderSubtreeIntoContainer=function(n,s,o,d){if(!Ga(o))throw Error(we(200));if(n==null||n._reactInternals===void 0)throw Error(we(38));return Qa(n,s,o,!1,d)};fn.version="18.2.0-next-9e3b772b8-20220608";function Td(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Td)}catch(n){console.error(n)}}Td(),kf.exports=fn;var Ed,cf=kf.exports;Ed=cf.createRoot,cf.hydrateRoot;const df=document.getElementById("root");df?Ed(df).render(Qi(Jg,{})):console.error("unable to find root");
