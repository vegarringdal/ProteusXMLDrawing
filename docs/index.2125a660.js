const fg=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))d(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const F of g.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&d(F)}).observe(document,{childList:!0,subtree:!0});function o(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerpolicy&&(g.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?g.credentials="include":x.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(x){if(x.ep)return;x.ep=!0;const g=o(x);fetch(x.href,g)}};fg();var gf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function cg(n){if(n.__esModule)return n;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(o){var d=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,d.get?d:{enumerable:!0,get:function(){return n[o]}})}),s}function dg(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ma={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),gg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),mg=Symbol.for("react.provider"),yg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Cg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),nh=Symbol.iterator;function Pg(n){return n===null||typeof n!="object"?null:(n=nh&&n[nh]||n["@@iterator"],typeof n=="function"?n:null)}var _f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vf=Object.assign,pf={};function yr(n,s,o){this.props=n,this.context=s,this.refs=pf,this.updater=o||_f}yr.prototype.isReactComponent={};yr.prototype.setState=function(n,s){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,s,"setState")};yr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function mf(){}mf.prototype=yr.prototype;function Fo(n,s,o){this.props=n,this.context=s,this.refs=pf,this.updater=o||_f}var Do=Fo.prototype=new mf;Do.constructor=Fo;vf(Do,yr.prototype);Do.isPureReactComponent=!0;var ih=Array.isArray,yf=Object.prototype.hasOwnProperty,Ro={current:null},wf={key:!0,ref:!0,__self:!0,__source:!0};function Sf(n,s,o){var d,x={},g=null,F=null;if(s!=null)for(d in s.ref!==void 0&&(F=s.ref),s.key!==void 0&&(g=""+s.key),s)yf.call(s,d)&&!wf.hasOwnProperty(d)&&(x[d]=s[d]);var H=arguments.length-2;if(H===1)x.children=o;else if(1<H){for(var j=Array(H),X=0;X<H;X++)j[X]=arguments[X+2];x.children=j}if(n&&n.defaultProps)for(d in H=n.defaultProps,H)x[d]===void 0&&(x[d]=H[d]);return{$$typeof:_s,type:n,key:g,ref:F,props:x,_owner:Ro.current}}function bg(n,s){return{$$typeof:_s,type:n.type,key:s,ref:n.ref,props:n.props,_owner:n._owner}}function Bo(n){return typeof n=="object"&&n!==null&&n.$$typeof===_s}function kg(n){var s={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return s[o]})}var rh=/\/+/g;function pu(n,s){return typeof n=="object"&&n!==null&&n.key!=null?kg(""+n.key):s.toString(36)}function Qs(n,s,o,d,x){var g=typeof n;(g==="undefined"||g==="boolean")&&(n=null);var F=!1;if(n===null)F=!0;else switch(g){case"string":case"number":F=!0;break;case"object":switch(n.$$typeof){case _s:case gg:F=!0}}if(F)return F=n,x=x(F),n=d===""?"."+pu(F,0):d,ih(x)?(o="",n!=null&&(o=n.replace(rh,"$&/")+"/"),Qs(x,s,o,"",function(X){return X})):x!=null&&(Bo(x)&&(x=bg(x,o+(!x.key||F&&F.key===x.key?"":(""+x.key).replace(rh,"$&/")+"/")+n)),s.push(x)),1;if(F=0,d=d===""?".":d+":",ih(n))for(var H=0;H<n.length;H++){g=n[H];var j=d+pu(g,H);F+=Qs(g,s,o,j,x)}else if(j=Pg(n),typeof j=="function")for(n=j.call(n),H=0;!(g=n.next()).done;)g=g.value,j=d+pu(g,H++),F+=Qs(g,s,o,j,x);else if(g==="object")throw s=String(n),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return F}function Ms(n,s,o){if(n==null)return n;var d=[],x=0;return Qs(n,d,"","",function(g){return s.call(o,g,x++)}),d}function Ig(n){if(n._status===-1){var s=n._result;s=s(),s.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=s)}if(n._status===1)return n._result.default;throw n._result}var Xt={current:null},Ks={transition:null},Tg={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:Ro};Ge.Children={map:Ms,forEach:function(n,s,o){Ms(n,function(){s.apply(this,arguments)},o)},count:function(n){var s=0;return Ms(n,function(){s++}),s},toArray:function(n){return Ms(n,function(s){return s})||[]},only:function(n){if(!Bo(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ge.Component=yr;Ge.Fragment=_g;Ge.Profiler=pg;Ge.PureComponent=Fo;Ge.StrictMode=vg;Ge.Suspense=Sg;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;Ge.cloneElement=function(n,s,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var d=vf({},n.props),x=n.key,g=n.ref,F=n._owner;if(s!=null){if(s.ref!==void 0&&(g=s.ref,F=Ro.current),s.key!==void 0&&(x=""+s.key),n.type&&n.type.defaultProps)var H=n.type.defaultProps;for(j in s)yf.call(s,j)&&!wf.hasOwnProperty(j)&&(d[j]=s[j]===void 0&&H!==void 0?H[j]:s[j])}var j=arguments.length-2;if(j===1)d.children=o;else if(1<j){H=Array(j);for(var X=0;X<j;X++)H[X]=arguments[X+2];d.children=H}return{$$typeof:_s,type:n.type,key:x,ref:g,props:d,_owner:F}};Ge.createContext=function(n){return n={$$typeof:yg,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:mg,_context:n},n.Consumer=n};Ge.createElement=Sf;Ge.createFactory=function(n){var s=Sf.bind(null,n);return s.type=n,s};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(n){return{$$typeof:wg,render:n}};Ge.isValidElement=Bo;Ge.lazy=function(n){return{$$typeof:xg,_payload:{_status:-1,_result:n},_init:Ig}};Ge.memo=function(n,s){return{$$typeof:Cg,type:n,compare:s===void 0?null:s}};Ge.startTransition=function(n){var s=Ks.transition;Ks.transition={};try{n()}finally{Ks.transition=s}};Ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ge.useCallback=function(n,s){return Xt.current.useCallback(n,s)};Ge.useContext=function(n){return Xt.current.useContext(n)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(n){return Xt.current.useDeferredValue(n)};Ge.useEffect=function(n,s){return Xt.current.useEffect(n,s)};Ge.useId=function(){return Xt.current.useId()};Ge.useImperativeHandle=function(n,s,o){return Xt.current.useImperativeHandle(n,s,o)};Ge.useInsertionEffect=function(n,s){return Xt.current.useInsertionEffect(n,s)};Ge.useLayoutEffect=function(n,s){return Xt.current.useLayoutEffect(n,s)};Ge.useMemo=function(n,s){return Xt.current.useMemo(n,s)};Ge.useReducer=function(n,s,o){return Xt.current.useReducer(n,s,o)};Ge.useRef=function(n){return Xt.current.useRef(n)};Ge.useState=function(n){return Xt.current.useState(n)};Ge.useSyncExternalStore=function(n,s,o){return Xt.current.useSyncExternalStore(n,s,o)};Ge.useTransition=function(){return Xt.current.useTransition()};Ge.version="18.2.0";Ma.exports=Ge;const di={text:!1,trimmedCurve:!1,circle:!1,circleArc:!1,ellipse:!1,ellipseArc:!1,shape:!1,component:!1,line:!1,printIdMap:!1,highlightIds:!1},gi={text:{red:0,green:0,blue:1,alpha:.5},trimmedCurve:{red:0,green:1,blue:0,alpha:.5},circle:{red:1,green:1,blue:0,alpha:.5},circleArc:{red:1,green:1,blue:0,alpha:.5},ellipse:{red:1,green:1,blue:0,alpha:.5},ellipseArc:{red:1,green:1,blue:0,alpha:.5},component:{red:.5,green:1,blue:1,alpha:.5},shape:{red:1,green:.5,blue:1,alpha:.5},line:{red:1,green:0,blue:0,alpha:.5}},Hr=new Map;function Eg(){Hr.clear()}function zg(n,s){Hr.has(n)&&(console.warn("duplicate ID's in file",n),console.warn("prev",Hr.get(n)),console.warn("new",s)),Hr.set(n,s)}function Mg(n){return Hr.get(n)||null}class Ag{constructor(s,o,d){this.element=s,this.attributeName=o,this.parent=d,this.value=s.getAttribute(o),this.valueAsString=this.value||"",this.valueAsNumber=parseFloat(this.value||""),d.attributes[o]=this.valueAsString,isNaN(this.valueAsNumber)&&(this.valueAsNumber=0)}}function Cf(n){const s=[];return Object.keys(n).forEach(d=>{Array.isArray(n[d])&&n[d].forEach(x=>{x&&typeof x.draw=="function"&&s.push(x)})}),s}const xf=new Map;function Og(n,s){xf.set(n,s)}function Lg(n){return xf.get(n)||null}var Pf={exports:{}},Ng={},Fg=Object.freeze(Object.defineProperty({__proto__:null,default:Ng},Symbol.toStringTag,{value:"Module"})),aa=cg(Fg);/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||aa;var d=s.window,x=s.document,g=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],i=t.slice,a=Object.create,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=t.forEach||function(v,S){for(var k=0,I=this.length;k<I;k++)v.call(S,this[k],k,this)},f=function(v,S){for(var k in this)this.hasOwnProperty(k)&&v.call(S,this[k],k,this)},c=Object.assign||function(v){for(var S=1,k=arguments.length;S<k;S++){var I=arguments[S];for(var b in I)I.hasOwnProperty(b)&&(v[b]=I[b])}return v},_=function(v,S,k){if(v){var I=u(v,"length");(I&&typeof I.value=="number"?h:f).call(v,S,k=k||v)}return k};function m(v,S,k,I,b){var C={};function w(E,M){M=M||(M=u(S,E))&&(M.get?M:M.value),typeof M=="string"&&M[0]==="#"&&(M=v[M.substring(1)]||M);var A=typeof M=="function",N=M,D=b||A&&!M.base?M&&M.get?E in v:v[E]:null,O;(!b||!D)&&(A&&D&&(M.base=D),A&&I!==!1&&(O=E.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(C[O[3].toLowerCase()+O[4]]=O[2]),(!N||A||!N.get||typeof N.get!="function"||!p.isPlainObject(N))&&(N={value:N,writable:!0}),(u(v,E)||{configurable:!0}).configurable&&(N.configurable=!0,N.enumerable=k!=null?k:!O),l(v,E,N))}if(S){for(var y in S)S.hasOwnProperty(y)&&!e.test(y)&&w(y);for(var y in C){var P=C[y],T=v["set"+P],z=v["get"+P]||T&&v["is"+P];z&&(I===!0||z.length===0)&&w(y,{get:z,set:T})}}return v}function p(){for(var v=0,S=arguments.length;v<S;v++){var k=arguments[v];k&&c(this,k)}return this}return m(p,{inject:function(v){if(v){var S=v.statics===!0?v:v.statics,k=v.beans,I=v.preserve;S!==v&&m(this.prototype,v,v.enumerable,k,I),m(this,S,null,k,I)}for(var b=1,C=arguments.length;b<C;b++)this.inject(arguments[b]);return this},extend:function(){for(var v=this,S,k,I=0,b,C=arguments.length;I<C&&!(S&&k);I++)b=arguments[I],S=S||b.initialize,k=k||b.prototype;return S=S||function(){v.apply(this,arguments)},k=S.prototype=k||a(this.prototype),l(k,"constructor",{value:S,writable:!0,configurable:!0}),m(S,this),arguments.length&&this.inject.apply(S,arguments),S.base=v,S}}).inject({enumerable:!1,initialize:p,set:p,inject:function(){for(var v=0,S=arguments.length;v<S;v++){var k=arguments[v];k&&m(this,k,k.enumerable,k.beans,k.preserve)}return this},extend:function(){var v=a(this);return v.inject.apply(v,arguments)},each:function(v,S){return _(this,v,S)},clone:function(){return new this.constructor(this)},statics:{set:c,each:_,create:a,define:l,describe:u,clone:function(v){return c(new v.constructor,v)},isPlainObject:function(v){var S=v!=null&&v.constructor;return S&&(S===Object||S===p||S.name==="Object")},pick:function(v,S){return v!==o?v:S},slice:function(v,S,k){return i.call(v,S,k)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(e,t){if(!/^_/.test(t)){var i=typeof e;this.push(t+": "+(i==="number"?se.instance.number(e):i==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return g.importJSON(e,this)},exportJSON:function(e){return g.exportJSON(this,e)},toJSON:function(){return g.serialize(this)},set:function(e,t){return e&&g.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),i=t.prototype._class;return i&&!g.exports[i]&&(g.exports[i]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(;i--;)if(!g.equals(e[i],t[i]))return!1}else{var a=Object.keys(e),i=a.length;if(i!==Object.keys(t).length)return!1;for(;i--;){var u=a[i];if(!(t.hasOwnProperty(u)&&g.equals(e[u],t[u])))return!1}}return!0}return!1},read:function(e,t,i,a){if(this===g){var u=this.peek(e,t);return e.__index++,u}var l=this.prototype,h=l._readIndex,f=t||h&&e.__index||0,c=e.length,_=e[f];if(a=a||c-f,_ instanceof this||i&&i.readNull&&_==null&&a<=1)return h&&(e.__index=f+1),_&&i&&i.clone?_.clone():_;if(_=g.create(l),h&&(_.__read=!0),_=_.initialize.apply(_,f>0||f+a<c?g.slice(e,f,f+a):e)||_,h){e.__index=f+_.__read;var m=_.__filtered;m&&(e.__filtered=m,_.__filtered=o),_.__read=o}return _},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,i,a){for(var u=[],l,h=t||0,f=a?h+a:e.length,c=h;c<f;c++)u.push(Array.isArray(l=e[c])?this.read(l,0,i):this.read(e,c,i,1));return u},readNamed:function(e,t,i,a,u){var l=this.getNamed(e,t),h=l!==o;if(h){var f=e.__filtered;if(!f){var c=this.getSource(e);f=e.__filtered=g.create(c),f.__unfiltered=c}f[t]=o}return this.read(h?[l]:e,i,a,u)},readSupported:function(e,t){var i=this.getSource(e),a=this,u=!1;return i&&Object.keys(i).forEach(function(l){if(l in t){var h=a.readNamed(e,l);h!==o&&(t[l]=h),u=!0}}),u},getSource:function(e){var t=e.__source;if(t===o){var i=e.length===1&&e[0];t=e.__source=i&&g.isPlainObject(i)?i:null}return t},getNamed:function(e,t){var i=this.getSource(e);if(i)return t?i[t]:e.__filtered||i},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,i,a){var u;function l(m){if(!(i&&m in i)&&!(u&&m in u)){var p=t[m];p!==o&&(e[m]=p)}}if(a){for(var h={},f=0,c,_=a.length;f<_;f++)(c=a[f])in t&&(l(c),h[c]=!0);u=h}return Object.keys(t.__unfiltered||t).forEach(l),e},isPlainValue:function(e,t){return g.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,i,a){t=t||{};var u=!a,l;if(u&&(t.formatter=new se(t.precision),a={length:0,definitions:{},references:{},add:function(p,v){var S="#"+p._id,k=this.references[S];if(!k){this.length++;var I=v.call(p),b=p._class;b&&I[0]!==b&&I.unshift(b),this.definitions[S]=I,k=this.references[S]=[S]}return k}}),e&&e._serialize){l=e._serialize(t,a);var h=e._class;h&&!e._compactSerialize&&(u||!i)&&l[0]!==h&&l.unshift(h)}else if(Array.isArray(e)){l=[];for(var f=0,c=e.length;f<c;f++)l[f]=g.serialize(e[f],t,i,a)}else if(g.isPlainObject(e)){l={};for(var _=Object.keys(e),f=0,c=_.length;f<c;f++){var m=_[f];l[m]=g.serialize(e[m],t,i,a)}}else typeof e=="number"?l=t.formatter.number(e,t.precision):l=e;return u&&a.length>0?[["dictionary",a.definitions],l]:l},deserialize:function(e,t,i,a,u){var l=e,h=!i,f=h&&e&&e.length&&e[0][0]==="dictionary";if(i=i||{},Array.isArray(e)){var c=e[0],_=c==="dictionary";if(e.length==1&&/^#/.test(c))return i.dictionary[c];c=g.exports[c],l=[];for(var m=c?1:0,p=e.length;m<p;m++)l.push(g.deserialize(e[m],t,i,_,f));if(c){var v=l;t?l=t(c,v,h||u):l=new c(v)}}else if(g.isPlainObject(e)){l={},a&&(i.dictionary=l);for(var S in e)l[S]=g.deserialize(e[S],t,i)}return f?l[1]:l},exportJSON:function(e,t){var i=g.serialize(e,t);return t&&t.asString==!1?i:JSON.stringify(i)},importJSON:function(e,t){return g.deserialize(typeof e=="string"?JSON.parse(e):e,function(i,a,u){var l=u&&t&&t.constructor===i,h=l?t:g.create(i.prototype);if(a.length===1&&h instanceof ae&&(l||!(h instanceof xe))){var f=a[0];g.isPlainObject(f)&&(f.insert=!1,l&&(a=a.concat([{insert:!0}])))}return(l?h.set:i).apply(h,a),l&&(t=null),h})},push:function(e,t){var i=t.length;if(i<4096)e.push.apply(e,t);else{var a=e.length;e.length+=i;for(var u=0;u<i;u++)e[a+u]=t[u]}return e},splice:function(e,t,i,a){var u=t&&t.length,l=i===o;i=l?e.length:i,i>e.length&&(i=e.length);for(var h=0;h<u;h++)t[h]._index=i+h;if(l)return g.push(e,t),[];var f=[i,a];t&&g.push(f,t);for(var c=e.splice.apply(e,f),h=0,_=c.length;h<_;h++)c[h]._index=o;for(var h=i+u,_=e.length;h<_;h++)e[h]._index=h;return c},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var F={on:function(e,t){if(typeof e!="string")g.each(e,function(l,h){this.on(h,l)},this);else{var i=this._eventTypes,a=i&&i[e],u=this._callbacks=this._callbacks||{};u=u[e]=u[e]||[],u.indexOf(t)===-1&&(u.push(t),a&&a.install&&u.length===1&&a.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){g.each(e,function(h,f){this.off(f,h)},this);return}var i=this._eventTypes,a=i&&i[e],u=this._callbacks&&this._callbacks[e],l;return u&&(!t||(l=u.indexOf(t))!==-1&&u.length===1?(a&&a.uninstall&&a.uninstall.call(this,e),delete this._callbacks[e]):l!==-1&&u.splice(l,1)),this},once:function(e,t){return this.on(e,function i(){t.apply(this,arguments),this.off(e,i)})},emit:function(e,t){var i=this._callbacks&&this._callbacks[e];if(!i)return!1;var a=g.slice(arguments,1),u=t&&t.target&&!t.currentTarget;i=i.slice(),u&&(t.currentTarget=this);for(var l=0,h=i.length;l<h;l++)if(i[l].apply(this,a)==!1){t&&t.stop&&t.stop();break}return u&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,i=this._callbacks,a=e?"install":"uninstall";if(t){for(var u in i)if(i[u].length>0){var l=t[u],h=l&&l[a];h&&h.call(this,u)}}},statics:{inject:function e(t){var i=t._events;if(i){var a={};g.each(i,function(u,l){var h=typeof u=="string",f=h?u:l,c=g.capitalize(f),_=f.substring(2).toLowerCase();a[_]=h?{}:u,f="_"+f,t["get"+c]=function(){return this[f]},t["set"+c]=function(m){var p=this[f];p&&this.off(_,p),m&&this.on(_,m),this[f]=m}}),t._eventTypes=a}return e.base.apply(this,arguments)}}},H=g.extend({_class:"PaperScope",initialize:function e(){r=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var i=_t.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:lt.nativeModes},_t.release(i)}if(!this.agent){var a=s.navigator.userAgent.toLowerCase(),u=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],l=u==="darwin"?"mac":u,h=t.agent=t.browser={platform:l};l&&(h[l]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,c,_,m,p){if(!h.chrome){var v=c==="opera"?m:/^(node|trident)$/.test(c)?p:_;h.version=v,h.versionNumber=parseFloat(v),c={trident:"msie",jsdom:"node"}[c]||c,h.name=c,h[c]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var i=r.PaperScript.execute(e,this,t);return Re.updateFocus(),i},install:function(e){var t=this;g.each(["project","view","tool"],function(a){g.define(e,a,{configurable:!0,get:function(){return t[a]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(e[i]=this[i])},setup:function(e){return r=this,this.project=new ve(e),this},createCanvas:function(e,t){return _t.getCanvas(e,t)},activate:function(){r=this},clear:function(){for(var e=this.projects,t=this.tools,i=e.length-1;i>=0;i--)e[i].remove();for(var i=t.length-1;i>=0;i--)t[i].remove()},remove:function(){this.clear(),delete H._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(i,a){return i[t](a)||i[t]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),j=g.extend(F,{initialize:function(e){this._scope=r,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),X={findItemBoundsCollisions:function(e,t,i){function a(h){for(var f=new Array(h.length),c=0;c<h.length;c++){var _=h[c].getBounds();f[c]=[_.left,_.top,_.right,_.bottom]}return f}var u=a(e),l=!t||t===e?u:a(t);return this.findBoundsCollisions(u,l,i||0)},findCurveBoundsCollisions:function(e,t,i,a){function u(v){for(var S=Math.min,k=Math.max,I=new Array(v.length),b=0;b<v.length;b++){var C=v[b];I[b]=[S(C[0],C[2],C[4],C[6]),S(C[1],C[3],C[5],C[7]),k(C[0],C[2],C[4],C[6]),k(C[1],C[3],C[5],C[7])]}return I}var l=u(e),h=!t||t===e?l:u(t);if(a){for(var f=this.findBoundsCollisions(l,h,i||0,!1,!0),c=this.findBoundsCollisions(l,h,i||0,!0,!0),_=[],m=0,p=f.length;m<p;m++)_[m]={hor:f[m],ver:c[m]};return _}return this.findBoundsCollisions(l,h,i||0)},findBoundsCollisions:function(e,t,i,a,u){var l=!t||e===t,h=l?e:e.concat(t),f=e.length,c=h.length;function _(ie,le,he){for(var ee=0,te=ie.length;ee<te;){var fe=te+ee>>>1;h[ie[fe]][le]<he?ee=fe+1:te=fe}return ee-1}for(var m=a?1:0,p=m+2,v=a?0:1,S=v+2,k=new Array(c),I=0;I<c;I++)k[I]=I;k.sort(function(ie,le){return h[ie][m]-h[le][m]});for(var b=[],C=new Array(f),I=0;I<c;I++){var w=k[I],y=h[w],P=l?w:w-f,T=w<f,z=l||!T,E=T?[]:null;if(b.length){var M=_(b,p,y[m]-i)+1;if(b.splice(0,M),l&&u){E=E.concat(b);for(var A=0;A<b.length;A++){var N=b[A];C[N].push(P)}}else for(var D=y[S],O=y[v],A=0;A<b.length;A++){var N=b[A],R=h[N],B=N<f,V=l||N>=f;(u||(T&&V||z&&B)&&D>=R[v]-i&&O<=R[S]+i)&&(T&&V&&E.push(l?N:N-f),z&&B&&C[N].push(P))}}if(T&&(e===t&&E.push(w),C[w]=E),b.length){var U=y[p],W=_(b,p,U);b.splice(W+1,0,w)}else b.push(w)}for(var I=0;I<C.length;I++){var $=C[I];$&&$.sort(function(le,he){return le-he})}return C}},se=g.extend({initialize:function(e){this.precision=g.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,i){return this.number(e)+(i||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});se.instance=new se;var J=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,a=Math.sqrt,u=Math.pow,l=Math.log2||function(p){return Math.log(p)*Math.LOG2E},h=1e-12,f=112e-18;function c(p,v,S){return p<v?v:p>S?S:p}function _(p,v,S){function k(M){var A=M*134217729,N=M-A,D=N+A,O=M-D;return[D,O]}var I=v*v-p*S,b=v*v+p*S;if(i(I)*3<b){var C=k(p),w=k(v),y=k(S),P=v*v,T=w[0]*w[0]-P+2*w[0]*w[1]+w[1]*w[1],z=p*S,E=C[0]*y[0]-z+C[0]*y[1]+C[1]*y[0]+C[1]*y[1];I=P-z+(T-E)}return I}function m(){var p=Math.max.apply(Math,arguments);return p&&(p<1e-8||p>1e8)?u(2,-Math.round(l(p))):0}return{EPSILON:h,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(p){return p>=-h&&p<=h},isMachineZero:function(p){return p>=-f&&p<=f},clamp:c,integrate:function(p,v,S,k){for(var I=e[k-2],b=t[k-2],C=(S-v)*.5,w=C+v,y=0,P=k+1>>1,T=k&1?b[y++]*p(w):0;y<P;){var z=C*I[y];T+=b[y++]*(p(w+z)+p(w-z))}return C*T},findRoot:function(p,v,S,k,I,b,C){for(var w=0;w<b;w++){var y=p(S),P=y/v(S),T=S-P;if(i(P)<C){S=T;break}y>0?(I=S,S=T<=k?(k+I)*.5:T):(k=S,S=T>=I?(k+I)*.5:T)}return c(S,k,I)},solveQuadratic:function(p,v,S,k,I,b){var C,w=1/0;if(i(p)<h){if(i(v)<h)return i(S)<h?-1:0;C=-S/v}else{v*=-.5;var y=_(p,v,S);if(y&&i(y)<f){var P=m(i(p),i(v),i(S));P&&(p*=P,v*=P,S*=P,y=_(p,v,S))}if(y>=-f){var T=y<0?0:a(y),z=v+(v<0?-T:T);z===0?(C=S/p,w=-C):(C=z/p,w=S/z)}}var E=0,M=I==null,A=I-h,N=b+h;return isFinite(C)&&(M||C>A&&C<N)&&(k[E++]=M?C:c(C,I,b)),w!==C&&isFinite(w)&&(M||w>A&&w<N)&&(k[E++]=M?w:c(w,I,b)),E},solveCubic:function(p,v,S,k,I,b,C){var w=m(i(p),i(v),i(S),i(k)),y,P,T,z,E;w&&(p*=w,v*=w,S*=w,k*=w);function M(W){y=W;var $=p*y;P=$+v,T=P*y+S,z=($+P)*y+T,E=T*y+k}if(i(p)<h)p=v,P=S,T=k,y=1/0;else if(i(k)<h)P=v,T=S,y=0;else{M(-(v/p)/3);var A=E/p,N=u(i(A),1/3),D=A<0?-1:1,O=-z/p,R=O>0?1.324717957244746*Math.max(N,a(O)):N,B=y-D*R;if(B!==y){do M(B),B=z===0?y:y-E/z/(1+f);while(D*B>D*y);i(p)*y*y>i(k/y)&&(T=-k/y,P=(T-S)/y)}}var V=J.solveQuadratic(p,P,T,I,b,C),U=b==null;return isFinite(y)&&(V===0||V>0&&y!==I[0]&&y!==I[1])&&(U||y>b-h&&y<C+h)&&(I[V++]=U?y:c(y,b,C)),V}}},ne={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},L=g.extend({_class:"Point",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new L(this.x,this.y)},toString:function(){var e=se.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var i=e/this.getLength();J.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=L.read(arguments),t=this.getLength()*e.getLength();if(J.isZero(t))return NaN;var i=this.dot(e)/t;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=L.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=L.read(e),i=t.x-this.x,a=t.y-this.y,u=i*i+a*a,l=g.read(e);return l?u:Math.sqrt(u)},normalize:function(e){e===o&&(e=1);var t=this.getLength(),i=t!==0?e/t:0,a=new L(this.x*i,this.y*i);return i>=0&&(a._angle=this._angle),a},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var i=t?this.subtract(t):this,a=Math.sin(e),u=Math.cos(e);return i=new L(i.x*u-i.y*a,i.x*a+i.y*u),t?i.add(t):i},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=L.read(arguments);return new L(this.x+e.x,this.y+e.y)},subtract:function(){var e=L.read(arguments);return new L(this.x-e.x,this.y-e.y)},multiply:function(){var e=L.read(arguments);return new L(this.x*e.x,this.y*e.y)},divide:function(){var e=L.read(arguments);return new L(this.x/e.x,this.y/e.y)},modulo:function(){var e=L.read(arguments);return new L(this.x%e.x,this.y%e.y)},negate:function(){return new L(-this.x,-this.y)},isInside:function(){return q.read(arguments).contains(this)},isClose:function(){var e=arguments,t=L.read(e),i=g.read(e);return this.getDistance(t)<=i},isCollinear:function(){var e=L.read(arguments);return L.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=L.read(arguments);return L.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=J.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=L.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=L.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=L.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new L(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=L.read(e),i=L.read(e);return new L(Math.min(t.x,i.x),Math.min(t.y,i.y))},max:function(){var e=arguments,t=L.read(e),i=L.read(e);return new L(Math.max(t.x,i.x),Math.max(t.y,i.y))},random:function(){return new L(Math.random(),Math.random())},isCollinear:function(e,t,i,a){return Math.abs(e*a-t*i)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8},isOrthogonal:function(e,t,i,a){return Math.abs(e*i+t*a)<=Math.sqrt((e*e+t*t)*(i*i+a*a))*1e-8}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new L(t(this.x),t(this.y))}},{})),ge=L.extend({initialize:function(t,i,a,u){this._x=t,this._y=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._x=e,this._y=t,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),Y=g.extend({_class:"Size",_readIndex:!0,initialize:function(t,i){var a=typeof t,u=this.__read,l=0;if(a==="number"){var h=typeof i=="number";this._set(t,h?i:t),u&&(l=h?2:1)}else if(a==="undefined"||t===null)this._set(0,0),u&&(l=t===null?1:0);else{var f=a==="string"?t.split(/[\s,]+/)||[]:t;l=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),l=0)}return u&&(this.__read=l),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new Y(this.width,this.height)},toString:function(){var e=se.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=Y.read(arguments);return new Y(this.width+e.width,this.height+e.height)},subtract:function(){var e=Y.read(arguments);return new Y(this.width-e.width,this.height-e.height)},multiply:function(){var e=Y.read(arguments);return new Y(this.width*e.width,this.height*e.height)},divide:function(){var e=Y.read(arguments);return new Y(this.width/e.width,this.height/e.height)},modulo:function(){var e=Y.read(arguments);return new Y(this.width%e.width,this.height%e.height)},negate:function(){return new Y(-this.width,-this.height)},isZero:function(){var e=J.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new Y(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new Y(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new Y(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new Y(t(this.width),t(this.height))}},{})),Ae=Y.extend({initialize:function(t,i,a,u){this._width=t,this._height=i,this._owner=a,this._setter=u},_set:function(e,t,i){return this._width=e,this._height=t,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),q=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,a,u){var l=arguments,h=typeof t,f;if(h==="number"?(this._set(t,i,a,u),f=4):h==="undefined"||t===null?(this._set(0,0,0,0),f=t===null?1:0):l.length===1&&(Array.isArray(t)?(this._set.apply(this,t),f=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),f=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),g.readSupported(l,this)&&(f=1))),f===o){var c=L.readNamed(l,"from"),_=g.peek(l),m=c.x,p=c.y,v,S;if(_&&_.x!==o||g.hasNamed(l,"to")){var k=L.readNamed(l,"to");v=k.x-m,S=k.y-p,v<0&&(m=k.x,v=-v),S<0&&(p=k.y,S=-S)}else{var I=Y.read(l);v=I.width,S=I.height}this._set(m,p,v,S),f=l.__index}var b=l.__filtered;return b&&(this.__filtered=b),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(e,t,i,a){return this.x=e,this.y=t,this.width=i,this.height=a,this},clone:function(){return new q(this.x,this.y,this.width,this.height)},equals:function(e){var t=g.isPlainValue(e)?q.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=se.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?L:ge;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=L.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?Y:Ae;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=Y.read(arguments),t=this._sx,i=this._sy,a=e.width,u=e.height;t&&(this.x+=(this.width-a)*t),i&&(this.y+=(this.height-u)*i),this.width=a,this.height=u,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?L:ge;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=L.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==o||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(q.read(arguments)):this._containsPoint(L.read(arguments))},_containsPoint:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(e){var t=e.x,i=e.y;return t>=this.x&&i>=this.y&&t+e.width<=this.x+this.width&&i+e.height<=this.y+this.height},intersects:function(){var e=q.read(arguments),t=g.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=q.read(arguments),t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),a=Math.min(this.x+this.width,e.x+e.width),u=Math.min(this.y+this.height,e.y+e.height);return new q(t,i,a-t,u-i)},unite:function(){var e=q.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width),u=Math.max(this.y+this.height,e.y+e.height);return new q(t,i,a-t,u-i)},include:function(){var e=L.read(arguments),t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x),u=Math.max(this.y+this.height,e.y);return new q(t,i,a-t,u-i)},expand:function(){var e=Y.read(arguments),t=e.width,i=e.height;return new q(this.x-t/2,this.y-i/2,this.width+t,this.height+i)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===o?e:t)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var i=e.join(""),a=/^[RL]/.test(i);t>=4&&(e[1]+=a?"Y":"X");var u=e[a?0:1],l=e[a?1:0],h="get"+u,f="get"+l,c="set"+u,_="set"+l,m="get"+i,p="set"+i;this[m]=function(v){var S=v?L:ge;return new S(this[h](),this[f](),this,p)},this[p]=function(){var v=L.read(arguments);this[c](v.x),this[_](v.y)}},{beans:!0})),Q=q.extend({initialize:function(t,i,a,u,l,h){this._set(t,i,a,u,!0),this._owner=l,this._setter=h},_set:function(e,t,i,a,u){return this._x=e,this._y=t,this._width=i,this._height=a,u||this._owner[this._setter](this),this}},new function(){var e=q.prototype;return g.each(["x","y","width","height"],function(t){var i=g.capitalize(t),a="_"+t;this["get"+i]=function(){return this[a]},this["set"+i]=function(u){this[a]=u,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var i="set"+t;this[i]=function(){this._dontNotify=!0,e[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var i=this._owner;i._changeSelection&&i._changeSelection(2,t)}}))}),G=g.extend({_class:"Matrix",initialize:function e(t,i){var a=arguments,u=a.length,l=!0;if(u>=6?this._set.apply(this,a):u===1||u===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,i):Array.isArray(t)?this._set.apply(this,i?t.concat([i]):t):l=!1:u?l=!1:this.reset(),!l)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,i,a,u,l,h){return this._a=e,this._b=t,this._c=i,this._d=a,this._tx=u,this._ty=l,h||this._changed(),this},_serialize:function(e,t){return g.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new G(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=se.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var i=this._owner;return i?(i.transform(null,g.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=L.read(arguments),t=e.x,i=e.y;return this._tx+=t*this._a+i*this._c,this._ty+=t*this._b+i*this._d,this._changed(),this},scale:function(){var e=arguments,t=L.read(e),i=L.read(e,0,{readNull:!0});return i&&this.translate(i),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=L.read(arguments,1),i=t.x,a=t.y,u=Math.cos(e),l=Math.sin(e),h=i-i*u+a*l,f=a-i*l-a*u,c=this._a,_=this._b,m=this._c,p=this._d;return this._a=u*c+l*m,this._b=u*_+l*p,this._c=-l*c+u*m,this._d=-l*_+u*p,this._tx+=h*c+f*m,this._ty+=h*_+f*p,this._changed(),this},shear:function(){var e=arguments,t=L.read(e),i=L.read(e,0,{readNull:!0});i&&this.translate(i);var a=this._a,u=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*a,this._d+=t.x*u,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var e=arguments,t=L.read(e),i=L.read(e,0,{readNull:!0}),a=Math.PI/180,u=new L(Math.tan(t.x*a),Math.tan(t.y*a));return this.shear(u,i)},append:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=e._a,f=e._c,c=e._b,_=e._d,m=e._tx,p=e._ty;this._a=h*i+c*u,this._c=f*i+_*u,this._b=h*a+c*l,this._d=f*a+_*l,this._tx+=m*i+p*u,this._ty+=m*a+p*l,t||this._changed()}return this},prepend:function(e,t){if(e){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,c=e._a,_=e._c,m=e._b,p=e._d,v=e._tx,S=e._ty;this._a=c*i+_*a,this._c=c*u+_*l,this._b=m*i+p*a,this._d=m*u+p*l,this._tx=c*h+_*f+v,this._ty=m*h+p*f+S,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=this._tx,l=this._ty,h=e*a-t*i,f=null;return h&&!isNaN(h)&&isFinite(u)&&isFinite(l)&&(this._a=a/h,this._b=-t/h,this._c=-i/h,this._d=e/h,this._tx=(i*l-a*u)/h,this._ty=(t*u-e*l)/h,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new G(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,i){return arguments.length<3?this._transformPoint(L.read(arguments)):this._transformCoordinates(e,t,i)},_transformPoint:function(e,t,i){var a=e.x,u=e.y;return t||(t=new L),t._set(a*this._a+u*this._c+this._tx,a*this._b+u*this._d+this._ty,i)},_transformCoordinates:function(e,t,i){for(var a=0,u=2*i;a<u;a+=2){var l=e[a],h=e[a+1];t[a]=l*this._a+h*this._c+this._tx,t[a+1]=l*this._b+h*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,i=e.y,a=t+e.width,u=i+e.height,l=[t,i,a,i,a,u,t,u];return this._transformCoordinates(l,l,4)},_transformBounds:function(e,t,i){for(var a=this._transformCorners(e),u=a.slice(0,2),l=u.slice(),h=2;h<8;h++){var f=a[h],c=h&1;f<u[c]?u[c]=f:f>l[c]&&(l[c]=f)}return t||(t=new q),t._set(u[0],u[1],l[0]-u[0],l[1]-u[1],i)},inverseTransform:function(){return this._inverseTransform(L.read(arguments))},_inverseTransform:function(e,t,i){var a=this._a,u=this._b,l=this._c,h=this._d,f=this._tx,c=this._ty,_=a*h-u*l,m=null;if(_&&!isNaN(_)&&isFinite(f)&&isFinite(c)){var p=e.x-this._tx,v=e.y-this._ty;t||(t=new L),m=t._set((p*h-v*l)/_,(v*a-p*u)/_,i)}return m},decompose:function(){var e=this._a,t=this._b,i=this._c,a=this._d,u=e*a-t*i,l=Math.sqrt,h=Math.atan2,f=180/Math.PI,c,_,m;if(e!==0||t!==0){var p=l(e*e+t*t);c=Math.acos(e/p)*(t>0?1:-1),_=[p,u/p],m=[h(e*i+t*a,p*p),0]}else if(i!==0||a!==0){var v=l(i*i+a*a);c=Math.asin(i/v)*(a>0?1:-1),_=[u/v,v],m=[0,h(e*i+t*a,v*v)]}else c=0,m=_=[0,0];return{translation:this.getTranslation(),rotation:c*f,scaling:new L(_),skewing:new L(m[0]*f,m[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new L(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._changed()}},{})),ue=g.extend({_class:"Line",initialize:function(t,i,a,u,l){var h=!1;arguments.length>=4?(this._px=t,this._py=i,this._vx=a,this._vy=u,h=l):(this._px=t.x,this._py=t.y,this._vx=i.x,this._vy=i.y,h=a),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new L(this._px,this._py)},getVector:function(){return new L(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return ue.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return ue.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return ue.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return L.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return L.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,i,a,u,l,h,f,c,_){c||(i-=e,a-=t,h-=u,f-=l);var m=i*f-a*h;if(!J.isMachineZero(m)){var p=e-u,v=t-l,S=(h*v-f*p)/m,k=(i*v-a*p)/m,I=1e-12,b=-I,C=1+I;if(_||b<S&&S<C&&b<k&&k<C)return _||(S=S<=0?0:S>=1?1:S),new L(e+S*i,t+S*a)}},getSide:function(e,t,i,a,u,l,h,f){h||(i-=e,a-=t);var c=u-e,_=l-t,m=c*a-_*i;return!f&&J.isMachineZero(m)&&(m=(c*i+c*i)/(i*i+a*a),m>=0&&m<=1&&(m=0)),m<0?-1:m>0?1:0},getSignedDistance:function(e,t,i,a,u,l,h){return h||(i-=e,a-=t),i===0?a>0?u-e:e-u:a===0?i<0?l-t:t-l:((u-e)*a-(l-t)*i)/(a>i?a*Math.sqrt(1+i*i/(a*a)):i*Math.sqrt(1+a*a/(i*i)))},getDistance:function(e,t,i,a,u,l,h){return Math.abs(ue.getSignedDistance(e,t,i,a,u,l,h))}}}),ve=j.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){j.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Si(null,null,this),this._view=Re.create(this,t||_t.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return g.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var a=this._changes;if(a&&t){var u=this._changesById,l=t._id,h=u[l];h?h.flags|=e:a.push(u[l]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xe({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:Qe,match:function(i){var a=i._definition,u=a._id;return t[u]||(t[u]=!0,e.push(a)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var i in e){var a=e[i],u=a._selection;u&1&&a.isInserted()?t.push(a):u||this._updateSelection(a)}return t},_updateSelection:function(e){var t=e._id,i=this._selectionItems;e._selection?i[t]!==e&&(this._selectionCount++,i[t]=e):i[t]===e&&(this._selectionCount--,delete i[t])},selectAll:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(o,e)},insertLayer:function(e,t){if(t instanceof xe){t._remove(!1,!0),g.splice(this._children,[t],e,0),t._setProject(this,!0);var i=t._name;i&&t.setName(i),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,i){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(o,new xe(ae.NO_INSERT),!0)).insertChild(e,t),i&&t.activate&&t.activate(),t},getItems:function(e){return ae._getItems(this,e)},getItem:function(e){return ae._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return g.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var i=t[e];if(i){for(var a in i){var u=i[a];for(var l in t){var h=t[l];h&&h!=i&&delete h[u._id]}u.remove()}t[e]=null}}},draw:function(e,t,i){this._updateVersion++,e.save(),t.applyToContext(e);for(var a=this._children,u=new g({offset:new L(0,0),pixelRatio:i,viewMatrix:t.isIdentity()?null:t,matrices:[new G],updateMatrix:!0}),l=0,h=a.length;l<h;l++)a[l].draw(e,u);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var f=this._selectionItems,c=this._scope.settings.handleSize,_=this._updateVersion;for(var m in f)f[m]._drawSelection(e,t,c,f,_);e.restore()}}}),ae=g.extend(F,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=g.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new G,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(e,function(t){this._events[t]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var i=e&&g.isPlainObject(e),a=i&&e.internal===!0,u=this._matrix=new G,l=i&&e.project||r.project,h=r.settings;return this._id=a?null:ne.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,t&&u.translate(t),u._owner=this,this._style=new Si(l._currentStyle,this,l),a||i&&e.insert==!1||!h.insertItems&&!(i&&e.insert===!0)?this._setProject(l):(i&&e.parent||l)._insertItem(o,this,!0),i&&e!==ae.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(e,t){var i={},a=this;function u(l){for(var h in l){var f=a[h];g.equals(f,h==="leading"?l.fontSize*1.2:l[h])||(i[h]=g.serialize(f,e,h!=="data",t))}}return u(this._serializeFields),this instanceof ye||u(this._style._defaults),[this._class,i]},_changed:function(e){var t=this._symbol,i=this._parent||t,a=this._project;e&8&&(this._bounds=this._position=this._decomposed=o),e&16&&(this._globalMatrix=o),i&&e&72&&ae._clearBoundsCache(i),e&2&&ae._clearBoundsCache(this),a&&a._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var i=t._children,a=t._namedChildren;(a[e]=a[e]||[]).push(this),e in i||(i[e]=this)}this._name=e||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},g.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=g.capitalize(e),i="_"+e,a={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(u){u!=this[i]&&(this[i]=u,this._changed(a[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var i=0,a=e.length;i<a;i++)if(!e[i].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var i=0,a=t.length;i<a;i++)t[i].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?L:ge,i=this._position||(this._position=this._getPositionFromBounds());return new t(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(L.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new ge(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=L.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(i){return this.getBounds(i,e)}},{beans:!0,getBounds:function(e,t){var i=t||e instanceof G,a=g.set({},i?t:e,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var u=this._getCachedBounds(i&&e,a).rect;return arguments.length?u:new Q(u.x,u.y,u.width,u.height,this,"setBounds")},setBounds:function(){var e=q.read(arguments),t=this.getBounds(),i=this._matrix,a=new G,u=e.getCenter();a.translate(u),(e.width!=t.width||e.height!=t.height)&&(i.isInvertible()||(i.set(i._backup||new G().translate(i.getTranslation())),t=this.getBounds()),a.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),u=t.getCenter(),a.translate(-u.x,-u.y),this.transform(a)},_getBounds:function(e,t){var i=this._children;return!i||!i.length?new q:(ae._updateBoundsCache(this,t.cacheItem),ae._getBounds(i,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,i){e=e&&e._orNullIfIdentity();var a=t.internal&&!i,u=t.cacheItem,l=a?null:this._matrix._orNullIfIdentity(),h=u&&(!e||e.equals(l))&&this._getBoundsCacheKey(t,a),f=this._bounds;if(ae._updateBoundsCache(this._parent||this._symbol,u),h&&f&&h in f){var c=f[h];return{rect:c.rect.clone(),nonscaling:c.nonscaling}}var _=this._getBounds(e||l,t),m=_.rect||_,p=this._style,v=_.nonscaling||p.hasStroke()&&!p.getStrokeScaling();if(h){f||(this._bounds=f={});var c=f[h]={rect:m.clone(),nonscaling:v,internal:a}}return{rect:m,nonscaling:v}},_getStrokeMatrix:function(e,t){var i=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,a=i?i.getViewMatrix().invert():e;return a&&a._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var i=t._id,a=e._boundsCache=e._boundsCache||{ids:{},list:[]};a.ids[i]||(a.list.push(t),a.ids[i]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=o;for(var i=0,a=t.list,u=a.length;i<u;i++){var l=a[i];l!==e&&(l._bounds=l._position=o,l._boundsCache&&ae._clearBoundsCache(l))}}},_getBounds:function(e,t,i){var a=1/0,u=-a,l=a,h=u,f=!1;i=i||{};for(var c=0,_=e.length;c<_;c++){var m=e[c];if(m._visible&&!m.isEmpty(!0)){var p=m._getCachedBounds(t&&t.appended(m._matrix),i,!0),v=p.rect;a=Math.min(v.x,a),l=Math.min(v.y,l),u=Math.max(v.x+v.width,u),h=Math.max(v.y+v.height,h),p.nonscaling&&(f=!0)}}return{rect:isFinite(a)?new q(a,l,u-a,h-l):new q,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var i=this._decomposed;this.rotate(e-t),i&&(i.rotation=e,this._decomposed=i)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new ge(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=L.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var i=this.getRotation(),a=this._decomposed,u=new G,l=J.isZero;if(l(e.x)||l(e.y))u.translate(a.translation),i&&u.rotate(i),u.scale(t.x,t.y),this._matrix.set(u);else{var h=this.getPosition(!0);u.translate(h),i&&u.rotate(i),u.scale(t.x/e.x,t.y/e.y),i&&u.rotate(-i),u.translate(h.negate()),this.transform(u)}a&&(a.scaling=t,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var i=this._parent,a=[];i;){if(!i._globalMatrix){t=null;for(var u=0,l=a.length;u<l;u++)a[u]._globalMatrix=null;break}a.push(i),i=i._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&t.prepend(i.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var i=this._children,a=0,u=i&&i.length;a<u;a++)i[a]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof xe)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return g.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(ae.NO_INSERT),i=this._children,a=g.pick(e?e.insert:o,e===o||e===!0),u=g.pick(e?e.deep:o,!0);i&&t.copyAttributes(this),(!i||u)&&t.copyContent(this),i||t.copyAttributes(this),a&&t.insertAbove(this);var l=this._name,h=this._parent;if(l&&h){for(var i=h._children,f=l,c=1;i[l];)l=f+" "+c++;l!==f&&t.setName(l)}return t},copyContent:function(e){for(var t=e._children,i=0,a=t&&t.length;i<a;i++)this.addChild(t[i].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,u=i.length;a<u;a++){var l=i[a];e.hasOwnProperty(l)&&(this[l]=e[l])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var h=e._data,f=e._name;this._data=h?g.clone(h):null,f&&this.setName(f)},rasterize:function(e,t){var i,a,u;g.isPlainObject(e)?(i=e.resolution,a=e.insert,u=e.raster):(i=e,a=t),u?u.matrix.reset(!0):u=new ze(ae.NO_INSERT);var l=this.getStrokeBounds(),h=(i||this.getView().getResolution())/72,f=l.getTopLeft().floor(),c=l.getBottomRight().ceil(),_=new Y(c.subtract(f)),m=_.multiply(h);if(u.setSize(m,!0),!m.isZero()){var p=u.getContext(!0),v=new G().scale(h).translate(f.negate());p.save(),v.applyToContext(p),this.draw(p,new g({matrices:[v]})),p.restore()}return u.transform(new G().translate(f.add(_.divide(2))).scale(1/h)),(a===o||a)&&u.insertAbove(this),u},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(L.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var i=t.length-1;i>=0;i--)if(t[i].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new pe.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof ae?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var a=arguments;return this._hitTest(L.read(a),Ke.getOptions(a))}function t(){var a=arguments,u=L.read(a),l=Ke.getOptions(a),h=[];return this._hitTest(u,new g({all:h},l)),h}function i(a,u,l,h){var f=this._children;if(f)for(var c=f.length-1;c>=0;c--){var _=f[c],m=_!==h&&_._hitTest(a,u,l);if(m&&!u.all)return m}return null}return ve.inject({hitTest:e,hitTestAll:t,_hitTest:i}),{hitTest:e,hitTestAll:t,_hitTestChildren:i}},{_hitTest:function(e,t,i){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var a=this._matrix,u=i?i.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),l=Math.max(t.tolerance,1e-12),h=t._tolerancePadding=new Y(pe._getStrokePadding(l,a._shiftless().invert()));if(e=a._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(e))return null;var f=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==g.hyphenate(this._class)||t.class&&!(this instanceof t.class)),c=t.match,_=this,m,p;function v(y){return y&&c&&!c(y)&&(y=null),y&&t.all&&t.all.push(y),y}function S(y,P){var T=P?m["get"+P]():_.getPosition();if(e.subtract(T).divide(h).length<=1)return new Ke(y,_,{name:P?g.hyphenate(P):y,point:T})}var k=t.position,I=t.center,b=t.bounds;if(f&&this._parent&&(k||I||b)){if((I||b)&&(m=this.getInternalBounds()),p=k&&S("position")||I&&S("center","Center"),!p&&b)for(var C=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!p;w++)p=S("bounds",C[w]);p=v(p)}return p||(p=this._hitTestChildren(e,t,u)||f&&v(this._hitTestSelf(e,t,u,this.getStrokeScaling()?null:u._shiftless().invert()))||null),p&&p.point&&(p.point=a.transform(p.point)),p},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new Ke("fill",this)},matches:function(e,t){function i(h,f){for(var c in h)if(h.hasOwnProperty(c)){var _=h[c],m=f[c];if(g.isPlainObject(_)&&g.isPlainObject(m)){if(!i(_,m))return!1}else if(!g.equals(_,m))return!1}return!0}var a=typeof e;if(a==="object"){for(var u in e)if(e.hasOwnProperty(u)&&!this.matches(u,e[u]))return!1;return!0}else{if(a==="function")return e(this);if(e==="match")return t(this);var l=/^(empty|editable)$/.test(e)?this["is"+g.capitalize(e)]():e==="type"?g.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;l=this._class}if(typeof t=="function")return!!t(l);if(t){if(t.test)return t.test(l);if(g.isPlainObject(t))return i(t,l)}return g.equals(l,t)}},getItems:function(e){return ae._getItems(this,e,this._matrix)},getItem:function(e){return ae._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,i,a,u,l){if(!u){var h=typeof i=="object"&&i,f=h&&h.overlapping,c=h&&h.inside,_=f||c,v=_&&q.read([_]);u={items:[],recursive:h&&h.recursive!==!1,inside:!!c,overlapping:!!f,rect:v,path:f&&new pe.Rectangle({rectangle:v,insert:!1})},h&&(i=g.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var m=t._children,p=u.items,v=u.rect;a=v&&(a||new G);for(var S=0,k=m&&m.length;S<k;S++){var I=m[S],b=a&&a.appended(I._matrix),C=!0;if(v){var _=I.getBounds(b);if(!v.intersects(_))continue;v.contains(_)||u.overlapping&&(_.contains(v)||u.path.intersects(I,b))||(C=!1)}if(C&&I.matches(i)&&(p.push(I),l)||(u.recursive!==!1&&e(I,i,b,u,l),l&&p.length>0))break}return p}}},{importJSON:function(e){var t=g.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(o,e)},insertChild:function(e,t){var i=t?this.insertChildren(e,[t]):null;return i&&i[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var i=this._children;if(i&&t&&t.length>0){t=g.slice(t);for(var a={},u=t.length-1;u>=0;u--){var l=t[u],h=l&&l._id;!l||a[h]?t.splice(u,1):(l._remove(!1,!0),a[h]=!0)}g.splice(i,t,e,0);for(var f=this._project,c=f._changes,u=0,_=t.length;u<_;u++){var l=t[u],m=l._name;l._parent=this,l._setProject(f,!0),m&&l.setName(m),c&&l._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var i=e&&e._getOwner(),a=e!==this&&i?this:null;return a&&(a._remove(!1,!0),i._insertItem(e._index+t,a)),a},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(o,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var i=t[0].reduce(e);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,i=e._namedChildren,a=this._name,u=i[a],l=u?u.indexOf(this):-1;l!==-1&&(t[a]==this&&delete t[a],u.splice(l,1),u.length?t[a]=u[0]:delete i[a])}},_remove:function(e,t){var i=this._getOwner(),a=this._project,u=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),u!=null&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(i._children,null,u,1)),this._installEvents(!1),e&&a._changes&&this._changed(5),t&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=g.pick(t,this._children.length);for(var i=g.splice(this._children,null,e,t-e),a=i.length-1;a>=0;a--)i[a]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,i=t?t.length:0;if(e){for(var a=0;a<i;a++)if(!t[a].isEmpty(e))return!1;return!0}return!i},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(h){var f=[];do f.unshift(h);while(h=h._parent);return f}for(var i=t(this),a=t(e),u=0,l=Math.min(i.length,a.length);u<l;u++)if(i[u]!=a[u])return i[u]._index<a[u]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:L).read(i),u=L.read(i,0,{readNull:!0});return this.transform(new G()[e](a,u||this.getPosition(!0)))}},{translate:function(){var e=new G;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,i){var a=this._matrix,u=e&&!e.isIdentity(),l=i&&this._canApplyMatrix||this._applyMatrix&&(u||!a.isIdentity()||t&&this._children);if(!u&&!l)return this;if(u){!e.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(e,!0);var h=this._style,f=h.getFillColor(!0),c=h.getStrokeColor(!0);f&&f.transform(e),c&&c.transform(e)}if(l&&(l=this._transformContent(a,t,i))){var _=this._pivot;_&&a._transformPoint(_,_,!0),a.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var m=this._bounds,p=this._position;(u||l)&&this._changed(25);var v=u&&m&&e.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var S in m){var k=m[S];if(k.nonscaling)delete m[S];else if(l||!k.internal){var I=k.rect;e._transformBounds(I,I)}}this._bounds=m;var b=m[this._getBoundsCacheKey(this._boundsOptions||{})];b&&(this._position=this._getPositionFromBounds(b.rect))}else u&&p&&this._pivot&&(this._position=e._transformPoint(p,p));return this},_transformContent:function(e,t,i){var a=this._children;if(a){for(var u=0,l=a.length;u<l;u++)a[u].transform(e,t,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(L.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(L.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(L.read(arguments))},localToParent:function(){return this._matrix._transformPoint(L.read(arguments))},fitBounds:function(e,t){e=q.read(arguments);var i=this.getBounds(),a=i.height/i.width,u=e.height/e.width,l=(t?a>u:a<u)?e.width/i.width:e.height/i.height,h=new q(new L,new Y(i.width*l,i.height*l));h.setCenter(e.getCenter()),this.setBounds(h)}}),{_setStyles:function(e,t,i){var a=this._style,u=this._matrix;if(a.hasFill()&&(e.fillStyle=a.getFillColor().toCanvasStyle(e,u)),a.hasStroke()){e.strokeStyle=a.getStrokeColor().toCanvasStyle(e,u),e.lineWidth=a.getStrokeWidth();var l=a.getStrokeJoin(),h=a.getStrokeCap(),f=a.getMiterLimit();if(l&&(e.lineJoin=l),h&&(e.lineCap=h),f&&(e.miterLimit=f),r.support.nativeDash){var c=a.getDashArray(),_=a.getDashOffset();c&&c.length&&("setLineDash"in e?(e.setLineDash(c),e.lineDashOffset=_):(e.mozDash=c,e.mozDashOffset=_))}}if(a.hasShadow()){var m=t.pixelRatio||1,p=i._shiftless().prepend(new G().scale(m,m)),v=p.transform(new L(a.getShadowBlur(),0)),S=p.transform(this.getShadowOffset());e.shadowColor=a.getShadowColor().toCanvasStyle(e),e.shadowBlur=v.getLength(),e.shadowOffsetX=S.x,e.shadowOffsetY=S.y}},draw:function(e,t,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var a=t.matrices,u=t.viewMatrix,l=this._matrix,h=a[a.length-1].appended(l);if(!!h.isInvertible()){u=u?u.appended(h):h,a.push(h),t.updateMatrix&&(this._globalMatrix=h);var f=this._blendMode,c=J.clamp(this._opacity,0,1),_=f==="normal",m=lt.nativeModes[f],p=_&&c===1||t.dontStart||t.clip||(m||_&&c<1)&&this._canComposite(),v=t.pixelRatio||1,S,k,I;if(!p){var b=this.getStrokeBounds(u);if(!b.width||!b.height){a.pop();return}I=t.offset,k=t.offset=b.getTopLeft().floor(),S=e,e=_t.getContext(b.getSize().ceil().add(1).multiply(v)),v!==1&&e.scale(v,v)}e.save();var C=i?i.appended(l):this._canScaleStroke&&!this.getStrokeScaling(!0)&&u,w=!p&&t.clipItem,y=!C||w;if(p?(e.globalAlpha=c,m&&(e.globalCompositeOperation=f)):y&&e.translate(-k.x,-k.y),y&&(p?l:u).applyToContext(e),w&&t.clipItem.draw(e,t.extend({clip:!0})),C){e.setTransform(v,0,0,v,0,0);var P=t.offset;P&&e.translate(-P.x,-P.y)}this._draw(e,t,u,C),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),p||(lt.process(f,e,S,c,k.subtract(I).multiply(v)),_t.release(e),t.offset=I)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Me)return t._isUpdated(e);var i=this._updateVersion===e;return!i&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,i=!0),i},_drawSelection:function(e,t,i,a,u){var l=this._selection,h=l&1,f=l&2||h&&this._selectBounds,c=l&4;if(this._drawSelected||(h=!1),(h||f||c)&&this._isUpdated(u)){var _,m=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),p=t.appended(this.getGlobalMatrix(!0)),v=i/2;if(e.strokeStyle=e.fillStyle=m?m.toCanvasStyle(e):"#009dec",h&&this._drawSelected(e,p,a),c){var S=this.getPosition(!0),k=this._parent,I=k?k.localToGlobal(S):S,b=I.x,C=I.y;e.beginPath(),e.arc(b,C,v,0,Math.PI*2,!0),e.stroke();for(var w=[[0,-1],[1,0],[0,1],[-1,0]],y=v,P=i+1,T=0;T<4;T++){var z=w[T],E=z[0],M=z[1];e.moveTo(b+E*y,C+M*y),e.lineTo(b+E*P,C+M*P),e.stroke()}}if(f){var A=p._transformCorners(this.getInternalBounds());e.beginPath();for(var T=0;T<8;T++)e[T?"lineTo":"moveTo"](A[T],A[++T]);e.closePath(),e.stroke();for(var T=0;T<8;T++)e.fillRect(A[T]-v,A[++T]-v,i,i)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(e){this["removeOn"+g.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var i="mouse"+t,a=this._project,u=a._removeSets=a._removeSets||{};u[i]=u[i]||{},u[i][this._id]=this}return this}}),{tween:function(e,t,i){i||(i=t,t=e,e=null,i||(i=t,t=null));var a=i&&i.easing,u=i&&i.start,l=i!=null&&(typeof i=="number"?i:i.duration),h=new $a(this,e,t,l,a,u);function f(c){h._handleFrame(c.time*1e3),h.running||this.off("frame",f)}return l&&this.on("frame",f),h},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),ye=ae.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=o)},_getClipItem:function(){var e=this._clipItem;if(e===o){e=null;for(var t=this._children,i=0,a=t.length;i<a;i++)if(t[i]._clipMask){e=t[i];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,i){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(t),g.set({},i,{stroke:!1})):e.base.call(this,t,i)},_hitTestChildren:function e(t,i,a){var u=this._getClipItem();return(!u||u.contains(t))&&e.base.call(this,t,i,a,u)},_draw:function(e,t){var i=t.clip,a=!i&&this._getClipItem();t=t.extend({clipItem:a,clip:!1}),i?(e.beginPath(),t.dontStart=t.dontFinish=!0):a&&a.draw(e,t.extend({clip:!0}));for(var u=this._children,l=0,h=u.length;l<h;l++){var f=u[l];f!==a&&f.draw(e,t)}}}),xe=ye.extend({_class:"Layer",initialize:function(){ye.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Te=ae.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,i){this._initialize(t,i)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&g.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new Ae(e.width,e.height,this,"setSize")},setSize:function(){var e=Y.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,i=e.width,a=e.height;t==="rectangle"?this._radius.set(Y.min(this._radius,e.divide(2).abs())):t==="circle"?(i=a=(i+a)/2,this._radius=i/2):t==="ellipse"&&this._radius._set(i/2,a/2),this._size._set(i,a),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new Ae(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var i=e*2;this._radius=e,this._size._set(i,i)}else if(e=Y.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var i=Y.max(this._size,e.multiply(2));this._size.set(i)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new pe[g.capitalize(this._type)]({center:new L,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),r.settings.applyMatrix&&t.setApplyMatrix(!0),(e===o||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,i,a){var u=this._style,l=u.hasFill(),h=u.hasStroke(),f=t.dontFinish||t.clip,c=!a;if(l||h||f){var _=this._type,m=this._radius,p=_==="circle";if(t.dontStart||e.beginPath(),c&&p)e.arc(0,0,m,0,Math.PI*2,!0);else{var v=p?m:m.width,S=p?m:m.height,k=this._size,I=k.width,b=k.height;if(c&&_==="rectangle"&&v===0&&S===0)e.rect(-I/2,-b/2,I,b);else{var C=I/2,w=b/2,y=1-.5522847498307936,P=v*y,T=S*y,z=[-C,-w+S,-C,-w+T,-C+P,-w,-C+v,-w,C-v,-w,C-P,-w,C,-w+T,C,-w+S,C,w-S,C,w-T,C-P,w,C-v,w,-C+v,w,-C+P,w,-C,w-T,-C,w-S];a&&a.transform(z,z,32),e.moveTo(z[0],z[1]),e.bezierCurveTo(z[2],z[3],z[4],z[5],z[6],z[7]),C!==v&&e.lineTo(z[8],z[9]),e.bezierCurveTo(z[10],z[11],z[12],z[13],z[14],z[15]),w!==S&&e.lineTo(z[16],z[17]),e.bezierCurveTo(z[18],z[19],z[20],z[21],z[22],z[23]),C!==v&&e.lineTo(z[24],z[25]),e.bezierCurveTo(z[26],z[27],z[28],z[29],z[30],z[31])}}e.closePath()}!f&&(l||h)&&(this._setStyles(e,t,i),l&&(e.fill(u.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var i=new q(this._size).setCenter(0,0),a=this._style,u=t.stroke&&a.hasStroke()&&a.getStrokeWidth();return e&&(i=e._transformBounds(i)),u?i.expand(pe._getStrokePadding(u,this._getStrokeMatrix(e,t))):i}},new function(){function e(i,a,u){var l=i._radius;if(!l.isZero())for(var h=i._size.divide(2),f=1;f<=4;f++){var c=new L(f>1&&f<4?-1:1,f>2?-1:1),_=c.multiply(h),m=_.subtract(c.multiply(l)),p=new q(u?_.add(c.multiply(u)):_,m);if(p.contains(a))return{point:m,quadrant:f}}}function t(i,a,u,l){var h=i.divide(a);return(!l||h.isInQuadrant(l))&&h.subtract(h.normalize()).multiply(a).divide(u).length<=1}return{_contains:function i(a){if(this._type==="rectangle"){var u=e(this,a);return u?a.subtract(u.point).divide(this._radius).getLength()<=1:i.base.call(this,a)}else return a.divide(this.size).getLength()<=.5},_hitTestSelf:function i(a,u,l,h){var f=!1,c=this._style,_=u.stroke&&c.hasStroke(),m=u.fill&&c.hasFill();if(_||m){var p=this._type,v=this._radius,S=_?c.getStrokeWidth()/2:0,k=u._tolerancePadding.add(pe._getStrokePadding(S,!c.getStrokeScaling()&&h));if(p==="rectangle"){var I=k.multiply(2),b=e(this,a,I);if(b)f=t(a.subtract(b.point),v,k,b.quadrant);else{var C=new q(this._size).setCenter(0,0),w=C.expand(I),y=C.expand(I.negate());f=w._containsPoint(a)&&!y._containsPoint(a)}}else f=t(a,v,k)}return f?new Ke(_?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function e(t,i,a,u,l){var h=g.create(Te.prototype);return h._type=t,h._size=a,h._radius=u,h._initialize(g.getNamed(l),i),h}return{Circle:function(){var t=arguments,i=L.readNamed(t,"center"),a=g.readNamed(t,"radius");return e("circle",i,new Y(a*2),a,t)},Rectangle:function(){var t=arguments,i=q.readNamed(t,"rectangle"),a=Y.min(Y.readNamed(t,"radius"),i.getSize(!0).divide(2));return e("rectangle",i.getCenter(!0),i.getSize(!0),a,t)},Ellipse:function(){var t=arguments,i=Te._readEllipse(t),a=i.radius;return e("ellipse",i.center,a.multiply(2),a,t)},_readEllipse:function(t){var i,a;if(g.hasNamed(t,"radius"))i=L.readNamed(t,"center"),a=Y.readNamed(t,"radius");else{var u=q.readNamed(t,"rectangle");i=u.getCenter(!0),a=u.getSize(!0).divide(2)}return{center:i,radius:a}}}}}),ze=ae.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,i){if(!this._initialize(t,i!==o&&L.read(arguments))){var a,u=typeof t,l=u==="string"?x.getElementById(t):u==="object"?t:null;if(l&&l!==ae.NO_INSERT){if(l.getContext||l.naturalHeight!=null)a=l;else if(l){var h=Y.read(arguments);h.isZero()||(a=_t.getCanvas(h))}}a?this.setImage(a):this.setSource(t)}this._size||(this._size=new Y,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,i=e._canvas;if(t)this._setImage(t);else if(i){var a=_t.getCanvas(e._size);a.getContext("2d").drawImage(i,0,0),this._setImage(a)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new Ae(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var i=Y.read(arguments);if(i.equals(this._size))t&&this.clear();else if(i.width>0&&i.height>0){var a=!t&&this.getElement();this._setImage(_t.getCanvas(i)),a&&this.getContext(!0).drawImage(a,0,0,i.width,i.height)}else this._canvas&&_t.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new L(0,0).transform(e),i=new L(1,0).transform(e).subtract(t),a=new L(0,1).transform(e).subtract(t);return new Y(72/i.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function i(a){var u=t.getView(),l=a&&a.type||"load";u&&t.responds(l)&&(r=u._scope,t.emit(l,new Dn(a)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&He.add(e,{load:function(a){t._setImage(e),i(a)},error:i})},_setImage:function(e){this._canvas&&_t.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new Y(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=_t.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){_t.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,i=this._crossOrigin;i&&(t.crossOrigin=i),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=q.read(arguments),t=_t.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=q.read(arguments),t=new ze(ae.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(e){var t=L.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,i;if(e?e instanceof ke?(i=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new q(e):"x"in e&&(t=new q(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var a=32,u=Math.min(t.width,a),l=Math.min(t.height,a),h=ze._sampleContext;h?h.clearRect(0,0,a+1,a+1):h=ze._sampleContext=_t.getContext(new Y(a)),h.save();var f=new G().scale(u/t.width,l/t.height).translate(-t.x,-t.y);f.applyToContext(h),i&&i.draw(h,new g({clip:!0,matrices:[f]})),this._matrix.applyToContext(h);var c=this.getElement(),_=this._size;c&&h.drawImage(c,-_.width/2,-_.height/2),h.restore();for(var m=h.getImageData(.5,.5,Math.ceil(u),Math.ceil(l)).data,p=[0,0,0],v=0,S=0,k=m.length;S<k;S+=4){var I=m[S+3];v+=I,I/=255,p[0]+=m[S]*I,p[1]+=m[S+1]*I,p[2]+=m[S+2]*I}for(var S=0;S<3;S++)p[S]/=v;return v?Ve.read(p):null},getPixel:function(){var e=L.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new Ve("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=L.read(e),i=Ve.read(e),a=i._convert("rgb"),u=i._alpha,l=this.getContext(!0),h=l.createImageData(1,1),f=h.data;f[0]=a[0]*255,f[1]=a[1]*255,f[2]=a[2]*255,f[3]=u!=null?u*255:255,l.putImageData(h,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=Y.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=q.read(arguments);return e.isEmpty()&&(e=new q(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=L.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var i=new q(this._size).setCenter(0,0);return e?e._transformBounds(i):i},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new Ke("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,i){var a=this.getElement();if(a&&a.width>0&&a.height>0){e.globalAlpha=J.clamp(this._opacity,0,1),this._setStyles(e,t,i);var u=this._smoothing,l=u==="off";Be.setPrefixed(e,l?"imageSmoothingEnabled":"imageSmoothingQuality",l?!1:u),e.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Qe=ae.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==o&&L.read(arguments,1))||this.setDefinition(t instanceof je?t:new je(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(e),t)},_hitTestSelf:function(e,t,i){var a=t.extend({all:!1}),u=this._definition._item._hitTest(e,a,i);return u&&(u.item=this),u},_draw:function(e,t){this._definition._item.draw(e,t)}}),je=g.extend({_class:"SymbolDefinition",initialize:function(t,i){this._id=ne.get(),this.project=r.project,t&&this.setItem(t,i)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&ae._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new L),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new Qe(this,e)},clone:function(){return new je(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),Ke=g.extend({_class:"HitResult",initialize:function(t,i,a){this.type=t,this.item=i,a&&this.inject(a)},statics:{getOptions:function(e){var t=e&&g.read(e);return new g({type:null,tolerance:r.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),ce=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,a,u,l,h){var f=arguments.length,c,_,m,p;f>0&&(t==null||typeof t=="object"?f===1&&t&&"point"in t?(c=t.point,_=t.handleIn,m=t.handleOut,p=t.selection):(c=t,_=i,m=a,p=u):(c=[t,i],_=a!==o?[a,u]:null,m=l!==o?[l,h]:null)),new ut(c,this,"_point"),new ut(_,this,"_handleIn"),new ut(m,this,"_handleOut"),p&&this.setSelection(p)},_serialize:function(e,t){var i=this._point,a=this._selection,u=a||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return a&&u.push(a),g.serialize(u,e,!0,t)},_changed:function(e){var t=this._path;if(!!t){var i=t._curves,a=this._index,u;i&&((!e||e===this._point||e===this._handleIn)&&(u=a>0?i[a-1]:t._closed?i[i.length-1]:null)&&u._changed(),(!e||e===this._point||e===this._handleOut)&&(u=i[a])&&u._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(L.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(L.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(L.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,i=this._path;this._selection=e=e||0,i&&e!==t&&(i._updateSelection(this,t,e),i._changed(257))},_changeSelection:function(e,t){var i=this._selection;this.setSelection(t?i|e:i&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new rt(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,i){var a=e||{},u=a.type,l=a.factor,h=this.getPrevious(),f=this.getNext(),c=(h||this)._point,_=this._point,m=(f||this)._point,p=c.getDistance(_),v=_.getDistance(m);if(!u||u==="catmull-rom"){var S=l===o?.5:l,k=Math.pow(p,S),I=k*k,b=Math.pow(v,S),C=b*b;if(!t&&h){var w=2*C+3*b*k+I,y=3*b*(b+k);this.setHandleIn(y!==0?new L((C*c._x+w*_._x-I*m._x)/y-_._x,(C*c._y+w*_._y-I*m._y)/y-_._y):new L)}if(!i&&f){var w=2*I+3*k*b+C,y=3*k*(k+b);this.setHandleOut(y!==0?new L((I*m._x+w*_._x-C*c._x)/y-_._x,(I*m._y+w*_._y-C*c._y)/y-_._y):new L)}}else if(u==="geometric"){if(h&&f){var P=c.subtract(m),T=l===o?.4:l,z=T*p/(p+v);t||this.setHandleIn(P.multiply(z)),i||this.setHandleOut(P.multiply(z-T))}}else throw new Error("Smoothing method '"+u+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,i=e.clone();e.set(t),t.set(i)},reversed:function(){return new ce(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ce(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,i){var a=1-i,u=i,l=e._point,h=t._point,f=e._handleIn,c=t._handleIn,_=t._handleOut,m=e._handleOut;this._point._set(a*l._x+u*h._x,a*l._y+u*h._y,!0),this._handleIn._set(a*f._x+u*c._x,a*f._y+u*c._y,!0),this._handleOut._set(a*m._x+u*_._x,a*m._y+u*_._y,!0),this._changed()},_transformCoordinates:function(e,t,i){var a=this._point,u=!i||!this._handleIn.isZero()?this._handleIn:null,l=!i||!this._handleOut.isZero()?this._handleOut:null,h=a._x,f=a._y,c=2;return t[0]=h,t[1]=f,u&&(t[c++]=u._x+h,t[c++]=u._y+f),l&&(t[c++]=l._x+h,t[c++]=l._y+f),e&&(e._transformCoordinates(t,t,c/2),h=t[0],f=t[1],i?(a._x=h,a._y=f,c=2,u&&(u._x=t[c++]-h,u._y=t[c++]-f),l&&(l._x=t[c++]-h,l._y=t[c++]-f)):(u||(t[c++]=h,t[c++]=f),l||(t[c++]=h,t[c++]=f))),t}}),ut=L.extend({initialize:function(t,i,a){var u,l,h;if(!t)u=l=0;else if((u=t[0])!==o)l=t[1];else{var f=t;(u=f.x)===o&&(f=L.read(arguments),u=f.x),l=f.y,h=f.selected}this._x=u,this._y=l,this._owner=i,i[a]=this,h&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=J.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),re=g.extend({_class:"Curve",beans:!0,initialize:function(t,i,a,u,l,h,f,c){var _=arguments.length,m,p,v,S,k,I;_===3?(this._path=t,m=i,p=a):_?_===1?"segment1"in t?(m=new ce(t.segment1),p=new ce(t.segment2)):"point1"in t?(v=t.point1,k=t.handle1,I=t.handle2,S=t.point2):Array.isArray(t)&&(v=[t[0],t[1]],S=[t[6],t[7]],k=[t[2]-t[0],t[3]-t[1]],I=[t[4]-t[6],t[5]-t[7]]):_===2?(m=new ce(t),p=new ce(i)):_===4?(v=t,k=i,I=a,S=u):_===8&&(v=[t,i],S=[f,c],k=[a-t,u-i],I=[l-f,h-c]):(m=new ce,p=new ce),this._segment1=m||new ce(v,null,k),this._segment2=p||new ce(S,I,null)},_serialize:function(e,t){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=o},clone:function(){return new re(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return re.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,i=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(i)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(L.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(L.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(L.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(L.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return re.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],i=0;i<8;i+=2)t.push(new L(e[i],e[i+1]));return t}},{getLength:function(){return this._length==null&&(this._length=re.getLength(this.getValues(),0,1)),this._length},getArea:function(){return re.getArea(this.getValues())},getLine:function(){return new ue(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new re(re.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return re.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var i=1e-8,a=1-i,u=null;if(e>=i&&e<=a){var l=re.subdivide(this.getValues(),e),h=l[0],f=l[1],c=t||this.hasHandles(),_=this._segment1,m=this._segment2,p=this._path;c&&(_._handleOut._set(h[2]-h[0],h[3]-h[1]),m._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=h[6],S=h[7],k=new ce(new L(v,S),c&&new L(h[4]-v,h[5]-S),c&&new L(f[2]-v,f[3]-S));p?(p.insert(_._index+1,k),u=this.getNext()):(this._segment2=k,this._changed(),u=new re(k,m))}return u},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===o?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===o?.5:t?e:this.getTimeAt(e))},reversed:function(){return new re(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,i,a){var u=e._point,l=e._handleOut,h=t._handleIn,f=t._point,c=u.x,_=u.y,m=f.x,p=f.y,v=a?[c,_,c,_,m,p,m,p]:[c,_,c+l._x,_+l._y,m+h._x,p+h._y,m,p];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],c=e[6],_=e[7];t===o&&(t=.5);var m=1-t,p=m*i+t*u,v=m*a+t*l,S=m*u+t*h,k=m*l+t*f,I=m*h+t*c,b=m*f+t*_,C=m*p+t*S,w=m*v+t*k,y=m*S+t*I,P=m*k+t*b,T=m*C+t*y,z=m*w+t*P;return[[i,a,p,v,C,w,T,z],[T,z,y,P,I,b,c,_]]},getMonoCurves:function(e,t){var i=[],a=t?0:1,u=e[a+0],l=e[a+2],h=e[a+4],f=e[a+6];if(u>=l==l>=h&&l>=h==h>=f||re.isStraight(e))i.push(e);else{var c=3*(l-h)-u+f,_=2*(u+h)-4*l,m=l-u,p=1e-8,v=1-p,S=[],k=J.solveQuadratic(c,_,m,S,p,v);if(!k)i.push(e);else{S.sort();var I=S[0],b=re.subdivide(e,I);i.push(b[0]),k>1&&(I=(S[1]-I)/(1-I),b=re.subdivide(b[1],I),i.push(b[0])),i.push(b[1])}}return i},solveCubic:function(e,t,i,a,u,l){var h=e[t],f=e[t+2],c=e[t+4],_=e[t+6],m=0;if(!(h<i&&_<i&&f<i&&c<i||h>i&&_>i&&f>i&&c>i)){var p=3*(f-h),v=3*(c-f)-p,S=_-h-p-v;m=J.solveCubic(S,v,p,h-i,a,u,l)}return m},getTimeOf:function(e,t){var i=new L(e[0],e[1]),a=new L(e[6],e[7]),u=1e-12,l=1e-7,h=t.isClose(i,u)?0:t.isClose(a,u)?1:null;if(h===null)for(var f=[t.x,t.y],c=[],_=0;_<2;_++)for(var m=re.solveCubic(e,_,f[_],c,0,1),p=0;p<m;p++){var v=c[p];if(t.isClose(re.getPoint(e,v),l))return v}return t.isClose(i,l)?0:t.isClose(a,l)?1:null},getNearestTime:function(e,t){if(re.isStraight(e)){var i=e[0],a=e[1],u=e[6],l=e[7],h=u-i,f=l-a,c=h*h+f*f;if(c===0)return 0;var _=((t.x-i)*h+(t.y-a)*f)/c;return _<1e-12?0:_>.999999999999?1:re.getTimeOf(e,new L(i+_*h,a+_*f))}var m=100,p=1/0,v=0;function S(b){if(b>=0&&b<=1){var C=t.getDistance(re.getPoint(e,b),!0);if(C<p)return p=C,v=b,!0}}for(var k=0;k<=m;k++)S(k/m);for(var I=1/(m*2);I>1e-8;)!S(v-I)&&!S(v+I)&&(I/=2);return v},getPart:function(e,t,i){var a=t>i;if(a){var u=t;t=i,i=u}return t>0&&(e=re.subdivide(e,t)[1]),i<1&&(e=re.subdivide(e,(i-t)/(1-t))[0]),a?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var i=e[0],a=e[1],u=e[2],l=e[3],h=e[4],f=e[5],c=e[6],_=e[7],m=3*u-2*i-c,p=3*l-2*a-_,v=3*h-2*c-i,S=3*f-2*_-a;return Math.max(m*m,v*v)+Math.max(p*p,S*S)<=16*t*t},getArea:function(e){var t=e[0],i=e[1],a=e[2],u=e[3],l=e[4],h=e[5],f=e[6],c=e[7];return 3*((c-i)*(a+l)-(f-t)*(u+h)+u*(t-l)-a*(i-h)+c*(l+t/3)-f*(h+i/3))/20},getBounds:function(e){for(var t=e.slice(0,2),i=t.slice(),a=[0,0],u=0;u<2;u++)re._addBounds(e[u],e[u+2],e[u+4],e[u+6],u,0,t,i,a);return new q(t[0],t[1],i[0]-t[0],i[1]-t[1])},_addBounds:function(e,t,i,a,u,l,h,f,c){function _(T,z){var E=T-z,M=T+z;E<h[u]&&(h[u]=E),M>f[u]&&(f[u]=M)}l/=2;var m=h[u]+l,p=f[u]-l;if(e<m||t<m||i<m||a<m||e>p||t>p||i>p||a>p)if(t<e!=t<a&&i<e!=i<a)_(e,0),_(a,0);else{var v=3*(t-i)-e+a,S=2*(e+i)-4*t,k=t-e,I=J.solveQuadratic(v,S,k,c),b=1e-8,C=1-b;_(a,0);for(var w=0;w<I;w++){var y=c[w],P=1-y;b<=y&&y<=C&&_(P*P*P*e+3*P*P*y*t+3*P*y*y*i+y*y*y*a,l)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=pe[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),g.each({isStraight:function(e,t,i,a){if(t.isZero()&&i.isZero())return!0;var u=a.subtract(e);if(u.isZero())return!1;if(u.isCollinear(t)&&u.isCollinear(i)){var l=new ue(e,a),h=1e-7;if(l.getDistance(e.add(t))<h&&l.getDistance(a.add(i))<h){var f=u.dot(u),c=u.dot(t)/f,_=u.dot(i)/f;return c>=0&&c<=1&&_<=0&&_>=-1}}return!1},isLinear:function(e,t,i,a){var u=a.subtract(e).divide(3);return t.equals(u)&&i.negate().equals(u)}},function(e,t){this[t]=function(i){var a=this._segment1,u=this._segment2;return e(a._point,a._handleOut,u._handleIn,u._point,i)},this.statics[t]=function(i,a){var u=i[0],l=i[1],h=i[6],f=i[7];return e(new L(u,l),new L(i[2]-u,i[3]-l),new L(i[4]-h,i[5]-f),new L(h,f),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new rt(this,e):null},getTimeAt:function(e,t){return re.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=L.read(arguments);return e.isZero()?[]:re.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(L.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return re.getTimeOf(this.getValues(),L.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=L.read(arguments),t=this.getValues(),i=re.getNearestTime(t,e),a=re.getPoint(t,i);return new rt(this,i,a,null,e.getDistance(a))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(e,function(t){this[t+"At"]=function(i,a){var u=this.getValues();return re[t](u,a?i:re.getTimeAt(u,i))},this[t+"AtTime"]=function(i){return re[t](this.getValues(),i)}},{statics:{_evaluateMethods:e}})},new function(){function e(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=9*(h-c)+3*(m-u),S=6*(u+c)-12*h,k=3*(h-u),I=9*(f-_)+3*(p-l),b=6*(l+_)-12*f,C=3*(f-l);return function(w){var y=(v*w+S)*w+k,P=(I*w+b)*w+C;return Math.sqrt(y*y+P*P)}}function t(a,u){return Math.max(2,Math.min(16,Math.ceil(Math.abs(u-a)*32)))}function i(a,u,l,h){if(u==null||u<0||u>1)return null;var f=a[0],c=a[1],_=a[2],m=a[3],p=a[4],v=a[5],S=a[6],k=a[7],I=J.isZero;I(_-f)&&I(m-c)&&(_=f,m=c),I(p-S)&&I(v-k)&&(p=S,v=k);var b=3*(_-f),C=3*(p-_)-b,w=S-f-b-C,y=3*(m-c),P=3*(v-m)-y,T=k-c-y-P,z,E;if(l===0)z=u===0?f:u===1?S:((w*u+C)*u+b)*u+f,E=u===0?c:u===1?k:((T*u+P)*u+y)*u+c;else{var M=1e-8,A=1-M;if(u<M?(z=b,E=y):u>A?(z=3*(S-p),E=3*(k-v)):(z=(3*w*u+2*C)*u+b,E=(3*T*u+2*P)*u+y),h){z===0&&E===0&&(u<M||u>A)&&(z=p-_,E=v-m);var N=Math.sqrt(z*z+E*E);N&&(z/=N,E/=N)}if(l===3){var p=6*w*u+2*C,v=6*T*u+2*P,D=Math.pow(z*z+E*E,3/2);z=D!==0?(z*v-E*p)/D:0,E=0}}return l===2?new L(E,-z):new L(z,E)}return{statics:{classify:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=u*(p-_)+l*(c-m)+m*_-p*c,S=h*(l-p)+f*(m-u)+u*p-l*m,k=c*(f-l)+_*(u-h)+h*l-f*u,I=3*k,b=I-S,C=b-S+v,w=Math.sqrt(C*C+b*b+I*I),y=w!==0?1/w:0,P=J.isZero,T="serpentine";C*=y,b*=y,I*=y;function z(N,D,O){var R=D!==o,B=R&&D>0&&D<1,V=R&&O>0&&O<1;return R&&(!(B||V)||N==="loop"&&!(B&&V))&&(N="arch",B=V=!1),{type:N,roots:B||V?B&&V?D<O?[D,O]:[O,D]:[B?D:O]:null}}if(P(C))return P(b)?z(P(I)?"line":"quadratic"):z(T,I/(3*b));var E=3*b*b-4*C*I;if(P(E))return z("cusp",b/(2*C));var M=E>0?Math.sqrt(E/3):Math.sqrt(-E),A=2*C;return z(E>0?T:"loop",(b+M)/A,(b-M)/A)},getLength:function(a,u,l,h){if(u===o&&(u=0),l===o&&(l=1),re.isStraight(a)){var f=a;l<1&&(f=re.subdivide(f,l)[0],u/=l),u>0&&(f=re.subdivide(f,u)[1]);var c=f[6]-f[0],_=f[7]-f[1];return Math.sqrt(c*c+_*_)}return J.integrate(h||e(a),u,l,t(u,l))},getTimeAt:function(a,u,l){if(l===o&&(l=u<0?1:0),u===0)return l;var h=Math.abs,f=1e-12,c=u>0,_=c?l:0,m=c?1:l,p=e(a),v=re.getLength(a,_,m,p),S=h(u)-v;if(h(S)<f)return c?m:_;if(S>f)return null;var k=u/v,I=0;function b(C){return I+=J.integrate(p,l,C,t(l,C)),l=C,I-u}return J.findRoot(b,p,l+k,_,m,32,1e-12)},getPoint:function(a,u){return i(a,u,0,!1)},getTangent:function(a,u){return i(a,u,1,!0)},getWeightedTangent:function(a,u){return i(a,u,1,!1)},getNormal:function(a,u){return i(a,u,2,!0)},getWeightedNormal:function(a,u){return i(a,u,2,!1)},getCurvature:function(a,u){return i(a,u,3,!1).x},getPeaks:function(a){var u=a[0],l=a[1],h=a[2],f=a[3],c=a[4],_=a[5],m=a[6],p=a[7],v=-u+3*h-3*c+m,S=3*u-6*h+3*c,k=-3*u+3*h,I=-l+3*f-3*_+p,b=3*l-6*f+3*_,C=-3*l+3*f,w=1e-8,y=1-w,P=[];return J.solveCubic(9*(v*v+I*I),9*(v*S+b*I),2*(S*S+b*b)+3*(k*v+C*I),k*S+b*C,P,w,y),P.sort()}}}},new function(){function e(S,k,I,b,C,w,y){var P=!y&&I.getPrevious()===C,T=!y&&I!==C&&I.getNext()===C,z=1e-8,E=1-z;if(b!==null&&b>=(P?z:0)&&b<=(T?E:1)&&w!==null&&w>=(T?z:0)&&w<=(P?E:1)){var M=new rt(I,b,null,y),A=new rt(C,w,null,y);M._intersection=A,A._intersection=M,(!k||k(M))&&rt.insert(S,M,!0)}}function t(S,k,I,b,C,w,y,P,T,z,E,M,A){if(++T>=4096||++P>=40)return T;var N=1e-9,D=k[0],O=k[1],R=k[6],B=k[7],V=ue.getSignedDistance,U=V(D,O,R,B,k[2],k[3]),W=V(D,O,R,B,k[4],k[5]),$=U*W>0?3/4:4/9,ie=$*Math.min(0,U,W),le=$*Math.max(0,U,W),he=V(D,O,R,B,S[0],S[1]),ee=V(D,O,R,B,S[2],S[3]),te=V(D,O,R,B,S[4],S[5]),fe=V(D,O,R,B,S[6],S[7]),de=i(he,ee,te,fe),me=de[0],Se=de[1],Ce,Pe;if(U===0&&W===0&&he===0&&ee===0&&te===0&&fe===0||(Ce=a(me,Se,ie,le))==null||(Pe=a(me.reverse(),Se.reverse(),ie,le))==null)return T;var be=z+(E-z)*Ce,Ee=z+(E-z)*Pe;if(Math.max(A-M,Ee-be)<N){var We=(be+Ee)/2,Xe=(M+A)/2;e(C,w,y?b:I,y?Xe:We,y?I:b,y?We:Xe)}else{S=re.getPart(S,Ce,Pe);var Ze=A-M;if(Pe-Ce>.8)if(Ee-be>Ze){var Le=re.subdivide(S,.5),We=(be+Ee)/2;T=t(k,Le[0],b,I,C,w,!y,P,T,M,A,be,We),T=t(k,Le[1],b,I,C,w,!y,P,T,M,A,We,Ee)}else{var Le=re.subdivide(k,.5),Xe=(M+A)/2;T=t(Le[0],S,b,I,C,w,!y,P,T,M,Xe,be,Ee),T=t(Le[1],S,b,I,C,w,!y,P,T,Xe,A,be,Ee)}else Ze===0||Ze>=N?T=t(k,S,b,I,C,w,!y,P,T,M,A,be,Ee):T=t(S,k,I,b,C,w,y,P,T,be,Ee,M,A)}return T}function i(S,k,I,b){var C=[0,S],w=[1/3,k],y=[2/3,I],P=[1,b],T=k-(2*S+b)/3,z=I-(S+2*b)/3,E;if(T*z<0)E=[[C,w,P],[C,y,P]];else{var M=T/z;E=[M>=2?[C,w,P]:M<=.5?[C,y,P]:[C,w,y,P],[C,P]]}return(T||z)<0?E.reverse():E}function a(S,k,I,b){return S[0][1]<I?u(S,!0,I):k[0][1]>b?u(k,!1,b):S[0][0]}function u(S,k,I){for(var b=S[0][0],C=S[0][1],w=1,y=S.length;w<y;w++){var P=S[w][0],T=S[w][1];if(k?T>=I:T<=I)return T===I?P:b+(I-C)*(P-b)/(T-C);b=P,C=T}return null}function l(S,k,I,b,C){var w=J.isZero;if(w(b)&&w(C)){var y=re.getTimeOf(S,new L(k,I));return y===null?[]:[y]}for(var P=Math.atan2(-C,b),T=Math.sin(P),z=Math.cos(P),E=[],M=[],A=0;A<8;A+=2){var N=S[A]-k,D=S[A+1]-I;E.push(N*z-D*T,N*T+D*z)}return re.solveCubic(E,1,0,M,0,1),M}function h(S,k,I,b,C,w,y){for(var P=k[0],T=k[1],z=k[6],E=k[7],M=l(S,P,T,z-P,E-T),A=0,N=M.length;A<N;A++){var D=M[A],O=re.getPoint(S,D),R=re.getTimeOf(k,O);R!==null&&e(C,w,y?b:I,y?R:D,y?I:b,y?D:R)}}function f(S,k,I,b,C,w){var y=ue.intersect(S[0],S[1],S[6],S[7],k[0],k[1],k[6],k[7]);y&&e(C,w,I,re.getTimeOf(S,y),b,re.getTimeOf(k,y))}function c(S,k,I,b,C,w){var y=1e-12,P=Math.min,T=Math.max;if(T(S[0],S[2],S[4],S[6])+y>P(k[0],k[2],k[4],k[6])&&P(S[0],S[2],S[4],S[6])-y<T(k[0],k[2],k[4],k[6])&&T(S[1],S[3],S[5],S[7])+y>P(k[1],k[3],k[5],k[7])&&P(S[1],S[3],S[5],S[7])-y<T(k[1],k[3],k[5],k[7])){var z=p(S,k);if(z)for(var E=0;E<2;E++){var M=z[E];e(C,w,I,M[0],b,M[1],!0)}else{var A=re.isStraight(S),N=re.isStraight(k),D=A&&N,O=A&&!N,R=C.length;if((D?f:A||N?h:t)(O?k:S,O?S:k,O?b:I,O?I:b,C,w,O,0,0,0,1,0,1),!D||C.length===R)for(var E=0;E<4;E++){var B=E>>1,V=E&1,U=B*6,W=V*6,$=new L(S[U],S[U+1]),ie=new L(k[W],k[W+1]);$.isClose(ie,y)&&e(C,w,I,B,b,V)}}}return C}function _(S,k,I,b){var C=re.classify(S);if(C.type==="loop"){var w=C.roots;e(I,b,k,w[0],k,w[1])}return I}function m(S,k,I,b,C,w){var y=1e-7,P=!k;P&&(k=S);for(var T=S.length,z=k.length,E=new Array(T),M=P?E:new Array(z),A=[],N=0;N<T;N++)E[N]=S[N].getValues(b);if(!P)for(var N=0;N<z;N++)M[N]=k[N].getValues(C);for(var D=X.findCurveBoundsCollisions(E,M,y),O=0;O<T;O++){var R=S[O],B=E[O];P&&_(B,R,A,I);var V=D[O];if(V)for(var U=0;U<V.length;U++){if(w&&A.length)return A;var W=V[U];if(!P||W>O){var $=k[W],ie=M[W];c(B,ie,R,$,A,I)}}}return A}function p(S,k){function I(fe){var de=fe[6]-fe[0],me=fe[7]-fe[1];return de*de+me*me}var b=Math.abs,C=ue.getDistance,w=1e-8,y=1e-7,P=re.isStraight(S),T=re.isStraight(k),z=P&&T,E=I(S)<I(k),M=E?k:S,A=E?S:k,N=M[0],D=M[1],O=M[6]-N,R=M[7]-D;if(C(N,D,O,R,A[0],A[1],!0)<y&&C(N,D,O,R,A[6],A[7],!0)<y)!z&&C(N,D,O,R,M[2],M[3],!0)<y&&C(N,D,O,R,M[4],M[5],!0)<y&&C(N,D,O,R,A[2],A[3],!0)<y&&C(N,D,O,R,A[4],A[5],!0)<y&&(P=T=z=!0);else if(z)return null;if(P^T)return null;for(var B=[S,k],V=[],U=0;U<4&&V.length<2;U++){var W=U&1,$=W^1,ie=U>>1,le=re.getTimeOf(B[W],new L(B[$][ie?6:0],B[$][ie?7:1]));if(le!=null){var he=W?[ie,le]:[le,ie];(!V.length||b(he[0]-V[0][0])>w&&b(he[1]-V[0][1])>w)&&V.push(he)}if(U>2&&!V.length)break}if(V.length!==2)V=null;else if(!z){var ee=re.getPart(S,V[0][0],V[1][0]),te=re.getPart(k,V[0][1],V[1][1]);(b(te[2]-ee[2])>y||b(te[3]-ee[3])>y||b(te[4]-ee[4])>y||b(te[5]-ee[5])>y)&&(V=null)}return V}function v(S,k){var I=S[0],b=S[1],C=S[2],w=S[3],y=S[4],P=S[5],T=S[6],z=S[7],E=k.normalize(),M=E.x,A=E.y,N=3*T-9*y+9*C-3*I,D=3*z-9*P+9*w-3*b,O=6*y-12*C+6*I,R=6*P-12*w+6*b,B=3*C-3*I,V=3*w-3*b,U=2*N*A-2*D*M,W=[];if(Math.abs(U)<J.CURVETIME_EPSILON){var $=N*V-D*B,U=N*R-D*O;if(U!=0){var ie=-$/U;ie>=0&&ie<=1&&W.push(ie)}}else{var le=(O*O-4*N*B)*A*A+(-2*O*R+4*D*B+4*N*V)*M*A+(R*R-4*D*V)*M*M,he=O*A-R*M;if(le>=0&&U!=0){var ee=Math.sqrt(le),te=-(he+ee)/U,fe=(-he+ee)/U;te>=0&&te<=1&&W.push(te),fe>=0&&fe<=1&&W.push(fe)}}return W}return{getIntersections:function(S){var k=this.getValues(),I=S&&S!==this&&S.getValues();return I?c(k,I,this,S,[]):_(k,this,[])},statics:{getOverlaps:p,getIntersections:m,getCurveLineIntersections:l,getTimesWithTangent:v}}}),rt=g.extend({_class:"CurveLocation",initialize:function(t,i,a,u,l){if(i>=.99999999){var h=t.getNext();h&&(i=0,t=h)}this._setCurve(t),this._time=i,this._point=a||t.getPointAtTime(i),this._overlap=u,this._distance=l,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),i=this.getTime();i===0?e=t._segment1:i===1?e=t._segment2:i!=null&&(e=t.getPartLength(0,i)<t.getPartLength(i,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(a){var u=a&&a.getCurve();if(u&&(t._time=u.getTimeOf(t._point))!=null)return t._setCurve(u),u}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),i=this.getIndex();if(t&&i!=null)for(var a=t.getCurves(),u=0;u<i;u++)e+=a[u].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),i=this.getTime();this._curveOffset=e=i!=null&&t&&t.getPartLength(0,i)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,i=e&&e.splitAtTime(this.getTime());return i&&this._setSegment(t.getLastSegment()),i},equals:function(e,t){var i=this===e;if(!i&&e instanceof rt){var a=this.getCurve(),u=e.getCurve(),l=a._path,h=u._path;if(l===h){var f=Math.abs,c=1e-7,_=f(this.getOffset()-e.getOffset()),m=!t&&this._intersection,p=!t&&e._intersection;i=(_<c||l&&f(l.getLength()-_)<c)&&(!m&&!p||m&&p&&m.equals(p,!0))}}return i},toString:function(){var e=[],t=this.getPoint(),i=se.instance;t&&e.push("point: "+t);var a=this.getIndex();a!=null&&e.push("index: "+a);var u=this.getTime();return u!=null&&e.push("time: "+i.number(u)),this._distance!=null&&e.push("distance: "+i.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),i=e.getCurve();return!(t.isStraight()&&i.isStraight()&&t.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),i=e.getTime(),a=1e-8,u=1-a,l=t>=a&&t<=u,h=i>=a&&i<=u;if(l&&h)return!this.isTouching();var f=this.getCurve(),c=f&&t<a?f.getPrevious():f,_=e.getCurve(),m=_&&i<a?_.getPrevious():_;if(t>u&&(f=f.getNext()),i>u&&(_=_.getNext()),!c||!f||!m||!_)return!1;var p=[];function v(M,A){var N=M.getValues(),D=re.classify(N).roots||re.getPeaks(N),O=D.length,R=re.getLength(N,A&&O?D[O-1]:0,!A&&O?D[0]:1);p.push(O?R:R/32)}function S(M,A,N){return A<N?M>A&&M<N:M>A||M<N}l||(v(c,!0),v(f,!1)),h||(v(m,!0),v(_,!1));var k=this.getPoint(),I=Math.min.apply(Math,p),b=l?f.getTangentAtTime(t):f.getPointAt(I).subtract(k),C=l?b.negate():c.getPointAt(-I).subtract(k),w=h?_.getTangentAtTime(i):_.getPointAt(I).subtract(k),y=h?w.negate():m.getPointAt(-I).subtract(k),P=C.getAngle(),T=b.getAngle(),z=y.getAngle(),E=w.getAngle();return!!(l?S(P,z,E)^S(T,z,E)&&S(P,E,z)^S(T,E,z):S(z,P,T)^S(E,P,T)&&S(z,T,P)^S(E,T,P))},hasOverlap:function(){return!!this._overlap}},g.each(re._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var i=this.getCurve(),a=this.getTime();return a!=null&&i&&i[t](a,!0)}},{preserve:!0}),new function(){function e(t,i,a){var u=t.length,l=0,h=u-1;function f(k,I){for(var b=k+I;b>=-1&&b<=u;b+=I){var C=t[(b%u+u)%u];if(!i.getPoint().isClose(C.getPoint(),1e-7))break;if(i.equals(C))return C}return null}for(;l<=h;){var c=l+h>>>1,_=t[c],m;if(a&&(m=i.equals(_)?_:f(c,-1)||f(c,1)))return i._overlap&&(m._overlap=m._intersection._overlap=!0),m;var p=i.getPath(),v=_.getPath(),S=p!==v?p._id-v._id:i.getIndex()+i.getTime()-(_.getIndex()+_.getTime());S<0?h=c-1:l=c+1}return t.splice(l,0,i),i}return{statics:{insert:e,expand:function(t){for(var i=t.slice(),a=t.length-1;a>=0;a--)e(i,t[a]._intersection,!1);return i}}}}),ke=ae.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,i,a;if(g.isPlainObject(e)?(i=e.segments,t=e.pathData):Array.isArray(e)?i=e:typeof e=="string"&&(t=e),i){var u=i[0];a=u&&Array.isArray(u[0])}else t&&(a=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var l=a?Me:pe;return new l(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,a=!1,u,l,h=new L,f=new L;function c(y,P){var T=+i[y];return a&&(T+=h[P]),T}function _(y){return new L(c(y,"x"),c(y+1,"y"))}this.clear();for(var m=0,p=t&&t.length;m<p;m++){var v=t[m],S=v[0],k=S.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var I=i&&i.length;switch(a=S===k,u==="z"&&!/[mz]/.test(k)&&this.moveTo(h),k){case"m":case"l":for(var b=k==="m",C=0;C<I;C+=2)this[b?"moveTo":"lineTo"](h=_(C)),b&&(f=h,b=!1);l=h;break;case"h":case"v":var w=k==="h"?"x":"y";h=h.clone();for(var C=0;C<I;C++)h[w]=c(C,w),this.lineTo(h);l=h;break;case"c":for(var C=0;C<I;C+=6)this.cubicCurveTo(_(C),l=_(C+2),h=_(C+4));break;case"s":for(var C=0;C<I;C+=4)this.cubicCurveTo(/[cs]/.test(u)?h.multiply(2).subtract(l):h,l=_(C),h=_(C+2)),u=k;break;case"q":for(var C=0;C<I;C+=4)this.quadraticCurveTo(l=_(C),h=_(C+2));break;case"t":for(var C=0;C<I;C+=2)this.quadraticCurveTo(l=/[qt]/.test(u)?h.multiply(2).subtract(l):h,h=_(C)),u=k;break;case"a":for(var C=0;C<I;C+=7)this.arcTo(h=_(C+5),new Y(+i[C],+i[C+1]),+i[C+2],+i[C+4],+i[C+3]);break;case"z":this.closePath(1e-12),h=f;break}u=k}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,i,a){var u=this===e||!e,l=this._matrix._orNullIfIdentity(),h=u?l:(i||e._matrix)._orNullIfIdentity();return u||this.getBounds(l).intersects(e.getBounds(h),1e-12)?re.getIntersections(this.getCurves(),!u&&e.getCurves(),t,l,h,a):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=L.read(arguments),t=this.getCurves(),i=1/0,a=null,u=0,l=t.length;u<l;u++){var h=t[u].getNearestLocation(e);h._distance<i&&(i=h._distance,a=h)}return a},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,i){var a=!this._children,u=a?"_segments":"_children",l=e[u],h=t[u],f=this[u];if(!l||!h||l.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var c=f.length,_=h.length;if(c<_)for(var m=a?ce:pe,p=c;p<_;p++)this.add(new m);else c>_&&this[a?"removeSegments":"removeChildren"](_,c);for(var p=0;p<_;p++)f[p].interpolate(l[p],h[p],i);a&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var i=this._children||[this],a=e._children?e._children.slice():[e],u=i.length,l=a.length,h=[],f=0;t=!0;for(var c=X.findItemBoundsCollisions(i,a,J.GEOMETRIC_EPSILON),_=u-1;_>=0&&t;_--){var m=i[_];t=!1;var p=c[_];if(p)for(var v=p.length-1;v>=0&&!t;v--)m.compare(a[p[v]])&&(h[p[v]]||(h[p[v]]=!0,f++),t=!0)}t=t&&f===l}return t}}),pe=ke.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=arguments,a=Array.isArray(t)?typeof t[0]=="object"?t:i:t&&t.size===o&&(t.x!==o||t.point!==o)?i:null;a&&a.length>0?this.setSegments(a):(this._curves=o,this._segmentSelection=0,!a&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!a&&t)},_equals:function(e){return this._closed===e._closed&&g.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=o,t&32)this._version++;else if(this._curves)for(var i=0,a=this._curves.length;i<a;i++)this._curves[i]._changed()}else t&64&&(this._bounds=o)},getStyle:function(){var e=this._parent;return(e instanceof Me?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),i=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,i){var a=e[i-1];typeof a=="boolean"&&(this.setClosed(a),i--),this._add(ce.readList(e,0,{},i))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var i=this._countCurves();e=this._curves=new Array(i);for(var a=0;a<i;a++)e[a]=new re(this,t[a],t[a+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new re(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var i=this._segments,a=i.length,u=new se(t),l=new Array(6),h=!0,f,c,_,m,p,v,S,k,I=[];function b(w,y){if(w._transformCoordinates(e,l),f=l[0],c=l[1],h)I.push("M"+u.pair(f,c)),h=!1;else if(p=l[2],v=l[3],p===f&&v===c&&S===_&&k===m){if(!y){var P=f-_,T=c-m;I.push(P===0?"v"+u.number(T):T===0?"h"+u.number(P):"l"+u.pair(P,T))}}else I.push("c"+u.pair(S-_,k-m)+" "+u.pair(p-_,v-m)+" "+u.pair(f-_,c-m));_=f,m=c,S=l[4],k=l[5]}if(!a)return"";for(var C=0;C<a;C++)b(i[C]);return this._closed&&a>0&&(b(i[0],!0),I.push("z")),I.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,i=new Array(6),a=0,u=t.length;a<u;a++)t[a]._transformCoordinates(e,i,!0);return!0},_add:function(e,h){for(var i=this._segments,a=this._curves,u=e.length,l=h==null,h=l?i.length:h,f=0;f<u;f++){var c=e[f];c._path&&(c=e[f]=c.clone()),c._path=this,c._index=h+f,c._selection&&this._updateSelection(c,0,c._selection)}if(l)g.push(i,e);else{i.splice.apply(i,[h,0].concat(e));for(var f=h+u,_=i.length;f<_;f++)i[f]._index=f}if(a){var m=this._countCurves(),p=h>0&&h+u-1===m?h-1:h,v=p,S=Math.min(p+u,m);e._curves&&(a.splice.apply(a,[p,0].concat(e._curves)),v+=e._curves.length);for(var f=v;f<S;f++)a.splice(f,0,new re(this,null,null));this._adjustCurves(p,S)}return this._changed(41),e},_adjustCurves:function(e,t){for(var i=this._segments,a=this._curves,u,l=e;l<t;l++)u=a[l],u._path=this,u._segment1=i[l],u._segment2=i[l+1]||i[0],u._changed();(u=a[this._closed&&!e?i.length-1:e-1])&&(u._segment2=i[e]||i[0],u._changed()),(u=a[t])&&(u._segment1=i[t],u._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(ce.readList(t)):this._add([ce.read(t)])[0]},insert:function(e,t){var i=arguments;return i.length>2&&typeof t!="number"?this._add(ce.readList(i,1),e):this._add([ce.read(i,1)],e)[0]},addSegment:function(){return this._add([ce.read(arguments)])[0]},insertSegment:function(e){return this._add([ce.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(ce.readList(e))},insertSegments:function(e,t){return this._add(ce.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,i){e=e||0,t=g.pick(t,this._segments.length);var a=this._segments,u=this._curves,l=a.length,h=a.splice(e,t-e),f=h.length;if(!f)return h;for(var c=0;c<f;c++){var _=h[c];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var c=e,m=a.length;c<m;c++)a[c]._index=c;if(u){for(var p=e>0&&t===l+(this._closed?1:0)?e-1:e,u=u.splice(p,f),c=u.length-1;c>=0;c--)u[c]._path=null;i&&(h._curves=u.slice(1)),this._adjustCurves(p,p)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,i=e.length;t<i;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,i=this._closed;e=0;for(var a=0,u=t.length;a<u;a++){var l=a+1===u;e+=re.getArea(re.getValues(t[a],t[l?0:a+1],null,l&&!i))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,i=t.length,a=e?7:0;this._segmentSelection=a*i;for(var u=0;u<i;u++)t[u]._selection=a},_updateSelection:function(e,t,i){e._selection=i;var a=this._segmentSelection+=i-t;a>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),i;return t&&(i=t.getCurve().divideAt(t.getCurveOffset()))?i._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),i=t&&t.index,a=t&&t.time,u=1e-8,l=1-u;a>l&&(i++,a=0);var h=this.getCurves();if(i>=0&&i<h.length){a>=u&&h[i++].divideAtTime(a);var f=this.removeSegments(i,this._segments.length,!0),c;return this._closed?(this.setClosed(!1),c=this):(c=new pe(ae.NO_INSERT),c.insertAbove(this),c.copyAttributes(this)),c._add(f,0),this.addSegment(f[0]),c}return null},split:function(e,t){var i,a=t===o?e:(i=this.getCurves()[e])&&i.getLocationAtTime(t);return a!=null?this.splitAt(a):null},join:function(e,t){var i=t||0;if(e&&e!==this){var a=e._segments,u=this.getLastSegment(),l=e.getLastSegment();if(!l)return this;u&&u._point.isClose(l._point,i)&&e.reverse();var h=e.getFirstSegment();if(u&&u._point.isClose(h._point,i))u.setHandleOut(h._handleOut),this._add(a.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(h._point,i)&&e.reverse(),l=e.getLastSegment(),f&&f._point.isClose(l._point,i)?(f.setHandleIn(l._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}e._closed&&this._add([a[0]]),e.remove()}var c=this.getFirstSegment(),_=this.getLastSegment();return c!==_&&c._point.isClose(_._point,i)&&(c.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),i=e&&e.simplify,a=i?1e-7:0,u=t.length-1;u>=0;u--){var l=t[u];!l.hasHandles()&&(!l.hasLength(a)||i&&l.isCollinear(l.getNext()))&&l.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var i=this._segments[e],a=i._handleIn;i._handleIn=i._handleOut,i._handleOut=a,i._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new at(this,e||.25,256,!0),i=t.parts,a=i.length,u=[],l=0;l<a;l++)u.push(new ce(i[l].curve.slice(0,2)));!this._closed&&a>0&&u.push(new ce(i[a-1].curve.slice(6))),this.setSegments(u)},simplify:function(e){var t=new St(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,i=e||{},a=i.type||"asymmetric",u=this._segments,l=u.length,h=this._closed;function f(me,Se){var Ce=me&&me.index;if(Ce!=null){var Pe=me.path;if(Pe&&Pe!==t)throw new Error(me._class+" "+Ce+" of "+Pe+" is not part of "+t);Se&&me instanceof re&&Ce++}else Ce=typeof me=="number"?me:Se;return Math.min(Ce<0&&h?Ce%l:Ce<0?Ce+l:Ce,l-1)}var c=h&&i.from===o&&i.to===o,_=f(i.from,0),m=f(i.to,l-1);if(_>m)if(h)_-=l;else{var p=_;_=m,m=p}if(/^(?:asymmetric|continuous)$/.test(a)){var v=a==="asymmetric",S=Math.min,k=m-_+1,I=k-1,b=c?S(k,4):1,C=b,w=b,y=[];if(h||(C=S(1,_),w=S(1,l-m-1)),I+=C+w,I<=1)return;for(var P=0,T=_-C;P<=I;P++,T++)y[P]=u[(T<0?T+l:T)%l]._point;for(var z=y[0]._x+2*y[1]._x,E=y[0]._y+2*y[1]._y,M=2,A=I-1,N=[z],D=[E],O=[M],R=[],B=[],P=1;P<I;P++){var V=P<A,U=V||v?1:2,W=V?4:v?2:7,$=V?4:v?3:8,ie=V?2:v?0:1,le=U/M;M=O[P]=W-le,z=N[P]=$*y[P]._x+ie*y[P+1]._x-le*z,E=D[P]=$*y[P]._y+ie*y[P+1]._y-le*E}R[A]=N[A]/O[A],B[A]=D[A]/O[A];for(var P=I-2;P>=0;P--)R[P]=(N[P]-R[P+1])/O[P],B[P]=(D[P]-B[P+1])/O[P];R[I]=(3*y[I]._x-R[A])/2,B[I]=(3*y[I]._y-B[A])/2;for(var P=C,he=I-w,T=_;P<=he;P++,T++){var ee=u[T<0?T+l:T],te=ee._point,fe=R[P]-te._x,de=B[P]-te._y;(c||P<he)&&ee.setHandleOut(fe,de),(c||P>C)&&ee.setHandleIn(-fe,-de)}}else for(var P=_;P<=m;P++)u[P<0?P+l:P].smooth(i,!c&&P===_,!c&&P===m)},toShape:function(e){if(!this._closed)return null;var t=this._segments,i,a,u,l;function h(v,S){var k=t[v],I=k.getNext(),b=t[S],C=b.getNext();return k._handleOut.isZero()&&I._handleIn.isZero()&&b._handleOut.isZero()&&C._handleIn.isZero()&&I._point.subtract(k._point).isCollinear(C._point.subtract(b._point))}function f(v){var S=t[v],k=S.getPrevious(),I=S.getNext();return k._handleOut.isZero()&&S._handleIn.isZero()&&S._handleOut.isZero()&&I._handleIn.isZero()&&S._point.subtract(k._point).isOrthogonal(I._point.subtract(S._point))}function c(v){var S=t[v],k=S.getNext(),I=S._handleOut,b=k._handleIn,C=.5522847498307936;if(I.isOrthogonal(b)){var w=S._point,y=k._point,P=new ue(w,I,!0).intersect(new ue(y,b,!0),!0);return P&&J.isZero(I.getLength()/P.subtract(w).getLength()-C)&&J.isZero(b.getLength()/P.subtract(y).getLength()-C)}return!1}function _(v,S){return t[v]._point.getDistance(t[S]._point)}if(!this.hasHandles()&&t.length===4&&h(0,2)&&h(1,3)&&f(1)?(i=Te.Rectangle,a=new Y(_(0,3),_(0,1)),l=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&c(0)&&c(2)&&c(4)&&c(6)&&h(1,5)&&h(3,7)?(i=Te.Rectangle,a=new Y(_(1,6),_(0,3)),u=a.subtract(new Y(_(0,7),_(1,2))).divide(2),l=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&c(0)&&c(1)&&c(2)&&c(3)&&(J.isZero(_(0,2)-_(1,3))?(i=Te.Circle,u=_(0,2)/2):(i=Te.Ellipse,u=new Y(_(2,0)/2,_(3,1)/2)),l=t[1]._point),i){var m=this.getPosition(!0),p=new i({center:m,size:a,radius:u,insert:!1});return p.copyAttributes(this,!0),p._matrix.prepend(this._matrix),p.rotate(l.subtract(m).getAngle()+90),(e===o||e)&&p.insertAbove(this),p}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Me)return e.base.call(this,t);var i=this.getCurves(),a=t.getCurves(),u=i.length,l=a.length;if(!u||!l)return u==l;for(var h=i[0].getValues(),f=[],c=0,_,m=0,p,v=0;v<l;v++){var b=a[v].getValues();f.push(b);var S=re.getOverlaps(h,b);if(S){_=!v&&S[0][0]>0?l-1:v,p=S[0][1];break}}for(var k=Math.abs,I=1e-8,b=f[_],C;h&&b;){var S=re.getOverlaps(h,b);if(S){var w=S[0][0];if(k(w-m)<I){m=S[1][0],m===1&&(h=++c<u?i[c].getValues():null,m=0);var y=S[0][1];if(k(y-p)<I){if(C||(C=[_,y]),p=S[1][1],p===1&&(++_>=l&&(_=0),b=f[_]||a[_].getValues(),p=0),!h)return C[0]===_&&C[1]===p;continue}}}break}return!1},_hitTestSelf:function(e,t,i,a){var u=this,l=this.getStyle(),h=this._segments,f=h.length,c=this._closed,_=t._tolerancePadding,m=_,p,v,S,k,I,b,C=t.stroke&&l.hasStroke(),w=t.fill&&l.hasFill(),y=t.curves,P=C?l.getStrokeWidth()/2:w&&t.tolerance>0||y?0:null;P!==null&&(P>0?(p=l.getStrokeJoin(),v=l.getStrokeCap(),S=l.getMiterLimit(),m=m.add(pe._getStrokePadding(P,a))):p=v="round");function T(R,B){return e.subtract(R).divide(B).length<=1}function z(R,B,V){if(!t.selected||B.isSelected()){var U=R._point;if(B!==U&&(B=B.add(U)),T(B,m))return new Ke(V,u,{segment:R,point:B})}}function E(R,B){return(B||t.segments)&&z(R,R._point,"segment")||!B&&t.handles&&(z(R,R._handleIn,"handle-in")||z(R,R._handleOut,"handle-out"))}function M(R){k.add(R)}function A(R){var B=c||R._index>0&&R._index<f-1;if((B?p:v)==="round")return T(R._point,m);if(k=new pe({internal:!0,closed:!0}),B?R.isSmooth()||pe._addBevelJoin(R,p,P,S,null,a,M,!0):v==="square"&&pe._addSquareCap(R,v,P,null,a,M,!0),!k.isEmpty()){var V;return k.contains(e)||(V=k.getNearestLocation(e))&&T(V.getPoint(),_)}}if(t.ends&&!t.segments&&!c){if(b=E(h[0],!0)||E(h[f-1],!0))return b}else if(t.segments||t.handles){for(var N=0;N<f;N++)if(b=E(h[N]))return b}if(P!==null){if(I=this.getNearestLocation(e),I){var D=I.getTime();D===0||D===1&&f>1?A(I.getSegment())||(I=null):T(I.getPoint(),m)||(I=null)}if(!I&&p==="miter"&&f>1)for(var N=0;N<f;N++){var O=h[N];if(e.getDistance(O._point)<=S*P&&A(O)){I=O.getLocation();break}}}return!I&&w&&this._contains(e)||I&&!C&&!y?new Ke("fill",this):I?new Ke(C?"stroke":"curve",this,{location:I,point:I.getPoint()}):null}},g.each(re._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this.getLocationAt(t);return i&&i[e]()}},{beans:!1,getLocationOf:function(){for(var e=L.read(arguments),t=this.getCurves(),i=0,a=t.length;i<a;i++){var u=t[i].getLocationOf(e);if(u)return u}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),i=0,a=0,u=t.length;a<u;a++){var l=i,h=t[a];if(i+=h.getLength(),i>e)return h.getLocationAt(e-l)}if(t.length>0&&e<=this.getLength())return new rt(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=L.read(arguments);if(e.isZero())return[];for(var t=[],i=0,a=this.getCurves(),u=0,l=a.length;u<l;u++){for(var h=a[u],f=h.getTimesWithTangent(e),c=0,_=f.length;c<_;c++){var m=i+h.getOffsetAtTime(f[c]);t.indexOf(m)<0&&t.push(m)}i+=h.length}return t}}),new function(){function e(i,a,u,l){if(l<=0)return;var h=l/2,f=l-2,c=h-1,_=new Array(6),m,p;function v(w){var y=_[w],P=_[w+1];(m!=y||p!=P)&&(i.beginPath(),i.moveTo(m,p),i.lineTo(y,P),i.stroke(),i.beginPath(),i.arc(y,P,h,0,Math.PI*2,!0),i.fill())}for(var S=0,k=a.length;S<k;S++){var I=a[S],b=I._selection;if(I._transformCoordinates(u,_),m=_[0],p=_[1],b&2&&v(2),b&4&&v(4),i.fillRect(m-h,p-h,l,l),f>0&&!(b&1)){var C=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(m-c,p-c,f,f),i.fillStyle=C}}}function t(i,a,u){var l=a._segments,h=l.length,f=new Array(6),c=!0,_,m,p,v,S,k,I,b;function C(y){if(u)y._transformCoordinates(u,f),_=f[0],m=f[1];else{var P=y._point;_=P._x,m=P._y}if(c)i.moveTo(_,m),c=!1;else{if(u)S=f[2],k=f[3];else{var T=y._handleIn;S=_+T._x,k=m+T._y}S===_&&k===m&&I===p&&b===v?i.lineTo(_,m):i.bezierCurveTo(I,b,S,k,_,m)}if(p=_,v=m,u)I=f[4],b=f[5];else{var T=y._handleOut;I=p+T._x,b=v+T._y}}for(var w=0;w<h;w++)C(l[w]);a._closed&&h>0&&C(l[0])}return{_draw:function(i,a,u,l){var h=a.dontStart,f=a.dontFinish||a.clip,c=this.getStyle(),_=c.hasFill(),m=c.hasStroke(),p=c.getDashArray(),v=!r.support.nativeDash&&m&&p&&p.length;h||i.beginPath(),(_||m&&!v||f)&&(t(i,this,l),this._closed&&i.closePath());function S(y){return p[(y%v+v)%v]}if(!f&&(_||m)&&(this._setStyles(i,a,u),_&&(i.fill(c.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),m)){if(v){h||i.beginPath();for(var k=new at(this,.25,32,!1,l),I=k.length,b=-c.getDashOffset(),C,w=0;b>0;)b-=S(w--)+S(w--);for(;b<I;)C=b+S(w++),(b>0||C>0)&&k.drawPart(i,Math.max(b,0),Math.max(C,0)),b=C+S(w++)}i.stroke()}},_drawSelected:function(i,a){i.beginPath(),t(i,this,a),i.stroke(),e(i,this._segments,a,r.settings.handleSize)}}},new function(){function e(t){var i=t._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new ce(L.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ce(L.read(arguments))])},cubicCurveTo:function(){var t=arguments,i=L.read(t),a=L.read(t),u=L.read(t),l=e(this);l.setHandleOut(i.subtract(l._point)),this._add([new ce(u,a.subtract(u))])},quadraticCurveTo:function(){var t=arguments,i=L.read(t),a=L.read(t),u=e(this)._point;this.cubicCurveTo(i.add(u.subtract(i).multiply(1/3)),i.add(a.subtract(i).multiply(1/3)),a)},curveTo:function(){var t=arguments,i=L.read(t),a=L.read(t),u=g.pick(g.read(t),.5),l=1-u,h=e(this)._point,f=i.subtract(h.multiply(l*l)).subtract(a.multiply(u*u)).divide(2*u*l);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+u);this.quadraticCurveTo(f,a)},arcTo:function(){var t=arguments,i=Math.abs,a=Math.sqrt,u=e(this),l=u._point,h=L.read(t),f,c=g.peek(t),_=g.pick(c,!0),m,p,v,S;if(typeof _=="boolean")var k=l.add(h).divide(2),f=k.add(k.subtract(l).rotate(_?-90:90));else if(g.remain(t)<=2)f=h,h=L.read(t);else if(!l.equals(h)){var I=Y.read(t),b=J.isZero;if(b(I.width)||b(I.height))return this.lineTo(h);var C=g.read(t),_=!!g.read(t),w=!!g.read(t),k=l.add(h).divide(2),y=l.subtract(k).rotate(-C),P=y.x,T=y.y,z=i(I.width),E=i(I.height),M=z*z,A=E*E,N=P*P,D=T*T,O=a(N/M+D/A);if(O>1&&(z*=O,E*=O,M=z*z,A=E*E),O=(M*A-M*D-A*N)/(M*D+A*N),i(O)<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");m=new L(z*T/E,-E*P/z).multiply((w===_?-1:1)*a(O)).rotate(C).add(k),S=new G().translate(m).rotate(C).scale(z,E),v=S._inverseTransform(l),p=v.getDirectedAngle(S._inverseTransform(h)),!_&&p>0?p-=360:_&&p<0&&(p+=360)}if(f){var R=new ue(l.add(f).divide(2),f.subtract(l).rotate(90),!0),B=new ue(f.add(h).divide(2),h.subtract(f).rotate(90),!0),V=new ue(l,h),U=V.getSide(f);if(m=R.intersect(B,!0),!m){if(!U)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}v=l.subtract(m),p=v.getDirectedAngle(h.subtract(m));var W=V.getSide(m,!0);W===0?p=U*i(p):U===W&&(p+=p<0?360:-360)}if(p){for(var $=1e-7,ie=i(p),le=ie>=360?4:Math.ceil((ie-$)/90),he=p/le,ee=he*Math.PI/360,te=4/3*Math.sin(ee)/(1+Math.cos(ee)),fe=[],de=0;de<=le;de++){var y=h,me=null;if(de<le&&(me=v.rotate(90).multiply(te),S?(y=S._transformPoint(v),me=S._transformPoint(v.add(me)).subtract(y)):y=m.add(v)),!de)u.setHandleOut(me);else{var Se=v.rotate(-90).multiply(te);S&&(Se=S._transformPoint(v.add(Se)).subtract(y)),fe.push(new ce(y,Se,me))}v=v.rotate(he)}this._add(fe)}},lineBy:function(){var t=L.read(arguments),i=e(this)._point;this.lineTo(i.add(t))},curveBy:function(){var t=arguments,i=L.read(t),a=L.read(t),u=g.read(t),l=e(this)._point;this.curveTo(l.add(i),l.add(a),u)},cubicCurveBy:function(){var t=arguments,i=L.read(t),a=L.read(t),u=L.read(t),l=e(this)._point;this.cubicCurveTo(l.add(i),l.add(a),l.add(u))},quadraticCurveBy:function(){var t=arguments,i=L.read(t),a=L.read(t),u=e(this)._point;this.quadraticCurveTo(u.add(i),u.add(a))},arcBy:function(){var t=arguments,i=e(this)._point,a=i.add(L.read(t)),u=g.pick(g.peek(t),!0);typeof u=="boolean"?this.arcTo(a,u):this.arcTo(a,i.add(L.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var i=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return pe[i](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,i,a,u,l){var h=e[0];if(!h)return new q;var f=new Array(6),c=h._transformCoordinates(a,new Array(6)),_=c.slice(0,2),m=_.slice(),p=new Array(2);function v(I){I._transformCoordinates(a,f);for(var b=0;b<2;b++)re._addBounds(c[b],c[b+4],f[b+2],f[b],b,l?l[b]:0,_,m,p);var C=c;c=f,f=C}for(var S=1,k=e.length;S<k;S++)v(e[S]);return t&&v(h),new q(_[0],_[1],m[0]-_[0],m[1]-_[1])},getStrokeBounds:function(e,t,i,a,u){var l=i.getStyle(),h=l.hasStroke(),f=l.getStrokeWidth(),c=h&&i._getStrokeMatrix(a,u),_=h&&pe._getStrokePadding(f,c),m=pe.getBounds(e,t,i,a,u,_);if(!h)return m;var p=f/2,v=l.getStrokeJoin(),S=l.getStrokeCap(),k=l.getMiterLimit(),I=new q(new Y(_));function b(z){m=m.include(z)}function C(z){m=m.unite(I.setCenter(z._point.transform(a)))}function w(z,E){E==="round"||z.isSmooth()?C(z):pe._addBevelJoin(z,E,p,k,a,c,b)}function y(z,E){E==="round"?C(z):pe._addSquareCap(z,E,p,a,c,b)}var P=e.length-(t?0:1);if(P>0){for(var T=1;T<P;T++)w(e[T],v);t?w(e[0],v):(y(e[0],S),y(e[e.length-1],S))}return m},_getStrokePadding:function(e,t){if(!t)return[e,e];var i=new L(e,0).transform(t),a=new L(0,e).transform(t),u=i.getAngleInRadians(),l=i.getLength(),h=a.getLength(),f=Math.sin(u),c=Math.cos(u),_=Math.tan(u),m=Math.atan2(h*_,l),p=Math.atan2(h,_*l);return[Math.abs(l*Math.cos(m)*c+h*Math.sin(m)*f),Math.abs(h*Math.sin(p)*c+l*Math.cos(p)*f)]},_addBevelJoin:function(e,t,i,a,u,l,h,f){var c=e.getCurve(),_=c.getPrevious(),m=c.getPoint1().transform(u),p=_.getNormalAtTime(1).multiply(i).transform(l),v=c.getNormalAtTime(0).multiply(i).transform(l),S=p.getDirectedAngle(v);if((S<0||S>=180)&&(p=p.negate(),v=v.negate()),f&&h(m),h(m.add(p)),t==="miter"){var k=new ue(m.add(p),new L(-p.y,p.x),!0).intersect(new ue(m.add(v),new L(-v.y,v.x),!0),!0);k&&m.getDistance(k)<=a*i&&h(k)}h(m.add(v))},_addSquareCap:function(e,t,i,a,u,l,h){var f=e._point.transform(a),c=e.getLocation(),_=c.getNormal().multiply(c.getTime()===0?i:-i).transform(u);t==="square"&&(h&&(l(f.subtract(_)),l(f.add(_))),f=f.add(_.rotate(-90))),l(f.add(_)),l(f.subtract(_))},getHandleBounds:function(e,t,i,a,u){var l=i.getStyle(),h=u.stroke&&l.hasStroke(),f,c;if(h){var _=i._getStrokeMatrix(a,u),m=l.getStrokeWidth()/2,p=m;l.getStrokeJoin()==="miter"&&(p=m*l.getMiterLimit()),l.getStrokeCap()==="square"&&(p=Math.max(p,m*Math.SQRT2)),f=pe._getStrokePadding(m,_),c=pe._getStrokePadding(p,_)}for(var v=new Array(6),S=1/0,k=-S,I=S,b=k,C=0,w=e.length;C<w;C++){var y=e[C];y._transformCoordinates(a,v);for(var P=0;P<6;P+=2){var T=P?f:c,z=T?T[0]:0,E=T?T[1]:0,M=v[P],A=v[P+1],N=M-z,D=M+z,O=A-E,R=A+E;N<S&&(S=N),D>k&&(k=D),O<I&&(I=O),R>b&&(b=R)}}return new q(S,I,k-S,b-I)}}});pe.inject({statics:new function(){var e=.5522847498307936,t=[new ce([-1,0],[0,e],[0,-e]),new ce([0,-1],[-e,0],[e,0]),new ce([1,0],[0,-e],[0,e]),new ce([0,1],[e,0],[-e,0])];function i(u,l,h){var f=g.getNamed(h),c=new pe(f&&f.insert==!1&&ae.NO_INSERT);return c._add(u),c._closed=l,c.set(f,{insert:!0})}function a(u,l,h){for(var f=new Array(4),c=0;c<4;c++){var _=t[c];f[c]=new ce(_._point.multiply(l).add(u),_._handleIn.multiply(l),_._handleOut.multiply(l))}return i(f,!0,h)}return{Line:function(){var u=arguments;return i([new ce(L.readNamed(u,"from")),new ce(L.readNamed(u,"to"))],!1,u)},Circle:function(){var u=arguments,l=L.readNamed(u,"center"),h=g.readNamed(u,"radius");return a(l,new Y(h),u)},Rectangle:function(){var u=arguments,l=q.readNamed(u,"rectangle"),h=Y.readNamed(u,"radius",0,{readNull:!0}),f=l.getBottomLeft(!0),c=l.getTopLeft(!0),_=l.getTopRight(!0),m=l.getBottomRight(!0),p;if(!h||h.isZero())p=[new ce(f),new ce(c),new ce(_),new ce(m)];else{h=Y.min(h,l.getSize(!0).divide(2));var v=h.width,S=h.height,k=v*e,I=S*e;p=[new ce(f.add(v,0),null,[-k,0]),new ce(f.subtract(0,S),[0,I]),new ce(c.add(0,S),null,[0,-I]),new ce(c.add(v,0),[-k,0],null),new ce(_.subtract(v,0),null,[k,0]),new ce(_.add(0,S),[0,-I],null),new ce(m.subtract(0,S),null,[0,I]),new ce(m.subtract(v,0),[k,0])]}return i(p,!0,u)},RoundRectangle:"#Rectangle",Ellipse:function(){var u=arguments,l=Te._readEllipse(u);return a(l.center,l.radius,u)},Oval:"#Ellipse",Arc:function(){var u=arguments,l=L.readNamed(u,"from"),h=L.readNamed(u,"through"),f=L.readNamed(u,"to"),c=g.getNamed(u),_=new pe(c&&c.insert==!1&&ae.NO_INSERT);return _.moveTo(l),_.arcTo(h,f),_.set(c)},RegularPolygon:function(){for(var u=arguments,l=L.readNamed(u,"center"),h=g.readNamed(u,"sides"),f=g.readNamed(u,"radius"),c=360/h,_=h%3===0,m=new L(0,_?-f:f),p=_?-1:.5,v=new Array(h),S=0;S<h;S++)v[S]=new ce(l.add(m.rotate((S+p)*c)));return i(v,!0,u)},Star:function(){for(var u=arguments,l=L.readNamed(u,"center"),h=g.readNamed(u,"points")*2,f=g.readNamed(u,"radius1"),c=g.readNamed(u,"radius2"),_=360/h,m=new L(0,-1),p=new Array(h),v=0;v<h;v++)p[v]=new ce(l.add(m.rotate(_*v).multiply(v%2?c:f)));return i(p,!0,u)}}}});var Me=ke.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,i){var a=i,u=a[0];u&&typeof u[0]=="number"&&(a=[a]);for(var l=i.length-1;l>=0;l--){var h=a[l];a===i&&!(h instanceof pe)&&(a=g.slice(a)),Array.isArray(h)?a[l]=new pe({segments:h,insert:!1}):h instanceof Me&&(a.splice.apply(a,[l,1].concat(h.removeChildren())),h.remove())}return e.base.call(this,t,a)},reduce:function e(t){for(var i=this._children,a=i.length-1;a>=0;a--){var u=i[a].reduce(t);u.isEmpty()&&u.remove()}if(!i.length){var u=new pe(ae.NO_INSERT);return u.copyAttributes(this),u.insertAbove(this),this.remove(),u}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,i=e.length;t<i;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,i=0,a=t.length;i<a;i++)t[i].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],i=0,a=e.length;i<a;i++)g.push(t,e[i].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getArea();return t},getLength:function(){for(var e=this._children,t=0,i=0,a=e.length;i<a;i++)t+=e[i].getLength();return t},getPathData:function(e,t){for(var i=this._children,a=[],u=0,l=i.length;u<l;u++){var h=i[u],f=h._matrix;a.push(h.getPathData(e&&!f.isIdentity()?e.appended(f):e,t))}return a.join("")},_hitTestChildren:function e(t,i,a){return e.base.call(this,t,i.class===pe||i.type==="path"?i:g.set({},i,{fill:!1}),a)},_draw:function(e,t,i,a){var u=this._children;if(!!u.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var l=0,h=u.length;l<h;l++)u[l].draw(e,t,a);if(!t.clip){this._setStyles(e,t,i);var f=this._style;f.hasFill()&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,i){for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u],f=h._matrix;i[h._id]||h._drawSelected(e,f.isIdentity()?t:t.appended(f))}}},new function(){function e(t,i){var a=t._children;if(i&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var i=e(this,!0);i[t].apply(i,arguments)}},{moveTo:function(){var t=e(this),i=t&&t.isEmpty()?t:new pe(ae.NO_INSERT);i!==t&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var t=e(this,!0),i=t&&t.getLastSegment(),a=L.read(arguments);this.moveTo(i?a.add(i._point):a)},closePath:function(t){e(this,!0).closePath(t)}})},g.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var i=this._children,a,u=0,l=i.length;u<l;u++)a=i[u][e](t)||a;return a}},{}));ke.inject(new function(){var e=Math.min,t=Math.max,i=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function u(C){return C._children||[C]}function l(C,w){var y=C.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(w){for(var P=u(y),T=0,z=P.length;T<z;T++){var C=P[T];!C._closed&&!C.isEmpty()&&(C.closePath(1e-12),C.getFirstSegment().setHandleIn(0,0),C.getLastSegment().setHandleOut(0,0))}y=y.resolveCrossings().reorient(y.getFillRule()==="nonzero",!0)}return y}function h(C,w,y,P,T){var z=new Me(ae.NO_INSERT);return z.addChildren(C,!0),z=z.reduce({simplify:w}),T&&T.insert==!1||z.insertAbove(P&&y.isSibling(P)&&y.getIndex()<P.getIndex()?P:y),z.copyAttributes(y,!0),z}function f(C){return C.hasOverlap()||C.isCrossing()}function c(C,w,y,P){if(P&&(P.trace==!1||P.stroke)&&/^(subtract|intersect)$/.test(y))return _(C,w,y);var T=l(C,!0),z=w&&C!==w&&l(w,!0),E=a[y];E[y]=!0,z&&(E.subtract||E.exclude)^(z.isClockwise()^T.isClockwise())&&z.reverse();var M=S(rt.expand(T.getIntersections(z,f))),A=u(T),N=z&&u(z),D=[],O=[],R;function B(me){for(var Se=0,Ce=me.length;Se<Ce;Se++){var Pe=me[Se];g.push(D,Pe._segments),g.push(O,Pe.getCurves()),Pe._overlapsOnly=!0}}function V(me){for(var Se=[],Ce=0,Pe=me&&me.length;Ce<Pe;Ce++)Se.push(O[me[Ce]]);return Se}if(M.length){B(A),N&&B(N);for(var U=new Array(O.length),W=0,$=O.length;W<$;W++)U[W]=O[W].getValues();for(var ie=X.findCurveBoundsCollisions(U,U,0,!0),le={},W=0;W<O.length;W++){var he=O[W],ee=he._path._id,te=le[ee]=le[ee]||{};te[he.getIndex()]={hor:V(ie[W].hor),ver:V(ie[W].ver)}}for(var W=0,$=M.length;W<$;W++)I(M[W]._segment,T,z,le,E);for(var W=0,$=D.length;W<$;W++){var fe=D[W],de=fe._intersection;fe._winding||I(fe,T,z,le,E),de&&de._overlap||(fe._path._overlapsOnly=!1)}R=b(D,E)}else R=v(N?A.concat(N):A.slice(),function(me){return!!E[me]});return h(R,!0,C,w,P)}function _(C,w,y){var P=l(C),T=l(w),z=P.getIntersections(T,f),E=y==="subtract",M=y==="divide",A={},N=[];function D(B){if(!A[B._id]&&(M||T.contains(B.getPointAt(B.getLength()/2))^E))return N.unshift(B),A[B._id]=!0}for(var O=z.length-1;O>=0;O--){var R=z[O].split();R&&(D(R)&&R.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0))}return D(P),h(N,!1,C,w)}function m(C,w){for(var y=C;y;){if(y===w)return;y=y._previous}for(;C._next&&C._next!==w;)C=C._next;if(!C._next){for(;w._previous;)w=w._previous;C._next=w,w._previous=C}}function p(C){for(var w=C.length-1;w>=0;w--)C[w].clearHandles()}function v(C,w,y){var P=C&&C.length;if(P){var T=g.each(C,function(ie,le){this[ie._id]={container:null,winding:ie.isClockwise()?1:-1,index:le}},{}),z=C.slice().sort(function(ie,le){return i(le.getArea())-i(ie.getArea())}),E=z[0],M=X.findItemBoundsCollisions(z,null,J.GEOMETRIC_EPSILON);y==null&&(y=E.isClockwise());for(var A=0;A<P;A++){var N=z[A],D=T[N._id],O=0,R=M[A];if(R){for(var B=null,V=R.length-1;V>=0;V--)if(R[V]<A){B=B||N.getInteriorPoint();var U=z[R[V]];if(U.contains(B)){var W=T[U._id];O=W.winding,D.winding+=O,D.container=W.exclude?W.container:U;break}}}if(w(D.winding)===w(O))D.exclude=!0,C[D.index]=null;else{var $=D.container;N.setClockwise($?!$.isClockwise():y)}}}return C}function S(C,w,y){var P=w&&[],T=1e-8,z=1-T,E=!1,M=y||[],A=y&&{},N,D,O;function R(Se){return Se._path._id+"."+Se._segment1._index}for(var B=(y&&y.length)-1;B>=0;B--){var V=y[B];V._path&&(A[R(V)]=!0)}for(var B=C.length-1;B>=0;B--){var U=C[B],W=U._time,$=W,ie=w&&!w(U),V=U._curve,le;if(V&&(V!==D?(E=!V.hasHandles()||A&&A[R(V)],N=[],O=null,D=V):O>=T&&(W/=O)),ie){N&&N.push(U);continue}else w&&P.unshift(U);if(O=$,W<T)le=V._segment1;else if(W>z)le=V._segment2;else{var he=V.divideAtTime(W,!0);E&&M.push(V,he),le=he._segment1;for(var ee=N.length-1;ee>=0;ee--){var te=N[ee];te._time=(te._time-W)/(1-W)}}U._setSegment(le);var fe=le._intersection,de=U._intersection;if(fe){m(fe,de);for(var me=fe;me;)m(me._intersection,fe),me=me._next}else le._intersection=de}return y||p(M),P||C}function k(C,w,y,P,T){var z=Array.isArray(w)?w:w[y?"hor":"ver"],E=y?1:0,M=E^1,A=[C.x,C.y],N=A[E],D=A[M],O=1e-9,R=1e-6,B=N-O,V=N+O,U=0,W=0,$=0,ie=0,le=!1,he=!1,ee=1,te=[],fe,de;function me(Ne){var Je=Ne[M+0],et=Ne[M+6];if(!(D<e(Je,et)||D>t(Je,et))){var st=Ne[E+0],zt=Ne[E+2],Dt=Ne[E+4],It=Ne[E+6];if(Je===et){(st<V&&It>B||It<V&&st>B)&&(le=!0);return}var vt=D===Je?0:D===et||B>t(st,zt,Dt,It)||V<e(st,zt,Dt,It)?1:re.solveCubic(Ne,M,D,te,0,1)>0?te[0]:1,ht=vt===0?st:vt===1?It:re.getPoint(Ne,vt)[y?"y":"x"],Mt=Je>et?1:-1,Ht=fe[M]>fe[M+6]?1:-1,sn=fe[E+6];return D!==Je?(ht<B?$+=Mt:ht>V?ie+=Mt:le=!0,ht>N-R&&ht<N+R&&(ee/=2)):(Mt!==Ht?st<B?$+=Mt:st>V&&(ie+=Mt):st!=sn&&(sn<V&&ht>V?(ie+=Mt,le=!0):sn>B&&ht<B&&($+=Mt,le=!0)),ee/=4),fe=Ne,!T&&ht>B&&ht<V&&re.getTangent(Ne,vt)[y?"x":"y"]===0&&k(C,w,!y,P,!0)}}function Se(Ne){var Je=Ne[M+0],et=Ne[M+2],st=Ne[M+4],zt=Ne[M+6];if(D<=t(Je,et,st,zt)&&D>=e(Je,et,st,zt)){for(var Dt=Ne[E+0],It=Ne[E+2],vt=Ne[E+4],ht=Ne[E+6],Mt=B>t(Dt,It,vt,ht)||V<e(Dt,It,vt,ht)?[Ne]:re.getMonoCurves(Ne,y),Ht,sn=0,ws=Mt.length;sn<ws;sn++)if(Ht=me(Mt[sn]))return Ht}}for(var Ce=0,Pe=z.length;Ce<Pe;Ce++){var be=z[Ce],Ee=be._path,We=be.getValues(),Xe;if((!Ce||z[Ce-1]._path!==Ee)&&(fe=null,Ee._closed||(de=re.getValues(Ee.getLastCurve().getSegment2(),be.getSegment1(),null,!P),de[M]!==de[M+6]&&(fe=de)),!fe)){fe=We;for(var Ze=Ee.getLastCurve();Ze&&Ze!==be;){var Le=Ze.getValues();if(Le[M]!==Le[M+6]){fe=Le;break}Ze=Ze.getPrevious()}}if(Xe=Se(We))return Xe;if(Ce+1===Pe||z[Ce+1]._path!==Ee){if(de&&(Xe=Se(de)))return Xe;le&&!$&&!ie&&($=ie=Ee.isClockwise(P)^y?1:-1),U+=$,W+=ie,$=ie=0,le&&(he=!0,le=!1),de=null}}return U=i(U),W=i(W),{winding:t(U,W),windingL:U,windingR:W,quality:ee,onPath:he}}function I(C,w,y,P,T){var z=[],E=C,M=0,O;do{var A=C.getCurve();if(A){var N=A.getLength();z.push({segment:C,curve:A,length:N}),M+=N}C=C.getNext()}while(C&&!C._intersection&&C!==E);for(var D=[.5,.25,.75],O={winding:0,quality:-1},R=.001,B=1-R,V=0;V<D.length&&O.quality<.5;V++)for(var N=M*D[V],U=0,W=z.length;U<W;U++){var $=z[U],ie=$.length;if(N<=ie){var A=$.curve,le=A._path,he=le._parent,ee=he instanceof Me?he:le,te=J.clamp(A.getTimeAt(N),R,B),fe=A.getPointAtTime(te),de=i(A.getTangentAtTime(te).y)<Math.SQRT1_2,me=null;if(T.subtract&&y){var Se=ee===w?y:w,Ce=Se._getWinding(fe,de,!0);if(ee===w&&Ce.winding||ee===y&&!Ce.winding){if(Ce.quality<1)continue;me={winding:0,quality:1}}}me=me||k(fe,P[le._id][A.getIndex()],de,!0),me.quality>O.quality&&(O=me);break}N-=ie}for(var U=z.length-1;U>=0;U--)z[U].segment._winding=O}function b(C,w){var y=[],P;function T(Pe){var be;return!!(Pe&&!Pe._visited&&(!w||w[(be=Pe._winding||{}).winding]&&!(w.unite&&be.winding===2&&be.windingL&&be.windingR)))}function z(Pe){if(Pe){for(var be=0,Ee=P.length;be<Ee;be++)if(Pe===P[be])return!0}return!1}function E(Pe){for(var be=Pe._segments,Ee=0,We=be.length;Ee<We;Ee++)be[Ee]._visited=!0}function M(Pe,be){var Ee=Pe._intersection,We=Ee,Xe=[];be&&(P=[Pe]);function Ze(Le,Ne){for(;Le&&Le!==Ne;){var Je=Le._segment,et=Je&&Je._path;if(et){var st=Je.getNext()||et.getFirstSegment(),zt=st._intersection;Je!==Pe&&(z(Je)||z(st)||st&&T(Je)&&(T(st)||zt&&T(zt._segment)))&&Xe.push(Je),be&&P.push(Je)}Le=Le._next}}if(Ee){for(Ze(Ee);Ee&&Ee._previous;)Ee=Ee._previous;Ze(Ee,We)}return Xe}C.sort(function(Pe,be){var Ee=Pe._intersection,We=be._intersection,Xe=!!(Ee&&Ee._overlap),Ze=!!(We&&We._overlap),Le=Pe._path,Ne=be._path;return Xe^Ze?Xe?1:-1:!Ee^!We?Ee?1:-1:Le!==Ne?Le._id-Ne._id:Pe._index-be._index});for(var A=0,N=C.length;A<N;A++){var D=C[A],O=T(D),R=null,B=!1,V=!0,U=[],W,$,ie;if(O&&D._path._overlapsOnly){var le=D._path,he=D._intersection._segment._path;le.compare(he)&&(le.getArea()&&y.push(le.clone(!1)),E(le),E(he),O=!1)}for(;O;){var ee=!R,te=M(D,ee),fe=te.shift(),B=!ee&&(z(D)||z(fe)),de=!B&&fe;if(ee&&(R=new pe(ae.NO_INSERT),W=null),B){(D.isFirst()||D.isLast())&&(V=D._path._closed),D._visited=!0;break}if(de&&W&&(U.push(W),W=null),W||(de&&te.push(D),W={start:R._segments.length,crossings:te,visited:$=[],handleIn:ie}),de&&(D=fe),!T(D)){R.removeSegments(W.start);for(var me=0,Se=$.length;me<Se;me++)$[me]._visited=!1;$.length=0;do D=W&&W.crossings.shift(),(!D||!D._path)&&(D=null,W=U.pop(),W&&($=W.visited,ie=W.handleIn));while(W&&!T(D));if(!D)break}var Ce=D.getNext();R.add(new ce(D._point,ie,Ce&&D._handleOut)),D._visited=!0,$.push(D),D=Ce||D._path.getFirstSegment(),ie=Ce&&Ce._handleIn}B&&(V&&(R.getFirstSegment().setHandleIn(ie),R.setClosed(V)),R.getArea()!==0&&y.push(R))}return y}return{_getWinding:function(C,w,y){return k(C,this.getCurves(),w,y)},unite:function(C,w){return c(this,C,"unite",w)},intersect:function(C,w){return c(this,C,"intersect",w)},subtract:function(C,w){return c(this,C,"subtract",w)},exclude:function(C,w){return c(this,C,"exclude",w)},divide:function(C,w){return w&&(w.trace==!1||w.stroke)?_(this,C,"divide"):h([this.subtract(C,w),this.intersect(C,w)],!0,this,C,w)},resolveCrossings:function(){var C=this._children,w=C||[this];function y(W,$){var ie=W&&W._intersection;return ie&&ie._overlap&&ie._path===$}var P=!1,T=!1,z=this.getIntersections(null,function(W){return W.hasOverlap()&&(P=!0)||W.isCrossing()&&(T=!0)}),E=P&&T&&[];if(z=rt.expand(z),P)for(var M=S(z,function(W){return W.hasOverlap()},E),A=M.length-1;A>=0;A--){var N=M[A],D=N._path,O=N._segment,R=O.getPrevious(),B=O.getNext();y(R,D)&&y(B,D)&&(O.remove(),R._handleOut._set(0,0),B._handleIn._set(0,0),R!==O&&!R.getCurve().hasLength()&&(B._handleIn.set(R._handleIn),R.remove()))}T&&(S(z,P&&function(W){var $=W.getCurve(),ie=W.getSegment(),le=W._intersection,he=le._curve,ee=le._segment;if($&&he&&$._path&&he._path)return!0;ie&&(ie._intersection=null),ee&&(ee._intersection=null)},E),E&&p(E),w=b(g.each(w,function(W){g.push(this,W._segments)},[])));var V=w.length,U;return V>1&&C?(w!==C&&this.setChildren(w),U=this):V===1&&!C&&(w[0]!==this&&this.setSegments(w[0].removeSegments()),U=this),U||(U=new Me(ae.NO_INSERT),U.addChildren(w),U=U.reduce(),U.copyAttributes(this),this.replaceWith(U)),U},reorient:function(C,w){var y=this._children;return y&&y.length?this.setChildren(v(this.removeChildren(),function(P){return!!(C?P:P&1)},w)):w!==o&&this.setClockwise(w),this},getInteriorPoint:function(){var C=this.getBounds(),w=C.getCenter(!0);if(!this.contains(w)){for(var y=this.getCurves(),P=w.y,T=[],z=[],E=0,M=y.length;E<M;E++){var A=y[E].getValues(),N=A[1],D=A[3],O=A[5],R=A[7];if(P>=e(N,D,O,R)&&P<=t(N,D,O,R))for(var B=re.getMonoCurves(A),V=0,U=B.length;V<U;V++){var W=B[V],$=W[1],ie=W[7];if($!==ie&&(P>=$&&P<=ie||P>=ie&&P<=$)){var le=P===$?W[0]:P===ie?W[6]:re.solveCubic(W,1,P,z,0,1)===1?re.getPoint(W,z[0]).x:(W[0]+W[6])/2;T.push(le)}}}T.length>1&&(T.sort(function(he,ee){return he-ee}),w.x=(T[0]+T[1])/2)}return w}}});var at=g.extend({_class:"PathFlattener",initialize:function(e,t,i,a,u){var l=[],h=[],f=0,c=1/(i||32),_=e._segments,m=_[0],p;function v(b,C){var w=re.getValues(b,C,u);l.push(w),S(w,b._index,0,1)}function S(b,C,w,y){if(y-w>c&&!(a&&re.isStraight(b))&&!re.isFlatEnough(b,t||.25)){var P=re.subdivide(b,.5),T=(w+y)/2;S(P[0],C,w,T),S(P[1],C,T,y)}else{var z=b[6]-b[0],E=b[7]-b[1],M=Math.sqrt(z*z+E*E);M>0&&(f+=M,h.push({offset:f,curve:b,index:C,time:y}))}}for(var k=1,I=_.length;k<I;k++)p=_[k],v(m,p),m=p;e._closed&&v(p||m,_[0]),this.curves=l,this.parts=h,this.length=f,this.index=0},_get:function(e){for(var t=this.parts,i=t.length,a,u=this.index;a=u,!(!u||t[--u].offset<e););for(;a<i;a++){var l=t[a];if(l.offset>=e){this.index=a;var h=t[a-1],f=h&&h.index===l.index?h.time:0,c=h?h.offset:0;return{index:l.index,time:f+(l.time-f)*(e-c)/(l.offset-c)}}}return{index:t[i-1].index,time:1}},drawPart:function(e,t,i){for(var a=this._get(t),u=this._get(i),l=a.index,h=u.index;l<=h;l++){var f=re.getPart(this.curves[l],l===a.index?a.time:0,l===u.index?u.time:1);l===a.index&&e.moveTo(f[0],f[1]),e.bezierCurveTo.apply(e,f.slice(2))}}},g.each(re._evaluateMethods,function(e){this[e+"At"]=function(t){var i=this._get(t);return re[e](this.curves[i.index],i.time)}},{})),St=g.extend({initialize:function(e){for(var t=this.points=[],i=e._segments,a=e._closed,u=0,l,h=i.length;u<h;u++){var f=i[u].point;(!l||!l.equals(f))&&t.push(l=f.clone())}a&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=a},fit:function(e){var t=this.points,i=t.length,a=null;return i>0&&(a=[new ce(t[0])],i>1&&(this.fitCubic(a,e,0,i-1,t[1].subtract(t[0]),t[i-2].subtract(t[i-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(e,t,i,a,u,l){var h=this.points;if(a-i===1){var f=h[i],c=h[a],_=f.getDistance(c)/3;this.addCurve(e,[f,f.add(u.normalize(_)),c.add(l.normalize(_)),c]);return}for(var m=this.chordLengthParameterize(i,a),p=Math.max(t,t*t),v,S=!0,k=0;k<=4;k++){var I=this.generateBezier(i,a,m,u,l),b=this.findMaxError(i,a,I,m);if(b.error<t&&S){this.addCurve(e,I);return}if(v=b.index,b.error>=p)break;S=this.reparameterize(i,a,m,I),p=b.error}var C=h[v-1].subtract(h[v+1]);this.fitCubic(e,t,i,v,u,C),this.fitCubic(e,t,v,a,C.negate(),l)},addCurve:function(e,t){var i=e[e.length-1];i.setHandleOut(t[1].subtract(t[0])),e.push(new ce(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,i,a,u){for(var l=1e-12,h=Math.abs,f=this.points,c=f[e],_=f[t],m=[[0,0],[0,0]],p=[0,0],v=0,S=t-e+1;v<S;v++){var k=i[v],I=1-k,b=3*k*I,C=I*I*I,w=b*I,y=b*k,P=k*k*k,T=a.normalize(w),z=u.normalize(y),E=f[e+v].subtract(c.multiply(C+w)).subtract(_.multiply(y+P));m[0][0]+=T.dot(T),m[0][1]+=T.dot(z),m[1][0]=m[0][1],m[1][1]+=z.dot(z),p[0]+=T.dot(E),p[1]+=z.dot(E)}var M=m[0][0]*m[1][1]-m[1][0]*m[0][1],A,N;if(h(M)>l){var D=m[0][0]*p[1]-m[1][0]*p[0],O=p[0]*m[1][1]-p[1]*m[0][1];A=O/M,N=D/M}else{var R=m[0][0]+m[0][1],B=m[1][0]+m[1][1];A=N=h(R)>l?p[0]/R:h(B)>l?p[1]/B:0}var V=_.getDistance(c),U=l*V,W,$;if(A<U||N<U)A=N=V/3;else{var ie=_.subtract(c);W=a.normalize(A),$=u.normalize(N),W.dot(ie)-$.dot(ie)>V*V&&(A=N=V/3,W=$=null)}return[c,c.add(W||a.normalize(A)),_.add($||u.normalize(N)),_]},reparameterize:function(e,t,i,a){for(var u=e;u<=t;u++)i[u-e]=this.findRoot(a,this.points[u],i[u-e]);for(var u=1,l=i.length;u<l;u++)if(i[u]<=i[u-1])return!1;return!0},findRoot:function(e,t,i){for(var a=[],u=[],l=0;l<=2;l++)a[l]=e[l+1].subtract(e[l]).multiply(3);for(var l=0;l<=1;l++)u[l]=a[l+1].subtract(a[l]).multiply(2);var h=this.evaluate(3,e,i),f=this.evaluate(2,a,i),c=this.evaluate(1,u,i),_=h.subtract(t),m=f.dot(f)+_.dot(c);return J.isMachineZero(m)?i:i-_.dot(f)/m},evaluate:function(e,t,i){for(var a=t.slice(),u=1;u<=e;u++)for(var l=0;l<=e-u;l++)a[l]=a[l].multiply(1-i).add(a[l+1].multiply(i));return a[0]},chordLengthParameterize:function(e,t){for(var i=[0],a=e+1;a<=t;a++)i[a-e]=i[a-e-1]+this.points[a].getDistance(this.points[a-1]);for(var a=1,u=t-e;a<=u;a++)i[a]/=i[u];return i},findMaxError:function(e,t,i,a){for(var u=Math.floor((t-e+1)/2),l=0,h=e+1;h<t;h++){var f=this.evaluate(3,i,a[h-e]),c=f.subtract(this.points[h]),_=c.x*c.x+c.y*c.y;_>=l&&(l=_,u=h)}return{error:l,index:u}}}),Yt=ae.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&g.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(i&&t,!i&&L.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),yn=Yt.extend({_class:"PointText",initialize:function(){Yt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new ge(e.x,e.y,this,"setPoint")},setPoint:function(){var e=L.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,i){if(!!this._content){this._setStyles(e,t,i);var a=this._lines,u=this._style,l=u.hasFill(),h=u.hasStroke(),f=u.getLeading(),c=e.shadowColor;e.font=u.getFontStyle(),e.textAlign=u.getJustification();for(var _=0,m=a.length;_<m;_++){e.shadowColor=c;var p=a[_];l&&(e.fillText(p,0,0),e.shadowColor="rgba(0,0,0,0)"),h&&e.strokeText(p,0,0),e.translate(0,f)}}},_getBounds:function(e,t){var i=this._style,a=this._lines,u=a.length,l=i.getJustification(),h=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),a),c=0;l!=="left"&&(c-=f/(l==="center"?2:1));var _=new q(c,u?-.75*h:0,f,u*h);return e?e._transformBounds(_,_):_}}),Ve=g.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},i={transparent:[0,0,0,0]},a;function u(f){var c=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",m;if(c){var p=c[4]?4:3;m=new Array(p);for(var v=0;v<p;v++){var S=c[v+1];m[v]=parseInt(S.length==1?S+S:S,16)/255}}else if(c=f.match(/^(rgb|hsl)a?\((.*)\)$/)){_=c[1],m=c[2].trim().split(/[,\s]+/g);for(var k=_==="hsl",v=0,I=Math.min(m.length,4);v<I;v++){var b=m[v],S=parseFloat(b);if(k)if(v===0){var C=b.match(/([a-z]*)$/)[1];S*={turn:360,rad:180/Math.PI,grad:.9}[C]||1}else v<3&&(S/=100);else v<3&&(S/=/%$/.test(b)?100:255);m[v]=S}}else{var w=i[f];if(!w)if(d){a||(a=_t.getContext(1,1),a.globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=f,a.fillRect(0,0,1,1);var y=a.getImageData(0,0,1,1).data;w=i[f]=[y[0]/255,y[1]/255,y[2]/255]}else w=[0,0,0];m=w.slice()}return[_,m]}var l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(f,c,_){var m=Math.max(f,c,_),p=Math.min(f,c,_),v=m-p,S=v===0?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60;return[S,m===0?0:v/m,m]},"hsb-rgb":function(f,c,_){f=(f/60%6+6)%6;var p=Math.floor(f),m=f-p,p=l[p],v=[_,_*(1-c),_*(1-c*m),_*(1-c*(1-m))];return[v[p[0]],v[p[1]],v[p[2]]]},"rgb-hsl":function(f,c,_){var m=Math.max(f,c,_),p=Math.min(f,c,_),v=m-p,S=v===0,k=S?0:(m==f?(c-_)/v+(c<_?6:0):m==c?(_-f)/v+2:(f-c)/v+4)*60,I=(m+p)/2,b=S?0:I<.5?v/(m+p):v/(2-m-p);return[k,b,I]},"hsl-rgb":function(f,c,_){if(f=(f/360%1+1)%1,c===0)return[_,_,_];for(var m=[f+1/3,f,f-1/3],p=_<.5?_*(1+c):_+c-_*c,v=2*_-p,S=[],k=0;k<3;k++){var I=m[k];I<0&&(I+=1),I>1&&(I-=1),S[k]=6*I<1?v+(p-v)*6*I:2*I<1?p:3*I<2?v+(p-v)*(2/3-I)*6:v}return S},"rgb-gray":function(f,c,_){return[f*.2989+c*.587+_*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(e,function(f,c){t[c]=[],g.each(f,function(_,m){var p=g.capitalize(_),v=/^(hue|saturation)$/.test(_),S=t[c][m]=c==="gradient"?_==="gradient"?function(k){var I=this._components[0];return k=Ft.read(Array.isArray(k)?k:arguments,0,{readNull:!0}),I!==k&&(I&&I._removeOwner(this),k&&k._addOwner(this)),k}:function(){return L.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(k){return k==null||isNaN(k)?0:+k};this["get"+p]=function(){return this._type===c||v&&/^hs[bl]$/.test(this._type)?this._components[m]:this._convert(c)[m]},this["set"+p]=function(k){this._type!==c&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(c),this._properties=e[c],this._type=c),this._components[m]=S.call(this,k),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(c){var _=arguments,m=this.__read,p=0,v,S,k,I;Array.isArray(c)&&(_=c,c=_[0]);var b=c!=null&&typeof c;if(b==="string"&&c in e&&(v=c,c=_[1],Array.isArray(c)?(S=c,k=_[2]):(m&&(p=1),_=g.slice(_,1),b=typeof c)),!S){if(I=b==="number"?_:b==="object"&&c.length!=null?c:null,I){v||(v=I.length>=3?"rgb":"gray");var C=e[v].length;k=I[C],m&&(p+=I===arguments?C+(k!=null?1:0):1),I.length>C&&(I=g.slice(I,0,C))}else if(b==="string"){var w=u(c);v=w[0],S=w[1],S.length===4&&(k=S[3],S.length--)}else if(b==="object")if(c.constructor===f){if(v=c._type,S=c._components.slice(),k=c._alpha,v==="gradient")for(var y=1,P=S.length;y<P;y++){var T=S[y];T&&(S[y]=T.clone())}}else if(c.constructor===Ft)v="gradient",I=_;else{v="hue"in c?"lightness"in c?"hsl":"hsb":"gradient"in c||"stops"in c||"radial"in c?"gradient":"gray"in c?"gray":"rgb";var z=e[v],E=t[v];this._components=S=[];for(var y=0,P=z.length;y<P;y++){var M=c[z[y]];M==null&&!y&&v==="gradient"&&"stops"in c&&(M={stops:c.stops,radial:c.radial}),M=E[y].call(this,M),M!=null&&(S[y]=M)}k=c.alpha}m&&v&&(p=1)}if(this._type=v||"rgb",!S){this._components=S=[];for(var E=t[this._type],y=0,P=E.length;y<P;y++){var M=E[y].call(this,I&&I[y]);M!=null&&(S[y]=M)}}return this._components=S,this._properties=e[this._type],this._alpha=k,m&&(this.__read=p),this},set:"#initialize",_serialize:function(f,c){var _=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),f,!0,c)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var c;return this._type===f?this._components.slice():(c=h[this._type+"-"+f])?c.apply(this,this._components):h["rgb-"+f].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new Ve(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=e[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var c=g.isPlainValue(f,!0)?Ve.read(arguments):f;return c===this||c&&this._class===c._class&&this._type===c._type&&this.getAlpha()===c.getAlpha()&&g.equals(this._components,c._components)||!1},toString:function(){for(var f=this._properties,c=[],_=this._type==="gradient",m=se.instance,p=0,v=f.length;p<v;p++){var S=this._components[p];S!=null&&c.push(f[p]+": "+(_?S:m.number(S)))}return this._alpha!=null&&c.push("alpha: "+m.number(this._alpha)),"{ "+c.join(", ")+" }"},toCSS:function(f){var c=this._convert("rgb"),_=f||this._alpha==null?1:this._alpha;function m(p){return Math.round((p<0?0:p>1?1:p)*255)}return c=[m(c[0]),m(c[1]),m(c[2])],_<1&&c.push(_<0?0:_),f?"#"+((1<<24)+(c[0]<<16)+(c[1]<<8)+c[2]).toString(16).slice(1):(c.length==4?"rgba(":"rgb(")+c.join(",")+")"},toCanvasStyle:function(f,c){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,m=_[0],p=m._stops,v=_[1],S=_[2],k=_[3],I=c&&c.inverted(),b;if(I&&(v=I._transformPoint(v),S=I._transformPoint(S),k&&(k=I._transformPoint(k))),m._radial){var C=S.getDistance(v);if(k){var w=k.subtract(v);w.getLength()>C&&(k=v.add(w.normalize(C-.1)))}var y=k||v;b=f.createRadialGradient(y.x,y.y,0,v.x,v.y,C)}else b=f.createLinearGradient(v.x,v.y,S.x,S.y);for(var P=0,T=p.length;P<T;P++){var z=p[P],E=z._offset;b.addColorStop(E==null?P/(T-1):E,z._color.toCanvasStyle())}return this._canvasStyle=b},transform:function(f){if(this._type==="gradient"){for(var c=this._components,_=1,m=c.length;_<m;_++){var p=c[_];f._transformPoint(p,p,!0)}this._changed()}},statics:{_types:e,random:function(){var f=Math.random;return new Ve(f(),f(),f())},_setOwner:function(f,c,_){return f&&(f._owner&&c&&f._owner!==c&&(f=f.clone()),!f._owner^!c&&(f._owner=c||null,f._setter=_||null)),f}}})},new function(){var e={add:function(t,i){return t+i},subtract:function(t,i){return t-i},multiply:function(t,i){return t*i},divide:function(t,i){return t/i}};return g.each(e,function(t,i){this[i]=function(a){a=Ve.read(arguments);for(var u=this._type,l=this._components,h=a._convert(u),f=0,c=l.length;f<c;f++)h[f]=t(l[f],h[f]);return new Ve(u,h,this._alpha!=null?t(this._alpha,a.getAlpha()):null)}},{})}),Ft=g.extend({_class:"Gradient",initialize:function(t,i){this._id=ne.get(),t&&g.isPlainObject(t)&&(this.set(t),t=i=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(e,t){return t.add(this,function(){return g.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=o))},clone:function(){for(var e=[],t=0,i=this._stops.length;t<i;t++)e[t]=this._stops[t].clone();return new Ft(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var i=0,a=t.length;i<a;i++)t[i]._owner=o;t=this._stops=cn.readList(e,0,{clone:!0});for(var i=0,a=t.length;i<a;i++)t[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,i=e._stops,a=t.length;if(a===i.length){for(var u=0;u<a;u++)if(!t[u].equals(i[u]))return!1;return!0}}return!1}}),cn=g.extend({_class:"GradientStop",initialize:function(t,i){var a=t,u=i;typeof t=="object"&&i===o&&(Array.isArray(t)&&typeof t[0]!="number"?(a=t[0],u=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(a=t.color,u=t.offset||t.rampPoint||0)),this.setColor(a),this.setOffset(u)},clone:function(){return new cn(this._color.clone(),this._offset)},_serialize:function(e,t){var i=this._color,a=this._offset;return g.serialize(a==null?[i]:[i,a],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ve._setOwner(this._color,null),this._color=Ve._setOwner(Ve.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Si=g.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new L,selectedColor:null},t=g.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=g.set({},t,{fillColor:new Ve}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},u={beans:!0},l={_class:"Style",beans:!0,initialize:function(f,c,_){this._values={},this._owner=c,this._project=c&&c._project||_||r.project,this._defaults=!c||c instanceof ye?t:c instanceof Yt?i:e,f&&this.set(f)}};return g.each(t,function(h,f){var c=/Color$/.test(f),_=f==="shadowOffset",m=g.capitalize(f),p=a[f],v="set"+m,S="get"+m;l[v]=function(k){var I=this._owner,b=I&&I._children,C=b&&b.length>0&&!(I instanceof Me);if(C)for(var w=0,y=b.length;w<y;w++)b[w]._style[v](k);if((f==="selectedColor"||!C)&&f in this._defaults){var P=this._values[f];P!==k&&(c&&(P&&(Ve._setOwner(P,null),P._canvasStyle=null),k&&k.constructor===Ve&&(k=Ve._setOwner(k,I,C&&v))),this._values[f]=k,I&&I._changed(p||129))}},l[S]=function(k){var I=this._owner,b=I&&I._children,C=b&&b.length>0&&!(I instanceof Me),w;if(C&&!k)for(var y=0,P=b.length;y<P;y++){var T=b[y]._style[S]();if(!y)w=T;else if(!g.equals(w,T))return o}else if(f in this._defaults){var w=this._values[f];if(w===o)w=this._defaults[f],w&&w.clone&&(w=w.clone());else{var z=c?Ve:_?L:null;z&&!(w&&w.constructor===z)&&(this._values[f]=w=z.read([w],0,{readNull:!0,clone:!0}))}}return w&&c&&(w=Ve._setOwner(w,I,C&&v)),w},u[S]=function(k){return this._style[S](k)},u[v]=function(k){this._style[v](k)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,f){var c="get"+f,_="set"+f;l[c]=u[c]="#get"+h,l[_]=u[_]="#set"+h}),ae.inject(u),l},{set:function(e){var t=e instanceof Si,i=t?e._values:e;if(i){for(var a in i)if(a in this._defaults){var u=i[a];this[a]=u&&t&&u.clone?u.clone():u}}},equals:function(e){function t(i,a,u){var l=i._values,h=a._values,f=a._defaults;for(var c in l){var _=l[c],m=h[c];if(!(u&&c in h)&&!g.equals(_,m===o?f[c]:m))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),t!=null?t:i*1.2}}),Be=new function(){function e(t,i,a,u){for(var l=["","webkit","moz","Moz","ms","o"],h=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var c=l[f],_=c?c+h:i;if(_ in t){if(a)t[_]=u;else return t[_];break}}}return{getStyles:function(t){var i=t&&t.nodeType!==9?t.ownerDocument:t,a=i&&i.defaultView;return a&&a.getComputedStyle(t,"")},getBounds:function(t,i){var a=t.ownerDocument,u=a.body,l=a.documentElement,h;try{h=t.getBoundingClientRect()}catch(m){h={left:0,top:0,width:0,height:0}}var f=h.left-(l.clientLeft||u.clientLeft||0),c=h.top-(l.clientTop||u.clientTop||0);if(!i){var _=a.defaultView;f+=_.pageXOffset||l.scrollLeft||u.scrollLeft,c+=_.pageYOffset||l.scrollTop||u.scrollTop}return new q(f,c,h.width,h.height)},getViewportBounds:function(t){var i=t.ownerDocument,a=i.defaultView,u=i.documentElement;return new q(0,0,a.innerWidth||u.clientWidth,a.innerHeight||u.clientHeight)},getOffset:function(t,i){return Be.getBounds(t,i).getPoint()},getSize:function(t){return Be.getBounds(t,!0).getSize()},isInvisible:function(t){return Be.getSize(t).equals(new Y(0,0))},isInView:function(t){return!Be.isInvisible(t)&&Be.getViewportBounds(t).intersects(Be.getBounds(t,!0))},isInserted:function(t){return x.body.contains(t)},getPrefixed:function(t,i){return t&&e(t,i)},setPrefixed:function(t,i,a){if(typeof i=="object")for(var u in i)e(t,u,!0,i[u]);else e(t,i,!0,a)}}},He={add:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++){var f=u[l],c=e===x&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;e.addEventListener(f,a,c)}},remove:function(e,t){if(e)for(var i in t)for(var a=t[i],u=i.split(/[\s,]+/g),l=0,h=u.length;l<h;l++)e.removeEventListener(u[l],a,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new L(t.pageX||t.clientX+x.documentElement.scrollLeft,t.pageY||t.clientY+x.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return He.getPoint(e).subtract(Be.getOffset(t||He.getTarget(e)))}};He.requestAnimationFrame=new function(){var e=Be.getPrefixed(d,"requestAnimationFrame"),t=!1,i=[],a;function u(){var l=i;i=[];for(var h=0,f=l.length;h<f;h++)l[h]();t=e&&i.length,t&&e(u)}return function(l){i.push(l),e?t||(e(u),t=!0):a||(a=setInterval(u,1e3/60))}};var Re=g.extend(F,{_class:"View",initialize:function e(t,i){function a(p){return i[p]||parseInt(i.getAttribute(p),10)}function u(){var p=Be.getSize(i);return p.isNaN()||p.isZero()?new Y(a("width"),a("height")):p}var l;if(d&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+e._id++),He.add(i,this._viewEvents);var h="none";if(Be.setPrefixed(i.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),H.hasAttribute(i,"resize")){var f=this;He.add(d,this._windowEvents={resize:function(){f.setViewSize(u())}})}if(l=u(),H.hasAttribute(i,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var c=this._stats.domElement,_=c.style,m=Be.getOffset(i);_.position="absolute",_.left=m.x+"px",_.top=m.y+"px",x.body.appendChild(c)}}else l=new Y(i),i=null;this._project=t,this._scope=t._scope,this._element=i,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new G)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Re._focused===this&&(Re._focused=null),Re._views.splice(Re._views.indexOf(this),1),delete Re._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),He.remove(this._element,this._viewEvents),He.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(ae._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;He.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!Be.getPrefixed(x,"hidden")||H.getAttribute(t,"keepalive")==="true")&&Be.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new g({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var i=this._frameItems;t?(i[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var i=this._frameItems[t];i.item.emit("frame",new g(e,{time:i.time+=e.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new Ae(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=Y.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var i=this._element;i&&(i.width!==e&&(i.width=e),i.height!==t&&(i.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new q(new L,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Be.isInView(this._element)},isInserted:function(){return Be.isInserted(this._element)},getPixelSize:function(e){var t=this._element,i;if(t){var a=t.parentNode,u=x.createElement("div");u.style.fontSize=e,a.appendChild(u),i=parseFloat(Be.getStyles(u).fontSize),a.removeChild(u)}else i=parseFloat(i);return i},getTextWidth:function(e,t){return 0}},g.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var i=arguments,a=(t?g:L).read(i),u=L.read(i,0,{readNull:!0});return this.transform(new G()[e](a,u||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new G;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=L.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new G().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new ge(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=L.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(L.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(L.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(L.read(arguments))},getEventPoint:function(e){return this.viewToProject(He.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){x&&typeof t=="string"&&(t=x.getElementById(t));var i=d?Qa:Re;return new i(e,t)}}},new function(){if(!d)return;var e,t,i=!1,a=!1;function u(O){var R=He.getTarget(O);return R.getAttribute&&Re._viewsById[R.getAttribute("id")]}function l(){var O=Re._focused;if(!O||!O.isVisible()){for(var R=0,B=Re._views.length;R<B;R++)if((O=Re._views[R]).isVisible()){Re._focused=t=O;break}}}function h(O,R,B){O._handleMouseEvent("mousemove",R,B)}var f=d.navigator,c,_,m;f.pointerEnabled||f.msPointerEnabled?(c="pointerdown MSPointerDown",_="pointermove MSPointerMove",m="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",_="touchmove",m="touchend touchcancel","ontouchstart"in d&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",_+=" mousemove",m+=" mouseup"));var p={},v={mouseout:function(O){var R=Re._focused,B=He.getRelatedTarget(O);if(R&&(!B||B.nodeName==="HTML")){var V=He.getOffset(O,R._element),U=V.x,W=Math.abs,$=W(U),ie=1<<25,le=$-ie;V.x=W(le)<$?le*(U<0?-1:1):U,h(R,O,R.viewToProject(V))}},scroll:l};p[c]=function(O){var R=Re._focused=u(O);i||(i=!0,R._handleMouseEvent("mousedown",O))},v[_]=function(O){var R=Re._focused;if(!a){var B=u(O);B?R!==B&&(R&&h(R,O),e||(e=R),R=Re._focused=t=B):t&&t===R&&(e&&!e.isInserted()&&(e=null),R=Re._focused=e,e=null,l())}R&&h(R,O)},v[c]=function(){a=!0},v[m]=function(O){var R=Re._focused;R&&i&&R._handleMouseEvent("mouseup",O),a=i=!1},He.add(x,v),He.add(d,{load:l});var S=!1,k=!1,I={doubleclick:"click",mousedrag:"mousemove"},b=!1,C,w,y,P,T,z,E,M;function A(O,R,B,V,U,W,$){var ie=!1,le;function he(ee,te){if(ee.responds(te)){if(le||(le=new Xa(te,V,U,R||ee,W?U.subtract(W):null)),ee.emit(te,le)&&(S=!0,le.prevented&&(k=!0),le.stopped))return ie=!0}else{var fe=I[te];if(fe)return he(ee,fe)}}for(;O&&O!==$&&!he(O,B);)O=O._parent;return ie}function N(O,R,B,V,U,W){return O._project.removeOn(B),k=S=!1,T&&A(T,null,B,V,U,W)||R&&R!==T&&!R.isDescendant(T)&&A(R,null,B==="mousedrag"?"mousemove":B,V,U,W,T)||A(O,T||R||O,B,V,U,W)}var D={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:p,_handleMouseEvent:function(O,R,B){var V=this._itemEvents,U=V.native[O],W=O==="mousemove",$=this._scope.tool,ie=this;function le(Se){return V.virtual[Se]||ie.responds(Se)||$&&$.responds(Se)}W&&i&&le("mousedrag")&&(O="mousedrag"),B||(B=this.getEventPoint(R));var he=this.getBounds().contains(B),ee=U&&he&&ie._project.hitTest(B,{tolerance:0,fill:!0,stroke:!0}),te=ee&&ee.item||null,fe=!1,de={};if(de[O.substr(5)]=!0,U&&te!==P&&(P&&A(P,null,"mouseleave",R,B),te&&A(te,null,"mouseenter",R,B),P=te),b^he&&(A(this,null,he?"mouseenter":"mouseleave",R,B),fe=!0),(he||de.drag)&&!B.equals(w)&&(N(this,te,W?O:"mousemove",R,B,w),fe=!0),b=he,de.down&&he||de.up&&C){if(N(this,te,O,R,B,C),de.down){if(M=te===z&&Date.now()-E<300,y=z=te,!k&&te){for(var me=te;me&&!me.responds("mousedrag");)me=me._parent;me&&(T=te)}C=B}else de.up&&(!k&&te===y&&(E=Date.now(),N(this,te,M?"doubleclick":"click",R,B,C),M=!1),y=T=null);b=!1,fe=!0}w=B,fe&&$&&(S=$._handleMouseEvent(O,R,B,de)||S),R.cancelable!==!1&&(S&&!de.move||de.down&&le("mouseup"))&&R.preventDefault()},_handleKeyEvent:function(O,R,B,V){var U=this._scope,W=U.tool,$;function ie(le){le.responds(O)&&(r=U,le.emit(O,$=$||new Ka(O,R,B,V)))}this.isVisible()&&(ie(this),W&&W.responds(O)&&ie(W))},_countItemEvent:function(O,R){var B=this._itemEvents,V=B.native,U=B.virtual;for(var W in D)V[W]=(V[W]||0)+(D[W][O]||0)*R;U[O]=(U[O]||0)+R},statics:{updateFocus:l,_resetState:function(){i=a=S=b=!1,e=t=C=w=y=P=T=z=E=M=null}}}}),Qa=Re.extend({_class:"CanvasView",initialize:function(t,i){if(!(i instanceof d.HTMLCanvasElement)){var a=Y.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));i=_t.getCanvas(a)}var u=this._context=i.getContext("2d");if(u.save(),this._pixelRatio=1,!/^off|false$/.test(H.getAttribute(i,"hidpi"))){var l=d.devicePixelRatio||1,h=Be.getPrefixed(u,"backingStorePixelRatio")||1;this._pixelRatio=l/h}Re.call(this,t,i),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,i){var a=this._pixelRatio;if(e.base.call(this,t*a,i*a),a!==1){var u=this._element,l=this._context;if(!H.hasAttribute(u,"resize")){var h=u.style;h.width=t+"px",h.height=i+"px"}l.restore(),l.save(),l.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function e(t){var i=r.agent,a;if(i&&i.firefox)a=e.base.call(this,t);else{var u=this._context,l=u.font;u.font=t+" serif",a=parseFloat(u.font),u.font=l}return a},getTextWidth:function(e,t){var i=this._context,a=i.font,u=0;i.font=e;for(var l=0,h=t.length;l<h;l++)u=Math.max(u,i.measureText(t[l]).width);return i.font=a,u},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,i=this._viewSize;return t.clearRect(0,0,i.width+1,i.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Dn=g.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Cr.modifiers}}),Ka=Dn.extend({_class:"KeyEvent",initialize:function(t,i,a,u){this.type=t,this.event=i,this.key=a,this.character=u},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Cr=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},i={},a={},u,l,h=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=r&&r.agent;return _&&_.mac?this.meta:this.control}}});function f(_){var m=_.key||_.keyIdentifier;return m=/^U\+/.test(m)?String.fromCharCode(parseInt(m.substr(2),16)):/^Arrow[A-Z]/.test(m)?m.substr(5):m==="Unidentified"||m===o?String.fromCharCode(_.keyCode):m,e[m]||(m.length>1?g.hyphenate(m):m.toLowerCase())}function c(_,m,p,v){var S=Re._focused,k;if(i[m]=_,_?a[m]=p:delete a[m],m.length>1&&(k=g.camelize(m))in h){h[k]=_;var I=r&&r.agent;if(k==="meta"&&I&&I.mac)if(_)u={};else{for(var b in u)b in a&&c(!1,b,u[b],v);u=null}}else _&&u&&(u[m]=p);S&&S._handleKeyEvent(_?"keydown":"keyup",v,m,p)}return He.add(x,{keydown:function(_){var m=f(_),p=r&&r.agent;m.length>1||p&&p.chrome&&(_.altKey||p.mac&&_.metaKey||!p.mac&&_.ctrlKey)?c(!0,m,t[m]||(m.length>1?"":m),_):l=m},keypress:function(_){if(l){var m=f(_),p=_.charCode,v=p>=32?String.fromCharCode(p):m.length>1?"":m;m!==l&&(m=v.toLowerCase()),c(!0,m,v,_),l=null}},keyup:function(_){var m=f(_);m in a&&c(!1,m,a[m],_)}}),He.add(d,{blur:function(_){for(var m in a)c(!1,m,a[m],_)}}),{modifiers:h,isDown:function(_){return!!i[_]}}},Xa=Dn.extend({_class:"MouseEvent",initialize:function(t,i,a,u,l){this.type=t,this.event=i,this.point=a,this.target=u,this.delta=l},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ja=Dn.extend({_class:"ToolEvent",_item:null,initialize:function(t,i,a){this.tool=t,this.type=i,this.event=a},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,i=t._parent;/^(Group|CompoundPath)$/.test(i._class);)t=i,i=i._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ya=j.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){j.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,i,a){r=this._scope,a.drag&&!this.responds(e)&&(e="mousemove");var u=a.move||a.drag,l=this.responds(e),h=this.minDistance,f=this.maxDistance,c=!1,_=this;function m(v,S){var k=i,I=u?_._point:_._downPoint||k;if(u){if(_._moveCount>=0&&k.equals(I))return!1;if(I&&(v!=null||S!=null)){var b=k.subtract(I),C=b.getLength();if(C<(v||0))return!1;S&&(k=I.add(b.normalize(Math.min(C,S))))}_._moveCount++}return _._point=k,_._lastPoint=I||k,a.down&&(_._moveCount=-1,_._downPoint=k,_._downCount++),!0}function p(){l&&(c=_.emit(e,new Ja(_,e,t))||c)}if(a.down)m(),p();else if(a.up)m(null,f),p();else if(l)for(;m(h,f);)p();return c}}),$a=g.extend(F,{_class:"Tween",statics:{easings:new g({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,i,a,u,l,h){this.object=t;var f=typeof l,c=f==="function";this.type=c?f:f==="string"?l:"linear",this.easing=c?l:e.easings[this.type],this.duration=u,this.running=!1,this._then=null,this._startTime=null;var _=i||a;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(i),this._to=_&&this._getState(a),h!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),i=this._keys,a=function(m){return typeof m=="function"?m(t,e):m},u=0,l=i&&i.length;u<l;u++){var h=i[u],f=a(this._from[h]),c=a(this._to[h]),_=f&&c&&f.__add&&c.__add?c.__subtract(f).__multiply(t).__add(f):(c-f)*t+f;this._setProperty(this._parsedKeys[h],_)}this.responds("update")&&this.emit("update",new g({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,i=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(i)},_getState:function(e){for(var t=this._keys,i={},a=0,u=t.length;a<u;a++){var l=t[a],h=this._parsedKeys[l],f=this._getProperty(h),c;if(e){var _=this._resolveValue(f,e[l]);this._setProperty(h,_),c=this._getProperty(h),c=c&&c.clone?c.clone():c,this._setProperty(h,f)}else c=f&&f.clone?f.clone():f;i[l]=c}return i},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var i=t[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(e,i[0],t[1]):t}else if(typeof t=="string"){var a=t.match(/^[+\-*/]=(.*)/);if(a){var u=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],u)}}}return t},_calculate:function(e,t,i){return r.PaperScript.calculateBinary(e,t,i)},_parseKeys:function(e){for(var t={},i=0,a=e.length;i<a;i++){var u=e[i],l=u.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[u]=l.split("/")}return t},_getProperty:function(e,t){for(var i=this.object,a=0,u=e.length-(t||0);a<u&&i;a++)i=i[e[a]];return i},_setProperty:function(e,t){var i=this._getProperty(e,1);i&&(i[e[e.length-1]]=t)}}),Ct={request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,g.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var i=t.status;i===0||i===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var i=t.status,a='Could not load "'+e.url+'" (Status: '+i+")";if(e.onError)e.onError(a,i);else throw new Error(a)},t.send(null)}},_t=g.exports.CanvasProvider={canvases:[],getCanvas:function(e,t){if(!d)return null;var i,a=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?i=this.canvases.pop():(i=x.createElement("canvas"),a=!1);var u=i.getContext("2d");if(!u)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===e&&i.height===t?a&&u.clearRect(0,0,e+1,t+1):(i.width=e,i.height=t),u.save(),i},getContext:function(e,t){var i=this.getCanvas(e,t);return i?i.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},lt=new function(){var e=Math.min,t=Math.max,i=Math.abs,a,u,l,h,f,c,_,m,p,v,S;function k(T,z,E){return .2989*T+.587*z+.114*E}function I(T,z,E,N){var A=N-k(T,z,E);p=T+A,v=z+A,S=E+A;var N=k(p,v,S),D=e(p,v,S),O=t(p,v,S);if(D<0){var R=N-D;p=N+(p-N)*N/R,v=N+(v-N)*N/R,S=N+(S-N)*N/R}if(O>255){var B=255-N,V=O-N;p=N+(p-N)*B/V,v=N+(v-N)*B/V,S=N+(S-N)*B/V}}function b(T,z,E){return t(T,z,E)-e(T,z,E)}function C(T,z,E,M){var A=[T,z,E],N=t(T,z,E),D=e(T,z,E),O;D=D===T?0:D===z?1:2,N=N===T?0:N===z?1:2,O=e(D,N)===0?t(D,N)===1?2:1:0,A[N]>A[D]?(A[O]=(A[O]-A[D])*M/(A[N]-A[D]),A[N]=M):A[O]=A[N]=0,A[D]=0,p=A[0],v=A[1],S=A[2]}var w={multiply:function(){p=f*a/255,v=c*u/255,S=_*l/255},screen:function(){p=f+a-f*a/255,v=c+u-c*u/255,S=_+l-_*l/255},overlay:function(){p=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255,S=_<128?2*_*l/255:255-2*(255-_)*(255-l)/255},"soft-light":function(){var T=a*f/255;p=T+f*(255-(255-f)*(255-a)/255-T)/255,T=u*c/255,v=T+c*(255-(255-c)*(255-u)/255-T)/255,T=l*_/255,S=T+_*(255-(255-_)*(255-l)/255-T)/255},"hard-light":function(){p=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255,S=l<128?2*l*_/255:255-2*(255-l)*(255-_)/255},"color-dodge":function(){p=f===0?0:a===255?255:e(255,255*f/(255-a)),v=c===0?0:u===255?255:e(255,255*c/(255-u)),S=_===0?0:l===255?255:e(255,255*_/(255-l))},"color-burn":function(){p=f===255?255:a===0?0:t(0,255-(255-f)*255/a),v=c===255?255:u===0?0:t(0,255-(255-c)*255/u),S=_===255?255:l===0?0:t(0,255-(255-_)*255/l)},darken:function(){p=f<a?f:a,v=c<u?c:u,S=_<l?_:l},lighten:function(){p=f>a?f:a,v=c>u?c:u,S=_>l?_:l},difference:function(){p=f-a,p<0&&(p=-p),v=c-u,v<0&&(v=-v),S=_-l,S<0&&(S=-S)},exclusion:function(){p=f+a*(255-f-f)/255,v=c+u*(255-c-c)/255,S=_+l*(255-_-_)/255},hue:function(){C(a,u,l,b(f,c,_)),I(p,v,S,k(f,c,_))},saturation:function(){C(f,c,_,b(a,u,l)),I(p,v,S,k(f,c,_))},luminosity:function(){I(f,c,_,k(a,u,l))},color:function(){I(a,u,l,k(f,c,_))},add:function(){p=e(f+a,255),v=e(c+u,255),S=e(_+l,255)},subtract:function(){p=t(f-a,0),v=t(c-u,0),S=t(_-l,0)},average:function(){p=(f+a)/2,v=(c+u)/2,S=(_+l)/2},negation:function(){p=255-i(255-a-f),v=255-i(255-u-c),S=255-i(255-l-_)}},y=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(T){this[T]=!0},{}),P=_t.getContext(1,1);P&&(g.each(w,function(T,z){var E=z==="darken",M=!1;P.save();try{P.fillStyle=E?"#300":"#a00",P.fillRect(0,0,1,1),P.globalCompositeOperation=z,P.globalCompositeOperation===z&&(P.fillStyle=E?"#a00":"#300",P.fillRect(0,0,1,1),M=P.getImageData(0,0,1,1).data[0]!==E?170:51)}catch(A){}P.restore(),y[z]=M}),_t.release(P)),this.process=function(T,z,E,M,A){var N=z.canvas,D=T==="normal";if(D||y[T])E.save(),E.setTransform(1,0,0,1,0,0),E.globalAlpha=M,D||(E.globalCompositeOperation=T),E.drawImage(N,A.x,A.y),E.restore();else{var O=w[T];if(!O)return;for(var R=E.getImageData(A.x,A.y,N.width,N.height),B=R.data,V=z.getImageData(0,0,N.width,N.height).data,U=0,W=B.length;U<W;U+=4){a=V[U],f=B[U],u=V[U+1],c=B[U+1],l=V[U+2],_=B[U+2],h=V[U+3],m=B[U+3],O();var $=h*M/255,ie=1-$;B[U]=$*p+ie*f,B[U+1]=$*v+ie*c,B[U+2]=$*S+ie*_,B[U+3]=h*M+ie*m}E.putImageData(R,A.x,A.y)}}},dt=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",a={href:i,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function u(f,c,_){return h(x.createElementNS(e,f),c,_)}function l(f,c){var _=a[c],m=_?f.getAttributeNS(_,c):f.getAttribute(c);return m==="null"?null:m}function h(f,c,_){for(var m in c){var p=c[m],v=a[m];typeof p=="number"&&_&&(p=_.number(p)),v?f.setAttributeNS(v,m,p):f.setAttribute(m,p)}return f}return{svg:e,xmlns:t,xlink:i,create:u,get:l,set:h}},qe=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof ke||e instanceof Te||e instanceof Yt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var i=g.capitalize(t),a=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:a,fromSVG:a&&g.each(a,function(u,l){this[u]=l},{}),exportFilter:e[3],get:"get"+i,set:"set"+i}},{});new function(){var e;function t(w,y,P){var T=new g,z=w.getTranslation();if(y){var E;w.isInvertible()?(w=w._shiftless(),E=w._inverseTransform(z),z=null):E=new L,T[P?"cx":"x"]=E.x,T[P?"cy":"y"]=E.y}if(!w.isIdentity()){var M=w.decompose();if(M){var A=[],N=M.rotation,D=M.scaling,O=M.skewing;z&&!z.isZero()&&A.push("translate("+e.point(z)+")"),N&&A.push("rotate("+e.number(N)+")"),(!J.isZero(D.x-1)||!J.isZero(D.y-1))&&A.push("scale("+e.point(D)+")"),O.x&&A.push("skewX("+e.number(O.x)+")"),O.y&&A.push("skewY("+e.number(O.y)+")"),T.transform=A.join(" ")}else T.transform="matrix("+w.getValues().join(",")+")"}return T}function i(w,y){for(var P=t(w._matrix),T=w._children,z=dt.create("g",P,e),E=0,M=T.length;E<M;E++){var A=T[E],N=b(A,y);if(N)if(A.isClipMask()){var D=dt.create("clipPath");D.appendChild(N),k(A,D,"clip"),dt.set(z,{"clip-path":"url(#"+D.id+")"})}else z.appendChild(N)}return z}function a(w,y){var P=t(w._matrix,!0),T=w.getSize(),z=w.getImage();return P.x-=T.width/2,P.y-=T.height/2,P.width=T.width,P.height=T.height,P.href=y.embedImages==!1&&z&&z.src||w.toDataURL(),dt.create("image",P,e)}function u(w,y){var P=y.matchShapes;if(P){var T=w.toShape(!1);if(T)return l(T)}var z=w._segments,E=z.length,M,A=t(w._matrix);if(P&&E>=2&&!w.hasHandles())if(E>2){M=w._closed?"polygon":"polyline";for(var N=[],D=0;D<E;D++)N.push(e.point(z[D]._point));A.points=N.join(" ")}else{M="line";var O=z[0]._point,R=z[1]._point;A.set({x1:O.x,y1:O.y,x2:R.x,y2:R.y})}else M="path",A.d=w.getPathData(null,y.precision);return dt.create(M,A,e)}function l(w){var y=w._type,P=w._radius,T=t(w._matrix,!0,y!=="rectangle");if(y==="rectangle"){y="rect";var z=w._size,E=z.width,M=z.height;T.x-=E/2,T.y-=M/2,T.width=E,T.height=M,P.isZero()&&(P=null)}return P&&(y==="circle"?T.r=P:(T.rx=P.width,T.ry=P.height)),dt.create(y,T,e)}function h(w,y){var P=t(w._matrix),T=w.getPathData(null,y.precision);return T&&(P.d=T),dt.create("path",P,e)}function f(w,y){var P=t(w._matrix,!0),T=w._definition,z=S(T,"symbol"),E=T._item,M=E.getStrokeBounds();return z||(z=dt.create("symbol",{viewBox:e.rectangle(M)}),z.appendChild(b(E,y)),k(T,z,"symbol")),P.href="#"+z.id,P.x+=M.x,P.y+=M.y,P.width=M.width,P.height=M.height,P.overflow="visible",dt.create("use",P,e)}function c(w){var y=S(w,"color");if(!y){var P=w.getGradient(),T=P._radial,z=w.getOrigin(),E=w.getDestination(),M;if(T){M={cx:z.x,cy:z.y,r:z.getDistance(E)};var A=w.getHighlight();A&&(M.fx=A.x,M.fy=A.y)}else M={x1:z.x,y1:z.y,x2:E.x,y2:E.y};M.gradientUnits="userSpaceOnUse",y=dt.create((T?"radial":"linear")+"Gradient",M,e);for(var N=P._stops,D=0,O=N.length;D<O;D++){var R=N[D],B=R._color,V=B.getAlpha(),U=R._offset;M={offset:U==null?D/(O-1):U},B&&(M["stop-color"]=B.toCSS(!0)),V<1&&(M["stop-opacity"]=V),y.appendChild(dt.create("stop",M,e))}k(w,y,"color")}return"url(#"+y.id+")"}function _(w){var y=dt.create("text",t(w._matrix,!0),e);return y.textContent=w._content,y}var m={Group:i,Layer:i,Raster:a,Path:u,Shape:l,CompoundPath:h,SymbolItem:f,PointText:_};function p(w,y,P){var T={},z=!P&&w.getParent(),E=[];return w._name!=null&&(T.id=w._name),g.each(qe,function(M){var A=M.get,N=M.type,D=w[A]();if(M.exportFilter?M.exportFilter(w,D):!z||!g.equals(z[A](),D)){if(N==="color"&&D!=null){var O=D.getAlpha();O<1&&(T[M.attribute+"-opacity"]=O)}N==="style"?E.push(M.attribute+": "+D):T[M.attribute]=D==null?"none":N==="color"?D.gradient?c(D):D.toCSS(!0):N==="array"?D.join(","):N==="lookup"?M.toSVG[D]:D}}),E.length&&(T.style=E.join(";")),T.opacity===1&&delete T.opacity,w._visible||(T.visibility="hidden"),dt.set(y,T,e)}var v;function S(w,y){return v||(v={ids:{},svgs:{}}),w&&v.svgs[y+"-"+(w._id||w.__id||(w.__id=ne.get("svg")))]}function k(w,y,P){v||S();var T=v.ids[P]=(v.ids[P]||0)+1;y.id=P+"-"+T,v.svgs[P+"-"+(w._id||w.__id)]=y}function I(w,y){var P=w,T=null;if(v){P=w.nodeName.toLowerCase()==="svg"&&w;for(var z in v.svgs)T||(P||(P=dt.create("svg"),P.appendChild(w)),T=P.insertBefore(dt.create("defs"),P.firstChild)),T.appendChild(v.svgs[z]);v=null}return y.asString?new s.XMLSerializer().serializeToString(P):P}function b(w,y,P){var T=m[w._class],z=T&&T(w,y);if(z){var E=y.onExport;E&&(z=E(w,z,y)||z);var M=JSON.stringify(w._data);M&&M!=="{}"&&M!=="null"&&z.setAttribute("data-paper-data",M)}return z&&p(w,z,P)}function C(w){return w||(w={}),e=new se(w.precision),w}ae.inject({exportSVG:function(w){return w=C(w),I(b(this,w,!0),w)}}),ve.inject({exportSVG:function(w){w=C(w);var y=this._children,P=this.getView(),T=g.pick(w.bounds,"view"),z=w.matrix||T==="view"&&P._matrix,E=z&&G.read([z]),M=T==="view"?new q([0,0],P.getViewSize()):T==="content"?ae._getBounds(y,E,{stroke:!0}).rect:q.read([T],0,{readNull:!0}),A={version:"1.1",xmlns:dt.svg,"xmlns:xlink":dt.xlink};M&&(A.width=M.width,A.height=M.height,(M.x||M.x===0||M.y||M.y===0)&&(A.viewBox=e.rectangle(M)));var N=dt.create("svg",A,e),D=N;E&&!E.isIdentity()&&(D=N.appendChild(dt.create("g",t(E),e)));for(var O=0,R=y.length;O<R;O++)D.appendChild(b(y[O],w,!0));return I(N,w)}})},new function(){var e={},t;function i(y,P,T,z,E,M){var A=dt.get(y,P)||M,N=A==null?z?null:T?"":0:T?A:parseFloat(A);return/%\s*$/.test(A)?N/100*(E?1:t[/x|^width/.test(P)?"width":"height"]):N}function a(y,P,T,z,E,M,A){return P=i(y,P||"x",!1,z,E,M),T=i(y,T||"y",!1,z,E,A),z&&(P==null||T==null)?null:new L(P,T)}function u(y,P,T,z,E){return P=i(y,P||"width",!1,z,E),T=i(y,T||"height",!1,z,E),z&&(P==null||T==null)?null:new Y(P,T)}function l(y,P,T){return y==="none"?null:P==="number"?parseFloat(y):P==="array"?y?y.split(/[\s,]+/g).map(parseFloat):[]:P==="color"?b(y)||y:P==="lookup"?T[y]:y}function h(y,P,T,z){var E=y.childNodes,M=P==="clippath",A=P==="defs",N=new ye,D=N._project,O=D._currentStyle,R=[];if(!M&&!A&&(N=I(N,y,z),D._currentStyle=N._style.clone()),z)for(var B=y.querySelectorAll("defs"),V=0,U=B.length;V<U;V++)C(B[V],T,!1);for(var V=0,U=E.length;V<U;V++){var W=E[V],$;W.nodeType===1&&!/^defs$/i.test(W.nodeName)&&($=C(W,T,!1))&&!($ instanceof je)&&R.push($)}return N.addChildren(R),M&&(N=I(N.reduce(),y,z)),D._currentStyle=O,(M||A)&&(N.remove(),N=null),N}function f(y,P){for(var T=y.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),z=[],E=0,M=T.length;E<M;E+=2)z.push(new L(parseFloat(T[E]),parseFloat(T[E+1])));var A=new pe(z);return P==="polygon"&&A.closePath(),A}function c(y){return ke.create(y.getAttribute("d"))}function _(y,P){var T=(i(y,"href",!0)||"").substring(1),z=P==="radialgradient",E;if(T)E=e[T].getGradient(),E._radial^z&&(E=E.clone(),E._radial=z);else{for(var M=y.childNodes,A=[],N=0,D=M.length;N<D;N++){var O=M[N];O.nodeType===1&&A.push(I(new cn,O))}E=new Ft(A,z)}var R,B,V,U=i(y,"gradientUnits",!0)!=="userSpaceOnUse";z?(R=a(y,"cx","cy",!1,U,"50%","50%"),B=R.add(i(y,"r",!1,!1,U,"50%"),0),V=a(y,"fx","fy",!0,U)):(R=a(y,"x1","y1",!1,U,"0%","0%"),B=a(y,"x2","y2",!1,U,"100%","0%"));var W=I(new Ve(E,R,B,V),y);return W._scaleToBounds=U,null}var m={"#document":function(y,P,T,z){for(var E=y.childNodes,M=0,A=E.length;M<A;M++){var N=E[M];if(N.nodeType===1)return C(N,T,z)}},g:h,svg:h,clippath:h,polygon:f,polyline:f,path:c,lineargradient:_,radialgradient:_,image:function(y){var P=new ze(i(y,"href",!0));return P.on("load",function(){var T=u(y);this.setSize(T);var z=a(y).add(T.divide(2));this._matrix.append(new G().translate(z))}),P},symbol:function(y,P,T,z){return new je(h(y,P,T,z),!0)},defs:h,use:function(y){var P=(i(y,"href",!0)||"").substring(1),T=e[P],z=a(y);return T?T instanceof je?T.place(z):T.clone().translate(z):null},circle:function(y){return new Te.Circle(a(y,"cx","cy"),i(y,"r"))},ellipse:function(y){return new Te.Ellipse({center:a(y,"cx","cy"),radius:u(y,"rx","ry")})},rect:function(y){return new Te.Rectangle(new q(a(y),u(y)),u(y,"rx","ry"))},line:function(y){return new pe.Line(a(y,"x1","y1"),a(y,"x2","y2"))},text:function(y){var P=new yn(a(y).add(a(y,"dx","dy")));return P.setContent(y.textContent.trim()||""),P},switch:h};function p(y,P,T,z){if(y.transform){for(var E=(z.getAttribute(T)||"").split(/\)\s*/g),M=new G,A=0,N=E.length;A<N;A++){var D=E[A];if(!D)break;for(var O=D.split(/\(\s*/),R=O[0],B=O[1].split(/[\s,]+/g),V=0,U=B.length;V<U;V++)B[V]=parseFloat(B[V]);switch(R){case"matrix":M.append(new G(B[0],B[1],B[2],B[3],B[4],B[5]));break;case"rotate":M.rotate(B[0],B[1]||0,B[2]||0);break;case"translate":M.translate(B[0],B[1]||0);break;case"scale":M.scale(B);break;case"skewX":M.skew(B[0],0);break;case"skewY":M.skew(0,B[0]);break}}y.transform(M)}}function v(y,P,T){var z=T==="fill-opacity"?"getFillColor":"getStrokeColor",E=y[z]&&y[z]();E&&E.setAlpha(parseFloat(P))}var S=g.set(g.each(qe,function(y){this[y.attribute]=function(P,T){if(P[y.set]&&(P[y.set](l(T,y.type,y.fromSVG)),y.type==="color")){var z=P[y.get]();if(z&&z._scaleToBounds){var E=P.getBounds();z.transform(new G().translate(E.getPoint()).scale(E.getSize()))}}}},{}),{id:function(y,P){e[P]=y,y.setName&&y.setName(P)},"clip-path":function(y,P){var T=b(P);if(T)if(T=T.clone(),T.setClipMask(!0),y instanceof ye)y.insertChild(0,T);else return new ye(T,y)},gradientTransform:p,transform:p,"fill-opacity":v,"stroke-opacity":v,visibility:function(y,P){y.setVisible&&y.setVisible(P==="visible")},display:function(y,P){y.setVisible&&y.setVisible(P!==null)},"stop-color":function(y,P){y.setColor&&y.setColor(P)},"stop-opacity":function(y,P){y._color&&y._color.setAlpha(parseFloat(P))},offset:function(y,P){if(y.setOffset){var T=P.match(/(.*)%$/);y.setOffset(T?T[1]/100:parseFloat(P))}},viewBox:function(y,P,T,z,E){var M=new q(l(P,"array")),A=u(z,null,null,!0),N,D;if(y instanceof ye){var O=A?A.divide(M.getSize()):1,D=new G().scale(O).translate(M.getPoint().negate());N=y}else y instanceof je&&(A&&M.setSize(A),N=y._item);if(N){if(k(z,"overflow",E)!=="visible"){var R=new Te.Rectangle(M);R.setClipMask(!0),N.addChild(R)}D&&N.transform(D)}}});function k(y,P,T){var z=y.attributes[P],E=z&&z.value;if(!E&&y.style){var M=g.camelize(P);E=y.style[M],!E&&T.node[M]!==T.parent[M]&&(E=T.node[M])}return E?E==="none"?null:E:o}function I(y,P,T){var z=P.parentNode,E={node:Be.getStyles(P)||{},parent:!T&&!/^defs$/i.test(z.tagName)&&Be.getStyles(z)||{}};return g.each(S,function(M,A){var N=k(P,A,E);y=N!==o&&M(y,N,A,P,E)||y}),y}function b(y){var P=y&&y.match(/\((?:["'#]*)([^"')]+)/),T=P&&P[1],z=T&&e[d?T.replace(d.location.href.split("#")[0]+"#",""):T];return z&&z._scaleToBounds&&(z=z.clone(),z._scaleToBounds=!0),z}function C(y,P,T){var z=y.nodeName.toLowerCase(),E=z!=="#document",M=x.body,A,N,D;T&&E&&(t=r.getView().getSize(),t=u(y,null,null,!0)||t,A=dt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),N=y.parentNode,D=y.nextSibling,A.appendChild(y),M.appendChild(A));var O=r.settings,R=O.applyMatrix,B=O.insertItems;O.applyMatrix=!1,O.insertItems=!1;var V=m[z],U=V&&V(y,z,P,T)||null;if(O.insertItems=B,O.applyMatrix=R,U){E&&!(U instanceof ye)&&(U=I(U,y,T));var W=P.onImport,$=E&&y.getAttribute("data-paper-data");W&&(U=W(y,U,P)||U),P.expandShapes&&U instanceof Te&&(U.remove(),U=U.toPath()),$&&(U._data=JSON.parse($))}return A&&(M.removeChild(A),N&&(D?N.insertBefore(y,D):N.appendChild(y))),T&&(e={},U&&g.pick(P.applyMatrix,R)&&U.matrix.apply(!0,!0)),U}function w(y,P,T){if(!y)return null;P=typeof P=="function"?{onLoad:P}:P||{};var z=r,E=null;function M(O){try{var R=typeof O=="object"?O:new s.DOMParser().parseFromString(O.trim(),"image/svg+xml");if(!R.nodeName)throw R=null,new Error("Unsupported SVG source: "+y);r=z,E=C(R,P,!0),(!P||P.insert!==!1)&&T._insertItem(o,E);var B=P.onLoad;B&&B(E,O)}catch(V){A(V)}}function A(O,R){var B=P.onError;if(B)B(O,R);else throw new Error(O)}if(typeof y=="string"&&!/^[\s\S]*</.test(y)){var N=x.getElementById(y);N?M(N):Ct.request({url:y,async:!0,onLoad:M,onError:A})}else if(typeof File!="undefined"&&y instanceof File){var D=new FileReader;return D.onload=function(){M(D.result)},D.onerror=function(){A(D.error)},D.readAsText(y)}else M(y);return E}ae.inject({importSVG:function(y,P){return w(y,P,this)}}),ve.inject({importSVG:function(y,P){return this.activate(),w(y,P,this)}})},g.exports.PaperScript=function(){var e=this,t=e.acorn;if(!t&&typeof dg!="undefined")try{t=require("acorn")}catch(I){}if(!t){var i,a;t=i=a={},function(I,b){if(typeof i=="object"&&typeof a=="object")return b(i);if(typeof o=="function"&&o.amd)return o(["exports"],b);b(I.acorn||(I.acorn={}))}(this,function(I){I.version="0.5.0";var b,C,w,y;I.parse=function(Z,K){return C=String(Z),w=C.length,T(K),Zl(),ig(b.program)};var P=I.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function T(Z){b=Z||{};for(var K in P)Object.prototype.hasOwnProperty.call(b,K)||(b[K]=P[K]);y=b.sourceFile||null}var z=I.getLineInfo=function(Z,K){for(var oe=1,_e=0;;){ji.lastIndex=_e;var Oe=ji.exec(Z);if(Oe&&Oe.index<K)++oe,_e=Oe.index+Oe[0].length;else break}return{line:oe,column:K-_e}};I.tokenize=function(Z,K){C=String(Z),w=C.length,T(K),Zl();var oe={};function _e(Oe){return $=A,bi(Oe),oe.start=M,oe.end=A,oe.startLoc=N,oe.endLoc=D,oe.type=O,oe.value=R,oe}return _e.jumpTo=function(Oe,Fe){if(E=Oe,b.locations){V=1,U=ji.lastIndex=0;for(var De;(De=ji.exec(C))&&De.index<Oe;)++V,U=De.index+De[0].length}B=Fe,Wi()},_e};var E,M,A,N,D,O,R,B,V,U,W,$,ie,le,he,ee;function te(Z,K){var oe=z(C,Z);K+=" ("+oe.line+":"+oe.column+")";var _e=new SyntaxError(K);throw _e.pos=Z,_e.loc=oe,_e.raisedAt=E,_e}var fe=[],de={type:"num"},me={type:"regexp"},Se={type:"string"},Ce={type:"name"},Pe={type:"eof"},be={keyword:"break"},Ee={keyword:"case",beforeExpr:!0},We={keyword:"catch"},Xe={keyword:"continue"},Ze={keyword:"debugger"},Le={keyword:"default"},Ne={keyword:"do",isLoop:!0},Je={keyword:"else",beforeExpr:!0},et={keyword:"finally"},st={keyword:"for",isLoop:!0},zt={keyword:"function"},Dt={keyword:"if"},It={keyword:"return",beforeExpr:!0},vt={keyword:"switch"},ht={keyword:"throw",beforeExpr:!0},Mt={keyword:"try"},Ht={keyword:"var"},sn={keyword:"while",isLoop:!0},ws={keyword:"with"},Ol={keyword:"new",beforeExpr:!0},Ll={keyword:"this"},Nl={keyword:"null",atomValue:null},Fl={keyword:"true",atomValue:!0},Dl={keyword:"false",atomValue:!1},Ss={keyword:"in",binop:7,beforeExpr:!0},eu={break:be,case:Ee,catch:We,continue:Xe,debugger:Ze,default:Le,do:Ne,else:Je,finally:et,for:st,function:zt,if:Dt,return:It,switch:vt,throw:ht,try:Mt,var:Ht,while:sn,with:ws,null:Nl,true:Fl,false:Dl,new:Ol,in:Ss,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Ll,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Cs={type:"[",beforeExpr:!0},xs={type:"]"},Hi={type:"{",beforeExpr:!0},Ci={type:"}"},zn={type:"(",beforeExpr:!0},wn={type:")"},Rn={type:",",beforeExpr:!0},Mn={type:";",beforeExpr:!0},qi={type:":",beforeExpr:!0},tu={type:"."},nu={type:"?",beforeExpr:!0},iu={binop:10,beforeExpr:!0},ru={isAssign:!0,beforeExpr:!0},xi={isAssign:!0,beforeExpr:!0},zd={postfix:!0,prefix:!0,isUpdate:!0},Rl={prefix:!0,beforeExpr:!0},Bl={binop:1,beforeExpr:!0},Vl={binop:2,beforeExpr:!0},Md={binop:3,beforeExpr:!0},Ad={binop:4,beforeExpr:!0},Od={binop:5,beforeExpr:!0},Ld={binop:6,beforeExpr:!0},Nd={binop:7,beforeExpr:!0},Fd={binop:8,beforeExpr:!0},Dd={binop:9,prefix:!0,beforeExpr:!0},Rd={binop:10,beforeExpr:!0};I.tokTypes={bracketL:Cs,bracketR:xs,braceL:Hi,braceR:Ci,parenL:zn,parenR:wn,comma:Rn,semi:Mn,colon:qi,dot:tu,question:nu,slash:iu,eq:ru,name:Ce,eof:Pe,num:de,regexp:me,string:Se};for(var Ul in eu)I.tokTypes["_"+Ul]=eu[Ul];function xr(Z){Z=Z.split(" ");var K="",oe=[];e:for(var _e=0;_e<Z.length;++_e){for(var Oe=0;Oe<oe.length;++Oe)if(oe[Oe][0].length==Z[_e].length){oe[Oe].push(Z[_e]);continue e}oe.push([Z[_e]])}function Fe(tt){if(tt.length==1)return K+="return str === "+JSON.stringify(tt[0])+";";K+="switch(str){";for(var Cn=0;Cn<tt.length;++Cn)K+="case "+JSON.stringify(tt[Cn])+":";K+="return true}return false;"}if(oe.length>3){oe.sort(function(tt,Cn){return Cn.length-tt.length}),K+="switch(str.length){";for(var _e=0;_e<oe.length;++_e){var De=oe[_e];K+="case "+De[0].length+":",Fe(De)}K+="}"}else Fe(Z);return new Function("str",K)}var Bd=xr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Vd=xr("class enum extends super const export import"),Hl=xr("implements interface let package private protected public static yield"),Ps=xr("eval arguments"),Ud=xr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Hd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ql="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",qd="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",jl=new RegExp("["+ql+"]"),jd=new RegExp("["+ql+qd+"]"),bs=/[\n\r\u2028\u2029]/,ji=/\r\n|[\n\r\u2028\u2029]/g,ks=I.isIdentifierStart=function(Z){return Z<65?Z===36:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&jl.test(String.fromCharCode(Z))},Wl=I.isIdentifierChar=function(Z){return Z<48?Z===36:Z<58?!0:Z<65?!1:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&jd.test(String.fromCharCode(Z))};function Pi(){this.line=V,this.column=E-U}function Zl(){V=1,E=U=0,B=!0,Wi()}function At(Z,K){A=E,b.locations&&(D=new Pi),O=Z,Wi(),R=K,B=Z.beforeExpr}function Wd(){var Z=b.onComment&&b.locations&&new Pi,K=E,oe=C.indexOf("*/",E+=2);if(oe===-1&&te(E-2,"Unterminated comment"),E=oe+2,b.locations){ji.lastIndex=K;for(var _e;(_e=ji.exec(C))&&_e.index<E;)++V,U=_e.index+_e[0].length}b.onComment&&b.onComment(!0,C.slice(K+2,oe),K,E,Z,b.locations&&new Pi)}function su(){for(var Z=E,K=b.onComment&&b.locations&&new Pi,oe=C.charCodeAt(E+=2);E<w&&oe!==10&&oe!==13&&oe!==8232&&oe!==8233;)++E,oe=C.charCodeAt(E);b.onComment&&b.onComment(!1,C.slice(Z+2,E),Z,E,K,b.locations&&new Pi)}function Wi(){for(;E<w;){var Z=C.charCodeAt(E);if(Z===32)++E;else if(Z===13){++E;var K=C.charCodeAt(E);K===10&&++E,b.locations&&(++V,U=E)}else if(Z===10||Z===8232||Z===8233)++E,b.locations&&(++V,U=E);else if(Z>8&&Z<14)++E;else if(Z===47){var K=C.charCodeAt(E+1);if(K===42)Wd();else if(K===47)su();else break}else if(Z===160)++E;else if(Z>=5760&&Hd.test(String.fromCharCode(Z)))++E;else break}}function Zd(){var Z=C.charCodeAt(E+1);return Z>=48&&Z<=57?Ql(!0):(++E,At(tu))}function Gd(){var Z=C.charCodeAt(E+1);return B?(++E,Gl()):Z===61?Ot(xi,2):Ot(iu,1)}function Qd(){var Z=C.charCodeAt(E+1);return Z===61?Ot(xi,2):Ot(Rd,1)}function Kd(Z){var K=C.charCodeAt(E+1);return K===Z?Ot(Z===124?Bl:Vl,2):K===61?Ot(xi,2):Ot(Z===124?Md:Od,1)}function Xd(){var Z=C.charCodeAt(E+1);return Z===61?Ot(xi,2):Ot(Ad,1)}function Jd(Z){var K=C.charCodeAt(E+1);return K===Z?K==45&&C.charCodeAt(E+2)==62&&bs.test(C.slice($,E))?(E+=3,su(),Wi(),bi()):Ot(zd,2):K===61?Ot(xi,2):Ot(Dd,1)}function Yd(Z){var K=C.charCodeAt(E+1),oe=1;return K===Z?(oe=Z===62&&C.charCodeAt(E+2)===62?3:2,C.charCodeAt(E+oe)===61?Ot(xi,oe+1):Ot(Fd,oe)):K==33&&Z==60&&C.charCodeAt(E+2)==45&&C.charCodeAt(E+3)==45?(E+=4,su(),Wi(),bi()):(K===61&&(oe=C.charCodeAt(E+2)===61?3:2),Ot(Nd,oe))}function $d(Z){var K=C.charCodeAt(E+1);return K===61?Ot(Ld,C.charCodeAt(E+2)===61?3:2):Ot(Z===61?ru:Rl,1)}function eg(Z){switch(Z){case 46:return Zd();case 40:return++E,At(zn);case 41:return++E,At(wn);case 59:return++E,At(Mn);case 44:return++E,At(Rn);case 91:return++E,At(Cs);case 93:return++E,At(xs);case 123:return++E,At(Hi);case 125:return++E,At(Ci);case 58:return++E,At(qi);case 63:return++E,At(nu);case 48:var K=C.charCodeAt(E+1);if(K===120||K===88)return tg();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ql(!1);case 34:case 39:return ng(Z);case 47:return Gd();case 37:case 42:return Qd();case 124:case 38:return Kd(Z);case 94:return Xd();case 43:case 45:return Jd(Z);case 60:case 62:return Yd(Z);case 61:case 33:return $d(Z);case 126:return Ot(Rl,1)}return!1}function bi(Z){if(Z?E=M+1:M=E,b.locations&&(N=new Pi),Z)return Gl();if(E>=w)return At(Pe);var K=C.charCodeAt(E);if(ks(K)||K===92)return Xl();var oe=eg(K);if(oe===!1){var _e=String.fromCharCode(K);if(_e==="\\"||jl.test(_e))return Xl();te(E,"Unexpected character '"+_e+"'")}return oe}function Ot(Z,K){var oe=C.slice(E,E+K);E+=K,At(Z,oe)}function Gl(){for(var Oe="",Z,K,oe=E;;){E>=w&&te(oe,"Unterminated regular expression");var _e=C.charAt(E);if(bs.test(_e)&&te(oe,"Unterminated regular expression"),Z)Z=!1;else{if(_e==="[")K=!0;else if(_e==="]"&&K)K=!1;else if(_e==="/"&&!K)break;Z=_e==="\\"}++E}var Oe=C.slice(oe,E);++E;var Fe=Kl();Fe&&!/^[gmsiy]*$/.test(Fe)&&te(oe,"Invalid regexp flag");try{var De=new RegExp(Oe,Fe)}catch(tt){tt instanceof SyntaxError&&te(oe,tt.message),te(tt)}return At(me,De)}function Pr(Z,K){for(var oe=E,_e=0,Oe=0,Fe=K==null?1/0:K;Oe<Fe;++Oe){var De=C.charCodeAt(E),tt;if(De>=97?tt=De-97+10:De>=65?tt=De-65+10:De>=48&&De<=57?tt=De-48:tt=1/0,tt>=Z)break;++E,_e=_e*Z+tt}return E===oe||K!=null&&E-oe!==K?null:_e}function tg(){E+=2;var Z=Pr(16);return Z==null&&te(M+2,"Expected hexadecimal number"),ks(C.charCodeAt(E))&&te(E,"Identifier directly after number"),At(de,Z)}function Ql(Z){var K=E,oe=!1,_e=C.charCodeAt(E)===48;!Z&&Pr(10)===null&&te(K,"Invalid number"),C.charCodeAt(E)===46&&(++E,Pr(10),oe=!0);var Oe=C.charCodeAt(E);(Oe===69||Oe===101)&&(Oe=C.charCodeAt(++E),(Oe===43||Oe===45)&&++E,Pr(10)===null&&te(K,"Invalid number"),oe=!0),ks(C.charCodeAt(E))&&te(E,"Identifier directly after number");var Fe=C.slice(K,E),De;return oe?De=parseFloat(Fe):!_e||Fe.length===1?De=parseInt(Fe,10):/[89]/.test(Fe)||ee?te(K,"Invalid number"):De=parseInt(Fe,8),At(de,De)}function ng(Z){E++;for(var K="";;){E>=w&&te(M,"Unterminated string constant");var oe=C.charCodeAt(E);if(oe===Z)return++E,At(Se,K);if(oe===92){oe=C.charCodeAt(++E);var _e=/^[0-7]+/.exec(C.slice(E,E+3));for(_e&&(_e=_e[0]);_e&&parseInt(_e,8)>255;)_e=_e.slice(0,-1);if(_e==="0"&&(_e=null),++E,_e)ee&&te(E-2,"Octal literal in strict mode"),K+=String.fromCharCode(parseInt(_e,8)),E+=_e.length-1;else switch(oe){case 110:K+=`
`;break;case 114:K+="\r";break;case 120:K+=String.fromCharCode(Is(2));break;case 117:K+=String.fromCharCode(Is(4));break;case 85:K+=String.fromCharCode(Is(8));break;case 116:K+="	";break;case 98:K+="\b";break;case 118:K+="\v";break;case 102:K+="\f";break;case 48:K+="\0";break;case 13:C.charCodeAt(E)===10&&++E;case 10:b.locations&&(U=E,++V);break;default:K+=String.fromCharCode(oe);break}}else(oe===13||oe===10||oe===8232||oe===8233)&&te(M,"Unterminated string constant"),K+=String.fromCharCode(oe),++E}}function Is(Z){var K=Pr(16,Z);return K===null&&te(M,"Bad character escape sequence"),K}var Zi;function Kl(){Zi=!1;for(var Z,K=!0,oe=E;;){var _e=C.charCodeAt(E);if(Wl(_e))Zi&&(Z+=C.charAt(E)),++E;else if(_e===92){Zi||(Z=C.slice(oe,E)),Zi=!0,C.charCodeAt(++E)!=117&&te(E,"Expecting Unicode escape sequence \\uXXXX"),++E;var Oe=Is(4),Fe=String.fromCharCode(Oe);Fe||te(E-1,"Invalid Unicode escape"),(K?ks(Oe):Wl(Oe))||te(E-4,"Invalid Unicode escape"),Z+=Fe}else break;K=!1}return Zi?Z:C.slice(oe,E)}function Xl(){var Z=Kl(),K=Ce;return!Zi&&Ud(Z)&&(K=eu[Z]),At(K,Z)}function Ye(){W=M,$=A,ie=D,bi()}function au(Z){if(ee=Z,E=M,b.locations)for(;E<U;)U=C.lastIndexOf(`
`,U-2)+1,--V;Wi(),bi()}function Jl(){this.type=null,this.start=M,this.end=null}function Yl(){this.start=N,this.end=null,y!==null&&(this.source=y)}function Rt(){var Z=new Jl;return b.locations&&(Z.loc=new Yl),b.directSourceFile&&(Z.sourceFile=b.directSourceFile),b.ranges&&(Z.range=[M,0]),Z}function Xn(Z){var K=new Jl;return K.start=Z.start,b.locations&&(K.loc=new Yl,K.loc.start=Z.loc.start),b.ranges&&(K.range=[Z.range[0],0]),K}function Ue(Z,K){return Z.type=K,Z.end=$,b.locations&&(Z.loc.end=ie),b.ranges&&(Z.range[1]=$),Z}function uu(Z){return b.ecmaVersion>=5&&Z.type==="ExpressionStatement"&&Z.expression.type==="Literal"&&Z.expression.value==="use strict"}function pt(Z){if(O===Z)return Ye(),!0}function Ts(){return!b.strictSemicolons&&(O===Pe||O===Ci||bs.test(C.slice($,M)))}function ki(){!pt(Mn)&&!Ts()&&Bn()}function bt(Z){O===Z?Ye():Bn()}function Bn(){te(M,"Unexpected token")}function Es(Z){Z.type!=="Identifier"&&Z.type!=="MemberExpression"&&te(Z.start,"Assigning to rvalue"),ee&&Z.type==="Identifier"&&Ps(Z.name)&&te(Z.start,"Assigning to "+Z.name+" in strict mode")}function ig(Z){W=$=E,b.locations&&(ie=new Pi),le=ee=null,he=[],bi();var K=Z||Rt(),oe=!0;for(Z||(K.body=[]);O!==Pe;){var _e=Sn();K.body.push(_e),oe&&uu(_e)&&au(!0),oe=!1}return Ue(K,"Program")}var ou={kind:"loop"},rg={kind:"switch"};function Sn(){(O===iu||O===xi&&R=="/=")&&bi(!0);var Z=O,K=Rt();switch(Z){case be:case Xe:Ye();var oe=Z===be;pt(Mn)||Ts()?K.label=null:O!==Ce?Bn():(K.label=Jn(),ki());for(var _e=0;_e<he.length;++_e){var Oe=he[_e];if((K.label==null||Oe.name===K.label.name)&&(Oe.kind!=null&&(oe||Oe.kind==="loop")||K.label&&oe))break}return _e===he.length&&te(K.start,"Unsyntactic "+Z.keyword),Ue(K,oe?"BreakStatement":"ContinueStatement");case Ze:return Ye(),ki(),Ue(K,"DebuggerStatement");case Ne:return Ye(),he.push(ou),K.body=Sn(),he.pop(),bt(sn),K.test=br(),ki(),Ue(K,"DoWhileStatement");case st:if(Ye(),he.push(ou),bt(zn),O===Mn)return lu(K,null);if(O===Ht){var Fe=Rt();return Ye(),eh(Fe,!0),Ue(Fe,"VariableDeclaration"),Fe.declarations.length===1&&pt(Ss)?$l(K,Fe):lu(K,Fe)}var Fe=qt(!1,!0);return pt(Ss)?(Es(Fe),$l(K,Fe)):lu(K,Fe);case zt:return Ye(),gu(K,!0);case Dt:return Ye(),K.test=br(),K.consequent=Sn(),K.alternate=pt(Je)?Sn():null,Ue(K,"IfStatement");case It:return!le&&!b.allowReturnOutsideFunction&&te(M,"'return' outside of function"),Ye(),pt(Mn)||Ts()?K.argument=null:(K.argument=qt(),ki()),Ue(K,"ReturnStatement");case vt:Ye(),K.discriminant=br(),K.cases=[],bt(Hi),he.push(rg);for(var De,tt;O!=Ci;)if(O===Ee||O===Le){var Cn=O===Ee;De&&Ue(De,"SwitchCase"),K.cases.push(De=Rt()),De.consequent=[],Ye(),Cn?De.test=qt():(tt&&te(W,"Multiple default clauses"),tt=!0,De.test=null),bt(qi)}else De||Bn(),De.consequent.push(Sn());return De&&Ue(De,"SwitchCase"),Ye(),he.pop(),Ue(K,"SwitchStatement");case ht:return Ye(),bs.test(C.slice($,M))&&te($,"Illegal newline after throw"),K.argument=qt(),ki(),Ue(K,"ThrowStatement");case Mt:if(Ye(),K.block=kr(),K.handler=null,O===We){var Ii=Rt();Ye(),bt(zn),Ii.param=Jn(),ee&&Ps(Ii.param.name)&&te(Ii.param.start,"Binding "+Ii.param.name+" in strict mode"),bt(wn),Ii.guard=null,Ii.body=kr(),K.handler=Ue(Ii,"CatchClause")}return K.guardedHandlers=fe,K.finalizer=pt(et)?kr():null,!K.handler&&!K.finalizer&&te(K.start,"Missing catch or finally clause"),Ue(K,"TryStatement");case Ht:return Ye(),eh(K),ki(),Ue(K,"VariableDeclaration");case sn:return Ye(),K.test=br(),he.push(ou),K.body=Sn(),he.pop(),Ue(K,"WhileStatement");case ws:return ee&&te(M,"'with' in strict mode"),Ye(),K.object=br(),K.body=Sn(),Ue(K,"WithStatement");case Hi:return kr();case Mn:return Ye(),Ue(K,"EmptyStatement");default:var vu=R,zs=qt();if(Z===Ce&&zs.type==="Identifier"&&pt(qi)){for(var _e=0;_e<he.length;++_e)he[_e].name===vu&&te(zs.start,"Label '"+vu+"' is already declared");var hg=O.isLoop?"loop":O===vt?"switch":null;return he.push({name:vu,kind:hg}),K.body=Sn(),he.pop(),K.label=zs,Ue(K,"LabeledStatement")}else return K.expression=zs,ki(),Ue(K,"ExpressionStatement")}}function br(){bt(zn);var Z=qt();return bt(wn),Z}function kr(Z){var K=Rt(),oe=!0,_e=!1,Oe;for(K.body=[],bt(Hi);!pt(Ci);){var Fe=Sn();K.body.push(Fe),oe&&Z&&uu(Fe)&&(Oe=_e,au(_e=!0)),oe=!1}return _e&&!Oe&&au(!1),Ue(K,"BlockStatement")}function lu(Z,K){return Z.init=K,bt(Mn),Z.test=O===Mn?null:qt(),bt(Mn),Z.update=O===wn?null:qt(),bt(wn),Z.body=Sn(),he.pop(),Ue(Z,"ForStatement")}function $l(Z,K){return Z.left=K,Z.right=qt(),bt(wn),Z.body=Sn(),he.pop(),Ue(Z,"ForInStatement")}function eh(Z,K){for(Z.declarations=[],Z.kind="var";;){var oe=Rt();if(oe.id=Jn(),ee&&Ps(oe.id.name)&&te(oe.id.start,"Binding "+oe.id.name+" in strict mode"),oe.init=pt(ru)?qt(!0,K):null,Z.declarations.push(Ue(oe,"VariableDeclarator")),!pt(Rn))break}return Z}function qt(Z,K){var oe=hu(K);if(!Z&&O===Rn){var _e=Xn(oe);for(_e.expressions=[oe];pt(Rn);)_e.expressions.push(hu(K));return Ue(_e,"SequenceExpression")}return oe}function hu(Z){var K=sg(Z);if(O.isAssign){var oe=Xn(K);return oe.operator=R,oe.left=K,Ye(),oe.right=hu(Z),Es(K),Ue(oe,"AssignmentExpression")}return K}function sg(Z){var K=ag(Z);if(pt(nu)){var oe=Xn(K);return oe.test=K,oe.consequent=qt(!0),bt(qi),oe.alternate=qt(!0,Z),Ue(oe,"ConditionalExpression")}return K}function ag(Z){return fu(cu(),-1,Z)}function fu(Z,K,oe){var _e=O.binop;if(_e!=null&&(!oe||O!==Ss)&&_e>K){var Oe=Xn(Z);Oe.left=Z,Oe.operator=R;var Fe=O;Ye(),Oe.right=fu(cu(),_e,oe);var De=Ue(Oe,Fe===Bl||Fe===Vl?"LogicalExpression":"BinaryExpression");return fu(De,K,oe)}return Z}function cu(){if(O.prefix){var Z=Rt(),K=O.isUpdate;return Z.operator=R,Z.prefix=!0,B=!0,Ye(),Z.argument=cu(),K?Es(Z.argument):ee&&Z.operator==="delete"&&Z.argument.type==="Identifier"&&te(Z.start,"Deleting local variable in strict mode"),Ue(Z,K?"UpdateExpression":"UnaryExpression")}for(var oe=ug();O.postfix&&!Ts();){var Z=Xn(oe);Z.operator=R,Z.prefix=!1,Z.argument=oe,Es(oe),Ye(),oe=Ue(Z,"UpdateExpression")}return oe}function ug(){return Ir(du())}function Ir(Z,K){if(pt(tu)){var oe=Xn(Z);return oe.object=Z,oe.property=Jn(!0),oe.computed=!1,Ir(Ue(oe,"MemberExpression"),K)}else if(pt(Cs)){var oe=Xn(Z);return oe.object=Z,oe.property=qt(),oe.computed=!0,bt(xs),Ir(Ue(oe,"MemberExpression"),K)}else if(!K&&pt(zn)){var oe=Xn(Z);return oe.callee=Z,oe.arguments=_u(wn,!1),Ir(Ue(oe,"CallExpression"),K)}else return Z}function du(){switch(O){case Ll:var _e=Rt();return Ye(),Ue(_e,"ThisExpression");case Ce:return Jn();case de:case Se:case me:var _e=Rt();return _e.value=R,_e.raw=C.slice(M,A),Ye(),Ue(_e,"Literal");case Nl:case Fl:case Dl:var _e=Rt();return _e.value=O.atomValue,_e.raw=O.keyword,Ye(),Ue(_e,"Literal");case zn:var Z=N,K=M;Ye();var oe=qt();return oe.start=K,oe.end=A,b.locations&&(oe.loc.start=Z,oe.loc.end=D),b.ranges&&(oe.range=[K,A]),bt(wn),oe;case Cs:var _e=Rt();return Ye(),_e.elements=_u(xs,!0,!0),Ue(_e,"ArrayExpression");case Hi:return lg();case zt:var _e=Rt();return Ye(),gu(_e,!1);case Ol:return og();default:Bn()}}function og(){var Z=Rt();return Ye(),Z.callee=Ir(du(),!0),pt(zn)?Z.arguments=_u(wn,!1):Z.arguments=fe,Ue(Z,"NewExpression")}function lg(){var Z=Rt(),K=!0,oe=!1;for(Z.properties=[],Ye();!pt(Ci);){if(K)K=!1;else if(bt(Rn),b.allowTrailingCommas&&pt(Ci))break;var _e={key:th()},Oe=!1,Fe;if(pt(qi)?(_e.value=qt(!0),Fe=_e.kind="init"):b.ecmaVersion>=5&&_e.key.type==="Identifier"&&(_e.key.name==="get"||_e.key.name==="set")?(Oe=oe=!0,Fe=_e.kind=_e.key.name,_e.key=th(),O!==zn&&Bn(),_e.value=gu(Rt(),!1)):Bn(),_e.key.type==="Identifier"&&(ee||oe))for(var De=0;De<Z.properties.length;++De){var tt=Z.properties[De];if(tt.key.name===_e.key.name){var Cn=Fe==tt.kind||Oe&&tt.kind==="init"||Fe==="init"&&(tt.kind==="get"||tt.kind==="set");Cn&&!ee&&Fe==="init"&&tt.kind==="init"&&(Cn=!1),Cn&&te(_e.key.start,"Redefinition of property")}}Z.properties.push(_e)}return Ue(Z,"ObjectExpression")}function th(){return O===de||O===Se?du():Jn(!0)}function gu(Z,K){O===Ce?Z.id=Jn():K?Bn():Z.id=null,Z.params=[];var oe=!0;for(bt(zn);!pt(wn);)oe?oe=!1:bt(Rn),Z.params.push(Jn());var _e=le,Oe=he;if(le=!0,he=[],Z.body=kr(!0),le=_e,he=Oe,ee||Z.body.body.length&&uu(Z.body.body[0]))for(var Fe=Z.id?-1:0;Fe<Z.params.length;++Fe){var De=Fe<0?Z.id:Z.params[Fe];if((Hl(De.name)||Ps(De.name))&&te(De.start,"Defining '"+De.name+"' in strict mode"),Fe>=0)for(var tt=0;tt<Fe;++tt)De.name===Z.params[tt].name&&te(De.start,"Argument name clash in strict mode")}return Ue(Z,K?"FunctionDeclaration":"FunctionExpression")}function _u(Z,K,oe){for(var _e=[],Oe=!0;!pt(Z);){if(Oe)Oe=!1;else if(bt(Rn),K&&b.allowTrailingCommas&&pt(Z))break;oe&&O===Rn?_e.push(null):_e.push(qt(!0))}return _e}function Jn(Z){var K=Rt();return Z&&b.forbidReserved=="everywhere"&&(Z=!1),O===Ce?(!Z&&(b.forbidReserved&&(b.ecmaVersion===3?Bd:Vd)(R)||ee&&Hl(R))&&C.slice(M,A).indexOf("\\")==-1&&te(M,"The keyword '"+R+"' is reserved"),K.name=R):Z&&O.keyword?K.name=O.keyword:Bn(),B=!1,Ye(),Ue(K,"Identifier")}}),t.version||(t=null)}function u(I,b){return(e.acorn||t).parse(I,b)}var l={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},f=g.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(I){this["__"+I]="#"+I},{__self:function(){return this}});L.inject(f),Y.inject(f),Ve.inject(f);function c(I,b,C){var w=l[b];if(I&&I[w]){var y=I[w](C);return b==="!="?!y:y}switch(b){case"+":return I+C;case"-":return I-C;case"*":return I*C;case"/":return I/C;case"%":return I%C;case"==":return I==C;case"!=":return I!=C}}function _(I,b){var C=h[I];if(b&&b[C])return b[C]();switch(I){case"+":return+b;case"-":return-b}}function m(I,b){if(!I)return"";b=b||{};var C=[];function w(ee){for(var te=0,fe=C.length;te<fe;te++){var de=C[te];if(de[0]>=ee)break;ee+=de[1]}return ee}function y(ee){return I.substring(w(ee.range[0]),w(ee.range[1]))}function P(ee,te){return I.substring(w(ee.range[1]),w(te.range[0]))}function T(ee,te){for(var fe=w(ee.range[0]),de=w(ee.range[1]),me=0,Se=C.length-1;Se>=0;Se--)if(fe>C[Se][0]){me=Se+1;break}C.splice(me,0,[fe,te.length-de+fe]),I=I.substring(0,fe)+te+I.substring(de)}function z(ee,te){switch(ee.type){case"UnaryExpression":if(ee.operator in h&&ee.argument.type!=="Literal"){var fe=y(ee.argument);T(ee,'$__("'+ee.operator+'", '+fe+")")}break;case"BinaryExpression":if(ee.operator in l&&ee.left.type!=="Literal"){var de=y(ee.left),me=y(ee.right),Se=P(ee.left,ee.right),Ce=ee.operator;T(ee,"__$__("+de+","+Se.replace(new RegExp("\\"+Ce),'"'+Ce+'"')+", "+me+")")}break;case"UpdateExpression":case"AssignmentExpression":var Pe=te&&te.type;if(!(Pe==="ForStatement"||Pe==="BinaryExpression"&&/^[=!<>]/.test(te.operator)||Pe==="MemberExpression"&&te.computed)){if(ee.type==="UpdateExpression"){var fe=y(ee.argument),be="__$__("+fe+', "'+ee.operator[0]+'", 1)',Ee=fe+" = "+be;ee.prefix?Ee="("+Ee+")":(Pe==="AssignmentExpression"||Pe==="VariableDeclarator"||Pe==="BinaryExpression")&&(y(te.left||te.id)===fe&&(Ee=be),Ee=fe+"; "+Ee),T(ee,Ee)}else if(/^.=$/.test(ee.operator)&&ee.left.type!=="Literal"){var de=y(ee.left),me=y(ee.right),be=de+" = __$__("+de+', "'+ee.operator[0]+'", '+me+")";T(ee,/^\(.*\)$/.test(y(ee))?"("+be+")":be)}}break}}function E(ee){switch(ee.type){case"ExportDefaultDeclaration":T({range:[ee.start,ee.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var te=ee.declaration,fe=ee.specifiers;if(te){var de=te.declarations;de&&(de.forEach(function(Se){T(Se,"module.exports."+y(Se))}),T({range:[ee.start,te.start+te.kind.length]},""))}else if(fe){var me=fe.map(function(Se){var Ce=y(Se);return"module.exports."+Ce+" = "+Ce+"; "}).join("");me&&T(ee,me)}break}}function M(ee,te,fe){if(ee){for(var de in ee)if(de!=="range"&&de!=="loc"){var me=ee[de];if(Array.isArray(me))for(var Se=0,Ce=me.length;Se<Ce;Se++)M(me[Se],ee,fe);else me&&typeof me=="object"&&M(me,ee,fe)}fe.operatorOverloading!==!1&&z(ee,te),fe.moduleExports!==!1&&E(ee)}}function A(ee){var te="",fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ee=(Math.abs(ee)<<1)+(ee<0?1:0);ee||!te;){var de=ee&31;ee>>=5,ee&&(de|=32),te+=fe[de]}return te}var N=b.url||"",D=b.sourceMaps,O=b.paperFeatures||{},R=b.source||I,B=b.offset||0,V=r.agent,U=V.versionNumber,W=!1,$=/\r\n|\n|\r/mg,ie;if(D&&(V.chrome&&U>=30||V.webkit&&U>=537.76||V.firefox&&U>=23||V.node)){if(V.node)B-=2;else if(d&&N&&!d.location.href.indexOf(N)){var le=x.getElementsByTagName("html")[0].innerHTML;B=le.substr(0,le.indexOf(I)+1).match($).length+1}W=B>0&&!(V.chrome&&U>=36||V.safari&&U>=600||V.firefox&&U>=40||V.node);var he=["AA"+A(W?0:B)+"A"];he.length=(I.match($)||[]).length+1+(W?B:0),ie={version:3,file:N,names:[],mappings:he.join(";AACA"),sourceRoot:"",sources:[N],sourcesContent:[R]}}return(O.operatorOverloading!==!1||O.moduleExports!==!1)&&M(u(I,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,O),ie&&(W&&(I=new Array(B+1).join(`
`)+I),/^(inline|both)$/.test(D)&&(I+=`
//# sourceMappingURL=data:application/json;base64,`+s.btoa(unescape(encodeURIComponent(JSON.stringify(ie))))),I+=`
//# sourceURL=`+(N||"paperscript")),{url:N,source:R,code:I,map:ie}}function p(I,b,C){r=b;var w=b.getView(),y=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(I)&&!/\bnew\s+Tool\b/.test(I)?new Ya:null,P=y?y._events:[],T=["onFrame","onResize"].concat(P),z=[],E=[],M,A=typeof I=="object"?I:m(I,C);I=A.code;function N(U,W){for(var $ in U)(W||!/^_/.test($))&&new RegExp("([\\b\\s\\W]|^)"+$.replace(/\$/g,"\\$")+"\\b").test(I)&&(z.push($),E.push(U[$]))}N({__$__:c,$__:_,paper:b,tool:y},!0),N(b),I="var module = { exports: {} }; "+I;var B=g.each(T,function(U){new RegExp("\\s+"+U+"\\b").test(I)&&(z.push(U),this.push("module.exports."+U+" = "+U+";"))},[]).join(`
`);B&&(I+=`
`+B),I+=`
return module.exports;`;var D=r.agent;if(x&&(D.chrome||D.firefox&&D.versionNumber<40)){var O=x.createElement("script"),R=x.head||x.getElementsByTagName("head")[0];D.firefox&&(I=`
`+I),O.appendChild(x.createTextNode("document.__paperscript__ = function("+z+") {"+I+`
}`)),R.appendChild(O),M=x.__paperscript__,delete x.__paperscript__,R.removeChild(O)}else M=Function(z,I);var B=M&&M.apply(b,E),V=B||{};return g.each(P,function(U){var W=V[U];W&&(y[U]=W)}),w&&(V.onResize&&w.setOnResize(V.onResize),w.emit("resize",{size:w.size,delta:new L}),V.onFrame&&w.setOnFrame(V.onFrame),w.requestUpdate()),B}function v(I){if(/^text\/(?:x-|)paperscript$/.test(I.type)&&H.getAttribute(I,"ignore")!=="true"){var b=H.getAttribute(I,"canvas"),C=x.getElementById(b),w=I.src||I.getAttribute("data-src"),y=H.hasAttribute(I,"async"),P="data-paper-scope";if(!C)throw new Error('Unable to find canvas with id "'+b+'"');var T=H.get(C.getAttribute(P))||new H().setup(C);return C.setAttribute(P,T._id),w?Ct.request({url:w,async:y,mimeType:"text/plain",onLoad:function(z){p(z,T,w)}}):p(I.innerHTML,T,I.baseURI),I.setAttribute("data-paper-ignore","true"),T}}function S(){g.each(x&&x.getElementsByTagName("script"),v)}function k(I){return I?v(I):S()}return d&&(x.readyState==="complete"?setTimeout(S):He.add(d,{load:S})),{compile:m,execute:p,load:k,parse:u,calculateBinary:c,calculateUnary:_}}.call(this);var r=new(H.inject(g.exports,{Base:g,Numerical:J,Key:Cr,DomEvent:He,DomElement:Be,document:x,window:d,Symbol:je,PlacedSymbol:Qe}));return r.agent.node&&aa(r),typeof o=="function"&&o.amd?o("paper",r):n&&(n.exports=r),r}).call(gf,typeof self=="object"?self:null)})(Pf);var Fr=Pf.exports;function nt(){return Fr}function Dg(n){Fr.setup(n);const s=document.getElementById(n),o=new Fr.Tool;o.onMouseDown=function(){},o.onMouseDrag=function(d){const x=d.point.subtract(d.downPoint);Fr.view.center=Fr.view.center.subtract(x)},o.onMouseUp=function(){},s==null||s.addEventListener("mousewheel",function(d){const x=nt();let g=x.view.zoom;const F=x.view.zoom;d.deltaY<0?g=x.view.zoom*1.05:g=x.view.zoom*.95;const H=F/g,j=new x.Point(d.offsetX,d.offsetY),se=x.view.viewToProject(j),J=x.view.center,ne=se.subtract(J),L=se.subtract(ne.multiply(H)).subtract(J);x.view.zoom=g,x.view.center=x.view.center.add(L),d.preventDefault(),x.view.update()})}var Vo={exports:{}};/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(n){(function(s,o){s=s||aa;var d=s.window,x=s.document,g=new function(){var r=/^(statics|enumerable|beans|preserve)$/,e=[],t=e.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=e.forEach||function(p,v){for(var S=0,k=this.length;S<k;S++)p.call(v,this[S],S,this)},h=function(p,v){for(var S in this)this.hasOwnProperty(S)&&p.call(v,this[S],S,this)},f=Object.assign||function(p){for(var v=1,S=arguments.length;v<S;v++){var k=arguments[v];for(var I in k)k.hasOwnProperty(I)&&(p[I]=k[I])}return p},c=function(p,v,S){if(p){var k=a(p,"length");(k&&typeof k.value=="number"?l:h).call(p,v,S=S||p)}return S};function _(p,v,S,k,I){var b={};function C(z,E){E=E||(E=a(v,z))&&(E.get?E:E.value),typeof E=="string"&&E[0]==="#"&&(E=p[E.substring(1)]||E);var M=typeof E=="function",A=E,N=I||M&&!E.base?E&&E.get?z in p:p[z]:null,D;(!I||!N)&&(M&&N&&(E.base=N),M&&k!==!1&&(D=z.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(b[D[3].toLowerCase()+D[4]]=D[2]),(!A||M||!A.get||typeof A.get!="function"||!m.isPlainObject(A))&&(A={value:A,writable:!0}),(a(p,z)||{configurable:!0}).configurable&&(A.configurable=!0,A.enumerable=S!=null?S:!D),u(p,z,A))}if(v){for(var w in v)v.hasOwnProperty(w)&&!r.test(w)&&C(w);for(var w in b){var y=b[w],P=p["set"+y],T=p["get"+y]||P&&p["is"+y];T&&(k===!0||T.length===0)&&C(w,{get:T,set:P})}}return p}function m(){for(var p=0,v=arguments.length;p<v;p++){var S=arguments[p];S&&f(this,S)}return this}return _(m,{inject:function(p){if(p){var v=p.statics===!0?p:p.statics,S=p.beans,k=p.preserve;v!==p&&_(this.prototype,p,p.enumerable,S,k),_(this,v,null,S,k)}for(var I=1,b=arguments.length;I<b;I++)this.inject(arguments[I]);return this},extend:function(){for(var p=this,v,S,k=0,I,b=arguments.length;k<b&&!(v&&S);k++)I=arguments[k],v=v||I.initialize,S=S||I.prototype;return v=v||function(){p.apply(this,arguments)},S=v.prototype=S||i(this.prototype),u(S,"constructor",{value:v,writable:!0,configurable:!0}),_(v,this),arguments.length&&this.inject.apply(v,arguments),v.base=p,v}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var p=0,v=arguments.length;p<v;p++){var S=arguments[p];S&&_(this,S,S.enumerable,S.beans,S.preserve)}return this},extend:function(){var p=i(this);return p.inject.apply(p,arguments)},each:function(p,v){return c(this,p,v)},clone:function(){return new this.constructor(this)},statics:{set:f,each:c,create:i,define:u,describe:a,clone:function(p){return f(new p.constructor,p)},isPlainObject:function(p){var v=p!=null&&p.constructor;return v&&(v===Object||v===m||v.name==="Object")},pick:function(p,v){return p!==o?p:v},slice:function(p,v,S){return t.call(p,v,S)}}})};n.exports=g,g.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+g.each(this,function(r,e){if(!/^_/.test(e)){var t=typeof r;this.push(e+": "+(t==="number"?se.instance.number(r):t==="string"?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return g.importJSON(r,this)},exportJSON:function(r){return g.exportJSON(this,r)},toJSON:function(){return g.serialize(this)},set:function(r,e){return r&&g.filter(this,r,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var e=r.base.apply(this,arguments),t=e.prototype._class;return t&&!g.exports[t]&&(g.exports[t]=e),e},equals:function(r,e){if(r===e)return!0;if(r&&r.equals)return r.equals(e);if(e&&e.equals)return e.equals(r);if(r&&e&&typeof r=="object"&&typeof e=="object"){if(Array.isArray(r)&&Array.isArray(e)){var t=r.length;if(t!==e.length)return!1;for(;t--;)if(!g.equals(r[t],e[t]))return!1}else{var i=Object.keys(r),t=i.length;if(t!==Object.keys(e).length)return!1;for(;t--;){var a=i[t];if(!(e.hasOwnProperty(a)&&g.equals(r[a],e[a])))return!1}}return!0}return!1},read:function(r,e,t,i){if(this===g){var a=this.peek(r,e);return r.__index++,a}var u=this.prototype,l=u._readIndex,h=e||l&&r.__index||0,f=r.length,c=r[h];if(i=i||f-h,c instanceof this||t&&t.readNull&&c==null&&i<=1)return l&&(r.__index=h+1),c&&t&&t.clone?c.clone():c;if(c=g.create(u),l&&(c.__read=!0),c=c.initialize.apply(c,h>0||h+i<f?g.slice(r,h,h+i):r)||c,l){r.__index=h+c.__read;var _=c.__filtered;_&&(r.__filtered=_,c.__filtered=o),c.__read=o}return c},peek:function(r,e){return r[r.__index=e||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,e,t,i){for(var a=[],u,l=e||0,h=i?l+i:r.length,f=l;f<h;f++)a.push(Array.isArray(u=r[f])?this.read(u,0,t):this.read(r,f,t,1));return a},readNamed:function(r,e,t,i,a){var u=this.getNamed(r,e),l=u!==o;if(l){var h=r.__filtered;if(!h){var f=this.getSource(r);h=r.__filtered=g.create(f),h.__unfiltered=f}h[e]=o}return this.read(l?[u]:r,t,i,a)},readSupported:function(r,e){var t=this.getSource(r),i=this,a=!1;return t&&Object.keys(t).forEach(function(u){if(u in e){var l=i.readNamed(r,u);l!==o&&(e[u]=l),a=!0}}),a},getSource:function(r){var e=r.__source;if(e===o){var t=r.length===1&&r[0];e=r.__source=t&&g.isPlainObject(t)?t:null}return e},getNamed:function(r,e){var t=this.getSource(r);if(t)return e?t[e]:r.__filtered||t},hasNamed:function(r,e){return!!this.getNamed(r,e)},filter:function(r,e,t,i){var a;function u(_){if(!(t&&_ in t)&&!(a&&_ in a)){var m=e[_];m!==o&&(r[_]=m)}}if(i){for(var l={},h=0,f,c=i.length;h<c;h++)(f=i[h])in e&&(u(f),l[f]=!0);a=l}return Object.keys(e.__unfiltered||e).forEach(u),r},isPlainValue:function(r,e){return g.isPlainObject(r)||Array.isArray(r)||e&&typeof r=="string"},serialize:function(r,e,t,i){e=e||{};var a=!i,u;if(a&&(e.formatter=new se(e.precision),i={length:0,definitions:{},references:{},add:function(m,p){var v="#"+m._id,S=this.references[v];if(!S){this.length++;var k=p.call(m),I=m._class;I&&k[0]!==I&&k.unshift(I),this.definitions[v]=k,S=this.references[v]=[v]}return S}}),r&&r._serialize){u=r._serialize(e,i);var l=r._class;l&&!r._compactSerialize&&(a||!t)&&u[0]!==l&&u.unshift(l)}else if(Array.isArray(r)){u=[];for(var h=0,f=r.length;h<f;h++)u[h]=g.serialize(r[h],e,t,i)}else if(g.isPlainObject(r)){u={};for(var c=Object.keys(r),h=0,f=c.length;h<f;h++){var _=c[h];u[_]=g.serialize(r[_],e,t,i)}}else typeof r=="number"?u=e.formatter.number(r,e.precision):u=r;return a&&i.length>0?[["dictionary",i.definitions],u]:u},deserialize:function(r,e,t,i,a){var u=r,l=!t,h=l&&r&&r.length&&r[0][0]==="dictionary";if(t=t||{},Array.isArray(r)){var f=r[0],c=f==="dictionary";if(r.length==1&&/^#/.test(f))return t.dictionary[f];f=g.exports[f],u=[];for(var _=f?1:0,m=r.length;_<m;_++)u.push(g.deserialize(r[_],e,t,c,h));if(f){var p=u;e?u=e(f,p,l||a):u=new f(p)}}else if(g.isPlainObject(r)){u={},i&&(t.dictionary=u);for(var v in r)u[v]=g.deserialize(r[v],e,t)}return h?u[1]:u},exportJSON:function(r,e){var t=g.serialize(r,e);return e&&e.asString==!1?t:JSON.stringify(t)},importJSON:function(r,e){return g.deserialize(typeof r=="string"?JSON.parse(r):r,function(t,i,a){var u=a&&e&&e.constructor===t,l=u?e:g.create(t.prototype);if(i.length===1&&l instanceof ae&&(u||!(l instanceof xe))){var h=i[0];g.isPlainObject(h)&&(h.insert=!1,u&&(i=i.concat([{insert:!0}])))}return(u?l.set:t).apply(l,i),u&&(e=null),l})},push:function(r,e){var t=e.length;if(t<4096)r.push.apply(r,e);else{var i=r.length;r.length+=t;for(var a=0;a<t;a++)r[i+a]=e[a]}return r},splice:function(r,e,t,i){var a=e&&e.length,u=t===o;t=u?r.length:t,t>r.length&&(t=r.length);for(var l=0;l<a;l++)e[l]._index=t+l;if(u)return g.push(r,e),[];var h=[t,i];e&&g.push(h,e);for(var f=r.splice.apply(r,h),l=0,c=f.length;l<c;l++)f[l]._index=o;for(var l=t+a,c=r.length;l<c;l++)r[l]._index=l;return f},capitalize:function(r){return r.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var F={on:function(r,e){if(typeof r!="string")g.each(r,function(u,l){this.on(l,u)},this);else{var t=this._eventTypes,i=t&&t[r],a=this._callbacks=this._callbacks||{};a=a[r]=a[r]||[],a.indexOf(e)===-1&&(a.push(e),i&&i.install&&a.length===1&&i.install.call(this,r))}return this},off:function(r,e){if(typeof r!="string"){g.each(r,function(l,h){this.off(h,l)},this);return}var t=this._eventTypes,i=t&&t[r],a=this._callbacks&&this._callbacks[r],u;return a&&(!e||(u=a.indexOf(e))!==-1&&a.length===1?(i&&i.uninstall&&i.uninstall.call(this,r),delete this._callbacks[r]):u!==-1&&a.splice(u,1)),this},once:function(r,e){return this.on(r,function t(){e.apply(this,arguments),this.off(r,t)})},emit:function(r,e){var t=this._callbacks&&this._callbacks[r];if(!t)return!1;var i=g.slice(arguments,1),a=e&&e.target&&!e.currentTarget;t=t.slice(),a&&(e.currentTarget=this);for(var u=0,l=t.length;u<l;u++)if(t[u].apply(this,i)==!1){e&&e.stop&&e.stop();break}return a&&delete e.currentTarget,!0},responds:function(r){return!!(this._callbacks&&this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var e=this._eventTypes,t=this._callbacks,i=r?"install":"uninstall";if(e){for(var a in t)if(t[a].length>0){var u=e[a],l=u&&u[i];l&&l.call(this,a)}}},statics:{inject:function r(e){var t=e._events;if(t){var i={};g.each(t,function(a,u){var l=typeof a=="string",h=l?a:u,f=g.capitalize(h),c=h.substring(2).toLowerCase();i[c]=l?{}:a,h="_"+h,e["get"+f]=function(){return this[h]},e["set"+f]=function(_){var m=this[h];m&&this.off(c,m),_&&this.on(c,_),this[h]=_}}),e._eventTypes=i}return r.base.apply(this,arguments)}}},H=g.extend({_class:"PaperScope",initialize:function r(){qe=this,this.settings=new g({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var e=r.prototype;if(!this.support){var t=Ct.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:_t.nativeModes},Ct.release(t)}if(!this.agent){var i=s.navigator.userAgent.toLowerCase(),a=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],u=a==="darwin"?"mac":a,l=e.agent=e.browser={platform:u};u&&(l[u]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,f,c,_,m){if(!l.chrome){var p=f==="opera"?_:/^(node|trident)$/.test(f)?m:c;l.version=p,l.versionNumber=parseFloat(p),f={trident:"msie",jsdom:"node"}[f]||f,l.name=f,l[f]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.15",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,e){},install:function(r){var e=this;g.each(["project","view","tool"],function(i){g.define(r,i,{configurable:!0,get:function(){return e[i]}})});for(var t in this)!/^_/.test(t)&&this[t]&&(r[t]=this[t])},setup:function(r){return qe=this,this.project=new ve(r),this},createCanvas:function(r,e){return Ct.getCanvas(r,e)},activate:function(){qe=this},clear:function(){for(var r=this.projects,e=this.tools,t=r.length-1;t>=0;t--)r[t].remove();for(var t=e.length-1;t>=0;t--)e[t].remove()},remove:function(){this.clear(),delete H._scopes[this._id]},statics:new function(){function r(e){return e+="Attribute",function(t,i){return t[e](i)||t[e]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),j=g.extend(F,{initialize:function(r){this._scope=qe,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(g.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),X={findItemBoundsCollisions:function(r,e,t){function i(l){for(var h=new Array(l.length),f=0;f<l.length;f++){var c=l[f].getBounds();h[f]=[c.left,c.top,c.right,c.bottom]}return h}var a=i(r),u=!e||e===r?a:i(e);return this.findBoundsCollisions(a,u,t||0)},findCurveBoundsCollisions:function(r,e,t,i){function a(p){for(var v=Math.min,S=Math.max,k=new Array(p.length),I=0;I<p.length;I++){var b=p[I];k[I]=[v(b[0],b[2],b[4],b[6]),v(b[1],b[3],b[5],b[7]),S(b[0],b[2],b[4],b[6]),S(b[1],b[3],b[5],b[7])]}return k}var u=a(r),l=!e||e===r?u:a(e);if(i){for(var h=this.findBoundsCollisions(u,l,t||0,!1,!0),f=this.findBoundsCollisions(u,l,t||0,!0,!0),c=[],_=0,m=h.length;_<m;_++)c[_]={hor:h[_],ver:f[_]};return c}return this.findBoundsCollisions(u,l,t||0)},findBoundsCollisions:function(r,e,t,i,a){var u=!e||r===e,l=u?r:r.concat(e),h=r.length,f=l.length;function c($,ie,le){for(var he=0,ee=$.length;he<ee;){var te=ee+he>>>1;l[$[te]][ie]<le?he=te+1:ee=te}return he-1}for(var _=i?1:0,m=_+2,p=i?0:1,v=p+2,S=new Array(f),k=0;k<f;k++)S[k]=k;S.sort(function($,ie){return l[$][_]-l[ie][_]});for(var I=[],b=new Array(h),k=0;k<f;k++){var C=S[k],w=l[C],y=u?C:C-h,P=C<h,T=u||!P,z=P?[]:null;if(I.length){var E=c(I,m,w[_]-t)+1;if(I.splice(0,E),u&&a){z=z.concat(I);for(var M=0;M<I.length;M++){var A=I[M];b[A].push(y)}}else for(var N=w[v],D=w[p],M=0;M<I.length;M++){var A=I[M],O=l[A],R=A<h,B=u||A>=h;(a||(P&&B||T&&R)&&N>=O[p]-t&&D<=O[v]+t)&&(P&&B&&z.push(u?A:A-h),T&&R&&b[A].push(y))}}if(P&&(r===e&&z.push(C),b[C]=z),I.length){var V=w[m],U=c(I,m,V);I.splice(U+1,0,C)}else I.push(C)}for(var k=0;k<b.length;k++){var W=b[k];W&&W.sort(function(ie,le){return ie-le})}return b}},se=g.extend({initialize:function(r){this.precision=g.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,e,t){return this.number(r)+(t||",")+this.number(e)},point:function(r,e){return this.number(r.x)+(e||",")+this.number(r.y)},size:function(r,e){return this.number(r.width)+(e||",")+this.number(r.height)},rectangle:function(r,e){return this.point(r,e)+(e||",")+this.size(r,e)}});se.instance=new se;var J=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],t=Math.abs,i=Math.sqrt,a=Math.pow,u=Math.log2||function(m){return Math.log(m)*Math.LOG2E},l=1e-12,h=112e-18;function f(m,p,v){return m<p?p:m>v?v:m}function c(m,p,v){function S(E){var M=E*134217729,A=E-M,N=A+M,D=E-N;return[N,D]}var k=p*p-m*v,I=p*p+m*v;if(t(k)*3<I){var b=S(m),C=S(p),w=S(v),y=p*p,P=C[0]*C[0]-y+2*C[0]*C[1]+C[1]*C[1],T=m*v,z=b[0]*w[0]-T+b[0]*w[1]+b[1]*w[0]+b[1]*w[1];k=y-T+(P-z)}return k}function _(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?a(2,-Math.round(u(m))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(m){return m>=-l&&m<=l},isMachineZero:function(m){return m>=-h&&m<=h},clamp:f,integrate:function(m,p,v,S){for(var k=r[S-2],I=e[S-2],b=(v-p)*.5,C=b+p,w=0,y=S+1>>1,P=S&1?I[w++]*m(C):0;w<y;){var T=b*k[w];P+=I[w++]*(m(C+T)+m(C-T))}return b*P},findRoot:function(m,p,v,S,k,I,b){for(var C=0;C<I;C++){var w=m(v),y=w/p(v),P=v-y;if(t(y)<b){v=P;break}w>0?(k=v,v=P<=S?(S+k)*.5:P):(S=v,v=P>=k?(S+k)*.5:P)}return f(v,S,k)},solveQuadratic:function(m,p,v,S,k,I){var b,C=1/0;if(t(m)<l){if(t(p)<l)return t(v)<l?-1:0;b=-v/p}else{p*=-.5;var w=c(m,p,v);if(w&&t(w)<h){var y=_(t(m),t(p),t(v));y&&(m*=y,p*=y,v*=y,w=c(m,p,v))}if(w>=-h){var P=w<0?0:i(w),T=p+(p<0?-P:P);T===0?(b=v/m,C=-b):(b=T/m,C=v/T)}}var z=0,E=k==null,M=k-l,A=I+l;return isFinite(b)&&(E||b>M&&b<A)&&(S[z++]=E?b:f(b,k,I)),C!==b&&isFinite(C)&&(E||C>M&&C<A)&&(S[z++]=E?C:f(C,k,I)),z},solveCubic:function(m,p,v,S,k,I,b){var C=_(t(m),t(p),t(v),t(S)),w,y,P,T,z;C&&(m*=C,p*=C,v*=C,S*=C);function E(U){w=U;var W=m*w;y=W+p,P=y*w+v,T=(W+y)*w+P,z=P*w+S}if(t(m)<l)m=p,y=v,P=S,w=1/0;else if(t(S)<l)y=p,P=v,w=0;else{E(-(p/m)/3);var M=z/m,A=a(t(M),1/3),N=M<0?-1:1,D=-T/m,O=D>0?1.324717957244746*Math.max(A,i(D)):A,R=w-N*O;if(R!==w){do E(R),R=T===0?w:w-z/T/(1+h);while(N*R>N*w);t(m)*w*w>t(S/w)&&(P=-S/w,y=(P-v)/w)}}var B=J.solveQuadratic(m,y,P,k,I,b),V=I==null;return isFinite(w)&&(B===0||B>0&&w!==k[0]&&w!==k[1])&&(V||w>I-l&&w<b+l)&&(k[B++]=V?w:f(w,I,b)),B}}},ne={_id:1,_pools:{},get:function(r){if(r){var e=this._pools[r];return e||(e=this._pools[r]={_id:1}),e._id++}else return this._id++}},L=g.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.x=r,this.y=e,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new L(this.x,this.y)},toString:function(){var r=se.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*r,Math.sin(e)*r)}else{var t=r/this.getLength();J.isZero(t)&&this.getAngle(),this._set(this.x*t,this.y*t)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=L.read(arguments),e=this.getLength()*r.getLength();if(J.isZero(e))return NaN;var t=this.dot(r)/e;return Math.acos(t<-1?-1:t>1?1:t)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var e=this.getLength();this._set(Math.cos(r)*e,Math.sin(r)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=L.read(arguments);return Math.atan2(this.cross(r),this.dot(r))*180/Math.PI},getDistance:function(){var r=arguments,e=L.read(r),t=e.x-this.x,i=e.y-this.y,a=t*t+i*i,u=g.read(r);return u?a:Math.sqrt(a)},normalize:function(r){r===o&&(r=1);var e=this.getLength(),t=e!==0?r/e:0,i=new L(this.x*t,this.y*t);return t>=0&&(i._angle=this._angle),i},rotate:function(r,e){if(r===0)return this.clone();r=r*Math.PI/180;var t=e?this.subtract(e):this,i=Math.sin(r),a=Math.cos(r);return t=new L(t.x*a-t.y*i,t.x*i+t.y*a),e?t.add(e):t},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=L.read(arguments);return new L(this.x+r.x,this.y+r.y)},subtract:function(){var r=L.read(arguments);return new L(this.x-r.x,this.y-r.y)},multiply:function(){var r=L.read(arguments);return new L(this.x*r.x,this.y*r.y)},divide:function(){var r=L.read(arguments);return new L(this.x/r.x,this.y/r.y)},modulo:function(){var r=L.read(arguments);return new L(this.x%r.x,this.y%r.y)},negate:function(){return new L(-this.x,-this.y)},isInside:function(){return q.read(arguments).contains(this)},isClose:function(){var r=arguments,e=L.read(r),t=g.read(r);return this.getDistance(e)<=t},isCollinear:function(){var r=L.read(arguments);return L.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=L.read(arguments);return L.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=J.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=L.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=L.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=L.read(arguments),e=r.isZero()?0:this.dot(r)/r.dot(r);return new L(r.x*e,r.y*e)},statics:{min:function(){var r=arguments,e=L.read(r),t=L.read(r);return new L(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var r=arguments,e=L.read(r),t=L.read(r);return new L(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new L(Math.random(),Math.random())},isCollinear:function(r,e,t,i){return Math.abs(r*i-e*t)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8},isOrthogonal:function(r,e,t,i){return Math.abs(r*t+e*i)<=Math.sqrt((r*r+e*e)*(t*t+i*i))*1e-8}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new L(e(this.x),e(this.y))}},{})),ge=L.extend({initialize:function(e,t,i,a){this._x=e,this._y=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._x=r,this._y=e,t||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),Y=g.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var i=typeof e,a=this.__read,u=0;if(i==="number"){var l=typeof t=="number";this._set(e,l?t:e),a&&(u=l?2:1)}else if(i==="undefined"||e===null)this._set(0,0),a&&(u=e===null?1:0);else{var h=i==="string"?e.split(/[\s,]+/)||[]:e;u=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),u=0)}return a&&(this.__read=u),this},set:"#initialize",_set:function(r,e){return this.width=r,this.height=e,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new Y(this.width,this.height)},toString:function(){var r=se.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var r=Y.read(arguments);return new Y(this.width+r.width,this.height+r.height)},subtract:function(){var r=Y.read(arguments);return new Y(this.width-r.width,this.height-r.height)},multiply:function(){var r=Y.read(arguments);return new Y(this.width*r.width,this.height*r.height)},divide:function(){var r=Y.read(arguments);return new Y(this.width/r.width,this.height/r.height)},modulo:function(){var r=Y.read(arguments);return new Y(this.width%r.width,this.height%r.height)},negate:function(){return new Y(-this.width,-this.height)},isZero:function(){var r=J.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,e){return new Y(Math.min(r.width,e.width),Math.min(r.height,e.height))},max:function(r,e){return new Y(Math.max(r.width,e.width),Math.max(r.height,e.height))},random:function(){return new Y(Math.random(),Math.random())}}},g.each(["round","ceil","floor","abs"],function(r){var e=Math[r];this[r]=function(){return new Y(e(this.width),e(this.height))}},{})),Ae=Y.extend({initialize:function(e,t,i,a){this._width=e,this._height=t,this._owner=i,this._setter=a},_set:function(r,e,t){return this._width=r,this._height=e,t||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),q=g.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,i,a){var u=arguments,l=typeof e,h;if(l==="number"?(this._set(e,t,i,a),h=4):l==="undefined"||e===null?(this._set(0,0,0,0),h=e===null?1:0):u.length===1&&(Array.isArray(e)?(this._set.apply(this,e),h=1):e.x!==o||e.width!==o?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),h=1):e.from===o&&e.to===o&&(this._set(0,0,0,0),g.readSupported(u,this)&&(h=1))),h===o){var f=L.readNamed(u,"from"),c=g.peek(u),_=f.x,m=f.y,p,v;if(c&&c.x!==o||g.hasNamed(u,"to")){var S=L.readNamed(u,"to");p=S.x-_,v=S.y-m,p<0&&(_=S.x,p=-p),v<0&&(m=S.y,v=-v)}else{var k=Y.read(u);p=k.width,v=k.height}this._set(_,m,p,v),h=u.__index}var I=u.__filtered;return I&&(this.__filtered=I),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(r,e,t,i){return this.x=r,this.y=e,this.width=t,this.height=i,this},clone:function(){return new q(this.x,this.y,this.width,this.height)},equals:function(r){var e=g.isPlainValue(r)?q.read(arguments):r;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var r=se.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var e=r.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(r){var e=r?L:ge;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var r=L.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){var e=r?Y:Ae;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=Y.read(arguments),e=this._sx,t=this._sy,i=r.width,a=r.height;e&&(this.x+=(this.width-i)*e),t&&(this.y+=(this.height-a)*t),this.width=i,this.height=a,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var e=r-this.x;this.width-=this._sx===.5?e*2:e}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var e=r-this.y;this.height-=this._sy===.5?e*2:e}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var e=r-this.x;this.width=this._sx===.5?e*2:e}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var e=r-this.y;this.height=this._sy===.5?e*2:e}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||this._sx===.5?this.x=r-this.width/2:(this._sx&&(this.x+=(r-this.x)*2*this._sx),this.width=(r-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||this._sy===.5?this.y=r-this.height/2:(this._sy&&(this.y+=(r-this.y)*2*this._sy),this.height=(r-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(r){var e=r?L:ge;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=L.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(r){return r&&r.width!==o||(Array.isArray(r)?r:arguments).length===4?this._containsRectangle(q.read(arguments)):this._containsPoint(L.read(arguments))},_containsPoint:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e<=this.x+this.width&&t<=this.y+this.height},_containsRectangle:function(r){var e=r.x,t=r.y;return e>=this.x&&t>=this.y&&e+r.width<=this.x+this.width&&t+r.height<=this.y+this.height},intersects:function(){var r=q.read(arguments),e=g.read(arguments)||0;return r.x+r.width>this.x-e&&r.y+r.height>this.y-e&&r.x<this.x+this.width+e&&r.y<this.y+this.height+e},intersect:function(){var r=q.read(arguments),e=Math.max(this.x,r.x),t=Math.max(this.y,r.y),i=Math.min(this.x+this.width,r.x+r.width),a=Math.min(this.y+this.height,r.y+r.height);return new q(e,t,i-e,a-t)},unite:function(){var r=q.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x+r.width),a=Math.max(this.y+this.height,r.y+r.height);return new q(e,t,i-e,a-t)},include:function(){var r=L.read(arguments),e=Math.min(this.x,r.x),t=Math.min(this.y,r.y),i=Math.max(this.x+this.width,r.x),a=Math.max(this.y+this.height,r.y);return new q(e,t,i-e,a-t)},expand:function(){var r=Y.read(arguments),e=r.width,t=r.height;return new q(this.x-e/2,this.y-t/2,this.width+e,this.height+t)},scale:function(r,e){return this.expand(this.width*r-this.width,this.height*(e===o?r:e)-this.height)}},g.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,e){var t=r.join(""),i=/^[RL]/.test(t);e>=4&&(r[1]+=i?"Y":"X");var a=r[i?0:1],u=r[i?1:0],l="get"+a,h="get"+u,f="set"+a,c="set"+u,_="get"+t,m="set"+t;this[_]=function(p){var v=p?L:ge;return new v(this[l](),this[h](),this,m)},this[m]=function(){var p=L.read(arguments);this[f](p.x),this[c](p.y)}},{beans:!0})),Q=q.extend({initialize:function(e,t,i,a,u,l){this._set(e,t,i,a,!0),this._owner=u,this._setter=l},_set:function(r,e,t,i,a){return this._x=r,this._y=e,this._width=t,this._height=i,a||this._owner[this._setter](this),this}},new function(){var r=q.prototype;return g.each(["x","y","width","height"],function(e){var t=g.capitalize(e),i="_"+e;this["get"+t]=function(){return this[i]},this["set"+t]=function(a){this[i]=a,this._dontNotify||this._owner[this._setter](this)}},g.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var t="set"+e;this[t]=function(){this._dontNotify=!0,r[t].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),G=g.extend({_class:"Matrix",initialize:function r(e,t){var i=arguments,a=i.length,u=!0;if(a>=6?this._set.apply(this,i):a===1||a===2?e instanceof r?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):u=!1:a?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,e,t,i,a,u,l){return this._a=r,this._b=e,this._c=t,this._d=i,this._tx=a,this._ty=u,l||this._changed(),this},_serialize:function(r,e){return g.serialize(this.getValues(),r,!0,e)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new G(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=se.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,e){var t=this._owner;return t?(t.transform(null,g.pick(r,!0),e),this.isIdentity()):!1},translate:function(){var r=L.read(arguments),e=r.x,t=r.y;return this._tx+=e*this._a+t*this._c,this._ty+=e*this._b+t*this._d,this._changed(),this},scale:function(){var r=arguments,e=L.read(r),t=L.read(r,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var e=L.read(arguments,1),t=e.x,i=e.y,a=Math.cos(r),u=Math.sin(r),l=t-t*a+i*u,h=i-t*u-i*a,f=this._a,c=this._b,_=this._c,m=this._d;return this._a=a*f+u*_,this._b=a*c+u*m,this._c=-u*f+a*_,this._d=-u*c+a*m,this._tx+=l*f+h*_,this._ty+=l*c+h*m,this._changed(),this},shear:function(){var r=arguments,e=L.read(r),t=L.read(r,0,{readNull:!0});t&&this.translate(t);var i=this._a,a=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*a,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var r=arguments,e=L.read(r),t=L.read(r,0,{readNull:!0}),i=Math.PI/180,a=new L(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(a,t)},append:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=r._a,h=r._c,f=r._b,c=r._d,_=r._tx,m=r._ty;this._a=l*t+f*a,this._c=h*t+c*a,this._b=l*i+f*u,this._d=h*i+c*u,this._tx+=_*t+m*a,this._ty+=_*i+m*u,e||this._changed()}return this},prepend:function(r,e){if(r){var t=this._a,i=this._b,a=this._c,u=this._d,l=this._tx,h=this._ty,f=r._a,c=r._c,_=r._b,m=r._d,p=r._tx,v=r._ty;this._a=f*t+c*i,this._c=f*a+c*u,this._b=_*t+m*i,this._d=_*a+m*u,this._tx=f*l+c*h+p,this._ty=_*l+m*h+v,e||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=this._tx,u=this._ty,l=r*i-e*t,h=null;return l&&!isNaN(l)&&isFinite(a)&&isFinite(u)&&(this._a=i/l,this._b=-e/l,this._c=-t/l,this._d=r/l,this._tx=(t*u-i*a)/l,this._ty=(e*a-r*u)/l,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new G(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,e,t){return arguments.length<3?this._transformPoint(L.read(arguments)):this._transformCoordinates(r,e,t)},_transformPoint:function(r,e,t){var i=r.x,a=r.y;return e||(e=new L),e._set(i*this._a+a*this._c+this._tx,i*this._b+a*this._d+this._ty,t)},_transformCoordinates:function(r,e,t){for(var i=0,a=2*t;i<a;i+=2){var u=r[i],l=r[i+1];e[i]=u*this._a+l*this._c+this._tx,e[i+1]=u*this._b+l*this._d+this._ty}return e},_transformCorners:function(r){var e=r.x,t=r.y,i=e+r.width,a=t+r.height,u=[e,t,i,t,i,a,e,a];return this._transformCoordinates(u,u,4)},_transformBounds:function(r,e,t){for(var i=this._transformCorners(r),a=i.slice(0,2),u=a.slice(),l=2;l<8;l++){var h=i[l],f=l&1;h<a[f]?a[f]=h:h>u[f]&&(u[f]=h)}return e||(e=new q),e._set(a[0],a[1],u[0]-a[0],u[1]-a[1],t)},inverseTransform:function(){return this._inverseTransform(L.read(arguments))},_inverseTransform:function(r,e,t){var i=this._a,a=this._b,u=this._c,l=this._d,h=this._tx,f=this._ty,c=i*l-a*u,_=null;if(c&&!isNaN(c)&&isFinite(h)&&isFinite(f)){var m=r.x-this._tx,p=r.y-this._ty;e||(e=new L),_=e._set((m*l-p*u)/c,(p*i-m*a)/c,t)}return _},decompose:function(){var r=this._a,e=this._b,t=this._c,i=this._d,a=r*i-e*t,u=Math.sqrt,l=Math.atan2,h=180/Math.PI,f,c,_;if(r!==0||e!==0){var m=u(r*r+e*e);f=Math.acos(r/m)*(e>0?1:-1),c=[m,a/m],_=[l(r*t+e*i,m*m),0]}else if(t!==0||i!==0){var p=u(t*t+i*i);f=Math.asin(t/p)*(i>0?1:-1),c=[a/p,p],_=[0,l(r*t+e*i,p*p)]}else f=0,_=c=[0,0];return{translation:this.getTranslation(),rotation:f*h,scaling:new L(c),skewing:new L(_[0]*h,_[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new L(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},g.each(["a","b","c","d","tx","ty"],function(r){var e=g.capitalize(r),t="_"+r;this["get"+e]=function(){return this[t]},this["set"+e]=function(i){this[t]=i,this._changed()}},{})),ue=g.extend({_class:"Line",initialize:function(e,t,i,a,u){var l=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=i,this._vy=a,l=u):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,l=i),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new L(this._px,this._py)},getVector:function(){return new L(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,e){return ue.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,e)},getSide:function(r,e){return ue.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,e)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return ue.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return L.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return L.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,e,t,i,a,u,l,h,f,c){f||(t-=r,i-=e,l-=a,h-=u);var _=t*h-i*l;if(!J.isMachineZero(_)){var m=r-a,p=e-u,v=(l*p-h*m)/_,S=(t*p-i*m)/_,k=1e-12,I=-k,b=1+k;if(c||I<v&&v<b&&I<S&&S<b)return c||(v=v<=0?0:v>=1?1:v),new L(r+v*t,e+v*i)}},getSide:function(r,e,t,i,a,u,l,h){l||(t-=r,i-=e);var f=a-r,c=u-e,_=f*i-c*t;return!h&&J.isMachineZero(_)&&(_=(f*t+f*t)/(t*t+i*i),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(r,e,t,i,a,u,l){return l||(t-=r,i-=e),t===0?i>0?a-r:r-a:i===0?t<0?u-e:e-u:((a-r)*i-(u-e)*t)/(i>t?i*Math.sqrt(1+t*t/(i*i)):t*Math.sqrt(1+i*i/(t*t)))},getDistance:function(r,e,t,i,a,u,l){return Math.abs(ue.getSignedDistance(r,e,t,i,a,u,l))}}}),ve=j.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){j.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Si(null,null,this),this._view=Re.create(this,e||Ct.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,e){return g.serialize(this._children,r,!0,e)},_changed:function(r,e){if(r&1){var t=this._view;t&&(t._needsUpdate=!0,!t._requested&&t._autoUpdate&&t.requestUpdate())}var i=this._changes;if(i&&e){var a=this._changesById,u=e._id,l=a[u];l?l.flags|=r:i.push(a[u]={item:e,flags:r})}},clear:function(){for(var r=this._children,e=r.length-1;e>=0;e--)r[e].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return r.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xe({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],e={};return this.getItems({class:Qe,match:function(t){var i=t._definition,a=i._id;return e[a]||(e[a]=!0,r.push(i)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,e=[];for(var t in r){var i=r[t],a=i._selection;a&1&&i.isInserted()?e.push(i):a||this._updateSelection(i)}return e},_updateSelection:function(r){var e=r._id,t=this._selectionItems;r._selection?t[e]!==r&&(this._selectionCount++,t[e]=r):t[e]===r&&(this._selectionCount--,delete t[e])},selectAll:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)r[e].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var e in r)r[e].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(o,r)},insertLayer:function(r,e){if(e instanceof xe){e._remove(!1,!0),g.splice(this._children,[e],r,0),e._setProject(this,!0);var t=e._name;t&&e.setName(t),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(r,e,t){return e=this.insertLayer(r,e)||(this._activeLayer||this._insertItem(o,new xe(ae.NO_INSERT),!0)).insertChild(r,e),t&&e.activate&&e.activate(),e},getItems:function(r){return ae._getItems(this,r)},getItem:function(r){return ae._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var e=this._activeLayer;return g.importJSON(r,e&&e.isEmpty()&&e)},removeOn:function(r){var e=this._removeSets;if(e){r==="mouseup"&&(e.mousedrag=null);var t=e[r];if(t){for(var i in t){var a=t[i];for(var u in e){var l=e[u];l&&l!=t&&delete l[a._id]}a.remove()}e[r]=null}}},draw:function(r,e,t){this._updateVersion++,r.save(),e.applyToContext(r);for(var i=this._children,a=new g({offset:new L(0,0),pixelRatio:t,viewMatrix:e.isIdentity()?null:e,matrices:[new G],updateMatrix:!0}),u=0,l=i.length;u<l;u++)i[u].draw(r,a);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var h=this._selectionItems,f=this._scope.settings.handleSize,c=this._updateVersion;for(var _ in h)h[_]._drawSelection(r,e,f,h,c);r.restore()}}}),ae=g.extend(F,{statics:{extend:function r(e){return e._serializeFields&&(e._serializeFields=g.set({},this.prototype._serializeFields,e._serializeFields)),r.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new G,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return g.each(r,function(e){this._events[e]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,e){var t=r&&g.isPlainObject(r),i=t&&r.internal===!0,a=this._matrix=new G,u=t&&r.project||qe.project,l=qe.settings;return this._id=i?null:ne.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&a.translate(e),a._owner=this,this._style=new Si(u._currentStyle,this,u),i||t&&r.insert==!1||!l.insertItems&&!(t&&r.insert===!0)?this._setProject(u):(t&&r.parent||u)._insertItem(o,this,!0),t&&r!==ae.NO_INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),t},_serialize:function(r,e){var t={},i=this;function a(u){for(var l in u){var h=i[l];g.equals(h,l==="leading"?u.fontSize*1.2:u[l])||(t[l]=g.serialize(h,r,l!=="data",e))}}return a(this._serializeFields),this instanceof ye||a(this._style._defaults),[this._class,t]},_changed:function(r){var e=this._symbol,t=this._parent||e,i=this._project;r&8&&(this._bounds=this._position=this._decomposed=o),r&16&&(this._globalMatrix=o),t&&r&72&&ae._clearBoundsCache(t),r&2&&ae._clearBoundsCache(this),i&&i._changed(r,this),e&&e._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(r&&e){var t=e._children,i=e._namedChildren;(i[r]=i[r]||[]).push(this),r in t||(t[r]=this)}this._name=r||o,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},g.each(["locked","visible","blendMode","opacity","guide"],function(r){var e=g.capitalize(r),t="_"+r,i={locked:256,visible:265};this["get"+e]=function(){return this[t]},this["set"+e]=function(a){a!=this[t]&&(this[t]=a,this._changed(i[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){if(this._selectChildren){for(var r=this._children,e=0,t=r.length;e<t;e++)if(r[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(r){if(this._selectChildren)for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,e=!!(this._selection&1);if(r&&e){for(var t=0,i=r.length;t<i;t++)if(!r[t].isFullySelected())return!1;return!0}return e},setFullySelected:function(r){var e=this._children;if(e)for(var t=0,i=e.length;t<i;t++)e[t].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var e=r?L:ge,t=this._position||(this._position=this._getPositionFromBounds());return new e(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(L.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new ge(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=L.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},g.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,e){this[e]=function(t){return this.getBounds(t,r)}},{beans:!0,getBounds:function(r,e){var t=e||r instanceof G,i=g.set({},t?e:r,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var a=this._getCachedBounds(t&&r,i).rect;return arguments.length?a:new Q(a.x,a.y,a.width,a.height,this,"setBounds")},setBounds:function(){var r=q.read(arguments),e=this.getBounds(),t=this._matrix,i=new G,a=r.getCenter();i.translate(a),(r.width!=e.width||r.height!=e.height)&&(t.isInvertible()||(t.set(t._backup||new G().translate(t.getTranslation())),e=this.getBounds()),i.scale(e.width!==0?r.width/e.width:0,e.height!==0?r.height/e.height:0)),a=e.getCenter(),i.translate(-a.x,-a.y),this.transform(i)},_getBounds:function(r,e){var t=this._children;return!t||!t.length?new q:(ae._updateBoundsCache(this,e.cacheItem),ae._getBounds(t,r,e))},_getBoundsCacheKey:function(r,e){return[r.stroke?1:0,r.handle?1:0,e?1:0].join("")},_getCachedBounds:function(r,e,t){r=r&&r._orNullIfIdentity();var i=e.internal&&!t,a=e.cacheItem,u=i?null:this._matrix._orNullIfIdentity(),l=a&&(!r||r.equals(u))&&this._getBoundsCacheKey(e,i),h=this._bounds;if(ae._updateBoundsCache(this._parent||this._symbol,a),l&&h&&l in h){var f=h[l];return{rect:f.rect.clone(),nonscaling:f.nonscaling}}var c=this._getBounds(r||u,e),_=c.rect||c,m=this._style,p=c.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(l){h||(this._bounds=h={});var f=h[l]={rect:_.clone(),nonscaling:p,internal:i}}return{rect:_,nonscaling:p}},_getStrokeMatrix:function(r,e){var t=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=t?t.getViewMatrix().invert():r;return i&&i._shiftless()},statics:{_updateBoundsCache:function(r,e){if(r&&e){var t=e._id,i=r._boundsCache=r._boundsCache||{ids:{},list:[]};i.ids[t]||(i.list.push(e),i.ids[t]=e)}},_clearBoundsCache:function(r){var e=r._boundsCache;if(e){r._bounds=r._position=r._boundsCache=o;for(var t=0,i=e.list,a=i.length;t<a;t++){var u=i[t];u!==r&&(u._bounds=u._position=o,u._boundsCache&&ae._clearBoundsCache(u))}}},_getBounds:function(r,e,t){var i=1/0,a=-i,u=i,l=a,h=!1;t=t||{};for(var f=0,c=r.length;f<c;f++){var _=r[f];if(_._visible&&!_.isEmpty(!0)){var m=_._getCachedBounds(e&&e.appended(_._matrix),t,!0),p=m.rect;i=Math.min(p.x,i),u=Math.min(p.y,u),a=Math.max(p.x+p.width,a),l=Math.max(p.y+p.height,l),m.nonscaling&&(h=!0)}}return{rect:isFinite(i)?new q(i,u,a-i,l-u):new q,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var e=this.getRotation();if(e!=null&&r!=null){var t=this._decomposed;this.rotate(r-e),t&&(t.rotation=r,this._decomposed=t)}},getScaling:function(){var r=this._decompose(),e=r&&r.scaling;return new ge(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=L.read(arguments,0,{clone:!0,readNull:!0});if(r&&e&&!r.equals(e)){var t=this.getRotation(),i=this._decomposed,a=new G,u=J.isZero;if(u(r.x)||u(r.y))a.translate(i.translation),t&&a.rotate(t),a.scale(e.x,e.y),this._matrix.set(a);else{var l=this.getPosition(!0);a.translate(l),t&&a.rotate(t),a.scale(e.x/r.x,e.y/r.y),t&&a.rotate(-t),a.translate(l.negate()),this.transform(a)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var e=this._globalMatrix;if(e)for(var t=this._parent,i=[];t;){if(!t._globalMatrix){e=null;for(var a=0,u=i.length;a<u;a++)i[a]._globalMatrix=null;break}i.push(t),t=t._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var t=this._parent;t&&e.prepend(t.getGlobalMatrix(!0))}return r?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,e){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._setProject(r);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(e){r.base.call(this,e);for(var t=this._children,i=0,a=t&&t.length;i<a;i++)t[i]._installEvents(e)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof xe)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return g.equals(this._children,r._children)},clone:function(r){var e=new this.constructor(ae.NO_INSERT),t=this._children,i=g.pick(r?r.insert:o,r===o||r===!0),a=g.pick(r?r.deep:o,!0);t&&e.copyAttributes(this),(!t||a)&&e.copyContent(this),t||e.copyAttributes(this),i&&e.insertAbove(this);var u=this._name,l=this._parent;if(u&&l){for(var t=l._children,h=u,f=1;t[u];)u=h+" "+f++;u!==h&&e.setName(u)}return e},copyContent:function(r){for(var e=r._children,t=0,i=e&&e.length;t<i;t++)this.addChild(e[t].clone(!1),!0)},copyAttributes:function(r,e){this.setStyle(r._style);for(var t=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=t.length;i<a;i++){var u=t[i];r.hasOwnProperty(u)&&(this[u]=r[u])}e||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var l=r._data,h=r._name;this._data=l?g.clone(l):null,h&&this.setName(h)},rasterize:function(r,e){var t,i,a;g.isPlainObject(r)?(t=r.resolution,i=r.insert,a=r.raster):(t=r,i=e),a?a.matrix.reset(!0):a=new ze(ae.NO_INSERT);var u=this.getStrokeBounds(),l=(t||this.getView().getResolution())/72,h=u.getTopLeft().floor(),f=u.getBottomRight().ceil(),c=new Y(f.subtract(h)),_=c.multiply(l);if(a.setSize(_,!0),!_.isZero()){var m=a.getContext(!0),p=new G().scale(l).translate(h.negate());m.save(),p.applyToContext(m),this.draw(m,new g({matrices:[p]})),m.restore()}return a.transform(new G().translate(h.add(c.divide(2))).scale(1/l)),(i===o||i)&&a.insertAbove(this),a},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(L.read(arguments)))},_contains:function(r){var e=this._children;if(e){for(var t=e.length-1;t>=0;t--)if(e[t].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new pe.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,e){return r instanceof ae?this._asPathItem().getIntersections(r._asPathItem(),null,e,!0).length>0:!1}},new function(){function r(){var i=arguments;return this._hitTest(L.read(i),Ke.getOptions(i))}function e(){var i=arguments,a=L.read(i),u=Ke.getOptions(i),l=[];return this._hitTest(a,new g({all:l},u)),l}function t(i,a,u,l){var h=this._children;if(h)for(var f=h.length-1;f>=0;f--){var c=h[f],_=c!==l&&c._hitTest(i,a,u);if(_&&!a.all)return _}return null}return ve.inject({hitTest:r,hitTestAll:e,_hitTest:t}),{hitTest:r,hitTestAll:e,_hitTestChildren:t}},{_hitTest:function(r,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,a=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new Y(pe._getStrokePadding(u,i._shiftless().invert()));if(r=i._inverseTransform(r),!r||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(r))return null;var h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==g.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,c=this,_,m;function p(w){return w&&f&&!f(w)&&(w=null),w&&e.all&&e.all.push(w),w}function v(w,y){var P=y?_["get"+y]():c.getPosition();if(r.subtract(P).divide(l).length<=1)return new Ke(w,c,{name:y?g.hyphenate(y):w,point:P})}var S=e.position,k=e.center,I=e.bounds;if(h&&this._parent&&(S||k||I)){if((k||I)&&(_=this.getInternalBounds()),m=S&&v("position")||k&&v("center","Center"),!m&&I)for(var b=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!m;C++)m=v("bounds",b[C]);m=p(m)}return m||(m=this._hitTestChildren(r,e,a)||h&&p(this._hitTestSelf(r,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),m&&m.point&&(m.point=i.transform(m.point)),m},_hitTestSelf:function(r,e){if(e.fill&&this.hasFill()&&this._contains(r))return new Ke("fill",this)},matches:function(r,e){function t(l,h){for(var f in l)if(l.hasOwnProperty(f)){var c=l[f],_=h[f];if(g.isPlainObject(c)&&g.isPlainObject(_)){if(!t(c,_))return!1}else if(!g.equals(c,_))return!1}return!0}var i=typeof r;if(i==="object"){for(var a in r)if(r.hasOwnProperty(a)&&!this.matches(a,r[a]))return!1;return!0}else{if(i==="function")return r(this);if(r==="match")return e(this);var u=/^(empty|editable)$/.test(r)?this["is"+g.capitalize(r)]():r==="type"?g.hyphenate(this._class):this[r];if(r==="class"){if(typeof e=="function")return this instanceof e;u=this._class}if(typeof e=="function")return!!e(u);if(e){if(e.test)return e.test(u);if(g.isPlainObject(e))return t(e,u)}return g.equals(u,e)}},getItems:function(r){return ae._getItems(this,r,this._matrix)},getItem:function(r){return ae._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(e,t,i,a,u){if(!a){var l=typeof t=="object"&&t,h=l&&l.overlapping,f=l&&l.inside,c=h||f,p=c&&q.read([c]);a={items:[],recursive:l&&l.recursive!==!1,inside:!!f,overlapping:!!h,rect:p,path:h&&new pe.Rectangle({rectangle:p,insert:!1})},l&&(t=g.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var _=e._children,m=a.items,p=a.rect;i=p&&(i||new G);for(var v=0,S=_&&_.length;v<S;v++){var k=_[v],I=i&&i.appended(k._matrix),b=!0;if(p){var c=k.getBounds(I);if(!p.intersects(c))continue;p.contains(c)||a.overlapping&&(c.contains(p)||a.path.intersects(k,I))||(b=!1)}if(b&&k.matches(t)&&(m.push(k),u)||(a.recursive!==!1&&r(k,t,I,a,u),u&&m.length>0))break}return m}}},{importJSON:function(r){var e=g.importJSON(r,this);return e!==this?this.addChild(e):e},addChild:function(r){return this.insertChild(o,r)},insertChild:function(r,e){var t=e?this.insertChildren(r,[e]):null;return t&&t[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,e){var t=this._children;if(t&&e&&e.length>0){e=g.slice(e);for(var i={},a=e.length-1;a>=0;a--){var u=e[a],l=u&&u._id;!u||i[l]?e.splice(a,1):(u._remove(!1,!0),i[l]=!0)}g.splice(t,e,r,0);for(var h=this._project,f=h._changes,a=0,c=e.length;a<c;a++){var u=e[a],_=u._name;u._parent=this,u._setProject(h,!0),_&&u.setName(_),f&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(r,e){var t=r&&r._getOwner(),i=r!==this&&t?this:null;return i&&(i._remove(!1,!0),t._insertItem(r._index+e,i)),i},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(o,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var e=this._children;if(e&&e.length===1){var t=e[0].reduce(r);return this._parent?(t.insertAbove(this),this.remove()):t.remove(),t}return this},_removeNamed:function(){var r=this._getOwner();if(r){var e=r._children,t=r._namedChildren,i=this._name,a=t[i],u=a?a.indexOf(this):-1;u!==-1&&(e[i]==this&&delete e[i],a.splice(u,1),a.length?e[i]=a[0]:delete t[i])}},_remove:function(r,e){var t=this._getOwner(),i=this._project,a=this._index;return this._style&&this._style._dispose(),t?(this._name&&this._removeNamed(),a!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),g.splice(t._children,null,a,1)),this._installEvents(!1),r&&i._changes&&this._changed(5),e&&t._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var e=r&&r.insertBelow(this);return e&&this.remove(),e},removeChildren:function(r,e){if(!this._children)return null;r=r||0,e=g.pick(e,this._children.length);for(var t=g.splice(this._children,null,r,e-r),i=t.length-1;i>=0;i--)t[i]._remove(!0,!1);return t.length>0&&this._changed(11),t},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,e=this._children.length;r<e;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var e=this._children,t=e?e.length:0;if(r){for(var i=0;i<t;i++)if(!e[i].isEmpty(r))return!1;return!0}return!t},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function e(l){var h=[];do h.unshift(l);while(l=l._parent);return h}for(var t=e(this),i=e(r),a=0,u=Math.min(t.length,i.length);a<u;a++)if(t[a]!=i[a])return t[a]._index<i[a]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(r){return this._getOrder(r)===-1},isBelow:function(r){return this._getOrder(r)===1},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var e=this;e=e._parent;)if(e===r)return!0;return!1},isAncestor:function(r){return r?r.isDescendant(this):!1},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&r.isDescendant(e))return!0;e=e._parent}return!1}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:L).read(t),a=L.read(t,0,{readNull:!0});return this.transform(new G()[r](i,a||this.getPosition(!0)))}},{translate:function(){var r=new G;return this.transform(r.translate.apply(r,arguments))},transform:function(r,e,t){var i=this._matrix,a=r&&!r.isIdentity(),u=t&&this._canApplyMatrix||this._applyMatrix&&(a||!i.isIdentity()||e&&this._children);if(!a&&!u)return this;if(a){!r.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(r,!0);var l=this._style,h=l.getFillColor(!0),f=l.getStrokeColor(!0);h&&h.transform(r),f&&f.transform(r)}if(u&&(u=this._transformContent(i,e,t))){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),t&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,m=this._position;(a||u)&&this._changed(25);var p=a&&_&&r.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var v in _){var S=_[v];if(S.nonscaling)delete _[v];else if(u||!S.internal){var k=S.rect;r._transformBounds(k,k)}}this._bounds=_;var I=_[this._getBoundsCacheKey(this._boundsOptions||{})];I&&(this._position=this._getPositionFromBounds(I.rect))}else a&&m&&this._pivot&&(this._position=r._transformPoint(m,m));return this},_transformContent:function(r,e,t){var i=this._children;if(i){for(var a=0,u=i.length;a<u;a++)i[a].transform(r,e,t);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(L.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(L.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(L.read(arguments))},localToParent:function(){return this._matrix._transformPoint(L.read(arguments))},fitBounds:function(r,e){r=q.read(arguments);var t=this.getBounds(),i=t.height/t.width,a=r.height/r.width,u=(e?i>a:i<a)?r.width/t.width:r.height/t.height,l=new q(new L,new Y(t.width*u,t.height*u));l.setCenter(r.getCenter()),this.setBounds(l)}}),{_setStyles:function(r,e,t){var i=this._style,a=this._matrix;if(i.hasFill()&&(r.fillStyle=i.getFillColor().toCanvasStyle(r,a)),i.hasStroke()){r.strokeStyle=i.getStrokeColor().toCanvasStyle(r,a),r.lineWidth=i.getStrokeWidth();var u=i.getStrokeJoin(),l=i.getStrokeCap(),h=i.getMiterLimit();if(u&&(r.lineJoin=u),l&&(r.lineCap=l),h&&(r.miterLimit=h),qe.support.nativeDash){var f=i.getDashArray(),c=i.getDashOffset();f&&f.length&&("setLineDash"in r?(r.setLineDash(f),r.lineDashOffset=c):(r.mozDash=f,r.mozDashOffset=c))}}if(i.hasShadow()){var _=e.pixelRatio||1,m=t._shiftless().prepend(new G().scale(_,_)),p=m.transform(new L(i.getShadowBlur(),0)),v=m.transform(this.getShadowOffset());r.shadowColor=i.getShadowColor().toCanvasStyle(r),r.shadowBlur=p.getLength(),r.shadowOffsetX=v.x,r.shadowOffsetY=v.y}},draw:function(r,e,t){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=e.matrices,a=e.viewMatrix,u=this._matrix,l=i[i.length-1].appended(u);if(!!l.isInvertible()){a=a?a.appended(l):l,i.push(l),e.updateMatrix&&(this._globalMatrix=l);var h=this._blendMode,f=J.clamp(this._opacity,0,1),c=h==="normal",_=_t.nativeModes[h],m=c&&f===1||e.dontStart||e.clip||(_||c&&f<1)&&this._canComposite(),p=e.pixelRatio||1,v,S,k;if(!m){var I=this.getStrokeBounds(a);if(!I.width||!I.height){i.pop();return}k=e.offset,S=e.offset=I.getTopLeft().floor(),v=r,r=Ct.getContext(I.getSize().ceil().add(1).multiply(p)),p!==1&&r.scale(p,p)}r.save();var b=t?t.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&a,C=!m&&e.clipItem,w=!b||C;if(m?(r.globalAlpha=f,_&&(r.globalCompositeOperation=h)):w&&r.translate(-S.x,-S.y),w&&(m?u:a).applyToContext(r),C&&e.clipItem.draw(r,e.extend({clip:!0})),b){r.setTransform(p,0,0,p,0,0);var y=e.offset;y&&r.translate(-y.x,-y.y)}this._draw(r,e,a,b),r.restore(),i.pop(),e.clip&&!e.dontFinish&&r.clip(this.getFillRule()),m||(_t.process(h,r,v,f,S.subtract(k).multiply(p)),Ct.release(r),e.offset=k)}}},_isUpdated:function(r){var e=this._parent;if(e instanceof Me)return e._isUpdated(r);var t=this._updateVersion===r;return!t&&e&&e._visible&&e._isUpdated(r)&&(this._updateVersion=r,t=!0),t},_drawSelection:function(r,e,t,i,a){var u=this._selection,l=u&1,h=u&2||l&&this._selectBounds,f=u&4;if(this._drawSelected||(l=!1),(l||h||f)&&this._isUpdated(a)){var c,_=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),m=e.appended(this.getGlobalMatrix(!0)),p=t/2;if(r.strokeStyle=r.fillStyle=_?_.toCanvasStyle(r):"#009dec",l&&this._drawSelected(r,m,i),f){var v=this.getPosition(!0),S=this._parent,k=S?S.localToGlobal(v):v,I=k.x,b=k.y;r.beginPath(),r.arc(I,b,p,0,Math.PI*2,!0),r.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],w=p,y=t+1,P=0;P<4;P++){var T=C[P],z=T[0],E=T[1];r.moveTo(I+z*w,b+E*w),r.lineTo(I+z*y,b+E*y),r.stroke()}}if(h){var M=m._transformCorners(this.getInternalBounds());r.beginPath();for(var P=0;P<8;P++)r[P?"lineTo":"moveTo"](M[P],M[++P]);r.closePath(),r.stroke();for(var P=0;P<8;P++)r.fillRect(M[P]-p,M[++P]-p,t,t)}}},_canComposite:function(){return!1}},g.each(["down","drag","up","move"],function(r){this["removeOn"+g.capitalize(r)]=function(){var e={};return e[r]=!0,this.removeOn(e)}},{removeOn:function(r){for(var e in r)if(r[e]){var t="mouse"+e,i=this._project,a=i._removeSets=i._removeSets||{};a[t]=a[t]||{},a[t][this._id]=this}return this}}),{tween:function(r,e,t){t||(t=e,e=r,r=null,t||(t=e,e=null));var i=t&&t.easing,a=t&&t.start,u=t!=null&&(typeof t=="number"?t:t.duration),l=new Ya(this,r,e,u,i,a);function h(f){l._handleFrame(f.time*1e3),l.running||this.off("frame",h)}return u&&this.on("frame",h),l},tweenTo:function(r,e){return this.tween(null,r,e)},tweenFrom:function(r,e){return this.tween(r,null,e)}}),ye=ae.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function r(e){r.base.call(this,e),e&2050&&(this._clipItem=o)},_getClipItem:function(){var r=this._clipItem;if(r===o){r=null;for(var e=this._children,t=0,i=e.length;t<i;t++)if(e[t]._clipMask){r=e[t];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var e=this.getFirstChild();e&&e.setClipMask(r)},_getBounds:function r(e,t){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),g.set({},t,{stroke:!1})):r.base.call(this,e,t)},_hitTestChildren:function r(e,t,i){var a=this._getClipItem();return(!a||a.contains(e))&&r.base.call(this,e,t,i,a)},_draw:function(r,e){var t=e.clip,i=!t&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),t?(r.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(r,e.extend({clip:!0}));for(var a=this._children,u=0,l=a.length;u<l;u++){var h=a[u];h!==i&&h.draw(r,e)}}}),xe=ye.extend({_class:"Layer",initialize:function(){ye.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function r(){return this._parent?r.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Te=ae.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&g.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Ae(r.width,r.height,this,"setSize")},setSize:function(){var r=Y.read(arguments);if(!this._size)this._size=r.clone();else if(!this._size.equals(r)){var e=this._type,t=r.width,i=r.height;e==="rectangle"?this._radius.set(Y.min(this._radius,r.divide(2).abs())):e==="circle"?(t=i=(t+i)/2,this._radius=t/2):e==="ellipse"&&this._radius._set(t/2,i/2),this._size._set(t,i),this._changed(9)}},getRadius:function(){var r=this._radius;return this._type==="circle"?r:new Ae(r.width,r.height,this,"setRadius")},setRadius:function(r){var e=this._type;if(e==="circle"){if(r===this._radius)return;var t=r*2;this._radius=r,this._size._set(t,t)}else if(r=Y.read(arguments),!this._radius)this._radius=r.clone();else{if(this._radius.equals(r))return;if(this._radius.set(r),e==="rectangle"){var t=Y.max(this._size,r.multiply(2));this._size.set(t)}else e==="ellipse"&&this._size._set(r.width*2,r.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var e=new pe[g.capitalize(this._type)]({center:new L,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),qe.settings.applyMatrix&&e.setApplyMatrix(!0),(r===o||r)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,e,t,i){var a=this._style,u=a.hasFill(),l=a.hasStroke(),h=e.dontFinish||e.clip,f=!i;if(u||l||h){var c=this._type,_=this._radius,m=c==="circle";if(e.dontStart||r.beginPath(),f&&m)r.arc(0,0,_,0,Math.PI*2,!0);else{var p=m?_:_.width,v=m?_:_.height,S=this._size,k=S.width,I=S.height;if(f&&c==="rectangle"&&p===0&&v===0)r.rect(-k/2,-I/2,k,I);else{var b=k/2,C=I/2,w=1-.5522847498307936,y=p*w,P=v*w,T=[-b,-C+v,-b,-C+P,-b+y,-C,-b+p,-C,b-p,-C,b-y,-C,b,-C+P,b,-C+v,b,C-v,b,C-P,b-y,C,b-p,C,-b+p,C,-b+y,C,-b,C-P,-b,C-v];i&&i.transform(T,T,32),r.moveTo(T[0],T[1]),r.bezierCurveTo(T[2],T[3],T[4],T[5],T[6],T[7]),b!==p&&r.lineTo(T[8],T[9]),r.bezierCurveTo(T[10],T[11],T[12],T[13],T[14],T[15]),C!==v&&r.lineTo(T[16],T[17]),r.bezierCurveTo(T[18],T[19],T[20],T[21],T[22],T[23]),b!==p&&r.lineTo(T[24],T[25]),r.bezierCurveTo(T[26],T[27],T[28],T[29],T[30],T[31])}}r.closePath()}!h&&(u||l)&&(this._setStyles(r,e,t),u&&(r.fill(a.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),l&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,e){var t=new q(this._size).setCenter(0,0),i=this._style,a=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return r&&(t=r._transformBounds(t)),a?t.expand(pe._getStrokePadding(a,this._getStrokeMatrix(r,e))):t}},new function(){function r(t,i,a){var u=t._radius;if(!u.isZero())for(var l=t._size.divide(2),h=1;h<=4;h++){var f=new L(h>1&&h<4?-1:1,h>2?-1:1),c=f.multiply(l),_=c.subtract(f.multiply(u)),m=new q(a?c.add(f.multiply(a)):c,_);if(m.contains(i))return{point:_,quadrant:h}}}function e(t,i,a,u){var l=t.divide(i);return(!u||l.isInQuadrant(u))&&l.subtract(l.normalize()).multiply(i).divide(a).length<=1}return{_contains:function t(i){if(this._type==="rectangle"){var a=r(this,i);return a?i.subtract(a.point).divide(this._radius).getLength()<=1:t.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function t(i,a,u,l){var h=!1,f=this._style,c=a.stroke&&f.hasStroke(),_=a.fill&&f.hasFill();if(c||_){var m=this._type,p=this._radius,v=c?f.getStrokeWidth()/2:0,S=a._tolerancePadding.add(pe._getStrokePadding(v,!f.getStrokeScaling()&&l));if(m==="rectangle"){var k=S.multiply(2),I=r(this,i,k);if(I)h=e(i.subtract(I.point),p,S,I.quadrant);else{var b=new q(this._size).setCenter(0,0),C=b.expand(k),w=b.expand(k.negate());h=C._containsPoint(i)&&!w._containsPoint(i)}}else h=e(i,p,S)}return h?new Ke(c?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function r(e,t,i,a,u){var l=g.create(Te.prototype);return l._type=e,l._size=i,l._radius=a,l._initialize(g.getNamed(u),t),l}return{Circle:function(){var e=arguments,t=L.readNamed(e,"center"),i=g.readNamed(e,"radius");return r("circle",t,new Y(i*2),i,e)},Rectangle:function(){var e=arguments,t=q.readNamed(e,"rectangle"),i=Y.min(Y.readNamed(e,"radius"),t.getSize(!0).divide(2));return r("rectangle",t.getCenter(!0),t.getSize(!0),i,e)},Ellipse:function(){var e=arguments,t=Te._readEllipse(e),i=t.radius;return r("ellipse",t.center,i.multiply(2),i,e)},_readEllipse:function(e){var t,i;if(g.hasNamed(e,"radius"))t=L.readNamed(e,"center"),i=Y.readNamed(e,"radius");else{var a=q.readNamed(e,"rectangle");t=a.getCenter(!0),i=a.getSize(!0).divide(2)}return{center:t,radius:i}}}}}),ze=ae.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==o&&L.read(arguments))){var i,a=typeof e,u=a==="string"?x.getElementById(e):a==="object"?e:null;if(u&&u!==ae.NO_INSERT){if(u.getContext||u.naturalHeight!=null)i=u;else if(u){var l=Y.read(arguments);l.isZero()||(i=Ct.getCanvas(l))}}i?this.setImage(i):this.setSource(e)}this._size||(this._size=new Y,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var e=r._image,t=r._canvas;if(e)this._setImage(e);else if(t){var i=Ct.getCanvas(r._size);i.getContext("2d").drawImage(t,0,0),this._setImage(i)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Ae(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,e){var t=Y.read(arguments);if(t.equals(this._size))e&&this.clear();else if(t.width>0&&t.height>0){var i=!e&&this.getElement();this._setImage(Ct.getCanvas(t)),i&&this.getContext(!0).drawImage(i,0,0,t.width,t.height)}else this._canvas&&Ct.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||r.width===0&&r.height===0},getResolution:function(){var r=this._matrix,e=new L(0,0).transform(r),t=new L(1,0).transform(r).subtract(e),i=new L(0,1).transform(r).subtract(e);return new Y(72/t.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var e=this;function t(i){var a=e.getView(),u=i&&i.type||"load";a&&e.responds(u)&&(qe=a._scope,e.emit(u,new Dn(i)))}this._setImage(r),this._loaded?setTimeout(t,0):r&&He.add(r,{load:function(i){e._setImage(r),t(i)},error:t})},_setImage:function(r){this._canvas&&Ct.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new Y(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=Ct.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch(e){Ct.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var e=new s.Image,t=this._crossOrigin;t&&(e.crossOrigin=t),r&&(e.src=r),this.setImage(e)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var e=this._image;e&&(e.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing=typeof r=="string"?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=q.read(arguments),e=Ct.getContext(r.getSize());return e.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.canvas},getSubRaster:function(){var r=q.read(arguments),e=new ze(ae.NO_INSERT);return e._setImage(this.getSubCanvas(r)),e.translate(r.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var r=this._image,e=r&&r.src;if(/^data:/.test(e))return e;var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(r){var e=L.read(arguments,1);this.getContext(!0).drawImage(r,e.x,e.y)},getAverageColor:function(r){var e,t;if(r?r instanceof ke?(t=r,e=r.getBounds()):typeof r=="object"&&("width"in r?e=new q(r):"x"in r&&(e=new q(r.x-.5,r.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,a=Math.min(e.width,i),u=Math.min(e.height,i),l=ze._sampleContext;l?l.clearRect(0,0,i+1,i+1):l=ze._sampleContext=Ct.getContext(new Y(i)),l.save();var h=new G().scale(a/e.width,u/e.height).translate(-e.x,-e.y);h.applyToContext(l),t&&t.draw(l,new g({clip:!0,matrices:[h]})),this._matrix.applyToContext(l);var f=this.getElement(),c=this._size;f&&l.drawImage(f,-c.width/2,-c.height/2),l.restore();for(var _=l.getImageData(.5,.5,Math.ceil(a),Math.ceil(u)).data,m=[0,0,0],p=0,v=0,S=_.length;v<S;v+=4){var k=_[v+3];p+=k,k/=255,m[0]+=_[v]*k,m[1]+=_[v+1]*k,m[2]+=_[v+2]*k}for(var v=0;v<3;v++)m[v]/=p;return p?Ve.read(m):null},getPixel:function(){var r=L.read(arguments),e=this.getContext().getImageData(r.x,r.y,1,1).data;return new Ve("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var r=arguments,e=L.read(r),t=Ve.read(r),i=t._convert("rgb"),a=t._alpha,u=this.getContext(!0),l=u.createImageData(1,1),h=l.data;h[0]=i[0]*255,h[1]=i[1]*255,h[2]=i[2]*255,h[3]=a!=null?a*255:255,u.putImageData(l,e.x,e.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=Y.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=q.read(arguments);return r.isEmpty()&&(r=new q(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},setImageData:function(r){var e=L.read(arguments,1);this.getContext(!0).putImageData(r,e.x,e.y)},_getBounds:function(r,e){var t=new q(this._size).setCenter(0,0);return r?r._transformBounds(t):t},_hitTestSelf:function(r){if(this._contains(r)){var e=this;return new Ke("pixel",e,{offset:r.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(r,e,t){var i=this.getElement();if(i&&i.width>0&&i.height>0){r.globalAlpha=J.clamp(this._opacity,0,1),this._setStyles(r,e,t);var a=this._smoothing,u=a==="off";Be.setPrefixed(r,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:a),r.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Qe=ae.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==o&&L.read(arguments,1))||this.setDefinition(e instanceof je?e:new je(e))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,e){var t=this._definition._item;return t._getCachedBounds(t._matrix.prepended(r),e)},_hitTestSelf:function(r,e,t){var i=e.extend({all:!1}),a=this._definition._item._hitTest(r,i,t);return a&&(a.item=this),a},_draw:function(r,e){this._definition._item.draw(r,e)}}),je=g.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=ne.get(),this.project=qe.project,e&&this.setItem(e,t)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._class,this._item],r,!1,e)})},_changed:function(r){r&8&&ae._clearBoundsCache(this),r&1&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,e){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),e||r.setPosition(new L),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new Qe(this,r)},clone:function(){return new je(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),Ke=g.extend({_class:"HitResult",initialize:function(e,t,i){this.type=e,this.item=t,i&&this.inject(i)},statics:{getOptions:function(r){var e=r&&g.read(r);return new g({type:null,tolerance:qe.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),ce=g.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,i,a,u,l){var h=arguments.length,f,c,_,m;h>0&&(e==null||typeof e=="object"?h===1&&e&&"point"in e?(f=e.point,c=e.handleIn,_=e.handleOut,m=e.selection):(f=e,c=t,_=i,m=a):(f=[e,t],c=i!==o?[i,a]:null,_=u!==o?[u,l]:null)),new ut(f,this,"_point"),new ut(c,this,"_handleIn"),new ut(_,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(r,e){var t=this._point,i=this._selection,a=i||this.hasHandles()?[t,this._handleIn,this._handleOut]:t;return i&&a.push(i),g.serialize(a,r,!0,e)},_changed:function(r){var e=this._path;if(!!e){var t=e._curves,i=this._index,a;t&&((!r||r===this._point||r===this._handleIn)&&(a=i>0?t[i-1]:e._closed?t[t.length-1]:null)&&a._changed(),(!r||r===this._point||r===this._handleOut)&&(a=t[i])&&a._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(L.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(L.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(L.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,e=this._handleOut;return!r.isZero()&&!e.isZero()&&r.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var e=this._selection,t=this._path;this._selection=r=r||0,t&&r!==e&&(t._updateSelection(this,e,r),t._changed(257))},_changeSelection:function(r,e){var t=this._selection;this.setSelection(e?t|r:t&~r)},isSelected:function(){return!!(this._selection&7)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,e=this._index;return r?(e>0&&!r._closed&&e===r._segments.length-1&&e--,r.getCurves()[e]||null):null},getLocation:function(){var r=this.getCurve();return r?new rt(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,e,t){var i=r||{},a=i.type,u=i.factor,l=this.getPrevious(),h=this.getNext(),f=(l||this)._point,c=this._point,_=(h||this)._point,m=f.getDistance(c),p=c.getDistance(_);if(!a||a==="catmull-rom"){var v=u===o?.5:u,S=Math.pow(m,v),k=S*S,I=Math.pow(p,v),b=I*I;if(!e&&l){var C=2*b+3*I*S+k,w=3*I*(I+S);this.setHandleIn(w!==0?new L((b*f._x+C*c._x-k*_._x)/w-c._x,(b*f._y+C*c._y-k*_._y)/w-c._y):new L)}if(!t&&h){var C=2*k+3*S*I+b,w=3*S*(S+I);this.setHandleOut(w!==0?new L((k*_._x+C*c._x-b*f._x)/w-c._x,(k*_._y+C*c._y-b*f._y)/w-c._y):new L)}}else if(a==="geometric"){if(l&&h){var y=f.subtract(_),P=u===o?.4:u,T=P*m/(m+p);e||this.setHandleIn(y.multiply(T)),t||this.setHandleOut(y.multiply(T-P))}}else throw new Error("Smoothing method '"+a+"' not supported.")},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,e=this._handleOut,t=r.clone();r.set(e),e.set(t)},reversed:function(){return new ce(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ce(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,e,t){var i=1-t,a=t,u=r._point,l=e._point,h=r._handleIn,f=e._handleIn,c=e._handleOut,_=r._handleOut;this._point._set(i*u._x+a*l._x,i*u._y+a*l._y,!0),this._handleIn._set(i*h._x+a*f._x,i*h._y+a*f._y,!0),this._handleOut._set(i*_._x+a*c._x,i*_._y+a*c._y,!0),this._changed()},_transformCoordinates:function(r,e,t){var i=this._point,a=!t||!this._handleIn.isZero()?this._handleIn:null,u=!t||!this._handleOut.isZero()?this._handleOut:null,l=i._x,h=i._y,f=2;return e[0]=l,e[1]=h,a&&(e[f++]=a._x+l,e[f++]=a._y+h),u&&(e[f++]=u._x+l,e[f++]=u._y+h),r&&(r._transformCoordinates(e,e,f/2),l=e[0],h=e[1],t?(i._x=l,i._y=h,f=2,a&&(a._x=e[f++]-l,a._y=e[f++]-h),u&&(u._x=e[f++]-l,u._y=e[f++]-h)):(a||(e[f++]=l,e[f++]=h),u||(e[f++]=l,e[f++]=h))),e}}),ut=L.extend({initialize:function(e,t,i){var a,u,l;if(!e)a=u=0;else if((a=e[0])!==o)u=e[1];else{var h=e;(a=h.x)===o&&(h=L.read(arguments),a=h.x),u=h.y,l=h.selected}this._x=a,this._y=u,this._owner=t,t[i]=this,l&&this.setSelected(!0)},_set:function(r,e){return this._x=r,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=J.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),re=g.extend({_class:"Curve",beans:!0,initialize:function(e,t,i,a,u,l,h,f){var c=arguments.length,_,m,p,v,S,k;c===3?(this._path=e,_=t,m=i):c?c===1?"segment1"in e?(_=new ce(e.segment1),m=new ce(e.segment2)):"point1"in e?(p=e.point1,S=e.handle1,k=e.handle2,v=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],v=[e[6],e[7]],S=[e[2]-e[0],e[3]-e[1]],k=[e[4]-e[6],e[5]-e[7]]):c===2?(_=new ce(e),m=new ce(t)):c===4?(p=e,S=t,k=i,v=a):c===8&&(p=[e,t],v=[h,f],S=[i-e,a-t],k=[u-h,l-f]):(_=new ce,m=new ce),this._segment1=_||new ce(p,null,S),this._segment2=m||new ce(v,k,null)},_serialize:function(r,e){return g.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new re(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return re.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var e=this._segment2,t=e._handleOut;r=e.remove(),r&&this._segment1._handleOut.set(t)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(L.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(L.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(L.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(L.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return re.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),e=[],t=0;t<8;t+=2)e.push(new L(r[t],r[t+1]));return e}},{getLength:function(){return this._length==null&&(this._length=re.getLength(this.getValues(),0,1)),this._length},getArea:function(){return re.getArea(this.getValues())},getLine:function(){return new ue(this._segment1._point,this._segment2._point)},getPart:function(r,e){return new re(re.getPart(this.getValues(),r,e))},getPartLength:function(r,e){return re.getLength(this.getValues(),r,e)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,e){var t=1e-8,i=1-t,a=null;if(r>=t&&r<=i){var u=re.subdivide(this.getValues(),r),l=u[0],h=u[1],f=e||this.hasHandles(),c=this._segment1,_=this._segment2,m=this._path;f&&(c._handleOut._set(l[2]-l[0],l[3]-l[1]),_._handleIn._set(h[4]-h[6],h[5]-h[7]));var p=l[6],v=l[7],S=new ce(new L(p,v),f&&new L(l[4]-p,l[5]-v),f&&new L(h[2]-p,h[3]-v));m?(m.insert(c._index+1,S),a=this.getNext()):(this._segment2=S,this._changed(),a=new re(S,_))}return a},splitAt:function(r){var e=this._path;return e?e.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,e){return this.divideAtTime(r===o?.5:e?r:this.getTimeAt(r))},split:function(r,e){return this.splitAtTime(r===o?.5:e?r:this.getTimeAt(r))},reversed:function(){return new re(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,e,t,i){var a=r._point,u=r._handleOut,l=e._handleIn,h=e._point,f=a.x,c=a.y,_=h.x,m=h.y,p=i?[f,c,f,c,_,m,_,m]:[f,c,f+u._x,c+u._y,_+l._x,m+l._y,_,m];return t&&t._transformCoordinates(p,p,4),p},subdivide:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],c=r[7];e===o&&(e=.5);var _=1-e,m=_*t+e*a,p=_*i+e*u,v=_*a+e*l,S=_*u+e*h,k=_*l+e*f,I=_*h+e*c,b=_*m+e*v,C=_*p+e*S,w=_*v+e*k,y=_*S+e*I,P=_*b+e*w,T=_*C+e*y;return[[t,i,m,p,b,C,P,T],[P,T,w,y,k,I,f,c]]},getMonoCurves:function(r,e){var t=[],i=e?0:1,a=r[i+0],u=r[i+2],l=r[i+4],h=r[i+6];if(a>=u==u>=l&&u>=l==l>=h||re.isStraight(r))t.push(r);else{var f=3*(u-l)-a+h,c=2*(a+l)-4*u,_=u-a,m=1e-8,p=1-m,v=[],S=J.solveQuadratic(f,c,_,v,m,p);if(!S)t.push(r);else{v.sort();var k=v[0],I=re.subdivide(r,k);t.push(I[0]),S>1&&(k=(v[1]-k)/(1-k),I=re.subdivide(I[1],k),t.push(I[0])),t.push(I[1])}}return t},solveCubic:function(r,e,t,i,a,u){var l=r[e],h=r[e+2],f=r[e+4],c=r[e+6],_=0;if(!(l<t&&c<t&&h<t&&f<t||l>t&&c>t&&h>t&&f>t)){var m=3*(h-l),p=3*(f-h)-m,v=c-l-m-p;_=J.solveCubic(v,p,m,l-t,i,a,u)}return _},getTimeOf:function(r,e){var t=new L(r[0],r[1]),i=new L(r[6],r[7]),a=1e-12,u=1e-7,l=e.isClose(t,a)?0:e.isClose(i,a)?1:null;if(l===null)for(var h=[e.x,e.y],f=[],c=0;c<2;c++)for(var _=re.solveCubic(r,c,h[c],f,0,1),m=0;m<_;m++){var p=f[m];if(e.isClose(re.getPoint(r,p),u))return p}return e.isClose(t,u)?0:e.isClose(i,u)?1:null},getNearestTime:function(r,e){if(re.isStraight(r)){var t=r[0],i=r[1],a=r[6],u=r[7],l=a-t,h=u-i,f=l*l+h*h;if(f===0)return 0;var c=((e.x-t)*l+(e.y-i)*h)/f;return c<1e-12?0:c>.999999999999?1:re.getTimeOf(r,new L(t+c*l,i+c*h))}var _=100,m=1/0,p=0;function v(I){if(I>=0&&I<=1){var b=e.getDistance(re.getPoint(r,I),!0);if(b<m)return m=b,p=I,!0}}for(var S=0;S<=_;S++)v(S/_);for(var k=1/(_*2);k>1e-8;)!v(p-k)&&!v(p+k)&&(k/=2);return p},getPart:function(r,e,t){var i=e>t;if(i){var a=e;e=t,t=a}return e>0&&(r=re.subdivide(r,e)[1]),t<1&&(r=re.subdivide(r,(t-e)/(1-e))[0]),i?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,e){var t=r[0],i=r[1],a=r[2],u=r[3],l=r[4],h=r[5],f=r[6],c=r[7],_=3*a-2*t-f,m=3*u-2*i-c,p=3*l-2*f-t,v=3*h-2*c-i;return Math.max(_*_,p*p)+Math.max(m*m,v*v)<=16*e*e},getArea:function(r){var e=r[0],t=r[1],i=r[2],a=r[3],u=r[4],l=r[5],h=r[6],f=r[7];return 3*((f-t)*(i+u)-(h-e)*(a+l)+a*(e-u)-i*(t-l)+f*(u+e/3)-h*(l+t/3))/20},getBounds:function(r){for(var e=r.slice(0,2),t=e.slice(),i=[0,0],a=0;a<2;a++)re._addBounds(r[a],r[a+2],r[a+4],r[a+6],a,0,e,t,i);return new q(e[0],e[1],t[0]-e[0],t[1]-e[1])},_addBounds:function(r,e,t,i,a,u,l,h,f){function c(P,T){var z=P-T,E=P+T;z<l[a]&&(l[a]=z),E>h[a]&&(h[a]=E)}u/=2;var _=l[a]+u,m=h[a]-u;if(r<_||e<_||t<_||i<_||r>m||e>m||t>m||i>m)if(e<r!=e<i&&t<r!=t<i)c(r,0),c(i,0);else{var p=3*(e-t)-r+i,v=2*(r+t)-4*e,S=e-r,k=J.solveQuadratic(p,v,S,f),I=1e-8,b=1-I;c(i,0);for(var C=0;C<k;C++){var w=f[C],y=1-w;I<=w&&w<=b&&c(y*y*y*r+3*y*y*w*e+3*y*w*w*t+w*w*w*i,u)}}}}},g.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var e=this._bounds[r];return e||(e=this._bounds[r]=pe[r]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),g.each({isStraight:function(r,e,t,i){if(e.isZero()&&t.isZero())return!0;var a=i.subtract(r);if(a.isZero())return!1;if(a.isCollinear(e)&&a.isCollinear(t)){var u=new ue(r,i),l=1e-7;if(u.getDistance(r.add(e))<l&&u.getDistance(i.add(t))<l){var h=a.dot(a),f=a.dot(e)/h,c=a.dot(t)/h;return f>=0&&f<=1&&c<=0&&c>=-1}}return!1},isLinear:function(r,e,t,i){var a=i.subtract(r).divide(3);return e.equals(a)&&t.negate().equals(a)}},function(r,e){this[e]=function(t){var i=this._segment1,a=this._segment2;return r(i._point,i._handleOut,a._handleIn,a._point,t)},this.statics[e]=function(t,i){var a=t[0],u=t[1],l=t[6],h=t[7];return r(new L(a,u),new L(t[2]-a,t[3]-u),new L(t[4]-l,t[5]-h),new L(l,h),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,e){return this.getLocationAtTime(e?r:this.getTimeAt(r))},getLocationAtTime:function(r){return r!=null&&r>=0&&r<=1?new rt(this,r):null},getTimeAt:function(r,e){return re.getTimeAt(this.getValues(),r,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=L.read(arguments);return r.isZero()?[]:re.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(L.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return re.getTimeOf(this.getValues(),L.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=L.read(arguments),e=this.getValues(),t=re.getNearestTime(e,r),i=re.getPoint(e,t);return new rt(this,t,i,null,r.getDistance(i))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return g.each(r,function(e){this[e+"At"]=function(t,i){var a=this.getValues();return re[e](a,i?t:re.getTimeAt(a,t))},this[e+"AtTime"]=function(t){return re[e](this.getValues(),t)}},{statics:{_evaluateMethods:r}})},new function(){function r(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=9*(l-f)+3*(_-a),v=6*(a+f)-12*l,S=3*(l-a),k=9*(h-c)+3*(m-u),I=6*(u+c)-12*h,b=3*(h-u);return function(C){var w=(p*C+v)*C+S,y=(k*C+I)*C+b;return Math.sqrt(w*w+y*y)}}function e(i,a){return Math.max(2,Math.min(16,Math.ceil(Math.abs(a-i)*32)))}function t(i,a,u,l){if(a==null||a<0||a>1)return null;var h=i[0],f=i[1],c=i[2],_=i[3],m=i[4],p=i[5],v=i[6],S=i[7],k=J.isZero;k(c-h)&&k(_-f)&&(c=h,_=f),k(m-v)&&k(p-S)&&(m=v,p=S);var I=3*(c-h),b=3*(m-c)-I,C=v-h-I-b,w=3*(_-f),y=3*(p-_)-w,P=S-f-w-y,T,z;if(u===0)T=a===0?h:a===1?v:((C*a+b)*a+I)*a+h,z=a===0?f:a===1?S:((P*a+y)*a+w)*a+f;else{var E=1e-8,M=1-E;if(a<E?(T=I,z=w):a>M?(T=3*(v-m),z=3*(S-p)):(T=(3*C*a+2*b)*a+I,z=(3*P*a+2*y)*a+w),l){T===0&&z===0&&(a<E||a>M)&&(T=m-c,z=p-_);var A=Math.sqrt(T*T+z*z);A&&(T/=A,z/=A)}if(u===3){var m=6*C*a+2*b,p=6*P*a+2*y,N=Math.pow(T*T+z*z,3/2);T=N!==0?(T*p-z*m)/N:0,z=0}}return u===2?new L(z,-T):new L(T,z)}return{statics:{classify:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=a*(m-c)+u*(f-_)+_*c-m*f,v=l*(u-m)+h*(_-a)+a*m-u*_,S=f*(h-u)+c*(a-l)+l*u-h*a,k=3*S,I=k-v,b=I-v+p,C=Math.sqrt(b*b+I*I+k*k),w=C!==0?1/C:0,y=J.isZero,P="serpentine";b*=w,I*=w,k*=w;function T(A,N,D){var O=N!==o,R=O&&N>0&&N<1,B=O&&D>0&&D<1;return O&&(!(R||B)||A==="loop"&&!(R&&B))&&(A="arch",R=B=!1),{type:A,roots:R||B?R&&B?N<D?[N,D]:[D,N]:[R?N:D]:null}}if(y(b))return y(I)?T(y(k)?"line":"quadratic"):T(P,k/(3*I));var z=3*I*I-4*b*k;if(y(z))return T("cusp",I/(2*b));var E=z>0?Math.sqrt(z/3):Math.sqrt(-z),M=2*b;return T(z>0?P:"loop",(I+E)/M,(I-E)/M)},getLength:function(i,a,u,l){if(a===o&&(a=0),u===o&&(u=1),re.isStraight(i)){var h=i;u<1&&(h=re.subdivide(h,u)[0],a/=u),a>0&&(h=re.subdivide(h,a)[1]);var f=h[6]-h[0],c=h[7]-h[1];return Math.sqrt(f*f+c*c)}return J.integrate(l||r(i),a,u,e(a,u))},getTimeAt:function(i,a,u){if(u===o&&(u=a<0?1:0),a===0)return u;var l=Math.abs,h=1e-12,f=a>0,c=f?u:0,_=f?1:u,m=r(i),p=re.getLength(i,c,_,m),v=l(a)-p;if(l(v)<h)return f?_:c;if(v>h)return null;var S=a/p,k=0;function I(b){return k+=J.integrate(m,u,b,e(u,b)),u=b,k-a}return J.findRoot(I,m,u+S,c,_,32,1e-12)},getPoint:function(i,a){return t(i,a,0,!1)},getTangent:function(i,a){return t(i,a,1,!0)},getWeightedTangent:function(i,a){return t(i,a,1,!1)},getNormal:function(i,a){return t(i,a,2,!0)},getWeightedNormal:function(i,a){return t(i,a,2,!1)},getCurvature:function(i,a){return t(i,a,3,!1).x},getPeaks:function(i){var a=i[0],u=i[1],l=i[2],h=i[3],f=i[4],c=i[5],_=i[6],m=i[7],p=-a+3*l-3*f+_,v=3*a-6*l+3*f,S=-3*a+3*l,k=-u+3*h-3*c+m,I=3*u-6*h+3*c,b=-3*u+3*h,C=1e-8,w=1-C,y=[];return J.solveCubic(9*(p*p+k*k),9*(p*v+I*k),2*(v*v+I*I)+3*(S*p+b*k),S*v+I*b,y,C,w),y.sort()}}}},new function(){function r(v,S,k,I,b,C,w){var y=!w&&k.getPrevious()===b,P=!w&&k!==b&&k.getNext()===b,T=1e-8,z=1-T;if(I!==null&&I>=(y?T:0)&&I<=(P?z:1)&&C!==null&&C>=(P?T:0)&&C<=(y?z:1)){var E=new rt(k,I,null,w),M=new rt(b,C,null,w);E._intersection=M,M._intersection=E,(!S||S(E))&&rt.insert(v,E,!0)}}function e(v,S,k,I,b,C,w,y,P,T,z,E,M){if(++P>=4096||++y>=40)return P;var A=1e-9,N=S[0],D=S[1],O=S[6],R=S[7],B=ue.getSignedDistance,V=B(N,D,O,R,S[2],S[3]),U=B(N,D,O,R,S[4],S[5]),W=V*U>0?3/4:4/9,$=W*Math.min(0,V,U),ie=W*Math.max(0,V,U),le=B(N,D,O,R,v[0],v[1]),he=B(N,D,O,R,v[2],v[3]),ee=B(N,D,O,R,v[4],v[5]),te=B(N,D,O,R,v[6],v[7]),fe=t(le,he,ee,te),de=fe[0],me=fe[1],Se,Ce;if(V===0&&U===0&&le===0&&he===0&&ee===0&&te===0||(Se=i(de,me,$,ie))==null||(Ce=i(de.reverse(),me.reverse(),$,ie))==null)return P;var Pe=T+(z-T)*Se,be=T+(z-T)*Ce;if(Math.max(M-E,be-Pe)<A){var Ee=(Pe+be)/2,We=(E+M)/2;r(b,C,w?I:k,w?We:Ee,w?k:I,w?Ee:We)}else{v=re.getPart(v,Se,Ce);var Xe=M-E;if(Ce-Se>.8)if(be-Pe>Xe){var Ze=re.subdivide(v,.5),Ee=(Pe+be)/2;P=e(S,Ze[0],I,k,b,C,!w,y,P,E,M,Pe,Ee),P=e(S,Ze[1],I,k,b,C,!w,y,P,E,M,Ee,be)}else{var Ze=re.subdivide(S,.5),We=(E+M)/2;P=e(Ze[0],v,I,k,b,C,!w,y,P,E,We,Pe,be),P=e(Ze[1],v,I,k,b,C,!w,y,P,We,M,Pe,be)}else Xe===0||Xe>=A?P=e(S,v,I,k,b,C,!w,y,P,E,M,Pe,be):P=e(v,S,k,I,b,C,w,y,P,Pe,be,E,M)}return P}function t(v,S,k,I){var b=[0,v],C=[1/3,S],w=[2/3,k],y=[1,I],P=S-(2*v+I)/3,T=k-(v+2*I)/3,z;if(P*T<0)z=[[b,C,y],[b,w,y]];else{var E=P/T;z=[E>=2?[b,C,y]:E<=.5?[b,w,y]:[b,C,w,y],[b,y]]}return(P||T)<0?z.reverse():z}function i(v,S,k,I){return v[0][1]<k?a(v,!0,k):S[0][1]>I?a(S,!1,I):v[0][0]}function a(v,S,k){for(var I=v[0][0],b=v[0][1],C=1,w=v.length;C<w;C++){var y=v[C][0],P=v[C][1];if(S?P>=k:P<=k)return P===k?y:I+(k-b)*(y-I)/(P-b);I=y,b=P}return null}function u(v,S,k,I,b){var C=J.isZero;if(C(I)&&C(b)){var w=re.getTimeOf(v,new L(S,k));return w===null?[]:[w]}for(var y=Math.atan2(-b,I),P=Math.sin(y),T=Math.cos(y),z=[],E=[],M=0;M<8;M+=2){var A=v[M]-S,N=v[M+1]-k;z.push(A*T-N*P,A*P+N*T)}return re.solveCubic(z,1,0,E,0,1),E}function l(v,S,k,I,b,C,w){for(var y=S[0],P=S[1],T=S[6],z=S[7],E=u(v,y,P,T-y,z-P),M=0,A=E.length;M<A;M++){var N=E[M],D=re.getPoint(v,N),O=re.getTimeOf(S,D);O!==null&&r(b,C,w?I:k,w?O:N,w?k:I,w?N:O)}}function h(v,S,k,I,b,C){var w=ue.intersect(v[0],v[1],v[6],v[7],S[0],S[1],S[6],S[7]);w&&r(b,C,k,re.getTimeOf(v,w),I,re.getTimeOf(S,w))}function f(v,S,k,I,b,C){var w=1e-12,y=Math.min,P=Math.max;if(P(v[0],v[2],v[4],v[6])+w>y(S[0],S[2],S[4],S[6])&&y(v[0],v[2],v[4],v[6])-w<P(S[0],S[2],S[4],S[6])&&P(v[1],v[3],v[5],v[7])+w>y(S[1],S[3],S[5],S[7])&&y(v[1],v[3],v[5],v[7])-w<P(S[1],S[3],S[5],S[7])){var T=m(v,S);if(T)for(var z=0;z<2;z++){var E=T[z];r(b,C,k,E[0],I,E[1],!0)}else{var M=re.isStraight(v),A=re.isStraight(S),N=M&&A,D=M&&!A,O=b.length;if((N?h:M||A?l:e)(D?S:v,D?v:S,D?I:k,D?k:I,b,C,D,0,0,0,1,0,1),!N||b.length===O)for(var z=0;z<4;z++){var R=z>>1,B=z&1,V=R*6,U=B*6,W=new L(v[V],v[V+1]),$=new L(S[U],S[U+1]);W.isClose($,w)&&r(b,C,k,R,I,B)}}}return b}function c(v,S,k,I){var b=re.classify(v);if(b.type==="loop"){var C=b.roots;r(k,I,S,C[0],S,C[1])}return k}function _(v,S,k,I,b,C){var w=1e-7,y=!S;y&&(S=v);for(var P=v.length,T=S.length,z=new Array(P),E=y?z:new Array(T),M=[],A=0;A<P;A++)z[A]=v[A].getValues(I);if(!y)for(var A=0;A<T;A++)E[A]=S[A].getValues(b);for(var N=X.findCurveBoundsCollisions(z,E,w),D=0;D<P;D++){var O=v[D],R=z[D];y&&c(R,O,M,k);var B=N[D];if(B)for(var V=0;V<B.length;V++){if(C&&M.length)return M;var U=B[V];if(!y||U>D){var W=S[U],$=E[U];f(R,$,O,W,M,k)}}}return M}function m(v,S){function k(te){var fe=te[6]-te[0],de=te[7]-te[1];return fe*fe+de*de}var I=Math.abs,b=ue.getDistance,C=1e-8,w=1e-7,y=re.isStraight(v),P=re.isStraight(S),T=y&&P,z=k(v)<k(S),E=z?S:v,M=z?v:S,A=E[0],N=E[1],D=E[6]-A,O=E[7]-N;if(b(A,N,D,O,M[0],M[1],!0)<w&&b(A,N,D,O,M[6],M[7],!0)<w)!T&&b(A,N,D,O,E[2],E[3],!0)<w&&b(A,N,D,O,E[4],E[5],!0)<w&&b(A,N,D,O,M[2],M[3],!0)<w&&b(A,N,D,O,M[4],M[5],!0)<w&&(y=P=T=!0);else if(T)return null;if(y^P)return null;for(var R=[v,S],B=[],V=0;V<4&&B.length<2;V++){var U=V&1,W=U^1,$=V>>1,ie=re.getTimeOf(R[U],new L(R[W][$?6:0],R[W][$?7:1]));if(ie!=null){var le=U?[$,ie]:[ie,$];(!B.length||I(le[0]-B[0][0])>C&&I(le[1]-B[0][1])>C)&&B.push(le)}if(V>2&&!B.length)break}if(B.length!==2)B=null;else if(!T){var he=re.getPart(v,B[0][0],B[1][0]),ee=re.getPart(S,B[0][1],B[1][1]);(I(ee[2]-he[2])>w||I(ee[3]-he[3])>w||I(ee[4]-he[4])>w||I(ee[5]-he[5])>w)&&(B=null)}return B}function p(v,S){var k=v[0],I=v[1],b=v[2],C=v[3],w=v[4],y=v[5],P=v[6],T=v[7],z=S.normalize(),E=z.x,M=z.y,A=3*P-9*w+9*b-3*k,N=3*T-9*y+9*C-3*I,D=6*w-12*b+6*k,O=6*y-12*C+6*I,R=3*b-3*k,B=3*C-3*I,V=2*A*M-2*N*E,U=[];if(Math.abs(V)<J.CURVETIME_EPSILON){var W=A*B-N*R,V=A*O-N*D;if(V!=0){var $=-W/V;$>=0&&$<=1&&U.push($)}}else{var ie=(D*D-4*A*R)*M*M+(-2*D*O+4*N*R+4*A*B)*E*M+(O*O-4*N*B)*E*E,le=D*M-O*E;if(ie>=0&&V!=0){var he=Math.sqrt(ie),ee=-(le+he)/V,te=(-le+he)/V;ee>=0&&ee<=1&&U.push(ee),te>=0&&te<=1&&U.push(te)}}return U}return{getIntersections:function(v){var S=this.getValues(),k=v&&v!==this&&v.getValues();return k?f(S,k,this,v,[]):c(S,this,[])},statics:{getOverlaps:m,getIntersections:_,getCurveLineIntersections:u,getTimesWithTangent:p}}}),rt=g.extend({_class:"CurveLocation",initialize:function(e,t,i,a,u){if(t>=.99999999){var l=e.getNext();l&&(t=0,e=l)}this._setCurve(e),this._time=t,this._point=i||e.getPointAtTime(t),this._overlap=a,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var e=r.getCurve();e?this._setCurve(e):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var e=this.getCurve(),t=this.getTime();t===0?r=e._segment1:t===1?r=e._segment2:t!=null&&(r=e.getPartLength(0,t)<e.getPartLength(t,1)?e._segment1:e._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,e=this;r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function t(i){var a=i&&i.getCurve();if(a&&(e._time=a.getTimeOf(e._point))!=null)return e._setCurve(a),a}return this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),e=this._time;return r&&e==null?this._time=r.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(r==null){r=0;var e=this.getPath(),t=this.getIndex();if(e&&t!=null)for(var i=e.getCurves(),a=0;a<t;a++)r+=i[a].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(r==null){var e=this.getCurve(),t=this.getTime();this._curveOffset=r=t!=null&&e&&e.getPartLength(0,t)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),e=r&&r.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var r=this.getCurve(),e=r._path,t=r&&r.splitAtTime(this.getTime());return t&&this._setSegment(e.getLastSegment()),t},equals:function(r,e){var t=this===r;if(!t&&r instanceof rt){var i=this.getCurve(),a=r.getCurve(),u=i._path,l=a._path;if(u===l){var h=Math.abs,f=1e-7,c=h(this.getOffset()-r.getOffset()),_=!e&&this._intersection,m=!e&&r._intersection;t=(c<f||u&&h(u.getLength()-c)<f)&&(!_&&!m||_&&m&&_.equals(m,!0))}}return t},toString:function(){var r=[],e=this.getPoint(),t=se.instance;e&&r.push("point: "+e);var i=this.getIndex();i!=null&&r.push("index: "+i);var a=this.getTime();return a!=null&&r.push("time: "+t.number(a)),this._distance!=null&&r.push("distance: "+t.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var e=this.getCurve(),t=r.getCurve();return!(e.isStraight()&&t.isStraight()&&e.getLine().intersect(t.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var e=this.getTime(),t=r.getTime(),i=1e-8,a=1-i,u=e>=i&&e<=a,l=t>=i&&t<=a;if(u&&l)return!this.isTouching();var h=this.getCurve(),f=h&&e<i?h.getPrevious():h,c=r.getCurve(),_=c&&t<i?c.getPrevious():c;if(e>a&&(h=h.getNext()),t>a&&(c=c.getNext()),!f||!h||!_||!c)return!1;var m=[];function p(E,M){var A=E.getValues(),N=re.classify(A).roots||re.getPeaks(A),D=N.length,O=re.getLength(A,M&&D?N[D-1]:0,!M&&D?N[0]:1);m.push(D?O:O/32)}function v(E,M,A){return M<A?E>M&&E<A:E>M||E<A}u||(p(f,!0),p(h,!1)),l||(p(_,!0),p(c,!1));var S=this.getPoint(),k=Math.min.apply(Math,m),I=u?h.getTangentAtTime(e):h.getPointAt(k).subtract(S),b=u?I.negate():f.getPointAt(-k).subtract(S),C=l?c.getTangentAtTime(t):c.getPointAt(k).subtract(S),w=l?C.negate():_.getPointAt(-k).subtract(S),y=b.getAngle(),P=I.getAngle(),T=w.getAngle(),z=C.getAngle();return!!(u?v(y,T,z)^v(P,T,z)&&v(y,z,T)^v(P,z,T):v(T,y,P)^v(z,y,P)&&v(T,P,y)^v(z,P,y))},hasOverlap:function(){return!!this._overlap}},g.each(re._evaluateMethods,function(r){var e=r+"At";this[r]=function(){var t=this.getCurve(),i=this.getTime();return i!=null&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function r(e,t,i){var a=e.length,u=0,l=a-1;function h(S,k){for(var I=S+k;I>=-1&&I<=a;I+=k){var b=e[(I%a+a)%a];if(!t.getPoint().isClose(b.getPoint(),1e-7))break;if(t.equals(b))return b}return null}for(;u<=l;){var f=u+l>>>1,c=e[f],_;if(i&&(_=t.equals(c)?c:h(f,-1)||h(f,1)))return t._overlap&&(_._overlap=_._intersection._overlap=!0),_;var m=t.getPath(),p=c.getPath(),v=m!==p?m._id-p._id:t.getIndex()+t.getTime()-(c.getIndex()+c.getTime());v<0?l=f-1:u=f+1}return e.splice(u,0,t),t}return{statics:{insert:r,expand:function(e){for(var t=e.slice(),i=e.length-1;i>=0;i--)r(t,e[i]._intersection,!1);return t}}}}),ke=ae.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var e,t,i;if(g.isPlainObject(r)?(t=r.segments,e=r.pathData):Array.isArray(r)?t=r:typeof r=="string"&&(e=r),t){var a=t[0];i=a&&Array.isArray(a[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var u=i?Me:pe;return new u(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var e=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),t,i=!1,a,u,l=new L,h=new L;function f(w,y){var P=+t[w];return i&&(P+=l[y]),P}function c(w){return new L(f(w,"x"),f(w+1,"y"))}this.clear();for(var _=0,m=e&&e.length;_<m;_++){var p=e[_],v=p[0],S=v.toLowerCase();t=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var k=t&&t.length;switch(i=v===S,a==="z"&&!/[mz]/.test(S)&&this.moveTo(l),S){case"m":case"l":for(var I=S==="m",b=0;b<k;b+=2)this[I?"moveTo":"lineTo"](l=c(b)),I&&(h=l,I=!1);u=l;break;case"h":case"v":var C=S==="h"?"x":"y";l=l.clone();for(var b=0;b<k;b++)l[C]=f(b,C),this.lineTo(l);u=l;break;case"c":for(var b=0;b<k;b+=6)this.cubicCurveTo(c(b),u=c(b+2),l=c(b+4));break;case"s":for(var b=0;b<k;b+=4)this.cubicCurveTo(/[cs]/.test(a)?l.multiply(2).subtract(u):l,u=c(b),l=c(b+2)),a=S;break;case"q":for(var b=0;b<k;b+=4)this.quadraticCurveTo(u=c(b),l=c(b+2));break;case"t":for(var b=0;b<k;b+=2)this.quadraticCurveTo(u=/[qt]/.test(a)?l.multiply(2).subtract(u):l,l=c(b)),a=S;break;case"a":for(var b=0;b<k;b+=7)this.arcTo(l=c(b+5),new Y(+t[b],+t[b+1]),+t[b+2],+t[b+4],+t[b+3]);break;case"z":this.closePath(1e-12),l=h;break}a=S}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var e=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(r,e,t,i){var a=this===r||!r,u=this._matrix._orNullIfIdentity(),l=a?u:(t||r._matrix)._orNullIfIdentity();return a||this.getBounds(u).intersects(r.getBounds(l),1e-12)?re.getIntersections(this.getCurves(),!a&&r.getCurves(),e,u,l,i):[]},getCrossings:function(r){return this.getIntersections(r,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var r=L.read(arguments),e=this.getCurves(),t=1/0,i=null,a=0,u=e.length;a<u;a++){var l=e[a].getNearestLocation(r);l._distance<t&&(t=l._distance,i=l)}return i},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,e,t){var i=!this._children,a=i?"_segments":"_children",u=r[a],l=e[a],h=this[a];if(!u||!l||u.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+e);var f=h.length,c=l.length;if(f<c)for(var _=i?ce:pe,m=f;m<c;m++)this.add(new _);else f>c&&this[i?"removeSegments":"removeChildren"](c,f);for(var m=0;m<c;m++)h[m].interpolate(u[m],l[m],t);i&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var e=!1;if(r){var t=this._children||[this],i=r._children?r._children.slice():[r],a=t.length,u=i.length,l=[],h=0;e=!0;for(var f=X.findItemBoundsCollisions(t,i,J.GEOMETRIC_EPSILON),c=a-1;c>=0&&e;c--){var _=t[c];e=!1;var m=f[c];if(m)for(var p=m.length-1;p>=0&&!e;p--)_.compare(i[m[p]])&&(l[m[p]]||(l[m[p]]=!0,h++),e=!0)}e=e&&h===u}return e}}),pe=ke.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,i=Array.isArray(e)?typeof e[0]=="object"?e:t:e&&e.size===o&&(e.x!==o||e.point!==o)?t:null;i&&i.length>0?this.setSegments(i):(this._curves=o,this._segmentSelection=0,!i&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(r){return this._closed===r._closed&&g.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(e){if(r.base.call(this,e),e&8){if(this._length=this._area=o,e&32)this._version++;else if(this._curves)for(var t=0,i=this._curves.length;t<i;t++)this._curves[t]._changed()}else e&64&&(this._bounds=o)},getStyle:function(){var r=this._parent;return(r instanceof Me?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var e=this.isFullySelected(),t=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,t){var i=r[t-1];typeof i=="boolean"&&(this.setClosed(i),t--),this._add(ce.readList(r,0,{},t))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,e=this._segments;if(!r){var t=this._countCurves();r=this._curves=new Array(t);for(var i=0;i<t;i++)r[i]=new re(this,e[i],e[i+1]||e[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var e=this._curves.length=this._countCurves();r&&(this._curves[e-1]=new re(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,e){var t=this._segments,i=t.length,a=new se(e),u=new Array(6),l=!0,h,f,c,_,m,p,v,S,k=[];function I(C,w){if(C._transformCoordinates(r,u),h=u[0],f=u[1],l)k.push("M"+a.pair(h,f)),l=!1;else if(m=u[2],p=u[3],m===h&&p===f&&v===c&&S===_){if(!w){var y=h-c,P=f-_;k.push(y===0?"v"+a.number(P):P===0?"h"+a.number(y):"l"+a.pair(y,P))}}else k.push("c"+a.pair(v-c,S-_)+" "+a.pair(m-c,p-_)+" "+a.pair(h-c,f-_));c=h,_=f,v=u[4],S=u[5]}if(!i)return"";for(var b=0;b<i;b++)I(t[b]);return this._closed&&i>0&&(I(t[0],!0),k.push("z")),k.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var e=this._segments,t=new Array(6),i=0,a=e.length;i<a;i++)e[i]._transformCoordinates(r,t,!0);return!0},_add:function(r,l){for(var t=this._segments,i=this._curves,a=r.length,u=l==null,l=u?t.length:l,h=0;h<a;h++){var f=r[h];f._path&&(f=r[h]=f.clone()),f._path=this,f._index=l+h,f._selection&&this._updateSelection(f,0,f._selection)}if(u)g.push(t,r);else{t.splice.apply(t,[l,0].concat(r));for(var h=l+a,c=t.length;h<c;h++)t[h]._index=h}if(i){var _=this._countCurves(),m=l>0&&l+a-1===_?l-1:l,p=m,v=Math.min(m+a,_);r._curves&&(i.splice.apply(i,[m,0].concat(r._curves)),p+=r._curves.length);for(var h=p;h<v;h++)i.splice(h,0,new re(this,null,null));this._adjustCurves(m,v)}return this._changed(41),r},_adjustCurves:function(r,e){for(var t=this._segments,i=this._curves,a,u=r;u<e;u++)a=i[u],a._path=this,a._segment1=t[u],a._segment2=t[u+1]||t[0],a._changed();(a=i[this._closed&&!r?t.length-1:r-1])&&(a._segment2=t[r]||t[0],a._changed()),(a=i[e])&&(a._segment1=t[e],a._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var e=arguments;return e.length>1&&typeof r!="number"?this._add(ce.readList(e)):this._add([ce.read(e)])[0]},insert:function(r,e){var t=arguments;return t.length>2&&typeof e!="number"?this._add(ce.readList(t,1),r):this._add([ce.read(t,1)],r)[0]},addSegment:function(){return this._add([ce.read(arguments)])[0]},insertSegment:function(r){return this._add([ce.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(ce.readList(r))},insertSegments:function(r,e){return this._add(ce.readList(e),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,e,t){r=r||0,e=g.pick(e,this._segments.length);var i=this._segments,a=this._curves,u=i.length,l=i.splice(r,e-r),h=l.length;if(!h)return l;for(var f=0;f<h;f++){var c=l[f];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var f=r,_=i.length;f<_;f++)i[f]._index=f;if(a){for(var m=r>0&&e===u+(this._closed?1:0)?r-1:r,a=a.splice(m,h),f=a.length-1;f>=0;f--)a[f]._path=null;t&&(l._curves=a.slice(1)),this._adjustCurves(m,m)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)if(r[e].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,e=0,t=r.length;e<t;e++)r[e].clearHandles()},getLength:function(){if(this._length==null){for(var r=this.getCurves(),e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();this._length=e}return this._length},getArea:function(){var r=this._area;if(r==null){var e=this._segments,t=this._closed;r=0;for(var i=0,a=e.length;i<a;i++){var u=i+1===a;r+=re.getArea(re.getValues(e[i],e[u?0:i+1],null,u&&!t))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===r*7},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(e){e&1||this._selectSegments(!1),r.base.call(this,e)},_selectSegments:function(r){var e=this._segments,t=e.length,i=r?7:0;this._segmentSelection=i*t;for(var a=0;a<t;a++)e[a]._selection=i},_updateSelection:function(r,e,t){r._selection=t;var i=this._segmentSelection+=t-e;i>0&&this.setSelected(!0)},divideAt:function(r){var e=this.getLocationAt(r),t;return e&&(t=e.getCurve().divideAt(e.getCurveOffset()))?t._segment1:null},splitAt:function(r){var e=this.getLocationAt(r),t=e&&e.index,i=e&&e.time,a=1e-8,u=1-a;i>u&&(t++,i=0);var l=this.getCurves();if(t>=0&&t<l.length){i>=a&&l[t++].divideAtTime(i);var h=this.removeSegments(t,this._segments.length,!0),f;return this._closed?(this.setClosed(!1),f=this):(f=new pe(ae.NO_INSERT),f.insertAbove(this),f.copyAttributes(this)),f._add(h,0),this.addSegment(h[0]),f}return null},split:function(r,e){var t,i=e===o?r:(t=this.getCurves()[r])&&t.getLocationAtTime(e);return i!=null?this.splitAt(i):null},join:function(r,e){var t=e||0;if(r&&r!==this){var i=r._segments,a=this.getLastSegment(),u=r.getLastSegment();if(!u)return this;a&&a._point.isClose(u._point,t)&&r.reverse();var l=r.getFirstSegment();if(a&&a._point.isClose(l._point,t))a.setHandleOut(l._handleOut),this._add(i.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(l._point,t)&&r.reverse(),u=r.getLastSegment(),h&&h._point.isClose(u._point,t)?(h.setHandleIn(u._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}r._closed&&this._add([i[0]]),r.remove()}var f=this.getFirstSegment(),c=this.getLastSegment();return f!==c&&f._point.isClose(c._point,t)&&(f.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(r){for(var e=this.getCurves(),t=r&&r.simplify,i=t?1e-7:0,a=e.length-1;a>=0;a--){var u=e[a];!u.hasHandles()&&(!u.hasLength(i)||t&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,e=this._segments.length;r<e;r++){var t=this._segments[r],i=t._handleIn;t._handleIn=t._handleOut,t._handleOut=i,t._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var e=new at(this,r||.25,256,!0),t=e.parts,i=t.length,a=[],u=0;u<i;u++)a.push(new ce(t[u].curve.slice(0,2)));!this._closed&&i>0&&a.push(new ce(t[i-1].curve.slice(6))),this.setSegments(a)},simplify:function(r){var e=new St(this).fit(r||2.5);return e&&this.setSegments(e),!!e},smooth:function(r){var e=this,t=r||{},i=t.type||"asymmetric",a=this._segments,u=a.length,l=this._closed;function h(de,me){var Se=de&&de.index;if(Se!=null){var Ce=de.path;if(Ce&&Ce!==e)throw new Error(de._class+" "+Se+" of "+Ce+" is not part of "+e);me&&de instanceof re&&Se++}else Se=typeof de=="number"?de:me;return Math.min(Se<0&&l?Se%u:Se<0?Se+u:Se,u-1)}var f=l&&t.from===o&&t.to===o,c=h(t.from,0),_=h(t.to,u-1);if(c>_)if(l)c-=u;else{var m=c;c=_,_=m}if(/^(?:asymmetric|continuous)$/.test(i)){var p=i==="asymmetric",v=Math.min,S=_-c+1,k=S-1,I=f?v(S,4):1,b=I,C=I,w=[];if(l||(b=v(1,c),C=v(1,u-_-1)),k+=b+C,k<=1)return;for(var y=0,P=c-b;y<=k;y++,P++)w[y]=a[(P<0?P+u:P)%u]._point;for(var T=w[0]._x+2*w[1]._x,z=w[0]._y+2*w[1]._y,E=2,M=k-1,A=[T],N=[z],D=[E],O=[],R=[],y=1;y<k;y++){var B=y<M,V=B||p?1:2,U=B?4:p?2:7,W=B?4:p?3:8,$=B?2:p?0:1,ie=V/E;E=D[y]=U-ie,T=A[y]=W*w[y]._x+$*w[y+1]._x-ie*T,z=N[y]=W*w[y]._y+$*w[y+1]._y-ie*z}O[M]=A[M]/D[M],R[M]=N[M]/D[M];for(var y=k-2;y>=0;y--)O[y]=(A[y]-O[y+1])/D[y],R[y]=(N[y]-R[y+1])/D[y];O[k]=(3*w[k]._x-O[M])/2,R[k]=(3*w[k]._y-R[M])/2;for(var y=b,le=k-C,P=c;y<=le;y++,P++){var he=a[P<0?P+u:P],ee=he._point,te=O[y]-ee._x,fe=R[y]-ee._y;(f||y<le)&&he.setHandleOut(te,fe),(f||y>b)&&he.setHandleIn(-te,-fe)}}else for(var y=c;y<=_;y++)a[y<0?y+u:y].smooth(t,!f&&y===c,!f&&y===_)},toShape:function(r){if(!this._closed)return null;var e=this._segments,t,i,a,u;function l(p,v){var S=e[p],k=S.getNext(),I=e[v],b=I.getNext();return S._handleOut.isZero()&&k._handleIn.isZero()&&I._handleOut.isZero()&&b._handleIn.isZero()&&k._point.subtract(S._point).isCollinear(b._point.subtract(I._point))}function h(p){var v=e[p],S=v.getPrevious(),k=v.getNext();return S._handleOut.isZero()&&v._handleIn.isZero()&&v._handleOut.isZero()&&k._handleIn.isZero()&&v._point.subtract(S._point).isOrthogonal(k._point.subtract(v._point))}function f(p){var v=e[p],S=v.getNext(),k=v._handleOut,I=S._handleIn,b=.5522847498307936;if(k.isOrthogonal(I)){var C=v._point,w=S._point,y=new ue(C,k,!0).intersect(new ue(w,I,!0),!0);return y&&J.isZero(k.getLength()/y.subtract(C).getLength()-b)&&J.isZero(I.getLength()/y.subtract(w).getLength()-b)}return!1}function c(p,v){return e[p]._point.getDistance(e[v]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&h(1)?(t=Te.Rectangle,i=new Y(c(0,3),c(0,1)),u=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&f(0)&&f(2)&&f(4)&&f(6)&&l(1,5)&&l(3,7)?(t=Te.Rectangle,i=new Y(c(1,6),c(0,3)),a=i.subtract(new Y(c(0,7),c(1,2))).divide(2),u=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&f(0)&&f(1)&&f(2)&&f(3)&&(J.isZero(c(0,2)-c(1,3))?(t=Te.Circle,a=c(0,2)/2):(t=Te.Ellipse,a=new Y(c(2,0)/2,c(3,1)/2)),u=e[1]._point),t){var _=this.getPosition(!0),m=new t({center:_,size:i,radius:a,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(u.subtract(_).getAngle()+90),(r===o||r)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function r(e){if(!e||e instanceof Me)return r.base.call(this,e);var t=this.getCurves(),i=e.getCurves(),a=t.length,u=i.length;if(!a||!u)return a==u;for(var l=t[0].getValues(),h=[],f=0,c,_=0,m,p=0;p<u;p++){var I=i[p].getValues();h.push(I);var v=re.getOverlaps(l,I);if(v){c=!p&&v[0][0]>0?u-1:p,m=v[0][1];break}}for(var S=Math.abs,k=1e-8,I=h[c],b;l&&I;){var v=re.getOverlaps(l,I);if(v){var C=v[0][0];if(S(C-_)<k){_=v[1][0],_===1&&(l=++f<a?t[f].getValues():null,_=0);var w=v[0][1];if(S(w-m)<k){if(b||(b=[c,w]),m=v[1][1],m===1&&(++c>=u&&(c=0),I=h[c]||i[c].getValues(),m=0),!l)return b[0]===c&&b[1]===m;continue}}}break}return!1},_hitTestSelf:function(r,e,t,i){var a=this,u=this.getStyle(),l=this._segments,h=l.length,f=this._closed,c=e._tolerancePadding,_=c,m,p,v,S,k,I,b=e.stroke&&u.hasStroke(),C=e.fill&&u.hasFill(),w=e.curves,y=b?u.getStrokeWidth()/2:C&&e.tolerance>0||w?0:null;y!==null&&(y>0?(m=u.getStrokeJoin(),p=u.getStrokeCap(),v=u.getMiterLimit(),_=_.add(pe._getStrokePadding(y,i))):m=p="round");function P(O,R){return r.subtract(O).divide(R).length<=1}function T(O,R,B){if(!e.selected||R.isSelected()){var V=O._point;if(R!==V&&(R=R.add(V)),P(R,_))return new Ke(B,a,{segment:O,point:R})}}function z(O,R){return(R||e.segments)&&T(O,O._point,"segment")||!R&&e.handles&&(T(O,O._handleIn,"handle-in")||T(O,O._handleOut,"handle-out"))}function E(O){S.add(O)}function M(O){var R=f||O._index>0&&O._index<h-1;if((R?m:p)==="round")return P(O._point,_);if(S=new pe({internal:!0,closed:!0}),R?O.isSmooth()||pe._addBevelJoin(O,m,y,v,null,i,E,!0):p==="square"&&pe._addSquareCap(O,p,y,null,i,E,!0),!S.isEmpty()){var B;return S.contains(r)||(B=S.getNearestLocation(r))&&P(B.getPoint(),c)}}if(e.ends&&!e.segments&&!f){if(I=z(l[0],!0)||z(l[h-1],!0))return I}else if(e.segments||e.handles){for(var A=0;A<h;A++)if(I=z(l[A]))return I}if(y!==null){if(k=this.getNearestLocation(r),k){var N=k.getTime();N===0||N===1&&h>1?M(k.getSegment())||(k=null):P(k.getPoint(),_)||(k=null)}if(!k&&m==="miter"&&h>1)for(var A=0;A<h;A++){var D=l[A];if(r.getDistance(D._point)<=v*y&&M(D)){k=D.getLocation();break}}}return!k&&C&&this._contains(r)||k&&!b&&!w?new Ke("fill",this):k?new Ke(b?"stroke":"curve",this,{location:k,point:k.getPoint()}):null}},g.each(re._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this.getLocationAt(e);return t&&t[r]()}},{beans:!1,getLocationOf:function(){for(var r=L.read(arguments),e=this.getCurves(),t=0,i=e.length;t<i;t++){var a=e[t].getLocationOf(r);if(a)return a}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if(typeof r=="number"){for(var e=this.getCurves(),t=0,i=0,a=e.length;i<a;i++){var u=t,l=e[i];if(t+=l.getLength(),t>r)return l.getLocationAt(r-u)}if(e.length>0&&r<=this.getLength())return new rt(e[e.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=L.read(arguments);if(r.isZero())return[];for(var e=[],t=0,i=this.getCurves(),a=0,u=i.length;a<u;a++){for(var l=i[a],h=l.getTimesWithTangent(r),f=0,c=h.length;f<c;f++){var _=t+l.getOffsetAtTime(h[f]);e.indexOf(_)<0&&e.push(_)}t+=l.length}return e}}),new function(){function r(t,i,a,u){if(u<=0)return;var l=u/2,h=u-2,f=l-1,c=new Array(6),_,m;function p(C){var w=c[C],y=c[C+1];(_!=w||m!=y)&&(t.beginPath(),t.moveTo(_,m),t.lineTo(w,y),t.stroke(),t.beginPath(),t.arc(w,y,l,0,Math.PI*2,!0),t.fill())}for(var v=0,S=i.length;v<S;v++){var k=i[v],I=k._selection;if(k._transformCoordinates(a,c),_=c[0],m=c[1],I&2&&p(2),I&4&&p(4),t.fillRect(_-l,m-l,u,u),h>0&&!(I&1)){var b=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(_-f,m-f,h,h),t.fillStyle=b}}}function e(t,i,a){var u=i._segments,l=u.length,h=new Array(6),f=!0,c,_,m,p,v,S,k,I;function b(w){if(a)w._transformCoordinates(a,h),c=h[0],_=h[1];else{var y=w._point;c=y._x,_=y._y}if(f)t.moveTo(c,_),f=!1;else{if(a)v=h[2],S=h[3];else{var P=w._handleIn;v=c+P._x,S=_+P._y}v===c&&S===_&&k===m&&I===p?t.lineTo(c,_):t.bezierCurveTo(k,I,v,S,c,_)}if(m=c,p=_,a)k=h[4],I=h[5];else{var P=w._handleOut;k=m+P._x,I=p+P._y}}for(var C=0;C<l;C++)b(u[C]);i._closed&&l>0&&b(u[0])}return{_draw:function(t,i,a,u){var l=i.dontStart,h=i.dontFinish||i.clip,f=this.getStyle(),c=f.hasFill(),_=f.hasStroke(),m=f.getDashArray(),p=!qe.support.nativeDash&&_&&m&&m.length;l||t.beginPath(),(c||_&&!p||h)&&(e(t,this,u),this._closed&&t.closePath());function v(w){return m[(w%p+p)%p]}if(!h&&(c||_)&&(this._setStyles(t,i,a),c&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),_)){if(p){l||t.beginPath();for(var S=new at(this,.25,32,!1,u),k=S.length,I=-f.getDashOffset(),b,C=0;I>0;)I-=v(C--)+v(C--);for(;I<k;)b=I+v(C++),(I>0||b>0)&&S.drawPart(t,Math.max(I,0),Math.max(b,0)),I=b+v(C++)}t.stroke()}},_drawSelected:function(t,i){t.beginPath(),e(t,this,i),t.stroke(),r(t,this._segments,i,qe.settings.handleSize)}}},new function(){function r(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new ce(L.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ce(L.read(arguments))])},cubicCurveTo:function(){var e=arguments,t=L.read(e),i=L.read(e),a=L.read(e),u=r(this);u.setHandleOut(t.subtract(u._point)),this._add([new ce(a,i.subtract(a))])},quadraticCurveTo:function(){var e=arguments,t=L.read(e),i=L.read(e),a=r(this)._point;this.cubicCurveTo(t.add(a.subtract(t).multiply(1/3)),t.add(i.subtract(t).multiply(1/3)),i)},curveTo:function(){var e=arguments,t=L.read(e),i=L.read(e),a=g.pick(g.read(e),.5),u=1-a,l=r(this)._point,h=t.subtract(l.multiply(u*u)).subtract(i.multiply(a*a)).divide(2*a*u);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+a);this.quadraticCurveTo(h,i)},arcTo:function(){var e=arguments,t=Math.abs,i=Math.sqrt,a=r(this),u=a._point,l=L.read(e),h,f=g.peek(e),c=g.pick(f,!0),_,m,p,v;if(typeof c=="boolean")var S=u.add(l).divide(2),h=S.add(S.subtract(u).rotate(c?-90:90));else if(g.remain(e)<=2)h=l,l=L.read(e);else if(!u.equals(l)){var k=Y.read(e),I=J.isZero;if(I(k.width)||I(k.height))return this.lineTo(l);var b=g.read(e),c=!!g.read(e),C=!!g.read(e),S=u.add(l).divide(2),w=u.subtract(S).rotate(-b),y=w.x,P=w.y,T=t(k.width),z=t(k.height),E=T*T,M=z*z,A=y*y,N=P*P,D=i(A/E+N/M);if(D>1&&(T*=D,z*=D,E=T*T,M=z*z),D=(E*M-E*N-M*A)/(E*N+M*A),t(D)<1e-12&&(D=0),D<0)throw new Error("Cannot create an arc with the given arguments");_=new L(T*P/z,-z*y/T).multiply((C===c?-1:1)*i(D)).rotate(b).add(S),v=new G().translate(_).rotate(b).scale(T,z),p=v._inverseTransform(u),m=p.getDirectedAngle(v._inverseTransform(l)),!c&&m>0?m-=360:c&&m<0&&(m+=360)}if(h){var O=new ue(u.add(h).divide(2),h.subtract(u).rotate(90),!0),R=new ue(h.add(l).divide(2),l.subtract(h).rotate(90),!0),B=new ue(u,l),V=B.getSide(h);if(_=O.intersect(R,!0),!_){if(!V)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(_),m=p.getDirectedAngle(l.subtract(_));var U=B.getSide(_,!0);U===0?m=V*t(m):V===U&&(m+=m<0?360:-360)}if(m){for(var W=1e-7,$=t(m),ie=$>=360?4:Math.ceil(($-W)/90),le=m/ie,he=le*Math.PI/360,ee=4/3*Math.sin(he)/(1+Math.cos(he)),te=[],fe=0;fe<=ie;fe++){var w=l,de=null;if(fe<ie&&(de=p.rotate(90).multiply(ee),v?(w=v._transformPoint(p),de=v._transformPoint(p.add(de)).subtract(w)):w=_.add(p)),!fe)a.setHandleOut(de);else{var me=p.rotate(-90).multiply(ee);v&&(me=v._transformPoint(p.add(me)).subtract(w)),te.push(new ce(w,me,de))}p=p.rotate(le)}this._add(te)}},lineBy:function(){var e=L.read(arguments),t=r(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=arguments,t=L.read(e),i=L.read(e),a=g.read(e),u=r(this)._point;this.curveTo(u.add(t),u.add(i),a)},cubicCurveBy:function(){var e=arguments,t=L.read(e),i=L.read(e),a=L.read(e),u=r(this)._point;this.cubicCurveTo(u.add(t),u.add(i),u.add(a))},quadraticCurveBy:function(){var e=arguments,t=L.read(e),i=L.read(e),a=r(this)._point;this.quadraticCurveTo(a.add(t),a.add(i))},arcBy:function(){var e=arguments,t=r(this)._point,i=t.add(L.read(e)),a=g.pick(g.peek(e),!0);typeof a=="boolean"?this.arcTo(i,a):this.arcTo(i,t.add(L.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(r,e){var t=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return pe[t](this._segments,this._closed,this,r,e)},statics:{getBounds:function(r,e,t,i,a,u){var l=r[0];if(!l)return new q;var h=new Array(6),f=l._transformCoordinates(i,new Array(6)),c=f.slice(0,2),_=c.slice(),m=new Array(2);function p(k){k._transformCoordinates(i,h);for(var I=0;I<2;I++)re._addBounds(f[I],f[I+4],h[I+2],h[I],I,u?u[I]:0,c,_,m);var b=f;f=h,h=b}for(var v=1,S=r.length;v<S;v++)p(r[v]);return e&&p(l),new q(c[0],c[1],_[0]-c[0],_[1]-c[1])},getStrokeBounds:function(r,e,t,i,a){var u=t.getStyle(),l=u.hasStroke(),h=u.getStrokeWidth(),f=l&&t._getStrokeMatrix(i,a),c=l&&pe._getStrokePadding(h,f),_=pe.getBounds(r,e,t,i,a,c);if(!l)return _;var m=h/2,p=u.getStrokeJoin(),v=u.getStrokeCap(),S=u.getMiterLimit(),k=new q(new Y(c));function I(T){_=_.include(T)}function b(T){_=_.unite(k.setCenter(T._point.transform(i)))}function C(T,z){z==="round"||T.isSmooth()?b(T):pe._addBevelJoin(T,z,m,S,i,f,I)}function w(T,z){z==="round"?b(T):pe._addSquareCap(T,z,m,i,f,I)}var y=r.length-(e?0:1);if(y>0){for(var P=1;P<y;P++)C(r[P],p);e?C(r[0],p):(w(r[0],v),w(r[r.length-1],v))}return _},_getStrokePadding:function(r,e){if(!e)return[r,r];var t=new L(r,0).transform(e),i=new L(0,r).transform(e),a=t.getAngleInRadians(),u=t.getLength(),l=i.getLength(),h=Math.sin(a),f=Math.cos(a),c=Math.tan(a),_=Math.atan2(l*c,u),m=Math.atan2(l,c*u);return[Math.abs(u*Math.cos(_)*f+l*Math.sin(_)*h),Math.abs(l*Math.sin(m)*f+u*Math.cos(m)*h)]},_addBevelJoin:function(r,e,t,i,a,u,l,h){var f=r.getCurve(),c=f.getPrevious(),_=f.getPoint1().transform(a),m=c.getNormalAtTime(1).multiply(t).transform(u),p=f.getNormalAtTime(0).multiply(t).transform(u),v=m.getDirectedAngle(p);if((v<0||v>=180)&&(m=m.negate(),p=p.negate()),h&&l(_),l(_.add(m)),e==="miter"){var S=new ue(_.add(m),new L(-m.y,m.x),!0).intersect(new ue(_.add(p),new L(-p.y,p.x),!0),!0);S&&_.getDistance(S)<=i*t&&l(S)}l(_.add(p))},_addSquareCap:function(r,e,t,i,a,u,l){var h=r._point.transform(i),f=r.getLocation(),c=f.getNormal().multiply(f.getTime()===0?t:-t).transform(a);e==="square"&&(l&&(u(h.subtract(c)),u(h.add(c))),h=h.add(c.rotate(-90))),u(h.add(c)),u(h.subtract(c))},getHandleBounds:function(r,e,t,i,a){var u=t.getStyle(),l=a.stroke&&u.hasStroke(),h,f;if(l){var c=t._getStrokeMatrix(i,a),_=u.getStrokeWidth()/2,m=_;u.getStrokeJoin()==="miter"&&(m=_*u.getMiterLimit()),u.getStrokeCap()==="square"&&(m=Math.max(m,_*Math.SQRT2)),h=pe._getStrokePadding(_,c),f=pe._getStrokePadding(m,c)}for(var p=new Array(6),v=1/0,S=-v,k=v,I=S,b=0,C=r.length;b<C;b++){var w=r[b];w._transformCoordinates(i,p);for(var y=0;y<6;y+=2){var P=y?h:f,T=P?P[0]:0,z=P?P[1]:0,E=p[y],M=p[y+1],A=E-T,N=E+T,D=M-z,O=M+z;A<v&&(v=A),N>S&&(S=N),D<k&&(k=D),O>I&&(I=O)}}return new q(v,k,S-v,I-k)}}});pe.inject({statics:new function(){var r=.5522847498307936,e=[new ce([-1,0],[0,r],[0,-r]),new ce([0,-1],[-r,0],[r,0]),new ce([1,0],[0,-r],[0,r]),new ce([0,1],[r,0],[-r,0])];function t(a,u,l){var h=g.getNamed(l),f=new pe(h&&h.insert==!1&&ae.NO_INSERT);return f._add(a),f._closed=u,f.set(h,{insert:!0})}function i(a,u,l){for(var h=new Array(4),f=0;f<4;f++){var c=e[f];h[f]=new ce(c._point.multiply(u).add(a),c._handleIn.multiply(u),c._handleOut.multiply(u))}return t(h,!0,l)}return{Line:function(){var a=arguments;return t([new ce(L.readNamed(a,"from")),new ce(L.readNamed(a,"to"))],!1,a)},Circle:function(){var a=arguments,u=L.readNamed(a,"center"),l=g.readNamed(a,"radius");return i(u,new Y(l),a)},Rectangle:function(){var a=arguments,u=q.readNamed(a,"rectangle"),l=Y.readNamed(a,"radius",0,{readNull:!0}),h=u.getBottomLeft(!0),f=u.getTopLeft(!0),c=u.getTopRight(!0),_=u.getBottomRight(!0),m;if(!l||l.isZero())m=[new ce(h),new ce(f),new ce(c),new ce(_)];else{l=Y.min(l,u.getSize(!0).divide(2));var p=l.width,v=l.height,S=p*r,k=v*r;m=[new ce(h.add(p,0),null,[-S,0]),new ce(h.subtract(0,v),[0,k]),new ce(f.add(0,v),null,[0,-k]),new ce(f.add(p,0),[-S,0],null),new ce(c.subtract(p,0),null,[S,0]),new ce(c.add(0,v),[0,-k],null),new ce(_.subtract(0,v),null,[0,k]),new ce(_.subtract(p,0),[S,0])]}return t(m,!0,a)},RoundRectangle:"#Rectangle",Ellipse:function(){var a=arguments,u=Te._readEllipse(a);return i(u.center,u.radius,a)},Oval:"#Ellipse",Arc:function(){var a=arguments,u=L.readNamed(a,"from"),l=L.readNamed(a,"through"),h=L.readNamed(a,"to"),f=g.getNamed(a),c=new pe(f&&f.insert==!1&&ae.NO_INSERT);return c.moveTo(u),c.arcTo(l,h),c.set(f)},RegularPolygon:function(){for(var a=arguments,u=L.readNamed(a,"center"),l=g.readNamed(a,"sides"),h=g.readNamed(a,"radius"),f=360/l,c=l%3===0,_=new L(0,c?-h:h),m=c?-1:.5,p=new Array(l),v=0;v<l;v++)p[v]=new ce(u.add(_.rotate((v+m)*f)));return t(p,!0,a)},Star:function(){for(var a=arguments,u=L.readNamed(a,"center"),l=g.readNamed(a,"points")*2,h=g.readNamed(a,"radius1"),f=g.readNamed(a,"radius2"),c=360/l,_=new L(0,-1),m=new Array(l),p=0;p<l;p++)m[p]=new ce(u.add(_.rotate(c*p).multiply(p%2?f:h)));return t(m,!0,a)}}}});var Me=ke.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function r(e,t){var i=t,a=i[0];a&&typeof a[0]=="number"&&(i=[i]);for(var u=t.length-1;u>=0;u--){var l=i[u];i===t&&!(l instanceof pe)&&(i=g.slice(i)),Array.isArray(l)?i[u]=new pe({segments:l,insert:!1}):l instanceof Me&&(i.splice.apply(i,[u,1].concat(l.removeChildren())),l.remove())}return r.base.call(this,e,i)},reduce:function r(e){for(var t=this._children,i=t.length-1;i>=0;i--){var a=t[i].reduce(e);a.isEmpty()&&a.remove()}if(!t.length){var a=new pe(ae.NO_INSERT);return a.copyAttributes(this),a.insertAbove(this),this.remove(),a}return r.base.call(this)},isClosed:function(){for(var r=this._children,e=0,t=r.length;e<t;e++)if(!r[e]._closed)return!1;return!0},setClosed:function(r){for(var e=this._children,t=0,i=e.length;t<i;t++)e[t].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,e=[],t=0,i=r.length;t<i;t++)g.push(e,r[t].getCurves());return e},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getArea();return e},getLength:function(){for(var r=this._children,e=0,t=0,i=r.length;t<i;t++)e+=r[t].getLength();return e},getPathData:function(r,e){for(var t=this._children,i=[],a=0,u=t.length;a<u;a++){var l=t[a],h=l._matrix;i.push(l.getPathData(r&&!h.isIdentity()?r.appended(h):r,e))}return i.join("")},_hitTestChildren:function r(e,t,i){return r.base.call(this,e,t.class===pe||t.type==="path"?t:g.set({},t,{fill:!1}),i)},_draw:function(r,e,t,i){var a=this._children;if(!!a.length){e=e.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var u=0,l=a.length;u<l;u++)a[u].draw(r,e,i);if(!e.clip){this._setStyles(r,e,t);var h=this._style;h.hasFill()&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&r.stroke()}}},_drawSelected:function(r,e,t){for(var i=this._children,a=0,u=i.length;a<u;a++){var l=i[a],h=l._matrix;t[l._id]||l._drawSelected(r,h.isIdentity()?e:e.appended(h))}}},new function(){function r(e,t){var i=e._children;if(t&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return g.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=r(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var e=r(this),t=e&&e.isEmpty()?e:new pe(ae.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=r(this,!0),t=e&&e.getLastSegment(),i=L.read(arguments);this.moveTo(t?i.add(t._point):i)},closePath:function(e){r(this,!0).closePath(e)}})},g.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(e){for(var t=this._children,i,a=0,u=t.length;a<u;a++)i=t[a][r](e)||i;return i}},{}));ke.inject(new function(){var r=Math.min,e=Math.max,t=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function a(b){return b._children||[b]}function u(b,C){var w=b.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var y=a(w),P=0,T=y.length;P<T;P++){var b=y[P];!b._closed&&!b.isEmpty()&&(b.closePath(1e-12),b.getFirstSegment().setHandleIn(0,0),b.getLastSegment().setHandleOut(0,0))}w=w.resolveCrossings().reorient(w.getFillRule()==="nonzero",!0)}return w}function l(b,C,w,y,P){var T=new Me(ae.NO_INSERT);return T.addChildren(b,!0),T=T.reduce({simplify:C}),P&&P.insert==!1||T.insertAbove(y&&w.isSibling(y)&&w.getIndex()<y.getIndex()?y:w),T.copyAttributes(w,!0),T}function h(b){return b.hasOverlap()||b.isCrossing()}function f(b,C,w,y){if(y&&(y.trace==!1||y.stroke)&&/^(subtract|intersect)$/.test(w))return c(b,C,w);var P=u(b,!0),T=C&&b!==C&&u(C,!0),z=i[w];z[w]=!0,T&&(z.subtract||z.exclude)^(T.isClockwise()^P.isClockwise())&&T.reverse();var E=v(rt.expand(P.getIntersections(T,h))),M=a(P),A=T&&a(T),N=[],D=[],O;function R(de){for(var me=0,Se=de.length;me<Se;me++){var Ce=de[me];g.push(N,Ce._segments),g.push(D,Ce.getCurves()),Ce._overlapsOnly=!0}}function B(de){for(var me=[],Se=0,Ce=de&&de.length;Se<Ce;Se++)me.push(D[de[Se]]);return me}if(E.length){R(M),A&&R(A);for(var V=new Array(D.length),U=0,W=D.length;U<W;U++)V[U]=D[U].getValues();for(var $=X.findCurveBoundsCollisions(V,V,0,!0),ie={},U=0;U<D.length;U++){var le=D[U],he=le._path._id,ee=ie[he]=ie[he]||{};ee[le.getIndex()]={hor:B($[U].hor),ver:B($[U].ver)}}for(var U=0,W=E.length;U<W;U++)k(E[U]._segment,P,T,ie,z);for(var U=0,W=N.length;U<W;U++){var te=N[U],fe=te._intersection;te._winding||k(te,P,T,ie,z),fe&&fe._overlap||(te._path._overlapsOnly=!1)}O=I(N,z)}else O=p(A?M.concat(A):M.slice(),function(de){return!!z[de]});return l(O,!0,b,C,y)}function c(b,C,w){var y=u(b),P=u(C),T=y.getIntersections(P,h),z=w==="subtract",E=w==="divide",M={},A=[];function N(R){if(!M[R._id]&&(E||P.contains(R.getPointAt(R.getLength()/2))^z))return A.unshift(R),M[R._id]=!0}for(var D=T.length-1;D>=0;D--){var O=T[D].split();O&&(N(O)&&O.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return N(y),l(A,!1,b,C)}function _(b,C){for(var w=b;w;){if(w===C)return;w=w._previous}for(;b._next&&b._next!==C;)b=b._next;if(!b._next){for(;C._previous;)C=C._previous;b._next=C,C._previous=b}}function m(b){for(var C=b.length-1;C>=0;C--)b[C].clearHandles()}function p(b,C,w){var y=b&&b.length;if(y){var P=g.each(b,function($,ie){this[$._id]={container:null,winding:$.isClockwise()?1:-1,index:ie}},{}),T=b.slice().sort(function($,ie){return t(ie.getArea())-t($.getArea())}),z=T[0],E=X.findItemBoundsCollisions(T,null,J.GEOMETRIC_EPSILON);w==null&&(w=z.isClockwise());for(var M=0;M<y;M++){var A=T[M],N=P[A._id],D=0,O=E[M];if(O){for(var R=null,B=O.length-1;B>=0;B--)if(O[B]<M){R=R||A.getInteriorPoint();var V=T[O[B]];if(V.contains(R)){var U=P[V._id];D=U.winding,N.winding+=D,N.container=U.exclude?U.container:V;break}}}if(C(N.winding)===C(D))N.exclude=!0,b[N.index]=null;else{var W=N.container;A.setClockwise(W?!W.isClockwise():w)}}}return b}function v(b,C,w){var y=C&&[],P=1e-8,T=1-P,z=!1,E=w||[],M=w&&{},A,N,D;function O(me){return me._path._id+"."+me._segment1._index}for(var R=(w&&w.length)-1;R>=0;R--){var B=w[R];B._path&&(M[O(B)]=!0)}for(var R=b.length-1;R>=0;R--){var V=b[R],U=V._time,W=U,$=C&&!C(V),B=V._curve,ie;if(B&&(B!==N?(z=!B.hasHandles()||M&&M[O(B)],A=[],D=null,N=B):D>=P&&(U/=D)),$){A&&A.push(V);continue}else C&&y.unshift(V);if(D=W,U<P)ie=B._segment1;else if(U>T)ie=B._segment2;else{var le=B.divideAtTime(U,!0);z&&E.push(B,le),ie=le._segment1;for(var he=A.length-1;he>=0;he--){var ee=A[he];ee._time=(ee._time-U)/(1-U)}}V._setSegment(ie);var te=ie._intersection,fe=V._intersection;if(te){_(te,fe);for(var de=te;de;)_(de._intersection,te),de=de._next}else ie._intersection=fe}return w||m(E),y||b}function S(b,C,w,y,P){var T=Array.isArray(C)?C:C[w?"hor":"ver"],z=w?1:0,E=z^1,M=[b.x,b.y],A=M[z],N=M[E],D=1e-9,O=1e-6,R=A-D,B=A+D,V=0,U=0,W=0,$=0,ie=!1,le=!1,he=1,ee=[],te,fe;function de(Le){var Ne=Le[E+0],Je=Le[E+6];if(!(N<r(Ne,Je)||N>e(Ne,Je))){var et=Le[z+0],st=Le[z+2],zt=Le[z+4],Dt=Le[z+6];if(Ne===Je){(et<B&&Dt>R||Dt<B&&et>R)&&(ie=!0);return}var It=N===Ne?0:N===Je||R>e(et,st,zt,Dt)||B<r(et,st,zt,Dt)?1:re.solveCubic(Le,E,N,ee,0,1)>0?ee[0]:1,vt=It===0?et:It===1?Dt:re.getPoint(Le,It)[w?"y":"x"],ht=Ne>Je?1:-1,Mt=te[E]>te[E+6]?1:-1,Ht=te[z+6];return N!==Ne?(vt<R?W+=ht:vt>B?$+=ht:ie=!0,vt>A-O&&vt<A+O&&(he/=2)):(ht!==Mt?et<R?W+=ht:et>B&&($+=ht):et!=Ht&&(Ht<B&&vt>B?($+=ht,ie=!0):Ht>R&&vt<R&&(W+=ht,ie=!0)),he/=4),te=Le,!P&&vt>R&&vt<B&&re.getTangent(Le,It)[w?"x":"y"]===0&&S(b,C,!w,y,!0)}}function me(Le){var Ne=Le[E+0],Je=Le[E+2],et=Le[E+4],st=Le[E+6];if(N<=e(Ne,Je,et,st)&&N>=r(Ne,Je,et,st)){for(var zt=Le[z+0],Dt=Le[z+2],It=Le[z+4],vt=Le[z+6],ht=R>e(zt,Dt,It,vt)||B<r(zt,Dt,It,vt)?[Le]:re.getMonoCurves(Le,w),Mt,Ht=0,sn=ht.length;Ht<sn;Ht++)if(Mt=de(ht[Ht]))return Mt}}for(var Se=0,Ce=T.length;Se<Ce;Se++){var Pe=T[Se],be=Pe._path,Ee=Pe.getValues(),We;if((!Se||T[Se-1]._path!==be)&&(te=null,be._closed||(fe=re.getValues(be.getLastCurve().getSegment2(),Pe.getSegment1(),null,!y),fe[E]!==fe[E+6]&&(te=fe)),!te)){te=Ee;for(var Xe=be.getLastCurve();Xe&&Xe!==Pe;){var Ze=Xe.getValues();if(Ze[E]!==Ze[E+6]){te=Ze;break}Xe=Xe.getPrevious()}}if(We=me(Ee))return We;if(Se+1===Ce||T[Se+1]._path!==be){if(fe&&(We=me(fe)))return We;ie&&!W&&!$&&(W=$=be.isClockwise(y)^w?1:-1),V+=W,U+=$,W=$=0,ie&&(le=!0,ie=!1),fe=null}}return V=t(V),U=t(U),{winding:e(V,U),windingL:V,windingR:U,quality:he,onPath:le}}function k(b,C,w,y,P){var T=[],z=b,E=0,D;do{var M=b.getCurve();if(M){var A=M.getLength();T.push({segment:b,curve:M,length:A}),E+=A}b=b.getNext()}while(b&&!b._intersection&&b!==z);for(var N=[.5,.25,.75],D={winding:0,quality:-1},O=.001,R=1-O,B=0;B<N.length&&D.quality<.5;B++)for(var A=E*N[B],V=0,U=T.length;V<U;V++){var W=T[V],$=W.length;if(A<=$){var M=W.curve,ie=M._path,le=ie._parent,he=le instanceof Me?le:ie,ee=J.clamp(M.getTimeAt(A),O,R),te=M.getPointAtTime(ee),fe=t(M.getTangentAtTime(ee).y)<Math.SQRT1_2,de=null;if(P.subtract&&w){var me=he===C?w:C,Se=me._getWinding(te,fe,!0);if(he===C&&Se.winding||he===w&&!Se.winding){if(Se.quality<1)continue;de={winding:0,quality:1}}}de=de||S(te,y[ie._id][M.getIndex()],fe,!0),de.quality>D.quality&&(D=de);break}A-=$}for(var V=T.length-1;V>=0;V--)T[V].segment._winding=D}function I(b,C){var w=[],y;function P(Ce){var Pe;return!!(Ce&&!Ce._visited&&(!C||C[(Pe=Ce._winding||{}).winding]&&!(C.unite&&Pe.winding===2&&Pe.windingL&&Pe.windingR)))}function T(Ce){if(Ce){for(var Pe=0,be=y.length;Pe<be;Pe++)if(Ce===y[Pe])return!0}return!1}function z(Ce){for(var Pe=Ce._segments,be=0,Ee=Pe.length;be<Ee;be++)Pe[be]._visited=!0}function E(Ce,Pe){var be=Ce._intersection,Ee=be,We=[];Pe&&(y=[Ce]);function Xe(Ze,Le){for(;Ze&&Ze!==Le;){var Ne=Ze._segment,Je=Ne&&Ne._path;if(Je){var et=Ne.getNext()||Je.getFirstSegment(),st=et._intersection;Ne!==Ce&&(T(Ne)||T(et)||et&&P(Ne)&&(P(et)||st&&P(st._segment)))&&We.push(Ne),Pe&&y.push(Ne)}Ze=Ze._next}}if(be){for(Xe(be);be&&be._previous;)be=be._previous;Xe(be,Ee)}return We}b.sort(function(Ce,Pe){var be=Ce._intersection,Ee=Pe._intersection,We=!!(be&&be._overlap),Xe=!!(Ee&&Ee._overlap),Ze=Ce._path,Le=Pe._path;return We^Xe?We?1:-1:!be^!Ee?be?1:-1:Ze!==Le?Ze._id-Le._id:Ce._index-Pe._index});for(var M=0,A=b.length;M<A;M++){var N=b[M],D=P(N),O=null,R=!1,B=!0,V=[],U,W,$;if(D&&N._path._overlapsOnly){var ie=N._path,le=N._intersection._segment._path;ie.compare(le)&&(ie.getArea()&&w.push(ie.clone(!1)),z(ie),z(le),D=!1)}for(;D;){var he=!O,ee=E(N,he),te=ee.shift(),R=!he&&(T(N)||T(te)),fe=!R&&te;if(he&&(O=new pe(ae.NO_INSERT),U=null),R){(N.isFirst()||N.isLast())&&(B=N._path._closed),N._visited=!0;break}if(fe&&U&&(V.push(U),U=null),U||(fe&&ee.push(N),U={start:O._segments.length,crossings:ee,visited:W=[],handleIn:$}),fe&&(N=te),!P(N)){O.removeSegments(U.start);for(var de=0,me=W.length;de<me;de++)W[de]._visited=!1;W.length=0;do N=U&&U.crossings.shift(),(!N||!N._path)&&(N=null,U=V.pop(),U&&(W=U.visited,$=U.handleIn));while(U&&!P(N));if(!N)break}var Se=N.getNext();O.add(new ce(N._point,$,Se&&N._handleOut)),N._visited=!0,W.push(N),N=Se||N._path.getFirstSegment(),$=Se&&Se._handleIn}R&&(B&&(O.getFirstSegment().setHandleIn($),O.setClosed(B)),O.getArea()!==0&&w.push(O))}return w}return{_getWinding:function(b,C,w){return S(b,this.getCurves(),C,w)},unite:function(b,C){return f(this,b,"unite",C)},intersect:function(b,C){return f(this,b,"intersect",C)},subtract:function(b,C){return f(this,b,"subtract",C)},exclude:function(b,C){return f(this,b,"exclude",C)},divide:function(b,C){return C&&(C.trace==!1||C.stroke)?c(this,b,"divide"):l([this.subtract(b,C),this.intersect(b,C)],!0,this,b,C)},resolveCrossings:function(){var b=this._children,C=b||[this];function w(U,W){var $=U&&U._intersection;return $&&$._overlap&&$._path===W}var y=!1,P=!1,T=this.getIntersections(null,function(U){return U.hasOverlap()&&(y=!0)||U.isCrossing()&&(P=!0)}),z=y&&P&&[];if(T=rt.expand(T),y)for(var E=v(T,function(U){return U.hasOverlap()},z),M=E.length-1;M>=0;M--){var A=E[M],N=A._path,D=A._segment,O=D.getPrevious(),R=D.getNext();w(O,N)&&w(R,N)&&(D.remove(),O._handleOut._set(0,0),R._handleIn._set(0,0),O!==D&&!O.getCurve().hasLength()&&(R._handleIn.set(O._handleIn),O.remove()))}P&&(v(T,y&&function(U){var W=U.getCurve(),$=U.getSegment(),ie=U._intersection,le=ie._curve,he=ie._segment;if(W&&le&&W._path&&le._path)return!0;$&&($._intersection=null),he&&(he._intersection=null)},z),z&&m(z),C=I(g.each(C,function(U){g.push(this,U._segments)},[])));var B=C.length,V;return B>1&&b?(C!==b&&this.setChildren(C),V=this):B===1&&!b&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),V=this),V||(V=new Me(ae.NO_INSERT),V.addChildren(C),V=V.reduce(),V.copyAttributes(this),this.replaceWith(V)),V},reorient:function(b,C){var w=this._children;return w&&w.length?this.setChildren(p(this.removeChildren(),function(y){return!!(b?y:y&1)},C)):C!==o&&this.setClockwise(C),this},getInteriorPoint:function(){var b=this.getBounds(),C=b.getCenter(!0);if(!this.contains(C)){for(var w=this.getCurves(),y=C.y,P=[],T=[],z=0,E=w.length;z<E;z++){var M=w[z].getValues(),A=M[1],N=M[3],D=M[5],O=M[7];if(y>=r(A,N,D,O)&&y<=e(A,N,D,O))for(var R=re.getMonoCurves(M),B=0,V=R.length;B<V;B++){var U=R[B],W=U[1],$=U[7];if(W!==$&&(y>=W&&y<=$||y>=$&&y<=W)){var ie=y===W?U[0]:y===$?U[6]:re.solveCubic(U,1,y,T,0,1)===1?re.getPoint(U,T[0]).x:(U[0]+U[6])/2;P.push(ie)}}}P.length>1&&(P.sort(function(le,he){return le-he}),C.x=(P[0]+P[1])/2)}return C}}});var at=g.extend({_class:"PathFlattener",initialize:function(r,e,t,i,a){var u=[],l=[],h=0,f=1/(t||32),c=r._segments,_=c[0],m;function p(I,b){var C=re.getValues(I,b,a);u.push(C),v(C,I._index,0,1)}function v(I,b,C,w){if(w-C>f&&!(i&&re.isStraight(I))&&!re.isFlatEnough(I,e||.25)){var y=re.subdivide(I,.5),P=(C+w)/2;v(y[0],b,C,P),v(y[1],b,P,w)}else{var T=I[6]-I[0],z=I[7]-I[1],E=Math.sqrt(T*T+z*z);E>0&&(h+=E,l.push({offset:h,curve:I,index:b,time:w}))}}for(var S=1,k=c.length;S<k;S++)m=c[S],p(_,m),_=m;r._closed&&p(m||_,c[0]),this.curves=u,this.parts=l,this.length=h,this.index=0},_get:function(r){for(var e=this.parts,t=e.length,i,a=this.index;i=a,!(!a||e[--a].offset<r););for(;i<t;i++){var u=e[i];if(u.offset>=r){this.index=i;var l=e[i-1],h=l&&l.index===u.index?l.time:0,f=l?l.offset:0;return{index:u.index,time:h+(u.time-h)*(r-f)/(u.offset-f)}}}return{index:e[t-1].index,time:1}},drawPart:function(r,e,t){for(var i=this._get(e),a=this._get(t),u=i.index,l=a.index;u<=l;u++){var h=re.getPart(this.curves[u],u===i.index?i.time:0,u===a.index?a.time:1);u===i.index&&r.moveTo(h[0],h[1]),r.bezierCurveTo.apply(r,h.slice(2))}}},g.each(re._evaluateMethods,function(r){this[r+"At"]=function(e){var t=this._get(e);return re[r](this.curves[t.index],t.time)}},{})),St=g.extend({initialize:function(r){for(var e=this.points=[],t=r._segments,i=r._closed,a=0,u,l=t.length;a<l;a++){var h=t[a].point;(!u||!u.equals(h))&&e.push(u=h.clone())}i&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=i},fit:function(r){var e=this.points,t=e.length,i=null;return t>0&&(i=[new ce(e[0])],t>1&&(this.fitCubic(i,r,0,t-1,e[1].subtract(e[0]),e[t-2].subtract(e[t-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(r,e,t,i,a,u){var l=this.points;if(i-t===1){var h=l[t],f=l[i],c=h.getDistance(f)/3;this.addCurve(r,[h,h.add(a.normalize(c)),f.add(u.normalize(c)),f]);return}for(var _=this.chordLengthParameterize(t,i),m=Math.max(e,e*e),p,v=!0,S=0;S<=4;S++){var k=this.generateBezier(t,i,_,a,u),I=this.findMaxError(t,i,k,_);if(I.error<e&&v){this.addCurve(r,k);return}if(p=I.index,I.error>=m)break;v=this.reparameterize(t,i,_,k),m=I.error}var b=l[p-1].subtract(l[p+1]);this.fitCubic(r,e,t,p,a,b),this.fitCubic(r,e,p,i,b.negate(),u)},addCurve:function(r,e){var t=r[r.length-1];t.setHandleOut(e[1].subtract(e[0])),r.push(new ce(e[3],e[2].subtract(e[3])))},generateBezier:function(r,e,t,i,a){for(var u=1e-12,l=Math.abs,h=this.points,f=h[r],c=h[e],_=[[0,0],[0,0]],m=[0,0],p=0,v=e-r+1;p<v;p++){var S=t[p],k=1-S,I=3*S*k,b=k*k*k,C=I*k,w=I*S,y=S*S*S,P=i.normalize(C),T=a.normalize(w),z=h[r+p].subtract(f.multiply(b+C)).subtract(c.multiply(w+y));_[0][0]+=P.dot(P),_[0][1]+=P.dot(T),_[1][0]=_[0][1],_[1][1]+=T.dot(T),m[0]+=P.dot(z),m[1]+=T.dot(z)}var E=_[0][0]*_[1][1]-_[1][0]*_[0][1],M,A;if(l(E)>u){var N=_[0][0]*m[1]-_[1][0]*m[0],D=m[0]*_[1][1]-m[1]*_[0][1];M=D/E,A=N/E}else{var O=_[0][0]+_[0][1],R=_[1][0]+_[1][1];M=A=l(O)>u?m[0]/O:l(R)>u?m[1]/R:0}var B=c.getDistance(f),V=u*B,U,W;if(M<V||A<V)M=A=B/3;else{var $=c.subtract(f);U=i.normalize(M),W=a.normalize(A),U.dot($)-W.dot($)>B*B&&(M=A=B/3,U=W=null)}return[f,f.add(U||i.normalize(M)),c.add(W||a.normalize(A)),c]},reparameterize:function(r,e,t,i){for(var a=r;a<=e;a++)t[a-r]=this.findRoot(i,this.points[a],t[a-r]);for(var a=1,u=t.length;a<u;a++)if(t[a]<=t[a-1])return!1;return!0},findRoot:function(r,e,t){for(var i=[],a=[],u=0;u<=2;u++)i[u]=r[u+1].subtract(r[u]).multiply(3);for(var u=0;u<=1;u++)a[u]=i[u+1].subtract(i[u]).multiply(2);var l=this.evaluate(3,r,t),h=this.evaluate(2,i,t),f=this.evaluate(1,a,t),c=l.subtract(e),_=h.dot(h)+c.dot(f);return J.isMachineZero(_)?t:t-c.dot(h)/_},evaluate:function(r,e,t){for(var i=e.slice(),a=1;a<=r;a++)for(var u=0;u<=r-a;u++)i[u]=i[u].multiply(1-t).add(i[u+1].multiply(t));return i[0]},chordLengthParameterize:function(r,e){for(var t=[0],i=r+1;i<=e;i++)t[i-r]=t[i-r-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,a=e-r;i<=a;i++)t[i]/=t[a];return t},findMaxError:function(r,e,t,i){for(var a=Math.floor((e-r+1)/2),u=0,l=r+1;l<e;l++){var h=this.evaluate(3,t,i[l-r]),f=h.subtract(this.points[l]),c=f.x*f.x+f.y*f.y;c>=u&&(u=c,a=l)}return{error:u,index:a}}}),Yt=ae.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&g.isPlainObject(e)&&e.x===o&&e.y===o;this._initialize(t&&e,!t&&L.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),yn=Yt.extend({_class:"PointText",initialize:function(){Yt.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new ge(r.x,r.y,this,"setPoint")},setPoint:function(){var r=L.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,e,t){if(!!this._content){this._setStyles(r,e,t);var i=this._lines,a=this._style,u=a.hasFill(),l=a.hasStroke(),h=a.getLeading(),f=r.shadowColor;r.font=a.getFontStyle(),r.textAlign=a.getJustification();for(var c=0,_=i.length;c<_;c++){r.shadowColor=f;var m=i[c];u&&(r.fillText(m,0,0),r.shadowColor="rgba(0,0,0,0)"),l&&r.strokeText(m,0,0),r.translate(0,h)}}},_getBounds:function(r,e){var t=this._style,i=this._lines,a=i.length,u=t.getJustification(),l=t.getLeading(),h=this.getView().getTextWidth(t.getFontStyle(),i),f=0;u!=="left"&&(f-=h/(u==="center"?2:1));var c=new q(f,a?-.75*l:0,h,a*l);return r?r._transformBounds(c,c):c}}),Ve=g.extend(new function(){var r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},t={transparent:[0,0,0,0]},i;function a(h){var f=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",_;if(f){var m=f[4]?4:3;_=new Array(m);for(var p=0;p<m;p++){var v=f[p+1];_[p]=parseInt(v.length==1?v+v:v,16)/255}}else if(f=h.match(/^(rgb|hsl)a?\((.*)\)$/)){c=f[1],_=f[2].trim().split(/[,\s]+/g);for(var S=c==="hsl",p=0,k=Math.min(_.length,4);p<k;p++){var I=_[p],v=parseFloat(I);if(S)if(p===0){var b=I.match(/([a-z]*)$/)[1];v*={turn:360,rad:180/Math.PI,grad:.9}[b]||1}else p<3&&(v/=100);else p<3&&(v/=/%$/.test(I)?100:255);_[p]=v}}else{var C=t[h];if(!C)if(d){i||(i=Ct.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=h,i.fillRect(0,0,1,1);var w=i.getImageData(0,0,1,1).data;C=t[h]=[w[0]/255,w[1]/255,w[2]/255]}else C=[0,0,0];_=C.slice()}return[c,_]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(h,f,c){var _=Math.max(h,f,c),m=Math.min(h,f,c),p=_-m,v=p===0?0:(_==h?(f-c)/p+(f<c?6:0):_==f?(c-h)/p+2:(h-f)/p+4)*60;return[v,_===0?0:p/_,_]},"hsb-rgb":function(h,f,c){h=(h/60%6+6)%6;var m=Math.floor(h),_=h-m,m=u[m],p=[c,c*(1-f),c*(1-f*_),c*(1-f*(1-_))];return[p[m[0]],p[m[1]],p[m[2]]]},"rgb-hsl":function(h,f,c){var _=Math.max(h,f,c),m=Math.min(h,f,c),p=_-m,v=p===0,S=v?0:(_==h?(f-c)/p+(f<c?6:0):_==f?(c-h)/p+2:(h-f)/p+4)*60,k=(_+m)/2,I=v?0:k<.5?p/(_+m):p/(2-_-m);return[S,I,k]},"hsl-rgb":function(h,f,c){if(h=(h/360%1+1)%1,f===0)return[c,c,c];for(var _=[h+1/3,h,h-1/3],m=c<.5?c*(1+f):c+f-c*f,p=2*c-m,v=[],S=0;S<3;S++){var k=_[S];k<0&&(k+=1),k>1&&(k-=1),v[S]=6*k<1?p+(m-p)*6*k:2*k<1?m:3*k<2?p+(m-p)*(2/3-k)*6:p}return v},"rgb-gray":function(h,f,c){return[h*.2989+f*.587+c*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return g.each(r,function(h,f){e[f]=[],g.each(h,function(c,_){var m=g.capitalize(c),p=/^(hue|saturation)$/.test(c),v=e[f][_]=f==="gradient"?c==="gradient"?function(S){var k=this._components[0];return S=Ft.read(Array.isArray(S)?S:arguments,0,{readNull:!0}),k!==S&&(k&&k._removeOwner(this),S&&S._addOwner(this)),S}:function(){return L.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(S){return S==null||isNaN(S)?0:+S};this["get"+m]=function(){return this._type===f||p&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(f)[_]},this["set"+m]=function(S){this._type!==f&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(f),this._properties=r[f],this._type=f),this._components[_]=v.call(this,S),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(f){var c=arguments,_=this.__read,m=0,p,v,S,k;Array.isArray(f)&&(c=f,f=c[0]);var I=f!=null&&typeof f;if(I==="string"&&f in r&&(p=f,f=c[1],Array.isArray(f)?(v=f,S=c[2]):(_&&(m=1),c=g.slice(c,1),I=typeof f)),!v){if(k=I==="number"?c:I==="object"&&f.length!=null?f:null,k){p||(p=k.length>=3?"rgb":"gray");var b=r[p].length;S=k[b],_&&(m+=k===arguments?b+(S!=null?1:0):1),k.length>b&&(k=g.slice(k,0,b))}else if(I==="string"){var C=a(f);p=C[0],v=C[1],v.length===4&&(S=v[3],v.length--)}else if(I==="object")if(f.constructor===h){if(p=f._type,v=f._components.slice(),S=f._alpha,p==="gradient")for(var w=1,y=v.length;w<y;w++){var P=v[w];P&&(v[w]=P.clone())}}else if(f.constructor===Ft)p="gradient",k=c;else{p="hue"in f?"lightness"in f?"hsl":"hsb":"gradient"in f||"stops"in f||"radial"in f?"gradient":"gray"in f?"gray":"rgb";var T=r[p],z=e[p];this._components=v=[];for(var w=0,y=T.length;w<y;w++){var E=f[T[w]];E==null&&!w&&p==="gradient"&&"stops"in f&&(E={stops:f.stops,radial:f.radial}),E=z[w].call(this,E),E!=null&&(v[w]=E)}S=f.alpha}_&&p&&(m=1)}if(this._type=p||"rgb",!v){this._components=v=[];for(var z=e[this._type],w=0,y=z.length;w<y;w++){var E=z[w].call(this,k&&k[w]);E!=null&&(v[w]=E)}}return this._components=v,this._properties=r[this._type],this._alpha=S,_&&(this.__read=m),this},set:"#initialize",_serialize:function(h,f){var c=this.getComponents();return g.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),h,!0,f)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var f;return this._type===h?this._components.slice():(f=l[this._type+"-"+h])?f.apply(this,this._components):l["rgb-"+h].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new Ve(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=r[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var f=g.isPlainValue(h,!0)?Ve.read(arguments):h;return f===this||f&&this._class===f._class&&this._type===f._type&&this.getAlpha()===f.getAlpha()&&g.equals(this._components,f._components)||!1},toString:function(){for(var h=this._properties,f=[],c=this._type==="gradient",_=se.instance,m=0,p=h.length;m<p;m++){var v=this._components[m];v!=null&&f.push(h[m]+": "+(c?v:_.number(v)))}return this._alpha!=null&&f.push("alpha: "+_.number(this._alpha)),"{ "+f.join(", ")+" }"},toCSS:function(h){var f=this._convert("rgb"),c=h||this._alpha==null?1:this._alpha;function _(m){return Math.round((m<0?0:m>1?1:m)*255)}return f=[_(f[0]),_(f[1]),_(f[2])],c<1&&f.push(c<0?0:c),h?"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1):(f.length==4?"rgba(":"rgb(")+f.join(",")+")"},toCanvasStyle:function(h,f){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,_=c[0],m=_._stops,p=c[1],v=c[2],S=c[3],k=f&&f.inverted(),I;if(k&&(p=k._transformPoint(p),v=k._transformPoint(v),S&&(S=k._transformPoint(S))),_._radial){var b=v.getDistance(p);if(S){var C=S.subtract(p);C.getLength()>b&&(S=p.add(C.normalize(b-.1)))}var w=S||p;I=h.createRadialGradient(w.x,w.y,0,p.x,p.y,b)}else I=h.createLinearGradient(p.x,p.y,v.x,v.y);for(var y=0,P=m.length;y<P;y++){var T=m[y],z=T._offset;I.addColorStop(z==null?y/(P-1):z,T._color.toCanvasStyle())}return this._canvasStyle=I},transform:function(h){if(this._type==="gradient"){for(var f=this._components,c=1,_=f.length;c<_;c++){var m=f[c];h._transformPoint(m,m,!0)}this._changed()}},statics:{_types:r,random:function(){var h=Math.random;return new Ve(h(),h(),h())},_setOwner:function(h,f,c){return h&&(h._owner&&f&&h._owner!==f&&(h=h.clone()),!h._owner^!f&&(h._owner=f||null,h._setter=c||null)),h}}})},new function(){var r={add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}};return g.each(r,function(e,t){this[t]=function(i){i=Ve.read(arguments);for(var a=this._type,u=this._components,l=i._convert(a),h=0,f=u.length;h<f;h++)l[h]=e(u[h],l[h]);return new Ve(a,l,this._alpha!=null?e(this._alpha,i.getAlpha()):null)}},{})}),Ft=g.extend({_class:"Gradient",initialize:function(e,t){this._id=ne.get(),e&&g.isPlainObject(e)&&(this.set(e),e=t=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof t=="string"&&t==="radial"||t||!1)},_serialize:function(r,e){return e.add(this,function(){return g.serialize([this._stops,this._radial],r,!0,e)})},_changed:function(){for(var r=0,e=this._owners&&this._owners.length;r<e;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var e=this._owners?this._owners.indexOf(r):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var r=[],e=0,t=this._stops.length;e<t;e++)r[e]=this._stops[e].clone();return new Ft(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var t=0,i=e.length;t<i;t++)e[t]._owner=o;e=this._stops=cn.readList(r,0,{clone:!0});for(var t=0,i=e.length;t<i;t++)e[t]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var e=this._stops,t=r._stops,i=e.length;if(i===t.length){for(var a=0;a<i;a++)if(!e[a].equals(t[a]))return!1;return!0}}return!1}}),cn=g.extend({_class:"GradientStop",initialize:function(e,t){var i=e,a=t;typeof e=="object"&&t===o&&(Array.isArray(e)&&typeof e[0]!="number"?(i=e[0],a=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(i=e.color,a=e.offset||e.rampPoint||0)),this.setColor(i),this.setOffset(a)},clone:function(){return new cn(this._color.clone(),this._offset)},_serialize:function(r,e){var t=this._color,i=this._offset;return g.serialize(i==null?[t]:[t,i],r,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ve._setOwner(this._color,null),this._color=Ve._setOwner(Ve.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),Si=g.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new L,selectedColor:null},e=g.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),t=g.set({},e,{fillColor:new Ve}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},u={_class:"Style",beans:!0,initialize:function(h,f,c){this._values={},this._owner=f,this._project=f&&f._project||c||qe.project,this._defaults=!f||f instanceof ye?e:f instanceof Yt?t:r,h&&this.set(h)}};return g.each(e,function(l,h){var f=/Color$/.test(h),c=h==="shadowOffset",_=g.capitalize(h),m=i[h],p="set"+_,v="get"+_;u[p]=function(S){var k=this._owner,I=k&&k._children,b=I&&I.length>0&&!(k instanceof Me);if(b)for(var C=0,w=I.length;C<w;C++)I[C]._style[p](S);if((h==="selectedColor"||!b)&&h in this._defaults){var y=this._values[h];y!==S&&(f&&(y&&(Ve._setOwner(y,null),y._canvasStyle=null),S&&S.constructor===Ve&&(S=Ve._setOwner(S,k,b&&p))),this._values[h]=S,k&&k._changed(m||129))}},u[v]=function(S){var k=this._owner,I=k&&k._children,b=I&&I.length>0&&!(k instanceof Me),C;if(b&&!S)for(var w=0,y=I.length;w<y;w++){var P=I[w]._style[v]();if(!w)C=P;else if(!g.equals(C,P))return o}else if(h in this._defaults){var C=this._values[h];if(C===o)C=this._defaults[h],C&&C.clone&&(C=C.clone());else{var T=f?Ve:c?L:null;T&&!(C&&C.constructor===T)&&(this._values[h]=C=T.read([C],0,{readNull:!0,clone:!0}))}}return C&&f&&(C=Ve._setOwner(C,k,b&&p)),C},a[v]=function(S){return this._style[v](S)},a[p]=function(S){this._style[p](S)}}),g.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,h){var f="get"+h,c="set"+h;u[f]=a[f]="#get"+l,u[c]=a[c]="#set"+l}),ae.inject(a),u},{set:function(r){var e=r instanceof Si,t=e?r._values:r;if(t){for(var i in t)if(i in this._defaults){var a=t[i];this[i]=a&&e&&a.clone?a.clone():a}}},equals:function(r){function e(t,i,a){var u=t._values,l=i._values,h=i._defaults;for(var f in u){var c=u[f],_=l[f];if(!(a&&f in l)&&!g.equals(c,_===o?h[f]:_))return!1}return!0}return r===this||r&&this._class===r._class&&e(this,r)&&e(r,this,!0)||!1},_dispose:function(){var r;r=this.getFillColor(),r&&(r._canvasStyle=null),r=this.getStrokeColor(),r&&(r._canvasStyle=null),r=this.getShadowColor(),r&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var e=r.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),e!=null?e:t*1.2}}),Be=new function(){function r(e,t,i,a){for(var u=["","webkit","moz","Moz","ms","o"],l=t[0].toUpperCase()+t.substring(1),h=0;h<6;h++){var f=u[h],c=f?f+l:t;if(c in e){if(i)e[c]=a;else return e[c];break}}}return{getStyles:function(e){var t=e&&e.nodeType!==9?e.ownerDocument:e,i=t&&t.defaultView;return i&&i.getComputedStyle(e,"")},getBounds:function(e,t){var i=e.ownerDocument,a=i.body,u=i.documentElement,l;try{l=e.getBoundingClientRect()}catch(_){l={left:0,top:0,width:0,height:0}}var h=l.left-(u.clientLeft||a.clientLeft||0),f=l.top-(u.clientTop||a.clientTop||0);if(!t){var c=i.defaultView;h+=c.pageXOffset||u.scrollLeft||a.scrollLeft,f+=c.pageYOffset||u.scrollTop||a.scrollTop}return new q(h,f,l.width,l.height)},getViewportBounds:function(e){var t=e.ownerDocument,i=t.defaultView,a=t.documentElement;return new q(0,0,i.innerWidth||a.clientWidth,i.innerHeight||a.clientHeight)},getOffset:function(e,t){return Be.getBounds(e,t).getPoint()},getSize:function(e){return Be.getBounds(e,!0).getSize()},isInvisible:function(e){return Be.getSize(e).equals(new Y(0,0))},isInView:function(e){return!Be.isInvisible(e)&&Be.getViewportBounds(e).intersects(Be.getBounds(e,!0))},isInserted:function(e){return x.body.contains(e)},getPrefixed:function(e,t){return e&&r(e,t)},setPrefixed:function(e,t,i){if(typeof t=="object")for(var a in t)r(e,a,!0,t[a]);else r(e,t,!0,i)}}},He={add:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++){var h=a[u],f=r===x&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;r.addEventListener(h,i,f)}},remove:function(r,e){if(r)for(var t in e)for(var i=e[t],a=t.split(/[\s,]+/g),u=0,l=a.length;u<l;u++)r.removeEventListener(a[u],i,!1)},getPoint:function(r){var e=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new L(e.pageX||e.clientX+x.documentElement.scrollLeft,e.pageY||e.clientY+x.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,e){return He.getPoint(r).subtract(Be.getOffset(e||He.getTarget(r)))}};He.requestAnimationFrame=new function(){var r=Be.getPrefixed(d,"requestAnimationFrame"),e=!1,t=[],i;function a(){var u=t;t=[];for(var l=0,h=u.length;l<h;l++)u[l]();e=r&&t.length,e&&r(a)}return function(u){t.push(u),r?e||(r(a),e=!0):i||(i=setInterval(a,1e3/60))}};var Re=g.extend(F,{_class:"View",initialize:function r(e,t){function i(m){return t[m]||parseInt(t.getAttribute(m),10)}function a(){var m=Be.getSize(t);return m.isNaN()||m.isZero()?new Y(i("width"),i("height")):m}var u;if(d&&t){this._id=t.getAttribute("id"),this._id==null&&t.setAttribute("id",this._id="paper-view-"+r._id++),He.add(t,this._viewEvents);var l="none";if(Be.setPrefixed(t.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),H.hasAttribute(t,"resize")){var h=this;He.add(d,this._windowEvents={resize:function(){h.setViewSize(a())}})}if(u=a(),H.hasAttribute(t,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var f=this._stats.domElement,c=f.style,_=Be.getOffset(t);c.position="absolute",c.left=_.x+"px",c.top=_.y+"px",x.body.appendChild(f)}}else u=new Y(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=d&&d.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new G)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!qe.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Re._focused===this&&(Re._focused=null),Re._views.splice(Re._views.indexOf(this),1),delete Re._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),He.remove(this._element,this._viewEvents),He.remove(d,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:g.each(ae._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;He.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var e=r._element;(!Be.getPrefixed(x,"hidden")||H.getAttribute(e,"keepalive")==="true")&&Be.isInView(e)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){qe=this._scope;var r=Date.now()/1e3,e=this._last?r-this._last:0;this._last=r,this.emit("frame",new g({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,e){var t=this._frameItems;e?(t[r._id]={item:r,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete t[r._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var e in this._frameItems){var t=this._frameItems[e];t.item.emit("frame",new g(r,{time:t.time+=r.delta,count:t.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var r=this._viewSize;return new Ae(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=Y.read(arguments),e=r.subtract(this._viewSize);e.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(r,e){var t=this._element;t&&(t.width!==r&&(t.width=r),t.height!==e&&(t.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new q(new L,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Be.isInView(this._element)},isInserted:function(){return Be.isInserted(this._element)},getPixelSize:function(r){var e=this._element,t;if(e){var i=e.parentNode,a=x.createElement("div");a.style.fontSize=r,i.appendChild(a),t=parseFloat(Be.getStyles(a).fontSize),i.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(r,e){return 0}},g.each(["rotate","scale","shear","skew"],function(r){var e=r==="rotate";this[r]=function(){var t=arguments,i=(e?g:L).read(t),a=L.read(t,0,{readNull:!0});return this.transform(new G()[r](i,a||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new G;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=L.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform(new G().scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var e=this.getRotation();e!=null&&r!=null&&this.rotate(r-e)},getScaling:function(){var r=this._decompose().scaling;return new ge(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),e=L.read(arguments,0,{clone:!0,readNull:!0});r&&e&&this.scale(e.x/r.x,e.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(L.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(L.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(L.read(arguments))},getEventPoint:function(r){return this.viewToProject(He.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,e){x&&typeof e=="string"&&(e=x.getElementById(e));var t=d?Qa:Re;return new t(r,e)}}},new function(){if(!d)return;var r,e,t=!1,i=!1;function a(D){var O=He.getTarget(D);return O.getAttribute&&Re._viewsById[O.getAttribute("id")]}function u(){var D=Re._focused;if(!D||!D.isVisible()){for(var O=0,R=Re._views.length;O<R;O++)if((D=Re._views[O]).isVisible()){Re._focused=e=D;break}}}function l(D,O,R){D._handleMouseEvent("mousemove",O,R)}var h=d.navigator,f,c,_;h.pointerEnabled||h.msPointerEnabled?(f="pointerdown MSPointerDown",c="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",c="touchmove",_="touchend touchcancel","ontouchstart"in d&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",c+=" mousemove",_+=" mouseup"));var m={},p={mouseout:function(D){var O=Re._focused,R=He.getRelatedTarget(D);if(O&&(!R||R.nodeName==="HTML")){var B=He.getOffset(D,O._element),V=B.x,U=Math.abs,W=U(V),$=1<<25,ie=W-$;B.x=U(ie)<W?ie*(V<0?-1:1):V,l(O,D,O.viewToProject(B))}},scroll:u};m[f]=function(D){var O=Re._focused=a(D);t||(t=!0,O._handleMouseEvent("mousedown",D))},p[c]=function(D){var O=Re._focused;if(!i){var R=a(D);R?O!==R&&(O&&l(O,D),r||(r=O),O=Re._focused=e=R):e&&e===O&&(r&&!r.isInserted()&&(r=null),O=Re._focused=r,r=null,u())}O&&l(O,D)},p[f]=function(){i=!0},p[_]=function(D){var O=Re._focused;O&&t&&O._handleMouseEvent("mouseup",D),i=t=!1},He.add(x,p),He.add(d,{load:u});var v=!1,S=!1,k={doubleclick:"click",mousedrag:"mousemove"},I=!1,b,C,w,y,P,T,z,E;function M(D,O,R,B,V,U,W){var $=!1,ie;function le(he,ee){if(he.responds(ee)){if(ie||(ie=new Xa(ee,B,V,O||he,U?V.subtract(U):null)),he.emit(ee,ie)&&(v=!0,ie.prevented&&(S=!0),ie.stopped))return $=!0}else{var te=k[ee];if(te)return le(he,te)}}for(;D&&D!==W&&!le(D,R);)D=D._parent;return $}function A(D,O,R,B,V,U){return D._project.removeOn(R),S=v=!1,P&&M(P,null,R,B,V,U)||O&&O!==P&&!O.isDescendant(P)&&M(O,null,R==="mousedrag"?"mousemove":R,B,V,U,P)||M(D,P||O||D,R,B,V,U)}var N={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(D,O,R){var B=this._itemEvents,V=B.native[D],U=D==="mousemove",W=this._scope.tool,$=this;function ie(me){return B.virtual[me]||$.responds(me)||W&&W.responds(me)}U&&t&&ie("mousedrag")&&(D="mousedrag"),R||(R=this.getEventPoint(O));var le=this.getBounds().contains(R),he=V&&le&&$._project.hitTest(R,{tolerance:0,fill:!0,stroke:!0}),ee=he&&he.item||null,te=!1,fe={};if(fe[D.substr(5)]=!0,V&&ee!==y&&(y&&M(y,null,"mouseleave",O,R),ee&&M(ee,null,"mouseenter",O,R),y=ee),I^le&&(M(this,null,le?"mouseenter":"mouseleave",O,R),te=!0),(le||fe.drag)&&!R.equals(C)&&(A(this,ee,U?D:"mousemove",O,R,C),te=!0),I=le,fe.down&&le||fe.up&&b){if(A(this,ee,D,O,R,b),fe.down){if(E=ee===T&&Date.now()-z<300,w=T=ee,!S&&ee){for(var de=ee;de&&!de.responds("mousedrag");)de=de._parent;de&&(P=ee)}b=R}else fe.up&&(!S&&ee===w&&(z=Date.now(),A(this,ee,E?"doubleclick":"click",O,R,b),E=!1),w=P=null);I=!1,te=!0}C=R,te&&W&&(v=W._handleMouseEvent(D,O,R,fe)||v),O.cancelable!==!1&&(v&&!fe.move||fe.down&&ie("mouseup"))&&O.preventDefault()},_handleKeyEvent:function(D,O,R,B){var V=this._scope,U=V.tool,W;function $(ie){ie.responds(D)&&(qe=V,ie.emit(D,W=W||new Ka(D,O,R,B)))}this.isVisible()&&($(this),U&&U.responds(D)&&$(U))},_countItemEvent:function(D,O){var R=this._itemEvents,B=R.native,V=R.virtual;for(var U in N)B[U]=(B[U]||0)+(N[U][D]||0)*O;V[D]=(V[D]||0)+O},statics:{updateFocus:u,_resetState:function(){t=i=v=I=!1,r=e=b=C=w=y=P=T=z=E=null}}}}),Qa=Re.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof d.HTMLCanvasElement)){var i=Y.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+g.slice(arguments,1));t=Ct.getCanvas(i)}var a=this._context=t.getContext("2d");if(a.save(),this._pixelRatio=1,!/^off|false$/.test(H.getAttribute(t,"hidpi"))){var u=d.devicePixelRatio||1,l=Be.getPrefixed(a,"backingStorePixelRatio")||1;this._pixelRatio=u/l}Re.call(this,e,t),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(e,t){var i=this._pixelRatio;if(r.base.call(this,e*i,t*i),i!==1){var a=this._element,u=this._context;if(!H.hasAttribute(a,"resize")){var l=a.style;l.width=e+"px",l.height=t+"px"}u.restore(),u.save(),u.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function r(e){var t=qe.agent,i;if(t&&t.firefox)i=r.base.call(this,e);else{var a=this._context,u=a.font;a.font=e+" serif",i=parseFloat(a.font),a.font=u}return i},getTextWidth:function(r,e){var t=this._context,i=t.font,a=0;t.font=r;for(var u=0,l=e.length;u<l;u++)a=Math.max(a,t.measureText(e[u]).width);return t.font=i,a},update:function(){if(!this._needsUpdate)return!1;var r=this._project,e=this._context,t=this._viewSize;return e.clearRect(0,0,t.width+1,t.height+1),r&&r.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Dn=g.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Cr.modifiers}}),Ka=Dn.extend({_class:"KeyEvent",initialize:function(e,t,i,a){this.type=e,this.event=t,this.key=i,this.character=a},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Cr=new function(){var r={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},t={},i={},a,u,l=new g({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=qe&&qe.agent;return c&&c.mac?this.meta:this.control}}});function h(c){var _=c.key||c.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===o?String.fromCharCode(c.keyCode):_,r[_]||(_.length>1?g.hyphenate(_):_.toLowerCase())}function f(c,_,m,p){var v=Re._focused,S;if(t[_]=c,c?i[_]=m:delete i[_],_.length>1&&(S=g.camelize(_))in l){l[S]=c;var k=qe&&qe.agent;if(S==="meta"&&k&&k.mac)if(c)a={};else{for(var I in a)I in i&&f(!1,I,a[I],p);a=null}}else c&&a&&(a[_]=m);v&&v._handleKeyEvent(c?"keydown":"keyup",p,_,m)}return He.add(x,{keydown:function(c){var _=h(c),m=qe&&qe.agent;_.length>1||m&&m.chrome&&(c.altKey||m.mac&&c.metaKey||!m.mac&&c.ctrlKey)?f(!0,_,e[_]||(_.length>1?"":_),c):u=_},keypress:function(c){if(u){var _=h(c),m=c.charCode,p=m>=32?String.fromCharCode(m):_.length>1?"":_;_!==u&&(_=p.toLowerCase()),f(!0,_,p,c),u=null}},keyup:function(c){var _=h(c);_ in i&&f(!1,_,i[_],c)}}),He.add(d,{blur:function(c){for(var _ in i)f(!1,_,i[_],c)}}),{modifiers:l,isDown:function(c){return!!t[c]}}},Xa=Dn.extend({_class:"MouseEvent",initialize:function(e,t,i,a,u){this.type=e,this.event=t,this.point=i,this.target=a,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ja=Dn.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,i){this.tool=e,this.type=t,this.event=i},_choosePoint:function(r,e){return r||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var e=r.item,t=e._parent;/^(Group|CompoundPath)$/.test(t._class);)e=t,t=t._parent;this._item=e}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});j.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){j.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,r!=null&&this._maxDistance!=null&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,this._minDistance!=null&&r!=null&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,e,t,i){qe=this._scope,i.drag&&!this.responds(r)&&(r="mousemove");var a=i.move||i.drag,u=this.responds(r),l=this.minDistance,h=this.maxDistance,f=!1,c=this;function _(p,v){var S=t,k=a?c._point:c._downPoint||S;if(a){if(c._moveCount>=0&&S.equals(k))return!1;if(k&&(p!=null||v!=null)){var I=S.subtract(k),b=I.getLength();if(b<(p||0))return!1;v&&(S=k.add(I.normalize(Math.min(b,v))))}c._moveCount++}return c._point=S,c._lastPoint=k||S,i.down&&(c._moveCount=-1,c._downPoint=S,c._downCount++),!0}function m(){u&&(f=c.emit(r,new Ja(c,r,e))||f)}if(i.down)_(),m();else if(i.up)_(null,h),m();else if(u)for(;_(l,h);)m();return f}});var Ya=g.extend(F,{_class:"Tween",statics:{easings:new g({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+2*(2-r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(e,t,i,a,u,l){this.object=e;var h=typeof u,f=h==="function";this.type=f?h:h==="string"?u:"linear",this.easing=f?u:r.easings[this.type],this.duration=a,this.running=!1,this._then=null,this._startTime=null;var c=t||i;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(t),this._to=c&&this._getState(i),l!==!1&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var e=this.easing(r),t=this._keys,i=function(_){return typeof _=="function"?_(e,r):_},a=0,u=t&&t.length;a<u;a++){var l=t[a],h=i(this._from[l]),f=i(this._to[l]),c=h&&f&&h.__add&&f.__add?f.__subtract(h).__multiply(e).__add(h):(f-h)*e+h;this._setProperty(this._parsedKeys[l],c)}this.responds("update")&&this.emit("update",new g({progress:r,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var e=this._startTime,t=e?(r-e)/this.duration:0;e||(this._startTime=r),this.update(t)},_getState:function(r){for(var e=this._keys,t={},i=0,a=e.length;i<a;i++){var u=e[i],l=this._parsedKeys[u],h=this._getProperty(l),f;if(r){var c=this._resolveValue(h,r[u]);this._setProperty(l,c),f=this._getProperty(l),f=f&&f.clone?f.clone():f,this._setProperty(l,h)}else f=h&&h.clone?h.clone():h;t[u]=f}return t},_resolveValue:function(r,e){if(e){if(Array.isArray(e)&&e.length===2){var t=e[0];return t&&t.match&&t.match(/^[+\-\*\/]=/)?this._calculate(r,t[0],e[1]):e}else if(typeof e=="string"){var i=e.match(/^[+\-*/]=(.*)/);if(i){var a=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,e[0],a)}}}return e},_calculate:function(r,e,t){return qe.PaperScript.calculateBinary(r,e,t)},_parseKeys:function(r){for(var e={},t=0,i=r.length;t<i;t++){var a=r[t],u=a.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[a]=u.split("/")}return e},_getProperty:function(r,e){for(var t=this.object,i=0,a=r.length-(e||0);i<a&&t;i++)t=t[r[i]];return t},_setProperty:function(r,e){var t=this._getProperty(r,1);t&&(t[r[r.length-1]]=e)}}),$a={request:function(r){var e=new s.XMLHttpRequest;return e.open((r.method||"get").toUpperCase(),r.url,g.pick(r.async,!0)),r.mimeType&&e.overrideMimeType(r.mimeType),e.onload=function(){var t=e.status;t===0||t===200?r.onLoad&&r.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var t=e.status,i='Could not load "'+r.url+'" (Status: '+t+")";if(r.onError)r.onError(i,t);else throw new Error(i)},e.send(null)}},Ct=g.exports.CanvasProvider={canvases:[],getCanvas:function(r,e){if(!d)return null;var t,i=!0;typeof r=="object"&&(e=r.height,r=r.width),this.canvases.length?t=this.canvases.pop():(t=x.createElement("canvas"),i=!1);var a=t.getContext("2d");if(!a)throw new Error("Canvas "+t+" is unable to provide a 2D context.");return t.width===r&&t.height===e?i&&a.clearRect(0,0,r+1,e+1):(t.width=r,t.height=e),a.save(),t},getContext:function(r,e){var t=this.getCanvas(r,e);return t?t.getContext("2d"):null},release:function(r){var e=r&&r.canvas?r.canvas:r;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},_t=new function(){var r=Math.min,e=Math.max,t=Math.abs,i,a,u,l,h,f,c,_,m,p,v;function S(P,T,z){return .2989*P+.587*T+.114*z}function k(P,T,z,A){var M=A-S(P,T,z);m=P+M,p=T+M,v=z+M;var A=S(m,p,v),N=r(m,p,v),D=e(m,p,v);if(N<0){var O=A-N;m=A+(m-A)*A/O,p=A+(p-A)*A/O,v=A+(v-A)*A/O}if(D>255){var R=255-A,B=D-A;m=A+(m-A)*R/B,p=A+(p-A)*R/B,v=A+(v-A)*R/B}}function I(P,T,z){return e(P,T,z)-r(P,T,z)}function b(P,T,z,E){var M=[P,T,z],A=e(P,T,z),N=r(P,T,z),D;N=N===P?0:N===T?1:2,A=A===P?0:A===T?1:2,D=r(N,A)===0?e(N,A)===1?2:1:0,M[A]>M[N]?(M[D]=(M[D]-M[N])*E/(M[A]-M[N]),M[A]=E):M[D]=M[A]=0,M[N]=0,m=M[0],p=M[1],v=M[2]}var C={multiply:function(){m=h*i/255,p=f*a/255,v=c*u/255},screen:function(){m=h+i-h*i/255,p=f+a-f*a/255,v=c+u-c*u/255},overlay:function(){m=h<128?2*h*i/255:255-2*(255-h)*(255-i)/255,p=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255,v=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255},"soft-light":function(){var P=i*h/255;m=P+h*(255-(255-h)*(255-i)/255-P)/255,P=a*f/255,p=P+f*(255-(255-f)*(255-a)/255-P)/255,P=u*c/255,v=P+c*(255-(255-c)*(255-u)/255-P)/255},"hard-light":function(){m=i<128?2*i*h/255:255-2*(255-i)*(255-h)/255,p=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255,v=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255},"color-dodge":function(){m=h===0?0:i===255?255:r(255,255*h/(255-i)),p=f===0?0:a===255?255:r(255,255*f/(255-a)),v=c===0?0:u===255?255:r(255,255*c/(255-u))},"color-burn":function(){m=h===255?255:i===0?0:e(0,255-(255-h)*255/i),p=f===255?255:a===0?0:e(0,255-(255-f)*255/a),v=c===255?255:u===0?0:e(0,255-(255-c)*255/u)},darken:function(){m=h<i?h:i,p=f<a?f:a,v=c<u?c:u},lighten:function(){m=h>i?h:i,p=f>a?f:a,v=c>u?c:u},difference:function(){m=h-i,m<0&&(m=-m),p=f-a,p<0&&(p=-p),v=c-u,v<0&&(v=-v)},exclusion:function(){m=h+i*(255-h-h)/255,p=f+a*(255-f-f)/255,v=c+u*(255-c-c)/255},hue:function(){b(i,a,u,I(h,f,c)),k(m,p,v,S(h,f,c))},saturation:function(){b(h,f,c,I(i,a,u)),k(m,p,v,S(h,f,c))},luminosity:function(){k(h,f,c,S(i,a,u))},color:function(){k(i,a,u,S(h,f,c))},add:function(){m=r(h+i,255),p=r(f+a,255),v=r(c+u,255)},subtract:function(){m=e(h-i,0),p=e(f-a,0),v=e(c-u,0)},average:function(){m=(h+i)/2,p=(f+a)/2,v=(c+u)/2},negation:function(){m=255-t(255-i-h),p=255-t(255-a-f),v=255-t(255-u-c)}},w=this.nativeModes=g.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(P){this[P]=!0},{}),y=Ct.getContext(1,1);y&&(g.each(C,function(P,T){var z=T==="darken",E=!1;y.save();try{y.fillStyle=z?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=T,y.globalCompositeOperation===T&&(y.fillStyle=z?"#a00":"#300",y.fillRect(0,0,1,1),E=y.getImageData(0,0,1,1).data[0]!==z?170:51)}catch(M){}y.restore(),w[T]=E}),Ct.release(y)),this.process=function(P,T,z,E,M){var A=T.canvas,N=P==="normal";if(N||w[P])z.save(),z.setTransform(1,0,0,1,0,0),z.globalAlpha=E,N||(z.globalCompositeOperation=P),z.drawImage(A,M.x,M.y),z.restore();else{var D=C[P];if(!D)return;for(var O=z.getImageData(M.x,M.y,A.width,A.height),R=O.data,B=T.getImageData(0,0,A.width,A.height).data,V=0,U=R.length;V<U;V+=4){i=B[V],h=R[V],a=B[V+1],f=R[V+1],u=B[V+2],c=R[V+2],l=B[V+3],_=R[V+3],D();var W=l*E/255,$=1-W;R[V]=W*m+$*h,R[V+1]=W*p+$*f,R[V+2]=W*v+$*c,R[V+3]=l*E+$*_}z.putImageData(O,M.x,M.y)}}},lt=new function(){var r="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",t="http://www.w3.org/1999/xlink",i={href:t,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function a(h,f,c){return l(x.createElementNS(r,h),f,c)}function u(h,f){var c=i[f],_=c?h.getAttributeNS(c,f):h.getAttribute(f);return _==="null"?null:_}function l(h,f,c){for(var _ in f){var m=f[_],p=i[_];typeof m=="number"&&c&&(m=c.number(m)),p?h.setAttributeNS(p,_,m):h.setAttribute(_,m)}return h}return{svg:r,xmlns:e,xlink:t,create:a,get:u,set:l}},dt=g.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,e){return!e&&(r instanceof ke||r instanceof Te||r instanceof Yt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,e){var t=g.capitalize(e),i=r[2];this[e]={type:r[1],property:e,attribute:r[0],toSVG:i,fromSVG:i&&g.each(i,function(a,u){this[a]=u},{}),exportFilter:r[3],get:"get"+t,set:"set"+t}},{});new function(){var r;function e(C,w,y){var P=new g,T=C.getTranslation();if(w){var z;C.isInvertible()?(C=C._shiftless(),z=C._inverseTransform(T),T=null):z=new L,P[y?"cx":"x"]=z.x,P[y?"cy":"y"]=z.y}if(!C.isIdentity()){var E=C.decompose();if(E){var M=[],A=E.rotation,N=E.scaling,D=E.skewing;T&&!T.isZero()&&M.push("translate("+r.point(T)+")"),A&&M.push("rotate("+r.number(A)+")"),(!J.isZero(N.x-1)||!J.isZero(N.y-1))&&M.push("scale("+r.point(N)+")"),D.x&&M.push("skewX("+r.number(D.x)+")"),D.y&&M.push("skewY("+r.number(D.y)+")"),P.transform=M.join(" ")}else P.transform="matrix("+C.getValues().join(",")+")"}return P}function t(C,w){for(var y=e(C._matrix),P=C._children,T=lt.create("g",y,r),z=0,E=P.length;z<E;z++){var M=P[z],A=I(M,w);if(A)if(M.isClipMask()){var N=lt.create("clipPath");N.appendChild(A),S(M,N,"clip"),lt.set(T,{"clip-path":"url(#"+N.id+")"})}else T.appendChild(A)}return T}function i(C,w){var y=e(C._matrix,!0),P=C.getSize(),T=C.getImage();return y.x-=P.width/2,y.y-=P.height/2,y.width=P.width,y.height=P.height,y.href=w.embedImages==!1&&T&&T.src||C.toDataURL(),lt.create("image",y,r)}function a(C,w){var y=w.matchShapes;if(y){var P=C.toShape(!1);if(P)return u(P)}var T=C._segments,z=T.length,E,M=e(C._matrix);if(y&&z>=2&&!C.hasHandles())if(z>2){E=C._closed?"polygon":"polyline";for(var A=[],N=0;N<z;N++)A.push(r.point(T[N]._point));M.points=A.join(" ")}else{E="line";var D=T[0]._point,O=T[1]._point;M.set({x1:D.x,y1:D.y,x2:O.x,y2:O.y})}else E="path",M.d=C.getPathData(null,w.precision);return lt.create(E,M,r)}function u(C){var w=C._type,y=C._radius,P=e(C._matrix,!0,w!=="rectangle");if(w==="rectangle"){w="rect";var T=C._size,z=T.width,E=T.height;P.x-=z/2,P.y-=E/2,P.width=z,P.height=E,y.isZero()&&(y=null)}return y&&(w==="circle"?P.r=y:(P.rx=y.width,P.ry=y.height)),lt.create(w,P,r)}function l(C,w){var y=e(C._matrix),P=C.getPathData(null,w.precision);return P&&(y.d=P),lt.create("path",y,r)}function h(C,w){var y=e(C._matrix,!0),P=C._definition,T=v(P,"symbol"),z=P._item,E=z.getStrokeBounds();return T||(T=lt.create("symbol",{viewBox:r.rectangle(E)}),T.appendChild(I(z,w)),S(P,T,"symbol")),y.href="#"+T.id,y.x+=E.x,y.y+=E.y,y.width=E.width,y.height=E.height,y.overflow="visible",lt.create("use",y,r)}function f(C){var w=v(C,"color");if(!w){var y=C.getGradient(),P=y._radial,T=C.getOrigin(),z=C.getDestination(),E;if(P){E={cx:T.x,cy:T.y,r:T.getDistance(z)};var M=C.getHighlight();M&&(E.fx=M.x,E.fy=M.y)}else E={x1:T.x,y1:T.y,x2:z.x,y2:z.y};E.gradientUnits="userSpaceOnUse",w=lt.create((P?"radial":"linear")+"Gradient",E,r);for(var A=y._stops,N=0,D=A.length;N<D;N++){var O=A[N],R=O._color,B=R.getAlpha(),V=O._offset;E={offset:V==null?N/(D-1):V},R&&(E["stop-color"]=R.toCSS(!0)),B<1&&(E["stop-opacity"]=B),w.appendChild(lt.create("stop",E,r))}S(C,w,"color")}return"url(#"+w.id+")"}function c(C){var w=lt.create("text",e(C._matrix,!0),r);return w.textContent=C._content,w}var _={Group:t,Layer:t,Raster:i,Path:a,Shape:u,CompoundPath:l,SymbolItem:h,PointText:c};function m(C,w,y){var P={},T=!y&&C.getParent(),z=[];return C._name!=null&&(P.id=C._name),g.each(dt,function(E){var M=E.get,A=E.type,N=C[M]();if(E.exportFilter?E.exportFilter(C,N):!T||!g.equals(T[M](),N)){if(A==="color"&&N!=null){var D=N.getAlpha();D<1&&(P[E.attribute+"-opacity"]=D)}A==="style"?z.push(E.attribute+": "+N):P[E.attribute]=N==null?"none":A==="color"?N.gradient?f(N):N.toCSS(!0):A==="array"?N.join(","):A==="lookup"?E.toSVG[N]:N}}),z.length&&(P.style=z.join(";")),P.opacity===1&&delete P.opacity,C._visible||(P.visibility="hidden"),lt.set(w,P,r)}var p;function v(C,w){return p||(p={ids:{},svgs:{}}),C&&p.svgs[w+"-"+(C._id||C.__id||(C.__id=ne.get("svg")))]}function S(C,w,y){p||v();var P=p.ids[y]=(p.ids[y]||0)+1;w.id=y+"-"+P,p.svgs[y+"-"+(C._id||C.__id)]=w}function k(C,w){var y=C,P=null;if(p){y=C.nodeName.toLowerCase()==="svg"&&C;for(var T in p.svgs)P||(y||(y=lt.create("svg"),y.appendChild(C)),P=y.insertBefore(lt.create("defs"),y.firstChild)),P.appendChild(p.svgs[T]);p=null}return w.asString?new s.XMLSerializer().serializeToString(y):y}function I(C,w,y){var P=_[C._class],T=P&&P(C,w);if(T){var z=w.onExport;z&&(T=z(C,T,w)||T);var E=JSON.stringify(C._data);E&&E!=="{}"&&E!=="null"&&T.setAttribute("data-paper-data",E)}return T&&m(C,T,y)}function b(C){return C||(C={}),r=new se(C.precision),C}ae.inject({exportSVG:function(C){return C=b(C),k(I(this,C,!0),C)}}),ve.inject({exportSVG:function(C){C=b(C);var w=this._children,y=this.getView(),P=g.pick(C.bounds,"view"),T=C.matrix||P==="view"&&y._matrix,z=T&&G.read([T]),E=P==="view"?new q([0,0],y.getViewSize()):P==="content"?ae._getBounds(w,z,{stroke:!0}).rect:q.read([P],0,{readNull:!0}),M={version:"1.1",xmlns:lt.svg,"xmlns:xlink":lt.xlink};E&&(M.width=E.width,M.height=E.height,(E.x||E.x===0||E.y||E.y===0)&&(M.viewBox=r.rectangle(E)));var A=lt.create("svg",M,r),N=A;z&&!z.isIdentity()&&(N=A.appendChild(lt.create("g",e(z),r)));for(var D=0,O=w.length;D<O;D++)N.appendChild(I(w[D],C,!0));return k(A,C)}})},new function(){var r={},e;function t(w,y,P,T,z,E){var M=lt.get(w,y)||E,A=M==null?T?null:P?"":0:P?M:parseFloat(M);return/%\s*$/.test(M)?A/100*(z?1:e[/x|^width/.test(y)?"width":"height"]):A}function i(w,y,P,T,z,E,M){return y=t(w,y||"x",!1,T,z,E),P=t(w,P||"y",!1,T,z,M),T&&(y==null||P==null)?null:new L(y,P)}function a(w,y,P,T,z){return y=t(w,y||"width",!1,T,z),P=t(w,P||"height",!1,T,z),T&&(y==null||P==null)?null:new Y(y,P)}function u(w,y,P){return w==="none"?null:y==="number"?parseFloat(w):y==="array"?w?w.split(/[\s,]+/g).map(parseFloat):[]:y==="color"?I(w)||w:y==="lookup"?P[w]:w}function l(w,y,P,T){var z=w.childNodes,E=y==="clippath",M=y==="defs",A=new ye,N=A._project,D=N._currentStyle,O=[];if(!E&&!M&&(A=k(A,w,T),N._currentStyle=A._style.clone()),T)for(var R=w.querySelectorAll("defs"),B=0,V=R.length;B<V;B++)b(R[B],P,!1);for(var B=0,V=z.length;B<V;B++){var U=z[B],W;U.nodeType===1&&!/^defs$/i.test(U.nodeName)&&(W=b(U,P,!1))&&!(W instanceof je)&&O.push(W)}return A.addChildren(O),E&&(A=k(A.reduce(),w,T)),N._currentStyle=D,(E||M)&&(A.remove(),A=null),A}function h(w,y){for(var P=w.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),T=[],z=0,E=P.length;z<E;z+=2)T.push(new L(parseFloat(P[z]),parseFloat(P[z+1])));var M=new pe(T);return y==="polygon"&&M.closePath(),M}function f(w){return ke.create(w.getAttribute("d"))}function c(w,y){var P=(t(w,"href",!0)||"").substring(1),T=y==="radialgradient",z;if(P)z=r[P].getGradient(),z._radial^T&&(z=z.clone(),z._radial=T);else{for(var E=w.childNodes,M=[],A=0,N=E.length;A<N;A++){var D=E[A];D.nodeType===1&&M.push(k(new cn,D))}z=new Ft(M,T)}var O,R,B,V=t(w,"gradientUnits",!0)!=="userSpaceOnUse";T?(O=i(w,"cx","cy",!1,V,"50%","50%"),R=O.add(t(w,"r",!1,!1,V,"50%"),0),B=i(w,"fx","fy",!0,V)):(O=i(w,"x1","y1",!1,V,"0%","0%"),R=i(w,"x2","y2",!1,V,"100%","0%"));var U=k(new Ve(z,O,R,B),w);return U._scaleToBounds=V,null}var _={"#document":function(w,y,P,T){for(var z=w.childNodes,E=0,M=z.length;E<M;E++){var A=z[E];if(A.nodeType===1)return b(A,P,T)}},g:l,svg:l,clippath:l,polygon:h,polyline:h,path:f,lineargradient:c,radialgradient:c,image:function(w){var y=new ze(t(w,"href",!0));return y.on("load",function(){var P=a(w);this.setSize(P);var T=i(w).add(P.divide(2));this._matrix.append(new G().translate(T))}),y},symbol:function(w,y,P,T){return new je(l(w,y,P,T),!0)},defs:l,use:function(w){var y=(t(w,"href",!0)||"").substring(1),P=r[y],T=i(w);return P?P instanceof je?P.place(T):P.clone().translate(T):null},circle:function(w){return new Te.Circle(i(w,"cx","cy"),t(w,"r"))},ellipse:function(w){return new Te.Ellipse({center:i(w,"cx","cy"),radius:a(w,"rx","ry")})},rect:function(w){return new Te.Rectangle(new q(i(w),a(w)),a(w,"rx","ry"))},line:function(w){return new pe.Line(i(w,"x1","y1"),i(w,"x2","y2"))},text:function(w){var y=new yn(i(w).add(i(w,"dx","dy")));return y.setContent(w.textContent.trim()||""),y},switch:l};function m(w,y,P,T){if(w.transform){for(var z=(T.getAttribute(P)||"").split(/\)\s*/g),E=new G,M=0,A=z.length;M<A;M++){var N=z[M];if(!N)break;for(var D=N.split(/\(\s*/),O=D[0],R=D[1].split(/[\s,]+/g),B=0,V=R.length;B<V;B++)R[B]=parseFloat(R[B]);switch(O){case"matrix":E.append(new G(R[0],R[1],R[2],R[3],R[4],R[5]));break;case"rotate":E.rotate(R[0],R[1]||0,R[2]||0);break;case"translate":E.translate(R[0],R[1]||0);break;case"scale":E.scale(R);break;case"skewX":E.skew(R[0],0);break;case"skewY":E.skew(0,R[0]);break}}w.transform(E)}}function p(w,y,P){var T=P==="fill-opacity"?"getFillColor":"getStrokeColor",z=w[T]&&w[T]();z&&z.setAlpha(parseFloat(y))}var v=g.set(g.each(dt,function(w){this[w.attribute]=function(y,P){if(y[w.set]&&(y[w.set](u(P,w.type,w.fromSVG)),w.type==="color")){var T=y[w.get]();if(T&&T._scaleToBounds){var z=y.getBounds();T.transform(new G().translate(z.getPoint()).scale(z.getSize()))}}}},{}),{id:function(w,y){r[y]=w,w.setName&&w.setName(y)},"clip-path":function(w,y){var P=I(y);if(P)if(P=P.clone(),P.setClipMask(!0),w instanceof ye)w.insertChild(0,P);else return new ye(P,w)},gradientTransform:m,transform:m,"fill-opacity":p,"stroke-opacity":p,visibility:function(w,y){w.setVisible&&w.setVisible(y==="visible")},display:function(w,y){w.setVisible&&w.setVisible(y!==null)},"stop-color":function(w,y){w.setColor&&w.setColor(y)},"stop-opacity":function(w,y){w._color&&w._color.setAlpha(parseFloat(y))},offset:function(w,y){if(w.setOffset){var P=y.match(/(.*)%$/);w.setOffset(P?P[1]/100:parseFloat(y))}},viewBox:function(w,y,P,T,z){var E=new q(u(y,"array")),M=a(T,null,null,!0),A,N;if(w instanceof ye){var D=M?M.divide(E.getSize()):1,N=new G().scale(D).translate(E.getPoint().negate());A=w}else w instanceof je&&(M&&E.setSize(M),A=w._item);if(A){if(S(T,"overflow",z)!=="visible"){var O=new Te.Rectangle(E);O.setClipMask(!0),A.addChild(O)}N&&A.transform(N)}}});function S(w,y,P){var T=w.attributes[y],z=T&&T.value;if(!z&&w.style){var E=g.camelize(y);z=w.style[E],!z&&P.node[E]!==P.parent[E]&&(z=P.node[E])}return z?z==="none"?null:z:o}function k(w,y,P){var T=y.parentNode,z={node:Be.getStyles(y)||{},parent:!P&&!/^defs$/i.test(T.tagName)&&Be.getStyles(T)||{}};return g.each(v,function(E,M){var A=S(y,M,z);w=A!==o&&E(w,A,M,y,z)||w}),w}function I(w){var y=w&&w.match(/\((?:["'#]*)([^"')]+)/),P=y&&y[1],T=P&&r[d?P.replace(d.location.href.split("#")[0]+"#",""):P];return T&&T._scaleToBounds&&(T=T.clone(),T._scaleToBounds=!0),T}function b(w,y,P){var T=w.nodeName.toLowerCase(),z=T!=="#document",E=x.body,M,A,N;P&&z&&(e=qe.getView().getSize(),e=a(w,null,null,!0)||e,M=lt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),A=w.parentNode,N=w.nextSibling,M.appendChild(w),E.appendChild(M));var D=qe.settings,O=D.applyMatrix,R=D.insertItems;D.applyMatrix=!1,D.insertItems=!1;var B=_[T],V=B&&B(w,T,y,P)||null;if(D.insertItems=R,D.applyMatrix=O,V){z&&!(V instanceof ye)&&(V=k(V,w,P));var U=y.onImport,W=z&&w.getAttribute("data-paper-data");U&&(V=U(w,V,y)||V),y.expandShapes&&V instanceof Te&&(V.remove(),V=V.toPath()),W&&(V._data=JSON.parse(W))}return M&&(E.removeChild(M),A&&(N?A.insertBefore(w,N):A.appendChild(w))),P&&(r={},V&&g.pick(y.applyMatrix,O)&&V.matrix.apply(!0,!0)),V}function C(w,y,P){if(!w)return null;y=typeof y=="function"?{onLoad:y}:y||{};var T=qe,z=null;function E(D){try{var O=typeof D=="object"?D:new s.DOMParser().parseFromString(D.trim(),"image/svg+xml");if(!O.nodeName)throw O=null,new Error("Unsupported SVG source: "+w);qe=T,z=b(O,y,!0),(!y||y.insert!==!1)&&P._insertItem(o,z);var R=y.onLoad;R&&R(z,D)}catch(B){M(B)}}function M(D,O){var R=y.onError;if(R)R(D,O);else throw new Error(D)}if(typeof w=="string"&&!/^[\s\S]*</.test(w)){var A=x.getElementById(w);A?E(A):$a.request({url:w,async:!0,onLoad:E,onError:M})}else if(typeof File!="undefined"&&w instanceof File){var N=new FileReader;return N.onload=function(){E(N.result)},N.onerror=function(){M(N.error)},N.readAsText(w)}else E(w);return z}ae.inject({importSVG:function(w,y){return C(w,y,this)}}),ve.inject({importSVG:function(w,y){return this.activate(),C(w,y,this)}})};var qe=new(H.inject(g.exports,{Base:g,Numerical:J,Key:Cr,DomEvent:He,DomElement:Be,document:x,window:d,Symbol:je,PlacedSymbol:Qe}));return qe.agent.node&&aa(qe),typeof o=="function"&&o.amd?o("paper",qe):n&&(n.exports=qe),qe}).call(gf,typeof self=="object"?self:null)})(Vo);function _i(n,s,o,d,x=0,g=0,F,H){var j;if((j=n==null?void 0:n.Extent)!=null&&j.length){const X=n.Extent[0].Max[0].x.valueAsNumber,se=n.Extent[0].Min[0].x.valueAsNumber,J=(X-se)*s<1?1:(X-se)*s,ne=n.Extent[0].Max[0].y.valueAsNumber,L=n.Extent[0].Min[0].y.valueAsNumber,ge=(ne-L)*s<1?1:(ne-L)*s,Y=x*s+se*s,Ae=d*s-(ne+g)*s;if(F){const q=nt().Shape,Q=nt().Size,G=nt().Color,ue=new Q(J,ge),ve=new q.Rectangle(new Vo.exports.Point(Y,Ae),ue);ve.fillColor=new G(H),ve.onClick=()=>{console.log(n)},ve.bringToFront()}return[Y,Ae,J,ge]}else return[0,0,0,0]}function Rg(n,s,o,d,x=0,g=0,F,H){var L,ge,Y;const j=nt().Point,X=nt().Path,se=nt().Color,J=[];if(!Array.isArray(n.Coordinate)||n.Coordinate.length===0){((L=n.numPoints)==null?void 0:L.valueAsNumber)!==0&&console.warn("line element without coordinate");return}n.Coordinate.forEach(Ae=>{const q=Ae.x.valueAsNumber+x,Q=Ae.y.valueAsNumber+g,G=new j(q*s,d*s-Q*s);J.push(G)});const ne=new X(J);switch(ne.strokeColor=new se({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),(ge=n.Presentation[0].lineType)==null?void 0:ge.valueAsString){case"0":break;case"Solid":break;case"1":ne.dashArray=[.3,.3];case"Dotted":ne.dashArray=[.3,.3];break;case"2":ne.dashArray=[2,.5];case"Dashed":ne.dashArray=[2,.5];break;case"3":ne.dashArray=[4,.5];case"Long Dash":ne.dashArray=[4,.5];break;case"4":ne.dashArray=[4,.5,1,.5];break;case"Long Dash + Short Dash, CenterLine":ne.dashArray=[15,1,.5,1,.5,1];break;case"5":ne.dashArray=[1,.5];break;case"Short Dash":ne.dashArray=[1,.5];break;case"6":ne.dashArray=[4,.5,1,.5,1,.5];break;case"Long Dash + Short Dash + Short Dash":ne.dashArray=[4,1,1,1,1,1];break;case"7":ne.dashArray=[2,.5,1,.5];break;case"Dash + Short Dash":ne.dashArray=[2,.5,1,.5];break;default:((Y=n.Presentation[0].lineType)==null?void 0:Y.valueAsString)!==void 0&&console.error("unknown linetype",n)}ne.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,F?F.addChild(ne):ne.onClick=function(){console.log(n)},_i(n,s,o,d,x,g,di.line,gi.line)}function Bg(n,s,o,d,x=0,g=0,F,H){const j=nt().Point,X=nt().Path,se=nt().Color,J=[];n.Coordinate.forEach(L=>{const ge=L.x.valueAsNumber+x,Y=L.y.valueAsNumber+g,Ae=new j(ge*s,d*s-Y*s);J.push(Ae)});const ne=new X(J);F?F.addChild(ne):ne.onClick=function(){console.log(n)},ne.strokeColor=new se({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),ne.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,n.filled&&(ne.fillColor=new se({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value})),_i(n,s,o,d,x,g,di.shape,gi.shape)}function Vg(n,s,o,d,x=0,g=0,F,H){var Y;const j=nt().Point,X=nt().Path,se=nt().Color,J=n.Position[0].Location[0].x.valueAsNumber+x,ne=n.Position[0].Location[0].y.valueAsNumber+g,L=new j(J*s,d*s-ne*s),ge=new X.Circle(L,n.radius.valueAsNumber*s);F?F.addChild(ge):ge.onClick=function(){console.log(n)},ge.strokeColor=new se({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),ge.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(Y=n.filled)!=null&&Y.value&&(ge.fillColor=new se("black")),_i(n,s,o,d,x,g,di.circle,gi.circleArc)}function Ug(n,s,o,d,x=0,g=0,F,H){var ae,ye,xe,Te,ze,Qe,je,Ke,ce;const j=nt().PointText,X=nt().Point,se=nt().Color,J=nt().Shape,ne=nt().Size;if(!((ae=n.Position[0])!=null&&ae.Location)){console.warn("unexpected missing location element on text, skipping text",(ye=n==null?void 0:n.string)==null?void 0:ye.valueAsString,n);return}if(!((xe=n.Extent[0])!=null&&xe.Max)){console.warn("unexpected missing Extent element on text, skipping text",(Te=n==null?void 0:n.string)==null?void 0:Te.valueAsString,n);return}if(!n.Presentation[0]){console.warn("unexpected missing Presentation element on text, skipping text",(ze=n==null?void 0:n.string)==null?void 0:ze.valueAsString,n);return}if((Qe=n.Presentation[0].layer)!=null&&Qe.valueAsString.toUpperCase().includes("HIDDEN"))return;const[L,ge,Y,Ae]=_i(n,s,o,d,x,g,di.text,gi.text),q=(n.Position[0].Location[0].x.valueAsNumber+x)*s,Q=d*s-(n.Position[0].Location[0].y.valueAsNumber+g)*s,G=new ne(Y,Ae),ue=new J.Rectangle(new X(L,ge),G),ve=new j(new X(q,Q));if(ve.content=(je=n.string)==null?void 0:je.valueAsString,ve.content==="undefined"&&n.attributes.DependantAttribute&&n.attributes.ItemID){const ut=Mg(n.attributes.ItemID);ut&&ut.GenericAttributes.forEach(re=>{re.GenericAttribute.forEach(rt=>{`[${rt.attributes.Name}]`===n.attributes.DependantAttribute&&(ve.content=rt.attributes.Value)})}),ve.content==="undefined"&&console.warn("dependable attribute:",n.attributes.DependantAttribute,"not found in ",n)}ve.fontSize=n.height.valueAsNumber*s,ve.fontFamily=n.font.valueAsString,((Ke=n.textAngle)==null?void 0:Ke.valueAsNumber)>0&&ve.rotate(-n.textAngle.valueAsNumber,new X(q,Q)),((ce=n.slantAngle)==null?void 0:ce.valueAsNumber)>0&&console.warn("Text slantAngle not implemented",n),ve.bounds.y=ue.bounds.y,ve.bounds.x=ue.bounds.x,ve.fitBounds(ue.bounds),ve.fillColor=new se({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),F?F.addChild(ve):ve.onClick=function(){console.log(n)}}function Hg(n,s,o,d,x=0,g=0,F,H){Cf(n).forEach(X=>{var se,J,ne,L;if(X.element.tagName==="Circle"){const ge=nt().Point,Y=nt().Path,Ae=nt().Color,q=X,Q=q.Position[0].Location[0].x.valueAsNumber+x,G=q.Position[0].Location[0].y.valueAsNumber+g,ue=q.Position[0].Reference[0].x.valueAsNumber,ve=q.Position[0].Reference[0].y.valueAsNumber,ae=q.Position[0].Axis[0].y.valueAsNumber===-1,ye=new ge(Q*s,d*s-G*s),xe=q.radius.valueAsNumber*s,Te=-((se=n.startAngle)==null?void 0:se.valueAsNumber)||0,ze=-((J=n.endAngle)==null?void 0:J.valueAsNumber)||0,Qe=new ge(xe,0);Qe.angle=Te;const je=new ge(xe,0);je.angle=ze;const Ke=new ge(xe,0),ce=ze-Te;Ke.angle=Te+ce/2;const ut=new Y.Arc(Qe,Ke,je);ut.strokeColor=new Ae({red:q.Presentation[0].r.value,green:q.Presentation[0].g.value,blue:q.Presentation[0].b.value}),ut.strokeWidth=q.Presentation[0].lineWeight.valueAsNumber*s,ut.translate(ye),ue<0&&ut.rotate(ue/(Math.PI/180)*Math.PI,ye),ve&&ve!==0&&ut.rotate(-(ve/(Math.PI/90))*Math.PI,ye),ae&&console.log("not implented flipY",n,ue,ve,ae),F?F.addChild(ut):ut.onClick=function(){console.log(n)},_i(q,s,o,d,x,g,di.circleArc,gi.circleArc)}if(X.element.tagName==="Ellipse"){const ge=nt().Point,Y=nt().Path,Ae=nt().Color,q=X,Q=q.Position[0].Location[0].x.valueAsNumber+x,G=q.Position[0].Location[0].y.valueAsNumber+g,ue=q.Position[0].Reference[0].x.valueAsNumber,ve=q.Position[0].Reference[0].y.valueAsNumber,ae=new ge(Q*s,d*s-G*s),ye=q.primaryAxis.valueAsNumber*s,xe=-((ne=n.startAngle)==null?void 0:ne.valueAsNumber)||0,Te=-((L=n.endAngle)==null?void 0:L.valueAsNumber)||0,ze=new ge(ye,0);ze.angle=xe;const Qe=new ge(ye,0);Qe.angle=Te;const je=new ge(ye,0),Ke=Te-xe;je.angle=xe+Ke/2;const ce=new Y.Arc(ze,je,Qe);ce.strokeColor=new Ae({red:q.Presentation[0].r.value,green:q.Presentation[0].g.value,blue:q.Presentation[0].b.value}),ce.strokeWidth=q.Presentation[0].lineWeight.valueAsNumber*s,ce.translate(ae),ce.scale(1,q.secondaryAxis.valueAsNumber*s/ye,ae),ue<0&&ce.rotate(ue/(Math.PI/180)*Math.PI,ae),ve&&ve!==0&&ce.rotate(-(ve/(Math.PI/90))*Math.PI,ae);const ut=q.Position[0].Axis[0].z.valueAsNumber===-1;ut&&console.log("not implented flipY",n,ue,ve,ut),F?F.addChild(ce):ce.onClick=function(){console.log(n)},_i(q,s,o,d,x,g,di.ellipseArc,gi.ellipseArc)}})}function qg(n,s,o,d,x=0,g=0,F,H){var ve,ae,ye,xe,Te,ze,Qe;const j=nt().Point,X=nt().Path,se=nt().Color,J=nt().Size,ne=nt().Rectangle,L=n.Position[0].Location[0].x.valueAsNumber+x,ge=n.Position[0].Location[0].y.valueAsNumber+g,Y=new j(L*s,d*s-ge*s),Ae=new ne(Y,new J(n.primaryAxis.valueAsNumber*s,n.secondaryAxis.valueAsNumber*s)),q=new X.Ellipse(Ae),Q=(ye=(ae=(ve=n.Position[0])==null?void 0:ve.Reference[0])==null?void 0:ae.x)==null?void 0:ye.valueAsNumber;Q&&Q!==1&&q.rotate(-(Q/(Math.PI/180))*Math.PI,Y);const G=(ze=(Te=(xe=n.Position[0])==null?void 0:xe.Reference[0])==null?void 0:Te.y)==null?void 0:ze.valueAsNumber;G&&G!==0&&q.rotate(-(G/(Math.PI/90))*Math.PI,Y);const ue=n.Position[0].Axis[0].z.valueAsNumber===-1;ue&&console.log("not implented flipY",n,Q,G,ue),F?F.addChild(q):q.onClick=function(){console.log(n)},q.strokeColor=new se({red:n.Presentation[0].r.value,green:n.Presentation[0].g.value,blue:n.Presentation[0].b.value}),q.strokeWidth=n.Presentation[0].lineWeight.valueAsNumber*s,(Qe=n.filled)!=null&&Qe.value&&(q.fillColor=new se("black")),_i(n,s,o,d,x,g,di.circle,gi.circleArc)}class Uo{constructor(s,o,d){var g,F,H;this.element=s,this.isShapeCatalogChild=o,this.parent=d,this.isChild=!0,this.attributes={},this.GenericAttributes=[],this.GenericAttribute=[],this.Position=[],this.Extent=[],this.Presentation=[],this.Scale=[],this.elementTagName=this.element.tagName,this.elementTagName==="ShapeCatalogue"&&(this.isShapeCatalogChild=!0);for(let j=0;j<this.element.children.length;j++){const X=this.element.children[j],se=X.tagName,J=this;J[se]||(J[se]=[]);const ne=new Uo(X,this.isShapeCatalogChild,this);J[se].push(ne)}s.getAttributeNames().forEach(j=>{const X=this,se=j[0].toLowerCase()+j.substring(1,j.length);X[se]=new Ag(s,j,this)}),this.GenericAttributes&&(this.genericAttributes={},this.GenericAttributes.forEach(j=>{j.GenericAttribute.forEach(X=>{this.genericAttributes[X.attributes.Name]=X.attributes.Value})})),this.elementTagName!=="ShapeCatalogue"&&this.isShapeCatalogChild&&(g=this.componentName)!=null&&g.value&&Og((F=this.componentName)==null?void 0:F.value,this),(H=this.iD)!=null&&H.valueAsString&&zg(this.iD.valueAsString,this)}draw(s,o,d,x=0,g=0,F,H){var X,se,J,ne,L,ge,Y,Ae,q,Q,G;if(this.elementTagName==="ShapeCatalogue")return;if(this.elementTagName==="TrimmedCurve"){Hg(this,s,o,d,x,g,F);return}if(Cf(this).forEach(ue=>{ue.draw(s,o,d,x,g,F,this)}),((X=this.componentName)==null?void 0:X.value)&&((se=this.Position)==null?void 0:se.length)){const ue=Lg(this.componentName.value);if(ue&&ue!==this){const ve=nt().Group,ae=new ve;this.shapeCatalogItem=ue;const ye=this;ae.onClick=function(){console.log(ye)};const xe=this.Position[0].Location[0].x.valueAsNumber+x,Te=this.Position[0].Location[0].y.valueAsNumber+g,ze=new Vo.exports.Point(xe*s,d*s-Te*s);if(typeof ue.draw=="function"&&ue.draw(s,o,d,xe+x,Te+g,ae),this.Scale.length){const ce=parseFloat(this.Scale[0].attributes.X),ut=parseFloat(this.Scale[0].attributes.Y);(ce!==1||ut!==1)&&ae.scale(ce,ut,ze)}const Qe=(L=(ne=(J=this.Position[0])==null?void 0:J.Reference[0])==null?void 0:ne.x)==null?void 0:L.valueAsNumber;Qe&&Qe!==1&&ae.rotate(-(Qe/(Math.PI/180))*Math.PI,ze);const je=(Ae=(Y=(ge=this.Position[0])==null?void 0:ge.Reference[0])==null?void 0:Y.y)==null?void 0:Ae.valueAsNumber;je&&je!==0&&ae.rotate(-(je/(Math.PI/90))*Math.PI,ze),((G=(Q=(q=this.Position[0])==null?void 0:q.Axis[0])==null?void 0:Q.z)==null?void 0:G.valueAsNumber)===-1&&console.warn("flipY need improvement",this),_i(this,s,o,d,x,g,di.component,gi.component)}}(this.elementTagName==="Line"||this.elementTagName==="PolyLine"||this.elementTagName==="CenterLine")&&Rg(this,s,o,d,x,g,F),this.elementTagName==="BsplineCurve"&&console.warn("BsplineCurve not implemented",this),this.elementTagName==="CompositeCurve"&&console.warn("CompositeCurve not implemented",this),this.elementTagName==="Circle"&&Vg(this,s,o,d,x,g,F),this.elementTagName==="Ellipse"&&qg(this,s,o,d,x,g,F),this.elementTagName==="Shape"&&Bg(this,s,o,d,x,g,F),this.elementTagName==="Text"&&Ug(this,s,o,d,x,g,F)}}class jg{constructor(s,o){this.root=!0,this.xml=new window.DOMParser().parseFromString(s,"text/xml"),this.canvas=document.getElementById(o),Eg(),Dg(o);const d=this.xml.getElementsByTagName("PlantModel")[0];if(!d){alert("missing plantmodel");return}this.PlantModel=new Uo(d,!1)}draw(){var g,F,H;let s=1;if(this.PlantModel.PlantInformation[0].units.value==="Metre"&&(s=1e3),!Array.isArray(this.PlantModel.Drawing)||this.PlantModel.Drawing[0].length===0){console.warn("No drawing element, using x:0.841, y:0.594"),this.PlantModel.draw(s,.841,.594,0,0);return}const o=this.PlantModel.Drawing[0].Extent[0].Max[0].x.valueAsNumber,d=this.PlantModel.Drawing[0].Extent[0].Max[0].y.valueAsNumber,x=(g=this.PlantModel.Drawing[0])==null?void 0:g.Presentation[0];(F=x==null?void 0:x.attributes)!=null&&F.Color&&(this.canvas.style.backgroundColor=(H=x==null?void 0:x.attributes)==null?void 0:H.Color),this.PlantModel.draw(s,o,d,0,0)}}var Ho={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Ma.exports,Zg=Symbol.for("react.element"),Gg=Symbol.for("react.fragment"),Qg=Object.prototype.hasOwnProperty,Kg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function bf(n,s,o){var d,x={},g=null,F=null;o!==void 0&&(g=""+o),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(F=s.ref);for(d in s)Qg.call(s,d)&&!Xg.hasOwnProperty(d)&&(x[d]=s[d]);if(n&&n.defaultProps)for(d in s=n.defaultProps,s)x[d]===void 0&&(x[d]=s[d]);return{$$typeof:Zg,type:n,key:g,ref:F,props:x,_owner:Kg.current}}Aa.Fragment=Gg;Aa.jsx=bf;Aa.jsxs=bf;Ho.exports=Aa;const Dr=Ho.exports.jsx,sh=Ho.exports.jsxs;function Jg(){return Ma.exports.useEffect(()=>{},[]),sh("div",{className:"z-20",children:[Dr("input",{className:"m-2",type:"file",onChange:n=>{const s=new FileReader;s.onload=()=>{new jg(s.result,"pidCanvas").draw()},s.onerror=()=>{},n!=null&&n.target.files&&s.readAsText(n.target.files[0])}}),sh("div",{className:"fixed top-10 ",children:["Version: ","1.2.8"]}),Dr("div",{className:"fixed top-10 ",children:Dr("a",{href:"https://github.com/vegarringdal/ProteusXMLDrawing",children:"Github repo"})}),Dr("div",{className:"fixed top-10",children:"PS- Check console.log for errors (F12) in Chrome/Edge"})]})}var kf={exports:{}},hn={},If={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function s(ke,pe){var Me=ke.length;ke.push(pe);e:for(;0<Me;){var at=Me-1>>>1,St=ke[at];if(0<x(St,pe))ke[at]=pe,ke[Me]=St,Me=at;else break e}}function o(ke){return ke.length===0?null:ke[0]}function d(ke){if(ke.length===0)return null;var pe=ke[0],Me=ke.pop();if(Me!==pe){ke[0]=Me;e:for(var at=0,St=ke.length,Yt=St>>>1;at<Yt;){var yn=2*(at+1)-1,Ve=ke[yn],Ft=yn+1,cn=ke[Ft];if(0>x(Ve,Me))Ft<St&&0>x(cn,Ve)?(ke[at]=cn,ke[Ft]=Me,at=Ft):(ke[at]=Ve,ke[yn]=Me,at=yn);else if(Ft<St&&0>x(cn,Me))ke[at]=cn,ke[Ft]=Me,at=Ft;else break e}}return pe}function x(ke,pe){var Me=ke.sortIndex-pe.sortIndex;return Me!==0?Me:ke.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;n.unstable_now=function(){return g.now()}}else{var F=Date,H=F.now();n.unstable_now=function(){return F.now()-H}}var j=[],X=[],se=1,J=null,ne=3,L=!1,ge=!1,Y=!1,Ae=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ke){for(var pe=o(X);pe!==null;){if(pe.callback===null)d(X);else if(pe.startTime<=ke)d(X),pe.sortIndex=pe.expirationTime,s(j,pe);else break;pe=o(X)}}function ue(ke){if(Y=!1,G(ke),!ge)if(o(j)!==null)ge=!0,re(ve);else{var pe=o(X);pe!==null&&rt(ue,pe.startTime-ke)}}function ve(ke,pe){ge=!1,Y&&(Y=!1,q(xe),xe=-1),L=!0;var Me=ne;try{for(G(pe),J=o(j);J!==null&&(!(J.expirationTime>pe)||ke&&!Qe());){var at=J.callback;if(typeof at=="function"){J.callback=null,ne=J.priorityLevel;var St=at(J.expirationTime<=pe);pe=n.unstable_now(),typeof St=="function"?J.callback=St:J===o(j)&&d(j),G(pe)}else d(j);J=o(j)}if(J!==null)var Yt=!0;else{var yn=o(X);yn!==null&&rt(ue,yn.startTime-pe),Yt=!1}return Yt}finally{J=null,ne=Me,L=!1}}var ae=!1,ye=null,xe=-1,Te=5,ze=-1;function Qe(){return!(n.unstable_now()-ze<Te)}function je(){if(ye!==null){var ke=n.unstable_now();ze=ke;var pe=!0;try{pe=ye(!0,ke)}finally{pe?Ke():(ae=!1,ye=null)}}else ae=!1}var Ke;if(typeof Q=="function")Ke=function(){Q(je)};else if(typeof MessageChannel!="undefined"){var ce=new MessageChannel,ut=ce.port2;ce.port1.onmessage=je,Ke=function(){ut.postMessage(null)}}else Ke=function(){Ae(je,0)};function re(ke){ye=ke,ae||(ae=!0,Ke())}function rt(ke,pe){xe=Ae(function(){ke(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ke){ke.callback=null},n.unstable_continueExecution=function(){ge||L||(ge=!0,re(ve))},n.unstable_forceFrameRate=function(ke){0>ke||125<ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<ke?Math.floor(1e3/ke):5},n.unstable_getCurrentPriorityLevel=function(){return ne},n.unstable_getFirstCallbackNode=function(){return o(j)},n.unstable_next=function(ke){switch(ne){case 1:case 2:case 3:var pe=3;break;default:pe=ne}var Me=ne;ne=pe;try{return ke()}finally{ne=Me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ke,pe){switch(ke){case 1:case 2:case 3:case 4:case 5:break;default:ke=3}var Me=ne;ne=ke;try{return pe()}finally{ne=Me}},n.unstable_scheduleCallback=function(ke,pe,Me){var at=n.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?at+Me:at):Me=at,ke){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Me+St,ke={id:se++,callback:pe,priorityLevel:ke,startTime:Me,expirationTime:St,sortIndex:-1},Me>at?(ke.sortIndex=Me,s(X,ke),o(j)===null&&ke===o(X)&&(Y?(q(xe),xe=-1):Y=!0,rt(ue,Me-at))):(ke.sortIndex=St,s(j,ke),ge||L||(ge=!0,re(ve))),ke},n.unstable_shouldYield=Qe,n.unstable_wrapCallback=function(ke){var pe=ne;return function(){var Me=ne;ne=pe;try{return ke.apply(this,arguments)}finally{ne=Me}}}})(Tf);If.exports=Tf;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=Ma.exports,ln=If.exports;function we(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zf=new Set,Yr={};function Vi(n,s){cr(n,s),cr(n+"Capture",s)}function cr(n,s){for(Yr[n]=s,n=0;n<s.length;n++)zf.add(s[n])}var Wn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),qu=Object.prototype.hasOwnProperty,Yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ah={},uh={};function $g(n){return qu.call(uh,n)?!0:qu.call(ah,n)?!1:Yg.test(n)?uh[n]=!0:(ah[n]=!0,!1)}function e_(n,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function t_(n,s,o,d){if(s===null||typeof s=="undefined"||e_(n,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Jt(n,s,o,d,x,g,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=x,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=F}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ut[n]=new Jt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];Ut[s]=new Jt(s,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ut[n]=new Jt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ut[n]=new Jt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ut[n]=new Jt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ut[n]=new Jt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ut[n]=new Jt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ut[n]=new Jt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ut[n]=new Jt(n,5,!1,n.toLowerCase(),null,!1,!1)});var qo=/[\-:]([a-z])/g;function jo(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(qo,jo);Ut[s]=new Jt(s,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(qo,jo);Ut[s]=new Jt(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(qo,jo);Ut[s]=new Jt(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ut[n]=new Jt(n,1,!1,n.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ut[n]=new Jt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Wo(n,s,o,d){var x=Ut.hasOwnProperty(s)?Ut[s]:null;(x!==null?x.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(t_(s,o,x,d)&&(o=null),d||x===null?$g(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):x.mustUseProperty?n[x.propertyName]=o===null?x.type===3?!1:"":o:(s=x.attributeName,d=x.attributeNamespace,o===null?n.removeAttribute(s):(x=x.type,o=x===3||x===4&&o===!0?"":""+o,d?n.setAttributeNS(d,s,o):n.setAttribute(s,o))))}var Kn=Ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),Zo=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),Af=Symbol.for("react.context"),Go=Symbol.for("react.forward_ref"),Wu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),Qo=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Of=Symbol.for("react.offscreen"),oh=Symbol.iterator;function Tr(n){return n===null||typeof n!="object"?null:(n=oh&&n[oh]||n["@@iterator"],typeof n=="function"?n:null)}var wt=Object.assign,mu;function Rr(n){if(mu===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);mu=s&&s[1]||""}return`
`+mu+n}var yu=!1;function wu(n,s){if(!n||yu)return"";yu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var d=X}Reflect.construct(n,[],s)}else{try{s.call()}catch(X){d=X}n.call(s.prototype)}else{try{throw Error()}catch(X){d=X}n()}}catch(X){if(X&&d&&typeof X.stack=="string"){for(var x=X.stack.split(`
`),g=d.stack.split(`
`),F=x.length-1,H=g.length-1;1<=F&&0<=H&&x[F]!==g[H];)H--;for(;1<=F&&0<=H;F--,H--)if(x[F]!==g[H]){if(F!==1||H!==1)do if(F--,H--,0>H||x[F]!==g[H]){var j=`
`+x[F].replace(" at new "," at ");return n.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",n.displayName)),j}while(1<=F&&0<=H);break}}}finally{yu=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Rr(n):""}function n_(n){switch(n.tag){case 5:return Rr(n.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return n=wu(n.type,!1),n;case 11:return n=wu(n.type.render,!1),n;case 1:return n=wu(n.type,!0),n;default:return""}}function Gu(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ki:return"Fragment";case Qi:return"Portal";case ju:return"Profiler";case Zo:return"StrictMode";case Wu:return"Suspense";case Zu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Af:return(n.displayName||"Context")+".Consumer";case Mf:return(n._context.displayName||"Context")+".Provider";case Go:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Qo:return s=n.displayName||null,s!==null?s:Gu(n.type)||"Memo";case $n:s=n._payload,n=n._init;try{return Gu(n(s))}catch(o){}}return null}function i_(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gu(s);case 8:return s===Zo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function vi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function r_(n){var s=Lf(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var x=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return x.call(this)},set:function(F){d=""+F,g.call(this,F)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(F){d=""+F},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Os(n){n._valueTracker||(n._valueTracker=r_(n))}function Nf(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return n&&(d=Lf(n)?n.checked?"true":"false":n.value),n=d,n!==o?(s.setValue(n),!0):!1}function ua(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(s){return n.body}}function Qu(n,s){var o=s.checked;return wt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:n._wrapperState.initialChecked})}function lh(n,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=vi(s.value!=null?s.value:o),n._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ff(n,s){s=s.checked,s!=null&&Wo(n,"checked",s,!1)}function Ku(n,s){Ff(n,s);var o=vi(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Xu(n,s.type,o):s.hasOwnProperty("defaultValue")&&Xu(n,s.type,vi(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function hh(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Xu(n,s,o){(s!=="number"||ua(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Br=Array.isArray;function ar(n,s,o,d){if(n=n.options,s){s={};for(var x=0;x<o.length;x++)s["$"+o[x]]=!0;for(o=0;o<n.length;o++)x=s.hasOwnProperty("$"+n[o].value),n[o].selected!==x&&(n[o].selected=x),x&&d&&(n[o].defaultSelected=!0)}else{for(o=""+vi(o),s=null,x=0;x<n.length;x++){if(n[x].value===o){n[x].selected=!0,d&&(n[x].defaultSelected=!0);return}s!==null||n[x].disabled||(s=n[x])}s!==null&&(s.selected=!0)}}function Ju(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(we(91));return wt({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fh(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(we(92));if(Br(o)){if(1<o.length)throw Error(we(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:vi(o)}}function Df(n,s){var o=vi(s.value),d=vi(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),d!=null&&(n.defaultValue=""+d)}function ch(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Rf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Rf(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ls,Bf=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,o,d,x){MSApp.execUnsafeLocalFunction(function(){return n(s,o,d,x)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ls.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function $r(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s_=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(n){s_.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),qr[s]=qr[n]})});function Vf(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||qr.hasOwnProperty(n)&&qr[n]?(""+s).trim():s+"px"}function Uf(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,x=Vf(o,s[o],d);o==="float"&&(o="cssFloat"),d?n.setProperty(o,x):n[o]=x}}var a_=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(n,s){if(s){if(a_[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(we(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(we(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(we(61))}if(s.style!=null&&typeof s.style!="object")throw Error(we(62))}}function eo(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function Ko(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var no=null,ur=null,or=null;function dh(n){if(n=ms(n)){if(typeof no!="function")throw Error(we(280));var s=n.stateNode;s&&(s=Da(s),no(n.stateNode,n.type,s))}}function Hf(n){ur?or?or.push(n):or=[n]:ur=n}function qf(){if(ur){var n=ur,s=or;if(or=ur=null,dh(n),s)for(n=0;n<s.length;n++)dh(s[n])}}function jf(n,s){return n(s)}function Wf(){}var Su=!1;function Zf(n,s,o){if(Su)return n(s,o);Su=!0;try{return jf(n,s,o)}finally{Su=!1,(ur!==null||or!==null)&&(Wf(),qf())}}function es(n,s){var o=n.stateNode;if(o===null)return null;var d=Da(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(we(231,s,typeof o));return o}var io=!1;if(Wn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){io=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch(n){io=!1}function u_(n,s,o,d,x,g,F,H,j){var X=Array.prototype.slice.call(arguments,3);try{s.apply(o,X)}catch(se){this.onError(se)}}var jr=!1,oa=null,la=!1,ro=null,o_={onError:function(n){jr=!0,oa=n}};function l_(n,s,o,d,x,g,F,H,j){jr=!1,oa=null,u_.apply(o_,arguments)}function h_(n,s,o,d,x,g,F,H,j){if(l_.apply(this,arguments),jr){if(jr){var X=oa;jr=!1,oa=null}else throw Error(we(198));la||(la=!0,ro=X)}}function Ui(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Gf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function gh(n){if(Ui(n)!==n)throw Error(we(188))}function f_(n){var s=n.alternate;if(!s){if(s=Ui(n),s===null)throw Error(we(188));return s!==n?null:n}for(var o=n,d=s;;){var x=o.return;if(x===null)break;var g=x.alternate;if(g===null){if(d=x.return,d!==null){o=d;continue}break}if(x.child===g.child){for(g=x.child;g;){if(g===o)return gh(x),n;if(g===d)return gh(x),s;g=g.sibling}throw Error(we(188))}if(o.return!==d.return)o=x,d=g;else{for(var F=!1,H=x.child;H;){if(H===o){F=!0,o=x,d=g;break}if(H===d){F=!0,d=x,o=g;break}H=H.sibling}if(!F){for(H=g.child;H;){if(H===o){F=!0,o=g,d=x;break}if(H===d){F=!0,d=g,o=x;break}H=H.sibling}if(!F)throw Error(we(189))}}if(o.alternate!==d)throw Error(we(190))}if(o.tag!==3)throw Error(we(188));return o.stateNode.current===o?n:s}function Qf(n){return n=f_(n),n!==null?Kf(n):null}function Kf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Kf(n);if(s!==null)return s;n=n.sibling}return null}var Xf=ln.unstable_scheduleCallback,_h=ln.unstable_cancelCallback,c_=ln.unstable_shouldYield,d_=ln.unstable_requestPaint,Pt=ln.unstable_now,g_=ln.unstable_getCurrentPriorityLevel,Xo=ln.unstable_ImmediatePriority,Jf=ln.unstable_UserBlockingPriority,ha=ln.unstable_NormalPriority,__=ln.unstable_LowPriority,Yf=ln.unstable_IdlePriority,Oa=null,Nn=null;function v_(n){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Oa,n,void 0,(n.current.flags&128)===128)}catch(s){}}var In=Math.clz32?Math.clz32:y_,p_=Math.log,m_=Math.LN2;function y_(n){return n>>>=0,n===0?32:31-(p_(n)/m_|0)|0}var Ns=64,Fs=4194304;function Vr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fa(n,s){var o=n.pendingLanes;if(o===0)return 0;var d=0,x=n.suspendedLanes,g=n.pingedLanes,F=o&268435455;if(F!==0){var H=F&~x;H!==0?d=Vr(H):(g&=F,g!==0&&(d=Vr(g)))}else F=o&~x,F!==0?d=Vr(F):g!==0&&(d=Vr(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&x)===0&&(x=d&-d,g=s&-s,x>=g||x===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)o=31-In(s),x=1<<o,d|=n[o],s&=~x;return d}function w_(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(n,s){for(var o=n.suspendedLanes,d=n.pingedLanes,x=n.expirationTimes,g=n.pendingLanes;0<g;){var F=31-In(g),H=1<<F,j=x[F];j===-1?((H&o)===0||(H&d)!==0)&&(x[F]=w_(H,s)):j<=s&&(n.expiredLanes|=H),g&=~H}}function so(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function $f(){var n=Ns;return Ns<<=1,(Ns&4194240)===0&&(Ns=64),n}function Cu(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function vs(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-In(s),n[s]=o}function C_(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<o;){var x=31-In(o),g=1<<x;s[x]=0,d[x]=-1,n[x]=-1,o&=~g}}function Jo(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var d=31-In(o),x=1<<d;x&s|n[d]&s&&(n[d]|=s),o&=~x}}var it=0;function ec(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var tc,Yo,nc,ic,rc,ao=!1,Ds=[],si=null,ai=null,ui=null,ts=new Map,ns=new Map,ti=[],x_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(n,s){switch(n){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(s.pointerId)}}function zr(n,s,o,d,x,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[x]},s!==null&&(s=ms(s),s!==null&&Yo(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),n)}function P_(n,s,o,d,x){switch(s){case"focusin":return si=zr(si,n,s,o,d,x),!0;case"dragenter":return ai=zr(ai,n,s,o,d,x),!0;case"mouseover":return ui=zr(ui,n,s,o,d,x),!0;case"pointerover":var g=x.pointerId;return ts.set(g,zr(ts.get(g)||null,n,s,o,d,x)),!0;case"gotpointercapture":return g=x.pointerId,ns.set(g,zr(ns.get(g)||null,n,s,o,d,x)),!0}return!1}function sc(n){var s=zi(n.target);if(s!==null){var o=Ui(s);if(o!==null){if(s=o.tag,s===13){if(s=Gf(o),s!==null){n.blockedOn=s,rc(n.priority,function(){nc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xs(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=uo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);to=d,o.target.dispatchEvent(d),to=null}else return s=ms(o),s!==null&&Yo(s),n.blockedOn=o,!1;s.shift()}return!0}function ph(n,s,o){Xs(n)&&o.delete(s)}function b_(){ao=!1,si!==null&&Xs(si)&&(si=null),ai!==null&&Xs(ai)&&(ai=null),ui!==null&&Xs(ui)&&(ui=null),ts.forEach(ph),ns.forEach(ph)}function Mr(n,s){n.blockedOn===s&&(n.blockedOn=null,ao||(ao=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,b_)))}function is(n){function s(x){return Mr(x,n)}if(0<Ds.length){Mr(Ds[0],n);for(var o=1;o<Ds.length;o++){var d=Ds[o];d.blockedOn===n&&(d.blockedOn=null)}}for(si!==null&&Mr(si,n),ai!==null&&Mr(ai,n),ui!==null&&Mr(ui,n),ts.forEach(s),ns.forEach(s),o=0;o<ti.length;o++)d=ti[o],d.blockedOn===n&&(d.blockedOn=null);for(;0<ti.length&&(o=ti[0],o.blockedOn===null);)sc(o),o.blockedOn===null&&ti.shift()}var lr=Kn.ReactCurrentBatchConfig,ca=!0;function k_(n,s,o,d){var x=it,g=lr.transition;lr.transition=null;try{it=1,$o(n,s,o,d)}finally{it=x,lr.transition=g}}function I_(n,s,o,d){var x=it,g=lr.transition;lr.transition=null;try{it=4,$o(n,s,o,d)}finally{it=x,lr.transition=g}}function $o(n,s,o,d){if(ca){var x=uo(n,s,o,d);if(x===null)Au(n,s,d,da,o),vh(n,d);else if(P_(x,n,s,o,d))d.stopPropagation();else if(vh(n,d),s&4&&-1<x_.indexOf(n)){for(;x!==null;){var g=ms(x);if(g!==null&&tc(g),g=uo(n,s,o,d),g===null&&Au(n,s,d,da,o),g===x)break;x=g}x!==null&&d.stopPropagation()}else Au(n,s,d,null,o)}}var da=null;function uo(n,s,o,d){if(da=null,n=Ko(d),n=zi(n),n!==null)if(s=Ui(n),s===null)n=null;else if(o=s.tag,o===13){if(n=Gf(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return da=n,null}function ac(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case Xo:return 1;case Jf:return 4;case ha:case __:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var ii=null,el=null,Js=null;function uc(){if(Js)return Js;var n,s=el,o=s.length,d,x="value"in ii?ii.value:ii.textContent,g=x.length;for(n=0;n<o&&s[n]===x[n];n++);var F=o-n;for(d=1;d<=F&&s[o-d]===x[g-d];d++);return Js=x.slice(n,1<d?1-d:void 0)}function Ys(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rs(){return!0}function mh(){return!1}function fn(n){function s(o,d,x,g,F){this._reactName=o,this._targetInst=x,this.type=d,this.nativeEvent=g,this.target=F,this.currentTarget=null;for(var H in n)n.hasOwnProperty(H)&&(o=n[H],this[H]=o?o(g):g[H]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Rs:mh,this.isPropagationStopped=mh,this}return wt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),s}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=fn(wr),ps=wt({},wr,{view:0,detail:0}),T_=fn(ps),xu,Pu,Ar,La=wt({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ar&&(Ar&&n.type==="mousemove"?(xu=n.screenX-Ar.screenX,Pu=n.screenY-Ar.screenY):Pu=xu=0,Ar=n),xu)},movementY:function(n){return"movementY"in n?n.movementY:Pu}}),yh=fn(La),E_=wt({},La,{dataTransfer:0}),z_=fn(E_),M_=wt({},ps,{relatedTarget:0}),bu=fn(M_),A_=wt({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),O_=fn(A_),L_=wt({},wr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),N_=fn(L_),F_=wt({},wr,{data:0}),wh=fn(F_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V_(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=B_[n])?!!s[n]:!1}function nl(){return V_}var U_=wt({},ps,{key:function(n){if(n.key){var s=D_[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?R_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),H_=fn(U_),q_=wt({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=fn(q_),j_=wt({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),W_=fn(j_),Z_=wt({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),G_=fn(Z_),Q_=wt({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K_=fn(Q_),X_=[9,13,27,32],il=Wn&&"CompositionEvent"in window,Wr=null;Wn&&"documentMode"in document&&(Wr=document.documentMode);var J_=Wn&&"TextEvent"in window&&!Wr,oc=Wn&&(!il||Wr&&8<Wr&&11>=Wr),Ch=String.fromCharCode(32),xh=!1;function lc(n,s){switch(n){case"keyup":return X_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xi=!1;function Y_(n,s){switch(n){case"compositionend":return hc(s);case"keypress":return s.which!==32?null:(xh=!0,Ch);case"textInput":return n=s.data,n===Ch&&xh?null:n;default:return null}}function $_(n,s){if(Xi)return n==="compositionend"||!il&&lc(n,s)?(n=uc(),Js=el=ii=null,Xi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return oc&&s.locale!=="ko"?null:s.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!e0[n.type]:s==="textarea"}function fc(n,s,o,d){Hf(d),s=ga(s,"onChange"),0<s.length&&(o=new tl("onChange","change",null,o,d),n.push({event:o,listeners:s}))}var Zr=null,rs=null;function t0(n){Cc(n,0)}function Na(n){var s=$i(n);if(Nf(s))return n}function n0(n,s){if(n==="change")return s}var cc=!1;if(Wn){var ku;if(Wn){var Iu="oninput"in document;if(!Iu){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Iu=typeof bh.oninput=="function"}ku=Iu}else ku=!1;cc=ku&&(!document.documentMode||9<document.documentMode)}function kh(){Zr&&(Zr.detachEvent("onpropertychange",dc),rs=Zr=null)}function dc(n){if(n.propertyName==="value"&&Na(rs)){var s=[];fc(s,rs,n,Ko(n)),Zf(t0,s)}}function i0(n,s,o){n==="focusin"?(kh(),Zr=s,rs=o,Zr.attachEvent("onpropertychange",dc)):n==="focusout"&&kh()}function r0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Na(rs)}function s0(n,s){if(n==="click")return Na(s)}function a0(n,s){if(n==="input"||n==="change")return Na(s)}function u0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var En=typeof Object.is=="function"?Object.is:u0;function ss(n,s){if(En(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var x=o[d];if(!qu.call(s,x)||!En(n[x],s[x]))return!1}return!0}function Ih(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Th(n,s){var o=Ih(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=s&&d>=s)return{node:o,offset:s-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ih(o)}}function gc(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?gc(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function _c(){for(var n=window,s=ua();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch(d){o=!1}if(o)n=s.contentWindow;else break;s=ua(n.document)}return s}function rl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function o0(n){var s=_c(),o=n.focusedElem,d=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&gc(o.ownerDocument.documentElement,o)){if(d!==null&&rl(o)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var x=o.textContent.length,g=Math.min(d.start,x);d=d.end===void 0?g:Math.min(d.end,x),!n.extend&&g>d&&(x=d,d=g,g=x),x=Th(o,g);var F=Th(o,d);x&&F&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==F.node||n.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var l0=Wn&&"documentMode"in document&&11>=document.documentMode,Ji=null,oo=null,Gr=null,lo=!1;function Eh(n,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lo||Ji==null||Ji!==ua(d)||(d=Ji,"selectionStart"in d&&rl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Gr&&ss(Gr,d)||(Gr=d,d=ga(oo,"onSelect"),0<d.length&&(s=new tl("onSelect","select",null,s,o),n.push({event:s,listeners:d}),s.target=Ji)))}function Bs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Yi={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},Tu={},vc={};Wn&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Fa(n){if(Tu[n])return Tu[n];if(!Yi[n])return n;var s=Yi[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in vc)return Tu[n]=s[o];return n}var pc=Fa("animationend"),mc=Fa("animationiteration"),yc=Fa("animationstart"),wc=Fa("transitionend"),Sc=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(n,s){Sc.set(n,s),Vi(s,[n])}for(var Eu=0;Eu<zh.length;Eu++){var zu=zh[Eu],h0=zu.toLowerCase(),f0=zu[0].toUpperCase()+zu.slice(1);mi(h0,"on"+f0)}mi(pc,"onAnimationEnd");mi(mc,"onAnimationIteration");mi(yc,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(wc,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Mh(n,s,o){var d=n.type||"unknown-event";n.currentTarget=o,h_(d,s,void 0,n),n.currentTarget=null}function Cc(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],x=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var F=d.length-1;0<=F;F--){var H=d[F],j=H.instance,X=H.currentTarget;if(H=H.listener,j!==g&&x.isPropagationStopped())break e;Mh(x,H,X),g=j}else for(F=0;F<d.length;F++){if(H=d[F],j=H.instance,X=H.currentTarget,H=H.listener,j!==g&&x.isPropagationStopped())break e;Mh(x,H,X),g=j}}}if(la)throw n=ro,la=!1,ro=null,n}function ft(n,s){var o=s[_o];o===void 0&&(o=s[_o]=new Set);var d=n+"__bubble";o.has(d)||(xc(s,n,2,!1),o.add(d))}function Mu(n,s,o){var d=0;s&&(d|=4),xc(o,n,d,s)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function as(n){if(!n[Vs]){n[Vs]=!0,zf.forEach(function(o){o!=="selectionchange"&&(c0.has(o)||Mu(o,!1,n),Mu(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Vs]||(s[Vs]=!0,Mu("selectionchange",!1,s))}}function xc(n,s,o,d){switch(ac(s)){case 1:var x=k_;break;case 4:x=I_;break;default:x=$o}o=x.bind(null,s,o,n),x=void 0,!io||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),d?x!==void 0?n.addEventListener(s,o,{capture:!0,passive:x}):n.addEventListener(s,o,!0):x!==void 0?n.addEventListener(s,o,{passive:x}):n.addEventListener(s,o,!1)}function Au(n,s,o,d,x){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var F=d.tag;if(F===3||F===4){var H=d.stateNode.containerInfo;if(H===x||H.nodeType===8&&H.parentNode===x)break;if(F===4)for(F=d.return;F!==null;){var j=F.tag;if((j===3||j===4)&&(j=F.stateNode.containerInfo,j===x||j.nodeType===8&&j.parentNode===x))return;F=F.return}for(;H!==null;){if(F=zi(H),F===null)return;if(j=F.tag,j===5||j===6){d=g=F;continue e}H=H.parentNode}}d=d.return}Zf(function(){var X=g,se=Ko(o),J=[];e:{var ne=Sc.get(n);if(ne!==void 0){var L=tl,ge=n;switch(n){case"keypress":if(Ys(o)===0)break e;case"keydown":case"keyup":L=H_;break;case"focusin":ge="focus",L=bu;break;case"focusout":ge="blur",L=bu;break;case"beforeblur":case"afterblur":L=bu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=z_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=W_;break;case pc:case mc:case yc:L=O_;break;case wc:L=G_;break;case"scroll":L=T_;break;case"wheel":L=K_;break;case"copy":case"cut":case"paste":L=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Sh}var Y=(s&4)!==0,Ae=!Y&&n==="scroll",q=Y?ne!==null?ne+"Capture":null:ne;Y=[];for(var Q=X,G;Q!==null;){G=Q;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=es(Q,q),ue!=null&&Y.push(us(Q,ue,G)))),Ae)break;Q=Q.return}0<Y.length&&(ne=new L(ne,ge,null,o,se),J.push({event:ne,listeners:Y}))}}if((s&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",ne&&o!==to&&(ge=o.relatedTarget||o.fromElement)&&(zi(ge)||ge[Zn]))break e;if((L||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,L?(ge=o.relatedTarget||o.toElement,L=X,ge=ge?zi(ge):null,ge!==null&&(Ae=Ui(ge),ge!==Ae||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(L=null,ge=X),L!==ge)){if(Y=yh,ue="onMouseLeave",q="onMouseEnter",Q="mouse",(n==="pointerout"||n==="pointerover")&&(Y=Sh,ue="onPointerLeave",q="onPointerEnter",Q="pointer"),Ae=L==null?ne:$i(L),G=ge==null?ne:$i(ge),ne=new Y(ue,Q+"leave",L,o,se),ne.target=Ae,ne.relatedTarget=G,ue=null,zi(se)===X&&(Y=new Y(q,Q+"enter",ge,o,se),Y.target=G,Y.relatedTarget=Ae,ue=Y),Ae=ue,L&&ge)t:{for(Y=L,q=ge,Q=0,G=Y;G;G=Gi(G))Q++;for(G=0,ue=q;ue;ue=Gi(ue))G++;for(;0<Q-G;)Y=Gi(Y),Q--;for(;0<G-Q;)q=Gi(q),G--;for(;Q--;){if(Y===q||q!==null&&Y===q.alternate)break t;Y=Gi(Y),q=Gi(q)}Y=null}else Y=null;L!==null&&Ah(J,ne,L,Y,!1),ge!==null&&Ae!==null&&Ah(J,Ae,ge,Y,!0)}}e:{if(ne=X?$i(X):window,L=ne.nodeName&&ne.nodeName.toLowerCase(),L==="select"||L==="input"&&ne.type==="file")var ve=n0;else if(Ph(ne))if(cc)ve=a0;else{ve=r0;var ae=i0}else(L=ne.nodeName)&&L.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=s0);if(ve&&(ve=ve(n,X))){fc(J,ve,o,se);break e}ae&&ae(n,ne,X),n==="focusout"&&(ae=ne._wrapperState)&&ae.controlled&&ne.type==="number"&&Xu(ne,"number",ne.value)}switch(ae=X?$i(X):window,n){case"focusin":(Ph(ae)||ae.contentEditable==="true")&&(Ji=ae,oo=X,Gr=null);break;case"focusout":Gr=oo=Ji=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Eh(J,o,se);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Eh(J,o,se)}var ye;if(il)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Xi?lc(n,o)&&(xe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(oc&&o.locale!=="ko"&&(Xi||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Xi&&(ye=uc()):(ii=se,el="value"in ii?ii.value:ii.textContent,Xi=!0)),ae=ga(X,xe),0<ae.length&&(xe=new wh(xe,n,null,o,se),J.push({event:xe,listeners:ae}),ye?xe.data=ye:(ye=hc(o),ye!==null&&(xe.data=ye)))),(ye=J_?Y_(n,o):$_(n,o))&&(X=ga(X,"onBeforeInput"),0<X.length&&(se=new wh("onBeforeInput","beforeinput",null,o,se),J.push({event:se,listeners:X}),se.data=ye))}Cc(J,s)})}function us(n,s,o){return{instance:n,listener:s,currentTarget:o}}function ga(n,s){for(var o=s+"Capture",d=[];n!==null;){var x=n,g=x.stateNode;x.tag===5&&g!==null&&(x=g,g=es(n,o),g!=null&&d.unshift(us(n,g,x)),g=es(n,s),g!=null&&d.push(us(n,g,x))),n=n.return}return d}function Gi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ah(n,s,o,d,x){for(var g=s._reactName,F=[];o!==null&&o!==d;){var H=o,j=H.alternate,X=H.stateNode;if(j!==null&&j===d)break;H.tag===5&&X!==null&&(H=X,x?(j=es(o,g),j!=null&&F.unshift(us(o,j,H))):x||(j=es(o,g),j!=null&&F.push(us(o,j,H)))),o=o.return}F.length!==0&&n.push({event:s,listeners:F})}var d0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Oh(n){return(typeof n=="string"?n:""+n).replace(d0,`
`).replace(g0,"")}function Us(n,s,o){if(s=Oh(s),Oh(n)!==s&&o)throw Error(we(425))}function _a(){}var ho=null,fo=null;function co(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var go=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh!="undefined"?function(n){return Lh.resolve(null).then(n).catch(p0)}:go;function p0(n){setTimeout(function(){throw n})}function Ou(n,s){var o=s,d=0;do{var x=o.nextSibling;if(n.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(d===0){n.removeChild(x),is(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=x}while(o);is(s)}function oi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Nh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Sr,os="__reactProps$"+Sr,Zn="__reactContainer$"+Sr,_o="__reactEvents$"+Sr,m0="__reactListeners$"+Sr,y0="__reactHandles$"+Sr;function zi(n){var s=n[Ln];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Zn]||o[Ln]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Nh(n);n!==null;){if(o=n[Ln])return o;n=Nh(n)}return s}n=o,o=n.parentNode}return null}function ms(n){return n=n[Ln]||n[Zn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $i(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(we(33))}function Da(n){return n[os]||null}var vo=[],er=-1;function yi(n){return{current:n}}function ct(n){0>er||(n.current=vo[er],vo[er]=null,er--)}function ot(n,s){er++,vo[er]=n.current,n.current=s}var pi={},Gt=yi(pi),tn=yi(!1),Ni=pi;function dr(n,s){var o=n.type.contextTypes;if(!o)return pi;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var x={},g;for(g in o)x[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=x),x}function nn(n){return n=n.childContextTypes,n!=null}function va(){ct(tn),ct(Gt)}function Fh(n,s,o){if(Gt.current!==pi)throw Error(we(168));ot(Gt,s),ot(tn,o)}function Pc(n,s,o){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var x in d)if(!(x in s))throw Error(we(108,i_(n)||"Unknown",x));return wt({},o,d)}function pa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||pi,Ni=Gt.current,ot(Gt,n),ot(tn,tn.current),!0}function Dh(n,s,o){var d=n.stateNode;if(!d)throw Error(we(169));o?(n=Pc(n,s,Ni),d.__reactInternalMemoizedMergedChildContext=n,ct(tn),ct(Gt),ot(Gt,n)):ct(tn),ot(tn,o)}var Un=null,Ra=!1,Lu=!1;function bc(n){Un===null?Un=[n]:Un.push(n)}function w0(n){Ra=!0,bc(n)}function wi(){if(!Lu&&Un!==null){Lu=!0;var n=0,s=it;try{var o=Un;for(it=1;n<o.length;n++){var d=o[n];do d=d(!0);while(d!==null)}Un=null,Ra=!1}catch(x){throw Un!==null&&(Un=Un.slice(n+1)),Xf(Xo,wi),x}finally{it=s,Lu=!1}}return null}var tr=[],nr=0,ma=null,ya=0,dn=[],gn=0,Fi=null,Hn=1,qn="";function Ti(n,s){tr[nr++]=ya,tr[nr++]=ma,ma=n,ya=s}function kc(n,s,o){dn[gn++]=Hn,dn[gn++]=qn,dn[gn++]=Fi,Fi=n;var d=Hn;n=qn;var x=32-In(d)-1;d&=~(1<<x),o+=1;var g=32-In(s)+x;if(30<g){var F=x-x%5;g=(d&(1<<F)-1).toString(32),d>>=F,x-=F,Hn=1<<32-In(s)+x|o<<x|d,qn=g+n}else Hn=1<<g|o<<x|d,qn=n}function sl(n){n.return!==null&&(Ti(n,1),kc(n,1,0))}function al(n){for(;n===ma;)ma=tr[--nr],tr[nr]=null,ya=tr[--nr],tr[nr]=null;for(;n===Fi;)Fi=dn[--gn],dn[gn]=null,qn=dn[--gn],dn[gn]=null,Hn=dn[--gn],dn[gn]=null}var on=null,un=null,gt=!1,kn=null;function Ic(n,s){var o=_n(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function Rh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,on=n,un=oi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,on=n,un=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Fi!==null?{id:Hn,overflow:qn}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=_n(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,on=n,un=null,!0):!1;default:return!1}}function po(n){return(n.mode&1)!==0&&(n.flags&128)===0}function mo(n){if(gt){var s=un;if(s){var o=s;if(!Rh(n,s)){if(po(n))throw Error(we(418));s=oi(o.nextSibling);var d=on;s&&Rh(n,s)?Ic(d,o):(n.flags=n.flags&-4097|2,gt=!1,on=n)}}else{if(po(n))throw Error(we(418));n.flags=n.flags&-4097|2,gt=!1,on=n}}}function Bh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;on=n}function Hs(n){if(n!==on)return!1;if(!gt)return Bh(n),gt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!co(n.type,n.memoizedProps)),s&&(s=un)){if(po(n))throw Tc(),Error(we(418));for(;s;)Ic(n,s),s=oi(s.nextSibling)}if(Bh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(we(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){un=oi(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}un=null}}else un=on?oi(n.stateNode.nextSibling):null;return!0}function Tc(){for(var n=un;n;)n=oi(n.nextSibling)}function gr(){un=on=null,gt=!1}function ul(n){kn===null?kn=[n]:kn.push(n)}var S0=Kn.ReactCurrentBatchConfig;function Pn(n,s){if(n&&n.defaultProps){s=wt({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}var wa=yi(null),Sa=null,ir=null,ol=null;function ll(){ol=ir=Sa=null}function hl(n){var s=wa.current;ct(wa),n._currentValue=s}function yo(n,s,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===o)break;n=n.return}}function hr(n,s){Sa=n,ol=ir=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(en=!0),n.firstContext=null)}function pn(n){var s=n._currentValue;if(ol!==n)if(n={context:n,memoizedValue:s,next:null},ir===null){if(Sa===null)throw Error(we(308));ir=n,Sa.dependencies={lanes:0,firstContext:n}}else ir=ir.next=n;return s}var Mi=null;function fl(n){Mi===null?Mi=[n]:Mi.push(n)}function Ec(n,s,o,d){var x=s.interleaved;return x===null?(o.next=o,fl(s)):(o.next=x.next,x.next=o),s.interleaved=o,Gn(n,d)}function Gn(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var ei=!1;function cl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function jn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function li(n,s,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,($e&2)!==0){var x=d.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),d.pending=s,Gn(n,o)}return x=d.interleaved,x===null?(s.next=s,fl(d)):(s.next=x.next,x.next=s),d.interleaved=s,Gn(n,o)}function $s(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,Jo(n,o)}}function Vh(n,s){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var x=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var F={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?x=g=F:g=g.next=F,o=o.next}while(o!==null);g===null?x=g=s:g=g.next=s}else x=g=s;o={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function Ca(n,s,o,d){var x=n.updateQueue;ei=!1;var g=x.firstBaseUpdate,F=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var j=H,X=j.next;j.next=null,F===null?g=X:F.next=X,F=j;var se=n.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==F&&(H===null?se.firstBaseUpdate=X:H.next=X,se.lastBaseUpdate=j))}if(g!==null){var J=x.baseState;F=0,se=X=j=null,H=g;do{var ne=H.lane,L=H.eventTime;if((d&ne)===ne){se!==null&&(se=se.next={eventTime:L,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ge=n,Y=H;switch(ne=s,L=o,Y.tag){case 1:if(ge=Y.payload,typeof ge=="function"){J=ge.call(L,J,ne);break e}J=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Y.payload,ne=typeof ge=="function"?ge.call(L,J,ne):ge,ne==null)break e;J=wt({},J,ne);break e;case 2:ei=!0}}H.callback!==null&&H.lane!==0&&(n.flags|=64,ne=x.effects,ne===null?x.effects=[H]:ne.push(H))}else L={eventTime:L,lane:ne,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(X=se=L,j=J):se=se.next=L,F|=ne;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;ne=H,H=ne.next,ne.next=null,x.lastBaseUpdate=ne,x.shared.pending=null}}while(1);if(se===null&&(j=J),x.baseState=j,x.firstBaseUpdate=X,x.lastBaseUpdate=se,s=x.shared.interleaved,s!==null){x=s;do F|=x.lane,x=x.next;while(x!==s)}else g===null&&(x.shared.lanes=0);Ri|=F,n.lanes=F,n.memoizedState=J}}function Uh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],x=d.callback;if(x!==null){if(d.callback=null,d=o,typeof x!="function")throw Error(we(191,x));x.call(d)}}}var Mc=new Ef.Component().refs;function wo(n,s,o,d){s=n.memoizedState,o=o(d,s),o=o==null?s:wt({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ba={isMounted:function(n){return(n=n._reactInternals)?Ui(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var d=Kt(),x=fi(n),g=jn(d,x);g.payload=s,o!=null&&(g.callback=o),s=li(n,g,x),s!==null&&(Tn(s,n,x,d),$s(s,n,x))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var d=Kt(),x=fi(n),g=jn(d,x);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=li(n,g,x),s!==null&&(Tn(s,n,x,d),$s(s,n,x))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Kt(),d=fi(n),x=jn(o,d);x.tag=2,s!=null&&(x.callback=s),s=li(n,x,d),s!==null&&(Tn(s,n,d,o),$s(s,n,d))}};function Hh(n,s,o,d,x,g,F){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,F):s.prototype&&s.prototype.isPureReactComponent?!ss(o,d)||!ss(x,g):!0}function Ac(n,s,o){var d=!1,x=pi,g=s.contextType;return typeof g=="object"&&g!==null?g=pn(g):(x=nn(s)?Ni:Gt.current,d=s.contextTypes,g=(d=d!=null)?dr(n,x):pi),s=new s(o,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ba,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=g),s}function qh(n,s,o,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==n&&Ba.enqueueReplaceState(s,s.state,null)}function So(n,s,o,d){var x=n.stateNode;x.props=o,x.state=n.memoizedState,x.refs=Mc,cl(n);var g=s.contextType;typeof g=="object"&&g!==null?x.context=pn(g):(g=nn(s)?Ni:Gt.current,x.context=dr(n,g)),x.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wo(n,s,g,o),x.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&Ba.enqueueReplaceState(x,x.state,null),Ca(n,o,x,d),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function Or(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(we(309));var d=o.stateNode}if(!d)throw Error(we(147,n));var x=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(F){var H=x.refs;H===Mc&&(H=x.refs={}),F===null?delete H[g]:H[g]=F},s._stringRef=g,s)}if(typeof n!="string")throw Error(we(284));if(!o._owner)throw Error(we(290,n))}return n}function qs(n,s){throw n=Object.prototype.toString.call(s),Error(we(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function jh(n){var s=n._init;return s(n._payload)}function Oc(n){function s(q,Q){if(n){var G=q.deletions;G===null?(q.deletions=[Q],q.flags|=16):G.push(Q)}}function o(q,Q){if(!n)return null;for(;Q!==null;)s(q,Q),Q=Q.sibling;return null}function d(q,Q){for(q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function x(q,Q){return q=ci(q,Q),q.index=0,q.sibling=null,q}function g(q,Q,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<Q?(q.flags|=2,Q):G):(q.flags|=2,Q)):(q.flags|=1048576,Q)}function F(q){return n&&q.alternate===null&&(q.flags|=2),q}function H(q,Q,G,ue){return Q===null||Q.tag!==6?(Q=Uu(G,q.mode,ue),Q.return=q,Q):(Q=x(Q,G),Q.return=q,Q)}function j(q,Q,G,ue){var ve=G.type;return ve===Ki?se(q,Q,G.props.children,ue,G.key):Q!==null&&(Q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$n&&jh(ve)===Q.type)?(ue=x(Q,G.props),ue.ref=Or(q,Q,G),ue.return=q,ue):(ue=sa(G.type,G.key,G.props,null,q.mode,ue),ue.ref=Or(q,Q,G),ue.return=q,ue)}function X(q,Q,G,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==G.containerInfo||Q.stateNode.implementation!==G.implementation?(Q=Hu(G,q.mode,ue),Q.return=q,Q):(Q=x(Q,G.children||[]),Q.return=q,Q)}function se(q,Q,G,ue,ve){return Q===null||Q.tag!==7?(Q=Li(G,q.mode,ue,ve),Q.return=q,Q):(Q=x(Q,G),Q.return=q,Q)}function J(q,Q,G){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Uu(""+Q,q.mode,G),Q.return=q,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case As:return G=sa(Q.type,Q.key,Q.props,null,q.mode,G),G.ref=Or(q,null,Q),G.return=q,G;case Qi:return Q=Hu(Q,q.mode,G),Q.return=q,Q;case $n:var ue=Q._init;return J(q,ue(Q._payload),G)}if(Br(Q)||Tr(Q))return Q=Li(Q,q.mode,G,null),Q.return=q,Q;qs(q,Q)}return null}function ne(q,Q,G,ue){var ve=Q!==null?Q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ve!==null?null:H(q,Q,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case As:return G.key===ve?j(q,Q,G,ue):null;case Qi:return G.key===ve?X(q,Q,G,ue):null;case $n:return ve=G._init,ne(q,Q,ve(G._payload),ue)}if(Br(G)||Tr(G))return ve!==null?null:se(q,Q,G,ue,null);qs(q,G)}return null}function L(q,Q,G,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,H(Q,q,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case As:return q=q.get(ue.key===null?G:ue.key)||null,j(Q,q,ue,ve);case Qi:return q=q.get(ue.key===null?G:ue.key)||null,X(Q,q,ue,ve);case $n:var ae=ue._init;return L(q,Q,G,ae(ue._payload),ve)}if(Br(ue)||Tr(ue))return q=q.get(G)||null,se(Q,q,ue,ve,null);qs(Q,ue)}return null}function ge(q,Q,G,ue){for(var ve=null,ae=null,ye=Q,xe=Q=0,Te=null;ye!==null&&xe<G.length;xe++){ye.index>xe?(Te=ye,ye=null):Te=ye.sibling;var ze=ne(q,ye,G[xe],ue);if(ze===null){ye===null&&(ye=Te);break}n&&ye&&ze.alternate===null&&s(q,ye),Q=g(ze,Q,xe),ae===null?ve=ze:ae.sibling=ze,ae=ze,ye=Te}if(xe===G.length)return o(q,ye),gt&&Ti(q,xe),ve;if(ye===null){for(;xe<G.length;xe++)ye=J(q,G[xe],ue),ye!==null&&(Q=g(ye,Q,xe),ae===null?ve=ye:ae.sibling=ye,ae=ye);return gt&&Ti(q,xe),ve}for(ye=d(q,ye);xe<G.length;xe++)Te=L(ye,q,xe,G[xe],ue),Te!==null&&(n&&Te.alternate!==null&&ye.delete(Te.key===null?xe:Te.key),Q=g(Te,Q,xe),ae===null?ve=Te:ae.sibling=Te,ae=Te);return n&&ye.forEach(function(Qe){return s(q,Qe)}),gt&&Ti(q,xe),ve}function Y(q,Q,G,ue){var ve=Tr(G);if(typeof ve!="function")throw Error(we(150));if(G=ve.call(G),G==null)throw Error(we(151));for(var ae=ve=null,ye=Q,xe=Q=0,Te=null,ze=G.next();ye!==null&&!ze.done;xe++,ze=G.next()){ye.index>xe?(Te=ye,ye=null):Te=ye.sibling;var Qe=ne(q,ye,ze.value,ue);if(Qe===null){ye===null&&(ye=Te);break}n&&ye&&Qe.alternate===null&&s(q,ye),Q=g(Qe,Q,xe),ae===null?ve=Qe:ae.sibling=Qe,ae=Qe,ye=Te}if(ze.done)return o(q,ye),gt&&Ti(q,xe),ve;if(ye===null){for(;!ze.done;xe++,ze=G.next())ze=J(q,ze.value,ue),ze!==null&&(Q=g(ze,Q,xe),ae===null?ve=ze:ae.sibling=ze,ae=ze);return gt&&Ti(q,xe),ve}for(ye=d(q,ye);!ze.done;xe++,ze=G.next())ze=L(ye,q,xe,ze.value,ue),ze!==null&&(n&&ze.alternate!==null&&ye.delete(ze.key===null?xe:ze.key),Q=g(ze,Q,xe),ae===null?ve=ze:ae.sibling=ze,ae=ze);return n&&ye.forEach(function(je){return s(q,je)}),gt&&Ti(q,xe),ve}function Ae(q,Q,G,ue){if(typeof G=="object"&&G!==null&&G.type===Ki&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case As:e:{for(var ve=G.key,ae=Q;ae!==null;){if(ae.key===ve){if(ve=G.type,ve===Ki){if(ae.tag===7){o(q,ae.sibling),Q=x(ae,G.props.children),Q.return=q,q=Q;break e}}else if(ae.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$n&&jh(ve)===ae.type){o(q,ae.sibling),Q=x(ae,G.props),Q.ref=Or(q,ae,G),Q.return=q,q=Q;break e}o(q,ae);break}else s(q,ae);ae=ae.sibling}G.type===Ki?(Q=Li(G.props.children,q.mode,ue,G.key),Q.return=q,q=Q):(ue=sa(G.type,G.key,G.props,null,q.mode,ue),ue.ref=Or(q,Q,G),ue.return=q,q=ue)}return F(q);case Qi:e:{for(ae=G.key;Q!==null;){if(Q.key===ae)if(Q.tag===4&&Q.stateNode.containerInfo===G.containerInfo&&Q.stateNode.implementation===G.implementation){o(q,Q.sibling),Q=x(Q,G.children||[]),Q.return=q,q=Q;break e}else{o(q,Q);break}else s(q,Q);Q=Q.sibling}Q=Hu(G,q.mode,ue),Q.return=q,q=Q}return F(q);case $n:return ae=G._init,Ae(q,Q,ae(G._payload),ue)}if(Br(G))return ge(q,Q,G,ue);if(Tr(G))return Y(q,Q,G,ue);qs(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,Q!==null&&Q.tag===6?(o(q,Q.sibling),Q=x(Q,G),Q.return=q,q=Q):(o(q,Q),Q=Uu(G,q.mode,ue),Q.return=q,q=Q),F(q)):o(q,Q)}return Ae}var _r=Oc(!0),Lc=Oc(!1),ys={},Fn=yi(ys),ls=yi(ys),hs=yi(ys);function Ai(n){if(n===ys)throw Error(we(174));return n}function dl(n,s){switch(ot(hs,s),ot(ls,n),ot(Fn,ys),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Yu(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Yu(s,n)}ct(Fn),ot(Fn,s)}function vr(){ct(Fn),ct(ls),ct(hs)}function Nc(n){Ai(hs.current);var s=Ai(Fn.current),o=Yu(s,n.type);s!==o&&(ot(ls,n),ot(Fn,o))}function gl(n){ls.current===n&&(ct(Fn),ct(ls))}var mt=yi(0);function xa(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nu=[];function _l(){for(var n=0;n<Nu.length;n++)Nu[n]._workInProgressVersionPrimary=null;Nu.length=0}var ea=Kn.ReactCurrentDispatcher,Fu=Kn.ReactCurrentBatchConfig,Di=0,yt=null,Tt=null,Lt=null,Pa=!1,Qr=!1,fs=0,C0=0;function jt(){throw Error(we(321))}function vl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!En(n[o],s[o]))return!1;return!0}function pl(n,s,o,d,x,g){if(Di=g,yt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ea.current=n===null||n.memoizedState===null?k0:I0,n=o(d,x),Qr){g=0;do{if(Qr=!1,fs=0,25<=g)throw Error(we(301));g+=1,Lt=Tt=null,s.updateQueue=null,ea.current=T0,n=o(d,x)}while(Qr)}if(ea.current=ba,s=Tt!==null&&Tt.next!==null,Di=0,Lt=Tt=yt=null,Pa=!1,s)throw Error(we(300));return n}function ml(){var n=fs!==0;return fs=0,n}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?yt.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function mn(){if(Tt===null){var n=yt.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var s=Lt===null?yt.memoizedState:Lt.next;if(s!==null)Lt=s,Tt=n;else{if(n===null)throw Error(we(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Lt===null?yt.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function cs(n,s){return typeof s=="function"?s(n):s}function Du(n){var s=mn(),o=s.queue;if(o===null)throw Error(we(311));o.lastRenderedReducer=n;var d=Tt,x=d.baseQueue,g=o.pending;if(g!==null){if(x!==null){var F=x.next;x.next=g.next,g.next=F}d.baseQueue=x=g,o.pending=null}if(x!==null){g=x.next,d=d.baseState;var H=F=null,j=null,X=g;do{var se=X.lane;if((Di&se)===se)j!==null&&(j=j.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),d=X.hasEagerState?X.eagerState:n(d,X.action);else{var J={lane:se,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};j===null?(H=j=J,F=d):j=j.next=J,yt.lanes|=se,Ri|=se}X=X.next}while(X!==null&&X!==g);j===null?F=d:j.next=H,En(d,s.memoizedState)||(en=!0),s.memoizedState=d,s.baseState=F,s.baseQueue=j,o.lastRenderedState=d}if(n=o.interleaved,n!==null){x=n;do g=x.lane,yt.lanes|=g,Ri|=g,x=x.next;while(x!==n)}else x===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Ru(n){var s=mn(),o=s.queue;if(o===null)throw Error(we(311));o.lastRenderedReducer=n;var d=o.dispatch,x=o.pending,g=s.memoizedState;if(x!==null){o.pending=null;var F=x=x.next;do g=n(g,F.action),F=F.next;while(F!==x);En(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,d]}function Fc(){}function Dc(n,s){var o=yt,d=mn(),x=s(),g=!En(d.memoizedState,x);if(g&&(d.memoizedState=x,en=!0),d=d.queue,yl(Vc.bind(null,o,d,n),[n]),d.getSnapshot!==s||g||Lt!==null&&Lt.memoizedState.tag&1){if(o.flags|=2048,ds(9,Bc.bind(null,o,d,x,s),void 0,null),Nt===null)throw Error(we(349));(Di&30)!==0||Rc(o,s,x)}return x}function Rc(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Bc(n,s,o,d){s.value=o,s.getSnapshot=d,Uc(s)&&Hc(n)}function Vc(n,s,o){return o(function(){Uc(s)&&Hc(n)})}function Uc(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!En(n,o)}catch(d){return!0}}function Hc(n){var s=Gn(n,1);s!==null&&Tn(s,n,1,-1)}function Wh(n){var s=On();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},s.queue=n,n=n.dispatch=b0.bind(null,yt,n),[s.memoizedState,n]}function ds(n,s,o,d){return n={tag:n,create:s,destroy:o,deps:d,next:null},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,s.lastEffect=n)),n}function qc(){return mn().memoizedState}function ta(n,s,o,d){var x=On();yt.flags|=n,x.memoizedState=ds(1|s,o,void 0,d===void 0?null:d)}function Va(n,s,o,d){var x=mn();d=d===void 0?null:d;var g=void 0;if(Tt!==null){var F=Tt.memoizedState;if(g=F.destroy,d!==null&&vl(d,F.deps)){x.memoizedState=ds(s,o,g,d);return}}yt.flags|=n,x.memoizedState=ds(1|s,o,g,d)}function Zh(n,s){return ta(8390656,8,n,s)}function yl(n,s){return Va(2048,8,n,s)}function jc(n,s){return Va(4,2,n,s)}function Wc(n,s){return Va(4,4,n,s)}function Zc(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Gc(n,s,o){return o=o!=null?o.concat([n]):null,Va(4,4,Zc.bind(null,s,n),o)}function wl(){}function Qc(n,s){var o=mn();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&vl(s,d[1])?d[0]:(o.memoizedState=[n,s],n)}function Kc(n,s){var o=mn();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&vl(s,d[1])?d[0]:(n=n(),o.memoizedState=[n,s],n)}function Xc(n,s,o){return(Di&21)===0?(n.baseState&&(n.baseState=!1,en=!0),n.memoizedState=o):(En(o,s)||(o=$f(),yt.lanes|=o,Ri|=o,n.baseState=!0),s)}function x0(n,s){var o=it;it=o!==0&&4>o?o:4,n(!0);var d=Fu.transition;Fu.transition={};try{n(!1),s()}finally{it=o,Fu.transition=d}}function Jc(){return mn().memoizedState}function P0(n,s,o){var d=fi(n);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Yc(n))$c(s,o);else if(o=Ec(n,s,o,d),o!==null){var x=Kt();Tn(o,n,d,x),ed(o,s,d)}}function b0(n,s,o){var d=fi(n),x={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yc(n))$c(s,x);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var F=s.lastRenderedState,H=g(F,o);if(x.hasEagerState=!0,x.eagerState=H,En(H,F)){var j=s.interleaved;j===null?(x.next=x,fl(s)):(x.next=j.next,j.next=x),s.interleaved=x;return}}catch(X){}finally{}o=Ec(n,s,x,d),o!==null&&(x=Kt(),Tn(o,n,d,x),ed(o,s,d))}}function Yc(n){var s=n.alternate;return n===yt||s!==null&&s===yt}function $c(n,s){Qr=Pa=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function ed(n,s,o){if((o&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,Jo(n,o)}}var ba={readContext:pn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},k0={readContext:pn,useCallback:function(n,s){return On().memoizedState=[n,s===void 0?null:s],n},useContext:pn,useEffect:Zh,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,ta(4194308,4,Zc.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ta(4194308,4,n,s)},useInsertionEffect:function(n,s){return ta(4,2,n,s)},useMemo:function(n,s){var o=On();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var d=On();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=P0.bind(null,yt,n),[d.memoizedState,n]},useRef:function(n){var s=On();return n={current:n},s.memoizedState=n},useState:Wh,useDebugValue:wl,useDeferredValue:function(n){return On().memoizedState=n},useTransition:function(){var n=Wh(!1),s=n[0];return n=x0.bind(null,n[1]),On().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var d=yt,x=On();if(gt){if(o===void 0)throw Error(we(407));o=o()}else{if(o=s(),Nt===null)throw Error(we(349));(Di&30)!==0||Rc(d,s,o)}x.memoizedState=o;var g={value:o,getSnapshot:s};return x.queue=g,Zh(Vc.bind(null,d,g,n),[n]),d.flags|=2048,ds(9,Bc.bind(null,d,g,o,s),void 0,null),o},useId:function(){var n=On(),s=Nt.identifierPrefix;if(gt){var o=qn,d=Hn;o=(d&~(1<<32-In(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=fs++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=C0++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},I0={readContext:pn,useCallback:Qc,useContext:pn,useEffect:yl,useImperativeHandle:Gc,useInsertionEffect:jc,useLayoutEffect:Wc,useMemo:Kc,useReducer:Du,useRef:qc,useState:function(){return Du(cs)},useDebugValue:wl,useDeferredValue:function(n){var s=mn();return Xc(s,Tt.memoizedState,n)},useTransition:function(){var n=Du(cs)[0],s=mn().memoizedState;return[n,s]},useMutableSource:Fc,useSyncExternalStore:Dc,useId:Jc,unstable_isNewReconciler:!1},T0={readContext:pn,useCallback:Qc,useContext:pn,useEffect:yl,useImperativeHandle:Gc,useInsertionEffect:jc,useLayoutEffect:Wc,useMemo:Kc,useReducer:Ru,useRef:qc,useState:function(){return Ru(cs)},useDebugValue:wl,useDeferredValue:function(n){var s=mn();return Tt===null?s.memoizedState=n:Xc(s,Tt.memoizedState,n)},useTransition:function(){var n=Ru(cs)[0],s=mn().memoizedState;return[n,s]},useMutableSource:Fc,useSyncExternalStore:Dc,useId:Jc,unstable_isNewReconciler:!1};function pr(n,s){try{var o="",d=s;do o+=n_(d),d=d.return;while(d);var x=o}catch(g){x=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:x,digest:null}}function Bu(n,s,o){return{value:n,source:null,stack:o!=null?o:null,digest:s!=null?s:null}}function Co(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function td(n,s,o){o=jn(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){Ia||(Ia=!0,Ao=d),Co(n,s)},o}function nd(n,s,o){o=jn(-1,o),o.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var x=s.value;o.payload=function(){return d(x)},o.callback=function(){Co(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Co(n,s),typeof d!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),o}function Gh(n,s,o){var d=n.pingCache;if(d===null){d=n.pingCache=new E0;var x=new Set;d.set(s,x)}else x=d.get(s),x===void 0&&(x=new Set,d.set(s,x));x.has(o)||(x.add(o),n=q0.bind(null,n,s,o),s.then(n,n))}function Qh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Kh(n,s,o,d,x){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=jn(-1,1),s.tag=2,li(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var z0=Kn.ReactCurrentOwner,en=!1;function Qt(n,s,o,d){s.child=n===null?Lc(s,null,o,d):_r(s,n.child,o,d)}function Xh(n,s,o,d,x){o=o.render;var g=s.ref;return hr(s,x),d=pl(n,s,o,d,g,x),o=ml(),n!==null&&!en?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Qn(n,s,x)):(gt&&o&&sl(s),s.flags|=1,Qt(n,s,d,x),s.child)}function Jh(n,s,o,d,x){if(n===null){var g=o.type;return typeof g=="function"&&!Tl(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,id(n,s,g,d,x)):(n=sa(o.type,null,d,s,s.mode,x),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&x)===0){var F=g.memoizedProps;if(o=o.compare,o=o!==null?o:ss,o(F,d)&&n.ref===s.ref)return Qn(n,s,x)}return s.flags|=1,n=ci(g,d),n.ref=s.ref,n.return=s,s.child=n}function id(n,s,o,d,x){if(n!==null){var g=n.memoizedProps;if(ss(g,d)&&n.ref===s.ref)if(en=!1,s.pendingProps=d=g,(n.lanes&x)!==0)(n.flags&131072)!==0&&(en=!0);else return s.lanes=n.lanes,Qn(n,s,x)}return xo(n,s,o,d,x)}function rd(n,s,o){var d=s.pendingProps,x=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(sr,an),an|=o;else{if((o&1073741824)===0)return n=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,ot(sr,an),an|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,ot(sr,an),an|=d}else g!==null?(d=g.baseLanes|o,s.memoizedState=null):d=o,ot(sr,an),an|=d;return Qt(n,s,x,o),s.child}function sd(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function xo(n,s,o,d,x){var g=nn(o)?Ni:Gt.current;return g=dr(s,g),hr(s,x),o=pl(n,s,o,d,g,x),d=ml(),n!==null&&!en?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Qn(n,s,x)):(gt&&d&&sl(s),s.flags|=1,Qt(n,s,o,x),s.child)}function Yh(n,s,o,d,x){if(nn(o)){var g=!0;pa(s)}else g=!1;if(hr(s,x),s.stateNode===null)na(n,s),Ac(s,o,d),So(s,o,d,x),d=!0;else if(n===null){var F=s.stateNode,H=s.memoizedProps;F.props=H;var j=F.context,X=o.contextType;typeof X=="object"&&X!==null?X=pn(X):(X=nn(o)?Ni:Gt.current,X=dr(s,X));var se=o.getDerivedStateFromProps,J=typeof se=="function"||typeof F.getSnapshotBeforeUpdate=="function";J||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(H!==d||j!==X)&&qh(s,F,d,X),ei=!1;var ne=s.memoizedState;F.state=ne,Ca(s,d,F,x),j=s.memoizedState,H!==d||ne!==j||tn.current||ei?(typeof se=="function"&&(wo(s,o,se,d),j=s.memoizedState),(H=ei||Hh(s,o,H,d,ne,j,X))?(J||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),F.props=d,F.state=j,F.context=X,d=H):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{F=s.stateNode,zc(n,s),H=s.memoizedProps,X=s.type===s.elementType?H:Pn(s.type,H),F.props=X,J=s.pendingProps,ne=F.context,j=o.contextType,typeof j=="object"&&j!==null?j=pn(j):(j=nn(o)?Ni:Gt.current,j=dr(s,j));var L=o.getDerivedStateFromProps;(se=typeof L=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(H!==J||ne!==j)&&qh(s,F,d,j),ei=!1,ne=s.memoizedState,F.state=ne,Ca(s,d,F,x);var ge=s.memoizedState;H!==J||ne!==ge||tn.current||ei?(typeof L=="function"&&(wo(s,o,L,d),ge=s.memoizedState),(X=ei||Hh(s,o,X,d,ne,ge,j)||!1)?(se||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(d,ge,j),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(d,ge,j)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||H===n.memoizedProps&&ne===n.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&ne===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),F.props=d,F.state=ge,F.context=j,d=X):(typeof F.componentDidUpdate!="function"||H===n.memoizedProps&&ne===n.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||H===n.memoizedProps&&ne===n.memoizedState||(s.flags|=1024),d=!1)}return Po(n,s,o,d,g,x)}function Po(n,s,o,d,x,g){sd(n,s);var F=(s.flags&128)!==0;if(!d&&!F)return x&&Dh(s,o,!1),Qn(n,s,g);d=s.stateNode,z0.current=s;var H=F&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&F?(s.child=_r(s,n.child,null,g),s.child=_r(s,null,H,g)):Qt(n,s,H,g),s.memoizedState=d.state,x&&Dh(s,o,!0),s.child}function ad(n){var s=n.stateNode;s.pendingContext?Fh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Fh(n,s.context,!1),dl(n,s.containerInfo)}function $h(n,s,o,d,x){return gr(),ul(x),s.flags|=256,Qt(n,s,o,d),s.child}var bo={dehydrated:null,treeContext:null,retryLane:0};function ko(n){return{baseLanes:n,cachePool:null,transitions:null}}function ud(n,s,o){var d=s.pendingProps,x=mt.current,g=!1,F=(s.flags&128)!==0,H;if((H=F)||(H=n!==null&&n.memoizedState===null?!1:(x&2)!==0),H?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),ot(mt,x&1),n===null)return mo(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(F=d.children,n=d.fallback,g?(d=s.mode,g=s.child,F={mode:"hidden",children:F},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=F):g=qa(F,d,0,null),n=Li(n,d,o,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=ko(o),s.memoizedState=bo,n):Sl(s,F));if(x=n.memoizedState,x!==null&&(H=x.dehydrated,H!==null))return M0(n,s,F,d,H,x,o);if(g){g=d.fallback,F=s.mode,x=n.child,H=x.sibling;var j={mode:"hidden",children:d.children};return(F&1)===0&&s.child!==x?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=ci(x,j),d.subtreeFlags=x.subtreeFlags&14680064),H!==null?g=ci(H,g):(g=Li(g,F,o,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,F=n.child.memoizedState,F=F===null?ko(o):{baseLanes:F.baseLanes|o,cachePool:null,transitions:F.transitions},g.memoizedState=F,g.childLanes=n.childLanes&~o,s.memoizedState=bo,d}return g=n.child,n=g.sibling,d=ci(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=d,s.memoizedState=null,d}function Sl(n,s){return s=qa({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function js(n,s,o,d){return d!==null&&ul(d),_r(s,n.child,null,o),n=Sl(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function M0(n,s,o,d,x,g,F){if(o)return s.flags&256?(s.flags&=-257,d=Bu(Error(we(422))),js(n,s,F,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,x=s.mode,d=qa({mode:"visible",children:d.children},x,0,null),g=Li(g,x,F,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&_r(s,n.child,null,F),s.child.memoizedState=ko(F),s.memoizedState=bo,g);if((s.mode&1)===0)return js(n,s,F,null);if(x.data==="$!"){if(d=x.nextSibling&&x.nextSibling.dataset,d)var H=d.dgst;return d=H,g=Error(we(419)),d=Bu(g,d,void 0),js(n,s,F,d)}if(H=(F&n.childLanes)!==0,en||H){if(d=Nt,d!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(d.suspendedLanes|F))!==0?0:x,x!==0&&x!==g.retryLane&&(g.retryLane=x,Gn(n,x),Tn(d,n,x,-1))}return Il(),d=Bu(Error(we(421))),js(n,s,F,d)}return x.data==="$?"?(s.flags|=128,s.child=n.child,s=j0.bind(null,n),x._reactRetry=s,null):(n=g.treeContext,un=oi(x.nextSibling),on=s,gt=!0,kn=null,n!==null&&(dn[gn++]=Hn,dn[gn++]=qn,dn[gn++]=Fi,Hn=n.id,qn=n.overflow,Fi=s),s=Sl(s,d.children),s.flags|=4096,s)}function ef(n,s,o){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),yo(n.return,s,o)}function Vu(n,s,o,d,x){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:x}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=x)}function od(n,s,o){var d=s.pendingProps,x=d.revealOrder,g=d.tail;if(Qt(n,s,d.children,o),d=mt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ef(n,o,s);else if(n.tag===19)ef(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(ot(mt,d),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(o=s.child,x=null;o!==null;)n=o.alternate,n!==null&&xa(n)===null&&(x=o),o=o.sibling;o=x,o===null?(x=s.child,s.child=null):(x=o.sibling,o.sibling=null),Vu(s,!1,x,o,g);break;case"backwards":for(o=null,x=s.child,s.child=null;x!==null;){if(n=x.alternate,n!==null&&xa(n)===null){s.child=x;break}n=x.sibling,x.sibling=o,o=x,x=n}Vu(s,!0,o,null,g);break;case"together":Vu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function na(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Qn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ri|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(we(153));if(s.child!==null){for(n=s.child,o=ci(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ci(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function A0(n,s,o){switch(s.tag){case 3:ad(s),gr();break;case 5:Nc(s);break;case 1:nn(s.type)&&pa(s);break;case 4:dl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,x=s.memoizedProps.value;ot(wa,d._currentValue),d._currentValue=x;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ot(mt,mt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?ud(n,s,o):(ot(mt,mt.current&1),n=Qn(n,s,o),n!==null?n.sibling:null);ot(mt,mt.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(n.flags&128)!==0){if(d)return od(n,s,o);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ot(mt,mt.current),d)break;return null;case 22:case 23:return s.lanes=0,rd(n,s,o)}return Qn(n,s,o)}var ld,Io,hd,fd;ld=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Io=function(){};hd=function(n,s,o,d){var x=n.memoizedProps;if(x!==d){n=s.stateNode,Ai(Fn.current);var g=null;switch(o){case"input":x=Qu(n,x),d=Qu(n,d),g=[];break;case"select":x=wt({},x,{value:void 0}),d=wt({},d,{value:void 0}),g=[];break;case"textarea":x=Ju(n,x),d=Ju(n,d),g=[];break;default:typeof x.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=_a)}$u(o,d);var F;o=null;for(X in x)if(!d.hasOwnProperty(X)&&x.hasOwnProperty(X)&&x[X]!=null)if(X==="style"){var H=x[X];for(F in H)H.hasOwnProperty(F)&&(o||(o={}),o[F]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(Yr.hasOwnProperty(X)?g||(g=[]):(g=g||[]).push(X,null));for(X in d){var j=d[X];if(H=x!=null?x[X]:void 0,d.hasOwnProperty(X)&&j!==H&&(j!=null||H!=null))if(X==="style")if(H){for(F in H)!H.hasOwnProperty(F)||j&&j.hasOwnProperty(F)||(o||(o={}),o[F]="");for(F in j)j.hasOwnProperty(F)&&H[F]!==j[F]&&(o||(o={}),o[F]=j[F])}else o||(g||(g=[]),g.push(X,o)),o=j;else X==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,H=H?H.__html:void 0,j!=null&&H!==j&&(g=g||[]).push(X,j)):X==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(X,""+j):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(X)?(j!=null&&X==="onScroll"&&ft("scroll",n),g||H===j||(g=[])):(g=g||[]).push(X,j))}o&&(g=g||[]).push("style",o);var X=g;(s.updateQueue=X)&&(s.flags|=4)}};fd=function(n,s,o,d){o!==d&&(s.flags|=4)};function Lr(n,s){if(!gt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Wt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(s)for(var x=n.child;x!==null;)o|=x.lanes|x.childLanes,d|=x.subtreeFlags&14680064,d|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)o|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=d,n.childLanes=o,s}function O0(n,s,o){var d=s.pendingProps;switch(al(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return nn(s.type)&&va(),Wt(s),null;case 3:return d=s.stateNode,vr(),ct(tn),ct(Gt),_l(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Hs(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kn!==null&&(No(kn),kn=null))),Io(n,s),Wt(s),null;case 5:gl(s);var x=Ai(hs.current);if(o=s.type,n!==null&&s.stateNode!=null)hd(n,s,o,d,x),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(we(166));return Wt(s),null}if(n=Ai(Fn.current),Hs(s)){d=s.stateNode,o=s.type;var g=s.memoizedProps;switch(d[Ln]=s,d[os]=g,n=(s.mode&1)!==0,o){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(x=0;x<Ur.length;x++)ft(Ur[x],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":lh(d,g),ft("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ft("invalid",d);break;case"textarea":fh(d,g),ft("invalid",d)}$u(o,g),x=null;for(var F in g)if(g.hasOwnProperty(F)){var H=g[F];F==="children"?typeof H=="string"?d.textContent!==H&&(g.suppressHydrationWarning!==!0&&Us(d.textContent,H,n),x=["children",H]):typeof H=="number"&&d.textContent!==""+H&&(g.suppressHydrationWarning!==!0&&Us(d.textContent,H,n),x=["children",""+H]):Yr.hasOwnProperty(F)&&H!=null&&F==="onScroll"&&ft("scroll",d)}switch(o){case"input":Os(d),hh(d,g,!0);break;case"textarea":Os(d),ch(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=_a)}d=x,s.updateQueue=d,d!==null&&(s.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Rf(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=F.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=F.createElement(o,{is:d.is}):(n=F.createElement(o),o==="select"&&(F=n,d.multiple?F.multiple=!0:d.size&&(F.size=d.size))):n=F.createElementNS(n,o),n[Ln]=s,n[os]=d,ld(n,s,!1,!1),s.stateNode=n;e:{switch(F=eo(o,d),o){case"dialog":ft("cancel",n),ft("close",n),x=d;break;case"iframe":case"object":case"embed":ft("load",n),x=d;break;case"video":case"audio":for(x=0;x<Ur.length;x++)ft(Ur[x],n);x=d;break;case"source":ft("error",n),x=d;break;case"img":case"image":case"link":ft("error",n),ft("load",n),x=d;break;case"details":ft("toggle",n),x=d;break;case"input":lh(n,d),x=Qu(n,d),ft("invalid",n);break;case"option":x=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},x=wt({},d,{value:void 0}),ft("invalid",n);break;case"textarea":fh(n,d),x=Ju(n,d),ft("invalid",n);break;default:x=d}$u(o,x),H=x;for(g in H)if(H.hasOwnProperty(g)){var j=H[g];g==="style"?Uf(n,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Bf(n,j)):g==="children"?typeof j=="string"?(o!=="textarea"||j!=="")&&$r(n,j):typeof j=="number"&&$r(n,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Yr.hasOwnProperty(g)?j!=null&&g==="onScroll"&&ft("scroll",n):j!=null&&Wo(n,g,j,F))}switch(o){case"input":Os(n),hh(n,d,!1);break;case"textarea":Os(n),ch(n);break;case"option":d.value!=null&&n.setAttribute("value",""+vi(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?ar(n,!!d.multiple,g,!1):d.defaultValue!=null&&ar(n,!!d.multiple,d.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=_a)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Wt(s),null;case 6:if(n&&s.stateNode!=null)fd(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(we(166));if(o=Ai(hs.current),Ai(Fn.current),Hs(s)){if(d=s.stateNode,o=s.memoizedProps,d[Ln]=s,(g=d.nodeValue!==o)&&(n=on,n!==null))switch(n.tag){case 3:Us(d.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Us(d.nodeValue,o,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Ln]=s,s.stateNode=d}return Wt(s),null;case 13:if(ct(mt),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(gt&&un!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Tc(),gr(),s.flags|=98560,g=!1;else if(g=Hs(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(we(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(we(317));g[Ln]=s}else gr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),g=!1}else kn!==null&&(No(kn),kn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(mt.current&1)!==0?Et===0&&(Et=3):Il())),s.updateQueue!==null&&(s.flags|=4),Wt(s),null);case 4:return vr(),Io(n,s),n===null&&as(s.stateNode.containerInfo),Wt(s),null;case 10:return hl(s.type._context),Wt(s),null;case 17:return nn(s.type)&&va(),Wt(s),null;case 19:if(ct(mt),g=s.memoizedState,g===null)return Wt(s),null;if(d=(s.flags&128)!==0,F=g.rendering,F===null)if(d)Lr(g,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(F=xa(n),F!==null){for(s.flags|=128,Lr(g,!1),d=F.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)g=o,n=d,g.flags&=14680066,F=g.alternate,F===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=F.childLanes,g.lanes=F.lanes,g.child=F.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=F.memoizedProps,g.memoizedState=F.memoizedState,g.updateQueue=F.updateQueue,g.type=F.type,n=F.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return ot(mt,mt.current&1|2),s.child}n=n.sibling}g.tail!==null&&Pt()>mr&&(s.flags|=128,d=!0,Lr(g,!1),s.lanes=4194304)}else{if(!d)if(n=xa(F),n!==null){if(s.flags|=128,d=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Lr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!F.alternate&&!gt)return Wt(s),null}else 2*Pt()-g.renderingStartTime>mr&&o!==1073741824&&(s.flags|=128,d=!0,Lr(g,!1),s.lanes=4194304);g.isBackwards?(F.sibling=s.child,s.child=F):(o=g.last,o!==null?o.sibling=F:s.child=F,g.last=F)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Pt(),s.sibling=null,o=mt.current,ot(mt,d?o&1|2:o&1),s):(Wt(s),null);case 22:case 23:return kl(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(an&1073741824)!==0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),null;case 24:return null;case 25:return null}throw Error(we(156,s.tag))}function L0(n,s){switch(al(s),s.tag){case 1:return nn(s.type)&&va(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return vr(),ct(tn),ct(Gt),_l(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return gl(s),null;case 13:if(ct(mt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(we(340));gr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ct(mt),null;case 4:return vr(),null;case 10:return hl(s.type._context),null;case 22:case 23:return kl(),null;case 24:return null;default:return null}}var Ws=!1,Zt=!1,N0=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function rr(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){xt(n,s,d)}else o.current=null}function To(n,s,o){try{o()}catch(d){xt(n,s,d)}}var tf=!1;function F0(n,s){if(ho=ca,n=_c(),rl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var x=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch(ue){o=null;break e}var F=0,H=-1,j=-1,X=0,se=0,J=n,ne=null;t:for(;;){for(var L;J!==o||x!==0&&J.nodeType!==3||(H=F+x),J!==g||d!==0&&J.nodeType!==3||(j=F+d),J.nodeType===3&&(F+=J.nodeValue.length),(L=J.firstChild)!==null;)ne=J,J=L;for(;;){if(J===n)break t;if(ne===o&&++X===x&&(H=F),ne===g&&++se===d&&(j=F),(L=J.nextSibling)!==null)break;J=ne,ne=J.parentNode}J=L}o=H===-1||j===-1?null:{start:H,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(fo={focusedElem:n,selectionRange:o},ca=!1,Ie=s;Ie!==null;)if(s=Ie,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ie=n;else for(;Ie!==null;){s=Ie;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var Y=ge.memoizedProps,Ae=ge.memoizedState,q=s.stateNode,Q=q.getSnapshotBeforeUpdate(s.elementType===s.type?Y:Pn(s.type,Y),Ae);q.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(ue){xt(s,s.return,ue)}if(n=s.sibling,n!==null){n.return=s.return,Ie=n;break}Ie=s.return}return ge=tf,tf=!1,ge}function Kr(n,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&n)===n){var g=x.destroy;x.destroy=void 0,g!==void 0&&To(s,o,g)}x=x.next}while(x!==d)}}function Ua(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function Eo(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function cd(n){var s=n.alternate;s!==null&&(n.alternate=null,cd(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Ln],delete s[os],delete s[_o],delete s[m0],delete s[y0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function dd(n){return n.tag===5||n.tag===3||n.tag===4}function nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zo(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_a));else if(d!==4&&(n=n.child,n!==null))for(zo(n,s,o),n=n.sibling;n!==null;)zo(n,s,o),n=n.sibling}function Mo(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Mo(n,s,o),n=n.sibling;n!==null;)Mo(n,s,o),n=n.sibling}var Bt=null,bn=!1;function Yn(n,s,o){for(o=o.child;o!==null;)gd(n,s,o),o=o.sibling}function gd(n,s,o){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Oa,o)}catch(H){}switch(o.tag){case 5:Zt||rr(o,s);case 6:var d=Bt,x=bn;Bt=null,Yn(n,s,o),Bt=d,bn=x,Bt!==null&&(bn?(n=Bt,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Bt.removeChild(o.stateNode));break;case 18:Bt!==null&&(bn?(n=Bt,o=o.stateNode,n.nodeType===8?Ou(n.parentNode,o):n.nodeType===1&&Ou(n,o),is(n)):Ou(Bt,o.stateNode));break;case 4:d=Bt,x=bn,Bt=o.stateNode.containerInfo,bn=!0,Yn(n,s,o),Bt=d,bn=x;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){x=d=d.next;do{var g=x,F=g.destroy;g=g.tag,F!==void 0&&((g&2)!==0||(g&4)!==0)&&To(o,s,F),x=x.next}while(x!==d)}Yn(n,s,o);break;case 1:if(!Zt&&(rr(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(H){xt(o,s,H)}Yn(n,s,o);break;case 21:Yn(n,s,o);break;case 22:o.mode&1?(Zt=(d=Zt)||o.memoizedState!==null,Yn(n,s,o),Zt=d):Yn(n,s,o);break;default:Yn(n,s,o)}}function rf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new N0),s.forEach(function(d){var x=W0.bind(null,n,d);o.has(d)||(o.add(d),d.then(x,x))})}}function xn(n,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var x=o[d];try{var g=n,F=s,H=F;e:for(;H!==null;){switch(H.tag){case 5:Bt=H.stateNode,bn=!1;break e;case 3:Bt=H.stateNode.containerInfo,bn=!0;break e;case 4:Bt=H.stateNode.containerInfo,bn=!0;break e}H=H.return}if(Bt===null)throw Error(we(160));gd(g,F,x),Bt=null,bn=!1;var j=x.alternate;j!==null&&(j.return=null),x.return=null}catch(X){xt(x,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_d(s,n),s=s.sibling}function _d(n,s){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(xn(s,n),An(n),d&4){try{Kr(3,n,n.return),Ua(3,n)}catch(Y){xt(n,n.return,Y)}try{Kr(5,n,n.return)}catch(Y){xt(n,n.return,Y)}}break;case 1:xn(s,n),An(n),d&512&&o!==null&&rr(o,o.return);break;case 5:if(xn(s,n),An(n),d&512&&o!==null&&rr(o,o.return),n.flags&32){var x=n.stateNode;try{$r(x,"")}catch(Y){xt(n,n.return,Y)}}if(d&4&&(x=n.stateNode,x!=null)){var g=n.memoizedProps,F=o!==null?o.memoizedProps:g,H=n.type,j=n.updateQueue;if(n.updateQueue=null,j!==null)try{H==="input"&&g.type==="radio"&&g.name!=null&&Ff(x,g),eo(H,F);var X=eo(H,g);for(F=0;F<j.length;F+=2){var se=j[F],J=j[F+1];se==="style"?Uf(x,J):se==="dangerouslySetInnerHTML"?Bf(x,J):se==="children"?$r(x,J):Wo(x,se,J,X)}switch(H){case"input":Ku(x,g);break;case"textarea":Df(x,g);break;case"select":var ne=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!g.multiple;var L=g.value;L!=null?ar(x,!!g.multiple,L,!1):ne!==!!g.multiple&&(g.defaultValue!=null?ar(x,!!g.multiple,g.defaultValue,!0):ar(x,!!g.multiple,g.multiple?[]:"",!1))}x[os]=g}catch(Y){xt(n,n.return,Y)}}break;case 6:if(xn(s,n),An(n),d&4){if(n.stateNode===null)throw Error(we(162));x=n.stateNode,g=n.memoizedProps;try{x.nodeValue=g}catch(Y){xt(n,n.return,Y)}}break;case 3:if(xn(s,n),An(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{is(s.containerInfo)}catch(Y){xt(n,n.return,Y)}break;case 4:xn(s,n),An(n);break;case 13:xn(s,n),An(n),x=n.child,x.flags&8192&&(g=x.memoizedState!==null,x.stateNode.isHidden=g,!g||x.alternate!==null&&x.alternate.memoizedState!==null||(Pl=Pt())),d&4&&rf(n);break;case 22:if(se=o!==null&&o.memoizedState!==null,n.mode&1?(Zt=(X=Zt)||se,xn(s,n),Zt=X):xn(s,n),An(n),d&8192){if(X=n.memoizedState!==null,(n.stateNode.isHidden=X)&&!se&&(n.mode&1)!==0)for(Ie=n,se=n.child;se!==null;){for(J=Ie=se;Ie!==null;){switch(ne=Ie,L=ne.child,ne.tag){case 0:case 11:case 14:case 15:Kr(4,ne,ne.return);break;case 1:rr(ne,ne.return);var ge=ne.stateNode;if(typeof ge.componentWillUnmount=="function"){d=ne,o=ne.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(Y){xt(d,o,Y)}}break;case 5:rr(ne,ne.return);break;case 22:if(ne.memoizedState!==null){af(J);continue}}L!==null?(L.return=ne,Ie=L):af(J)}se=se.sibling}e:for(se=null,J=n;;){if(J.tag===5){if(se===null){se=J;try{x=J.stateNode,X?(g=x.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(H=J.stateNode,j=J.memoizedProps.style,F=j!=null&&j.hasOwnProperty("display")?j.display:null,H.style.display=Vf("display",F))}catch(Y){xt(n,n.return,Y)}}}else if(J.tag===6){if(se===null)try{J.stateNode.nodeValue=X?"":J.memoizedProps}catch(Y){xt(n,n.return,Y)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;se===J&&(se=null),J=J.return}se===J&&(se=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:xn(s,n),An(n),d&4&&rf(n);break;case 21:break;default:xn(s,n),An(n)}}function An(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(dd(o)){var d=o;break e}o=o.return}throw Error(we(160))}switch(d.tag){case 5:var x=d.stateNode;d.flags&32&&($r(x,""),d.flags&=-33);var g=nf(n);Mo(n,g,x);break;case 3:case 4:var F=d.stateNode.containerInfo,H=nf(n);zo(n,H,F);break;default:throw Error(we(161))}}catch(j){xt(n,n.return,j)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function D0(n,s,o){Ie=n,vd(n)}function vd(n,s,o){for(var d=(n.mode&1)!==0;Ie!==null;){var x=Ie,g=x.child;if(x.tag===22&&d){var F=x.memoizedState!==null||Ws;if(!F){var H=x.alternate,j=H!==null&&H.memoizedState!==null||Zt;H=Ws;var X=Zt;if(Ws=F,(Zt=j)&&!X)for(Ie=x;Ie!==null;)F=Ie,j=F.child,F.tag===22&&F.memoizedState!==null?uf(x):j!==null?(j.return=F,Ie=j):uf(x);for(;g!==null;)Ie=g,vd(g),g=g.sibling;Ie=x,Ws=H,Zt=X}sf(n)}else(x.subtreeFlags&8772)!==0&&g!==null?(g.return=x,Ie=g):sf(n)}}function sf(n){for(;Ie!==null;){var s=Ie;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Zt||Ua(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Zt)if(o===null)d.componentDidMount();else{var x=s.elementType===s.type?o.memoizedProps:Pn(s.type,o.memoizedProps);d.componentDidUpdate(x,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Uh(s,g,d);break;case 3:var F=s.updateQueue;if(F!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Uh(s,F,o)}break;case 5:var H=s.stateNode;if(o===null&&s.flags&4){o=H;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&o.focus();break;case"img":j.src&&(o.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var se=X.memoizedState;if(se!==null){var J=se.dehydrated;J!==null&&is(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Zt||s.flags&512&&Eo(s)}catch(ne){xt(s,s.return,ne)}}if(s===n){Ie=null;break}if(o=s.sibling,o!==null){o.return=s.return,Ie=o;break}Ie=s.return}}function af(n){for(;Ie!==null;){var s=Ie;if(s===n){Ie=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ie=o;break}Ie=s.return}}function uf(n){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ua(4,s)}catch(j){xt(s,o,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var x=s.return;try{d.componentDidMount()}catch(j){xt(s,x,j)}}var g=s.return;try{Eo(s)}catch(j){xt(s,g,j)}break;case 5:var F=s.return;try{Eo(s)}catch(j){xt(s,F,j)}}}catch(j){xt(s,s.return,j)}if(s===n){Ie=null;break}var H=s.sibling;if(H!==null){H.return=s.return,Ie=H;break}Ie=s.return}}var R0=Math.ceil,ka=Kn.ReactCurrentDispatcher,Cl=Kn.ReactCurrentOwner,vn=Kn.ReactCurrentBatchConfig,$e=0,Nt=null,kt=null,Vt=0,an=0,sr=yi(0),Et=0,gs=null,Ri=0,Ha=0,xl=0,Xr=null,$t=null,Pl=0,mr=1/0,Vn=null,Ia=!1,Ao=null,hi=null,Zs=!1,ri=null,Ta=0,Jr=0,Oo=null,ia=-1,ra=0;function Kt(){return($e&6)!==0?Pt():ia!==-1?ia:ia=Pt()}function fi(n){return(n.mode&1)===0?1:($e&2)!==0&&Vt!==0?Vt&-Vt:S0.transition!==null?(ra===0&&(ra=$f()),ra):(n=it,n!==0||(n=window.event,n=n===void 0?16:ac(n.type)),n)}function Tn(n,s,o,d){if(50<Jr)throw Jr=0,Oo=null,Error(we(185));vs(n,o,d),(($e&2)===0||n!==Nt)&&(n===Nt&&(($e&2)===0&&(Ha|=o),Et===4&&ni(n,Vt)),rn(n,d),o===1&&$e===0&&(s.mode&1)===0&&(mr=Pt()+500,Ra&&wi()))}function rn(n,s){var o=n.callbackNode;S_(n,s);var d=fa(n,n===Nt?Vt:0);if(d===0)o!==null&&_h(o),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(o!=null&&_h(o),s===1)n.tag===0?w0(of.bind(null,n)):bc(of.bind(null,n)),v0(function(){($e&6)===0&&wi()}),o=null;else{switch(ec(d)){case 1:o=Xo;break;case 4:o=Jf;break;case 16:o=ha;break;case 536870912:o=Yf;break;default:o=ha}o=Pd(o,pd.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function pd(n,s){if(ia=-1,ra=0,($e&6)!==0)throw Error(we(327));var o=n.callbackNode;if(fr()&&n.callbackNode!==o)return null;var d=fa(n,n===Nt?Vt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=Ea(n,d);else{s=d;var x=$e;$e|=2;var g=yd();(Nt!==n||Vt!==s)&&(Vn=null,mr=Pt()+500,Oi(n,s));do try{U0();break}catch(H){md(n,H)}while(1);ll(),ka.current=g,$e=x,kt!==null?s=0:(Nt=null,Vt=0,s=Et)}if(s!==0){if(s===2&&(x=so(n),x!==0&&(d=x,s=Lo(n,x))),s===1)throw o=gs,Oi(n,0),ni(n,d),rn(n,Pt()),o;if(s===6)ni(n,d);else{if(x=n.current.alternate,(d&30)===0&&!B0(x)&&(s=Ea(n,d),s===2&&(g=so(n),g!==0&&(d=g,s=Lo(n,g))),s===1))throw o=gs,Oi(n,0),ni(n,d),rn(n,Pt()),o;switch(n.finishedWork=x,n.finishedLanes=d,s){case 0:case 1:throw Error(we(345));case 2:Ei(n,$t,Vn);break;case 3:if(ni(n,d),(d&130023424)===d&&(s=Pl+500-Pt(),10<s)){if(fa(n,0)!==0)break;if(x=n.suspendedLanes,(x&d)!==d){Kt(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=go(Ei.bind(null,n,$t,Vn),s);break}Ei(n,$t,Vn);break;case 4:if(ni(n,d),(d&4194240)===d)break;for(s=n.eventTimes,x=-1;0<d;){var F=31-In(d);g=1<<F,F=s[F],F>x&&(x=F),d&=~g}if(d=x,d=Pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*R0(d/1960))-d,10<d){n.timeoutHandle=go(Ei.bind(null,n,$t,Vn),d);break}Ei(n,$t,Vn);break;case 5:Ei(n,$t,Vn);break;default:throw Error(we(329))}}}return rn(n,Pt()),n.callbackNode===o?pd.bind(null,n):null}function Lo(n,s){var o=Xr;return n.current.memoizedState.isDehydrated&&(Oi(n,s).flags|=256),n=Ea(n,s),n!==2&&(s=$t,$t=o,s!==null&&No(s)),n}function No(n){$t===null?$t=n:$t.push.apply($t,n)}function B0(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var x=o[d],g=x.getSnapshot;x=x.value;try{if(!En(g(),x))return!1}catch(F){return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ni(n,s){for(s&=~xl,s&=~Ha,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-In(s),d=1<<o;n[o]=-1,s&=~d}}function of(n){if(($e&6)!==0)throw Error(we(327));fr();var s=fa(n,0);if((s&1)===0)return rn(n,Pt()),null;var o=Ea(n,s);if(n.tag!==0&&o===2){var d=so(n);d!==0&&(s=d,o=Lo(n,d))}if(o===1)throw o=gs,Oi(n,0),ni(n,s),rn(n,Pt()),o;if(o===6)throw Error(we(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ei(n,$t,Vn),rn(n,Pt()),null}function bl(n,s){var o=$e;$e|=1;try{return n(s)}finally{$e=o,$e===0&&(mr=Pt()+500,Ra&&wi())}}function Bi(n){ri!==null&&ri.tag===0&&($e&6)===0&&fr();var s=$e;$e|=1;var o=vn.transition,d=it;try{if(vn.transition=null,it=1,n)return n()}finally{it=d,vn.transition=o,$e=s,($e&6)===0&&wi()}}function kl(){an=sr.current,ct(sr)}function Oi(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,_0(o)),kt!==null)for(o=kt.return;o!==null;){var d=o;switch(al(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&va();break;case 3:vr(),ct(tn),ct(Gt),_l();break;case 5:gl(d);break;case 4:vr();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:hl(d.type._context);break;case 22:case 23:kl()}o=o.return}if(Nt=n,kt=n=ci(n.current,null),Vt=an=s,Et=0,gs=null,xl=Ha=Ri=0,$t=Xr=null,Mi!==null){for(s=0;s<Mi.length;s++)if(o=Mi[s],d=o.interleaved,d!==null){o.interleaved=null;var x=d.next,g=o.pending;if(g!==null){var F=g.next;g.next=x,d.next=F}o.pending=d}Mi=null}return n}function md(n,s){do{var o=kt;try{if(ll(),ea.current=ba,Pa){for(var d=yt.memoizedState;d!==null;){var x=d.queue;x!==null&&(x.pending=null),d=d.next}Pa=!1}if(Di=0,Lt=Tt=yt=null,Qr=!1,fs=0,Cl.current=null,o===null||o.return===null){Et=1,gs=s,kt=null;break}e:{var g=n,F=o.return,H=o,j=s;if(s=Vt,H.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=j,se=H,J=se.tag;if((se.mode&1)===0&&(J===0||J===11||J===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var L=Qh(F);if(L!==null){L.flags&=-257,Kh(L,F,H,g,s),L.mode&1&&Gh(g,X,s),s=L,j=X;var ge=s.updateQueue;if(ge===null){var Y=new Set;Y.add(j),s.updateQueue=Y}else ge.add(j);break e}else{if((s&1)===0){Gh(g,X,s),Il();break e}j=Error(we(426))}}else if(gt&&H.mode&1){var Ae=Qh(F);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),Kh(Ae,F,H,g,s),ul(pr(j,H));break e}}g=j=pr(j,H),Et!==4&&(Et=2),Xr===null?Xr=[g]:Xr.push(g),g=F;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=td(g,j,s);Vh(g,q);break e;case 1:H=j;var Q=g.type,G=g.stateNode;if((g.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(hi===null||!hi.has(G)))){g.flags|=65536,s&=-s,g.lanes|=s;var ue=nd(g,H,s);Vh(g,ue);break e}}g=g.return}while(g!==null)}Sd(o)}catch(ve){s=ve,kt===o&&o!==null&&(kt=o=o.return);continue}break}while(1)}function yd(){var n=ka.current;return ka.current=ba,n===null?ba:n}function Il(){(Et===0||Et===3||Et===2)&&(Et=4),Nt===null||(Ri&268435455)===0&&(Ha&268435455)===0||ni(Nt,Vt)}function Ea(n,s){var o=$e;$e|=2;var d=yd();(Nt!==n||Vt!==s)&&(Vn=null,Oi(n,s));do try{V0();break}catch(x){md(n,x)}while(1);if(ll(),$e=o,ka.current=d,kt!==null)throw Error(we(261));return Nt=null,Vt=0,Et}function V0(){for(;kt!==null;)wd(kt)}function U0(){for(;kt!==null&&!c_();)wd(kt)}function wd(n){var s=xd(n.alternate,n,an);n.memoizedProps=n.pendingProps,s===null?Sd(n):kt=s,Cl.current=null}function Sd(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=O0(o,s,an),o!==null){kt=o;return}}else{if(o=L0(o,s),o!==null){o.flags&=32767,kt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,kt=null;return}}if(s=s.sibling,s!==null){kt=s;return}kt=s=n}while(s!==null);Et===0&&(Et=5)}function Ei(n,s,o){var d=it,x=vn.transition;try{vn.transition=null,it=1,H0(n,s,o,d)}finally{vn.transition=x,it=d}return null}function H0(n,s,o,d){do fr();while(ri!==null);if(($e&6)!==0)throw Error(we(327));o=n.finishedWork;var x=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(we(177));n.callbackNode=null,n.callbackPriority=0;var g=o.lanes|o.childLanes;if(C_(n,g),n===Nt&&(kt=Nt=null,Vt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Zs||(Zs=!0,Pd(ha,function(){return fr(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=vn.transition,vn.transition=null;var F=it;it=1;var H=$e;$e|=4,Cl.current=null,F0(n,o),_d(o,n),o0(fo),ca=!!ho,fo=ho=null,n.current=o,D0(o),d_(),$e=H,it=F,vn.transition=g}else n.current=o;if(Zs&&(Zs=!1,ri=n,Ta=x),g=n.pendingLanes,g===0&&(hi=null),v_(o.stateNode),rn(n,Pt()),s!==null)for(d=n.onRecoverableError,o=0;o<s.length;o++)x=s[o],d(x.value,{componentStack:x.stack,digest:x.digest});if(Ia)throw Ia=!1,n=Ao,Ao=null,n;return(Ta&1)!==0&&n.tag!==0&&fr(),g=n.pendingLanes,(g&1)!==0?n===Oo?Jr++:(Jr=0,Oo=n):Jr=0,wi(),null}function fr(){if(ri!==null){var n=ec(Ta),s=vn.transition,o=it;try{if(vn.transition=null,it=16>n?16:n,ri===null)var d=!1;else{if(n=ri,ri=null,Ta=0,($e&6)!==0)throw Error(we(331));var x=$e;for($e|=4,Ie=n.current;Ie!==null;){var g=Ie,F=g.child;if((Ie.flags&16)!==0){var H=g.deletions;if(H!==null){for(var j=0;j<H.length;j++){var X=H[j];for(Ie=X;Ie!==null;){var se=Ie;switch(se.tag){case 0:case 11:case 15:Kr(8,se,g)}var J=se.child;if(J!==null)J.return=se,Ie=J;else for(;Ie!==null;){se=Ie;var ne=se.sibling,L=se.return;if(cd(se),se===X){Ie=null;break}if(ne!==null){ne.return=L,Ie=ne;break}Ie=L}}}var ge=g.alternate;if(ge!==null){var Y=ge.child;if(Y!==null){ge.child=null;do{var Ae=Y.sibling;Y.sibling=null,Y=Ae}while(Y!==null)}}Ie=g}}if((g.subtreeFlags&2064)!==0&&F!==null)F.return=g,Ie=F;else e:for(;Ie!==null;){if(g=Ie,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Kr(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,Ie=q;break e}Ie=g.return}}var Q=n.current;for(Ie=Q;Ie!==null;){F=Ie;var G=F.child;if((F.subtreeFlags&2064)!==0&&G!==null)G.return=F,Ie=G;else e:for(F=Q;Ie!==null;){if(H=Ie,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Ua(9,H)}}catch(ve){xt(H,H.return,ve)}if(H===F){Ie=null;break e}var ue=H.sibling;if(ue!==null){ue.return=H.return,Ie=ue;break e}Ie=H.return}}if($e=x,wi(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Oa,n)}catch(ve){}d=!0}return d}finally{it=o,vn.transition=s}}return!1}function lf(n,s,o){s=pr(o,s),s=td(n,s,1),n=li(n,s,1),s=Kt(),n!==null&&(vs(n,1,s),rn(n,s))}function xt(n,s,o){if(n.tag===3)lf(n,n,o);else for(;s!==null;){if(s.tag===3){lf(s,n,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))){n=pr(o,n),n=nd(s,n,1),s=li(s,n,1),n=Kt(),s!==null&&(vs(s,1,n),rn(s,n));break}}s=s.return}}function q0(n,s,o){var d=n.pingCache;d!==null&&d.delete(s),s=Kt(),n.pingedLanes|=n.suspendedLanes&o,Nt===n&&(Vt&o)===o&&(Et===4||Et===3&&(Vt&130023424)===Vt&&500>Pt()-Pl?Oi(n,0):xl|=o),rn(n,s)}function Cd(n,s){s===0&&((n.mode&1)===0?s=1:(s=Fs,Fs<<=1,(Fs&130023424)===0&&(Fs=4194304)));var o=Kt();n=Gn(n,s),n!==null&&(vs(n,s,o),rn(n,o))}function j0(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Cd(n,o)}function W0(n,s){var o=0;switch(n.tag){case 13:var d=n.stateNode,x=n.memoizedState;x!==null&&(o=x.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(we(314))}d!==null&&d.delete(s),Cd(n,o)}var xd;xd=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||tn.current)en=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return en=!1,A0(n,s,o);en=(n.flags&131072)!==0}else en=!1,gt&&(s.flags&1048576)!==0&&kc(s,ya,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;na(n,s),n=s.pendingProps;var x=dr(s,Gt.current);hr(s,o),x=pl(null,s,d,n,x,o);var g=ml();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(d)?(g=!0,pa(s)):g=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,cl(s),x.updater=Ba,s.stateNode=x,x._reactInternals=s,So(s,d,n,o),s=Po(null,s,d,!0,g,o)):(s.tag=0,gt&&g&&sl(s),Qt(null,s,x,o),s=s.child),s;case 16:d=s.elementType;e:{switch(na(n,s),n=s.pendingProps,x=d._init,d=x(d._payload),s.type=d,x=s.tag=G0(d),n=Pn(d,n),x){case 0:s=xo(null,s,d,n,o);break e;case 1:s=Yh(null,s,d,n,o);break e;case 11:s=Xh(null,s,d,n,o);break e;case 14:s=Jh(null,s,d,Pn(d.type,n),o);break e}throw Error(we(306,d,""))}return s;case 0:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),xo(n,s,d,x,o);case 1:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),Yh(n,s,d,x,o);case 3:e:{if(ad(s),n===null)throw Error(we(387));d=s.pendingProps,g=s.memoizedState,x=g.element,zc(n,s),Ca(s,d,null,o);var F=s.memoizedState;if(d=F.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){x=pr(Error(we(423)),s),s=$h(n,s,d,o,x);break e}else if(d!==x){x=pr(Error(we(424)),s),s=$h(n,s,d,o,x);break e}else for(un=oi(s.stateNode.containerInfo.firstChild),on=s,gt=!0,kn=null,o=Lc(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gr(),d===x){s=Qn(n,s,o);break e}Qt(n,s,d,o)}s=s.child}return s;case 5:return Nc(s),n===null&&mo(s),d=s.type,x=s.pendingProps,g=n!==null?n.memoizedProps:null,F=x.children,co(d,x)?F=null:g!==null&&co(d,g)&&(s.flags|=32),sd(n,s),Qt(n,s,F,o),s.child;case 6:return n===null&&mo(s),null;case 13:return ud(n,s,o);case 4:return dl(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=_r(s,null,d,o):Qt(n,s,d,o),s.child;case 11:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),Xh(n,s,d,x,o);case 7:return Qt(n,s,s.pendingProps,o),s.child;case 8:return Qt(n,s,s.pendingProps.children,o),s.child;case 12:return Qt(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,x=s.pendingProps,g=s.memoizedProps,F=x.value,ot(wa,d._currentValue),d._currentValue=F,g!==null)if(En(g.value,F)){if(g.children===x.children&&!tn.current){s=Qn(n,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var H=g.dependencies;if(H!==null){F=g.child;for(var j=H.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=jn(-1,o&-o),j.tag=2;var X=g.updateQueue;if(X!==null){X=X.shared;var se=X.pending;se===null?j.next=j:(j.next=se.next,se.next=j),X.pending=j}}g.lanes|=o,j=g.alternate,j!==null&&(j.lanes|=o),yo(g.return,o,s),H.lanes|=o;break}j=j.next}}else if(g.tag===10)F=g.type===s.type?null:g.child;else if(g.tag===18){if(F=g.return,F===null)throw Error(we(341));F.lanes|=o,H=F.alternate,H!==null&&(H.lanes|=o),yo(F,o,s),F=g.sibling}else F=g.child;if(F!==null)F.return=g;else for(F=g;F!==null;){if(F===s){F=null;break}if(g=F.sibling,g!==null){g.return=F.return,F=g;break}F=F.return}g=F}Qt(n,s,x.children,o),s=s.child}return s;case 9:return x=s.type,d=s.pendingProps.children,hr(s,o),x=pn(x),d=d(x),s.flags|=1,Qt(n,s,d,o),s.child;case 14:return d=s.type,x=Pn(d,s.pendingProps),x=Pn(d.type,x),Jh(n,s,d,x,o);case 15:return id(n,s,s.type,s.pendingProps,o);case 17:return d=s.type,x=s.pendingProps,x=s.elementType===d?x:Pn(d,x),na(n,s),s.tag=1,nn(d)?(n=!0,pa(s)):n=!1,hr(s,o),Ac(s,d,x),So(s,d,x,o),Po(null,s,d,!0,n,o);case 19:return od(n,s,o);case 22:return rd(n,s,o)}throw Error(we(156,s.tag))};function Pd(n,s){return Xf(n,s)}function Z0(n,s,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,s,o,d){return new Z0(n,s,o,d)}function Tl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function G0(n){if(typeof n=="function")return Tl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Go)return 11;if(n===Qo)return 14}return 2}function ci(n,s){var o=n.alternate;return o===null?(o=_n(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function sa(n,s,o,d,x,g){var F=2;if(d=n,typeof n=="function")Tl(n)&&(F=1);else if(typeof n=="string")F=5;else e:switch(n){case Ki:return Li(o.children,x,g,s);case Zo:F=8,x|=8;break;case ju:return n=_n(12,o,s,x|2),n.elementType=ju,n.lanes=g,n;case Wu:return n=_n(13,o,s,x),n.elementType=Wu,n.lanes=g,n;case Zu:return n=_n(19,o,s,x),n.elementType=Zu,n.lanes=g,n;case Of:return qa(o,x,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Mf:F=10;break e;case Af:F=9;break e;case Go:F=11;break e;case Qo:F=14;break e;case $n:F=16,d=null;break e}throw Error(we(130,n==null?n:typeof n,""))}return s=_n(F,o,s,x),s.elementType=n,s.type=d,s.lanes=g,s}function Li(n,s,o,d){return n=_n(7,n,d,s),n.lanes=o,n}function qa(n,s,o,d){return n=_n(22,n,d,s),n.elementType=Of,n.lanes=o,n.stateNode={isHidden:!1},n}function Uu(n,s,o){return n=_n(6,n,null,s),n.lanes=o,n}function Hu(n,s,o){return s=_n(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Q0(n,s,o,d,x){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=d,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function El(n,s,o,d,x,g,F,H,j){return n=new Q0(n,s,o,H,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=_n(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},cl(g),n}function K0(n,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:d==null?null:""+d,children:n,containerInfo:s,implementation:o}}function bd(n){if(!n)return pi;n=n._reactInternals;e:{if(Ui(n)!==n||n.tag!==1)throw Error(we(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(we(171))}if(n.tag===1){var o=n.type;if(nn(o))return Pc(n,o,s)}return s}function kd(n,s,o,d,x,g,F,H,j){return n=El(o,d,!0,n,x,g,F,H,j),n.context=bd(null),o=n.current,d=Kt(),x=fi(o),g=jn(d,x),g.callback=s!=null?s:null,li(o,g,x),n.current.lanes=x,vs(n,x,d),rn(n,d),n}function ja(n,s,o,d){var x=s.current,g=Kt(),F=fi(x);return o=bd(o),s.context===null?s.context=o:s.pendingContext=o,s=jn(g,F),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=li(x,s,F),n!==null&&(Tn(n,x,F,g),$s(n,x,F)),F}function za(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hf(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function zl(n,s){hf(n,s),(n=n.alternate)&&hf(n,s)}function X0(){return null}var Id=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ml(n){this._internalRoot=n}Wa.prototype.render=Ml.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(we(409));ja(n,s,null,null)};Wa.prototype.unmount=Ml.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Bi(function(){ja(null,n,null,null)}),s[Zn]=null}};function Wa(n){this._internalRoot=n}Wa.prototype.unstable_scheduleHydration=function(n){if(n){var s=ic();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ti.length&&s!==0&&s<ti[o].priority;o++);ti.splice(o,0,n),o===0&&sc(n)}};function Al(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Za(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ff(){}function J0(n,s,o,d,x){if(x){if(typeof d=="function"){var g=d;d=function(){var X=za(F);g.call(X)}}var F=kd(s,d,n,0,null,!1,!1,"",ff);return n._reactRootContainer=F,n[Zn]=F.current,as(n.nodeType===8?n.parentNode:n),Bi(),F}for(;x=n.lastChild;)n.removeChild(x);if(typeof d=="function"){var H=d;d=function(){var X=za(j);H.call(X)}}var j=El(n,0,!1,null,null,!1,!1,"",ff);return n._reactRootContainer=j,n[Zn]=j.current,as(n.nodeType===8?n.parentNode:n),Bi(function(){ja(s,j,o,d)}),j}function Ga(n,s,o,d,x){var g=o._reactRootContainer;if(g){var F=g;if(typeof x=="function"){var H=x;x=function(){var j=za(F);H.call(j)}}ja(s,F,n,x)}else F=J0(o,s,n,x,d);return za(F)}tc=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Vr(s.pendingLanes);o!==0&&(Jo(s,o|1),rn(s,Pt()),($e&6)===0&&(mr=Pt()+500,wi()))}break;case 13:Bi(function(){var d=Gn(n,1);if(d!==null){var x=Kt();Tn(d,n,1,x)}}),zl(n,1)}};Yo=function(n){if(n.tag===13){var s=Gn(n,134217728);if(s!==null){var o=Kt();Tn(s,n,134217728,o)}zl(n,134217728)}};nc=function(n){if(n.tag===13){var s=fi(n),o=Gn(n,s);if(o!==null){var d=Kt();Tn(o,n,s,d)}zl(n,s)}};ic=function(){return it};rc=function(n,s){var o=it;try{return it=n,s()}finally{it=o}};no=function(n,s,o){switch(s){case"input":if(Ku(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==n&&d.form===n.form){var x=Da(d);if(!x)throw Error(we(90));Nf(d),Ku(d,x)}}}break;case"textarea":Df(n,o);break;case"select":s=o.value,s!=null&&ar(n,!!o.multiple,s,!1)}};jf=bl;Wf=Bi;var Y0={usingClientEntryPoint:!1,Events:[ms,$i,Da,Hf,qf,bl]},Nr={findFiberByHostInstance:zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$0={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Qf(n),n===null?null:n.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||X0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Oa=Gs.inject($0),Nn=Gs}catch(n){}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y0;hn.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(s))throw Error(we(200));return K0(n,s,null,o)};hn.createRoot=function(n,s){if(!Al(n))throw Error(we(299));var o=!1,d="",x=Id;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=El(n,1,!1,null,null,o,!1,d,x),n[Zn]=s.current,as(n.nodeType===8?n.parentNode:n),new Ml(s)};hn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(we(188)):(n=Object.keys(n).join(","),Error(we(268,n)));return n=Qf(s),n=n===null?null:n.stateNode,n};hn.flushSync=function(n){return Bi(n)};hn.hydrate=function(n,s,o){if(!Za(s))throw Error(we(200));return Ga(null,n,s,!0,o)};hn.hydrateRoot=function(n,s,o){if(!Al(n))throw Error(we(405));var d=o!=null&&o.hydratedSources||null,x=!1,g="",F=Id;if(o!=null&&(o.unstable_strictMode===!0&&(x=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(F=o.onRecoverableError)),s=kd(s,null,n,1,o!=null?o:null,x,!1,g,F),n[Zn]=s.current,as(n),d)for(n=0;n<d.length;n++)o=d[n],x=o._getVersion,x=x(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,x]:s.mutableSourceEagerHydrationData.push(o,x);return new Wa(s)};hn.render=function(n,s,o){if(!Za(s))throw Error(we(200));return Ga(null,n,s,!1,o)};hn.unmountComponentAtNode=function(n){if(!Za(n))throw Error(we(40));return n._reactRootContainer?(Bi(function(){Ga(null,null,n,!1,function(){n._reactRootContainer=null,n[Zn]=null})}),!0):!1};hn.unstable_batchedUpdates=bl;hn.unstable_renderSubtreeIntoContainer=function(n,s,o,d){if(!Za(o))throw Error(we(200));if(n==null||n._reactInternals===void 0)throw Error(we(38));return Ga(n,s,o,!1,d)};hn.version="18.2.0-next-9e3b772b8-20220608";function Td(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Td)}catch(n){console.error(n)}}Td(),kf.exports=hn;var Ed,cf=kf.exports;Ed=cf.createRoot,cf.hydrateRoot;const df=document.getElementById("root");df?Ed(df).render(Dr(Jg,{})):console.error("unable to find root");
